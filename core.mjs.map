{"version":3,"file":"core.mjs","sources":["../../../dist-dev/tsc-out/packages/qwik/src/core/util/qdev.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/flyweight.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/log.js","../../../dist-dev/tsc-out/packages/qwik/src/core/assert/assert.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/markers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/dom.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-core.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/array.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/promises.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl-class.js","../../../dist-dev/tsc-out/packages/qwik/src/core/platform/platform.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/error/stringify.js","../../../dist-dev/tsc-out/packages/qwik/src/core/error/error.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/element.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-host-element.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-store.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-lexical-scope.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-document.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/watch/watch.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/event.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/store.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props-obj-map.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/case.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/stringify.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/store.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/host.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/hash_code.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/qrl-styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/jsx-runtime.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/component-ctx.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/cursor.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/notify-render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/q-object.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-subscriber.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/component.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/factory.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/slot.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/version.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/render.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-context.js"],"sourcesContent":["/*@__PURE__*/ ((gbl) => {\n    // ensures unit tests have globalThis on Node10\n    // this will be removed from production builds\n    if (typeof globalThis === 'undefined') {\n        gbl.globalThis = gbl;\n    }\n})(typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof self !== 'undefined'\n            ? self\n            : {});\n// minification can replace the `globalThis.qDev` with `false`\n// which will remove all dev code within from the build\nexport const qDev = globalThis.qDev !== false;\nexport const qTest = globalThis.describe !== undefined;\nexport const qGlobal = globalThis;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWRldi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL3FkZXYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRTtJQUMxQiwrQ0FBK0M7SUFDL0MsOENBQThDO0lBQzlDLElBQUksT0FBTyxVQUFVLEtBQUssV0FBVyxFQUFFO1FBQ3JDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO0tBQ3RCO0FBQ0gsQ0FBQyxDQUFDLENBQ0EsT0FBTyxNQUFNLEtBQUssV0FBVztJQUMzQixDQUFDLENBQUMsTUFBTTtJQUNSLENBQUMsQ0FBQyxPQUFPLE1BQU0sS0FBSyxXQUFXO1FBQy9CLENBQUMsQ0FBQyxNQUFNO1FBQ1IsQ0FBQyxDQUFDLE9BQU8sSUFBSSxLQUFLLFdBQVc7WUFDN0IsQ0FBQyxDQUFDLElBQUk7WUFDTixDQUFDLENBQUMsRUFBRSxDQUNQLENBQUM7QUFFRiw4REFBOEQ7QUFDOUQsdURBQXVEO0FBQ3ZELE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBSSxVQUFrQixDQUFDLElBQUksS0FBSyxLQUFLLENBQUM7QUFDdkQsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFJLFVBQWtCLENBQUMsUUFBUSxLQUFLLFNBQVMsQ0FBQztBQUNoRSxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsVUFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qQF9fUFVSRV9fKi8gKChnYmw6IGFueSkgPT4ge1xuICAvLyBlbnN1cmVzIHVuaXQgdGVzdHMgaGF2ZSBnbG9iYWxUaGlzIG9uIE5vZGUxMFxuICAvLyB0aGlzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHByb2R1Y3Rpb24gYnVpbGRzXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBnYmwuZ2xvYmFsVGhpcyA9IGdibDtcbiAgfVxufSkoXG4gIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxcbiAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xuICAgID8gc2VsZlxuICAgIDoge31cbik7XG5cbi8vIG1pbmlmaWNhdGlvbiBjYW4gcmVwbGFjZSB0aGUgYGdsb2JhbFRoaXMucURldmAgd2l0aCBgZmFsc2VgXG4vLyB3aGljaCB3aWxsIHJlbW92ZSBhbGwgZGV2IGNvZGUgd2l0aGluIGZyb20gdGhlIGJ1aWxkXG5leHBvcnQgY29uc3QgcURldiA9IChnbG9iYWxUaGlzIGFzIGFueSkucURldiAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcVRlc3QgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLmRlc2NyaWJlICE9PSB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgcUdsb2JhbCA9IGdsb2JhbFRoaXMgYXMgYW55O1xuIl19","import { qDev } from './qdev';\nexport const EMPTY_ARRAY = [];\nexport const EMPTY_OBJ = {};\nif (qDev) {\n    Object.freeze(EMPTY_ARRAY);\n    Object.freeze(EMPTY_OBJ);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmx5d2VpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZmx5d2VpZ2h0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFOUIsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUM5QixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBRTVCLElBQUksSUFBSSxFQUFFO0lBQ1IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0NBQzFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcURldiB9IGZyb20gJy4vcWRldic7XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IHt9O1xuXG5pZiAocURldikge1xuICBPYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZKTtcbiAgT2JqZWN0LmZyZWV6ZShFTVBUWV9PQkopO1xufVxuIl19","import { qDev } from './qdev';\nconst STYLE = qDev\n    ? `background: #564CE0; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`\n    : '';\nexport const logError = (message, ...optionalParams) => {\n    // eslint-disable-next-line no-console\n    console.error('%cQWIK ERROR', STYLE, message, ...optionalParams);\n};\nexport const logWarn = (message, ...optionalParams) => {\n    // eslint-disable-next-line no-console\n    console.warn('%cQWIK WARN', STYLE, message, ...optionalParams);\n};\nexport const logDebug = (message, ...optionalParams) => {\n    if (qDev) {\n        // eslint-disable-next-line no-console\n        console.debug('%cQWIK', STYLE, message, ...optionalParams);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFOUIsTUFBTSxLQUFLLEdBQUcsSUFBSTtJQUNoQixDQUFDLENBQUMsNEZBQTRGO0lBQzlGLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFFUCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDbEUsc0NBQXNDO0lBQ3RDLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztBQUNuRSxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDakUsc0NBQXNDO0lBQ3RDLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztBQUNqRSxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDbEUsSUFBSSxJQUFJLEVBQUU7UUFDUixzQ0FBc0M7UUFDdEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLGNBQWMsQ0FBQyxDQUFDO0tBQzVEO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcURldiB9IGZyb20gJy4vcWRldic7XG5cbmNvbnN0IFNUWUxFID0gcURldlxuICA/IGBiYWNrZ3JvdW5kOiAjNTY0Q0UwOyBjb2xvcjogd2hpdGU7IHBhZGRpbmc6IDJweCAzcHg7IGJvcmRlci1yYWRpdXM6IDJweDsgZm9udC1zaXplOiAwLjhlbTtgXG4gIDogJyc7XG5cbmV4cG9ydCBjb25zdCBsb2dFcnJvciA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgY29uc29sZS5lcnJvcignJWNRV0lLIEVSUk9SJywgU1RZTEUsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dXYXJuID0gKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBjb25zb2xlLndhcm4oJyVjUVdJSyBXQVJOJywgU1RZTEUsIG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dEZWJ1ZyA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUuZGVidWcoJyVjUVdJSycsIFNUWUxFLCBtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gIH1cbn07XG4iXX0=","import { logError } from '../util/log';\nimport { qDev } from '../util/qdev';\nexport function assertDefined(value, text) {\n    if (qDev) {\n        if (value != null)\n            return;\n        throw newError(text || 'Expected defined value');\n    }\n}\nexport function assertNotPromise(value, text) {\n    if (qDev) {\n        if (!(value instanceof Promise))\n            return;\n        throw newError(text || 'Expected defined value.');\n    }\n}\nexport function assertDefinedAndNotPromise(value, text) {\n    if (qDev) {\n        assertDefined(value, text);\n        assertNotPromise(value, text);\n    }\n}\nexport function assertInstanceOf(value, type, text) {\n    if (qDev) {\n        if (value instanceof type)\n            return;\n        throw newError(text || `Expected value '${value}' to be instance of '${type}' but was '${typeOf(value)}'.`);\n    }\n}\nexport function assertString(value, text) {\n    if (qDev) {\n        if (typeof value === 'string')\n            return;\n        throw newError(text || `Expected value '${value}' to be 'string' but was '${typeOf(value)}'.`);\n    }\n}\nexport function assertNotEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 !== value2)\n            return;\n        throw newError(text || `Expected '${value1}' !== '${value2}'.`);\n    }\n}\nexport function assertEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 === value2)\n            return;\n        throw newError(text || `Expected '${value1}' === '${value2}'.`);\n    }\n}\nexport function assertLessOrEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 <= value2)\n            return;\n        throw newError(text || `Expected '${value1}' <= '${value2}'.`);\n    }\n}\nexport function assertLess(value1, value2, text) {\n    if (qDev) {\n        if (value1 < value2)\n            return;\n        throw newError(text || `Expected '${value1}' < '${value2}'.`);\n    }\n}\nexport function assertGreaterOrEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 >= value2)\n            return;\n        throw newError(text || `Expected '${value1}' >= '${value2}'.`);\n    }\n}\nexport function assertGreater(value1, value2, text) {\n    if (qDev) {\n        if (value1 > value2)\n            return;\n        throw newError(text || `Expected '${value1}' > '${value2}'.`);\n    }\n}\nfunction typeOf(value) {\n    if (value === null)\n        return 'null';\n    const type = typeof value;\n    if (type === 'object') {\n        return value?.constructor?.name || '<unknown>';\n    }\n    else {\n        return type;\n    }\n}\nfunction newError(text) {\n    debugger; // eslint-disable-line no-debugger\n    const error = new Error(text);\n    logError(error); // eslint-disable-line no-console\n    return error;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2Fzc2VydC9hc3NlcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sVUFBVSxhQUFhLENBQUMsS0FBVSxFQUFFLElBQWE7SUFDckQsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLEtBQUssSUFBSSxJQUFJO1lBQUUsT0FBTztRQUMxQixNQUFNLFFBQVEsQ0FBQyxJQUFJLElBQUksd0JBQXdCLENBQUMsQ0FBQztLQUNsRDtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsS0FBVSxFQUFFLElBQWE7SUFDeEQsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLENBQUMsQ0FBQyxLQUFLLFlBQVksT0FBTyxDQUFDO1lBQUUsT0FBTztRQUN4QyxNQUFNLFFBQVEsQ0FBQyxJQUFJLElBQUkseUJBQXlCLENBQUMsQ0FBQztLQUNuRDtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsMEJBQTBCLENBQUMsS0FBVSxFQUFFLElBQWE7SUFDbEUsSUFBSSxJQUFJLEVBQUU7UUFDUixhQUFhLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQzNCLGdCQUFnQixDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztLQUMvQjtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsS0FBVSxFQUFFLElBQVMsRUFBRSxJQUFhO0lBQ25FLElBQUksSUFBSSxFQUFFO1FBQ1IsSUFBSSxLQUFLLFlBQVksSUFBSTtZQUFFLE9BQU87UUFDbEMsTUFBTSxRQUFRLENBQ1osSUFBSSxJQUFJLG1CQUFtQixLQUFLLHdCQUF3QixJQUFJLGNBQWMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJ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IHsgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERlZmluZWQodmFsdWU6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZSAhPSBudWxsKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCAnRXhwZWN0ZWQgZGVmaW5lZCB2YWx1ZScpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROb3RQcm9taXNlKHZhbHVlOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2UpKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCAnRXhwZWN0ZWQgZGVmaW5lZCB2YWx1ZS4nKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RGVmaW5lZEFuZE5vdFByb21pc2UodmFsdWU6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGFzc2VydERlZmluZWQodmFsdWUsIHRleHQpO1xuICAgIGFzc2VydE5vdFByb21pc2UodmFsdWUsIHRleHQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRJbnN0YW5jZU9mKHZhbHVlOiBhbnksIHR5cGU6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHR5cGUpIHJldHVybjtcbiAgICB0aHJvdyBuZXdFcnJvcihcbiAgICAgIHRleHQgfHwgYEV4cGVjdGVkIHZhbHVlICcke3ZhbHVlfScgdG8gYmUgaW5zdGFuY2Ugb2YgJyR7dHlwZX0nIGJ1dCB3YXMgJyR7dHlwZU9mKHZhbHVlKX0nLmBcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRTdHJpbmcodmFsdWU6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCBgRXhwZWN0ZWQgdmFsdWUgJyR7dmFsdWV9JyB0byBiZSAnc3RyaW5nJyBidXQgd2FzICcke3R5cGVPZih2YWx1ZSl9Jy5gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0Tm90RXF1YWwodmFsdWUxOiBhbnksIHZhbHVlMjogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSAhPT0gdmFsdWUyKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCBgRXhwZWN0ZWQgJyR7dmFsdWUxfScgIT09ICcke3ZhbHVlMn0nLmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRFcXVhbCh2YWx1ZTE6IGFueSwgdmFsdWUyOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUxID09PSB2YWx1ZTIpIHJldHVybjtcbiAgICB0aHJvdyBuZXdFcnJvcih0ZXh0IHx8IGBFeHBlY3RlZCAnJHt2YWx1ZTF9JyA9PT0gJyR7dmFsdWUyfScuYCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydExlc3NPckVxdWFsKHZhbHVlMTogYW55LCB2YWx1ZTI6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgPD0gdmFsdWUyKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCBgRXhwZWN0ZWQgJyR7dmFsdWUxfScgPD0gJyR7dmFsdWUyfScuYCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydExlc3ModmFsdWUxOiBhbnksIHZhbHVlMjogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA8IHZhbHVlMikgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKHRleHQgfHwgYEV4cGVjdGVkICcke3ZhbHVlMX0nIDwgJyR7dmFsdWUyfScuYCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEdyZWF0ZXJPckVxdWFsKHZhbHVlMTogYW55LCB2YWx1ZTI6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgPj0gdmFsdWUyKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCBgRXhwZWN0ZWQgJyR7dmFsdWUxfScgPj0gJyR7dmFsdWUyfScuYCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEdyZWF0ZXIodmFsdWUxOiBhbnksIHZhbHVlMjogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA+IHZhbHVlMikgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKHRleHQgfHwgYEV4cGVjdGVkICcke3ZhbHVlMX0nID4gJyR7dmFsdWUyfScuYCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdHlwZU9mKHZhbHVlOiBhbnkpIHtcbiAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gdmFsdWU/LmNvbnN0cnVjdG9yPy5uYW1lIHx8ICc8dW5rbm93bj4nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIG5ld0Vycm9yKHRleHQ6IHN0cmluZykge1xuICBkZWJ1Z2dlcjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1kZWJ1Z2dlclxuICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcih0ZXh0KTtcbiAgbG9nRXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgcmV0dXJuIGVycm9yO1xufVxuIl19","/**\n * State factory of the component.\n */\nexport const OnMount = 'on:qmount';\n/**\n * State factory of the component.\n */\nexport const QHostAttr = 'q:host';\nexport const OnRenderProp = 'q:renderFn';\n/**\n * State factory of the component.\n */\nexport const QHostSelector = '[q\\\\:host]';\n/**\n * State factory of the component.\n */\nexport const OnUnmount = 'on:qunmount';\n/**\n * State factory of the component.\n */\nexport const OnResume = 'on:qinit';\n/**\n * Component Styles.\n */\nexport const ComponentScopedStyles = 'q:sstyle';\n/**\n * Unscoped Component Styles.\n */\nexport const ComponentUnscopedStyles = 'q:ustyle';\n/**\n * Component style host prefix\n */\nexport const ComponentStylesPrefixHost = '💎';\n/**\n * Component style content prefix\n */\nexport const ComponentStylesPrefixContent = '⭐️';\n/**\n * Prefix used to identify on listeners.\n */\nexport const EventPrefix = 'on:';\n/**\n * Attribute used to mark that an event listener is attached.\n */\nexport const EventAny = 'on:.';\n/**\n * Tag name used for projection.\n */\nexport const QSlot = 'Q:SLOT';\nexport const QSlotSelector = 'Q\\\\:SLOT';\n/**\n * `<some-element q:slot=\"...\">`\n */\nexport const QSlotAttr = 'q:slot';\nexport const QCtxAttr = 'q:ctx';\nexport const QContainerAttr = 'q:container';\nexport const QContainerSelector = '[q\\\\:container]';\nexport const RenderEvent = 'qRender';\n/**\n * `<q:slot name=\"...\">`\n */\nexport const QSlotName = 'name';\nexport const QSlotInertName = '\\u0000';\nexport const ELEMENT_ID = 'q:id';\nexport const ELEMENT_ID_SELECTOR = '[q\\\\:id]';\nexport const ELEMENT_ID_PREFIX = '#';\nexport const ELEMENT_ID_Q_PROPS_PREFIX = '&';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFya2Vycy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL21hcmtlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsV0FBVyxDQUFDO0FBRW5DOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQztBQUNsQyxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBRXpDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLFlBQVksQ0FBQztBQUUxQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxhQUFhLENBQUM7QUFFdkM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsVUFBVSxDQUFDO0FBRW5DOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsVUFBVSxDQUFDO0FBRWhEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsVUFBVSxDQUFDO0FBRWxEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsSUFBSSxDQUFDO0FBRTlDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sNEJBQTRCLEdBQUcsSUFBSSxDQUFDO0FBRWpEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQztBQUVqQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUM7QUFFL0I7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDO0FBQzlCLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxVQUFVLENBQUM7QUFFeEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDO0FBRWxDLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUM7QUFFaEMsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLGFBQWEsQ0FBQztBQUU1QyxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxpQkFBaUIsQ0FBQztBQUVwRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsU0FBUyxDQUFDO0FBQ3JDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQztBQUNoQyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUM7QUFDakMsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsVUFBVSxDQUFDO0FBQzlDLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLEdBQUcsQ0FBQztBQUNyQyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxHQUFHLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFN0YXRlIGZhY3Rvcnkgb2YgdGhlIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uTW91bnQgPSAnb246cW1vdW50JztcblxuLyoqXG4gKiBTdGF0ZSBmYWN0b3J5IG9mIHRoZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBRSG9zdEF0dHIgPSAncTpob3N0JztcbmV4cG9ydCBjb25zdCBPblJlbmRlclByb3AgPSAncTpyZW5kZXJGbic7XG5cbi8qKlxuICogU3RhdGUgZmFjdG9yeSBvZiB0aGUgY29tcG9uZW50LlxuICovXG5leHBvcnQgY29uc3QgUUhvc3RTZWxlY3RvciA9ICdbcVxcXFw6aG9zdF0nO1xuXG4vKipcbiAqIFN0YXRlIGZhY3Rvcnkgb2YgdGhlIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uVW5tb3VudCA9ICdvbjpxdW5tb3VudCc7XG5cbi8qKlxuICogU3RhdGUgZmFjdG9yeSBvZiB0aGUgY29tcG9uZW50LlxuICovXG5leHBvcnQgY29uc3QgT25SZXN1bWUgPSAnb246cWluaXQnO1xuXG4vKipcbiAqIENvbXBvbmVudCBTdHlsZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTY29wZWRTdHlsZXMgPSAncTpzc3R5bGUnO1xuXG4vKipcbiAqIFVuc2NvcGVkIENvbXBvbmVudCBTdHlsZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRVbnNjb3BlZFN0eWxlcyA9ICdxOnVzdHlsZSc7XG5cbi8qKlxuICogQ29tcG9uZW50IHN0eWxlIGhvc3QgcHJlZml4XG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTdHlsZXNQcmVmaXhIb3N0ID0gJ/Cfko4nO1xuXG4vKipcbiAqIENvbXBvbmVudCBzdHlsZSBjb250ZW50IHByZWZpeFxuICovXG5leHBvcnQgY29uc3QgQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCA9ICfirZDvuI8nO1xuXG4vKipcbiAqIFByZWZpeCB1c2VkIHRvIGlkZW50aWZ5IG9uIGxpc3RlbmVycy5cbiAqL1xuZXhwb3J0IGNvbnN0IEV2ZW50UHJlZml4ID0gJ29uOic7XG5cbi8qKlxuICogQXR0cmlidXRlIHVzZWQgdG8gbWFyayB0aGF0IGFuIGV2ZW50IGxpc3RlbmVyIGlzIGF0dGFjaGVkLlxuICovXG5leHBvcnQgY29uc3QgRXZlbnRBbnkgPSAnb246Lic7XG5cbi8qKlxuICogVGFnIG5hbWUgdXNlZCBmb3IgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFFTbG90ID0gJ1E6U0xPVCc7XG5leHBvcnQgY29uc3QgUVNsb3RTZWxlY3RvciA9ICdRXFxcXDpTTE9UJztcblxuLyoqXG4gKiBgPHNvbWUtZWxlbWVudCBxOnNsb3Q9XCIuLi5cIj5gXG4gKi9cbmV4cG9ydCBjb25zdCBRU2xvdEF0dHIgPSAncTpzbG90JztcblxuZXhwb3J0IGNvbnN0IFFDdHhBdHRyID0gJ3E6Y3R4JztcblxuZXhwb3J0IGNvbnN0IFFDb250YWluZXJBdHRyID0gJ3E6Y29udGFpbmVyJztcblxuZXhwb3J0IGNvbnN0IFFDb250YWluZXJTZWxlY3RvciA9ICdbcVxcXFw6Y29udGFpbmVyXSc7XG5cbmV4cG9ydCBjb25zdCBSZW5kZXJFdmVudCA9ICdxUmVuZGVyJztcbi8qKlxuICogYDxxOnNsb3QgbmFtZT1cIi4uLlwiPmBcbiAqL1xuZXhwb3J0IGNvbnN0IFFTbG90TmFtZSA9ICduYW1lJztcbmV4cG9ydCBjb25zdCBRU2xvdEluZXJ0TmFtZSA9ICdcXHUwMDAwJztcblxuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSUQgPSAncTppZCc7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JRF9TRUxFQ1RPUiA9ICdbcVxcXFw6aWRdJztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEX1BSRUZJWCA9ICcjJztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEX1FfUFJPUFNfUFJFRklYID0gJyYnO1xuIl19","import { assertDefined } from '../assert/assert';\nexport function getDocument(node) {\n    if (typeof document !== 'undefined') {\n        return document;\n    }\n    if (node.nodeType === 9) {\n        return node;\n    }\n    let doc = node.ownerDocument;\n    while (doc && doc.nodeType !== 9) {\n        doc = doc.parentNode;\n    }\n    assertDefined(doc);\n    return doc;\n}\nexport function getParentElement(node) {\n    return node.parentElement || previousParent.get(node) || null;\n}\nexport const previousParent = new WeakMap();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZG9tLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxNQUFNLFVBQVUsV0FBVyxDQUFDLElBQVU7SUFDcEMsSUFBSSxPQUFPLFFBQVEsS0FBSyxXQUFXLEVBQUU7UUFDbkMsT0FBTyxRQUFRLENBQUM7S0FDakI7SUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sSUFBZ0IsQ0FBQztLQUN6QjtJQUNELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDN0IsT0FBTyxHQUFHLElBQUksR0FBRyxDQUFDLFFBQVEsS0FBSyxDQUFDLEVBQUU7UUFDaEMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxVQUFpQixDQUFDO0tBQzdCO0lBQ0QsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25CLE9BQU8sR0FBSSxDQUFDO0FBQ2QsQ0FBQztBQUVELE1BQU0sVUFBVSxnQkFBZ0IsQ0FBQyxJQUFVO0lBQ3pDLE9BQU8sSUFBSSxDQUFDLGFBQWEsSUFBSSxjQUFjLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQztBQUNoRSxDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLElBQUksT0FBTyxFQUFpQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnQobm9kZTogTm9kZSk6IERvY3VtZW50IHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQ7XG4gIH1cbiAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDkpIHtcbiAgICByZXR1cm4gbm9kZSBhcyBEb2N1bWVudDtcbiAgfVxuICBsZXQgZG9jID0gbm9kZS5vd25lckRvY3VtZW50O1xuICB3aGlsZSAoZG9jICYmIGRvYy5ub2RlVHlwZSAhPT0gOSkge1xuICAgIGRvYyA9IGRvYy5wYXJlbnROb2RlIGFzIGFueTtcbiAgfVxuICBhc3NlcnREZWZpbmVkKGRvYyk7XG4gIHJldHVybiBkb2MhO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyZW50RWxlbWVudChub2RlOiBOb2RlKTogRWxlbWVudCB8IG51bGwge1xuICByZXR1cm4gbm9kZS5wYXJlbnRFbGVtZW50IHx8IHByZXZpb3VzUGFyZW50LmdldChub2RlKSB8fCBudWxsO1xufVxuXG5leHBvcnQgY29uc3QgcHJldmlvdXNQYXJlbnQgPSBuZXcgV2Vha01hcDxOb2RlLCBFbGVtZW50PigpO1xuIl19","import { assertDefined } from '../assert/assert';\nimport { QContainerSelector, QHostAttr } from '../util/markers';\nimport { getDocument } from '../util/dom';\nexport const CONTAINER = Symbol('container');\nexport function isStyleTask(obj) {\n    return obj && typeof obj === 'object' && obj.type === 'style';\n}\nlet _context;\nexport function tryGetInvokeContext() {\n    if (!_context) {\n        const context = typeof document !== 'undefined' && document && document.__q_context__;\n        if (!context) {\n            return undefined;\n        }\n        if (Array.isArray(context)) {\n            const element = context[0];\n            const hostElement = getHostElement(element);\n            assertDefined(element);\n            return (document.__q_context__ = newInvokeContext(getDocument(element), hostElement, element, context[1], context[2]));\n        }\n        return context;\n    }\n    return _context;\n}\nexport function getInvokeContext() {\n    const ctx = tryGetInvokeContext();\n    if (!ctx) {\n        throw new Error(\"Q-ERROR: invoking 'use*()' method outside of invocation context.\");\n    }\n    return ctx;\n}\nexport function useInvoke(context, fn, ...args) {\n    const previousContext = _context;\n    let returnValue;\n    try {\n        _context = context;\n        returnValue = fn.apply(null, args);\n    }\n    finally {\n        const currentCtx = _context;\n        _context = previousContext;\n        if (currentCtx.waitOn && currentCtx.waitOn.length > 0) {\n            // eslint-disable-next-line no-unsafe-finally\n            return Promise.all(currentCtx.waitOn).then(() => returnValue);\n        }\n    }\n    return returnValue;\n}\nexport function newInvokeContext(doc, hostElement, element, event, url) {\n    return {\n        seq: 0,\n        doc,\n        hostElement,\n        element,\n        event: event,\n        url: url || null,\n        qrl: undefined,\n    };\n}\n/**\n * @alpha\n */\nexport function useWaitOn(promise) {\n    const ctx = getInvokeContext();\n    (ctx.waitOn || (ctx.waitOn = [])).push(promise);\n}\nexport function getHostElement(el) {\n    let foundSlot = false;\n    let node = el;\n    while (node) {\n        const isHost = node.hasAttribute(QHostAttr);\n        const isSlot = node.tagName === 'Q:SLOT';\n        if (isHost) {\n            if (!foundSlot) {\n                break;\n            }\n            else {\n                foundSlot = false;\n            }\n        }\n        if (isSlot) {\n            foundSlot = true;\n        }\n        node = node.parentElement;\n    }\n    return node;\n}\nexport function getContainer(el) {\n    let container = el[CONTAINER];\n    if (!container) {\n        container = el.closest(QContainerSelector);\n        el[CONTAINER] = container;\n    }\n    return container;\n}\nexport function useContainerState() {\n    const ctx = getInvokeContext();\n    const containerState = ctx.renderCtx?.containerState;\n    if (!containerState) {\n        throw new Error('Cant access containerState for existing context');\n    }\n    return containerState;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQVExQyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBUTdDLE1BQU0sVUFBVSxXQUFXLENBQUMsR0FBUTtJQUNsQyxPQUFPLEdBQUcsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLElBQUksS0FBSyxPQUFPLENBQUM7QUFDaEUsQ0FBQztBQW1CRCxJQUFJLFFBQW1DLENBQUM7QUFFeEMsTUFBTSxVQUFVLG1CQUFtQjtJQUNqQyxJQUFJLENBQUMsUUFBUSxFQUFFO1FBQ2IsTUFBTSxPQUFPLEdBQUcsT0FBTyxRQUFRLEtBQUssV0FBVyxJQUFJLFFBQVEsSUFBSSxRQUFRLENBQUMsYUFBYSxDQUFDO1FBQ3RGLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDWixPQUFPLFNBQVMsQ0FBQztTQUNsQjtRQUNELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUMxQixNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsTUFBTSxXQUFXLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBRSxDQUFDO1lBQzdDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztZQUN2QixPQUFPLENBQUMsUUFBUSxDQUFDLGFBQWEsR0FBRyxnQkFBZ0IsQ0FDL0MsV0FBVyxDQUFDLE9BQU8sQ0FBQyxFQUNwQixXQUFXLEVBQ1gsT0FBTyxFQUNQ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QyxDQUFDO1FBQzFDLEVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxTQUFTLENBQUM7S0FDcEM7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBRUQsTUFBTSxVQUFVLGlCQUFpQjtJQUMvQixNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9CLE1BQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQyxTQUFTLEVBQUUsY0FBYyxDQUFDO0lBQ3JELElBQUksQ0FBQyxjQUFjLEVBQUU7UUFDbkIsTUFBTSxJQUFJLEtBQUssQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO0tBQ3BFO0lBQ0QsT0FBTyxjQUFjLENBQUM7QUFDeEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgUHJvcHMgfSBmcm9tICcuLi9wcm9wcy9wcm9wcy5wdWJsaWMnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHR5cGUgeyBRd2lrRG9jdW1lbnQgfSBmcm9tICcuLi9kb2N1bWVudCc7XG5pbXBvcnQgeyBRQ29udGFpbmVyU2VsZWN0b3IsIFFIb3N0QXR0ciB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi91c2Utc3Vic2NyaWJlcic7XG5pbXBvcnQgdHlwZSB7IFJlbmRlckNvbnRleHQgfSBmcm9tICcuLi9yZW5kZXIvY3Vyc29yJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyU3RhdGUgfSBmcm9tICcuLi9yZW5kZXIvbm90aWZ5LXJlbmRlcic7XG5cbmRlY2xhcmUgY29uc3QgZG9jdW1lbnQ6IFF3aWtEb2N1bWVudDtcblxuZXhwb3J0IGNvbnN0IENPTlRBSU5FUiA9IFN5bWJvbCgnY29udGFpbmVyJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3R5bGVBcHBlbmQge1xuICB0eXBlOiAnc3R5bGUnO1xuICBzdHlsZUlkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3R5bGVUYXNrKG9iajogYW55KTogb2JqIGlzIFN0eWxlQXBwZW5kIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmoudHlwZSA9PT0gJ3N0eWxlJztcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW52b2tlQ29udGV4dCB7XG4gIHVybDogVVJMIHwgbnVsbDtcbiAgc2VxOiBudW1iZXI7XG4gIGRvYz86IERvY3VtZW50O1xuICBob3N0RWxlbWVudD86IEVsZW1lbnQ7XG4gIGVsZW1lbnQ/OiBFbGVtZW50O1xuICBldmVudDogYW55O1xuICBxcmw/OiBRUkw8YW55PjtcbiAgd2FpdE9uPzogVmFsdWVPclByb21pc2U8YW55PltdO1xuICBwcm9wcz86IFByb3BzO1xuICBzdWJzY3JpYmVyPzogU3Vic2NyaWJlciB8IG51bGw7XG4gIHJlbmRlckN0eD86IFJlbmRlckNvbnRleHQ7XG59XG5cbmxldCBfY29udGV4dDogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGZ1bmN0aW9uIHRyeUdldEludm9rZUNvbnRleHQoKTogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZCB7XG4gIGlmICghX2NvbnRleHQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5fX3FfY29udGV4dF9fO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dCkpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb250ZXh0WzBdO1xuICAgICAgY29uc3QgaG9zdEVsZW1lbnQgPSBnZXRIb3N0RWxlbWVudChlbGVtZW50KSE7XG4gICAgICBhc3NlcnREZWZpbmVkKGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIChkb2N1bWVudC5fX3FfY29udGV4dF9fID0gbmV3SW52b2tlQ29udGV4dChcbiAgICAgICAgZ2V0RG9jdW1lbnQoZWxlbWVudCksXG4gICAgICAgIGhvc3RFbGVtZW50LFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBjb250ZXh0WzFdLFxuICAgICAgICBjb250ZXh0WzJdXG4gICAgICApKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQgYXMgSW52b2tlQ29udGV4dDtcbiAgfVxuICByZXR1cm4gX2NvbnRleHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnZva2VDb250ZXh0KCk6IEludm9rZUNvbnRleHQge1xuICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gIGlmICghY3R4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUS1FUlJPUjogaW52b2tpbmcgJ3VzZSooKScgbWV0aG9kIG91dHNpZGUgb2YgaW52b2NhdGlvbiBjb250ZXh0LlwiKTtcbiAgfVxuICByZXR1cm4gY3R4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlSW52b2tlPEFSR1MgZXh0ZW5kcyBhbnlbXSA9IGFueVtdLCBSRVQgPSBhbnk+KFxuICBjb250ZXh0OiBJbnZva2VDb250ZXh0LFxuICBmbjogKC4uLmFyZ3M6IEFSR1MpID0+IFJFVCxcbiAgLi4uYXJnczogQVJHU1xuKTogVmFsdWVPclByb21pc2U8UkVUPiB7XG4gIGNvbnN0IHByZXZpb3VzQ29udGV4dCA9IF9jb250ZXh0O1xuICBsZXQgcmV0dXJuVmFsdWU6IFJFVDtcbiAgdHJ5IHtcbiAgICBfY29udGV4dCA9IGNvbnRleHQ7XG4gICAgcmV0dXJuVmFsdWUgPSBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjb25zdCBjdXJyZW50Q3R4ID0gX2NvbnRleHQhO1xuICAgIF9jb250ZXh0ID0gcHJldmlvdXNDb250ZXh0O1xuICAgIGlmIChjdXJyZW50Q3R4LndhaXRPbiAmJiBjdXJyZW50Q3R4LndhaXRPbi5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5zYWZlLWZpbmFsbHlcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChjdXJyZW50Q3R4LndhaXRPbikudGhlbigoKSA9PiByZXR1cm5WYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXdJbnZva2VDb250ZXh0KFxuICBkb2M/OiBEb2N1bWVudCxcbiAgaG9zdEVsZW1lbnQ/OiBFbGVtZW50LFxuICBlbGVtZW50PzogRWxlbWVudCxcbiAgZXZlbnQ/OiBhbnksXG4gIHVybD86IFVSTFxuKTogSW52b2tlQ29udGV4dCB7XG4gIHJldHVybiB7XG4gICAgc2VxOiAwLFxuICAgIGRvYyxcbiAgICBob3N0RWxlbWVudCxcbiAgICBlbGVtZW50LFxuICAgIGV2ZW50OiBldmVudCxcbiAgICB1cmw6IHVybCB8fCBudWxsLFxuICAgIHFybDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlV2FpdE9uKHByb21pc2U6IFZhbHVlT3JQcm9taXNlPGFueT4pOiB2b2lkIHtcbiAgY29uc3QgY3R4ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICAoY3R4LndhaXRPbiB8fCAoY3R4LndhaXRPbiA9IFtdKSkucHVzaChwcm9taXNlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEhvc3RFbGVtZW50KGVsOiBFbGVtZW50KTogRWxlbWVudCB8IG51bGwge1xuICBsZXQgZm91bmRTbG90ID0gZmFsc2U7XG4gIGxldCBub2RlOiBFbGVtZW50IHwgbnVsbCA9IGVsO1xuICB3aGlsZSAobm9kZSkge1xuICAgIGNvbnN0IGlzSG9zdCA9IG5vZGUuaGFzQXR0cmlidXRlKFFIb3N0QXR0cik7XG4gICAgY29uc3QgaXNTbG90ID0gbm9kZS50YWdOYW1lID09PSAnUTpTTE9UJztcbiAgICBpZiAoaXNIb3N0KSB7XG4gICAgICBpZiAoIWZvdW5kU2xvdCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvdW5kU2xvdCA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNTbG90KSB7XG4gICAgICBmb3VuZFNsb3QgPSB0cnVlO1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGFpbmVyKGVsOiBFbGVtZW50KTogRWxlbWVudCB8IG51bGwge1xuICBsZXQgY29udGFpbmVyID0gKGVsIGFzIGFueSlbQ09OVEFJTkVSXTtcbiAgaWYgKCFjb250YWluZXIpIHtcbiAgICBjb250YWluZXIgPSBlbC5jbG9zZXN0KFFDb250YWluZXJTZWxlY3Rvcik7XG4gICAgKGVsIGFzIGFueSlbQ09OVEFJTkVSXSA9IGNvbnRhaW5lcjtcbiAgfVxuICByZXR1cm4gY29udGFpbmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29udGFpbmVyU3RhdGUoKTogQ29udGFpbmVyU3RhdGUge1xuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIGNvbnN0IGNvbnRhaW5lclN0YXRlID0gY3R4LnJlbmRlckN0eD8uY29udGFpbmVyU3RhdGU7XG4gIGlmICghY29udGFpbmVyU3RhdGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbnQgYWNjZXNzIGNvbnRhaW5lclN0YXRlIGZvciBleGlzdGluZyBjb250ZXh0Jyk7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lclN0YXRlO1xufVxuIl19","export function flattenArray(array, dst) {\n    // Yes this function is just Array.flat, but we need to run on old versions of Node.\n    if (!dst)\n        dst = [];\n    for (const item of array) {\n        if (Array.isArray(item)) {\n            flattenArray(item, dst);\n        }\n        else {\n            dst.push(item);\n        }\n    }\n    return dst;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXkuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9hcnJheS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsWUFBWSxDQUFJLEtBQWtCLEVBQUUsR0FBUztJQUMzRCxvRkFBb0Y7SUFDcEYsSUFBSSxDQUFDLEdBQUc7UUFBRSxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ25CLEtBQUssTUFBTSxJQUFJLElBQUksS0FBSyxFQUFFO1FBQ3hCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUN2QixZQUFZLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO2FBQU07WUFDTCxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2hCO0tBQ0Y7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gZmxhdHRlbkFycmF5PFQ+KGFycmF5OiAoVCB8IFRbXSlbXSwgZHN0PzogVFtdKTogVFtdIHtcbiAgLy8gWWVzIHRoaXMgZnVuY3Rpb24gaXMganVzdCBBcnJheS5mbGF0LCBidXQgd2UgbmVlZCB0byBydW4gb24gb2xkIHZlcnNpb25zIG9mIE5vZGUuXG4gIGlmICghZHN0KSBkc3QgPSBbXTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGFycmF5KSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgIGZsYXR0ZW5BcnJheShpdGVtLCBkc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRzdDtcbn1cbiJdfQ==","import { flattenArray } from './array';\n/**\n * Converts a tree of Promises into a flat array of resolved promise values.\n *\n * @param tree - array of arrays of values or promises of values.\n * @returns a `Promise` of array of values.\n */\nexport function flattenPromiseTree(tree) {\n    return Promise.all(tree).then((values) => {\n        const flatArray = flattenArray(values);\n        for (let i = 0; i < flatArray.length; i++) {\n            if (isPromise(flatArray[i])) {\n                return flattenPromiseTree(flatArray);\n            }\n        }\n        return flatArray;\n    });\n}\nexport function isPromise(value) {\n    return value instanceof Promise;\n}\nexport const then = (promise, thenFn, rejectFn) => {\n    return isPromise(promise) ? promise.then(thenFn, rejectFn) : thenFn(promise);\n};\nexport const promiseAll = (promises) => {\n    const hasPromise = promises.some(isPromise);\n    if (hasPromise) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlzZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9wcm9taXNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBSXZDOzs7OztHQUtHO0FBQ0gsTUFBTSxVQUFVLGtCQUFrQixDQUFJLElBQW9CO0lBQ3hELE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFhLEVBQUUsRUFBRTtRQUNyRCxNQUFNLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDdkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDekMsSUFBSSxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQzNCLE9BQU8sa0JBQWtCLENBQUMsU0FBUyxDQUFDLENBQUM7YUFDdEM7U0FDRjtRQUNELE9BQU8sU0FBUyxDQUFDO0lBQ25CLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELE1BQU0sVUFBVSxTQUFTLENBQUMsS0FBVTtJQUNsQyxPQUFPLEtBQUssWUFBWSxPQUFPLENBQUM7QUFDbEMsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBRyxDQUNsQixPQUEwQixFQUMxQixNQUE4QyxFQUM5QyxRQUE0QixFQUNULEVBQUU7SUFDckIsT0FBTyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBYSxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBYyxDQUFDLENBQUM7QUFDN0YsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQWtCLFFBQVcsRUFBcUIsRUFBRTtJQUM1RSxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLElBQUksVUFBVSxFQUFFO1FBQ2QsT0FBTyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0tBQzlCO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgZmxhdHRlbkFycmF5IH0gZnJvbSAnLi9hcnJheSc7XG5cbmV4cG9ydCB0eXBlIFByb21pc2VUcmVlPFQ+ID0gVCB8IFByb21pc2U8VD4gfCBQcm9taXNlPFRbXT4gfCBBcnJheTxQcm9taXNlVHJlZTxUPj47XG5cbi8qKlxuICogQ29udmVydHMgYSB0cmVlIG9mIFByb21pc2VzIGludG8gYSBmbGF0IGFycmF5IG9mIHJlc29sdmVkIHByb21pc2UgdmFsdWVzLlxuICpcbiAqIEBwYXJhbSB0cmVlIC0gYXJyYXkgb2YgYXJyYXlzIG9mIHZhbHVlcyBvciBwcm9taXNlcyBvZiB2YWx1ZXMuXG4gKiBAcmV0dXJucyBhIGBQcm9taXNlYCBvZiBhcnJheSBvZiB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuUHJvbWlzZVRyZWU8VD4odHJlZTogUHJvbWlzZVRyZWU8VD4pOiBQcm9taXNlPFRbXT4ge1xuICByZXR1cm4gUHJvbWlzZS5hbGwodHJlZSBhcyBUW10pLnRoZW4oKHZhbHVlczogYW55W10pID0+IHtcbiAgICBjb25zdCBmbGF0QXJyYXkgPSBmbGF0dGVuQXJyYXkodmFsdWVzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZsYXRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzUHJvbWlzZShmbGF0QXJyYXlbaV0pKSB7XG4gICAgICAgIHJldHVybiBmbGF0dGVuUHJvbWlzZVRyZWUoZmxhdEFycmF5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZsYXRBcnJheTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWU6IGFueSk6IHZhbHVlIGlzIFByb21pc2U8YW55PiB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFByb21pc2U7XG59XG5cbmV4cG9ydCBjb25zdCB0aGVuID0gPFQsIEI+KFxuICBwcm9taXNlOiBWYWx1ZU9yUHJvbWlzZTxUPixcbiAgdGhlbkZuOiAoYXJnOiBBd2FpdGVkPFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxCPixcbiAgcmVqZWN0Rm4/OiAoZXJyOiBhbnkpID0+IGFueVxuKTogVmFsdWVPclByb21pc2U8Qj4gPT4ge1xuICByZXR1cm4gaXNQcm9taXNlKHByb21pc2UpID8gcHJvbWlzZS50aGVuKHRoZW5GbiBhcyBhbnksIHJlamVjdEZuKSA6IHRoZW5Gbihwcm9taXNlIGFzIGFueSk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJvbWlzZUFsbCA9IDxUIGV4dGVuZHMgYW55W10+KHByb21pc2VzOiBUKTogVmFsdWVPclByb21pc2U8VD4gPT4ge1xuICBjb25zdCBoYXNQcm9taXNlID0gcHJvbWlzZXMuc29tZShpc1Byb21pc2UpO1xuICBpZiAoaGFzUHJvbWlzZSkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2VzO1xufTtcbiJdfQ==","import { newInvokeContext, useInvoke } from '../use/use-core';\nimport { then } from '../util/promises';\nimport { qrlImport, stringifyQRL } from './qrl';\nexport function isQrl(value) {\n    return value instanceof QRLInternal;\n}\nclass QRL {\n    constructor(chunk, symbol, symbolRef, symbolFn, capture, captureRef) {\n        this.chunk = chunk;\n        this.symbol = symbol;\n        this.symbolRef = symbolRef;\n        this.symbolFn = symbolFn;\n        this.capture = capture;\n        this.captureRef = captureRef;\n    }\n    setContainer(el) {\n        if (!this.el) {\n            this.el = el;\n        }\n    }\n    getSymbol() {\n        return this.refSymbol ?? this.symbol;\n    }\n    getCanonicalSymbol() {\n        return getCanonicalSymbol(this.refSymbol ?? this.symbol);\n    }\n    async resolve(el) {\n        if (el) {\n            this.setContainer(el);\n        }\n        return qrlImport(this.el, this);\n    }\n    resolveIfNeeded(el) {\n        return typeof this.symbolRef === 'function' ? this.symbolRef : this.resolve(el);\n    }\n    invokeFn(el, currentCtx, beforeFn) {\n        return ((...args) => {\n            const fn = this.resolveIfNeeded(el);\n            return then(fn, (fn) => {\n                if (typeof fn === 'function') {\n                    const baseContext = currentCtx ?? newInvokeContext();\n                    const context = {\n                        ...baseContext,\n                        qrl: this,\n                    };\n                    if (beforeFn) {\n                        beforeFn();\n                    }\n                    return useInvoke(context, fn, ...args);\n                }\n                throw new Error('QRL is not a function');\n            });\n        });\n    }\n    copy() {\n        const copy = new QRLInternal(this.chunk, this.symbol, this.symbolRef, this.symbolFn, null, this.captureRef);\n        copy.refSymbol = this.refSymbol;\n        return copy;\n    }\n    async invoke(...args) {\n        const fn = this.invokeFn();\n        const result = await fn(...args);\n        return result;\n    }\n    serialize(options) {\n        return stringifyQRL(this, options);\n    }\n}\nexport const getCanonicalSymbol = (symbolName) => {\n    const index = symbolName.lastIndexOf('_');\n    if (index > -1) {\n        return symbolName.slice(index + 1);\n    }\n    return symbolName;\n};\nexport const isSameQRL = (a, b) => {\n    return a.getCanonicalSymbol() === b.getCanonicalSymbol();\n};\nexport const QRLInternal = QRL;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLWNsYXNzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwtY2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFpQixnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM3RSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFeEMsT0FBTyxFQUFFLFNBQVMsRUFBdUIsWUFBWSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBR3JFLE1BQU0sVUFBVSxLQUFLLENBQUMsS0FBVTtJQUM5QixPQUFPLEtBQUssWUFBWSxXQUFXLENBQUM7QUFDdEMsQ0FBQztBQUVELE1BQU0sR0FBRztJQU1QLFlBQ1MsS0FBYSxFQUNiLE1BQWMsRUFDZCxTQUFzQyxFQUN0QyxRQUFxRCxFQUNyRCxPQUF3QixFQUN4QixVQUF3QjtRQUx4QixVQUFLLEdBQUwsS0FBSyxDQUFRO1FBQ2IsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUNkLGNBQVMsR0FBVCxTQUFTLENBQTZCO1FBQ3RDLGFBQVEsR0FBUixRQUFRLENBQTZDO1FBQ3JELFlBQU8sR0FBUCxPQUFPLENBQWlCO1FBQ3hCLGVBQVUsR0FBVixVQUFVLENBQWM7SUFDOUIsQ0FBQztJQUVKLFlBQVksQ0FBQyxFQUFXO1FBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ1osSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7U0FDZDtJQUNILENBQUM7SUFFRCxTQUFTO1FBQ1AsT0FBTyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDdkMsQ0FBQztJQUVELGtCQUFrQjtRQUNoQixPQUFPLGtCQUFrQixDQUFDLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzNELENBQUM7SUFFRCxLQUFLLENBQUMsT0FBTyxD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ZUNvbnRleHQsIG5ld0ludm9rZUNvbnRleHQsIHVzZUludm9rZSB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyB0aGVuIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyBxcmxJbXBvcnQsIFFSTFNlcmlhbGl6ZU9wdGlvbnMsIHN0cmluZ2lmeVFSTCB9IGZyb20gJy4vcXJsJztcbmltcG9ydCB0eXBlIHsgUVJMIGFzIElRUkwgfSBmcm9tICcuL3FybC5wdWJsaWMnO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNRcmwodmFsdWU6IGFueSk6IHZhbHVlIGlzIFFSTEludGVybmFsIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUVJMSW50ZXJuYWw7XG59XG5cbmNsYXNzIFFSTDxUWVBFID0gYW55PiBpbXBsZW1lbnRzIElRUkw8VFlQRT4ge1xuICBfX2JyYW5kX19RUkxfXyE6IFRZUEU7XG4gIHJlZlN5bWJvbD86IHN0cmluZztcblxuICBwcml2YXRlIGVsOiBFbGVtZW50IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBjaHVuazogc3RyaW5nLFxuICAgIHB1YmxpYyBzeW1ib2w6IHN0cmluZyxcbiAgICBwdWJsaWMgc3ltYm9sUmVmOiBudWxsIHwgVmFsdWVPclByb21pc2U8VFlQRT4sXG4gICAgcHVibGljIHN5bWJvbEZuOiBudWxsIHwgKCgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgYW55Pj4pLFxuICAgIHB1YmxpYyBjYXB0dXJlOiBudWxsIHwgc3RyaW5nW10sXG4gICAgcHVibGljIGNhcHR1cmVSZWY6IG51bGwgfCBhbnlbXVxuICApIHt9XG5cbiAgc2V0Q29udGFpbmVyKGVsOiBFbGVtZW50KSB7XG4gICAgaWYgKCF0aGlzLmVsKSB7XG4gICAgICB0aGlzLmVsID0gZWw7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3ltYm9sKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucmVmU3ltYm9sID8/IHRoaXMuc3ltYm9sO1xuICB9XG5cbiAgZ2V0Q2Fub25pY2FsU3ltYm9sKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGdldENhbm9uaWNhbFN5bWJvbCh0aGlzLnJlZlN5bWJvbCA/PyB0aGlzLnN5bWJvbCk7XG4gIH1cblxuICBhc3luYyByZXNvbHZlKGVsPzogRWxlbWVudCk6IFByb21pc2U8VFlQRT4ge1xuICAgIGlmIChlbCkge1xuICAgICAgdGhpcy5zZXRDb250YWluZXIoZWwpO1xuICAgIH1cbiAgICByZXR1cm4gcXJsSW1wb3J0KHRoaXMuZWwsIHRoaXMgYXMgYW55KTtcbiAgfVxuXG4gIHJlc29sdmVJZk5lZWRlZChlbD86IEVsZW1lbnQpOiBWYWx1ZU9yUHJvbWlzZTxUWVBFPiB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnN5bWJvbFJlZiA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMuc3ltYm9sUmVmIDogdGhpcy5yZXNvbHZlKGVsKTtcbiAgfVxuXG4gIGludm9rZUZuKGVsPzogRWxlbWVudCwgY3VycmVudEN0eD86IEludm9rZUNvbnRleHQsIGJlZm9yZUZuPzogKCkgPT4gdm9pZCk6IGFueSB7XG4gICAgcmV0dXJuICgoLi4uYXJnczogYW55W10pOiBhbnkgPT4ge1xuICAgICAgY29uc3QgZm4gPSB0aGlzLnJlc29sdmVJZk5lZWRlZChlbCkgYXMgVFlQRTtcbiAgICAgIHJldHVybiB0aGVuKGZuLCAoZm4pID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNvbnN0IGJhc2VDb250ZXh0ID0gY3VycmVudEN0eCA/PyBuZXdJbnZva2VDb250ZXh0KCk7XG4gICAgICAgICAgY29uc3QgY29udGV4dDogSW52b2tlQ29udGV4dCA9IHtcbiAgICAgICAgICAgIC4uLmJhc2VDb250ZXh0LFxuICAgICAgICAgICAgcXJsOiB0aGlzLFxuICAgICAgICAgIH07XG4gICAgICAgICAgaWYgKGJlZm9yZUZuKSB7XG4gICAgICAgICAgICBiZWZvcmVGbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdXNlSW52b2tlKGNvbnRleHQsIGZuIGFzIGFueSwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdRUkwgaXMgbm90IGEgZnVuY3Rpb24nKTtcbiAgICAgIH0pO1xuICAgIH0pIGFzIGFueTtcbiAgfVxuXG4gIGNvcHkoKTogUVJMSW50ZXJuYWw8VFlQRT4ge1xuICAgIGNvbnN0IGNvcHkgPSBuZXcgUVJMSW50ZXJuYWwoXG4gICAgICB0aGlzLmNodW5rLFxuICAgICAgdGhpcy5zeW1ib2wsXG4gICAgICB0aGlzLnN5bWJvbFJlZixcbiAgICAgIHRoaXMuc3ltYm9sRm4sXG4gICAgICBudWxsLFxuICAgICAgdGhpcy5jYXB0dXJlUmVmXG4gICAgKTtcbiAgICBjb3B5LnJlZlN5bWJvbCA9IHRoaXMucmVmU3ltYm9sO1xuICAgIHJldHVybiBjb3B5O1xuICB9XG5cbiAgYXN5bmMgaW52b2tlKC4uLmFyZ3M6IFRZUEUgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgQVJHUykgPT4gYW55ID8gQVJHUyA6IG5ldmVyKSB7XG4gICAgY29uc3QgZm4gPSB0aGlzLmludm9rZUZuKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZm4oLi4uYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHNlcmlhbGl6ZShvcHRpb25zPzogUVJMU2VyaWFsaXplT3B0aW9ucykge1xuICAgIHJldHVybiBzdHJpbmdpZnlRUkwodGhpcywgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdldENhbm9uaWNhbFN5bWJvbCA9IChzeW1ib2xOYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgaW5kZXggPSBzeW1ib2xOYW1lLmxhc3RJbmRleE9mKCdfJyk7XG4gIGlmIChpbmRleCA+IC0xKSB7XG4gICAgcmV0dXJuIHN5bWJvbE5hbWUuc2xpY2UoaW5kZXggKyAxKTtcbiAgfVxuICByZXR1cm4gc3ltYm9sTmFtZTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NhbWVRUkwgPSAoYTogUVJMPGFueT4sIGI6IFFSTDxhbnk+KTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBhLmdldENhbm9uaWNhbFN5bWJvbCgpID09PSBiLmdldENhbm9uaWNhbFN5bWJvbCgpO1xufTtcblxuZXhwb3J0IHR5cGUgUVJMSW50ZXJuYWw8VCA9IGFueT4gPSBRUkw8VD47XG5leHBvcnQgY29uc3QgUVJMSW50ZXJuYWw6IHR5cGVvZiBRUkwgPSBRUkw7XG4iXX0=","import { getContainer } from '../use/use-core';\nimport { getDocument } from '../util/dom';\nexport const createPlatform = (doc) => {\n    const moduleCache = new Map();\n    return {\n        isServer: false,\n        importSymbol(element, url, symbolName) {\n            const urlDoc = toUrl(doc, element, url).toString();\n            const urlCopy = new URL(urlDoc);\n            urlCopy.hash = '';\n            urlCopy.search = '';\n            const importURL = urlCopy.href;\n            const mod = moduleCache.get(importURL);\n            if (mod) {\n                return mod[symbolName];\n            }\n            return import(/* @vite-ignore */ importURL).then((mod) => {\n                mod = findModule(mod);\n                moduleCache.set(importURL, mod);\n                return mod[symbolName];\n            });\n        },\n        raf: (fn) => {\n            return new Promise((resolve) => {\n                requestAnimationFrame(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        nextTick: (fn) => {\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        chunkForSymbol() {\n            return undefined;\n        },\n    };\n};\nfunction findModule(module) {\n    return Object.values(module).find(isModule) || module;\n}\nfunction isModule(module) {\n    return typeof module === 'object' && module && module[Symbol.toStringTag] === 'Module';\n}\n/**\n * Convert relative base URI and relative URL into a fully qualified URL.\n *\n * @param base -`QRL`s are relative, and therefore they need a base for resolution.\n *    - `Element` use `base.ownerDocument.baseURI`\n *    - `Document` use `base.baseURI`\n *    - `string` use `base` as is\n *    - `QConfig` use `base.baseURI`\n * @param url - relative URL\n * @returns fully qualified URL.\n */\nexport function toUrl(doc, element, url) {\n    const containerEl = getContainer(element);\n    const base = new URL(containerEl?.getAttribute('q:base') ?? doc.baseURI, doc.baseURI);\n    return new URL(url, base);\n}\n/**\n * @public\n */\nexport const setPlatform = (doc, plt) => (doc[DocumentPlatform] = plt);\n/**\n * @public\n */\nexport const getPlatform = (docOrNode) => {\n    const doc = getDocument(docOrNode);\n    return doc[DocumentPlatform] || (doc[DocumentPlatform] = createPlatform(doc));\n};\nconst DocumentPlatform = /*@__PURE__*/ Symbol();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhdGZvcm0uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcGxhdGZvcm0vcGxhdGZvcm0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFHMUMsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsR0FBYSxFQUFnQixFQUFFO0lBQzVELE1BQU0sV0FBVyxHQUFHLElBQUksR0FBRyxFQUFxQyxDQUFDO0lBQ2pFLE9BQU87UUFDTCxRQUFRLEVBQUUsS0FBSztRQUNmLFlBQVksQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLFVBQVU7WUFDbkMsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7WUFFbkQsTUFBTSxPQUFPLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDaEMsT0FBTyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7WUFDbEIsT0FBTyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7WUFDcEIsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztZQUMvQixNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3ZDLElBQUksR0FBRyxFQUFFO2dCQUNQLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO2FBQ3hCO1lBQ0QsT0FBTyxNQUFNLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7Z0JBQ3ZELEdBQUcsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ3RCLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNoQyxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUN6QixDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNWLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDN0IscUJBQXFCLENBQUMsR0FBRyxFQUFFO29CQUN6QixPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDaEIsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxRQUFRLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtZQUNmLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtnQkFDN0IsVUFBVSxDQUFDLEdBQUcsRUFBRTtvQkFDZCxPQUFPLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztnQkFDaEIsQ0FBQyxDQUFDLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUM7UUFDRCxjQUFjO1lBQ1osT0FBTyxTQUFTLENBQUM7UUFDbkIsQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRixTQUFTLFVBQVUsQ0FBQyxNQUFXO0lBQzdCLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksTUFBTSxDQUFDO0FBQ3hELENBQUM7QUFFRCxTQUFTLFFBQVEsQ0FBQyxNQUFXO0lBQzNCLE9BQU8sT0FBTyxNQUFNLEtBQUssUUFBUSxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxLQUFLLFFBQVEsQ0FBQztBQUN6RixDQUFDO0FBRUQ7Ozs7Ozs7Ozs7R0FVRztBQUNILE1BQU0sVUFBVSxLQUFLLENBQUMsR0FBYSxFQUFFLE9BQWdCLEVBQUUsR0FBaUI7SUFDdEUsTUFBTSxXQUFXLEdBQUcsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzFDLE1BQU0sSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLFdBQVcsRUFBRSxZQUFZLENBQUMsUUFBUSxDQUFDLElBQUksR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEYsT0FBTyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDNUIsQ0FBQztBQUVEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBYSxFQUFFLEdBQWlCLEVBQUUsRUFBRSxDQUM5RCxDQUFFLEdBQXdCLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztBQUV0RDs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLFNBQTBCLEVBQUUsRUFBRTtJQUN4RCxNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFxQixDQUFDO0lBQ3ZELE9BQU8sR0FBRyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNoRixDQUFDLENBQUM7QUFFRixNQUFNLGdCQUFnQixHQUFHLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENvbnRhaW5lciB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB0eXBlIHsgQ29yZVBsYXRmb3JtIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQbGF0Zm9ybSA9IChkb2M6IERvY3VtZW50KTogQ29yZVBsYXRmb3JtID0+IHtcbiAgY29uc3QgbW9kdWxlQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgeyBbc3ltYm9sOiBzdHJpbmddOiBhbnkgfT4oKTtcbiAgcmV0dXJuIHtcbiAgICBpc1NlcnZlcjogZmFsc2UsXG4gICAgaW1wb3J0U3ltYm9sKGVsZW1lbnQsIHVybCwgc3ltYm9sTmFtZSkge1xuICAgICAgY29uc3QgdXJsRG9jID0gdG9VcmwoZG9jLCBlbGVtZW50LCB1cmwpLnRvU3RyaW5nKCk7XG5cbiAgICAgIGNvbnN0IHVybENvcHkgPSBuZXcgVVJMKHVybERvYyk7XG4gICAgICB1cmxDb3B5Lmhhc2ggPSAnJztcbiAgICAgIHVybENvcHkuc2VhcmNoID0gJyc7XG4gICAgICBjb25zdCBpbXBvcnRVUkwgPSB1cmxDb3B5LmhyZWY7XG4gICAgICBjb25zdCBtb2QgPSBtb2R1bGVDYWNoZS5nZXQoaW1wb3J0VVJMKTtcbiAgICAgIGlmIChtb2QpIHtcbiAgICAgICAgcmV0dXJuIG1vZFtzeW1ib2xOYW1lXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbXBvcnQoLyogQHZpdGUtaWdub3JlICovIGltcG9ydFVSTCkudGhlbigobW9kKSA9PiB7XG4gICAgICAgIG1vZCA9IGZpbmRNb2R1bGUobW9kKTtcbiAgICAgICAgbW9kdWxlQ2FjaGUuc2V0KGltcG9ydFVSTCwgbW9kKTtcbiAgICAgICAgcmV0dXJuIG1vZFtzeW1ib2xOYW1lXTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcmFmOiAoZm4pID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBuZXh0VGljazogKGZuKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShmbigpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNodW5rRm9yU3ltYm9sKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICB9O1xufTtcblxuZnVuY3Rpb24gZmluZE1vZHVsZShtb2R1bGU6IGFueSkge1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhtb2R1bGUpLmZpbmQoaXNNb2R1bGUpIHx8IG1vZHVsZTtcbn1cblxuZnVuY3Rpb24gaXNNb2R1bGUobW9kdWxlOiBhbnkpIHtcbiAgcmV0dXJuIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZSAmJiBtb2R1bGVbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ01vZHVsZSc7XG59XG5cbi8qKlxuICogQ29udmVydCByZWxhdGl2ZSBiYXNlIFVSSSBhbmQgcmVsYXRpdmUgVVJMIGludG8gYSBmdWxseSBxdWFsaWZpZWQgVVJMLlxuICpcbiAqIEBwYXJhbSBiYXNlIC1gUVJMYHMgYXJlIHJlbGF0aXZlLCBhbmQgdGhlcmVmb3JlIHRoZXkgbmVlZCBhIGJhc2UgZm9yIHJlc29sdXRpb24uXG4gKiAgICAtIGBFbGVtZW50YCB1c2UgYGJhc2Uub3duZXJEb2N1bWVudC5iYXNlVVJJYFxuICogICAgLSBgRG9jdW1lbnRgIHVzZSBgYmFzZS5iYXNlVVJJYFxuICogICAgLSBgc3RyaW5nYCB1c2UgYGJhc2VgIGFzIGlzXG4gKiAgICAtIGBRQ29uZmlnYCB1c2UgYGJhc2UuYmFzZVVSSWBcbiAqIEBwYXJhbSB1cmwgLSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIGZ1bGx5IHF1YWxpZmllZCBVUkwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1VybChkb2M6IERvY3VtZW50LCBlbGVtZW50OiBFbGVtZW50LCB1cmw6IHN0cmluZyB8IFVSTCk6IFVSTCB7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0Q29udGFpbmVyKGVsZW1lbnQpO1xuICBjb25zdCBiYXNlID0gbmV3IFVSTChjb250YWluZXJFbD8uZ2V0QXR0cmlidXRlKCdxOmJhc2UnKSA/PyBkb2MuYmFzZVVSSSwgZG9jLmJhc2VVUkkpO1xuICByZXR1cm4gbmV3IFVSTCh1cmwsIGJhc2UpO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldFBsYXRmb3JtID0gKGRvYzogRG9jdW1lbnQsIHBsdDogQ29yZVBsYXRmb3JtKSA9PlxuICAoKGRvYyBhcyBQbGF0Zm9ybURvY3VtZW50KVtEb2N1bWVudFBsYXRmb3JtXSA9IHBsdCk7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZ2V0UGxhdGZvcm0gPSAoZG9jT3JOb2RlOiBEb2N1bWVudCB8IE5vZGUpID0+IHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZG9jT3JOb2RlKSBhcyBQbGF0Zm9ybURvY3VtZW50O1xuICByZXR1cm4gZG9jW0RvY3VtZW50UGxhdGZvcm1dIHx8IChkb2NbRG9jdW1lbnRQbGF0Zm9ybV0gPSBjcmVhdGVQbGF0Zm9ybShkb2MpKTtcbn07XG5cbmNvbnN0IERvY3VtZW50UGxhdGZvcm0gPSAvKkBfX1BVUkVfXyovIFN5bWJvbCgpO1xuXG5pbnRlcmZhY2UgUGxhdGZvcm1Eb2N1bWVudCBleHRlbmRzIERvY3VtZW50IHtcbiAgW0RvY3VtZW50UGxhdGZvcm1dPzogQ29yZVBsYXRmb3JtO1xufVxuIl19","import { QHostAttr, QSlotAttr } from './markers';\n/**\n * Returns true if the `node` is `Element` and of the right `tagName`.\n *\n * @param node\n * @private\n */\nexport function isDomElementWithTagName(node, tagName) {\n    return isHtmlElement(node) && node.tagName.toUpperCase() == tagName.toUpperCase();\n}\n/**\n * @private\n */\nexport function isTemplateElement(node) {\n    return isDomElementWithTagName(node, 'template');\n}\n/**\n * @private\n */\nexport function isQSLotTemplateElement(node) {\n    return isTemplateElement(node) && node.hasAttribute(QSlotAttr);\n}\n/**\n * @private\n */\nexport function isComponentElement(node) {\n    return isHtmlElement(node) && node.hasAttribute(QHostAttr);\n}\n/**\n * @private\n */\nexport function isHtmlElement(node) {\n    return node ? node.nodeType === 1 : false;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC90eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUVqRDs7Ozs7R0FLRztBQUNILE1BQU0sVUFBVSx1QkFBdUIsQ0FDckMsSUFBNkIsRUFDN0IsT0FBZTtJQUVmLE9BQU8sYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxFQUFFLElBQUksT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3BGLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxpQkFBaUIsQ0FBQyxJQUE2QjtJQUM3RCxPQUFPLHVCQUF1QixDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztBQUNuRCxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsc0JBQXNCLENBQUMsSUFBNkI7SUFDbEUsT0FBTyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2pFLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxrQkFBa0IsQ0FBQyxJQUE2QjtJQUM5RCxPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQzdELENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxhQUFhLENBQUMsSUFBUztJQUNyQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUM1QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUUhvc3RBdHRyLCBRU2xvdEF0dHIgfSBmcm9tICcuL21hcmtlcnMnO1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYG5vZGVgIGlzIGBFbGVtZW50YCBhbmQgb2YgdGhlIHJpZ2h0IGB0YWdOYW1lYC5cbiAqXG4gKiBAcGFyYW0gbm9kZVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRG9tRWxlbWVudFdpdGhUYWdOYW1lKFxuICBub2RlOiBOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgdGFnTmFtZTogc3RyaW5nXG4pOiBub2RlIGlzIEVsZW1lbnQge1xuICByZXR1cm4gaXNIdG1sRWxlbWVudChub2RlKSAmJiBub2RlLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSB0YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVGVtcGxhdGVFbGVtZW50KG5vZGU6IE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkKTogbm9kZSBpcyBIVE1MVGVtcGxhdGVFbGVtZW50IHtcbiAgcmV0dXJuIGlzRG9tRWxlbWVudFdpdGhUYWdOYW1lKG5vZGUsICd0ZW1wbGF0ZScpO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1FTTG90VGVtcGxhdGVFbGVtZW50KG5vZGU6IE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkKTogbm9kZSBpcyBIVE1MVGVtcGxhdGVFbGVtZW50IHtcbiAgcmV0dXJuIGlzVGVtcGxhdGVFbGVtZW50KG5vZGUpICYmIG5vZGUuaGFzQXR0cmlidXRlKFFTbG90QXR0cik7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcG9uZW50RWxlbWVudChub2RlOiBOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCk6IG5vZGUgaXMgSFRNTEVsZW1lbnQge1xuICByZXR1cm4gaXNIdG1sRWxlbWVudChub2RlKSAmJiBub2RlLmhhc0F0dHJpYnV0ZShRSG9zdEF0dHIpO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0h0bWxFbGVtZW50KG5vZGU6IGFueSk6IG5vZGUgaXMgRWxlbWVudCB7XG4gIHJldHVybiBub2RlID8gbm9kZS5ub2RlVHlwZSA9PT0gMSA6IGZhbHNlO1xufVxuXG4vKipcbiAqIFR5cGUgcmVwcmVzZW50aW5nIGEgdmFsdWUgd2hpY2ggaXMgZWl0aGVyIHJlc29sdmUgb3IgYSBwcm9taXNlLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBWYWx1ZU9yUHJvbWlzZTxUPiA9IFQgfCBQcm9taXNlPFQ+O1xuIl19","import { isHtmlElement } from '../util/types';\nexport function stringifyDebug(value) {\n    if (value == null)\n        return String(value);\n    if (typeof value === 'function')\n        return value.name;\n    if (isHtmlElement(value))\n        return stringifyElement(value);\n    if (value instanceof URL)\n        return String(value);\n    if (typeof value === 'object')\n        return JSON.stringify(value, function (key, value) {\n            if (isHtmlElement(value))\n                return stringifyElement(value);\n            return value;\n        });\n    return String(value);\n}\nexport function stringifyElement(element) {\n    let html = '<' + element.localName;\n    const attributes = element.attributes;\n    const names = [];\n    for (let i = 0; i < attributes.length; i++) {\n        names.push(attributes[i].name);\n    }\n    names.sort();\n    for (let i = 0; i < names.length; i++) {\n        const name = names[i];\n        let value = element.getAttribute(name);\n        if (value?.startsWith('file:/')) {\n            value = value.replace(/(file:\\/\\/).*(\\/.*)$/, (all, protocol, file) => protocol + '...' + file);\n        }\n        html +=\n            ' ' + name + (value == null || value == '' ? '' : \"='\" + value.replace(\"'\", '&apos;') + \"'\");\n    }\n    return html + '>';\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5naWZ5LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2Vycm9yL3N0cmluZ2lmeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRTlDLE1BQU0sVUFBVSxjQUFjLENBQUMsS0FBVTtJQUN2QyxJQUFJLEtBQUssSUFBSSxJQUFJO1FBQUUsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEMsSUFBSSxPQUFPLEtBQUssS0FBSyxVQUFVO1FBQUUsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDO0lBQ25ELElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQztRQUFFLE9BQU8sZ0JBQWdCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDekQsSUFBSSxLQUFLLFlBQVksR0FBRztRQUFFLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQy9DLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUTtRQUMzQixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLFVBQXFCLEdBQVcsRUFBRSxLQUFVO1lBQ3ZFLElBQUksYUFBYSxDQUFDLEtBQUssQ0FBQztnQkFBRSxPQUFPLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pELE9BQU8sS0FBSyxDQUFDO1FBQ2YsQ0FBQyxDQUFDLENBQUM7SUFDTCxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN2QixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUFDLE9BQWdCO0lBQy9DLElBQUksSUFBSSxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO0lBQ25DLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDdEMsTUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ2pCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQzFDLEtBQUssQ0FBQyxJQUFJLENBQUUsVUFBVSxDQUFDLENBQUMsQ0FBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzFDO0lBQ0QsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDckMsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3RCLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkMsSUFBSSxLQUFLLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQy9CLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUNuQixzQkFBc0IsRUFDdEIsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxFQUFFLENBQUMsUUFBUSxHQUFHLEtBQUssR0FBRyxJQUFJLENBQ2pELENBQUM7U0FDSDtRQUNELElBQUk7WUFDRixHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztLQUNoRztJQUNELE9BQU8sSUFBSSxHQUFHLEdBQUcsQ0FBQztBQUNwQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNIdG1sRWxlbWVudCB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5RGVidWcodmFsdWU6IGFueSk6IHN0cmluZyB8IG51bGwge1xuICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHJldHVybiB2YWx1ZS5uYW1lO1xuICBpZiAoaXNIdG1sRWxlbWVudCh2YWx1ZSkpIHJldHVybiBzdHJpbmdpZnlFbGVtZW50KHZhbHVlKTtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgVVJMKSByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBmdW5jdGlvbiAodGhpczogYW55LCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgaWYgKGlzSHRtbEVsZW1lbnQodmFsdWUpKSByZXR1cm4gc3RyaW5naWZ5RWxlbWVudCh2YWx1ZSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSk7XG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5RWxlbWVudChlbGVtZW50OiBFbGVtZW50KTogc3RyaW5nIHtcbiAgbGV0IGh0bWwgPSAnPCcgKyBlbGVtZW50LmxvY2FsTmFtZTtcbiAgY29uc3QgYXR0cmlidXRlcyA9IGVsZW1lbnQuYXR0cmlidXRlcztcbiAgY29uc3QgbmFtZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbmFtZXMucHVzaCgoYXR0cmlidXRlc1tpXSBhcyBBdHRyKS5uYW1lKTtcbiAgfVxuICBuYW1lcy5zb3J0KCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBuYW1lID0gbmFtZXNbaV07XG4gICAgbGV0IHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgaWYgKHZhbHVlPy5zdGFydHNXaXRoKCdmaWxlOi8nKSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKFxuICAgICAgICAvKGZpbGU6XFwvXFwvKS4qKFxcLy4qKSQvLFxuICAgICAgICAoYWxsLCBwcm90b2NvbCwgZmlsZSkgPT4gcHJvdG9jb2wgKyAnLi4uJyArIGZpbGVcbiAgICAgICk7XG4gICAgfVxuICAgIGh0bWwgKz1cbiAgICAgICcgJyArIG5hbWUgKyAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PSAnJyA/ICcnIDogXCI9J1wiICsgdmFsdWUucmVwbGFjZShcIidcIiwgJyZhcG9zOycpICsgXCInXCIpO1xuICB9XG4gIHJldHVybiBodG1sICsgJz4nO1xufVxuIl19","import { stringifyDebug } from './stringify';\nimport { qDev } from '../util/qdev';\nexport var QError;\n(function (QError) {\n    // core 000-099\n    QError[QError[\"TODO\"] = 0] = \"TODO\";\n    QError[QError[\"Core_qConfigNotFound_path\"] = 1] = \"Core_qConfigNotFound_path\";\n    QError[QError[\"Core_unrecognizedStack_frame\"] = 2] = \"Core_unrecognizedStack_frame\";\n    QError[QError[\"Core_noAttribute_atr1_element\"] = 3] = \"Core_noAttribute_atr1_element\";\n    QError[QError[\"Core_noAttribute_atr1_attr2_element\"] = 4] = \"Core_noAttribute_atr1_attr2_element\";\n    QError[QError[\"Core_missingProperty_name_props\"] = 5] = \"Core_missingProperty_name_props\";\n    QError[QError[\"Core_missingExport_name_url_props\"] = 6] = \"Core_missingExport_name_url_props\";\n    // QRL 100-199\n    QError[QError[\"QRL_expectFunction_url_actual\"] = 100] = \"QRL_expectFunction_url_actual\";\n    // Injection 200-299\n    QError[QError[\"Injector_noHost_element\"] = 200] = \"Injector_noHost_element\";\n    QError[QError[\"Injector_expectedSpecificInjector_expected_actual\"] = 201] = \"Injector_expectedSpecificInjector_expected_actual\";\n    QError[QError[\"Injector_notElement_arg\"] = 202] = \"Injector_notElement_arg\";\n    QError[QError[\"Injector_wrongMethodThis_expected_actual\"] = 203] = \"Injector_wrongMethodThis_expected_actual\";\n    QError[QError[\"Injector_missingSerializedState_entityKey_element\"] = 204] = \"Injector_missingSerializedState_entityKey_element\";\n    QError[QError[\"Injector_notFound_element\"] = 206] = \"Injector_notFound_element\";\n    QError[QError[\"Injector_eventInjectorNotSerializable\"] = 207] = \"Injector_eventInjectorNotSerializable\";\n    // Entities 300-399\n    QError[QError[\"Entity_notValidKey_key\"] = 300] = \"Entity_notValidKey_key\";\n    QError[QError[\"Entity_keyAlreadyExists_key\"] = 301] = \"Entity_keyAlreadyExists_key\";\n    QError[QError[\"Entity_invalidAttribute_name\"] = 303] = \"Entity_invalidAttribute_name\";\n    QError[QError[\"Entity_missingExpandoOrState_attrName\"] = 304] = \"Entity_missingExpandoOrState_attrName\";\n    QError[QError[\"Entity_elementMissingEntityAttr_element_attr\"] = 305] = \"Entity_elementMissingEntityAttr_element_attr\";\n    QError[QError[\"Entity_noState_entity_props\"] = 306] = \"Entity_noState_entity_props\";\n    QError[QError[\"Entity_expected_obj\"] = 307] = \"Entity_expected_obj\";\n    QError[QError[\"Entity_overridesConstructor_entity\"] = 308] = \"Entity_overridesConstructor_entity\";\n    QError[QError[\"Entity_keyMissingParts_key_key\"] = 309] = \"Entity_keyMissingParts_key_key\";\n    QError[QError[\"Entity_no$type_entity\"] = 310] = \"Entity_no$type_entity\";\n    QError[QError[\"Entity_no$keyProps_entity\"] = 311] = \"Entity_no$keyProps_entity\";\n    QError[QError[\"Entity_no$qrl_entity\"] = 312] = \"Entity_no$qrl_entity\";\n    QError[QError[\"Entity_nameCollision_name_currentQrl_expectedQrl\"] = 313] = \"Entity_nameCollision_name_currentQrl_expectedQrl\";\n    QError[QError[\"Entity_keyTooManyParts_entity_parts_key\"] = 314] = \"Entity_keyTooManyParts_entity_parts_key\";\n    QError[QError[\"Entity_keyNameMismatch_key_name_entity_name\"] = 315] = \"Entity_keyNameMismatch_key_name_entity_name\";\n    QError[QError[\"Entity_stateMissingKey_state\"] = 316] = \"Entity_stateMissingKey_state\";\n    // Component 400-499\n    QError[QError[\"Component_bindNeedsKey\"] = 400] = \"Component_bindNeedsKey\";\n    QError[QError[\"Component_bindNeedsValue\"] = 401] = \"Component_bindNeedsValue\";\n    QError[QError[\"Component_needsState\"] = 402] = \"Component_needsState\";\n    QError[QError[\"Component_needsInjectionContext_constructor\"] = 403] = \"Component_needsInjectionContext_constructor\";\n    QError[QError[\"Component_noProperty_propName_props_host\"] = 404] = \"Component_noProperty_propName_props_host\";\n    QError[QError[\"Component_notFound_component\"] = 405] = \"Component_notFound_component\";\n    QError[QError[\"Component_doesNotMatch_component_actual\"] = 406] = \"Component_doesNotMatch_component_actual\";\n    QError[QError[\"Component_noState_component_props\"] = 408] = \"Component_noState_component_props\";\n    // Provider 500-599\n    QError[QError[\"Provider_unrecognizedFormat_value\"] = 500] = \"Provider_unrecognizedFormat_value\";\n    // Render 600-699\n    QError[QError[\"Render_unexpectedJSXNodeType_type\"] = 600] = \"Render_unexpectedJSXNodeType_type\";\n    QError[QError[\"Render_unsupportedFormat_obj_attr\"] = 601] = \"Render_unsupportedFormat_obj_attr\";\n    QError[QError[\"Render_expectingEntity_entity\"] = 602] = \"Render_expectingEntity_entity\";\n    QError[QError[\"Render_expectingEntityArray_obj\"] = 603] = \"Render_expectingEntityArray_obj\";\n    QError[QError[\"Render_expectingEntityOrComponent_obj\"] = 604] = \"Render_expectingEntityOrComponent_obj\";\n    QError[QError[\"Render_stateMachineStuck\"] = 699] = \"Render_stateMachineStuck\";\n    // Event\n    QError[QError[\"Event_emitEventRequiresName_url\"] = 700] = \"Event_emitEventRequiresName_url\";\n    QError[QError[\"Event_emitEventCouldNotFindListener_event_element\"] = 701] = \"Event_emitEventCouldNotFindListener_event_element\";\n})(QError || (QError = {}));\nexport function qError(code, ...args) {\n    if (qDev) {\n        const text = codeToText(code);\n        const parts = text.split('{}');\n        const error = parts\n            .map((value, index) => {\n            return value + (index === parts.length - 1 ? '' : stringifyDebug(args[index]));\n        })\n            .join('');\n        debugger; // eslint-disable-line no-debugger\n        return new Error(error);\n    }\n    else {\n        return new Error(`QError ` + code);\n    }\n}\nfunction codeToText(code) {\n    const area = {\n        0: 'ERROR',\n        1: 'QRL-ERROR',\n        2: 'INJECTOR-ERROR',\n        3: 'SERVICE-ERROR',\n        4: 'COMPONENT-ERROR',\n        5: 'PROVIDER-ERROR',\n        6: 'RENDER-ERROR',\n        7: 'EVENT-ERROR',\n    }[Math.floor(code / 100)];\n    const text = {\n        [QError.TODO]: '{}',\n        [QError.Core_qConfigNotFound_path]: \"QConfig not found in path '{}'.\",\n        [QError.Core_unrecognizedStack_frame]: \"Unrecognized stack format '{}'\",\n        [QError.Core_noAttribute_atr1_element]: \"Could not find entity state '{}' at '{}' or any of it's parents.\",\n        [QError.Core_noAttribute_atr1_attr2_element]: \"Could not find entity state '{}' ( or entity provider '{}') at '{}' or any of it's parents.\",\n        [QError.Core_missingProperty_name_props]: \"Missing property '{}' in props '{}'.\",\n        [QError.Core_missingExport_name_url_props]: \"Missing export '{}' from '{}'. Exported symbols are: {}\",\n        //////////////\n        [QError.QRL_expectFunction_url_actual]: \"QRL '${}' should point to function, was '{}'.\",\n        //////////////\n        [QError.Injector_noHost_element]: \"Can't find host element above '{}'.\",\n        [QError.Injector_expectedSpecificInjector_expected_actual]: \"Provider is expecting '{}' but got '{}'.\",\n        [QError.Injector_notElement_arg]: \"Expected 'Element' was '{}'.\",\n        [QError.Injector_wrongMethodThis_expected_actual]: \"Expected injection 'this' to be of type '{}', but was of type '{}'.\",\n        [QError.Injector_missingSerializedState_entityKey_element]: \"Entity key '{}' is found on '{}' but does not contain state. Was 'serializeState()' not run during dehydration?\",\n        [QError.Injector_notFound_element]: \"No injector can be found starting at '{}'.\",\n        [QError.Injector_eventInjectorNotSerializable]: 'EventInjector does not support serialization.',\n        //////////////\n        [QError.Entity_notValidKey_key]: \"Data key '{}' is not a valid key.\\n\" +\n            '  - Data key can only contain characters (preferably lowercase) or number\\n' +\n            '  - Data key is prefixed with entity name\\n' +\n            \"  - Data key is made up from parts that are separated with ':'.\",\n        [QError.Entity_keyAlreadyExists_key]: \"A entity with key '{}' already exists.\",\n        [QError.Entity_invalidAttribute_name]: \"'{}' is not a valid attribute. \" +\n            \"Attributes can only contain 'a-z' (lowercase), '0-9', '-' and '_'.\",\n        [QError.Entity_missingExpandoOrState_attrName]: \"Found '{}' but expando did not have entity and attribute did not have state.\",\n        [QError.Entity_elementMissingEntityAttr_element_attr]: \"Element '{}' is missing entity attribute definition '{}'.\",\n        [QError.Entity_noState_entity_props]: \"Unable to create state for entity '{}' with props '{}' because no state found and '$newState()' method was not defined on entity.\",\n        [QError.Entity_expected_obj]: \"'{}' is not an instance of 'Entity'.\",\n        [QError.Entity_overridesConstructor_entity]: \"'{}' overrides 'constructor' property preventing 'EntityType' retrieval.\",\n        [QError.Entity_no$keyProps_entity]: \"Entity '{}' does not define '$keyProps'.\",\n        [QError.Entity_no$type_entity]: \"Entity '{}' must have static '$type' property defining the name of the entity.\",\n        [QError.Entity_no$qrl_entity]: \"Entity '{}' must have static '$qrl' property defining the import location of the entity.\",\n        [QError.Entity_nameCollision_name_currentQrl_expectedQrl]: \"Name collision. Already have entity named '{}' with QRL '{}' but expected QRL '{}'.\",\n        [QError.Entity_keyMissingParts_key_key]: \"Entity key '{}' is missing values. Expecting '{}:someValue'.\",\n        [QError.Entity_keyTooManyParts_entity_parts_key]: \"Entity '{}' defines '$keyProps' as  '{}'. Actual key '{}' has more parts than entity defines.\",\n        [QError.Entity_keyNameMismatch_key_name_entity_name]: \"Key '{}' belongs to entity named '{}', but expected entity '{}' with name '{}'.\",\n        [QError.Entity_stateMissingKey_state]: \"Entity state is missing '$key'. Are you sure you passed in state? Got '{}'.\",\n        //////////////\n        [QError.Component_bindNeedsKey]: \"'bind:' must have an key. (Example: 'bind:key=\\\"propertyName\\\"').\",\n        [QError.Component_bindNeedsValue]: \"'bind:id' must have a property name. (Example: 'bind:key=\\\"propertyName\\\"').\",\n        [QError.Component_needsState]: \"Can't find state on host element.\",\n        [QError.Component_needsInjectionContext_constructor]: \"Components must be instantiated inside an injection context. Use '{}.new(...)' for creation.\",\n        [QError.Component_noProperty_propName_props_host]: \"Property '{}' not found in '{}' on component '{}'.\",\n        [QError.Component_notFound_component]: \"Unable to find '{}' component.\",\n        [QError.Component_doesNotMatch_component_actual]: \"Requesting component type '{}' does not match existing component instance '{}'.\",\n        [QError.Component_noState_component_props]: \"Unable to create state for component '{}' with props '{}' because no state found and '$newState()' method was not defined on component.\",\n        //////////////\n        [QError.Provider_unrecognizedFormat_value]: \"Unrecognized expression format '{}'.\",\n        //////////////\n        [QError.Render_unexpectedJSXNodeType_type]: 'Unexpected JSXNode<{}> type.',\n        [QError.Render_unsupportedFormat_obj_attr]: \"Value '{}' can't be written into '{}' attribute.\",\n        [QError.Render_expectingEntity_entity]: \"Expecting entity object, got '{}'.\",\n        [QError.Render_expectingEntityArray_obj]: \"Expecting array of entities, got '{}'.\",\n        [QError.Render_expectingEntityOrComponent_obj]: \"Expecting Entity or Component got '{}'.\",\n        [QError.Render_stateMachineStuck]: 'Render state machine did not advance.',\n        //////////////\n        [QError.Event_emitEventRequiresName_url]: \"Missing '$type' attribute in the '{}' url.\",\n        [QError.Event_emitEventCouldNotFindListener_event_element]: \"Re-emitting event '{}' but no listener found at '{}' or any of its parents.\",\n    }[code];\n    let textCode = '000' + code;\n    textCode = textCode.slice(-3);\n    return `${area}(Q-${textCode}): ${text}`;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvZXJyb3IvZXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUM3QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sQ0FBTixJQUFrQixNQXlEakI7QUF6REQsV0FBa0IsTUFBTTtJQUN0QixlQUFlO0lBQ2YsbUNBQVEsQ0FBQTtJQUNSLDZFQUE2QixDQUFBO0lBQzdCLG1GQUFnQyxDQUFBO0lBQ2hDLHFGQUFpQyxDQUFBO0lBQ2pDLGlHQUF1QyxDQUFBO0lBQ3ZDLHlGQUFtQyxDQUFBO0lBQ25DLDZGQUFxQyxDQUFBO0lBQ3JDLGNBQWM7SUFDZCx1RkFBbUMsQ0FBQTtJQUNuQyxvQkFBb0I7SUFDcEIsMkVBQTZCLENBQUE7SUFDN0IsK0hBQXVELENBQUE7SUFDdkQsMkVBQTZCLENBQUE7SUFDN0IsNkdBQThDLENBQUE7SUFDOUMsK0hBQXVELENBQUE7SUFDdkQsK0VBQStCLENBQUE7SUFDL0IsdUdBQTJDLENBQUE7SUFDM0MsbUJBQW1CO0lBQ25CLHlFQUE0QixDQUFBO0lBQzVCLG1GQUFpQyxDQUFBO0lBQ2pDLHFGQUFrQyxDQUFBO0lBQ2xDLHVHQUEyQyxDQUFBO0lBQzNDLHFIQUFrRCxDQUFBO0lBQ2xELG1GQUFpQyxDQUFBO0lBQ2pDLG1FQUF5QixDQUFBO0lBQ3pCLGlHQUF3QyxDQUFBO0lBQ3hDLHlGQUFvQyxDQUFBO0lBQ3BDLHVFQUEyQixDQUFBO0lBQzNCLCtFQUErQixDQUFBO0lBQy9CLHFFQUEwQixDQUFBO0lBQzFCLDZIQUFzRCxDQUFBO0lBQ3RELDJHQUE2QyxDQUFBO0lBQzdDLG1IQUFpRCxDQUFBO0lBQ2pELHFGQUFrQyxDQUFBO0lBQ2xDLG9CQUFvQjtJQUNwQix5RUFBNEIsQ0FBQTtJQUM1Qiw2RUFBOEIsQ0FB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QUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlCLE9BQU8sR0FBRyxJQUFJLE1BQU0sUUFBUSxNQUFNLElBQUksRUFBRSxDQUFDO0FBQzNDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpbmdpZnlEZWJ1ZyB9IGZyb20gJy4vc3RyaW5naWZ5JztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuXG5leHBvcnQgY29uc3QgZW51bSBRRXJyb3Ige1xuICAvLyBjb3JlIDAwMC0wOTlcbiAgVE9ETyA9IDAsIC8vIFRlbXBvcmFyeSBJRCB1bnRpbCB3ZSBjcmVhdGUgYSBwcm9wciBlcnJvciBjb2RlLlxuICBDb3JlX3FDb25maWdOb3RGb3VuZF9wYXRoID0gMSxcbiAgQ29yZV91bnJlY29nbml6ZWRTdGFja19mcmFtZSA9IDIsXG4gIENvcmVfbm9BdHRyaWJ1dGVfYXRyMV9lbGVtZW50ID0gMyxcbiAgQ29yZV9ub0F0dHJpYnV0ZV9hdHIxX2F0dHIyX2VsZW1lbnQgPSA0LFxuICBDb3JlX21pc3NpbmdQcm9wZXJ0eV9uYW1lX3Byb3BzID0gNSxcbiAgQ29yZV9taXNzaW5nRXhwb3J0X25hbWVfdXJsX3Byb3BzID0gNixcbiAgLy8gUVJMIDEwMC0xOTlcbiAgUVJMX2V4cGVjdEZ1bmN0aW9uX3VybF9hY3R1YWwgPSAxMDAsXG4gIC8vIEluamVjdGlvbiAyMDAtMjk5XG4gIEluamVjdG9yX25vSG9zdF9lbGVtZW50ID0gMjAwLFxuICBJbmplY3Rvcl9leHBlY3RlZFNwZWNpZmljSW5qZWN0b3JfZXhwZWN0ZWRfYWN0dWFsID0gMjAxLFxuICBJbmplY3Rvcl9ub3RFbGVtZW50X2FyZyA9IDIwMixcbiAgSW5qZWN0b3Jfd3JvbmdNZXRob2RUaGlzX2V4cGVjdGVkX2FjdHVhbCA9IDIwMyxcbiAgSW5qZWN0b3JfbWlzc2luZ1NlcmlhbGl6ZWRTdGF0ZV9lbnRpdHlLZXlfZWxlbWVudCA9IDIwNCxcbiAgSW5qZWN0b3Jfbm90Rm91bmRfZWxlbWVudCA9IDIwNixcbiAgSW5qZWN0b3JfZXZlbnRJbmplY3Rvck5vdFNlcmlhbGl6YWJsZSA9IDIwNyxcbiAgLy8gRW50aXRpZXMgMzAwLTM5OVxuICBFbnRpdHlfbm90VmFsaWRLZXlfa2V5ID0gMzAwLFxuICBFbnRpdHlfa2V5QWxyZWFkeUV4aXN0c19rZXkgPSAzMDEsXG4gIEVudGl0eV9pbnZhbGlkQXR0cmlidXRlX25hbWUgPSAzMDMsXG4gIEVudGl0eV9taXNzaW5nRXhwYW5kb09yU3RhdGVfYXR0ck5hbWUgPSAzMDQsXG4gIEVudGl0eV9lbGVtZW50TWlzc2luZ0VudGl0eUF0dHJfZWxlbWVudF9hdHRyID0gMzA1LFxuICBFbnRpdHlfbm9TdGF0ZV9lbnRpdHlfcHJvcHMgPSAzMDYsXG4gIEVudGl0eV9leHBlY3RlZF9vYmogPSAzMDcsXG4gIEVudGl0eV9vdmVycmlkZXNDb25zdHJ1Y3Rvcl9lbnRpdHkgPSAzMDgsXG4gIEVudGl0eV9rZXlNaXNzaW5nUGFydHNfa2V5X2tleSA9IDMwOSxcbiAgRW50aXR5X25vJHR5cGVfZW50aXR5ID0gMzEwLFxuICBFbnRpdHlfbm8ka2V5UHJvcHNfZW50aXR5ID0gMzExLFxuICBFbnRpdHlfbm8kcXJsX2VudGl0eSA9IDMxMixcbiAgRW50aXR5X25hbWVDb2xsaXNpb25fbmFtZV9jdXJyZW50UXJsX2V4cGVjdGVkUXJsID0gMzEzLFxuICBFbnRpdHlfa2V5VG9vTWFueVBhcnRzX2VudGl0eV9wYXJ0c19rZXkgPSAzMTQsXG4gIEVudGl0eV9rZXlOYW1lTWlzbWF0Y2hfa2V5X25hbWVfZW50aXR5X25hbWUgPSAzMTUsXG4gIEVudGl0eV9zdGF0ZU1pc3NpbmdLZXlfc3RhdGUgPSAzMTYsXG4gIC8vIENvbXBvbmVudCA0MDAtNDk5XG4gIENvbXBvbmVudF9iaW5kTmVlZHNLZXkgPSA0MDAsXG4gIENvbXBvbmVudF9iaW5kTmVlZHNWYWx1ZSA9IDQwMSxcbiAgQ29tcG9uZW50X25lZWRzU3RhdGUgPSA0MDIsXG4gIENvbXBvbmVudF9uZWVkc0luamVjdGlvbkNvbnRleHRfY29uc3RydWN0b3IgPSA0MDMsXG4gIENvbXBvbmVudF9ub1Byb3BlcnR5X3Byb3BOYW1lX3Byb3BzX2hvc3QgPSA0MDQsXG4gIENvbXBvbmVudF9ub3RGb3VuZF9jb21wb25lbnQgPSA0MDUsXG4gIENvbXBvbmVudF9kb2VzTm90TWF0Y2hfY29tcG9uZW50X2FjdHVhbCA9IDQwNixcbiAgQ29tcG9uZW50X25vU3RhdGVfY29tcG9uZW50X3Byb3BzID0gNDA4LFxuICAvLyBQcm92aWRlciA1MDAtNTk5XG4gIFByb3ZpZGVyX3VucmVjb2duaXplZEZvcm1hdF92YWx1ZSA9IDUwMCxcbiAgLy8gUmVuZGVyIDYwMC02OTlcbiAgUmVuZGVyX3VuZXhwZWN0ZWRKU1hOb2RlVHlwZV90eXBlID0gNjAwLFxuICBSZW5kZXJfdW5zdXBwb3J0ZWRGb3JtYXRfb2JqX2F0dHIgPSA2MDEsXG4gIFJlbmRlcl9leHBlY3RpbmdFbnRpdHlfZW50aXR5ID0gNjAyLFxuICBSZW5kZXJfZXhwZWN0aW5nRW50aXR5QXJyYXlfb2JqID0gNjAzLFxuICBSZW5kZXJfZXhwZWN0aW5nRW50aXR5T3JDb21wb25lbnRfb2JqID0gNjA0LFxuICBSZW5kZXJfc3RhdGVNYWNoaW5lU3R1Y2sgPSA2OTksXG4gIC8vIEV2ZW50XG4gIEV2ZW50X2VtaXRFdmVudFJlcXVpcmVzTmFtZV91cmwgPSA3MDAsXG4gIEV2ZW50X2VtaXRFdmVudENvdWxkTm90RmluZExpc3RlbmVyX2V2ZW50X2VsZW1lbnQgPSA3MDEsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxRXJyb3IoY29kZTogUUVycm9yLCAuLi5hcmdzOiBhbnlbXSk6IEVycm9yIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBjb25zdCB0ZXh0ID0gY29kZVRvVGV4dChjb2RlKTtcbiAgICBjb25zdCBwYXJ0cyA9IHRleHQuc3BsaXQoJ3t9Jyk7XG4gICAgY29uc3QgZXJyb3IgPSBwYXJ0c1xuICAgICAgLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiB2YWx1ZSArIChpbmRleCA9PT0gcGFydHMubGVuZ3RoIC0gMSA/ICcnIDogc3RyaW5naWZ5RGVidWcoYXJnc1tpbmRleF0pKTtcbiAgICAgIH0pXG4gICAgICAuam9pbignJyk7XG4gICAgZGVidWdnZXI7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZGVidWdnZXJcbiAgICByZXR1cm4gbmV3IEVycm9yKGVycm9yKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKGBRRXJyb3IgYCArIGNvZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvZGVUb1RleHQoY29kZTogUUVycm9yKTogc3RyaW5nIHtcbiAgY29uc3QgYXJlYSA9IHtcbiAgICAwOiAnRVJST1InLFxuICAgIDE6ICdRUkwtRVJST1InLFxuICAgIDI6ICdJTkpFQ1RPUi1FUlJPUicsXG4gICAgMzogJ1NFUlZJQ0UtRVJST1InLFxuICAgIDQ6ICdDT01QT05FTlQtRVJST1InLFxuICAgIDU6ICdQUk9WSURFUi1FUlJPUicsXG4gICAgNjogJ1JFTkRFUi1FUlJPUicsXG4gICAgNzogJ0VWRU5ULUVSUk9SJyxcbiAgfVtNYXRoLmZsb29yKGNvZGUgLyAxMDApXTtcbiAgY29uc3QgdGV4dCA9IHtcbiAgICBbUUVycm9yLlRPRE9dOiAne30nLFxuICAgIFtRRXJyb3IuQ29yZV9xQ29uZmlnTm90Rm91bmRfcGF0aF06IFwiUUNvbmZpZyBub3QgZm91bmQgaW4gcGF0aCAne30nLlwiLFxuICAgIFtRRXJyb3IuQ29yZV91bnJlY29nbml6ZWRTdGFja19mcmFtZV06IFwiVW5yZWNvZ25pemVkIHN0YWNrIGZvcm1hdCAne30nXCIsXG4gICAgW1FFcnJvci5Db3JlX25vQXR0cmlidXRlX2F0cjFfZWxlbWVudF06XG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIGVudGl0eSBzdGF0ZSAne30nIGF0ICd7fScgb3IgYW55IG9mIGl0J3MgcGFyZW50cy5cIixcbiAgICBbUUVycm9yLkNvcmVfbm9BdHRyaWJ1dGVfYXRyMV9hdHRyMl9lbGVtZW50XTpcbiAgICAgIFwiQ291bGQgbm90IGZpbmQgZW50aXR5IHN0YXRlICd7fScgKCBvciBlbnRpdHkgcHJvdmlkZXIgJ3t9JykgYXQgJ3t9JyBvciBhbnkgb2YgaXQncyBwYXJlbnRzLlwiLFxuICAgIFtRRXJyb3IuQ29yZV9taXNzaW5nUHJvcGVydHlfbmFtZV9wcm9wc106IFwiTWlzc2luZyBwcm9wZXJ0eSAne30nIGluIHByb3BzICd7fScuXCIsXG4gICAgW1FFcnJvci5Db3JlX21pc3NpbmdFeHBvcnRfbmFtZV91cmxfcHJvcHNdOlxuICAgICAgXCJNaXNzaW5nIGV4cG9ydCAne30nIGZyb20gJ3t9Jy4gRXhwb3J0ZWQgc3ltYm9scyBhcmU6IHt9XCIsXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICBbUUVycm9yLlFSTF9leHBlY3RGdW5jdGlvbl91cmxfYWN0dWFsXTogXCJRUkwgJyR7fScgc2hvdWxkIHBvaW50IHRvIGZ1bmN0aW9uLCB3YXMgJ3t9Jy5cIixcbiAgICAvLy8vLy8vLy8vLy8vL1xuICAgIFtRRXJyb3IuSW5qZWN0b3Jfbm9Ib3N0X2VsZW1lbnRdOiBcIkNhbid0IGZpbmQgaG9zdCBlbGVtZW50IGFib3ZlICd7fScuXCIsXG4gICAgW1FFcnJvci5JbmplY3Rvcl9leHBlY3RlZFNwZWNpZmljSW5qZWN0b3JfZXhwZWN0ZWRfYWN0dWFsXTpcbiAgICAgIFwiUHJvdmlkZXIgaXMgZXhwZWN0aW5nICd7fScgYnV0IGdvdCAne30nLlwiLFxuICAgIFtRRXJyb3IuSW5qZWN0b3Jfbm90RWxlbWVudF9hcmddOiBcIkV4cGVjdGVkICdFbGVtZW50JyB3YXMgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkluamVjdG9yX3dyb25nTWV0aG9kVGhpc19leHBlY3RlZF9hY3R1YWxdOlxuICAgICAgXCJFeHBlY3RlZCBpbmplY3Rpb24gJ3RoaXMnIHRvIGJlIG9mIHR5cGUgJ3t9JywgYnV0IHdhcyBvZiB0eXBlICd7fScuXCIsXG4gICAgW1FFcnJvci5JbmplY3Rvcl9taXNzaW5nU2VyaWFsaXplZFN0YXRlX2VudGl0eUtleV9lbGVtZW50XTpcbiAgICAgIFwiRW50aXR5IGtleSAne30nIGlzIGZvdW5kIG9uICd7fScgYnV0IGRvZXMgbm90IGNvbnRhaW4gc3RhdGUuIFdhcyAnc2VyaWFsaXplU3RhdGUoKScgbm90IHJ1biBkdXJpbmcgZGVoeWRyYXRpb24/XCIsXG4gICAgW1FFcnJvci5JbmplY3Rvcl9ub3RGb3VuZF9lbGVtZW50XTogXCJObyBpbmplY3RvciBjYW4gYmUgZm91bmQgc3RhcnRpbmcgYXQgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkluamVjdG9yX2V2ZW50SW5qZWN0b3JOb3RTZXJpYWxpemFibGVdOiAnRXZlbnRJbmplY3RvciBkb2VzIG5vdCBzdXBwb3J0IHNlcmlhbGl6YXRpb24uJyxcbiAgICAvLy8vLy8vLy8vLy8vL1xuICAgIFtRRXJyb3IuRW50aXR5X25vdFZhbGlkS2V5X2tleV06XG4gICAgICBcIkRhdGEga2V5ICd7fScgaXMgbm90IGEgdmFsaWQga2V5LlxcblwiICtcbiAgICAgICcgIC0gRGF0YSBrZXkgY2FuIG9ubHkgY29udGFpbiBjaGFyYWN0ZXJzIChwcmVmZXJhYmx5IGxvd2VyY2FzZSkgb3IgbnVtYmVyXFxuJyArXG4gICAgICAnICAtIERhdGEga2V5IGlzIHByZWZpeGVkIHdpdGggZW50aXR5IG5hbWVcXG4nICtcbiAgICAgIFwiICAtIERhdGEga2V5IGlzIG1hZGUgdXAgZnJvbSBwYXJ0cyB0aGF0IGFyZSBzZXBhcmF0ZWQgd2l0aCAnOicuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfa2V5QWxyZWFkeUV4aXN0c19rZXldOiBcIkEgZW50aXR5IHdpdGgga2V5ICd7fScgYWxyZWFkeSBleGlzdHMuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfaW52YWxpZEF0dHJpYnV0ZV9uYW1lXTpcbiAgICAgIFwiJ3t9JyBpcyBub3QgYSB2YWxpZCBhdHRyaWJ1dGUuIFwiICtcbiAgICAgIFwiQXR0cmlidXRlcyBjYW4gb25seSBjb250YWluICdhLXonIChsb3dlcmNhc2UpLCAnMC05JywgJy0nIGFuZCAnXycuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfbWlzc2luZ0V4cGFuZG9PclN0YXRlX2F0dHJOYW1lXTpcbiAgICAgIFwiRm91bmQgJ3t9JyBidXQgZXhwYW5kbyBkaWQgbm90IGhhdmUgZW50aXR5IGFuZCBhdHRyaWJ1dGUgZGlkIG5vdCBoYXZlIHN0YXRlLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X2VsZW1lbnRNaXNzaW5nRW50aXR5QXR0cl9lbGVtZW50X2F0dHJdOlxuICAgICAgXCJFbGVtZW50ICd7fScgaXMgbWlzc2luZyBlbnRpdHkgYXR0cmlidXRlIGRlZmluaXRpb24gJ3t9Jy5cIixcbiAgICBbUUVycm9yLkVudGl0eV9ub1N0YXRlX2VudGl0eV9wcm9wc106XG4gICAgICBcIlVuYWJsZSB0byBjcmVhdGUgc3RhdGUgZm9yIGVudGl0eSAne30nIHdpdGggcHJvcHMgJ3t9JyBiZWNhdXNlIG5vIHN0YXRlIGZvdW5kIGFuZCAnJG5ld1N0YXRlKCknIG1ldGhvZCB3YXMgbm90IGRlZmluZWQgb24gZW50aXR5LlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X2V4cGVjdGVkX29ial06IFwiJ3t9JyBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgJ0VudGl0eScuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfb3ZlcnJpZGVzQ29uc3RydWN0b3JfZW50aXR5XTpcbiAgICAgIFwiJ3t9JyBvdmVycmlkZXMgJ2NvbnN0cnVjdG9yJyBwcm9wZXJ0eSBwcmV2ZW50aW5nICdFbnRpdHlUeXBlJyByZXRyaWV2YWwuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfbm8ka2V5UHJvcHNfZW50aXR5XTogXCJFbnRpdHkgJ3t9JyBkb2VzIG5vdCBkZWZpbmUgJyRrZXlQcm9wcycuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfbm8kdHlwZV9lbnRpdHldOlxuICAgICAgXCJFbnRpdHkgJ3t9JyBtdXN0IGhhdmUgc3RhdGljICckdHlwZScgcHJvcGVydHkgZGVmaW5pbmcgdGhlIG5hbWUgb2YgdGhlIGVudGl0eS5cIixcbiAgICBbUUVycm9yLkVudGl0eV9ubyRxcmxfZW50aXR5XTpcbiAgICAgIFwiRW50aXR5ICd7fScgbXVzdCBoYXZlIHN0YXRpYyAnJHFybCcgcHJvcGVydHkgZGVmaW5pbmcgdGhlIGltcG9ydCBsb2NhdGlvbiBvZiB0aGUgZW50aXR5LlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X25hbWVDb2xsaXNpb25fbmFtZV9jdXJyZW50UXJsX2V4cGVjdGVkUXJsXTpcbiAgICAgIFwiTmFtZSBjb2xsaXNpb24uIEFscmVhZHkgaGF2ZSBlbnRpdHkgbmFtZWQgJ3t9JyB3aXRoIFFSTCAne30nIGJ1dCBleHBlY3RlZCBRUkwgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkVudGl0eV9rZXlNaXNzaW5nUGFydHNfa2V5X2tleV06XG4gICAgICBcIkVudGl0eSBrZXkgJ3t9JyBpcyBtaXNzaW5nIHZhbHVlcy4gRXhwZWN0aW5nICd7fTpzb21lVmFsdWUnLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X2tleVRvb01hbnlQYXJ0c19lbnRpdHlfcGFydHNfa2V5XTpcbiAgICAgIFwiRW50aXR5ICd7fScgZGVmaW5lcyAnJGtleVByb3BzJyBhcyAgJ3t9Jy4gQWN0dWFsIGtleSAne30nIGhhcyBtb3JlIHBhcnRzIHRoYW4gZW50aXR5IGRlZmluZXMuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfa2V5TmFtZU1pc21hdGNoX2tleV9uYW1lX2VudGl0eV9uYW1lXTpcbiAgICAgIFwiS2V5ICd7fScgYmVsb25ncyB0byBlbnRpdHkgbmFtZWQgJ3t9JywgYnV0IGV4cGVjdGVkIGVudGl0eSAne30nIHdpdGggbmFtZSAne30nLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X3N0YXRlTWlzc2luZ0tleV9zdGF0ZV06XG4gICAgICBcIkVudGl0eSBzdGF0ZSBpcyBtaXNzaW5nICcka2V5Jy4gQXJlIHlvdSBzdXJlIHlvdSBwYXNzZWQgaW4gc3RhdGU/IEdvdCAne30nLlwiLFxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgW1FFcnJvci5Db21wb25lbnRfYmluZE5lZWRzS2V5XTpcbiAgICAgIFwiJ2JpbmQ6JyBtdXN0IGhhdmUgYW4ga2V5LiAoRXhhbXBsZTogJ2JpbmQ6a2V5PVxcXCJwcm9wZXJ0eU5hbWVcXFwiJykuXCIsXG4gICAgW1FFcnJvci5Db21wb25lbnRfYmluZE5lZWRzVmFsdWVdOlxuICAgICAgXCInYmluZDppZCcgbXVzdCBoYXZlIGEgcHJvcGVydHkgbmFtZS4gKEV4YW1wbGU6ICdiaW5kOmtleT1cXFwicHJvcGVydHlOYW1lXFxcIicpLlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X25lZWRzU3RhdGVdOiBcIkNhbid0IGZpbmQgc3RhdGUgb24gaG9zdCBlbGVtZW50LlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X25lZWRzSW5qZWN0aW9uQ29udGV4dF9jb25zdHJ1Y3Rvcl06XG4gICAgICBcIkNvbXBvbmVudHMgbXVzdCBiZSBpbnN0YW50aWF0ZWQgaW5zaWRlIGFuIGluamVjdGlvbiBjb250ZXh0LiBVc2UgJ3t9Lm5ldyguLi4pJyBmb3IgY3JlYXRpb24uXCIsXG4gICAgW1FFcnJvci5Db21wb25lbnRfbm9Qcm9wZXJ0eV9wcm9wTmFtZV9wcm9wc19ob3N0XTpcbiAgICAgIFwiUHJvcGVydHkgJ3t9JyBub3QgZm91bmQgaW4gJ3t9JyBvbiBjb21wb25lbnQgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkNvbXBvbmVudF9ub3RGb3VuZF9jb21wb25lbnRdOiBcIlVuYWJsZSB0byBmaW5kICd7fScgY29tcG9uZW50LlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X2RvZXNOb3RNYXRjaF9jb21wb25lbnRfYWN0dWFsXTpcbiAgICAgIFwiUmVxdWVzdGluZyBjb21wb25lbnQgdHlwZSAne30nIGRvZXMgbm90IG1hdGNoIGV4aXN0aW5nIGNvbXBvbmVudCBpbnN0YW5jZSAne30nLlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X25vU3RhdGVfY29tcG9uZW50X3Byb3BzXTpcbiAgICAgIFwiVW5hYmxlIHRvIGNyZWF0ZSBzdGF0ZSBmb3IgY29tcG9uZW50ICd7fScgd2l0aCBwcm9wcyAne30nIGJlY2F1c2Ugbm8gc3RhdGUgZm91bmQgYW5kICckbmV3U3RhdGUoKScgbWV0aG9kIHdhcyBub3QgZGVmaW5lZCBvbiBjb21wb25lbnQuXCIsXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICBbUUVycm9yLlByb3ZpZGVyX3VucmVjb2duaXplZEZvcm1hdF92YWx1ZV06IFwiVW5yZWNvZ25pemVkIGV4cHJlc3Npb24gZm9ybWF0ICd7fScuXCIsXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICBbUUVycm9yLlJlbmRlcl91bmV4cGVjdGVkSlNYTm9kZVR5cGVfdHlwZV06ICdVbmV4cGVjdGVkIEpTWE5vZGU8e30+IHR5cGUuJyxcbiAgICBbUUVycm9yLlJlbmRlcl91bnN1cHBvcnRlZEZvcm1hdF9vYmpfYXR0cl06IFwiVmFsdWUgJ3t9JyBjYW4ndCBiZSB3cml0dGVuIGludG8gJ3t9JyBhdHRyaWJ1dGUuXCIsXG4gICAgW1FFcnJvci5SZW5kZXJfZXhwZWN0aW5nRW50aXR5X2VudGl0eV06IFwiRXhwZWN0aW5nIGVudGl0eSBvYmplY3QsIGdvdCAne30nLlwiLFxuICAgIFtRRXJyb3IuUmVuZGVyX2V4cGVjdGluZ0VudGl0eUFycmF5X29ial06IFwiRXhwZWN0aW5nIGFycmF5IG9mIGVudGl0aWVzLCBnb3QgJ3t9Jy5cIixcbiAgICBbUUVycm9yLlJlbmRlcl9leHBlY3RpbmdFbnRpdHlPckNvbXBvbmVudF9vYmpdOiBcIkV4cGVjdGluZyBFbnRpdHkgb3IgQ29tcG9uZW50IGdvdCAne30nLlwiLFxuICAgIFtRRXJyb3IuUmVuZGVyX3N0YXRlTWFjaGluZVN0dWNrXTogJ1JlbmRlciBzdGF0ZSBtYWNoaW5lIGRpZCBub3QgYWR2YW5jZS4nLFxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgW1FFcnJvci5FdmVudF9lbWl0RXZlbnRSZXF1aXJlc05hbWVfdXJsXTogXCJNaXNzaW5nICckdHlwZScgYXR0cmlidXRlIGluIHRoZSAne30nIHVybC5cIixcbiAgICBbUUVycm9yLkV2ZW50X2VtaXRFdmVudENvdWxkTm90RmluZExpc3RlbmVyX2V2ZW50X2VsZW1lbnRdOlxuICAgICAgXCJSZS1lbWl0dGluZyBldmVudCAne30nIGJ1dCBubyBsaXN0ZW5lciBmb3VuZCBhdCAne30nIG9yIGFueSBvZiBpdHMgcGFyZW50cy5cIixcbiAgfVtjb2RlXTtcbiAgbGV0IHRleHRDb2RlID0gJzAwMCcgKyBjb2RlO1xuICB0ZXh0Q29kZSA9IHRleHRDb2RlLnNsaWNlKC0zKTtcbiAgcmV0dXJuIGAke2FyZWF9KFEtJHt0ZXh0Q29kZX0pOiAke3RleHR9YDtcbn1cbiJdfQ==","export function isNode(value) {\n    return value && typeof value.nodeType == 'number';\n}\nexport function isDocument(value) {\n    return value && value.nodeType == 9;\n}\nexport function isElement(value) {\n    return isNode(value) && value.nodeType === 1;\n}\nexport function isText(value) {\n    return isNode(value) && value.nodeType === 3;\n}\nexport function isComment(value) {\n    return isNode(value) && value.nodeType === 9;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2VsZW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLE1BQU0sQ0FBQyxLQUFVO0lBQy9CLE9BQU8sS0FBSyxJQUFJLE9BQU8sS0FBSyxDQUFDLFFBQVEsSUFBSSxRQUFRLENBQUM7QUFDcEQsQ0FBQztBQUNELE1BQU0sVUFBVSxVQUFVLENBQUMsS0FBVTtJQUNuQyxPQUFPLEtBQUssSUFBSSxLQUFLLENBQUMsUUFBUSxJQUFJLENBQUMsQ0FBQztBQUN0QyxDQUFDO0FBQ0QsTUFBTSxVQUFVLFNBQVMsQ0FBQyxLQUFVO0lBQ2xDLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFDRCxNQUFNLFVBQVUsTUFBTSxDQUFDLEtBQVU7SUFDL0IsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7QUFDL0MsQ0FBQztBQUNELE1BQU0sVUFBVSxTQUFTLENBQUMsS0FBVTtJQUNsQyxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQztBQUMvQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZSh2YWx1ZTogYW55KTogdmFsdWUgaXMgTm9kZSB7XG4gIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUubm9kZVR5cGUgPT0gJ251bWJlcic7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNEb2N1bWVudCh2YWx1ZTogYW55KTogdmFsdWUgaXMgRG9jdW1lbnQge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWUubm9kZVR5cGUgPT0gOTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWU6IGFueSk6IHZhbHVlIGlzIEVsZW1lbnQge1xuICByZXR1cm4gaXNOb2RlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1RleHQodmFsdWU6IGFueSk6IHZhbHVlIGlzIFRleHQge1xuICByZXR1cm4gaXNOb2RlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbW1lbnQodmFsdWU6IGFueSk6IHZhbHVlIGlzIENvbW1lbnQge1xuICByZXR1cm4gaXNOb2RlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gOTtcbn1cbiJdfQ==","import { runtimeQrl } from './qrl';\n// <docs markdown=\"../readme.md#$\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#$ instead)\n/**\n * Qwik Optimizer marker function.\n *\n * Use `$(...)` to tell Qwik Optimizer to extract the expression in `$(...)` into a lazy-loadable\n * resource referenced by `QRL`.\n *\n * @see `implicit$FirstArg` for additional `____$(...)` rules.\n *\n * In this example `$(...)` is used to capture the callback function of `onmousemove` into\n * lazy-loadable reference. This allows the code to refer to the function without actually\n * loading the function. In this example, the callback function does not get loaded until\n * `mousemove` event fires.\n *\n * ```tsx\n * useOnDocument(\n *   'mousemove',\n *   $(() => console.log('mousemove'))\n * );\n * ```\n *\n * In this code the Qwik Optimizer detects `$(...)` and transforms the code into:\n *\n * ```tsx\n * // FILE: <current file>\n * useOnDocument('mousemove', qrl('./chunk-abc.js', 'onMousemove'));\n *\n * // FILE: chunk-abc.js\n * export const onMousemove = () => console.log('mousemove');\n * ```\n *\n * ## Special Rules\n *\n * The Qwik Optimizer places special rules on functions that can be lazy-loaded.\n *\n * 1. The expression of the `$(expression)` function must be importable by the system.\n * (expression shows up in `import` or has `export`)\n * 2. If inlined function then all lexically captured values must be:\n *    - importable (vars shows up in `import` or has `export`)\n *    - const (The capturing process differs from JS capturing in that writing to captured\n * variables does not update them, and therefore writes are forbidden. The best practice is that\n * all captured variables are constants.)\n *    - Must be runtime serializable.\n *\n * ```tsx\n * import { importedFn } from './import/example';\n *\n * export const greet = () => console.log('greet');\n * function topLevelFn() {}\n *\n * function myCode() {\n *   const store = useStore({});\n *   function localFn() {}\n *   // Valid Examples\n *   $(greet); // greet is importable\n *   $(importedFn); // importedFn is importable\n *   $(() => greet()); // greet is importable;\n *   $(() => importedFn()); // importedFn is importable\n *   $(() => console.log(store)); // store is serializable.\n *\n *   // Compile time errors\n *   $(topLevelFn); // ERROR: `topLevelFn` not importable\n *   $(() => topLevelFn()); // ERROR: `topLevelFn` not importable\n *\n *   // Runtime errors\n *   $(localFn); // ERROR: `localFn` fails serialization\n *   $(() => localFn()); // ERROR: `localFn` fails serialization\n * }\n *\n * ```\n *\n * @param expression - Expression which should be lazy loaded\n * @public\n */\n// </docs>\nexport function $(expression) {\n    return runtimeQrl(expression);\n}\n// <docs markdown=\"../readme.md#implicit$FirstArg\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#implicit$FirstArg instead)\n/**\n * Create a `____$(...)` convenience method from `___(...)`.\n *\n * It is very common for functions to take a lazy-loadable resource as a first argument. For this\n * reason, the Qwik Optimizer automatically extracts the first argument from any function which\n * ends in `$`.\n *\n * This means that `foo$(arg0)` and `foo($(arg0))` are equivalent with respect to Qwik Optimizer.\n * The former is just a shorthand for the latter.\n *\n * For example these function call are equivalent:\n *\n * - `component$(() => {...})` is same as `onRender($(() => {...}))`\n *\n * ```tsx\n * export function myApi(callback: QRL<() => void>): void {\n *   // ...\n * }\n *\n * export const myApi$ = implicit$FirstArg(myApi);\n * // type of myApi$: (callback: () => void): void\n *\n * // can be used as:\n * myApi$(() => console.log('callback'));\n *\n * // will be transpiled to:\n * // FILE: <current file>\n * myApi(qrl('./chunk-abc.js', 'callback'));\n *\n * // FILE: chunk-abc.js\n * export const callback = () => console.log('callback');\n * ```\n *\n * @param fn - function that should have its first argument automatically `$`.\n * @alpha\n */\n// </docs>\nexport function implicit$FirstArg(fn) {\n    return function (first, ...rest) {\n        return fn.call(null, $(first), ...rest);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9pbXBvcnQvcXJsLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBdUpuQyxtQ0FBbUM7QUFDbkMseUNBQXlDO0FBQ3pDLGdDQUFnQztBQUNoQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBd0VHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxDQUFDLENBQUksVUFBYTtJQUNoQyxPQUFPLFVBQVUsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNoQyxDQUFDO0FBRUQsbURBQW1EO0FBQ25ELHlDQUF5QztBQUN6QyxnREFBZ0Q7QUFDaEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUNHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxpQkFBaUIsQ0FDL0IsRUFBNkM7SUFFN0MsT0FBTyxVQUFVLEtBQVksRUFBRSxHQUFHLElBQVU7UUFDMUMsT0FBTyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUMxQyxDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uJztcbmltcG9ydCB0eXBlIHsgSW52b2tlQ29udGV4dCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBydW50aW1lUXJsIH0gZnJvbSAnLi9xcmwnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNRUkxcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjUVJMIGluc3RlYWQpXG4vKipcbiAqIFRoZSBgUVJMYCB0eXBlIHJlcHJlc2VudHMgYSBsYXp5LWxvYWRhYmxlIEFORCBzZXJpYWxpemFibGUgcmVzb3VyY2UuXG4gKlxuICogUVJMIHN0YW5kcyBmb3IgUXdpayBVUkwuXG4gKlxuICogVXNlIGBRUkxgIHdoZW4geW91IHdhbnQgdG8gcmVmZXIgdG8gYSBsYXp5LWxvYWRlZCByZXNvdXJjZS4gYFFSTGBzIGFyZSBtb3N0IG9mdGVuIHVzZWQgZm9yXG4gKiBjb2RlIChmdW5jdGlvbnMpIGJ1dCBjYW4gYWxzbyBiZSB1c2VkIGZvciBvdGhlciByZXNvdXJjZXMgc3VjaCBhcyBgc3RyaW5nYHMgaW4gdGhlIGNhc2Ugb2ZcbiAqIHN0eWxlcy5cbiAqXG4gKiBgUVJMYCBpcyBhbiBvcGFxdWUgdG9rZW4gdGhhdCBpcyBnZW5lcmF0ZWQgYnkgdGhlIFF3aWsgT3B0aW1pemVyLiAoRG8gbm90IHJlbHkgb24gYW55XG4gKiBwcm9wZXJ0aWVzIGluIGBRUkxgIGFzIGl0IG1heSBjaGFuZ2UgYmV0d2VlbiB2ZXJzaW9ucy4pXG4gKlxuICogIyMgQ3JlYXRpbmcgYFFSTGAgcmVmZXJlbmNlc1xuICpcbiAqIENyZWF0aW5nIGBRUkxgIGlzIGRvbmUgdXNpbmcgYCQoLi4uKWAgZnVuY3Rpb24uIGAkKC4uLilgIGlzIGEgc3BlY2lhbCBtYXJrZXIgZm9yIHRoZSBRd2lrXG4gKiBPcHRpbWl6ZXIgdGhhdCBtYXJrcyB0aGF0IHRoZSBjb2RlIHNob3VsZCBiZSBleHRyYWN0ZWQgaW50byBhIGxhenktbG9hZGVkIHN5bWJvbC5cbiAqXG4gKiBgYGB0c3hcbiAqIHVzZU9uRG9jdW1lbnQoXG4gKiAgICdtb3VzZW1vdmUnLFxuICogICAkKCgpID0+IGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnKSlcbiAqICk7XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgY29kZSB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBhcyBzaG93biBiZWxvdzpcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiB1c2VPbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBxcmwoJy4vY2h1bmstYWJjLmpzJywgJ29uTW91c2Vtb3ZlJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IG9uTW91c2Vtb3ZlID0gKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpO1xuICogYGBgXG4gKlxuICogTk9URTogYHFybCguLi4pYCBpcyBhIHJlc3VsdCBvZiBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi4gWW91IHNob3VsZCBuZXZlciBoYXZlIHRvIGludm9rZVxuICogdGhpcyBmdW5jdGlvbiBkaXJlY3RseSBpbiB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgYHFybCguLi4pYCBmdW5jdGlvbiBzaG91bGQgYmUgaW52b2tlZCBvbmx5XG4gKiBhZnRlciBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi5cbiAqXG4gKiAjIyBVc2luZyBgUVJMYHNcbiAqXG4gKiBVc2UgYFFSTGAgdHlwZSBpbiB5b3VyIGFwcGxpY2F0aW9uIHdoZW4geW91IHdhbnQgdG8gZ2V0IGEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYVxuICogcmVzb3VyY2UgKG1vc3QgbGlrZWx5IGEgZnVuY3Rpb24pLlxuICpcbiAqIGBgYHRzeFxuICogLy8gRXhhbXBsZSBvZiBkZWNsYXJpbmcgYSBjdXN0b20gZnVuY3Rpb25zIHdoaWNoIHRha2VzIGNhbGxiYWNrIGFzIFFSTC5cbiAqIGV4cG9ydCBmdW5jdGlvbiB1c2VNeUZ1bmN0aW9uKGNhbGxiYWNrOiBRUkw8KCkgPT4gdm9pZD4pIHtcbiAqICAgZG9FeHRyYVN0dWZmKCk7XG4gKiAgIC8vIFRoZSBjYWxsYmFjayBwYXNzZWQgdG8gYG9uRG9jdW1lbnRgIHJlcXVpcmVzIGBRUkxgLlxuICogICB1c2VPbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBjYWxsYmFjayk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgYWJvdmUgZXhhbXBsZSB0aGUgd2F5IHRvIHRoaW5rIGFib3V0IHRoZSBjb2RlIGlzIHRoYXQgeW91IGFyZSBub3QgYXNraW5nIGZvciBhIGNhbGxiYWNrXG4gKiBmdW5jdGlvbiwgYnV0IHJhdGhlciBhIHJlZmVyZW5jZSB0byBhIGxhenktbG9hZGFibGUgY2FsbGJhY2sgZnVuY3Rpb24uIFNwZWNpZmljYWxseSB0aGVcbiAqIGZ1bmN0aW9uIGxvYWRpbmcgc2hvdWxkIGJlIGRlbGF5ZWQgdW50aWwgaXQgaXMgYWN0dWFsbHkgbmVlZGVkLiBJbiB0aGUgYWJvdmUgZXhhbXBsZSB0aGVcbiAqIGZ1bmN0aW9uIHdvdWxkIG5vdCBsb2FkIHVudGlsIGFmdGVyIGEgYG1vdXNlbW92ZWAgZXZlbnQgb24gYGRvY3VtZW50YCBmaXJlcy5cbiAqXG4gKiAjIyBSZXNvbHZpbmcgYFFSTGAgcmVmZXJlbmNlc1xuICpcbiAqIEF0IHRpbWVzIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmVzb2x2ZSBhIGBRUkxgIHJlZmVyZW5jZSB0byB0aGUgYWN0dWFsIHZhbHVlLiBUaGlzIGNhbiBiZVxuICogcGVyZm9ybWVkIHVzaW5nIGBxcmxJbXBvcnQoLi4pYCBmdW5jdGlvbi5cbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEFzc3VtZSB5b3UgaGF2ZSBRUkwgcmVmZXJlbmNlIHRvIGEgZ3JlZXQgZnVuY3Rpb25cbiAqIGNvbnN0IGxhenlHcmVldDogUVJMPCgpID0+IHZvaWQ+ID0gJCgoKSA9PiBjb25zb2xlLmxvZygnSGVsbG8gV29ybGQhJykpO1xuICpcbiAqIC8vIFVzZSBgcXJsSW1wb3J0YCB0byBsb2FkIC8gcmVzb2x2ZSB0aGUgcmVmZXJlbmNlLlxuICogY29uc3QgZ3JlZXQ6ICgpID0+IHZvaWQgPSBhd2FpdCBsYXp5R3JlZXQucmVzb2x2ZShlbGVtZW50KTtcbiAqXG4gKiAvLyAgSW52b2tlIGl0XG4gKiBncmVldCgpO1xuICogYGBgXG4gKlxuICogTk9URTogYGVsZW1lbnRgIGlzIG5lZWRlZCBiZWNhdXNlIGBRUkxgcyBhcmUgcmVsYXRpdmUgYW5kIG5lZWQgYSBiYXNlIGxvY2F0aW9uIHRvIHJlc29sdmVcbiAqIGFnYWluc3QuIFRoZSBiYXNlIGxvY2F0aW9uIGlzIGVuY29kZWQgaW4gdGhlIEhUTUwgaW4gdGhlIGZvcm0gb2YgYDxkaXYgcTpiYXNlPVwiL3VybFwiPmAuXG4gKlxuICogIyMgUXVlc3Rpb246IFdoeSBub3QganVzdCB1c2UgYGltcG9ydCgpYD9cbiAqXG4gKiBBdCBmaXJzdCBnbGFuY2UgYFFSTGAgc2VydmVzIHRoZSBzYW1lIHB1cnBvc2UgYXMgYGltcG9ydCgpYC4gSG93ZXZlciwgdGhlcmUgYXJlIHRocmVlIHN1YnRsZVxuICogZGlmZmVyZW5jZXMgdGhhdCBuZWVkIHRvIGJlIHRha2VuIGludG8gYWNjb3VudC5cbiAqXG4gKiAxLiBgUVJMYHMgbXVzdCBiZSBzZXJpYWxpemFibGUgaW50byBIVE1MLlxuICogMi4gYFFSTGBzIG11c3QgYmUgcmVzb2x2ZWQgYnkgZnJhbWV3b3JrIHJlbGF0aXZlIHRvIGBxOmJhc2VgLlxuICogMy4gYFFSTGBzIG11c3QgYmUgYWJsZSB0byBjYXB0dXJlIGxleGljYWxseSBzY29wZWQgdmFyaWFibGVzLlxuICogNC4gYFFSTGBzIGVuY2Fwc3VsYXRlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gcnVubmluZyB3aXRoIGFuZCB3aXRob3V0IFF3aWsgT3B0aW1pemVyLlxuICogNS4gYFFSTGBzIGFsbG93IGV4cHJlc3NpbmcgbGF6eS1sb2FkZWQgYm91bmRhcmllcyB3aXRob3V0IHRoaW5raW5nIGFib3V0IGNodW5rIGFuZCBzeW1ib2xcbiAqIG5hbWVzLlxuICpcbiAqIExldCdzIGFzc3VtZSB0aGF0IHlvdSBpbnRlbmQgdG8gd3JpdGUgY29kZSBzdWNoIGFzIHRoaXM6XG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogcmV0dXJuIDxidXR0b24gb25DbGljaz17KCkgPT4gKGF3YWl0IGltcG9ydCgnLi9jaHVuay1hYmMuanMnKSkub25DbGlja30+XG4gKiBgYGBcbiAqXG4gKiBUaGUgYWJvdmUgY29kZSBuZWVkcyB0byBiZSBzZXJpYWxpemVkIGludG8gRE9NIHN1Y2ggYXM6XG4gKlxuICogYGBgXG4gKiA8ZGl2IHE6YmFzZT1cIi9idWlsZC9cIj5cbiAqICAgPGJ1dHRvbiBvbjpsaWNrPVwiLi9jaHVuay1hYmMuanMjb25DbGlja1wiPi4uLjwvYnV0dG9uPlxuICogPC9kaXY+XG4gKiBgYGBcbiAqXG4gKiAxLiBOb3RpY2UgdGhlcmUgaXMgbm8gZWFzeSB3YXkgdG8gZXh0cmFjdCBjaHVuayAoYC4vY2h1bmstYWJjLmpzYCkgYW5kIHN5bWJvbCAoYG9uQ2xpY2tgKSBpbnRvXG4gKiBIVE1MLlxuICogMi4gTm90aWNlIHRoYXQgZXZlbiBpZiB5b3UgY291bGQgZXh0cmFjdCBpdCwgdGhlIGBpbXBvcnQoJy4vY2h1bmstYWJjLmpzJylgIHdvdWxkIGJlY29tZVxuICogcmVsYXRpdmUgdG8gd2hlcmUgdGhlIGBpbXBvcnQoKWAgZmlsZSBpcyBkZWNsYXJlZC4gQmVjYXVzZSBpdCBpcyBvdXIgZnJhbWV3b3JrIGRvaW5nIHRoZSBsb2FkLFxuICogdGhlIGAuL2NodW5rLWFiYy5qc2Agd291bGQgYmVjb21lIHJlbGF0aXZlIHRvIHRoZSBmcmFtZXdvcmsgZmlsZS4gVGhpcyBpcyBub3QgY29ycmVjdCwgYXMgaXRcbiAqIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgb3JpZ2luYWwgZmlsZSBnZW5lcmF0ZWQgYnkgdGhlIGJ1bmRsZXIuXG4gKiAzLiBOZXh0IHRoZSBmcmFtZXdvcmsgbmVlZHMgdG8gcmVzb2x2ZSB0aGUgYC4vY2h1bmstYWJjLmpzYCBhbmQgbmVlZHMgYSBiYXNlIGxvY2F0aW9uIHRoYXQgaXNcbiAqIGVuY29kZWQgaW4gdGhlIEhUTUwuXG4gKiA0LiBUaGUgUVJMIG5lZWRzIHRvIGJlIGFibGUgdG8gY2FwdHVyZSBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcy4gKGBpbXBvcnQoKWAgb25seSBhbGxvd3NcbiAqIGxvYWRpbmcgdG9wLWxldmVsIHN5bWJvbHMgd2hpY2ggZG9uJ3QgY2FwdHVyZSB2YXJpYWJsZXMuKVxuICogNS4gQXMgYSBkZXZlbG9wZXIgeW91IGRvbid0IHdhbnQgdG8gdGhpbmsgYWJvdXQgYGltcG9ydGAgYW5kIG5hbWluZyBvZiB0aGUgY2h1bmtzIGFuZCBzeW1ib2xzLlxuICogWW91IGp1c3Qgd2FudCB0byBzYXksIHRoaXMgc2hvdWxkIGJlIGxhenkuXG4gKlxuICogVGhlc2UgYXJlIHRoZSBtYWluIHJlYXNvbnMgd2h5IFF3aWsgaW50cm9kdWNlcyBpdHMgb3duIGNvbmNlcHQgb2YgYFFSTGAuXG4gKlxuICogQHNlZSBgJGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBpbnRlcmZhY2UgUVJMPFRZUEUgPSBhbnk+IHtcbiAgX19icmFuZF9fUVJMX186IFRZUEU7XG4gIGdldFN5bWJvbCgpOiBzdHJpbmc7XG4gIGdldENhbm9uaWNhbFN5bWJvbCgpOiBzdHJpbmc7XG4gIHJlc29sdmUoY29udGFpbmVyPzogRWxlbWVudCk6IFByb21pc2U8VFlQRT47XG4gIHJlc29sdmVJZk5lZWRlZChjb250YWluZXI/OiBFbGVtZW50KTogVmFsdWVPclByb21pc2U8VFlQRT47XG4gIGludm9rZShcbiAgICAuLi5hcmdzOiBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGFueSA/IEFSR1MgOiBuZXZlclxuICApOiBQcm9taXNlPFRZUEUgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGluZmVyIFJFVFVSTiA/IFJFVFVSTiA6IG5ldmVyPjtcblxuICBpbnZva2VGbihcbiAgICBlbD86IEVsZW1lbnQsXG4gICAgY29udGV4dD86IEludm9rZUNvbnRleHQsXG4gICAgYmVmb3JlRm4/OiAoKSA9PiB2b2lkXG4gICk6IFRZUEUgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgQVJHUykgPT4gaW5mZXIgUkVUVVJOXG4gICAgPyAoLi4uYXJnczogQVJHUykgPT4gVmFsdWVPclByb21pc2U8UkVUVVJOPlxuICAgIDogbmV2ZXI7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBFdmVudEhhbmRsZXI8VD4gPSBRUkw8KHZhbHVlOiBUKSA9PiBhbnk+O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCMkXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kIyQgaW5zdGVhZClcbi8qKlxuICogUXdpayBPcHRpbWl6ZXIgbWFya2VyIGZ1bmN0aW9uLlxuICpcbiAqIFVzZSBgJCguLi4pYCB0byB0ZWxsIFF3aWsgT3B0aW1pemVyIHRvIGV4dHJhY3QgdGhlIGV4cHJlc3Npb24gaW4gYCQoLi4uKWAgaW50byBhIGxhenktbG9hZGFibGVcbiAqIHJlc291cmNlIHJlZmVyZW5jZWQgYnkgYFFSTGAuXG4gKlxuICogQHNlZSBgaW1wbGljaXQkRmlyc3RBcmdgIGZvciBhZGRpdGlvbmFsIGBfX19fJCguLi4pYCBydWxlcy5cbiAqXG4gKiBJbiB0aGlzIGV4YW1wbGUgYCQoLi4uKWAgaXMgdXNlZCB0byBjYXB0dXJlIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBvZiBgb25tb3VzZW1vdmVgIGludG9cbiAqIGxhenktbG9hZGFibGUgcmVmZXJlbmNlLiBUaGlzIGFsbG93cyB0aGUgY29kZSB0byByZWZlciB0byB0aGUgZnVuY3Rpb24gd2l0aG91dCBhY3R1YWxseVxuICogbG9hZGluZyB0aGUgZnVuY3Rpb24uIEluIHRoaXMgZXhhbXBsZSwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGRvZXMgbm90IGdldCBsb2FkZWQgdW50aWxcbiAqIGBtb3VzZW1vdmVgIGV2ZW50IGZpcmVzLlxuICpcbiAqIGBgYHRzeFxuICogdXNlT25Eb2N1bWVudChcbiAqICAgJ21vdXNlbW92ZScsXG4gKiAgICQoKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpKVxuICogKTtcbiAqIGBgYFxuICpcbiAqIEluIHRoaXMgY29kZSB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBpbnRvOlxuICpcbiAqIGBgYHRzeFxuICogLy8gRklMRTogPGN1cnJlbnQgZmlsZT5cbiAqIHVzZU9uRG9jdW1lbnQoJ21vdXNlbW92ZScsIHFybCgnLi9jaHVuay1hYmMuanMnLCAnb25Nb3VzZW1vdmUnKSk7XG4gKlxuICogLy8gRklMRTogY2h1bmstYWJjLmpzXG4gKiBleHBvcnQgY29uc3Qgb25Nb3VzZW1vdmUgPSAoKSA9PiBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJyk7XG4gKiBgYGBcbiAqXG4gKiAjIyBTcGVjaWFsIFJ1bGVzXG4gKlxuICogVGhlIFF3aWsgT3B0aW1pemVyIHBsYWNlcyBzcGVjaWFsIHJ1bGVzIG9uIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBsYXp5LWxvYWRlZC5cbiAqXG4gKiAxLiBUaGUgZXhwcmVzc2lvbiBvZiB0aGUgYCQoZXhwcmVzc2lvbilgIGZ1bmN0aW9uIG11c3QgYmUgaW1wb3J0YWJsZSBieSB0aGUgc3lzdGVtLlxuICogKGV4cHJlc3Npb24gc2hvd3MgdXAgaW4gYGltcG9ydGAgb3IgaGFzIGBleHBvcnRgKVxuICogMi4gSWYgaW5saW5lZCBmdW5jdGlvbiB0aGVuIGFsbCBsZXhpY2FsbHkgY2FwdHVyZWQgdmFsdWVzIG11c3QgYmU6XG4gKiAgICAtIGltcG9ydGFibGUgKHZhcnMgc2hvd3MgdXAgaW4gYGltcG9ydGAgb3IgaGFzIGBleHBvcnRgKVxuICogICAgLSBjb25zdCAoVGhlIGNhcHR1cmluZyBwcm9jZXNzIGRpZmZlcnMgZnJvbSBKUyBjYXB0dXJpbmcgaW4gdGhhdCB3cml0aW5nIHRvIGNhcHR1cmVkXG4gKiB2YXJpYWJsZXMgZG9lcyBub3QgdXBkYXRlIHRoZW0sIGFuZCB0aGVyZWZvcmUgd3JpdGVzIGFyZSBmb3JiaWRkZW4uIFRoZSBiZXN0IHByYWN0aWNlIGlzIHRoYXRcbiAqIGFsbCBjYXB0dXJlZCB2YXJpYWJsZXMgYXJlIGNvbnN0YW50cy4pXG4gKiAgICAtIE11c3QgYmUgcnVudGltZSBzZXJpYWxpemFibGUuXG4gKlxuICogYGBgdHN4XG4gKiBpbXBvcnQgeyBpbXBvcnRlZEZuIH0gZnJvbSAnLi9pbXBvcnQvZXhhbXBsZSc7XG4gKlxuICogZXhwb3J0IGNvbnN0IGdyZWV0ID0gKCkgPT4gY29uc29sZS5sb2coJ2dyZWV0Jyk7XG4gKiBmdW5jdGlvbiB0b3BMZXZlbEZuKCkge31cbiAqXG4gKiBmdW5jdGlvbiBteUNvZGUoKSB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe30pO1xuICogICBmdW5jdGlvbiBsb2NhbEZuKCkge31cbiAqICAgLy8gVmFsaWQgRXhhbXBsZXNcbiAqICAgJChncmVldCk7IC8vIGdyZWV0IGlzIGltcG9ydGFibGVcbiAqICAgJChpbXBvcnRlZEZuKTsgLy8gaW1wb3J0ZWRGbiBpcyBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gZ3JlZXQoKSk7IC8vIGdyZWV0IGlzIGltcG9ydGFibGU7XG4gKiAgICQoKCkgPT4gaW1wb3J0ZWRGbigpKTsgLy8gaW1wb3J0ZWRGbiBpcyBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gY29uc29sZS5sb2coc3RvcmUpKTsgLy8gc3RvcmUgaXMgc2VyaWFsaXphYmxlLlxuICpcbiAqICAgLy8gQ29tcGlsZSB0aW1lIGVycm9yc1xuICogICAkKHRvcExldmVsRm4pOyAvLyBFUlJPUjogYHRvcExldmVsRm5gIG5vdCBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gdG9wTGV2ZWxGbigpKTsgLy8gRVJST1I6IGB0b3BMZXZlbEZuYCBub3QgaW1wb3J0YWJsZVxuICpcbiAqICAgLy8gUnVudGltZSBlcnJvcnNcbiAqICAgJChsb2NhbEZuKTsgLy8gRVJST1I6IGBsb2NhbEZuYCBmYWlscyBzZXJpYWxpemF0aW9uXG4gKiAgICQoKCkgPT4gbG9jYWxGbigpKTsgLy8gRVJST1I6IGBsb2NhbEZuYCBmYWlscyBzZXJpYWxpemF0aW9uXG4gKiB9XG4gKlxuICogYGBgXG4gKlxuICogQHBhcmFtIGV4cHJlc3Npb24gLSBFeHByZXNzaW9uIHdoaWNoIHNob3VsZCBiZSBsYXp5IGxvYWRlZFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gJDxUPihleHByZXNzaW9uOiBUKTogUVJMPFQ+IHtcbiAgcmV0dXJuIHJ1bnRpbWVRcmwoZXhwcmVzc2lvbik7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI2ltcGxpY2l0JEZpcnN0QXJnXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI2ltcGxpY2l0JEZpcnN0QXJnIGluc3RlYWQpXG4vKipcbiAqIENyZWF0ZSBhIGBfX19fJCguLi4pYCBjb252ZW5pZW5jZSBtZXRob2QgZnJvbSBgX19fKC4uLilgLlxuICpcbiAqIEl0IGlzIHZlcnkgY29tbW9uIGZvciBmdW5jdGlvbnMgdG8gdGFrZSBhIGxhenktbG9hZGFibGUgcmVzb3VyY2UgYXMgYSBmaXJzdCBhcmd1bWVudC4gRm9yIHRoaXNcbiAqIHJlYXNvbiwgdGhlIFF3aWsgT3B0aW1pemVyIGF1dG9tYXRpY2FsbHkgZXh0cmFjdHMgdGhlIGZpcnN0IGFyZ3VtZW50IGZyb20gYW55IGZ1bmN0aW9uIHdoaWNoXG4gKiBlbmRzIGluIGAkYC5cbiAqXG4gKiBUaGlzIG1lYW5zIHRoYXQgYGZvbyQoYXJnMClgIGFuZCBgZm9vKCQoYXJnMCkpYCBhcmUgZXF1aXZhbGVudCB3aXRoIHJlc3BlY3QgdG8gUXdpayBPcHRpbWl6ZXIuXG4gKiBUaGUgZm9ybWVyIGlzIGp1c3QgYSBzaG9ydGhhbmQgZm9yIHRoZSBsYXR0ZXIuXG4gKlxuICogRm9yIGV4YW1wbGUgdGhlc2UgZnVuY3Rpb24gY2FsbCBhcmUgZXF1aXZhbGVudDpcbiAqXG4gKiAtIGBjb21wb25lbnQkKCgpID0+IHsuLi59KWAgaXMgc2FtZSBhcyBgb25SZW5kZXIoJCgoKSA9PiB7Li4ufSkpYFxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGZ1bmN0aW9uIG15QXBpKGNhbGxiYWNrOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAqICAgLy8gLi4uXG4gKiB9XG4gKlxuICogZXhwb3J0IGNvbnN0IG15QXBpJCA9IGltcGxpY2l0JEZpcnN0QXJnKG15QXBpKTtcbiAqIC8vIHR5cGUgb2YgbXlBcGkkOiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkXG4gKlxuICogLy8gY2FuIGJlIHVzZWQgYXM6XG4gKiBteUFwaSQoKCkgPT4gY29uc29sZS5sb2coJ2NhbGxiYWNrJykpO1xuICpcbiAqIC8vIHdpbGwgYmUgdHJhbnNwaWxlZCB0bzpcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiBteUFwaShxcmwoJy4vY2h1bmstYWJjLmpzJywgJ2NhbGxiYWNrJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gY29uc29sZS5sb2coJ2NhbGxiYWNrJyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZm4gLSBmdW5jdGlvbiB0aGF0IHNob3VsZCBoYXZlIGl0cyBmaXJzdCBhcmd1bWVudCBhdXRvbWF0aWNhbGx5IGAkYC5cbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gaW1wbGljaXQkRmlyc3RBcmc8RklSU1QsIFJFU1QgZXh0ZW5kcyBhbnlbXSwgUkVUPihcbiAgZm46IChmaXJzdDogUVJMPEZJUlNUPiwgLi4ucmVzdDogUkVTVCkgPT4gUkVUXG4pOiAoZmlyc3Q6IEZJUlNULCAuLi5yZXN0OiBSRVNUKSA9PiBSRVQge1xuICByZXR1cm4gZnVuY3Rpb24gKGZpcnN0OiBGSVJTVCwgLi4ucmVzdDogUkVTVCk6IFJFVCB7XG4gICAgcmV0dXJuIGZuLmNhbGwobnVsbCwgJChmaXJzdCksIC4uLnJlc3QpO1xuICB9O1xufVxuIl19","import { assertDefined, assertEqual } from '../assert/assert';\nimport { RenderEvent } from '../util/markers';\nimport { getInvokeContext } from './use-core';\n// <docs markdown=\"../readme.md#useHostElement\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useHostElement instead)\n/**\n * Retrieves the Host Element of the current component.\n *\n * NOTE: `useHostElement` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * ```tsx\n * const Section = component$(\n *   () => {\n *     const hostElement = useHostElement();\n *     console.log(hostElement); // hostElement is a HTMLSectionElement\n *\n *     return <Host>I am a section</Host>;\n *   },\n *   {\n *     tagName: 'section',\n *   }\n * );\n * ```\n *\n * @public\n */\n// </docs>\nexport function useHostElement() {\n    const ctx = getInvokeContext();\n    assertEqual(ctx.event, RenderEvent);\n    const element = ctx.hostElement;\n    assertDefined(element);\n    return element;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWhvc3QtZWxlbWVudC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1ob3N0LWVsZW1lbnQucHVibGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUU5QyxnREFBZ0Q7QUFDaEQseUNBQXlDO0FBQ3pDLDZDQUE2QztBQUM3Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBcUJHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxjQUFjO0lBQzVCLE1BQU0sR0FBRyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDL0IsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDcEMsTUFBTSxPQUFPLEdBQUcsR0FBRyxDQUFDLFdBQVksQ0FBQztJQUNqQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdkIsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBnZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUhvc3RFbGVtZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUhvc3RFbGVtZW50IGluc3RlYWQpXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgSG9zdCBFbGVtZW50IG9mIHRoZSBjdXJyZW50IGNvbXBvbmVudC5cbiAqXG4gKiBOT1RFOiBgdXNlSG9zdEVsZW1lbnRgIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBzeW5jaHJvbm91cyBwb3J0aW9uIG9mIHRoZSBjYWxsYmFja1xuICogKGJlZm9yZSBhbnkgYGF3YWl0YCBzdGF0ZW1lbnRzLilcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IFNlY3Rpb24gPSBjb21wb25lbnQkKFxuICogICAoKSA9PiB7XG4gKiAgICAgY29uc3QgaG9zdEVsZW1lbnQgPSB1c2VIb3N0RWxlbWVudCgpO1xuICogICAgIGNvbnNvbGUubG9nKGhvc3RFbGVtZW50KTsgLy8gaG9zdEVsZW1lbnQgaXMgYSBIVE1MU2VjdGlvbkVsZW1lbnRcbiAqXG4gKiAgICAgcmV0dXJuIDxIb3N0PkkgYW0gYSBzZWN0aW9uPC9Ib3N0PjtcbiAqICAgfSxcbiAqICAge1xuICogICAgIHRhZ05hbWU6ICdzZWN0aW9uJyxcbiAqICAgfVxuICogKTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZUhvc3RFbGVtZW50KCk6IEVsZW1lbnQge1xuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIGFzc2VydEVxdWFsKGN0eC5ldmVudCwgUmVuZGVyRXZlbnQpO1xuICBjb25zdCBlbGVtZW50ID0gY3R4Lmhvc3RFbGVtZW50ITtcbiAgYXNzZXJ0RGVmaW5lZChlbGVtZW50KTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG4iXX0=","import { qObject } from '../object/q-object';\nimport { getInvokeContext, useContainerState } from './use-core';\nimport { useHostElement } from './use-host-element.public';\nimport { getContext } from '../props/props';\nimport { wrapSubscriber } from './use-subscriber';\nimport { assertEqual } from '../assert/assert';\nimport { RenderEvent } from '../util/markers';\n// <docs markdown=\"../readme.md#useStore\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStore instead)\n/**\n * Creates a object that Qwik can track across serializations.\n *\n * Use `useStore` to create state for your application. The return object is a proxy which has a\n * unique ID. The ID of the object is used in the `QRL`s to refer to the store.\n *\n * ## Example\n *\n * Example showing how `useStore` is used in Counter example to keep track of count.\n *\n * ```tsx\n * const Stores = component$(() => {\n *   const counter = useCounter(1);\n *\n *   // Reactivity happens even for nested objects and arrays\n *   const userData = useStore({\n *     name: 'Manu',\n *     address: {\n *       address: '',\n *       city: '',\n *     },\n *     orgs: [],\n *   });\n *\n *   // useStore() can also accept a function to calculate the initial value\n *   const state = useStore(() => {\n *     return {\n *       value: expensiveInitialValue(),\n *     };\n *   });\n *\n *   return (\n *     <Host>\n *       <div>Counter: {counter.value}</div>\n *       <Child userData={userData} state={state} />\n *     </Host>\n *   );\n * });\n *\n * function useCounter(step: number) {\n *   // Multiple stores can be created in custom hooks for convenience and composability\n *   const counterStore = useStore({\n *     value: 0,\n *   });\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       counterStore.value += step;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *   return counterStore;\n * }\n * ```\n *\n * @public\n */\n// </docs>\nexport function useStore(initialState) {\n    const [store, setStore] = useSequentialScope();\n    const hostElement = useHostElement();\n    if (store != null) {\n        return wrapSubscriber(store, hostElement);\n    }\n    const containerState = useContainerState();\n    const value = typeof initialState === 'function' ? initialState() : initialState;\n    const newStore = qObject(value, containerState);\n    setStore(newStore);\n    return wrapSubscriber(newStore, hostElement);\n}\n// <docs markdown=\"../readme.md#useRef\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useRef instead)\n/**\n * It's a very thin wrapper around `useStore()` including the proper type signature to be passed\n * to the `ref` property in JSX.\n *\n * ```tsx\n * export function useRef<T = Element>(current?: T): Ref<T> {\n *   return useStore({ current });\n * }\n * ```\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const input = useRef<HTMLInputElement>();\n *\n *   useClientEffect$((track) => {\n *     const el = track(input, 'current')!;\n *     el.focus();\n *   });\n *\n *   return (\n *     <Host>\n *       <input type=\"text\" ref={input} />\n *     </Host>\n *   );\n * });\n *\n * ```\n *\n * @public\n */\n// </docs>\nexport function useRef(current) {\n    return useStore({ current });\n}\n/**\n * @alpha\n */\nexport function useSequentialScope() {\n    const ctx = getInvokeContext();\n    assertEqual(ctx.event, RenderEvent);\n    const index = ctx.seq;\n    const hostElement = useHostElement();\n    const elementCtx = getContext(hostElement);\n    ctx.seq++;\n    const updateFn = (value) => {\n        elementCtx.seq[index] = value;\n    };\n    return [elementCtx.seq[index], updateFn, index];\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0b3JlLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0b3JlLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDN0MsT0FBTyxFQUFFLGdCQUFnQixFQUFFLGlCQUFpQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFOUMsMENBQTBDO0FBQzFDLHlDQUF5QztBQUN6Qyx1Q0FBdUM7QUFDdkM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0EwREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxVQUFVLFFBQVEsQ0FBdUIsWUFBbUM7SUFDaEYsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxrQkFBa0IsRUFBRSxDQUFDO0lBQy9DLE1BQU0sV0FBVyxHQUFHLGNBQWMsRUFBRSxDQUFDO0lBQ3JDLElBQUksS0FBSyxJQUFJLElBQUksRUFBRTtRQUNqQixPQUFPLGNBQWMsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7S0FDM0M7SUFFRCxNQUFNLGNBQWMsR0FBRyxpQkFBaUIsRUFBRSxDQUFDO0lBQzNDLE1BQU0sS0FBSyxHQUFHLE9BQU8sWUFBWSxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUUsWUFBeUIsRUFBRSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7SUFDL0YsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEtBQUssRUFBRSxjQUFjLENBQUMsQ0FBQztJQUNoRCxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbkIsT0FBTyxjQUFjLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFTRCx3Q0FBd0M7QUFDeEMseUNBQXlDO0FBQ3pDLHFDQUFxQztBQUNyQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQStCRztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsTUFBTSxDQUFjLE9BQVc7SUFDN0MsT0FBTyxRQUFRLENBQUMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDO0FBQy9CLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxrQkFBa0I7SUFDaEMsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQixXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNwQyxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ3RCLE1BQU0sV0FBVyxHQUFHLGNBQWMsRUFBRSxDQUFDO0lBQ3JDLE1BQU0sVUFBVSxHQUFHLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDVixNQUFNLFFBQVEsR0FBRyxDQUFDLEtBQVUsRUFBRSxFQUFFO1FBQzlCLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQ2hDLENBQUMsQ0FBQztJQUNGLE9BQU8sQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFLFFBQVEsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNsRCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcU9iamVjdCB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBnZXRJbnZva2VDb250ZXh0LCB1c2VDb250YWluZXJTdGF0ZSB9IGZyb20gJy4vdXNlLWNvcmUnO1xuaW1wb3J0IHsgdXNlSG9zdEVsZW1lbnQgfSBmcm9tICcuL3VzZS1ob3N0LWVsZW1lbnQucHVibGljJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyB3cmFwU3Vic2NyaWJlciB9IGZyb20gJy4vdXNlLXN1YnNjcmliZXInO1xuaW1wb3J0IHsgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IFJlbmRlckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3RvcmVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3RvcmUgaW5zdGVhZClcbi8qKlxuICogQ3JlYXRlcyBhIG9iamVjdCB0aGF0IFF3aWsgY2FuIHRyYWNrIGFjcm9zcyBzZXJpYWxpemF0aW9ucy5cbiAqXG4gKiBVc2UgYHVzZVN0b3JlYCB0byBjcmVhdGUgc3RhdGUgZm9yIHlvdXIgYXBwbGljYXRpb24uIFRoZSByZXR1cm4gb2JqZWN0IGlzIGEgcHJveHkgd2hpY2ggaGFzIGFcbiAqIHVuaXF1ZSBJRC4gVGhlIElEIG9mIHRoZSBvYmplY3QgaXMgdXNlZCBpbiB0aGUgYFFSTGBzIHRvIHJlZmVyIHRvIHRoZSBzdG9yZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRXhhbXBsZSBzaG93aW5nIGhvdyBgdXNlU3RvcmVgIGlzIHVzZWQgaW4gQ291bnRlciBleGFtcGxlIHRvIGtlZXAgdHJhY2sgb2YgY291bnQuXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBTdG9yZXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgY291bnRlciA9IHVzZUNvdW50ZXIoMSk7XG4gKlxuICogICAvLyBSZWFjdGl2aXR5IGhhcHBlbnMgZXZlbiBmb3IgbmVzdGVkIG9iamVjdHMgYW5kIGFycmF5c1xuICogICBjb25zdCB1c2VyRGF0YSA9IHVzZVN0b3JlKHtcbiAqICAgICBuYW1lOiAnTWFudScsXG4gKiAgICAgYWRkcmVzczoge1xuICogICAgICAgYWRkcmVzczogJycsXG4gKiAgICAgICBjaXR5OiAnJyxcbiAqICAgICB9LFxuICogICAgIG9yZ3M6IFtdLFxuICogICB9KTtcbiAqXG4gKiAgIC8vIHVzZVN0b3JlKCkgY2FuIGFsc28gYWNjZXB0IGEgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIHRoZSBpbml0aWFsIHZhbHVlXG4gKiAgIGNvbnN0IHN0YXRlID0gdXNlU3RvcmUoKCkgPT4ge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICB2YWx1ZTogZXhwZW5zaXZlSW5pdGlhbFZhbHVlKCksXG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAgPGRpdj5Db3VudGVyOiB7Y291bnRlci52YWx1ZX08L2Rpdj5cbiAqICAgICAgIDxDaGlsZCB1c2VyRGF0YT17dXNlckRhdGF9IHN0YXRlPXtzdGF0ZX0gLz5cbiAqICAgICA8L0hvc3Q+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBmdW5jdGlvbiB1c2VDb3VudGVyKHN0ZXA6IG51bWJlcikge1xuICogICAvLyBNdWx0aXBsZSBzdG9yZXMgY2FuIGJlIGNyZWF0ZWQgaW4gY3VzdG9tIGhvb2tzIGZvciBjb252ZW5pZW5jZSBhbmQgY29tcG9zYWJpbGl0eVxuICogICBjb25zdCBjb3VudGVyU3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgdmFsdWU6IDAsXG4gKiAgIH0pO1xuICogICB1c2VDbGllbnRFZmZlY3QkKCgpID0+IHtcbiAqICAgICAvLyBPbmx5IHJ1bnMgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICogICAgICAgY291bnRlclN0b3JlLnZhbHVlICs9IHN0ZXA7XG4gKiAgICAgfSwgNTAwKTtcbiAqICAgICByZXR1cm4gKCkgPT4ge1xuICogICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiBjb3VudGVyU3RvcmU7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdG9yZTxTVEFURSBleHRlbmRzIG9iamVjdD4oaW5pdGlhbFN0YXRlOiBTVEFURSB8ICgoKSA9PiBTVEFURSkpOiBTVEFURSB7XG4gIGNvbnN0IFtzdG9yZSwgc2V0U3RvcmVdID0gdXNlU2VxdWVudGlhbFNjb3BlKCk7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgaWYgKHN0b3JlICE9IG51bGwpIHtcbiAgICByZXR1cm4gd3JhcFN1YnNjcmliZXIoc3RvcmUsIGhvc3RFbGVtZW50KTtcbiAgfVxuXG4gIGNvbnN0IGNvbnRhaW5lclN0YXRlID0gdXNlQ29udGFpbmVyU3RhdGUoKTtcbiAgY29uc3QgdmFsdWUgPSB0eXBlb2YgaW5pdGlhbFN0YXRlID09PSAnZnVuY3Rpb24nID8gKGluaXRpYWxTdGF0ZSBhcyBGdW5jdGlvbikoKSA6IGluaXRpYWxTdGF0ZTtcbiAgY29uc3QgbmV3U3RvcmUgPSBxT2JqZWN0KHZhbHVlLCBjb250YWluZXJTdGF0ZSk7XG4gIHNldFN0b3JlKG5ld1N0b3JlKTtcbiAgcmV0dXJuIHdyYXBTdWJzY3JpYmVyKG5ld1N0b3JlLCBob3N0RWxlbWVudCk7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVmPFQ+IHtcbiAgY3VycmVudD86IFQ7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVJlZlwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VSZWYgaW5zdGVhZClcbi8qKlxuICogSXQncyBhIHZlcnkgdGhpbiB3cmFwcGVyIGFyb3VuZCBgdXNlU3RvcmUoKWAgaW5jbHVkaW5nIHRoZSBwcm9wZXIgdHlwZSBzaWduYXR1cmUgdG8gYmUgcGFzc2VkXG4gKiB0byB0aGUgYHJlZmAgcHJvcGVydHkgaW4gSlNYLlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGZ1bmN0aW9uIHVzZVJlZjxUID0gRWxlbWVudD4oY3VycmVudD86IFQpOiBSZWY8VD4ge1xuICogICByZXR1cm4gdXNlU3RvcmUoeyBjdXJyZW50IH0pO1xuICogfVxuICogYGBgXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IGlucHV0ID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KCk7XG4gKlxuICogICB1c2VDbGllbnRFZmZlY3QkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGVsID0gdHJhY2soaW5wdXQsICdjdXJyZW50JykhO1xuICogICAgIGVsLmZvY3VzKCk7XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8SG9zdD5cbiAqICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHJlZj17aW5wdXR9IC8+XG4gKiAgICAgPC9Ib3N0PlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlUmVmPFQgPSBFbGVtZW50PihjdXJyZW50PzogVCk6IFJlZjxUPiB7XG4gIHJldHVybiB1c2VTdG9yZSh7IGN1cnJlbnQgfSk7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTZXF1ZW50aWFsU2NvcGUoKTogW2FueSwgKHByb3A6IGFueSkgPT4gdm9pZCwgbnVtYmVyXSB7XG4gIGNvbnN0IGN0eCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgYXNzZXJ0RXF1YWwoY3R4LmV2ZW50LCBSZW5kZXJFdmVudCk7XG4gIGNvbnN0IGluZGV4ID0gY3R4LnNlcTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSB1c2VIb3N0RWxlbWVudCgpO1xuICBjb25zdCBlbGVtZW50Q3R4ID0gZ2V0Q29udGV4dChob3N0RWxlbWVudCk7XG4gIGN0eC5zZXErKztcbiAgY29uc3QgdXBkYXRlRm4gPSAodmFsdWU6IGFueSkgPT4ge1xuICAgIGVsZW1lbnRDdHguc2VxW2luZGV4XSA9IHZhbHVlO1xuICB9O1xuICByZXR1cm4gW2VsZW1lbnRDdHguc2VxW2luZGV4XSwgdXBkYXRlRm4sIGluZGV4XTtcbn1cbiJdfQ==","import { wrapSubscriber } from './use-subscriber';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { parseQRL } from '../import/qrl';\nimport { getContext, resumeIfNeeded } from '../props/props';\nimport { getContainer, getInvokeContext } from './use-core';\n// <docs markdown=\"../readme.md#useLexicalScope\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useLexicalScope instead)\n/**\n * Used by the Qwik Optimizer to restore the lexical scoped variables.\n *\n * This method should not be present in the application source code.\n *\n * NOTE: `useLexicalScope` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * @public\n */\n// </docs>\nexport function useLexicalScope() {\n    const context = getInvokeContext();\n    const hostElement = context.hostElement;\n    const qrl = (context.qrl ??\n        parseQRL(decodeURIComponent(String(context.url)), hostElement));\n    if (qrl.captureRef == null) {\n        const el = context.element;\n        assertDefined(el);\n        resumeIfNeeded(getContainer(el));\n        const ctx = getContext(el);\n        qrl.captureRef = qrl.capture.map((idx) => qInflate(idx, ctx));\n    }\n    const subscriber = context.subscriber;\n    if (subscriber) {\n        return qrl.captureRef.map((obj) => wrapSubscriber(obj, subscriber));\n    }\n    return qrl.captureRef;\n}\nfunction qInflate(ref, hostCtx) {\n    const int = parseInt(ref, 10);\n    const obj = hostCtx.refMap.get(int);\n    assertEqual(hostCtx.refMap.array.length > int, true);\n    return obj;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxleGljYWwtc2NvcGUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsVUFBVSxFQUFZLGNBQWMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxZQUFZLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFHNUQsaURBQWlEO0FBQ2pELHlDQUF5QztBQUN6Qyw4Q0FBOEM7QUFDOUM7Ozs7Ozs7OztHQVNHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxlQUFlO0lBQzdCLE1BQU0sT0FBTyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDbkMsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQztJQUN4QyxNQUFNLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxHQUFHO1FBQ3RCLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQWdCLENBQUM7SUFDakYsSUFBSSxHQUFHLENBQUMsVUFBVSxJQUFJLElBQUksRUFBRTtRQUMxQixNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsT0FBUSxDQUFDO1FBQzVCLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsQixjQUFjLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBRSxDQUFDLENBQUM7UUFDbEMsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRTNCLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLE9BQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNoRTtJQUNELE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDdEMsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFTLENBQUM7S0FDN0U7SUFDRCxPQUFPLEdBQUcsQ0FBQyxVQUFrQixDQUFDO0FBQ2hDLENBQUM7QUFFRCxTQUFTLFFBQVEsQ0FBQyxHQUFXLEVBQUUsT0FBaUI7SUFDOUMsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5QixNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwQyxXQUFXLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNyRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3cmFwU3Vic2NyaWJlciB9IGZyb20gJy4vdXNlLXN1YnNjcmliZXInO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IHBhcnNlUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybCc7XG5pbXBvcnQgeyBnZXRDb250ZXh0LCBRQ29udGV4dCwgcmVzdW1lSWZOZWVkZWQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBnZXRDb250YWluZXIsIGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlTGV4aWNhbFNjb3BlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUxleGljYWxTY29wZSBpbnN0ZWFkKVxuLyoqXG4gKiBVc2VkIGJ5IHRoZSBRd2lrIE9wdGltaXplciB0byByZXN0b3JlIHRoZSBsZXhpY2FsIHNjb3BlZCB2YXJpYWJsZXMuXG4gKlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIG5vdCBiZSBwcmVzZW50IGluIHRoZSBhcHBsaWNhdGlvbiBzb3VyY2UgY29kZS5cbiAqXG4gKiBOT1RFOiBgdXNlTGV4aWNhbFNjb3BlYCBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgc3luY2hyb25vdXMgcG9ydGlvbiBvZiB0aGUgY2FsbGJhY2tcbiAqIChiZWZvcmUgYW55IGBhd2FpdGAgc3RhdGVtZW50cy4pXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlTGV4aWNhbFNjb3BlPFZBUlMgZXh0ZW5kcyBhbnlbXT4oKTogVkFSUyB7XG4gIGNvbnN0IGNvbnRleHQgPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gY29udGV4dC5ob3N0RWxlbWVudDtcbiAgY29uc3QgcXJsID0gKGNvbnRleHQucXJsID8/XG4gICAgcGFyc2VRUkwoZGVjb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb250ZXh0LnVybCkpLCBob3N0RWxlbWVudCkpIGFzIFFSTEludGVybmFsO1xuICBpZiAocXJsLmNhcHR1cmVSZWYgPT0gbnVsbCkge1xuICAgIGNvbnN0IGVsID0gY29udGV4dC5lbGVtZW50ITtcbiAgICBhc3NlcnREZWZpbmVkKGVsKTtcbiAgICByZXN1bWVJZk5lZWRlZChnZXRDb250YWluZXIoZWwpISk7XG4gICAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChlbCk7XG5cbiAgICBxcmwuY2FwdHVyZVJlZiA9IHFybC5jYXB0dXJlIS5tYXAoKGlkeCkgPT4gcUluZmxhdGUoaWR4LCBjdHgpKTtcbiAgfVxuICBjb25zdCBzdWJzY3JpYmVyID0gY29udGV4dC5zdWJzY3JpYmVyO1xuICBpZiAoc3Vic2NyaWJlcikge1xuICAgIHJldHVybiBxcmwuY2FwdHVyZVJlZi5tYXAoKG9iaikgPT4gd3JhcFN1YnNjcmliZXIob2JqLCBzdWJzY3JpYmVyKSkgYXMgVkFSUztcbiAgfVxuICByZXR1cm4gcXJsLmNhcHR1cmVSZWYgYXMgVkFSUztcbn1cblxuZnVuY3Rpb24gcUluZmxhdGUocmVmOiBzdHJpbmcsIGhvc3RDdHg6IFFDb250ZXh0KTogYW55IHtcbiAgY29uc3QgaW50ID0gcGFyc2VJbnQocmVmLCAxMCk7XG4gIGNvbnN0IG9iaiA9IGhvc3RDdHgucmVmTWFwLmdldChpbnQpO1xuICBhc3NlcnRFcXVhbChob3N0Q3R4LnJlZk1hcC5hcnJheS5sZW5ndGggPiBpbnQsIHRydWUpO1xuICByZXR1cm4gb2JqO1xufVxuIl19","import { assertEqual } from '../assert/assert';\nimport { RenderEvent } from '../util/markers';\nimport { getInvokeContext } from './use-core';\n// <docs markdown=\"../readme.md#useDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useDocument instead)\n/**\n * Retrieves the document of the current element. It's important to use this method instead of\n * accessing `document` directly, because during SSR, the global document might not exist.\n *\n * NOTE: `useDocument` method can only be used in the synchronous portion of the callback (before\n * any `await` statements.)\n *\n * @alpha\n */\n// </docs>\nexport function useDocument() {\n    const ctx = getInvokeContext();\n    assertEqual(ctx.event, RenderEvent);\n    const doc = ctx.doc;\n    if (!doc) {\n        throw new Error('Cant access document for existing context');\n    }\n    return doc;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWRvY3VtZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLWRvY3VtZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUU5Qyw2Q0FBNkM7QUFDN0MseUNBQXlDO0FBQ3pDLDBDQUEwQztBQUMxQzs7Ozs7Ozs7R0FRRztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsV0FBVztJQUN6QixNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9CLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ3BDLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUM7SUFDcEIsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNSLE1BQU0sSUFBSSxLQUFLLENBQUMsMkNBQTJDLENBQUMsQ0FBQztLQUM5RDtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBnZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZURvY3VtZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZURvY3VtZW50IGluc3RlYWQpXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgZG9jdW1lbnQgb2YgdGhlIGN1cnJlbnQgZWxlbWVudC4gSXQncyBpbXBvcnRhbnQgdG8gdXNlIHRoaXMgbWV0aG9kIGluc3RlYWQgb2ZcbiAqIGFjY2Vzc2luZyBgZG9jdW1lbnRgIGRpcmVjdGx5LCBiZWNhdXNlIGR1cmluZyBTU1IsIHRoZSBnbG9iYWwgZG9jdW1lbnQgbWlnaHQgbm90IGV4aXN0LlxuICpcbiAqIE5PVEU6IGB1c2VEb2N1bWVudGAgbWV0aG9kIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIHN5bmNocm9ub3VzIHBvcnRpb24gb2YgdGhlIGNhbGxiYWNrIChiZWZvcmVcbiAqIGFueSBgYXdhaXRgIHN0YXRlbWVudHMuKVxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlRG9jdW1lbnQoKTogRG9jdW1lbnQge1xuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIGFzc2VydEVxdWFsKGN0eC5ldmVudCwgUmVuZGVyRXZlbnQpO1xuICBjb25zdCBkb2MgPSBjdHguZG9jO1xuICBpZiAoIWRvYykge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2FudCBhY2Nlc3MgZG9jdW1lbnQgZm9yIGV4aXN0aW5nIGNvbnRleHQnKTtcbiAgfVxuICByZXR1cm4gZG9jO1xufVxuIl19","import { noSerialize, notifyWatch } from '../object/q-object';\nimport { implicit$FirstArg } from '../import/qrl.public';\nimport { getContext } from '../props/props';\nimport { newInvokeContext, useContainerState, useWaitOn } from '../use/use-core';\nimport { useHostElement } from '../use/use-host-element.public';\nimport { logDebug, logError } from '../util/log';\nimport { then } from '../util/promises';\nimport { useSequentialScope } from '../use/use-store.public';\nimport { QRLInternal } from '../import/qrl-class';\nimport { getDocument } from '../util/dom';\nimport { useLexicalScope } from '../use/use-lexical-scope.public';\nimport { getPlatform } from '../platform/platform';\nimport { useDocument } from '../use/use-document.public';\nimport { useResumeQrl, useVisibleQrl } from '../component/component.public';\nimport { getProxyTarget } from '../object/store';\nexport var WatchFlags;\n(function (WatchFlags) {\n    WatchFlags[WatchFlags[\"IsEffect\"] = 1] = \"IsEffect\";\n    WatchFlags[WatchFlags[\"IsWatch\"] = 2] = \"IsWatch\";\n    WatchFlags[WatchFlags[\"IsDirty\"] = 4] = \"IsDirty\";\n    WatchFlags[WatchFlags[\"IsCleanup\"] = 8] = \"IsCleanup\";\n})(WatchFlags || (WatchFlags = {}));\nexport const isWatchDescriptor = (obj) => {\n    return obj && typeof obj === 'object' && 'qrl' in obj && 'f' in obj;\n};\nexport const isWatchCleanup = (obj) => {\n    return isWatchDescriptor(obj) && !!(obj.f & WatchFlags.IsCleanup);\n};\n/**\n * @alpha\n */\nexport function handleWatch() {\n    const [watch] = useLexicalScope();\n    notifyWatch(watch);\n}\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs use the `obs`\n * function to wrap property reads. This creates subscriptions which will trigger the `watchFn`\n * to re-run.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$((track) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$((track) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <Host>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport function useWatchQrl(qrl, opts) {\n    const [watch, setWatch, i] = useSequentialScope();\n    if (!watch) {\n        const el = useHostElement();\n        const containerState = useContainerState();\n        const watch = {\n            qrl,\n            el,\n            f: WatchFlags.IsDirty | WatchFlags.IsWatch,\n            i,\n        };\n        setWatch(true);\n        getContext(el).watches.push(watch);\n        useWaitOn(Promise.resolve().then(() => runWatch(watch, containerState)));\n        const isServer = containerState.platform.isServer;\n        if (isServer) {\n            useRunWatch(watch, opts?.run);\n        }\n    }\n}\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs use the `obs`\n * function to wrap property reads. This creates subscriptions which will trigger the `watchFn`\n * to re-run.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$((track) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$((track) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <Host>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport const useWatch$ = implicit$FirstArg(useWatchQrl);\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <Host>{store.count}</Host>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport function useClientEffectQrl(qrl, opts) {\n    const [watch, setWatch, i] = useSequentialScope();\n    if (!watch) {\n        const el = useHostElement();\n        const watch = {\n            qrl,\n            el,\n            f: WatchFlags.IsEffect,\n            i,\n        };\n        setWatch(true);\n        getContext(el).watches.push(watch);\n        useRunWatch(watch, opts?.run ?? 'visible');\n        const doc = useDocument();\n        if (doc['qO']) {\n            doc['qO'].observe(el);\n        }\n    }\n}\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <Host>{store.count}</Host>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useClientEffect$ = implicit$FirstArg(useClientEffectQrl);\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook, that runs only in server when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <Host>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </Host>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @see `useClientMount` `useMount`\n * @public\n */\n// </docs>\nexport function useServerMountQrl(mountQrl) {\n    const [watch, setWatch] = useSequentialScope();\n    if (!watch) {\n        setWatch(true);\n        const isServer = getPlatform(useDocument()).isServer;\n        if (isServer) {\n            useWaitOn(mountQrl.invoke());\n        }\n    }\n}\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook, that runs only in server when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <Host>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </Host>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @see `useClientMount` `useMount`\n * @public\n */\n// </docs>\nexport const useServerMount$ = implicit$FirstArg(useServerMountQrl);\n// <docs markdown=\"../readme.md#useClientMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientMount instead)\n/**\n * Register's a client mount hook, that runs only in client when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     hash: ''\n *   });\n *\n *   useClientMount$(async () => {\n *     // This code will ONLY run once in the client, when the component is mounted\n *     store.hash = document.location.hash\n *   });\n *\n *   return (\n *     <Host>\n *       <p>The url hash is: ${store.hash}</p>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @see `useServerMount` `useMount`\n *\n * @public\n */\n// </docs>\nexport function useClientMountQrl(mountQrl) {\n    const [watch, setWatch] = useSequentialScope();\n    if (!watch) {\n        setWatch(true);\n        const isServer = getPlatform(useDocument()).isServer;\n        if (!isServer) {\n            useWaitOn(mountQrl.invoke());\n        }\n    }\n}\n// <docs markdown=\"../readme.md#useClientMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientMount instead)\n/**\n * Register's a client mount hook, that runs only in client when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     hash: ''\n *   });\n *\n *   useClientMount$(async () => {\n *     // This code will ONLY run once in the client, when the component is mounted\n *     store.hash = document.location.hash\n *   });\n *\n *   return (\n *     <Host>\n *       <p>The url hash is: ${store.hash}</p>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @see `useServerMount` `useMount`\n *\n * @public\n */\n// </docs>\nexport const useClientMount$ = implicit$FirstArg(useClientMountQrl);\n// <docs markdown=\"../readme.md#useMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useMount instead)\n/**\n * Register's a mount hook, that runs both in the server and the client when the component is\n * first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     temp: 0,\n *   });\n *\n *   useMount$(async () => {\n *     // This code will run once whenever a component is mounted in the server, or in the client\n *     const res = await fetch('weather-api.example');\n *     const json = await res.json() as any;\n *     store.temp = json.temp;\n *   });\n *\n *   return (\n *     <Host>\n *       <p>The temperature is: ${store.temp}</p>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @see `useServerMount` `useClientMount`\n * @public\n */\n// </docs>\nexport function useMountQrl(mountQrl) {\n    const [watch, setWatch] = useSequentialScope();\n    if (!watch) {\n        setWatch(true);\n        useWaitOn(mountQrl.invoke());\n    }\n}\n// <docs markdown=\"../readme.md#useMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useMount instead)\n/**\n * Register's a mount hook, that runs both in the server and the client when the component is\n * first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     temp: 0,\n *   });\n *\n *   useMount$(async () => {\n *     // This code will run once whenever a component is mounted in the server, or in the client\n *     const res = await fetch('weather-api.example');\n *     const json = await res.json() as any;\n *     store.temp = json.temp;\n *   });\n *\n *   return (\n *     <Host>\n *       <p>The temperature is: ${store.temp}</p>\n *     </Host>\n *   );\n * });\n * ```\n *\n * @see `useServerMount` `useClientMount`\n * @public\n */\n// </docs>\nexport const useMount$ = implicit$FirstArg(useMountQrl);\nexport function runWatch(watch, containerState) {\n    if (!(watch.f & WatchFlags.IsDirty)) {\n        logDebug('Watch is not dirty, skipping run', watch);\n        return Promise.resolve(watch);\n    }\n    watch.f &= ~WatchFlags.IsDirty;\n    const promise = new Promise((resolve) => {\n        then(watch.running, () => {\n            cleanupWatch(watch);\n            const el = watch.el;\n            const doc = getDocument(el);\n            const invokationContext = newInvokeContext(doc, el, el, 'WatchEvent');\n            const { subsManager } = containerState;\n            const watchFn = watch.qrl.invokeFn(el, invokationContext, () => {\n                subsManager.clearSub(watch);\n            });\n            const track = (obj, prop) => {\n                const manager = subsManager.getLocal(getProxyTarget(obj) ?? obj);\n                manager.addSub(watch, prop);\n                if (prop) {\n                    return obj[prop];\n                }\n                else {\n                    return obj;\n                }\n            };\n            return then(watchFn(track), (returnValue) => {\n                if (typeof returnValue === 'function') {\n                    watch.destroy = noSerialize(returnValue);\n                }\n                resolve(watch);\n            });\n        });\n    });\n    watch.running = noSerialize(promise);\n    return promise;\n}\nexport const cleanupWatch = (watch) => {\n    const destroy = watch.destroy;\n    if (destroy) {\n        watch.destroy = undefined;\n        try {\n            destroy();\n        }\n        catch (err) {\n            logError(err);\n        }\n    }\n};\nexport const destroyWatch = (watch) => {\n    if (watch.f & WatchFlags.IsCleanup) {\n        watch.f &= ~WatchFlags.IsCleanup;\n        const cleanup = watch.qrl.invokeFn(watch.el);\n        cleanup();\n    }\n    else {\n        cleanupWatch(watch);\n    }\n};\nconst useRunWatch = (watch, run) => {\n    if (run === 'load') {\n        useResumeQrl(getWatchHandlerQrl(watch));\n    }\n    else if (run === 'visible') {\n        useVisibleQrl(getWatchHandlerQrl(watch));\n    }\n};\nconst getWatchHandlerQrl = (watch) => {\n    const watchQrl = watch.qrl;\n    const watchHandler = new QRLInternal(watchQrl.chunk, 'handleWatch', handleWatch, null, null, [watch]);\n    watchHandler.refSymbol = watchQrl.symbol;\n    return watchHandler;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2F0Y2gucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3dhdGNoL3dhdGNoLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFlLFdBQVcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzNFLE9BQU8sRUFBRSxpQkFBaUIsRUFBTyxNQUFNLHNCQUFzQixDQUFDO0FBQzlELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsaUJBQWlCLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDakYsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGdDQUFnQyxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ2pELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUUxQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDbEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxNQUFNLCtCQUErQixDQUFDO0FBQzVFLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUdqRCxNQUFNLENBQU4sSUFBa0IsVUFLakI7QUFMRCxXQUFrQixVQUFVO0lBQzFCLG1EQUFpQixDQUFBO0lB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dCB7IG5vU2VyaWFsaXplLCBOb1NlcmlhbGl6ZSwgbm90aWZ5V2F0Y2ggfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcsIFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBuZXdJbnZva2VDb250ZXh0LCB1c2VDb250YWluZXJTdGF0ZSwgdXNlV2FpdE9uIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZUhvc3RFbGVtZW50IH0gZnJvbSAnLi4vdXNlL3VzZS1ob3N0LWVsZW1lbnQucHVibGljJztcbmltcG9ydCB7IGxvZ0RlYnVnLCBsb2dFcnJvciB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4uL3VzZS91c2Utc3RvcmUucHVibGljJztcbmltcG9ydCB7IFFSTEludGVybmFsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IHVzZUxleGljYWxTY29wZSB9IGZyb20gJy4uL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMnO1xuaW1wb3J0IHsgZ2V0UGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyB1c2VEb2N1bWVudCB9IGZyb20gJy4uL3VzZS91c2UtZG9jdW1lbnQucHVibGljJztcbmltcG9ydCB7IHVzZVJlc3VtZVFybCwgdXNlVmlzaWJsZVFybCB9IGZyb20gJy4uL2NvbXBvbmVudC9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IGdldFByb3h5VGFyZ2V0IH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyU3RhdGUgfSBmcm9tICcuLi9yZW5kZXIvbm90aWZ5LXJlbmRlcic7XG5cbmV4cG9ydCBjb25zdCBlbnVtIFdhdGNoRmxhZ3Mge1xuICBJc0VmZmVjdCA9IDEgPDwgMCxcbiAgSXNXYXRjaCA9IDEgPDwgMSxcbiAgSXNEaXJ0eSA9IDEgPDwgMixcbiAgSXNDbGVhbnVwID0gMSA8PCAzLFxufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgdHlwZSBXYXRjaEZuID0gKHRyYWNrOiBUcmFja2VyKSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkIHwgKCgpID0+IHZvaWQpPjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgU2VydmVyRm4gPSAoKSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkIHwgKCgpID0+IHZvaWQpPjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBXYXRjaERlc2NyaXB0b3Ige1xuICBxcmw6IFFSTDxXYXRjaEZuPjtcbiAgZWw6IEVsZW1lbnQ7XG4gIGY6IG51bWJlcjtcbiAgaTogbnVtYmVyO1xuICBkZXN0cm95PzogTm9TZXJpYWxpemU8KCkgPT4gdm9pZD47XG4gIHJ1bm5pbmc/OiBOb1NlcmlhbGl6ZTxQcm9taXNlPFdhdGNoRGVzY3JpcHRvcj4+O1xufVxuXG5leHBvcnQgY29uc3QgaXNXYXRjaERlc2NyaXB0b3IgPSAob2JqOiBhbnkpOiBvYmogaXMgV2F0Y2hEZXNjcmlwdG9yID0+IHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiAncXJsJyBpbiBvYmogJiYgJ2YnIGluIG9iajtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1dhdGNoQ2xlYW51cCA9IChvYmo6IGFueSk6IG9iaiBpcyBXYXRjaERlc2NyaXB0b3IgPT4ge1xuICByZXR1cm4gaXNXYXRjaERlc2NyaXB0b3Iob2JqKSAmJiAhIShvYmouZiAmIFdhdGNoRmxhZ3MuSXNDbGVhbnVwKTtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIFVzZUVmZmVjdFJ1bk9wdGlvbnMgPSAndmlzaWJsZScgfCAnbG9hZCc7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRWZmZWN0T3B0aW9ucyB7XG4gIHJ1bj86IFVzZUVmZmVjdFJ1bk9wdGlvbnM7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVXYXRjaCgpIHtcbiAgY29uc3QgW3dhdGNoXSA9IHVzZUxleGljYWxTY29wZSgpO1xuICBub3RpZnlXYXRjaCh3YXRjaCk7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVdhdGNoXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVdhdGNoIGluc3RlYWQpXG4vKipcbiAqIFJlcnVucyB0aGUgYHdhdGNoRm5gIHdoZW4gdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuXG4gKlxuICogVXNlIGB1c2VXYXRjaGAgdG8gb2JzZXJ2ZSBjaGFuZ2VzIG9uIGEgc2V0IG9mIGlucHV0cywgYW5kIHRoZW4gcmUtZXhlY3V0ZSB0aGUgYHdhdGNoRm5gIHdoZW5cbiAqIHRob3NlIGlucHV0cyBjaGFuZ2UuXG4gKlxuICogVGhlIGB3YXRjaEZuYCBvbmx5IGV4ZWN1dGVzIGlmIHRoZSBvYnNlcnZlZCBpbnB1dHMgY2hhbmdlLiBUbyBvYnNlcnZlIHRoZSBpbnB1dHMgdXNlIHRoZSBgb2JzYFxuICogZnVuY3Rpb24gdG8gd3JhcCBwcm9wZXJ0eSByZWFkcy4gVGhpcyBjcmVhdGVzIHN1YnNjcmlwdGlvbnMgd2hpY2ggd2lsbCB0cmlnZ2VyIHRoZSBgd2F0Y2hGbmBcbiAqIHRvIHJlLXJ1bi5cbiAqXG4gKiBAc2VlIGBUcmFja2VyYFxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGhlIGB1c2VXYXRjaGAgZnVuY3Rpb24gaXMgdXNlZCB0byBvYnNlcnZlIHRoZSBgc3RhdGUuY291bnRgIHByb3BlcnR5LiBBbnkgY2hhbmdlcyB0byB0aGVcbiAqIGBzdGF0ZS5jb3VudGAgY2F1c2UgdGhlIGB3YXRjaEZuYCB0byBleGVjdXRlIHdoaWNoIGluIHR1cm4gdXBkYXRlcyB0aGUgYHN0YXRlLmRvdWJsZUNvdW50YCB0b1xuICogdGhlIGRvdWJsZSBvZiBgc3RhdGUuY291bnRgLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGNvdW50OiAwLFxuICogICAgIGRvdWJsZUNvdW50OiAwLFxuICogICAgIGRlYm91bmNlZDogMCxcbiAqICAgfSk7XG4gKlxuICogICAvLyBEb3VibGUgY291bnQgd2F0Y2hcbiAqICAgdXNlV2F0Y2gkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soc3RvcmUsICdjb3VudCcpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqXG4gKiAgIC8vIERlYm91bmNlciB3YXRjaFxuICogICB1c2VXYXRjaCQoKHRyYWNrKSA9PiB7XG4gKiAgICAgY29uc3QgZG91YmxlQ291bnQgPSB0cmFjayhzdG9yZSwgJ2RvdWJsZUNvdW50Jyk7XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmRlYm91bmNlZCA9IGRvdWJsZUNvdW50O1xuICogICAgIH0sIDIwMDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAgPGRpdj5cbiAqICAgICAgICAge3N0b3JlLmNvdW50fSAvIHtzdG9yZS5kb3VibGVDb3VudH1cbiAqICAgICAgIDwvZGl2PlxuICogICAgICAgPGRpdj57c3RvcmUuZGVib3VuY2VkfTwvZGl2PlxuICogICAgIDwvSG9zdD5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHdhdGNoIC0gRnVuY3Rpb24gd2hpY2ggc2hvdWxkIGJlIHJlLWV4ZWN1dGVkIHdoZW4gY2hhbmdlcyB0byB0aGUgaW5wdXRzIGFyZSBkZXRlY3RlZFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlV2F0Y2hRcmwocXJsOiBRUkw8V2F0Y2hGbj4sIG9wdHM/OiBVc2VFZmZlY3RPcHRpb25zKTogdm9pZCB7XG4gIGNvbnN0IFt3YXRjaCwgc2V0V2F0Y2gsIGldID0gdXNlU2VxdWVudGlhbFNjb3BlKCk7XG4gIGlmICghd2F0Y2gpIHtcbiAgICBjb25zdCBlbCA9IHVzZUhvc3RFbGVtZW50KCk7XG4gICAgY29uc3QgY29udGFpbmVyU3RhdGUgPSB1c2VDb250YWluZXJTdGF0ZSgpO1xuICAgIGNvbnN0IHdhdGNoOiBXYXRjaERlc2NyaXB0b3IgPSB7XG4gICAgICBxcmwsXG4gICAgICBlbCxcbiAgICAgIGY6IFdhdGNoRmxhZ3MuSXNEaXJ0eSB8IFdhdGNoRmxhZ3MuSXNXYXRjaCxcbiAgICAgIGksXG4gICAgfTtcbiAgICBzZXRXYXRjaCh0cnVlKTtcbiAgICBnZXRDb250ZXh0KGVsKS53YXRjaGVzLnB1c2god2F0Y2gpO1xuICAgIHVzZVdhaXRPbihQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHJ1bldhdGNoKHdhdGNoLCBjb250YWluZXJTdGF0ZSkpKTtcbiAgICBjb25zdCBpc1NlcnZlciA9IGNvbnRhaW5lclN0YXRlLnBsYXRmb3JtLmlzU2VydmVyO1xuICAgIGlmIChpc1NlcnZlcikge1xuICAgICAgdXNlUnVuV2F0Y2god2F0Y2gsIG9wdHM/LnJ1bik7XG4gICAgfVxuICB9XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVdhdGNoXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVdhdGNoIGluc3RlYWQpXG4vKipcbiAqIFJlcnVucyB0aGUgYHdhdGNoRm5gIHdoZW4gdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuXG4gKlxuICogVXNlIGB1c2VXYXRjaGAgdG8gb2JzZXJ2ZSBjaGFuZ2VzIG9uIGEgc2V0IG9mIGlucHV0cywgYW5kIHRoZW4gcmUtZXhlY3V0ZSB0aGUgYHdhdGNoRm5gIHdoZW5cbiAqIHRob3NlIGlucHV0cyBjaGFuZ2UuXG4gKlxuICogVGhlIGB3YXRjaEZuYCBvbmx5IGV4ZWN1dGVzIGlmIHRoZSBvYnNlcnZlZCBpbnB1dHMgY2hhbmdlLiBUbyBvYnNlcnZlIHRoZSBpbnB1dHMgdXNlIHRoZSBgb2JzYFxuICogZnVuY3Rpb24gdG8gd3JhcCBwcm9wZXJ0eSByZWFkcy4gVGhpcyBjcmVhdGVzIHN1YnNjcmlwdGlvbnMgd2hpY2ggd2lsbCB0cmlnZ2VyIHRoZSBgd2F0Y2hGbmBcbiAqIHRvIHJlLXJ1bi5cbiAqXG4gKiBAc2VlIGBUcmFja2VyYFxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGhlIGB1c2VXYXRjaGAgZnVuY3Rpb24gaXMgdXNlZCB0byBvYnNlcnZlIHRoZSBgc3RhdGUuY291bnRgIHByb3BlcnR5LiBBbnkgY2hhbmdlcyB0byB0aGVcbiAqIGBzdGF0ZS5jb3VudGAgY2F1c2UgdGhlIGB3YXRjaEZuYCB0byBleGVjdXRlIHdoaWNoIGluIHR1cm4gdXBkYXRlcyB0aGUgYHN0YXRlLmRvdWJsZUNvdW50YCB0b1xuICogdGhlIGRvdWJsZSBvZiBgc3RhdGUuY291bnRgLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGNvdW50OiAwLFxuICogICAgIGRvdWJsZUNvdW50OiAwLFxuICogICAgIGRlYm91bmNlZDogMCxcbiAqICAgfSk7XG4gKlxuICogICAvLyBEb3VibGUgY291bnQgd2F0Y2hcbiAqICAgdXNlV2F0Y2gkKCh0cmFjaykgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soc3RvcmUsICdjb3VudCcpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqXG4gKiAgIC8vIERlYm91bmNlciB3YXRjaFxuICogICB1c2VXYXRjaCQoKHRyYWNrKSA9PiB7XG4gKiAgICAgY29uc3QgZG91YmxlQ291bnQgPSB0cmFjayhzdG9yZSwgJ2RvdWJsZUNvdW50Jyk7XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmRlYm91bmNlZCA9IGRvdWJsZUNvdW50O1xuICogICAgIH0sIDIwMDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAgPGRpdj5cbiAqICAgICAgICAge3N0b3JlLmNvdW50fSAvIHtzdG9yZS5kb3VibGVDb3VudH1cbiAqICAgICAgIDwvZGl2PlxuICogICAgICAgPGRpdj57c3RvcmUuZGVib3VuY2VkfTwvZGl2PlxuICogICAgIDwvSG9zdD5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHdhdGNoIC0gRnVuY3Rpb24gd2hpY2ggc2hvdWxkIGJlIHJlLWV4ZWN1dGVkIHdoZW4gY2hhbmdlcyB0byB0aGUgaW5wdXRzIGFyZSBkZXRlY3RlZFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlV2F0Y2gkID0gaW1wbGljaXQkRmlyc3RBcmcodXNlV2F0Y2hRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VDbGllbnRFZmZlY3RcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ2xpZW50RWZmZWN0IGluc3RlYWQpXG4vKipcbiAqIGBgYHRzeFxuICogY29uc3QgVGltZXIgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgY291bnQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgdXNlQ2xpZW50RWZmZWN0JCgoKSA9PiB7XG4gKiAgICAgLy8gT25seSBydW5zIGluIHRoZSBjbGllbnRcbiAqICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmNvdW50Kys7XG4gKiAgICAgfSwgNTAwKTtcbiAqICAgICByZXR1cm4gKCkgPT4ge1xuICogICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gPEhvc3Q+e3N0b3JlLmNvdW50fTwvSG9zdD47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNsaWVudEVmZmVjdFFybChxcmw6IFFSTDxXYXRjaEZuPiwgb3B0cz86IFVzZUVmZmVjdE9wdGlvbnMpOiB2b2lkIHtcbiAgY29uc3QgW3dhdGNoLCBzZXRXYXRjaCwgaV0gPSB1c2VTZXF1ZW50aWFsU2NvcGUoKTtcbiAgaWYgKCF3YXRjaCkge1xuICAgIGNvbnN0IGVsID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgICBjb25zdCB3YXRjaDogV2F0Y2hEZXNjcmlwdG9yID0ge1xuICAgICAgcXJsLFxuICAgICAgZWwsXG4gICAgICBmOiBXYXRjaEZsYWdzLklzRWZmZWN0LFxuICAgICAgaSxcbiAgICB9O1xuICAgIHNldFdhdGNoKHRydWUpO1xuICAgIGdldENvbnRleHQoZWwpLndhdGNoZXMucHVzaCh3YXRjaCk7XG4gICAgdXNlUnVuV2F0Y2god2F0Y2gsIG9wdHM/LnJ1biA/PyAndmlzaWJsZScpO1xuICAgIGNvbnN0IGRvYyA9IHVzZURvY3VtZW50KCkgYXMgYW55O1xuICAgIGlmIChkb2NbJ3FPJ10pIHtcbiAgICAgIGRvY1sncU8nXS5vYnNlcnZlKGVsKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlQ2xpZW50RWZmZWN0XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUNsaWVudEVmZmVjdCBpbnN0ZWFkKVxuLyoqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IFRpbWVyID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGNvdW50OiAwLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZUNsaWVudEVmZmVjdCQoKCkgPT4ge1xuICogICAgIC8vIE9ubHkgcnVucyBpbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gKiAgICAgICBzdG9yZS5jb3VudCsrO1xuICogICAgIH0sIDUwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIDxIb3N0PntzdG9yZS5jb3VudH08L0hvc3Q+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VDbGllbnRFZmZlY3QkID0gaW1wbGljaXQkRmlyc3RBcmcodXNlQ2xpZW50RWZmZWN0UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU2VydmVyTW91bnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU2VydmVyTW91bnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIncyBhIHNlcnZlciBtb3VudCBob29rLCB0aGF0IHJ1bnMgb25seSBpbiBzZXJ2ZXIgd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IG1vdW50ZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIHVzZXJzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICB1c2VTZXJ2ZXJNb3VudCQoYXN5bmMgKCkgPT4ge1xuICogICAgIC8vIFRoaXMgY29kZSB3aWxsIE9OTFkgcnVuIG9uY2UgaW4gdGhlIHNlcnZlciwgd2hlbiB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWRcbiAqICAgICBzdG9yZS51c2VycyA9IGF3YWl0IGRiLnJlcXVlc3RVc2VycygpO1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPEhvc3Q+XG4gKiAgICAgICB7c3RvcmUudXNlcnMubWFwKCh1c2VyKSA9PiAoXG4gKiAgICAgICAgIDxVc2VyIHVzZXI9e3VzZXJ9IC8+XG4gKiAgICAgICApKX1cbiAqICAgICA8L0hvc3Q+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBpbnRlcmZhY2UgVXNlciB7XG4gKiAgIG5hbWU6IHN0cmluZztcbiAqIH1cbiAqIGZ1bmN0aW9uIFVzZXIocHJvcHM6IHsgdXNlcjogVXNlciB9KSB7XG4gKiAgIHJldHVybiA8ZGl2Pk5hbWU6IHtwcm9wcy51c2VyLm5hbWV9PC9kaXY+O1xuICogfVxuICogYGBgXG4gKlxuICogQHNlZSBgdXNlQ2xpZW50TW91bnRgIGB1c2VNb3VudGBcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNlcnZlck1vdW50UXJsKG1vdW50UXJsOiBRUkw8U2VydmVyRm4+KTogdm9pZCB7XG4gIGNvbnN0IFt3YXRjaCwgc2V0V2F0Y2hdID0gdXNlU2VxdWVudGlhbFNjb3BlKCk7XG4gIGlmICghd2F0Y2gpIHtcbiAgICBzZXRXYXRjaCh0cnVlKTtcbiAgICBjb25zdCBpc1NlcnZlciA9IGdldFBsYXRmb3JtKHVzZURvY3VtZW50KCkpLmlzU2VydmVyO1xuICAgIGlmIChpc1NlcnZlcikge1xuICAgICAgdXNlV2FpdE9uKG1vdW50UXJsLmludm9rZSgpKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU2VydmVyTW91bnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU2VydmVyTW91bnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIncyBhIHNlcnZlciBtb3VudCBob29rLCB0aGF0IHJ1bnMgb25seSBpbiBzZXJ2ZXIgd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IG1vdW50ZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIHVzZXJzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICB1c2VTZXJ2ZXJNb3VudCQoYXN5bmMgKCkgPT4ge1xuICogICAgIC8vIFRoaXMgY29kZSB3aWxsIE9OTFkgcnVuIG9uY2UgaW4gdGhlIHNlcnZlciwgd2hlbiB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWRcbiAqICAgICBzdG9yZS51c2VycyA9IGF3YWl0IGRiLnJlcXVlc3RVc2VycygpO1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPEhvc3Q+XG4gKiAgICAgICB7c3RvcmUudXNlcnMubWFwKCh1c2VyKSA9PiAoXG4gKiAgICAgICAgIDxVc2VyIHVzZXI9e3VzZXJ9IC8+XG4gKiAgICAgICApKX1cbiAqICAgICA8L0hvc3Q+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBpbnRlcmZhY2UgVXNlciB7XG4gKiAgIG5hbWU6IHN0cmluZztcbiAqIH1cbiAqIGZ1bmN0aW9uIFVzZXIocHJvcHM6IHsgdXNlcjogVXNlciB9KSB7XG4gKiAgIHJldHVybiA8ZGl2Pk5hbWU6IHtwcm9wcy51c2VyLm5hbWV9PC9kaXY+O1xuICogfVxuICogYGBgXG4gKlxuICogQHNlZSBgdXNlQ2xpZW50TW91bnRgIGB1c2VNb3VudGBcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVNlcnZlck1vdW50JCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZVNlcnZlck1vdW50UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlQ2xpZW50TW91bnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ2xpZW50TW91bnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIncyBhIGNsaWVudCBtb3VudCBob29rLCB0aGF0IHJ1bnMgb25seSBpbiBjbGllbnQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IG1vdW50ZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGhhc2g6ICcnXG4gKiAgIH0pO1xuICpcbiAqICAgdXNlQ2xpZW50TW91bnQkKGFzeW5jICgpID0+IHtcbiAqICAgICAvLyBUaGlzIGNvZGUgd2lsbCBPTkxZIHJ1biBvbmNlIGluIHRoZSBjbGllbnQsIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkXG4gKiAgICAgc3RvcmUuaGFzaCA9IGRvY3VtZW50LmxvY2F0aW9uLmhhc2hcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAgPHA+VGhlIHVybCBoYXNoIGlzOiAke3N0b3JlLmhhc2h9PC9wPlxuICogICAgIDwvSG9zdD5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU2VydmVyTW91bnRgIGB1c2VNb3VudGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VDbGllbnRNb3VudFFybChtb3VudFFybDogUVJMPFNlcnZlckZuPik6IHZvaWQge1xuICBjb25zdCBbd2F0Y2gsIHNldFdhdGNoXSA9IHVzZVNlcXVlbnRpYWxTY29wZSgpO1xuICBpZiAoIXdhdGNoKSB7XG4gICAgc2V0V2F0Y2godHJ1ZSk7XG4gICAgY29uc3QgaXNTZXJ2ZXIgPSBnZXRQbGF0Zm9ybSh1c2VEb2N1bWVudCgpKS5pc1NlcnZlcjtcbiAgICBpZiAoIWlzU2VydmVyKSB7XG4gICAgICB1c2VXYWl0T24obW91bnRRcmwuaW52b2tlKCkpO1xuICAgIH1cbiAgfVxufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VDbGllbnRNb3VudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGllbnRNb3VudCBpbnN0ZWFkKVxuLyoqXG4gKiBSZWdpc3RlcidzIGEgY2xpZW50IG1vdW50IGhvb2ssIHRoYXQgcnVucyBvbmx5IGluIGNsaWVudCB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3QgbW91bnRlZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgaGFzaDogJydcbiAqICAgfSk7XG4gKlxuICogICB1c2VDbGllbnRNb3VudCQoYXN5bmMgKCkgPT4ge1xuICogICAgIC8vIFRoaXMgY29kZSB3aWxsIE9OTFkgcnVuIG9uY2UgaW4gdGhlIGNsaWVudCwgd2hlbiB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWRcbiAqICAgICBzdG9yZS5oYXNoID0gZG9jdW1lbnQubG9jYXRpb24uaGFzaFxuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPEhvc3Q+XG4gKiAgICAgICA8cD5UaGUgdXJsIGhhc2ggaXM6ICR7c3RvcmUuaGFzaH08L3A+XG4gKiAgICAgPC9Ib3N0PlxuICogICApO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGB1c2VTZXJ2ZXJNb3VudGAgYHVzZU1vdW50YFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNsaWVudE1vdW50JCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZUNsaWVudE1vdW50UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlTW91bnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlTW91bnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIncyBhIG1vdW50IGhvb2ssIHRoYXQgcnVucyBib3RoIGluIHRoZSBzZXJ2ZXIgYW5kIHRoZSBjbGllbnQgd2hlbiB0aGUgY29tcG9uZW50IGlzXG4gKiBmaXJzdCBtb3VudGVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB0ZW1wOiAwLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZU1vdW50JChhc3luYyAoKSA9PiB7XG4gKiAgICAgLy8gVGhpcyBjb2RlIHdpbGwgcnVuIG9uY2Ugd2hlbmV2ZXIgYSBjb21wb25lbnQgaXMgbW91bnRlZCBpbiB0aGUgc2VydmVyLCBvciBpbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ3dlYXRoZXItYXBpLmV4YW1wbGUnKTtcbiAqICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKSBhcyBhbnk7XG4gKiAgICAgc3RvcmUudGVtcCA9IGpzb24udGVtcDtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxIb3N0PlxuICogICAgICAgPHA+VGhlIHRlbXBlcmF0dXJlIGlzOiAke3N0b3JlLnRlbXB9PC9wPlxuICogICAgIDwvSG9zdD5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU2VydmVyTW91bnRgIGB1c2VDbGllbnRNb3VudGBcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZU1vdW50UXJsKG1vdW50UXJsOiBRUkw8U2VydmVyRm4+KTogdm9pZCB7XG4gIGNvbnN0IFt3YXRjaCwgc2V0V2F0Y2hdID0gdXNlU2VxdWVudGlhbFNjb3BlKCk7XG4gIGlmICghd2F0Y2gpIHtcbiAgICBzZXRXYXRjaCh0cnVlKTtcbiAgICB1c2VXYWl0T24obW91bnRRcmwuaW52b2tlKCkpO1xuICB9XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZU1vdW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZU1vdW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyJ3MgYSBtb3VudCBob29rLCB0aGF0IHJ1bnMgYm90aCBpbiB0aGUgc2VydmVyIGFuZCB0aGUgY2xpZW50IHdoZW4gdGhlIGNvbXBvbmVudCBpc1xuICogZmlyc3QgbW91bnRlZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgdGVtcDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VNb3VudCQoYXN5bmMgKCkgPT4ge1xuICogICAgIC8vIFRoaXMgY29kZSB3aWxsIHJ1biBvbmNlIHdoZW5ldmVyIGEgY29tcG9uZW50IGlzIG1vdW50ZWQgaW4gdGhlIHNlcnZlciwgb3IgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCd3ZWF0aGVyLWFwaS5leGFtcGxlJyk7XG4gKiAgICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKCkgYXMgYW55O1xuICogICAgIHN0b3JlLnRlbXAgPSBqc29uLnRlbXA7XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8SG9zdD5cbiAqICAgICAgIDxwPlRoZSB0ZW1wZXJhdHVyZSBpczogJHtzdG9yZS50ZW1wfTwvcD5cbiAqICAgICA8L0hvc3Q+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVNlcnZlck1vdW50YCBgdXNlQ2xpZW50TW91bnRgXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VNb3VudCQgPSBpbXBsaWNpdCRGaXJzdEFyZyh1c2VNb3VudFFybCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBydW5XYXRjaChcbiAgd2F0Y2g6IFdhdGNoRGVzY3JpcHRvcixcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlXG4pOiBQcm9taXNlPFdhdGNoRGVzY3JpcHRvcj4ge1xuICBpZiAoISh3YXRjaC5mICYgV2F0Y2hGbGFncy5Jc0RpcnR5KSkge1xuICAgIGxvZ0RlYnVnKCdXYXRjaCBpcyBub3QgZGlydHksIHNraXBwaW5nIHJ1bicsIHdhdGNoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdhdGNoKTtcbiAgfVxuICB3YXRjaC5mICY9IH5XYXRjaEZsYWdzLklzRGlydHk7XG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZTxXYXRjaERlc2NyaXB0b3I+KChyZXNvbHZlKSA9PiB7XG4gICAgdGhlbih3YXRjaC5ydW5uaW5nLCAoKSA9PiB7XG4gICAgICBjbGVhbnVwV2F0Y2god2F0Y2gpO1xuICAgICAgY29uc3QgZWwgPSB3YXRjaC5lbDtcbiAgICAgIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KGVsKTtcbiAgICAgIGNvbnN0IGludm9rYXRpb25Db250ZXh0ID0gbmV3SW52b2tlQ29udGV4dChkb2MsIGVsLCBlbCwgJ1dhdGNoRXZlbnQnKTtcbiAgICAgIGNvbnN0IHsgc3Vic01hbmFnZXIgfSA9IGNvbnRhaW5lclN0YXRlO1xuICAgICAgY29uc3Qgd2F0Y2hGbiA9IHdhdGNoLnFybC5pbnZva2VGbihlbCwgaW52b2thdGlvbkNvbnRleHQsICgpID0+IHtcbiAgICAgICAgc3Vic01hbmFnZXIuY2xlYXJTdWIod2F0Y2gpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCB0cmFjazogVHJhY2tlciA9IChvYmo6IGFueSwgcHJvcD86IHN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBtYW5hZ2VyID0gc3Vic01hbmFnZXIuZ2V0TG9jYWwoZ2V0UHJveHlUYXJnZXQob2JqKSA/PyBvYmopO1xuICAgICAgICBtYW5hZ2VyLmFkZFN1Yih3YXRjaCwgcHJvcCk7XG4gICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gdGhlbih3YXRjaEZuKHRyYWNrKSwgKHJldHVyblZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgcmV0dXJuVmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB3YXRjaC5kZXN0cm95ID0gbm9TZXJpYWxpemUocmV0dXJuVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUod2F0Y2gpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICB3YXRjaC5ydW5uaW5nID0gbm9TZXJpYWxpemUocHJvbWlzZSk7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5leHBvcnQgY29uc3QgY2xlYW51cFdhdGNoID0gKHdhdGNoOiBXYXRjaERlc2NyaXB0b3IpID0+IHtcbiAgY29uc3QgZGVzdHJveSA9IHdhdGNoLmRlc3Ryb3k7XG4gIGlmIChkZXN0cm95KSB7XG4gICAgd2F0Y2guZGVzdHJveSA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgZGVzdHJveSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nRXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZXN0cm95V2F0Y2ggPSAod2F0Y2g6IFdhdGNoRGVzY3JpcHRvcikgPT4ge1xuICBpZiAod2F0Y2guZiAmIFdhdGNoRmxhZ3MuSXNDbGVhbnVwKSB7XG4gICAgd2F0Y2guZiAmPSB+V2F0Y2hGbGFncy5Jc0NsZWFudXA7XG4gICAgY29uc3QgY2xlYW51cCA9IHdhdGNoLnFybC5pbnZva2VGbih3YXRjaC5lbCk7XG4gICAgKGNsZWFudXAgYXMgYW55KSgpO1xuICB9IGVsc2Uge1xuICAgIGNsZWFudXBXYXRjaCh3YXRjaCk7XG4gIH1cbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI1RyYWNrZXJcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjVHJhY2tlciBpbnN0ZWFkKVxuLyoqXG4gKiBVc2VkIHRvIHNpZ25hbCB0byBRd2lrIHdoaWNoIHN0YXRlIHNob3VsZCBiZSB3YXRjaGVkIGZvciBjaGFuZ2VzLlxuICpcbiAqIFRoZSBgVHJhY2tlcmAgaXMgcGFzc2VkIGludG8gdGhlIGB3YXRjaEZuYCBvZiBgdXNlV2F0Y2hgLiBJdCBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIHRvIHdyYXBcbiAqIHN0YXRlIG9iamVjdHMgaW4gYSByZWFkIHByb3h5IHdoaWNoIHNpZ25hbHMgdG8gUXdpayB3aGljaCBwcm9wZXJ0aWVzIHNob3VsZCBiZSB3YXRjaGVkIGZvclxuICogY2hhbmdlcy4gQSBjaGFuZ2UgdG8gYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGNhdXNlIHRoZSBgd2F0Y2hGbmAgdG8gcmUtcnVuLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgYG9ic2AgcGFzc2VkIGludG8gdGhlIGB3YXRjaEZuYCBpcyB1c2VkIHRvIG1hcmsgYHN0YXRlLmNvdW50YCBhcyBhIHByb3BlcnR5IG9mIGludGVyZXN0LlxuICogQW55IGNoYW5nZXMgdG8gdGhlIGBzdGF0ZS5jb3VudGAgcHJvcGVydHkgd2lsbCBjYXVzZSB0aGUgYHdhdGNoRm5gIHRvIHJlLXJ1bi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHsgY291bnQ6IDAsIGRvdWJsZUNvdW50OiAwIH0pO1xuICogICB1c2VXYXRjaCQoKHRyYWNrKSA9PiB7XG4gKiAgICAgY29uc3QgY291bnQgPSB0cmFjayhzdG9yZSwgJ2NvdW50Jyk7XG4gKiAgICAgc3RvcmUuZG91YmxlQ291bnQgPSAyICogY291bnQ7XG4gKiAgIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8c3Bhbj5cbiAqICAgICAgICAge3N0b3JlLmNvdW50fSAvIHtzdG9yZS5kb3VibGVDb3VudH1cbiAqICAgICAgIDwvc3Bhbj5cbiAqICAgICAgIDxidXR0b24gb25DbGljayQ9eygpID0+IHN0b3JlLmNvdW50Kyt9Pis8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlV2F0Y2hgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrZXIge1xuICA8VCBleHRlbmRzIHt9PihvYmo6IFQpOiBUO1xuICA8VCBleHRlbmRzIHt9LCBCIGV4dGVuZHMga2V5b2YgVD4ob2JqOiBULCBwcm9wOiBCKTogVFtCXTtcbn1cblxuY29uc3QgdXNlUnVuV2F0Y2ggPSAod2F0Y2g6IFdhdGNoRGVzY3JpcHRvciwgcnVuOiBVc2VFZmZlY3RSdW5PcHRpb25zIHwgdW5kZWZpbmVkKSA9PiB7XG4gIGlmIChydW4gPT09ICdsb2FkJykge1xuICAgIHVzZVJlc3VtZVFybChnZXRXYXRjaEhhbmRsZXJRcmwod2F0Y2gpKTtcbiAgfSBlbHNlIGlmIChydW4gPT09ICd2aXNpYmxlJykge1xuICAgIHVzZVZpc2libGVRcmwoZ2V0V2F0Y2hIYW5kbGVyUXJsKHdhdGNoKSk7XG4gIH1cbn07XG5cbmNvbnN0IGdldFdhdGNoSGFuZGxlclFybCA9ICh3YXRjaDogV2F0Y2hEZXNjcmlwdG9yKSA9PiB7XG4gIGNvbnN0IHdhdGNoUXJsID0gd2F0Y2gucXJsIGFzIFFSTEludGVybmFsO1xuICBjb25zdCB3YXRjaEhhbmRsZXIgPSBuZXcgUVJMSW50ZXJuYWwoXG4gICAgKHdhdGNoUXJsIGFzIFFSTEludGVybmFsKS5jaHVuayxcbiAgICAnaGFuZGxlV2F0Y2gnLFxuICAgIGhhbmRsZVdhdGNoLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBbd2F0Y2hdXG4gICk7XG4gIHdhdGNoSGFuZGxlci5yZWZTeW1ib2wgPSAod2F0Y2hRcmwgYXMgUVJMSW50ZXJuYWwpLnN5bWJvbDtcbiAgcmV0dXJuIHdhdGNoSGFuZGxlcjtcbn07XG4iXX0=","export const emitEvent = (el, eventName, detail, bubbles) => {\n    if (el && typeof CustomEvent === 'function') {\n        el.dispatchEvent(new CustomEvent(eventName, {\n            detail,\n            bubbles: bubbles,\n            composed: bubbles,\n        }));\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9ldmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsRUFBdUIsRUFDdkIsU0FBaUIsRUFDakIsTUFBVyxFQUNYLE9BQWdCLEVBQ2hCLEVBQUU7SUFDRixJQUFJLEVBQUUsSUFBSSxPQUFPLFdBQVcsS0FBSyxVQUFVLEVBQUU7UUFDM0MsRUFBRSxDQUFDLGFBQWEsQ0FDZCxJQUFJLFdBQVcsQ0FBQyxTQUFTLEVBQUU7WUFDekIsTUFBTTtZQUNOLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLFFBQVEsRUFBRSxPQUFPO1NBQ2xCLENBQUMsQ0FDSCxDQUFDO0tBQ0g7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZW1pdEV2ZW50ID0gKFxuICBlbDogRWxlbWVudCB8IHVuZGVmaW5lZCxcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIGRldGFpbDogYW55LFxuICBidWJibGVzOiBib29sZWFuXG4pID0+IHtcbiAgaWYgKGVsICYmIHR5cGVvZiBDdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGVsLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7XG4gICAgICAgIGRldGFpbCxcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY29tcG9zZWQ6IGJ1YmJsZXMsXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn07XG4iXX0=","import { assertDefined, assertEqual } from '../assert/assert';\nimport { parseQRL, stringifyQRL } from '../import/qrl';\nimport { isQrl } from '../import/qrl-class';\nimport { getContext, createProps, tryGetContext } from '../props/props';\nimport { getDocument } from '../util/dom';\nimport { isElement, isNode } from '../util/element';\nimport { logDebug, logError, logWarn } from '../util/log';\nimport { ELEMENT_ID, ELEMENT_ID_PREFIX, QContainerAttr } from '../util/markers';\nimport { qDev } from '../util/qdev';\nimport { isConnected, QOjectSubsSymbol, QOjectTargetSymbol, readWriteProxy, shouldSerialize, _restoreQObject, } from './q-object';\nimport { destroyWatch, WatchFlags } from '../watch/watch.public';\nimport { emitEvent } from '../util/event';\nimport { getContainerState } from '../render/notify-render';\nexport const UNDEFINED_PREFIX = '\\u0010';\nexport const QRL_PREFIX = '\\u0011';\nexport const DOCUMENT_PREFIX = '\\u0012';\nexport function resumeContainer(containerEl) {\n    if (!isContainer(containerEl)) {\n        logWarn('Skipping hydration because parent element is not q:container');\n        return;\n    }\n    const doc = getDocument(containerEl);\n    const isDocElement = containerEl === doc.documentElement;\n    const parentJSON = isDocElement ? doc.body : containerEl;\n    const script = getQwikJSON(parentJSON);\n    if (!script) {\n        logWarn('Skipping hydration qwik/json metadata was not found.');\n        return;\n    }\n    script.remove();\n    const containerState = getContainerState(containerEl);\n    const meta = JSON.parse(unescapeText(script.textContent || '{}'));\n    // Collect all elements\n    const elements = new Map();\n    getNodesInScope(containerEl, hasQId).forEach((el) => {\n        const id = el.getAttribute(ELEMENT_ID);\n        elements.set(ELEMENT_ID_PREFIX + id, el);\n    });\n    const getObject = (id) => {\n        return getObjectImpl(id, elements, meta.objs, containerState);\n    };\n    // Revive proxies with subscriptions into the proxymap\n    reviveValues(meta.objs, meta.subs, getObject, containerState, parentJSON);\n    // Rebuild target objects\n    for (const obj of meta.objs) {\n        reviveNestedObjects(obj, getObject);\n    }\n    Object.entries(meta.ctx).forEach(([elementID, ctxMeta]) => {\n        const el = getObject(elementID);\n        assertDefined(el);\n        const ctx = getContext(el);\n        const qobj = ctxMeta.r;\n        const seq = ctxMeta.s;\n        const host = ctxMeta.h;\n        const contexts = ctxMeta.c;\n        const watches = ctxMeta.w;\n        if (qobj) {\n            ctx.refMap.array.push(...qobj.split(' ').map((part) => getObject(part)));\n        }\n        if (seq) {\n            ctx.seq = seq.split(' ').map((part) => getObject(part));\n        }\n        if (watches) {\n            ctx.watches = watches.split(' ').map((part) => getObject(part));\n        }\n        if (contexts) {\n            contexts.split(' ').map((part) => {\n                const [key, value] = part.split('=');\n                if (!ctx.contexts) {\n                    ctx.contexts = new Map();\n                }\n                ctx.contexts.set(key, getObject(value));\n            });\n        }\n        // Restore sequence scoping\n        if (host) {\n            const [props, renderQrl] = host.split(' ');\n            assertDefined(props);\n            assertDefined(renderQrl);\n            ctx.props = createProps(getObject(props), ctx.element, containerState);\n            ctx.renderQrl = getObject(renderQrl);\n        }\n    });\n    containerEl.setAttribute(QContainerAttr, 'resumed');\n    logDebug('Container resumed');\n    emitEvent(containerEl, 'qresume', undefined, true);\n}\nfunction hasContext(el) {\n    return !!tryGetContext(el);\n}\nexport function snapshotState(containerEl) {\n    const doc = getDocument(containerEl);\n    const { subsManager, proxyMap, platform } = getContainerState(containerEl);\n    const elementToIndex = new Map();\n    const collector = createCollector(doc, proxyMap);\n    // Collect all qObjected around the DOM\n    const elements = getNodesInScope(containerEl, hasContext);\n    elements.forEach((node) => {\n        const ctx = tryGetContext(node);\n        collectProps(node, ctx.props, collector);\n        ctx.contexts?.forEach((ctx) => {\n            collectValue(ctx, collector);\n        });\n        ctx.listeners?.forEach((listeners) => {\n            for (const l of listeners) {\n                const captured = l.captureRef;\n                if (captured) {\n                    captured.forEach((obj) => collectValue(obj, collector));\n                }\n            }\n        });\n        ctx.watches.forEach((watch) => {\n            collector.watches.push(watch);\n        });\n    });\n    // Convert objSet to array\n    const objs = Array.from(collector.objSet);\n    function hasSubscriptions(a) {\n        const manager = subsManager.tryGetLocal(a);\n        if (manager) {\n            return manager.subs.size > 0;\n        }\n        return false;\n    }\n    objs.sort((a, b) => {\n        const isProxyA = hasSubscriptions(a) ? 0 : 1;\n        const isProxyB = hasSubscriptions(b) ? 0 : 1;\n        return isProxyA - isProxyB;\n    });\n    const objToId = new Map();\n    let count = 0;\n    for (const obj of objs) {\n        objToId.set(obj, count);\n        count++;\n    }\n    function getElementID(el) {\n        let id = elementToIndex.get(el);\n        if (id === undefined) {\n            if (el.isConnected) {\n                id = intToStr(elementToIndex.size);\n                el.setAttribute(ELEMENT_ID, id);\n                id = ELEMENT_ID_PREFIX + id;\n            }\n            else {\n                id = null;\n            }\n            elementToIndex.set(el, id);\n        }\n        return id;\n    }\n    function getObjId(obj) {\n        if (obj !== null && typeof obj === 'object') {\n            const target = obj[QOjectTargetSymbol];\n            const id = objToId.get(normalizeObj(target ?? obj, doc));\n            if (id !== undefined) {\n                const proxySuffix = target ? '!' : '';\n                return intToStr(id) + proxySuffix;\n            }\n            if (!target && isNode(obj)) {\n                if (obj.nodeType === 1) {\n                    return getElementID(obj);\n                }\n                else {\n                    logError('Can not serialize a HTML Node that is not an Element', obj);\n                    return null;\n                }\n            }\n        }\n        else {\n            const id = objToId.get(normalizeObj(obj, doc));\n            if (id !== undefined) {\n                return intToStr(id);\n            }\n        }\n        return null;\n    }\n    function mustGetObjId(obj) {\n        const id = getObjId(obj);\n        assertDefined(id);\n        return id;\n    }\n    const subs = objs\n        .map((obj) => {\n        const subs = subsManager.tryGetLocal(obj)?.subs;\n        if (subs && subs.size > 0) {\n            return Object.fromEntries(Array.from(subs.entries()).map(([sub, set]) => {\n                const id = getObjId(sub);\n                if (id !== null) {\n                    return [id, set ? Array.from(set) : null];\n                }\n                else {\n                    return [undefined, undefined];\n                }\n            }));\n        }\n        else {\n            return null;\n        }\n    })\n        .filter((a) => !!a);\n    const serialize = (value) => {\n        return getObjId(value) ?? value;\n    };\n    const qrlSerializeOptions = {\n        platform,\n        getObjId,\n    };\n    const convertedObjs = objs.map((obj) => {\n        if (Array.isArray(obj)) {\n            return obj.map(serialize);\n        }\n        else if (obj && typeof obj === 'object') {\n            if (isQrl(obj)) {\n                return QRL_PREFIX + stringifyQRL(obj, qrlSerializeOptions);\n            }\n            const output = {};\n            Object.entries(obj).forEach(([key, value]) => {\n                output[key] = serialize(value);\n            });\n            return output;\n        }\n        return obj;\n    });\n    const listeners = [];\n    const meta = {};\n    // Write back to the dom\n    elements.forEach((node) => {\n        const ctx = getContext(node);\n        assertDefined(ctx);\n        const ref = ctx.refMap;\n        const props = ctx.props;\n        const contexts = ctx.contexts;\n        const watches = ctx.watches;\n        const renderQrl = ctx.renderQrl;\n        const seq = ctx.seq;\n        const metaValue = {};\n        const elementCaptured = collector.elements.includes(node);\n        let add = false;\n        if (ref.array.length > 0) {\n            const value = ref.array.map((obj) => mustGetObjId(obj)).join(' ');\n            if (value) {\n                metaValue.r = value;\n                add = true;\n            }\n        }\n        if (elementCaptured && props) {\n            const objs = [getProxyTarget(props)];\n            if (renderQrl) {\n                objs.push(renderQrl);\n            }\n            const value = objs.map((obj) => mustGetObjId(obj)).join(' ');\n            if (value) {\n                metaValue.h = value;\n                add = true;\n            }\n        }\n        if (watches.length > 0) {\n            const value = watches\n                .map((watch) => getObjId(watch))\n                .filter((obj) => obj != null)\n                .join(' ');\n            if (value) {\n                metaValue.w = value;\n                add = true;\n            }\n        }\n        if (elementCaptured && seq.length > 0) {\n            const value = seq.map((obj) => mustGetObjId(obj)).join(' ');\n            if (value) {\n                metaValue.s = value;\n                add = true;\n            }\n        }\n        if (contexts) {\n            const serializedContexts = [];\n            contexts.forEach((value, key) => {\n                serializedContexts.push(`${key}=${mustGetObjId(value)}`);\n            });\n            const value = serializedContexts.join(' ');\n            if (value) {\n                metaValue.c = value;\n                add = true;\n            }\n        }\n        if (add) {\n            const elementID = getElementID(node);\n            assertDefined(elementID);\n            meta[elementID] = metaValue;\n        }\n        if (ctx.listeners) {\n            ctx.listeners.forEach((qrls, key) => {\n                qrls.forEach((qrl) => {\n                    listeners.push({\n                        key,\n                        qrl,\n                    });\n                });\n            });\n        }\n    });\n    for (const watch of collector.watches) {\n        destroyWatch(watch);\n        if (qDev) {\n            if (watch.f & WatchFlags.IsDirty) {\n                logWarn('Serializing dirty watch. Looks like an internal error.');\n            }\n            if (!isConnected(watch)) {\n                logWarn('Serializing disconneted watch. Looks like an internal error.');\n            }\n        }\n    }\n    // Sanity check of serialized element\n    if (qDev) {\n        elementToIndex.forEach((value, el) => {\n            if (getDocument(el) !== doc) {\n                logWarn('element from different document', value, el.tagName);\n            }\n            if (!value) {\n                logWarn('unconnected element', el.tagName, '\\n');\n            }\n        });\n    }\n    return {\n        state: {\n            ctx: meta,\n            objs: convertedObjs,\n            subs,\n        },\n        objs,\n        listeners,\n    };\n}\nexport function getQwikJSON(parentElm) {\n    let child = parentElm.lastElementChild;\n    while (child) {\n        if (child.tagName === 'SCRIPT' && child.getAttribute('type') === 'qwik/json') {\n            return child;\n        }\n        child = child.previousElementSibling;\n    }\n    return undefined;\n}\nexport function getNodesInScope(parent, predicate) {\n    const nodes = [];\n    walkNodes(nodes, parent, predicate);\n    return nodes;\n}\nexport function walkNodes(nodes, parent, predicate) {\n    let child = parent.firstElementChild;\n    while (child) {\n        if (!isContainer(child)) {\n            if (predicate(child)) {\n                nodes.push(child);\n            }\n            walkNodes(nodes, child, predicate);\n        }\n        child = child.nextElementSibling;\n    }\n}\nfunction reviveValues(objs, subs, getObject, containerState, containerEl) {\n    for (let i = 0; i < objs.length; i++) {\n        const value = objs[i];\n        if (typeof value === 'string') {\n            if (value === UNDEFINED_PREFIX) {\n                objs[i] = undefined;\n            }\n            else if (value === DOCUMENT_PREFIX) {\n                objs[i] = getDocument(containerEl);\n            }\n            else if (value.startsWith(QRL_PREFIX)) {\n                objs[i] = parseQRL(value.slice(1), containerEl);\n            }\n        }\n        else {\n            const sub = subs[i];\n            if (sub) {\n                const converted = new Map();\n                Object.entries(sub).forEach((entry) => {\n                    const el = getObject(entry[0]);\n                    if (!el) {\n                        logWarn('QWIK can not revive subscriptions because of missing element ID', entry, value);\n                        return;\n                    }\n                    const set = entry[1] === null ? null : new Set(entry[1]);\n                    converted.set(el, set);\n                });\n                _restoreQObject(value, containerState, converted);\n            }\n        }\n    }\n}\nfunction reviveNestedObjects(obj, getObject) {\n    if (obj && typeof obj == 'object') {\n        if (isQrl(obj)) {\n            if (obj.capture && obj.capture.length > 0) {\n                obj.captureRef = obj.capture.map(getObject);\n                obj.capture = null;\n            }\n            return;\n        }\n        else if (Array.isArray(obj)) {\n            for (let i = 0; i < obj.length; i++) {\n                const value = obj[i];\n                if (typeof value == 'string') {\n                    obj[i] = getObject(value);\n                }\n                else {\n                    reviveNestedObjects(value, getObject);\n                }\n            }\n        }\n        else if (Object.getPrototypeOf(obj) === Object.prototype) {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (typeof value == 'string') {\n                        obj[key] = getObject(value);\n                    }\n                    else {\n                        reviveNestedObjects(value, getObject);\n                    }\n                }\n            }\n        }\n    }\n}\nfunction getObjectImpl(id, elements, objs, containerState) {\n    if (id.startsWith(ELEMENT_ID_PREFIX)) {\n        assertEqual(elements.has(id), true);\n        return elements.get(id);\n    }\n    const index = strToInt(id);\n    assertEqual(objs.length > index, true);\n    const obj = objs[index];\n    const needsProxy = id.endsWith('!');\n    if (needsProxy && containerState) {\n        return containerState.proxyMap.get(obj) ?? readWriteProxy(obj, containerState);\n    }\n    return obj;\n}\nfunction normalizeObj(obj, doc) {\n    if (obj === doc) {\n        return DOCUMENT_PREFIX;\n    }\n    if (obj === undefined || !shouldSerialize(obj)) {\n        return UNDEFINED_PREFIX;\n    }\n    return getProxyTarget(obj) ?? obj;\n}\nfunction collectValue(obj, collector) {\n    const handled = collectQObjects(obj, collector);\n    if (!handled) {\n        collector.objSet.add(normalizeObj(obj, collector.doc));\n    }\n}\nfunction collectProps(el, props, collector) {\n    const subs = props && typeof props === 'object' && props[QOjectSubsSymbol];\n    if (subs && subs.has(el)) {\n        // The host element read the props\n        collectElement(el, collector);\n    }\n}\nfunction createCollector(doc, proxyMap) {\n    return {\n        seen: new Set(),\n        objSet: new Set(),\n        elements: [],\n        watches: [],\n        proxyMap,\n        doc,\n    };\n}\nfunction collectQrl(obj, collector) {\n    if (collector.seen.has(obj)) {\n        return true;\n    }\n    collector.seen.add(obj);\n    collector.objSet.add(normalizeObj(obj, collector.doc));\n    if (obj.captureRef) {\n        obj.captureRef.forEach((obj) => collectValue(obj, collector));\n    }\n}\nfunction collectElement(el, collector) {\n    if (collector.seen.has(el)) {\n        return;\n    }\n    collector.seen.add(el);\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        collector.elements.push(el);\n        if (ctx.props) {\n            collectValue(ctx.props, collector);\n        }\n        if (ctx.renderQrl) {\n            collectValue(ctx.renderQrl, collector);\n        }\n        ctx.seq.forEach((obj) => {\n            collectValue(obj, collector);\n        });\n        ctx.refMap.array.forEach((obj) => {\n            collectValue(obj, collector);\n        });\n        ctx.watches.forEach((watch) => {\n            collectValue(watch, collector);\n        });\n        if (ctx.contexts) {\n            ctx.contexts.forEach((obj) => {\n                collectValue(obj, collector);\n            });\n        }\n    }\n}\nexport function escapeText(str) {\n    return str.replace(/<(\\/?script)/g, '\\\\x3C$1');\n}\nexport function unescapeText(str) {\n    return str.replace(/\\\\x3C(\\/?script)/g, '<$1');\n}\nfunction collectSubscriptions(subs, collector) {\n    if (collector.seen.has(subs)) {\n        return;\n    }\n    collector.seen.add(subs);\n    Array.from(subs.keys()).forEach((key) => {\n        if (isElement(key)) {\n            collectElement(key, collector);\n        }\n        else {\n            collectValue(key, collector);\n        }\n    });\n}\nfunction collectQObjects(obj, collector) {\n    if (obj != null) {\n        if (typeof obj === 'object') {\n            const hasTarget = !!obj[QOjectTargetSymbol];\n            if (!hasTarget && isNode(obj)) {\n                if (obj.nodeType === 1) {\n                    return true;\n                }\n                return false;\n            }\n            if (isQrl(obj)) {\n                collectQrl(obj, collector);\n                return true;\n            }\n            const proxied = hasTarget ? obj : collector.proxyMap.get(obj);\n            const subs = proxied?.[QOjectSubsSymbol];\n            if (subs) {\n                collectSubscriptions(subs, collector);\n            }\n            obj = normalizeObj(obj, collector.doc);\n        }\n        if (typeof obj === 'object') {\n            if (collector.seen.has(obj)) {\n                return true;\n            }\n            collector.seen.add(obj);\n            collector.objSet.add(obj);\n            if (Array.isArray(obj)) {\n                for (let i = 0; i < obj.length; i++) {\n                    collectQObjects(obj[i], collector);\n                }\n            }\n            else {\n                for (const key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        collectQObjects(obj[key], collector);\n                    }\n                }\n            }\n            return true;\n        }\n        if (typeof obj === 'string') {\n            collector.objSet.add(obj);\n            return true;\n        }\n    }\n    return false;\n}\nexport function getProxyTarget(obj) {\n    if (obj !== null && typeof obj === 'object') {\n        return obj[QOjectTargetSymbol];\n    }\n    return undefined;\n}\nexport function isContainer(el) {\n    return el.hasAttribute(QContainerAttr);\n}\nfunction hasQId(el) {\n    return el.hasAttribute(ELEMENT_ID);\n}\nexport const intToStr = (nu) => {\n    return nu.toString(36);\n};\nexport const strToInt = (nu) => {\n    return parseInt(nu, 36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3N0b3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFFBQVEsRUFBdUIsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzVFLE9BQU8sRUFBRSxLQUFLLEVBQWUsTUFBTSxxQkFBcUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4RSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFELE9BQU8sRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsY0FBYyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEYsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwQyxPQUFPLEVBQ0wsV0FBVyxFQUVYLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIsY0FBYyxFQUNkLGVBQWUsRUFFZixlQUFlLEdBQ2hCLE1BQU0sWUFBWSxDQUFDO0FBQ3BCLE9BQU8sRUFBRSxZQUFZLEVBQW1CLFVBQVUsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBRWxGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDMUMsT0FBTyxFQUFrQixpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBVTVFLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLFFBQVEsQ0FBQztBQUN6QyxNQUFNLENBQUMsTUFBTSxV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S0FDRjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQUVELE1BQU0sVUFBVSxjQUFjLENBQUMsR0FBUTtJQUNyQyxJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1FBQzNDLE9BQU8sR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7S0FDaEM7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FBQyxFQUFXO0lBQ3JDLE9BQU8sRUFBRSxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztBQUN6QyxDQUFDO0FBRUQsU0FBUyxNQUFNLENBQUMsRUFBVztJQUN6QixPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDckMsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLEVBQVUsRUFBRSxFQUFFO0lBQ3JDLE9BQU8sRUFBRSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxFQUFVLEVBQUUsRUFBRTtJQUNyQyxPQUFPLFFBQVEsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDMUIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IHBhcnNlUVJMLCBRUkxTZXJpYWxpemVPcHRpb25zLCBzdHJpbmdpZnlRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IGlzUXJsLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCwgY3JlYXRlUHJvcHMsIHRyeUdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGlzRWxlbWVudCwgaXNOb2RlIH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IGxvZ0RlYnVnLCBsb2dFcnJvciwgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IEVMRU1FTlRfSUQsIEVMRU1FTlRfSURfUFJFRklYLCBRQ29udGFpbmVyQXR0ciB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7XG4gIGlzQ29ubmVjdGVkLFxuICBPYmpUb1Byb3h5TWFwLFxuICBRT2plY3RTdWJzU3ltYm9sLFxuICBRT2plY3RUYXJnZXRTeW1ib2wsXG4gIHJlYWRXcml0ZVByb3h5LFxuICBzaG91bGRTZXJpYWxpemUsXG4gIFN1YnNjcmliZXJNYXAsXG4gIF9yZXN0b3JlUU9iamVjdCxcbn0gZnJvbSAnLi9xLW9iamVjdCc7XG5pbXBvcnQgeyBkZXN0cm95V2F0Y2gsIFdhdGNoRGVzY3JpcHRvciwgV2F0Y2hGbGFncyB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGVtaXRFdmVudCB9IGZyb20gJy4uL3V0aWwvZXZlbnQnO1xuaW1wb3J0IHsgQ29udGFpbmVyU3RhdGUsIGdldENvbnRhaW5lclN0YXRlIH0gZnJvbSAnLi4vcmVuZGVyL25vdGlmeS1yZW5kZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0b3JlIHtcbiAgZG9jOiBEb2N1bWVudDtcbiAgb2JqczogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuZXhwb3J0IHR5cGUgR2V0T2JqZWN0ID0gKGlkOiBzdHJpbmcpID0+IGFueTtcbmV4cG9ydCB0eXBlIEdldE9iaklEID0gKG9iajogYW55KSA9PiBzdHJpbmcgfCBudWxsO1xuXG5leHBvcnQgY29uc3QgVU5ERUZJTkVEX1BSRUZJWCA9ICdcXHUwMDEwJztcbmV4cG9ydCBjb25zdCBRUkxfUFJFRklYID0gJ1xcdTAwMTEnO1xuZXhwb3J0IGNvbnN0IERPQ1VNRU5UX1BSRUZJWCA9ICdcXHUwMDEyJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VtZUNvbnRhaW5lcihjb250YWluZXJFbDogRWxlbWVudCkge1xuICBpZiAoIWlzQ29udGFpbmVyKGNvbnRhaW5lckVsKSkge1xuICAgIGxvZ1dhcm4oJ1NraXBwaW5nIGh5ZHJhdGlvbiBiZWNhdXNlIHBhcmVudCBlbGVtZW50IGlzIG5vdCBxOmNvbnRhaW5lcicpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChjb250YWluZXJFbCk7XG4gIGNvbnN0IGlzRG9jRWxlbWVudCA9IGNvbnRhaW5lckVsID09PSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICBjb25zdCBwYXJlbnRKU09OID0gaXNEb2NFbGVtZW50ID8gZG9jLmJvZHkgOiBjb250YWluZXJFbDtcbiAgY29uc3Qgc2NyaXB0ID0gZ2V0UXdpa0pTT04ocGFyZW50SlNPTik7XG4gIGlmICghc2NyaXB0KSB7XG4gICAgbG9nV2FybignU2tpcHBpbmcgaHlkcmF0aW9uIHF3aWsvanNvbiBtZXRhZGF0YSB3YXMgbm90IGZvdW5kLicpO1xuICAgIHJldHVybjtcbiAgfVxuICBzY3JpcHQucmVtb3ZlKCk7XG5cbiAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBnZXRDb250YWluZXJTdGF0ZShjb250YWluZXJFbCk7XG4gIGNvbnN0IG1ldGEgPSBKU09OLnBhcnNlKHVuZXNjYXBlVGV4dChzY3JpcHQudGV4dENvbnRlbnQgfHwgJ3t9JykpIGFzIFNuYXBzaG90U3RhdGU7XG5cbiAgLy8gQ29sbGVjdCBhbGwgZWxlbWVudHNcbiAgY29uc3QgZWxlbWVudHMgPSBuZXcgTWFwPHN0cmluZywgRWxlbWVudD4oKTtcbiAgZ2V0Tm9kZXNJblNjb3BlKGNvbnRhaW5lckVsLCBoYXNRSWQpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgY29uc3QgaWQgPSBlbC5nZXRBdHRyaWJ1dGUoRUxFTUVOVF9JRCkhO1xuICAgIGVsZW1lbnRzLnNldChFTEVNRU5UX0lEX1BSRUZJWCArIGlkLCBlbCk7XG4gIH0pO1xuXG4gIGNvbnN0IGdldE9iamVjdDogR2V0T2JqZWN0ID0gKGlkKSA9PiB7XG4gICAgcmV0dXJuIGdldE9iamVjdEltcGwoaWQsIGVsZW1lbnRzLCBtZXRhLm9ianMsIGNvbnRhaW5lclN0YXRlKTtcbiAgfTtcblxuICAvLyBSZXZpdmUgcHJveGllcyB3aXRoIHN1YnNjcmlwdGlvbnMgaW50byB0aGUgcHJveHltYXBcbiAgcmV2aXZlVmFsdWVzKG1ldGEub2JqcywgbWV0YS5zdWJzLCBnZXRPYmplY3QsIGNvbnRhaW5lclN0YXRlLCBwYXJlbnRKU09OKTtcblxuICAvLyBSZWJ1aWxkIHRhcmdldCBvYmplY3RzXG4gIGZvciAoY29uc3Qgb2JqIG9mIG1ldGEub2Jqcykge1xuICAgIHJldml2ZU5lc3RlZE9iamVjdHMob2JqLCBnZXRPYmplY3QpO1xuICB9XG5cbiAgT2JqZWN0LmVudHJpZXMobWV0YS5jdHgpLmZvckVhY2goKFtlbGVtZW50SUQsIGN0eE1ldGFdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBnZXRPYmplY3QoZWxlbWVudElEKSBhcyBFbGVtZW50O1xuICAgIGFzc2VydERlZmluZWQoZWwpO1xuICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuXG4gICAgY29uc3QgcW9iaiA9IGN0eE1ldGEucjtcbiAgICBjb25zdCBzZXEgPSBjdHhNZXRhLnM7XG4gICAgY29uc3QgaG9zdCA9IGN0eE1ldGEuaDtcbiAgICBjb25zdCBjb250ZXh0cyA9IGN0eE1ldGEuYztcbiAgICBjb25zdCB3YXRjaGVzID0gY3R4TWV0YS53O1xuXG4gICAgaWYgKHFvYmopIHtcbiAgICAgIGN0eC5yZWZNYXAuYXJyYXkucHVzaCguLi5xb2JqLnNwbGl0KCcgJykubWFwKChwYXJ0KSA9PiBnZXRPYmplY3QocGFydCkpKTtcbiAgICB9XG4gICAgaWYgKHNlcSkge1xuICAgICAgY3R4LnNlcSA9IHNlcS5zcGxpdCgnICcpLm1hcCgocGFydCkgPT4gZ2V0T2JqZWN0KHBhcnQpKTtcbiAgICB9XG4gICAgaWYgKHdhdGNoZXMpIHtcbiAgICAgIGN0eC53YXRjaGVzID0gd2F0Y2hlcy5zcGxpdCgnICcpLm1hcCgocGFydCkgPT4gZ2V0T2JqZWN0KHBhcnQpKTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHRzKSB7XG4gICAgICBjb250ZXh0cy5zcGxpdCgnICcpLm1hcCgocGFydCkgPT4ge1xuICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBwYXJ0LnNwbGl0KCc9Jyk7XG4gICAgICAgIGlmICghY3R4LmNvbnRleHRzKSB7XG4gICAgICAgICAgY3R4LmNvbnRleHRzID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5jb250ZXh0cy5zZXQoa2V5LCBnZXRPYmplY3QodmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlc3RvcmUgc2VxdWVuY2Ugc2NvcGluZ1xuICAgIGlmIChob3N0KSB7XG4gICAgICBjb25zdCBbcHJvcHMsIHJlbmRlclFybF0gPSBob3N0LnNwbGl0KCcgJyk7XG4gICAgICBhc3NlcnREZWZpbmVkKHByb3BzKTtcbiAgICAgIGFzc2VydERlZmluZWQocmVuZGVyUXJsKTtcbiAgICAgIGN0eC5wcm9wcyA9IGNyZWF0ZVByb3BzKGdldE9iamVjdChwcm9wcyksIGN0eC5lbGVtZW50LCBjb250YWluZXJTdGF0ZSk7XG4gICAgICBjdHgucmVuZGVyUXJsID0gZ2V0T2JqZWN0KHJlbmRlclFybCk7XG4gICAgfVxuICB9KTtcblxuICBjb250YWluZXJFbC5zZXRBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIsICdyZXN1bWVkJyk7XG4gIGxvZ0RlYnVnKCdDb250YWluZXIgcmVzdW1lZCcpO1xuICBlbWl0RXZlbnQoY29udGFpbmVyRWwsICdxcmVzdW1lJywgdW5kZWZpbmVkLCB0cnVlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTbmFwc2hvdE1ldGFWYWx1ZSB7XG4gIHI/OiBzdHJpbmc7IC8vIHE6b2JqXG4gIHc/OiBzdHJpbmc7IC8vIHE6d2F0Y2hlc1xuICBzPzogc3RyaW5nOyAvLyBxOnNlcVxuICBoPzogc3RyaW5nOyAvLyBxOmhvc3RcbiAgYz86IHN0cmluZzsgLy8gcTpjb250ZXh0XG59XG5cbmV4cG9ydCB0eXBlIFNuYXBzaG90TWV0YSA9IFJlY29yZDxzdHJpbmcsIFNuYXBzaG90TWV0YVZhbHVlPjtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU25hcHNob3RTdGF0ZSB7XG4gIGN0eDogU25hcHNob3RNZXRhO1xuICBvYmpzOiBhbnlbXTtcbiAgc3ViczogYW55W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU25hcHNob3RMaXN0ZW5lciB7XG4gIGtleTogc3RyaW5nO1xuICBxcmw6IFFSTDxhbnk+O1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTbmFwc2hvdFJlc3VsdCB7XG4gIHN0YXRlOiBTbmFwc2hvdFN0YXRlO1xuICBsaXN0ZW5lcnM6IFNuYXBzaG90TGlzdGVuZXJbXTtcbiAgb2JqczogYW55W107XG59XG5cbmZ1bmN0aW9uIGhhc0NvbnRleHQoZWw6IEVsZW1lbnQpIHtcbiAgcmV0dXJuICEhdHJ5R2V0Q29udGV4dChlbCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbmFwc2hvdFN0YXRlKGNvbnRhaW5lckVsOiBFbGVtZW50KTogU25hcHNob3RSZXN1bHQge1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChjb250YWluZXJFbCk7XG4gIGNvbnN0IHsgc3Vic01hbmFnZXIsIHByb3h5TWFwLCBwbGF0Zm9ybSB9ID0gZ2V0Q29udGFpbmVyU3RhdGUoY29udGFpbmVyRWwpO1xuICBjb25zdCBlbGVtZW50VG9JbmRleCA9IG5ldyBNYXA8RWxlbWVudCwgc3RyaW5nIHwgbnVsbD4oKTtcbiAgY29uc3QgY29sbGVjdG9yID0gY3JlYXRlQ29sbGVjdG9yKGRvYywgcHJveHlNYXApO1xuXG4gIC8vIENvbGxlY3QgYWxsIHFPYmplY3RlZCBhcm91bmQgdGhlIERPTVxuICBjb25zdCBlbGVtZW50cyA9IGdldE5vZGVzSW5TY29wZShjb250YWluZXJFbCwgaGFzQ29udGV4dCk7XG4gIGVsZW1lbnRzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICBjb25zdCBjdHggPSB0cnlHZXRDb250ZXh0KG5vZGUpITtcbiAgICBjb2xsZWN0UHJvcHMobm9kZSwgY3R4LnByb3BzLCBjb2xsZWN0b3IpO1xuICAgIGN0eC5jb250ZXh0cz8uZm9yRWFjaCgoY3R4KSA9PiB7XG4gICAgICBjb2xsZWN0VmFsdWUoY3R4LCBjb2xsZWN0b3IpO1xuICAgIH0pO1xuICAgIGN0eC5saXN0ZW5lcnM/LmZvckVhY2goKGxpc3RlbmVycykgPT4ge1xuICAgICAgZm9yIChjb25zdCBsIG9mIGxpc3RlbmVycykge1xuICAgICAgICBjb25zdCBjYXB0dXJlZCA9IChsIGFzIFFSTEludGVybmFsKS5jYXB0dXJlUmVmO1xuICAgICAgICBpZiAoY2FwdHVyZWQpIHtcbiAgICAgICAgICBjYXB0dXJlZC5mb3JFYWNoKChvYmopID0+IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3RvcikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY3R4LndhdGNoZXMuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICAgIGNvbGxlY3Rvci53YXRjaGVzLnB1c2god2F0Y2gpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBDb252ZXJ0IG9ialNldCB0byBhcnJheVxuICBjb25zdCBvYmpzID0gQXJyYXkuZnJvbShjb2xsZWN0b3Iub2JqU2V0KTtcblxuICBmdW5jdGlvbiBoYXNTdWJzY3JpcHRpb25zKGE6IGFueSkge1xuICAgIGNvbnN0IG1hbmFnZXIgPSBzdWJzTWFuYWdlci50cnlHZXRMb2NhbChhKTtcbiAgICBpZiAobWFuYWdlcikge1xuICAgICAgcmV0dXJuIG1hbmFnZXIuc3Vicy5zaXplID4gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgb2Jqcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3QgaXNQcm94eUEgPSBoYXNTdWJzY3JpcHRpb25zKGEpID8gMCA6IDE7XG4gICAgY29uc3QgaXNQcm94eUIgPSBoYXNTdWJzY3JpcHRpb25zKGIpID8gMCA6IDE7XG4gICAgcmV0dXJuIGlzUHJveHlBIC0gaXNQcm94eUI7XG4gIH0pO1xuXG4gIGNvbnN0IG9ialRvSWQgPSBuZXcgTWFwPGFueSwgbnVtYmVyPigpO1xuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGNvbnN0IG9iaiBvZiBvYmpzKSB7XG4gICAgb2JqVG9JZC5zZXQob2JqLCBjb3VudCk7XG4gICAgY291bnQrKztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRJRChlbDogRWxlbWVudCk6IHN0cmluZyB8IG51bGwge1xuICAgIGxldCBpZCA9IGVsZW1lbnRUb0luZGV4LmdldChlbCk7XG4gICAgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChlbC5pc0Nvbm5lY3RlZCkge1xuICAgICAgICBpZCA9IGludFRvU3RyKGVsZW1lbnRUb0luZGV4LnNpemUpO1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoRUxFTUVOVF9JRCwgaWQpO1xuICAgICAgICBpZCA9IEVMRU1FTlRfSURfUFJFRklYICsgaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBlbGVtZW50VG9JbmRleC5zZXQoZWwsIGlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0T2JqSWQob2JqOiBhbnkpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBvYmpbUU9qZWN0VGFyZ2V0U3ltYm9sXTtcbiAgICAgIGNvbnN0IGlkID0gb2JqVG9JZC5nZXQobm9ybWFsaXplT2JqKHRhcmdldCA/PyBvYmosIGRvYykpO1xuICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgcHJveHlTdWZmaXggPSB0YXJnZXQgPyAnIScgOiAnJztcbiAgICAgICAgcmV0dXJuIGludFRvU3RyKGlkKSArIHByb3h5U3VmZml4O1xuICAgICAgfVxuICAgICAgaWYgKCF0YXJnZXQgJiYgaXNOb2RlKG9iaikpIHtcbiAgICAgICAgaWYgKG9iai5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiBnZXRFbGVtZW50SUQob2JqIGFzIEVsZW1lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ0Vycm9yKCdDYW4gbm90IHNlcmlhbGl6ZSBhIEhUTUwgTm9kZSB0aGF0IGlzIG5vdCBhbiBFbGVtZW50Jywgb2JqKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpZCA9IG9ialRvSWQuZ2V0KG5vcm1hbGl6ZU9iaihvYmosIGRvYykpO1xuICAgICAgaWYgKGlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGludFRvU3RyKGlkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBtdXN0R2V0T2JqSWQob2JqOiBhbnkpOiBzdHJpbmcge1xuICAgIGNvbnN0IGlkID0gZ2V0T2JqSWQob2JqKSE7XG4gICAgYXNzZXJ0RGVmaW5lZChpZCk7XG4gICAgcmV0dXJuIGlkO1xuICB9XG5cbiAgY29uc3Qgc3VicyA9IG9ianNcbiAgICAubWFwKChvYmopID0+IHtcbiAgICAgIGNvbnN0IHN1YnMgPSBzdWJzTWFuYWdlci50cnlHZXRMb2NhbChvYmopPy5zdWJzO1xuICAgICAgaWYgKHN1YnMgJiYgc3Vicy5zaXplID4gMCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgICAgIEFycmF5LmZyb20oc3Vicy5lbnRyaWVzKCkpLm1hcCgoW3N1Yiwgc2V0XSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBnZXRPYmpJZChzdWIpO1xuICAgICAgICAgICAgaWYgKGlkICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHJldHVybiBbaWQsIHNldCA/IEFycmF5LmZyb20oc2V0KSA6IG51bGxdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHVuZGVmaW5lZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmZpbHRlcigoYSkgPT4gISFhKTtcblxuICBjb25zdCBzZXJpYWxpemUgPSAodmFsdWU6IGFueSkgPT4ge1xuICAgIHJldHVybiBnZXRPYmpJZCh2YWx1ZSkgPz8gdmFsdWU7XG4gIH07XG5cbiAgY29uc3QgcXJsU2VyaWFsaXplT3B0aW9uczogUVJMU2VyaWFsaXplT3B0aW9ucyA9IHtcbiAgICBwbGF0Zm9ybSxcbiAgICBnZXRPYmpJZCxcbiAgfTtcblxuICBjb25zdCBjb252ZXJ0ZWRPYmpzID0gb2Jqcy5tYXAoKG9iaikgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHJldHVybiBvYmoubWFwKHNlcmlhbGl6ZSk7XG4gICAgfSBlbHNlIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc1FybChvYmopKSB7XG4gICAgICAgIHJldHVybiBRUkxfUFJFRklYICsgc3RyaW5naWZ5UVJMKG9iaiwgcXJsU2VyaWFsaXplT3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBjb25zdCBvdXRwdXQ6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKG9iaikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIG91dHB1dFtrZXldID0gc2VyaWFsaXplKHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSk7XG5cbiAgY29uc3QgbGlzdGVuZXJzOiBTbmFwc2hvdExpc3RlbmVyW10gPSBbXTtcblxuICBjb25zdCBtZXRhOiBTbmFwc2hvdE1ldGEgPSB7fTtcbiAgLy8gV3JpdGUgYmFjayB0byB0aGUgZG9tXG4gIGVsZW1lbnRzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICBjb25zdCBjdHggPSBnZXRDb250ZXh0KG5vZGUpITtcbiAgICBhc3NlcnREZWZpbmVkKGN0eCk7XG5cbiAgICBjb25zdCByZWYgPSBjdHgucmVmTWFwO1xuICAgIGNvbnN0IHByb3BzID0gY3R4LnByb3BzO1xuICAgIGNvbnN0IGNvbnRleHRzID0gY3R4LmNvbnRleHRzO1xuICAgIGNvbnN0IHdhdGNoZXMgPSBjdHgud2F0Y2hlcztcbiAgICBjb25zdCByZW5kZXJRcmwgPSBjdHgucmVuZGVyUXJsO1xuICAgIGNvbnN0IHNlcSA9IGN0eC5zZXE7XG4gICAgY29uc3QgbWV0YVZhbHVlOiBTbmFwc2hvdE1ldGFWYWx1ZSA9IHt9O1xuICAgIGNvbnN0IGVsZW1lbnRDYXB0dXJlZCA9IGNvbGxlY3Rvci5lbGVtZW50cy5pbmNsdWRlcyhub2RlKTtcblxuICAgIGxldCBhZGQgPSBmYWxzZTtcbiAgICBpZiAocmVmLmFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcmVmLmFycmF5Lm1hcCgob2JqKSA9PiBtdXN0R2V0T2JqSWQob2JqKSkuam9pbignICcpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIG1ldGFWYWx1ZS5yID0gdmFsdWU7XG4gICAgICAgIGFkZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRDYXB0dXJlZCAmJiBwcm9wcykge1xuICAgICAgY29uc3Qgb2JqcyA9IFtnZXRQcm94eVRhcmdldChwcm9wcyldO1xuICAgICAgaWYgKHJlbmRlclFybCkge1xuICAgICAgICBvYmpzLnB1c2gocmVuZGVyUXJsKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gb2Jqcy5tYXAoKG9iaikgPT4gbXVzdEdldE9iaklkKG9iaikpLmpvaW4oJyAnKTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBtZXRhVmFsdWUuaCA9IHZhbHVlO1xuICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh3YXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gd2F0Y2hlc1xuICAgICAgICAubWFwKCh3YXRjaCkgPT4gZ2V0T2JqSWQod2F0Y2gpKVxuICAgICAgICAuZmlsdGVyKChvYmopID0+IG9iaiAhPSBudWxsKVxuICAgICAgICAuam9pbignICcpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIG1ldGFWYWx1ZS53ID0gdmFsdWU7XG4gICAgICAgIGFkZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnRDYXB0dXJlZCAmJiBzZXEubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdmFsdWUgPSBzZXEubWFwKChvYmopID0+IG11c3RHZXRPYmpJZChvYmopKS5qb2luKCcgJyk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgbWV0YVZhbHVlLnMgPSB2YWx1ZTtcbiAgICAgICAgYWRkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoY29udGV4dHMpIHtcbiAgICAgIGNvbnN0IHNlcmlhbGl6ZWRDb250ZXh0czogc3RyaW5nW10gPSBbXTtcbiAgICAgIGNvbnRleHRzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgc2VyaWFsaXplZENvbnRleHRzLnB1c2goYCR7a2V5fT0ke211c3RHZXRPYmpJZCh2YWx1ZSl9YCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHZhbHVlID0gc2VyaWFsaXplZENvbnRleHRzLmpvaW4oJyAnKTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBtZXRhVmFsdWUuYyA9IHZhbHVlO1xuICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhZGQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJRCA9IGdldEVsZW1lbnRJRChub2RlKSE7XG4gICAgICBhc3NlcnREZWZpbmVkKGVsZW1lbnRJRCk7XG4gICAgICBtZXRhW2VsZW1lbnRJRF0gPSBtZXRhVmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKGN0eC5saXN0ZW5lcnMpIHtcbiAgICAgIGN0eC5saXN0ZW5lcnMuZm9yRWFjaCgocXJscywga2V5KSA9PiB7XG4gICAgICAgIHFybHMuZm9yRWFjaCgocXJsKSA9PiB7XG4gICAgICAgICAgbGlzdGVuZXJzLnB1c2goe1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgcXJsLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgZm9yIChjb25zdCB3YXRjaCBvZiBjb2xsZWN0b3Iud2F0Y2hlcykge1xuICAgIGRlc3Ryb3lXYXRjaCh3YXRjaCk7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIGlmICh3YXRjaC5mICYgV2F0Y2hGbGFncy5Jc0RpcnR5KSB7XG4gICAgICAgIGxvZ1dhcm4oJ1NlcmlhbGl6aW5nIGRpcnR5IHdhdGNoLiBMb29rcyBsaWtlIGFuIGludGVybmFsIGVycm9yLicpO1xuICAgICAgfVxuICAgICAgaWYgKCFpc0Nvbm5lY3RlZCh3YXRjaCkpIHtcbiAgICAgICAgbG9nV2FybignU2VyaWFsaXppbmcgZGlzY29ubmV0ZWQgd2F0Y2guIExvb2tzIGxpa2UgYW4gaW50ZXJuYWwgZXJyb3IuJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gU2FuaXR5IGNoZWNrIG9mIHNlcmlhbGl6ZWQgZWxlbWVudFxuICBpZiAocURldikge1xuICAgIGVsZW1lbnRUb0luZGV4LmZvckVhY2goKHZhbHVlLCBlbCkgPT4ge1xuICAgICAgaWYgKGdldERvY3VtZW50KGVsKSAhPT0gZG9jKSB7XG4gICAgICAgIGxvZ1dhcm4oJ2VsZW1lbnQgZnJvbSBkaWZmZXJlbnQgZG9jdW1lbnQnLCB2YWx1ZSwgZWwudGFnTmFtZSk7XG4gICAgICB9XG4gICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIGxvZ1dhcm4oJ3VuY29ubmVjdGVkIGVsZW1lbnQnLCBlbC50YWdOYW1lLCAnXFxuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzdGF0ZToge1xuICAgICAgY3R4OiBtZXRhLFxuICAgICAgb2JqczogY29udmVydGVkT2JqcyxcbiAgICAgIHN1YnMsXG4gICAgfSxcbiAgICBvYmpzLFxuICAgIGxpc3RlbmVycyxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFF3aWtKU09OKHBhcmVudEVsbTogRWxlbWVudCk6IEhUTUxTY3JpcHRFbGVtZW50IHwgdW5kZWZpbmVkIHtcbiAgbGV0IGNoaWxkID0gcGFyZW50RWxtLmxhc3RFbGVtZW50Q2hpbGQ7XG4gIHdoaWxlIChjaGlsZCkge1xuICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAnU0NSSVBUJyAmJiBjaGlsZC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ3F3aWsvanNvbicpIHtcbiAgICAgIHJldHVybiBjaGlsZCBhcyBIVE1MU2NyaXB0RWxlbWVudDtcbiAgICB9XG4gICAgY2hpbGQgPSBjaGlsZC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2Rlc0luU2NvcGUocGFyZW50OiBFbGVtZW50LCBwcmVkaWNhdGU6IChlbDogRWxlbWVudCkgPT4gYm9vbGVhbikge1xuICBjb25zdCBub2RlczogRWxlbWVudFtdID0gW107XG4gIHdhbGtOb2Rlcyhub2RlcywgcGFyZW50LCBwcmVkaWNhdGUpO1xuICByZXR1cm4gbm9kZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3YWxrTm9kZXMobm9kZXM6IEVsZW1lbnRbXSwgcGFyZW50OiBFbGVtZW50LCBwcmVkaWNhdGU6IChlbDogRWxlbWVudCkgPT4gYm9vbGVhbikge1xuICBsZXQgY2hpbGQgPSBwYXJlbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gIHdoaWxlIChjaGlsZCkge1xuICAgIGlmICghaXNDb250YWluZXIoY2hpbGQpKSB7XG4gICAgICBpZiAocHJlZGljYXRlKGNoaWxkKSkge1xuICAgICAgICBub2Rlcy5wdXNoKGNoaWxkKTtcbiAgICAgIH1cbiAgICAgIHdhbGtOb2Rlcyhub2RlcywgY2hpbGQsIHByZWRpY2F0ZSk7XG4gICAgfVxuICAgIGNoaWxkID0gY2hpbGQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJldml2ZVZhbHVlcyhcbiAgb2JqczogYW55W10sXG4gIHN1YnM6IGFueVtdLFxuICBnZXRPYmplY3Q6IEdldE9iamVjdCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBjb250YWluZXJFbDogRWxlbWVudFxuKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb2Jqcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gb2Jqc1tpXTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKHZhbHVlID09PSBVTkRFRklORURfUFJFRklYKSB7XG4gICAgICAgIG9ianNbaV0gPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBET0NVTUVOVF9QUkVGSVgpIHtcbiAgICAgICAgb2Jqc1tpXSA9IGdldERvY3VtZW50KGNvbnRhaW5lckVsKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUuc3RhcnRzV2l0aChRUkxfUFJFRklYKSkge1xuICAgICAgICBvYmpzW2ldID0gcGFyc2VRUkwodmFsdWUuc2xpY2UoMSksIGNvbnRhaW5lckVsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3ViID0gc3Vic1tpXTtcbiAgICAgIGlmIChzdWIpIHtcbiAgICAgICAgY29uc3QgY29udmVydGVkID0gbmV3IE1hcCgpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhzdWIpLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgZWwgPSBnZXRPYmplY3QoZW50cnlbMF0pO1xuICAgICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIGxvZ1dhcm4oXG4gICAgICAgICAgICAgICdRV0lLIGNhbiBub3QgcmV2aXZlIHN1YnNjcmlwdGlvbnMgYmVjYXVzZSBvZiBtaXNzaW5nIGVsZW1lbnQgSUQnLFxuICAgICAgICAgICAgICBlbnRyeSxcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHNldCA9IGVudHJ5WzFdID09PSBudWxsID8gbnVsbCA6IChuZXcgU2V0KGVudHJ5WzFdIGFzIGFueSkgYXMgU2V0PHN0cmluZz4pO1xuICAgICAgICAgIGNvbnZlcnRlZC5zZXQoZWwsIHNldCk7XG4gICAgICAgIH0pO1xuICAgICAgICBfcmVzdG9yZVFPYmplY3QodmFsdWUsIGNvbnRhaW5lclN0YXRlLCBjb252ZXJ0ZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXZpdmVOZXN0ZWRPYmplY3RzKG9iajogYW55LCBnZXRPYmplY3Q6IEdldE9iamVjdCkge1xuICBpZiAob2JqICYmIHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoaXNRcmwob2JqKSkge1xuICAgICAgaWYgKG9iai5jYXB0dXJlICYmIG9iai5jYXB0dXJlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgb2JqLmNhcHR1cmVSZWYgPSBvYmouY2FwdHVyZS5tYXAoZ2V0T2JqZWN0KTtcbiAgICAgICAgb2JqLmNhcHR1cmUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIG9ialtpXSA9IGdldE9iamVjdCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2aXZlTmVzdGVkT2JqZWN0cyh2YWx1ZSwgZ2V0T2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgb2JqW2tleV0gPSBnZXRPYmplY3QodmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXZpdmVOZXN0ZWRPYmplY3RzKHZhbHVlLCBnZXRPYmplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRPYmplY3RJbXBsKFxuICBpZDogc3RyaW5nLFxuICBlbGVtZW50czogTWFwPHN0cmluZywgRWxlbWVudD4sXG4gIG9ianM6IGFueVtdLFxuICBjb250YWluZXJTdGF0ZT86IENvbnRhaW5lclN0YXRlXG4pIHtcbiAgaWYgKGlkLnN0YXJ0c1dpdGgoRUxFTUVOVF9JRF9QUkVGSVgpKSB7XG4gICAgYXNzZXJ0RXF1YWwoZWxlbWVudHMuaGFzKGlkKSwgdHJ1ZSk7XG4gICAgcmV0dXJuIGVsZW1lbnRzLmdldChpZCk7XG4gIH1cbiAgY29uc3QgaW5kZXggPSBzdHJUb0ludChpZCk7XG4gIGFzc2VydEVxdWFsKG9ianMubGVuZ3RoID4gaW5kZXgsIHRydWUpO1xuICBjb25zdCBvYmogPSBvYmpzW2luZGV4XTtcbiAgY29uc3QgbmVlZHNQcm94eSA9IGlkLmVuZHNXaXRoKCchJyk7XG4gIGlmIChuZWVkc1Byb3h5ICYmIGNvbnRhaW5lclN0YXRlKSB7XG4gICAgcmV0dXJuIGNvbnRhaW5lclN0YXRlLnByb3h5TWFwLmdldChvYmopID8/IHJlYWRXcml0ZVByb3h5KG9iaiwgY29udGFpbmVyU3RhdGUpO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU9iaihvYmo6IGFueSwgZG9jOiBEb2N1bWVudCkge1xuICBpZiAob2JqID09PSBkb2MpIHtcbiAgICByZXR1cm4gRE9DVU1FTlRfUFJFRklYO1xuICB9XG4gIGlmIChvYmogPT09IHVuZGVmaW5lZCB8fCAhc2hvdWxkU2VyaWFsaXplKG9iaikpIHtcbiAgICByZXR1cm4gVU5ERUZJTkVEX1BSRUZJWDtcbiAgfVxuICByZXR1cm4gZ2V0UHJveHlUYXJnZXQob2JqKSA/PyBvYmo7XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RWYWx1ZShvYmo6IGFueSwgY29sbGVjdG9yOiBDb2xsZWN0b3IpIHtcbiAgY29uc3QgaGFuZGxlZCA9IGNvbGxlY3RRT2JqZWN0cyhvYmosIGNvbGxlY3Rvcik7XG4gIGlmICghaGFuZGxlZCkge1xuICAgIGNvbGxlY3Rvci5vYmpTZXQuYWRkKG5vcm1hbGl6ZU9iaihvYmosIGNvbGxlY3Rvci5kb2MpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb2xsZWN0UHJvcHMoZWw6IEVsZW1lbnQsIHByb3BzOiBhbnksIGNvbGxlY3RvcjogQ29sbGVjdG9yKSB7XG4gIGNvbnN0IHN1YnMgPSBwcm9wcyAmJiB0eXBlb2YgcHJvcHMgPT09ICdvYmplY3QnICYmIChwcm9wc1tRT2plY3RTdWJzU3ltYm9sXSBhcyBTdWJzY3JpYmVyTWFwKTtcbiAgaWYgKHN1YnMgJiYgc3Vicy5oYXMoZWwpKSB7XG4gICAgLy8gVGhlIGhvc3QgZWxlbWVudCByZWFkIHRoZSBwcm9wc1xuICAgIGNvbGxlY3RFbGVtZW50KGVsLCBjb2xsZWN0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdG9yIHtcbiAgc2VlbjogU2V0PGFueT47XG4gIG9ialNldDogU2V0PGFueT47XG4gIGVsZW1lbnRzOiBFbGVtZW50W107XG4gIHdhdGNoZXM6IFdhdGNoRGVzY3JpcHRvcltdO1xuICBwcm94eU1hcDogT2JqVG9Qcm94eU1hcDtcbiAgZG9jOiBEb2N1bWVudDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29sbGVjdG9yKGRvYzogRG9jdW1lbnQsIHByb3h5TWFwOiBPYmpUb1Byb3h5TWFwKTogQ29sbGVjdG9yIHtcbiAgcmV0dXJuIHtcbiAgICBzZWVuOiBuZXcgU2V0KCksXG4gICAgb2JqU2V0OiBuZXcgU2V0KCksXG4gICAgZWxlbWVudHM6IFtdLFxuICAgIHdhdGNoZXM6IFtdLFxuICAgIHByb3h5TWFwLFxuICAgIGRvYyxcbiAgfTtcbn1cbmZ1bmN0aW9uIGNvbGxlY3RRcmwob2JqOiBRUkxJbnRlcm5hbCwgY29sbGVjdG9yOiBDb2xsZWN0b3IpIHtcbiAgaWYgKGNvbGxlY3Rvci5zZWVuLmhhcyhvYmopKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29sbGVjdG9yLnNlZW4uYWRkKG9iaik7XG5cbiAgY29sbGVjdG9yLm9ialNldC5hZGQobm9ybWFsaXplT2JqKG9iaiwgY29sbGVjdG9yLmRvYykpO1xuICBpZiAob2JqLmNhcHR1cmVSZWYpIHtcbiAgICBvYmouY2FwdHVyZVJlZi5mb3JFYWNoKChvYmopID0+IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3RvcikpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RFbGVtZW50KGVsOiBFbGVtZW50LCBjb2xsZWN0b3I6IENvbGxlY3Rvcikge1xuICBpZiAoY29sbGVjdG9yLnNlZW4uaGFzKGVsKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb2xsZWN0b3Iuc2Vlbi5hZGQoZWwpO1xuICBjb25zdCBjdHggPSB0cnlHZXRDb250ZXh0KGVsKTtcbiAgaWYgKGN0eCkge1xuICAgIGNvbGxlY3Rvci5lbGVtZW50cy5wdXNoKGVsKTtcbiAgICBpZiAoY3R4LnByb3BzKSB7XG4gICAgICBjb2xsZWN0VmFsdWUoY3R4LnByb3BzLCBjb2xsZWN0b3IpO1xuICAgIH1cbiAgICBpZiAoY3R4LnJlbmRlclFybCkge1xuICAgICAgY29sbGVjdFZhbHVlKGN0eC5yZW5kZXJRcmwsIGNvbGxlY3Rvcik7XG4gICAgfVxuICAgIGN0eC5zZXEuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICBjb2xsZWN0VmFsdWUob2JqLCBjb2xsZWN0b3IpO1xuICAgIH0pO1xuICAgIGN0eC5yZWZNYXAuYXJyYXkuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgICBjb2xsZWN0VmFsdWUob2JqLCBjb2xsZWN0b3IpO1xuICAgIH0pO1xuICAgIGN0eC53YXRjaGVzLmZvckVhY2goKHdhdGNoKSA9PiB7XG4gICAgICBjb2xsZWN0VmFsdWUod2F0Y2gsIGNvbGxlY3Rvcik7XG4gICAgfSk7XG4gICAgaWYgKGN0eC5jb250ZXh0cykge1xuICAgICAgY3R4LmNvbnRleHRzLmZvckVhY2goKG9iaikgPT4ge1xuICAgICAgICBjb2xsZWN0VmFsdWUob2JqLCBjb2xsZWN0b3IpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGVUZXh0KHN0cjogc3RyaW5nKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvPChcXC8/c2NyaXB0KS9nLCAnXFxcXHgzQyQxJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1bmVzY2FwZVRleHQoc3RyOiBzdHJpbmcpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXFxceDNDKFxcLz9zY3JpcHQpL2csICc8JDEnKTtcbn1cblxuZnVuY3Rpb24gY29sbGVjdFN1YnNjcmlwdGlvbnMoc3ViczogU3Vic2NyaWJlck1hcCwgY29sbGVjdG9yOiBDb2xsZWN0b3IpIHtcbiAgaWYgKGNvbGxlY3Rvci5zZWVuLmhhcyhzdWJzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb2xsZWN0b3Iuc2Vlbi5hZGQoc3Vicyk7XG4gIEFycmF5LmZyb20oc3Vicy5rZXlzKCkpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChpc0VsZW1lbnQoa2V5KSkge1xuICAgICAgY29sbGVjdEVsZW1lbnQoa2V5LCBjb2xsZWN0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb2xsZWN0VmFsdWUoa2V5LCBjb2xsZWN0b3IpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RRT2JqZWN0cyhvYmo6IGFueSwgY29sbGVjdG9yOiBDb2xsZWN0b3IpIHtcbiAgaWYgKG9iaiAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCBoYXNUYXJnZXQgPSAhIW9ialtRT2plY3RUYXJnZXRTeW1ib2xdO1xuICAgICAgaWYgKCFoYXNUYXJnZXQgJiYgaXNOb2RlKG9iaikpIHtcbiAgICAgICAgaWYgKG9iai5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1FybChvYmopKSB7XG4gICAgICAgIGNvbGxlY3RRcmwob2JqLCBjb2xsZWN0b3IpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb3hpZWQgPSBoYXNUYXJnZXQgPyBvYmogOiBjb2xsZWN0b3IucHJveHlNYXAuZ2V0KG9iaik7XG4gICAgICBjb25zdCBzdWJzID0gcHJveGllZD8uW1FPamVjdFN1YnNTeW1ib2xdIGFzIFN1YnNjcmliZXJNYXA7XG4gICAgICBpZiAoc3Vicykge1xuICAgICAgICBjb2xsZWN0U3Vic2NyaXB0aW9ucyhzdWJzLCBjb2xsZWN0b3IpO1xuICAgICAgfVxuICAgICAgb2JqID0gbm9ybWFsaXplT2JqKG9iaiwgY29sbGVjdG9yLmRvYyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKGNvbGxlY3Rvci5zZWVuLmhhcyhvYmopKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgY29sbGVjdG9yLnNlZW4uYWRkKG9iaik7XG4gICAgICBjb2xsZWN0b3Iub2JqU2V0LmFkZChvYmopO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29sbGVjdFFPYmplY3RzKG9ialtpXSwgY29sbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIGNvbGxlY3RRT2JqZWN0cyhvYmpba2V5XSwgY29sbGVjdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbGxlY3Rvci5vYmpTZXQuYWRkKG9iaik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJveHlUYXJnZXQob2JqOiBhbnkpOiBhbnkge1xuICBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9ialtRT2plY3RUYXJnZXRTeW1ib2xdO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0NvbnRhaW5lcihlbDogRWxlbWVudCkge1xuICByZXR1cm4gZWwuaGFzQXR0cmlidXRlKFFDb250YWluZXJBdHRyKTtcbn1cblxuZnVuY3Rpb24gaGFzUUlkKGVsOiBFbGVtZW50KSB7XG4gIHJldHVybiBlbC5oYXNBdHRyaWJ1dGUoRUxFTUVOVF9JRCk7XG59XG5cbmV4cG9ydCBjb25zdCBpbnRUb1N0ciA9IChudTogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBudS50b1N0cmluZygzNik7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RyVG9JbnQgPSAobnU6IHN0cmluZykgPT4ge1xuICByZXR1cm4gcGFyc2VJbnQobnUsIDM2KTtcbn07XG4iXX0=","export function newQObjectMap() {\n    const array = [];\n    return {\n        array,\n        get(index) {\n            return array[index];\n        },\n        indexOf(obj) {\n            const index = array.indexOf(obj);\n            return index === -1 ? undefined : index;\n        },\n        add(object) {\n            const index = array.indexOf(object);\n            if (index === -1) {\n                array.push(object);\n                return array.length - 1;\n            }\n            return index;\n        },\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb2JqLW1hcC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9wcm9wcy9wcm9wcy1vYmotbWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQVNBLE1BQU0sVUFBVSxhQUFhO0lBQzNCLE1BQU0sS0FBSyxHQUFtQixFQUFFLENBQUM7SUFDakMsT0FBTztRQUNMLEtBQUs7UUFDTCxHQUFHLENBQUMsS0FBYTtZQUNmLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RCLENBQUM7UUFDRCxPQUFPLENBQUMsR0FBVztZQUNqQixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2pDLE9BQU8sS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUMxQyxDQUFDO1FBQ0QsR0FBRyxDQUFDLE1BQW9CO1lBQ3RCLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDcEMsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0JBQ2hCLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ25CLE9BQU8sS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7YUFDekI7WUFDRCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7S0FDWSxDQUFDO0FBQ2xCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFFPYmplY3QgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFFPYmplY3RNYXAge1xuICBhZGQocU9iamVjdDogUU9iamVjdDxhbnk+KTogbnVtYmVyO1xuICBnZXQoaW5kZXg6IG51bWJlcik6IFFPYmplY3Q8YW55PiB8IHVuZGVmaW5lZDtcbiAgaW5kZXhPZihvYmplY3Q6IFFPYmplY3Q8YW55Pik6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYXJyYXk6IFFPYmplY3Q8YW55PltdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbmV3UU9iamVjdE1hcCgpOiBRT2JqZWN0TWFwIHtcbiAgY29uc3QgYXJyYXk6IFFPYmplY3Q8YW55PltdID0gW107XG4gIHJldHVybiB7XG4gICAgYXJyYXksXG4gICAgZ2V0KGluZGV4OiBudW1iZXIpOiBRT2JqZWN0PGFueT4gfCB1bmRlZmluZWQge1xuICAgICAgcmV0dXJuIGFycmF5W2luZGV4XTtcbiAgICB9LFxuICAgIGluZGV4T2Yob2JqOiBzdHJpbmcpOiBudW1iZXIgfCB1bmRlZmluZWQge1xuICAgICAgY29uc3QgaW5kZXggPSBhcnJheS5pbmRleE9mKG9iaik7XG4gICAgICByZXR1cm4gaW5kZXggPT09IC0xID8gdW5kZWZpbmVkIDogaW5kZXg7XG4gICAgfSxcbiAgICBhZGQob2JqZWN0OiBRT2JqZWN0PGFueT4pIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihvYmplY3QpO1xuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICBhcnJheS5wdXNoKG9iamVjdCk7XG4gICAgICAgIHJldHVybiBhcnJheS5sZW5ndGggLSAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0sXG4gIH0gYXMgUU9iamVjdE1hcDtcbn1cbiJdfQ==","export function fromCamelToKebabCase(text) {\n    return text.replace(/([A-Z])/g, '-$1').toLowerCase();\n}\nexport function fromKebabToCamelCase(text) {\n    return text.replace(/-./g, (x) => x[1].toUpperCase());\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FzZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2Nhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLG9CQUFvQixDQUFDLElBQVk7SUFDL0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUN2RCxDQUFDO0FBRUQsTUFBTSxVQUFVLG9CQUFvQixDQUFDLElBQVk7SUFDL0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDeEQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC8oW0EtWl0pL2csICctJDEnKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUtlYmFiVG9DYW1lbENhc2UodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvLS4vZywgKHgpID0+IHhbMV0udG9VcHBlckNhc2UoKSk7XG59XG4iXX0=","export function stringify(value) {\n    return value == null ? null : String(value);\n}\nexport function debugStringify(value) {\n    if (value != null && typeof value == 'object') {\n        return String(value.constructor.name) + '\\n' + safeJSONStringify(value);\n    }\n    return String(value);\n}\nfunction safeJSONStringify(value) {\n    try {\n        return JSON.stringify(value, null, '  ');\n    }\n    catch (e) {\n        return String(e);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5naWZ5LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvc3RyaW5naWZ5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxTQUFTLENBQUMsS0FBVTtJQUNsQyxPQUFPLEtBQUssSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzlDLENBQUM7QUFFRCxNQUFNLFVBQVUsY0FBYyxDQUFDLEtBQVU7SUFDdkMsSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLE9BQU8sS0FBSyxJQUFJLFFBQVEsRUFBRTtRQUM3QyxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUN6RTtJQUNELE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3ZCLENBQUM7QUFFRCxTQUFTLGlCQUFpQixDQUFDLEtBQVU7SUFDbkMsSUFBSTtRQUNGLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzFDO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFDVixPQUFPLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNsQjtBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5KHZhbHVlOiBhbnkpOiBzdHJpbmcgfCBudWxsIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogU3RyaW5nKHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnU3RyaW5naWZ5KHZhbHVlOiBhbnkpOiBzdHJpbmcge1xuICBpZiAodmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpICsgJ1xcbicgKyBzYWZlSlNPTlN0cmluZ2lmeSh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHNhZmVKU09OU3RyaW5naWZ5KHZhbHVlOiBhbnkpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUsIG51bGwsICcgICcpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIFN0cmluZyhlKTtcbiAgfVxufVxuIl19","import { getPlatform } from '../platform/platform';\nimport { parseQRL, stringifyQRL } from '../import/qrl';\nimport { isSameQRL } from '../import/qrl-class';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { EMPTY_ARRAY } from '../util/flyweight';\nimport { isPromise } from '../util/promises';\nimport { debugStringify } from '../util/stringify';\nimport { setAttribute } from '../render/cursor';\nconst ON_PROP_REGEX = /^(window:|document:|)on([A-Z]|-.).*Qrl$/;\nconst ON$_PROP_REGEX = /^(window:|document:|)on([A-Z]|-.).*\\$$/;\nexport function isOnProp(prop) {\n    return ON_PROP_REGEX.test(prop);\n}\nexport function isOn$Prop(prop) {\n    return ON$_PROP_REGEX.test(prop);\n}\nexport function qPropWriteQRL(rctx, ctx, prop, value) {\n    if (!value) {\n        return;\n    }\n    if (!ctx.listeners) {\n        ctx.listeners = getDomListeners(ctx.element);\n    }\n    const kebabProp = fromCamelToKebabCase(prop);\n    const existingListeners = ctx.listeners.get(kebabProp) || [];\n    const newQRLs = Array.isArray(value) ? value : [value];\n    for (const value of newQRLs) {\n        const cp = value.copy();\n        cp.setContainer(ctx.element);\n        const capture = cp.capture;\n        if (capture == null) {\n            // we need to serialize the lexical scope references\n            const captureRef = cp.captureRef;\n            cp.capture =\n                captureRef && captureRef.length\n                    ? captureRef.map((ref) => String(ctx.refMap.add(ref)))\n                    : EMPTY_ARRAY;\n        }\n        // Important we modify the array as it is cached.\n        for (let i = 0; i < existingListeners.length; i++) {\n            const qrl = existingListeners[i];\n            if (isSameQRL(qrl, cp)) {\n                existingListeners.splice(i, 1);\n                i--;\n            }\n        }\n        existingListeners.push(cp);\n    }\n    ctx.listeners.set(kebabProp, existingListeners);\n    const newValue = serializeQRLs(existingListeners, ctx);\n    if (ctx.element.getAttribute(kebabProp) !== newValue) {\n        if (rctx) {\n            setAttribute(rctx, ctx.element, kebabProp, newValue);\n        }\n        else {\n            ctx.element.setAttribute(kebabProp, newValue);\n        }\n    }\n}\nexport function closureRefError(ref) {\n    return new Error(`QWIK-ERROR: A closure can only lexically capture 'QObject' and 'QProp' const references. Got: ` +\n        debugStringify(ref));\n}\nexport function getDomListeners(el) {\n    const attributes = el.attributes;\n    const listeners = new Map();\n    for (let i = 0; i < attributes.length; i++) {\n        const attr = attributes.item(i);\n        if (attr.name.startsWith('on:') ||\n            attr.name.startsWith('on-window:') ||\n            attr.name.startsWith('on-document:')) {\n            let array = listeners.get(attr.name);\n            if (!array) {\n                listeners.set(attr.name, (array = []));\n            }\n            array.push(parseQRL(attr.value, el));\n        }\n    }\n    return listeners;\n}\nfunction serializeQRLs(existingQRLs, ctx) {\n    const platform = getPlatform(ctx.element);\n    const element = ctx.element;\n    const opts = {\n        platform,\n        element,\n    };\n    return existingQRLs\n        .map((qrl) => (isPromise(qrl) ? '' : stringifyQRL(qrl, opts)))\n        .filter((v) => !!v)\n        .join('\\n');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb24uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMtb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3ZELE9BQU8sRUFBRSxTQUFTLEVBQWUsTUFBTSxxQkFBcUIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFbkQsT0FBTyxFQUFpQixZQUFZLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUcvRCxNQUFNLGFBQWEsR0FBRyx5Q0FBeUMsQ0FBQztBQUNoRSxNQUFNLGNBQWMsR0FBRyx3Q0FBd0MsQ0FBQztBQUVoRSxNQUFNLFVBQVUsUUFBUSxDQUFDLElBQVk7SUFDbkMsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ2xDLENBQUM7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUFDLElBQVk7SUFDcEMsT0FBTyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ25DLENBQUM7QUFFRCxNQUFNLFVBQVUsYUFBYSxDQUMzQixJQUErQixFQUMvQixHQUFhLEVBQ2IsSUFBWSxFQUNaLEtBQTRCO0lBRTVCLElBQUksQ0FBQyxLQUFLLEVBQUU7UUFDVixPQUFPO0tBQ1I7SUFDRCxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRTtRQUNsQixHQUFHLENBQUMsU0FBUyxHQUFHLGVBQWUsQ0FBQyxH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bGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB7IHBhcnNlUVJMLCBzdHJpbmdpZnlRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IGlzU2FtZVFSTCwgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IGZyb21DYW1lbFRvS2ViYWJDYXNlIH0gZnJvbSAnLi4vdXRpbC9jYXNlJztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBkZWJ1Z1N0cmluZ2lmeSB9IGZyb20gJy4uL3V0aWwvc3RyaW5naWZ5JztcbmltcG9ydCB0eXBlIHsgUUNvbnRleHQgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IFJlbmRlckNvbnRleHQsIHNldEF0dHJpYnV0ZSB9IGZyb20gJy4uL3JlbmRlci9jdXJzb3InO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5cbmNvbnN0IE9OX1BST1BfUkVHRVggPSAvXih3aW5kb3c6fGRvY3VtZW50Onwpb24oW0EtWl18LS4pLipRcmwkLztcbmNvbnN0IE9OJF9QUk9QX1JFR0VYID0gL14od2luZG93Onxkb2N1bWVudDp8KW9uKFtBLVpdfC0uKS4qXFwkJC87XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09uUHJvcChwcm9wOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIE9OX1BST1BfUkVHRVgudGVzdChwcm9wKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT24kUHJvcChwcm9wOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIE9OJF9QUk9QX1JFR0VYLnRlc3QocHJvcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxUHJvcFdyaXRlUVJMKFxuICByY3R4OiBSZW5kZXJDb250ZXh0IHwgdW5kZWZpbmVkLFxuICBjdHg6IFFDb250ZXh0LFxuICBwcm9wOiBzdHJpbmcsXG4gIHZhbHVlOiBRUkw8YW55PltdIHwgUVJMPGFueT5cbikge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghY3R4Lmxpc3RlbmVycykge1xuICAgIGN0eC5saXN0ZW5lcnMgPSBnZXREb21MaXN0ZW5lcnMoY3R4LmVsZW1lbnQpO1xuICB9XG5cbiAgY29uc3Qga2ViYWJQcm9wID0gZnJvbUNhbWVsVG9LZWJhYkNhc2UocHJvcCk7XG4gIGNvbnN0IGV4aXN0aW5nTGlzdGVuZXJzID0gY3R4Lmxpc3RlbmVycy5nZXQoa2ViYWJQcm9wKSB8fCBbXTtcblxuICBjb25zdCBuZXdRUkxzID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gIGZvciAoY29uc3QgdmFsdWUgb2YgbmV3UVJMcykge1xuICAgIGNvbnN0IGNwID0gKHZhbHVlIGFzIFFSTEludGVybmFsKS5jb3B5KCk7XG4gICAgY3Auc2V0Q29udGFpbmVyKGN0eC5lbGVtZW50KTtcbiAgICBjb25zdCBjYXB0dXJlID0gY3AuY2FwdHVyZTtcbiAgICBpZiAoY2FwdHVyZSA9PSBudWxsKSB7XG4gICAgICAvLyB3ZSBuZWVkIHRvIHNlcmlhbGl6ZSB0aGUgbGV4aWNhbCBzY29wZSByZWZlcmVuY2VzXG4gICAgICBjb25zdCBjYXB0dXJlUmVmID0gY3AuY2FwdHVyZVJlZjtcbiAgICAgIGNwLmNhcHR1cmUgPVxuICAgICAgICBjYXB0dXJlUmVmICYmIGNhcHR1cmVSZWYubGVuZ3RoXG4gICAgICAgICAgPyBjYXB0dXJlUmVmLm1hcCgocmVmKSA9PiBTdHJpbmcoY3R4LnJlZk1hcC5hZGQocmVmKSkpXG4gICAgICAgICAgOiBFTVBUWV9BUlJBWTtcbiAgICB9XG5cbiAgICAvLyBJbXBvcnRhbnQgd2UgbW9kaWZ5IHRoZSBhcnJheSBhcyBpdCBpcyBjYWNoZWQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleGlzdGluZ0xpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcXJsID0gZXhpc3RpbmdMaXN0ZW5lcnNbaV07XG4gICAgICBpZiAoaXNTYW1lUVJMKHFybCBhcyBhbnksIGNwKSkge1xuICAgICAgICBleGlzdGluZ0xpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICB9XG4gICAgZXhpc3RpbmdMaXN0ZW5lcnMucHVzaChjcCk7XG4gIH1cbiAgY3R4Lmxpc3RlbmVycy5zZXQoa2ViYWJQcm9wLCBleGlzdGluZ0xpc3RlbmVycyk7XG4gIGNvbnN0IG5ld1ZhbHVlID0gc2VyaWFsaXplUVJMcyhleGlzdGluZ0xpc3RlbmVycywgY3R4KTtcbiAgaWYgKGN0eC5lbGVtZW50LmdldEF0dHJpYnV0ZShrZWJhYlByb3ApICE9PSBuZXdWYWx1ZSkge1xuICAgIGlmIChyY3R4KSB7XG4gICAgICBzZXRBdHRyaWJ1dGUocmN0eCwgY3R4LmVsZW1lbnQsIGtlYmFiUHJvcCwgbmV3VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdHguZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2ViYWJQcm9wLCBuZXdWYWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbG9zdXJlUmVmRXJyb3IocmVmOiBhbnkpIHtcbiAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICBgUVdJSy1FUlJPUjogQSBjbG9zdXJlIGNhbiBvbmx5IGxleGljYWxseSBjYXB0dXJlICdRT2JqZWN0JyBhbmQgJ1FQcm9wJyBjb25zdCByZWZlcmVuY2VzLiBHb3Q6IGAgK1xuICAgICAgZGVidWdTdHJpbmdpZnkocmVmKVxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9tTGlzdGVuZXJzKGVsOiBFbGVtZW50KTogTWFwPHN0cmluZywgUVJMW10+IHtcbiAgY29uc3QgYXR0cmlidXRlcyA9IGVsLmF0dHJpYnV0ZXM7XG4gIGNvbnN0IGxpc3RlbmVyczogTWFwPHN0cmluZywgUVJMW10+ID0gbmV3IE1hcCgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhdHRyID0gYXR0cmlidXRlcy5pdGVtKGkpITtcbiAgICBpZiAoXG4gICAgICBhdHRyLm5hbWUuc3RhcnRzV2l0aCgnb246JykgfHxcbiAgICAgIGF0dHIubmFtZS5zdGFydHNXaXRoKCdvbi13aW5kb3c6JykgfHxcbiAgICAgIGF0dHIubmFtZS5zdGFydHNXaXRoKCdvbi1kb2N1bWVudDonKVxuICAgICkge1xuICAgICAgbGV0IGFycmF5ID0gbGlzdGVuZXJzLmdldChhdHRyLm5hbWUpO1xuICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICBsaXN0ZW5lcnMuc2V0KGF0dHIubmFtZSwgKGFycmF5ID0gW10pKTtcbiAgICAgIH1cbiAgICAgIGFycmF5LnB1c2gocGFyc2VRUkwoYXR0ci52YWx1ZSwgZWwpKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxpc3RlbmVycztcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplUVJMcyhleGlzdGluZ1FSTHM6IFFSTDxhbnk+W10sIGN0eDogUUNvbnRleHQpOiBzdHJpbmcge1xuICBjb25zdCBwbGF0Zm9ybSA9IGdldFBsYXRmb3JtKGN0eC5lbGVtZW50KTtcbiAgY29uc3QgZWxlbWVudCA9IGN0eC5lbGVtZW50O1xuICBjb25zdCBvcHRzID0ge1xuICAgIHBsYXRmb3JtLFxuICAgIGVsZW1lbnQsXG4gIH07XG4gIHJldHVybiBleGlzdGluZ1FSTHNcbiAgICAubWFwKChxcmwpID0+IChpc1Byb21pc2UocXJsKSA/ICcnIDogc3RyaW5naWZ5UVJMKHFybCwgb3B0cykpKVxuICAgIC5maWx0ZXIoKHYpID0+ICEhdilcbiAgICAuam9pbignXFxuJyk7XG59XG4iXX0=","import { getDocument } from '../util/dom';\nimport { isDocument } from '../util/element';\nimport { QContainerAttr } from '../util/markers';\nimport { qDev } from '../util/qdev';\nimport { escapeText, snapshotState } from './store';\n// <docs markdown=\"../readme.md#pauseContainer\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#pauseContainer instead)\n/**\n * Serialize the current state of the application into DOM\n *\n * @alpha\n */\n// </docs>\nexport function pauseContainer(elmOrDoc) {\n    const doc = getDocument(elmOrDoc);\n    const containerEl = isDocument(elmOrDoc) ? elmOrDoc.documentElement : elmOrDoc;\n    const parentJSON = isDocument(elmOrDoc) ? elmOrDoc.body : containerEl;\n    const data = snapshotState(containerEl);\n    const script = doc.createElement('script');\n    script.setAttribute('type', 'qwik/json');\n    script.textContent = escapeText(JSON.stringify(data.state, undefined, qDev ? '  ' : undefined));\n    parentJSON.appendChild(script);\n    containerEl.setAttribute(QContainerAttr, 'paused');\n    return data;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL29iamVjdC9zdG9yZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEMsT0FBTyxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFHcEQsZ0RBQWdEO0FBQ2hELHlDQUF5QztBQUN6Qyw2Q0FBNkM7QUFDN0M7Ozs7R0FJRztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsY0FBYyxDQUFDLFFBQTRCO0lBQ3pELE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNsQyxNQUFNLFdBQVcsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQztJQUMvRSxNQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztJQUN0RSxNQUFNLElBQUksR0FBRyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDeEMsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUMzQyxNQUFNLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQztJQUN6QyxNQUFNLENBQUMsV0FBVyxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ2hHLFVBQVUsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0IsV0FBVyxDQUFDLFlBQVksQ0FBQyxjQUFjLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDbkQsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBpc0RvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IFFDb250YWluZXJBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgZXNjYXBlVGV4dCwgc25hcHNob3RTdGF0ZSB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBTbmFwc2hvdFN0YXRlLCBTbmFwc2hvdFJlc3VsdCB9IGZyb20gJy4vc3RvcmUnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNwYXVzZUNvbnRhaW5lclwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNwYXVzZUNvbnRhaW5lciBpbnN0ZWFkKVxuLyoqXG4gKiBTZXJpYWxpemUgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGFwcGxpY2F0aW9uIGludG8gRE9NXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiBwYXVzZUNvbnRhaW5lcihlbG1PckRvYzogRWxlbWVudCB8IERvY3VtZW50KTogU25hcHNob3RSZXN1bHQge1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChlbG1PckRvYyk7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gaXNEb2N1bWVudChlbG1PckRvYykgPyBlbG1PckRvYy5kb2N1bWVudEVsZW1lbnQgOiBlbG1PckRvYztcbiAgY29uc3QgcGFyZW50SlNPTiA9IGlzRG9jdW1lbnQoZWxtT3JEb2MpID8gZWxtT3JEb2MuYm9keSA6IGNvbnRhaW5lckVsO1xuICBjb25zdCBkYXRhID0gc25hcHNob3RTdGF0ZShjb250YWluZXJFbCk7XG4gIGNvbnN0IHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgc2NyaXB0LnNldEF0dHJpYnV0ZSgndHlwZScsICdxd2lrL2pzb24nKTtcbiAgc2NyaXB0LnRleHRDb250ZW50ID0gZXNjYXBlVGV4dChKU09OLnN0cmluZ2lmeShkYXRhLnN0YXRlLCB1bmRlZmluZWQsIHFEZXYgPyAnICAnIDogdW5kZWZpbmVkKSk7XG4gIHBhcmVudEpTT04uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgY29udGFpbmVyRWwuc2V0QXR0cmlidXRlKFFDb250YWluZXJBdHRyLCAncGF1c2VkJyk7XG4gIHJldHVybiBkYXRhO1xufVxuXG5leHBvcnQgdHlwZSB7IFNuYXBzaG90U3RhdGUsIFNuYXBzaG90UmVzdWx0IH07XG4iXX0=","import { isMutable, QOjectAllSymbol, QOjectOriginalProxy, QOjectSubsSymbol, QOjectTargetSymbol, readWriteProxy, } from '../object/q-object';\nimport { getProxyTarget, resumeContainer } from '../object/store';\nimport { newQObjectMap } from './props-obj-map';\nimport { qPropWriteQRL } from './props-on';\nimport { QContainerAttr } from '../util/markers';\nimport { destroyWatch } from '../watch/watch.public';\nimport { pauseContainer } from '../object/store.public';\nimport { getContainerState } from '../render/notify-render';\nimport { qDev } from '../util/qdev';\nimport { logError } from '../util/log';\nimport { unwrapSubscriber } from '../use/use-subscriber';\nimport { isQrl } from '../import/qrl-class';\nError.stackTraceLimit = 9999;\nconst Q_CTX = '__ctx__';\nexport function resumeIfNeeded(containerEl) {\n    const isResumed = containerEl.getAttribute(QContainerAttr);\n    if (isResumed === 'paused') {\n        resumeContainer(containerEl);\n        if (qDev) {\n            appendQwikDevTools(containerEl);\n        }\n    }\n}\nexport function appendQwikDevTools(containerEl) {\n    containerEl['qwik'] = {\n        pause: () => pauseContainer(containerEl),\n        state: getContainerState(containerEl),\n    };\n}\nexport function tryGetContext(element) {\n    return element[Q_CTX];\n}\nexport function getContext(element) {\n    let ctx = tryGetContext(element);\n    if (!ctx) {\n        const cache = new Map();\n        element[Q_CTX] = ctx = {\n            element,\n            cache,\n            refMap: newQObjectMap(),\n            dirty: false,\n            seq: [],\n            watches: [],\n            props: undefined,\n            renderQrl: undefined,\n            component: undefined,\n        };\n    }\n    return ctx;\n}\nexport function cleanupContext(ctx, subsManager) {\n    const el = ctx.element;\n    ctx.watches.forEach((watch) => {\n        subsManager.clearSub(watch);\n        destroyWatch(watch);\n    });\n    if (ctx.renderQrl) {\n        subsManager.clearSub(el);\n    }\n    ctx.component = undefined;\n    ctx.renderQrl = undefined;\n    ctx.seq.length = 0;\n    ctx.watches.length = 0;\n    ctx.cache.clear();\n    ctx.dirty = false;\n    ctx.refMap.array.length = 0;\n    el[Q_CTX] = undefined;\n}\nconst PREFIXES = ['document:on', 'window:on', 'on'];\nconst SCOPED = ['on-document', 'on-window', 'on'];\nexport function normalizeOnProp(prop) {\n    let scope = 'on';\n    for (let i = 0; i < PREFIXES.length; i++) {\n        const prefix = PREFIXES[i];\n        if (prop.startsWith(prefix)) {\n            scope = SCOPED[i];\n            prop = prop.slice(prefix.length);\n        }\n    }\n    if (prop.startsWith('-')) {\n        prop = prop.slice(1);\n    }\n    else {\n        prop = prop.toLowerCase();\n    }\n    return `${scope}:${prop}`;\n}\nexport function setEvent(rctx, ctx, prop, value) {\n    qPropWriteQRL(rctx, ctx, normalizeOnProp(prop), value);\n}\nexport function createProps(target, el, containerState) {\n    const manager = containerState.subsManager.getLocal(target);\n    return new Proxy(target, new PropsProxyHandler(el, containerState, manager));\n}\nexport function getPropsMutator(ctx, containerState) {\n    let props = ctx.props;\n    if (!ctx.props) {\n        ctx.props = props = createProps({}, ctx.element, containerState);\n    }\n    const target = getProxyTarget(props);\n    const manager = containerState.subsManager.getLocal(target);\n    return {\n        set(prop, value) {\n            const didSet = prop in target;\n            let oldValue = target[prop];\n            let mut = false;\n            if (isMutable(oldValue)) {\n                oldValue = oldValue.v;\n            }\n            value = unwrapSubscriber(value);\n            target[prop] = value;\n            if (isMutable(value)) {\n                value = value.v;\n                mut = true;\n            }\n            if (oldValue !== value) {\n                if (qDev) {\n                    if (didSet && !mut && !isQrl(value)) {\n                        const displayName = ctx.renderQrl?.getSymbol() ?? ctx.element.localName;\n                        logError(`Props are immutable by default. If you need to change a value of a passed in prop, please wrap the prop with \"mutable()\" <${displayName} ${prop}={mutable(...)}>`, '\\n - Component:', displayName, '\\n - Prop:', prop, '\\n - Old value:', oldValue, '\\n - New value:', value);\n                    }\n                }\n                manager.notifySubs(prop);\n            }\n        },\n    };\n}\nclass PropsProxyHandler {\n    constructor(hostElement, containerState, manager) {\n        this.hostElement = hostElement;\n        this.containerState = containerState;\n        this.manager = manager;\n    }\n    get(target, prop) {\n        if (typeof prop === 'symbol') {\n            return target[prop];\n        }\n        if (prop === QOjectTargetSymbol)\n            return target;\n        if (prop === QOjectSubsSymbol)\n            return this.manager.subs;\n        if (prop === QOjectOriginalProxy)\n            return readWriteProxy(target, this.containerState);\n        if (prop === QOjectAllSymbol) {\n            this.manager.addSub(this.hostElement);\n            return target;\n        }\n        const value = target[prop];\n        if (typeof prop === 'symbol') {\n            return value;\n        }\n        if (isMutable(value)) {\n            this.manager.addSub(this.hostElement, prop);\n            return value.v;\n        }\n        return value;\n    }\n    set() {\n        throw new Error('props are inmutable');\n    }\n    has(target, property) {\n        if (property === QOjectTargetSymbol)\n            return true;\n        if (property === QOjectSubsSymbol)\n            return true;\n        return Object.prototype.hasOwnProperty.call(target, property);\n    }\n    ownKeys(target) {\n        const subscriber = this.hostElement;\n        this.manager.addSub(subscriber);\n        return Object.getOwnPropertyNames(target);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUNMLFNBQVMsRUFFVCxlQUFlLEVBQ2YsbUJBQW1CLEVBQ25CLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIsY0FBYyxHQUdmLE1BQU0sb0JBQW9CLENBQUM7QUFDNUIsT0FBTyxFQUFFLGNBQWMsRUFBRSxlQUFlLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUVsRSxPQUFPLEVBQUUsYUFBYSxFQUFjLE1BQU0saUJBQWlCLENBQUM7QUFDNUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUMzQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFHakQsT0FBTyxFQUFFLFlBQVksRUFBbUIsTUFBTSx1QkFBdUIsQ0FBQztBQUN0RSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDeEQsT0FBTyxFQUFrQixpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFNUMsS0FBSyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFFN0IsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDO0FBRXhCLE1BQU0sVUFBVSxjQUFjLENBQUMsV0FBb0I7SUFDakQsTUFBTSxTQUFTLEdBQUcsV0FBVyxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUMzRCxJQUFJLFNBQVMsS0FBSyxRQUFRLEVBQUU7UUFDMUIs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RUQsR0FBRztRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMscUJBQXFCLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsR0FBRyxDQUFDLE1BQWtCLEVBQUUsUUFBeUI7UUFDL0MsSUFBSSxRQUFRLEtBQUssa0JBQWtCO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDakQsSUFBSSxRQUFRLEtBQUssZ0JBQWdCO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFFL0MsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBa0I7UUFDeEIsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztRQUNwQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUNoQyxPQUFPLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1QyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEpTWE5vZGUgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7XG4gIGlzTXV0YWJsZSxcbiAgTG9jYWxTdWJzY3JpcHRpb25NYW5hZ2VyLFxuICBRT2plY3RBbGxTeW1ib2wsXG4gIFFPamVjdE9yaWdpbmFsUHJveHksXG4gIFFPamVjdFN1YnNTeW1ib2wsXG4gIFFPamVjdFRhcmdldFN5bWJvbCxcbiAgcmVhZFdyaXRlUHJveHksXG4gIFN1YnNjcmlwdGlvbk1hbmFnZXIsXG4gIFRhcmdldFR5cGUsXG59IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBnZXRQcm94eVRhcmdldCwgcmVzdW1lQ29udGFpbmVyIH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyQ29udGV4dCB9IGZyb20gJy4uL3JlbmRlci9jdXJzb3InO1xuaW1wb3J0IHsgbmV3UU9iamVjdE1hcCwgUU9iamVjdE1hcCB9IGZyb20gJy4vcHJvcHMtb2JqLW1hcCc7XG5pbXBvcnQgeyBxUHJvcFdyaXRlUVJMIH0gZnJvbSAnLi9wcm9wcy1vbic7XG5pbXBvcnQgeyBRQ29udGFpbmVyQXR0ciB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB0eXBlIHsgT25SZW5kZXJGbiB9IGZyb20gJy4uL2NvbXBvbmVudC9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IGRlc3Ryb3lXYXRjaCwgV2F0Y2hEZXNjcmlwdG9yIH0gZnJvbSAnLi4vd2F0Y2gvd2F0Y2gucHVibGljJztcbmltcG9ydCB7IHBhdXNlQ29udGFpbmVyIH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlLnB1YmxpYyc7XG5pbXBvcnQgeyBDb250YWluZXJTdGF0ZSwgZ2V0Q29udGFpbmVyU3RhdGUgfSBmcm9tICcuLi9yZW5kZXIvbm90aWZ5LXJlbmRlcic7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IGxvZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgdW53cmFwU3Vic2NyaWJlciB9IGZyb20gJy4uL3VzZS91c2Utc3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpc1FybCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuXG5FcnJvci5zdGFja1RyYWNlTGltaXQgPSA5OTk5O1xuXG5jb25zdCBRX0NUWCA9ICdfX2N0eF9fJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VtZUlmTmVlZGVkKGNvbnRhaW5lckVsOiBFbGVtZW50KTogdm9pZCB7XG4gIGNvbnN0IGlzUmVzdW1lZCA9IGNvbnRhaW5lckVsLmdldEF0dHJpYnV0ZShRQ29udGFpbmVyQXR0cik7XG4gIGlmIChpc1Jlc3VtZWQgPT09ICdwYXVzZWQnKSB7XG4gICAgcmVzdW1lQ29udGFpbmVyKGNvbnRhaW5lckVsKTtcbiAgICBpZiAocURldikge1xuICAgICAgYXBwZW5kUXdpa0RldlRvb2xzKGNvbnRhaW5lckVsKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZFF3aWtEZXZUb29scyhjb250YWluZXJFbDogRWxlbWVudCkge1xuICAoY29udGFpbmVyRWwgYXMgYW55KVsncXdpayddID0ge1xuICAgIHBhdXNlOiAoKSA9PiBwYXVzZUNvbnRhaW5lcihjb250YWluZXJFbCksXG4gICAgc3RhdGU6IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKSxcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRQ29udGV4dEV2ZW50cyB7XG4gIFtldmVudE5hbWU6IHN0cmluZ106IFFSTCB8IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRDdHgge1xuICBob3N0RWxlbWVudDogRWxlbWVudDtcbiAgc3R5bGVJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBzdHlsZUNsYXNzOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHN0eWxlSG9zdENsYXNzOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHNsb3RzOiBKU1hOb2RlW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUUNvbnRleHQge1xuICBjYWNoZTogTWFwPHN0cmluZywgYW55PjtcbiAgcmVmTWFwOiBRT2JqZWN0TWFwO1xuICBlbGVtZW50OiBFbGVtZW50O1xuICBkaXJ0eTogYm9vbGVhbjtcbiAgcHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4gfCB1bmRlZmluZWQ7XG4gIHJlbmRlclFybDogUVJMPE9uUmVuZGVyRm48YW55Pj4gfCB1bmRlZmluZWQ7XG4gIGNvbXBvbmVudDogQ29tcG9uZW50Q3R4IHwgdW5kZWZpbmVkO1xuICBsaXN0ZW5lcnM/OiBNYXA8c3RyaW5nLCBRUkw8YW55PltdPjtcbiAgc2VxOiBhbnlbXTtcbiAgd2F0Y2hlczogV2F0Y2hEZXNjcmlwdG9yW107XG4gIGNvbnRleHRzPzogTWFwPHN0cmluZywgYW55Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyeUdldENvbnRleHQoZWxlbWVudDogRWxlbWVudCk6IFFDb250ZXh0IHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIChlbGVtZW50IGFzIGFueSlbUV9DVFhdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbnRleHQoZWxlbWVudDogRWxlbWVudCk6IFFDb250ZXh0IHtcbiAgbGV0IGN0eCA9IHRyeUdldENvbnRleHQoZWxlbWVudCkhO1xuICBpZiAoIWN0eCkge1xuICAgIGNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xuICAgIChlbGVtZW50IGFzIGFueSlbUV9DVFhdID0gY3R4ID0ge1xuICAgICAgZWxlbWVudCxcbiAgICAgIGNhY2hlLFxuICAgICAgcmVmTWFwOiBuZXdRT2JqZWN0TWFwKCksXG4gICAgICBkaXJ0eTogZmFsc2UsXG4gICAgICBzZXE6IFtdLFxuICAgICAgd2F0Y2hlczogW10sXG4gICAgICBwcm9wczogdW5kZWZpbmVkLFxuICAgICAgcmVuZGVyUXJsOiB1bmRlZmluZWQsXG4gICAgICBjb21wb25lbnQ6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG4gIHJldHVybiBjdHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbnVwQ29udGV4dChjdHg6IFFDb250ZXh0LCBzdWJzTWFuYWdlcjogU3Vic2NyaXB0aW9uTWFuYWdlcikge1xuICBjb25zdCBlbCA9IGN0eC5lbGVtZW50O1xuICBjdHgud2F0Y2hlcy5mb3JFYWNoKCh3YXRjaCkgPT4ge1xuICAgIHN1YnNNYW5hZ2VyLmNsZWFyU3ViKHdhdGNoKTtcbiAgICBkZXN0cm95V2F0Y2god2F0Y2gpO1xuICB9KTtcbiAgaWYgKGN0eC5yZW5kZXJRcmwpIHtcbiAgICBzdWJzTWFuYWdlci5jbGVhclN1YihlbCk7XG4gIH1cbiAgY3R4LmNvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgY3R4LnJlbmRlclFybCA9IHVuZGVmaW5lZDtcbiAgY3R4LnNlcS5sZW5ndGggPSAwO1xuICBjdHgud2F0Y2hlcy5sZW5ndGggPSAwO1xuICBjdHguY2FjaGUuY2xlYXIoKTtcbiAgY3R4LmRpcnR5ID0gZmFsc2U7XG4gIGN0eC5yZWZNYXAuYXJyYXkubGVuZ3RoID0gMDtcbiAgKGVsIGFzIGFueSlbUV9DVFhdID0gdW5kZWZpbmVkO1xufVxuXG5jb25zdCBQUkVGSVhFUyA9IFsnZG9jdW1lbnQ6b24nLCAnd2luZG93Om9uJywgJ29uJ107XG5jb25zdCBTQ09QRUQgPSBbJ29uLWRvY3VtZW50JywgJ29uLXdpbmRvdycsICdvbiddO1xuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplT25Qcm9wKHByb3A6IHN0cmluZykge1xuICBsZXQgc2NvcGUgPSAnb24nO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IFBSRUZJWEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJlZml4ID0gUFJFRklYRVNbaV07XG4gICAgaWYgKHByb3Auc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICBzY29wZSA9IFNDT1BFRFtpXTtcbiAgICAgIHByb3AgPSBwcm9wLnNsaWNlKHByZWZpeC5sZW5ndGgpO1xuICAgIH1cbiAgfVxuICBpZiAocHJvcC5zdGFydHNXaXRoKCctJykpIHtcbiAgICBwcm9wID0gcHJvcC5zbGljZSgxKTtcbiAgfSBlbHNlIHtcbiAgICBwcm9wID0gcHJvcC50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIHJldHVybiBgJHtzY29wZX06JHtwcm9wfWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRFdmVudChyY3R4OiBSZW5kZXJDb250ZXh0LCBjdHg6IFFDb250ZXh0LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgcVByb3BXcml0ZVFSTChyY3R4LCBjdHgsIG5vcm1hbGl6ZU9uUHJvcChwcm9wKSwgdmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvcHModGFyZ2V0OiBhbnksIGVsOiBFbGVtZW50LCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpIHtcbiAgY29uc3QgbWFuYWdlciA9IGNvbnRhaW5lclN0YXRlLnN1YnNNYW5hZ2VyLmdldExvY2FsKHRhcmdldCk7XG4gIHJldHVybiBuZXcgUHJveHkodGFyZ2V0LCBuZXcgUHJvcHNQcm94eUhhbmRsZXIoZWwsIGNvbnRhaW5lclN0YXRlLCBtYW5hZ2VyKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wc011dGF0b3IoY3R4OiBRQ29udGV4dCwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSB7XG4gIGxldCBwcm9wcyA9IGN0eC5wcm9wcztcbiAgaWYgKCFjdHgucHJvcHMpIHtcbiAgICBjdHgucHJvcHMgPSBwcm9wcyA9IGNyZWF0ZVByb3BzKHt9LCBjdHguZWxlbWVudCwgY29udGFpbmVyU3RhdGUpO1xuICB9XG4gIGNvbnN0IHRhcmdldCA9IGdldFByb3h5VGFyZ2V0KHByb3BzKTtcbiAgY29uc3QgbWFuYWdlciA9IGNvbnRhaW5lclN0YXRlLnN1YnNNYW5hZ2VyLmdldExvY2FsKHRhcmdldCk7XG5cbiAgcmV0dXJuIHtcbiAgICBzZXQocHJvcDogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICBjb25zdCBkaWRTZXQgPSBwcm9wIGluIHRhcmdldDtcbiAgICAgIGxldCBvbGRWYWx1ZSA9IHRhcmdldFtwcm9wXTtcbiAgICAgIGxldCBtdXQgPSBmYWxzZTtcbiAgICAgIGlmIChpc011dGFibGUob2xkVmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlID0gb2xkVmFsdWUudjtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdW53cmFwU3Vic2NyaWJlcih2YWx1ZSk7XG4gICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgIGlmIChpc011dGFibGUodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudjtcbiAgICAgICAgbXV0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvbGRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgaWYgKHFEZXYpIHtcbiAgICAgICAgICBpZiAoZGlkU2V0ICYmICFtdXQgJiYgIWlzUXJsKHZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBjdHgucmVuZGVyUXJsPy5nZXRTeW1ib2woKSA/PyBjdHguZWxlbWVudC5sb2NhbE5hbWU7XG4gICAgICAgICAgICBsb2dFcnJvcihcbiAgICAgICAgICAgICAgYFByb3BzIGFyZSBpbW11dGFibGUgYnkgZGVmYXVsdC4gSWYgeW91IG5lZWQgdG8gY2hhbmdlIGEgdmFsdWUgb2YgYSBwYXNzZWQgaW4gcHJvcCwgcGxlYXNlIHdyYXAgdGhlIHByb3Agd2l0aCBcIm11dGFibGUoKVwiIDwke2Rpc3BsYXlOYW1lfSAke3Byb3B9PXttdXRhYmxlKC4uLil9PmAsXG4gICAgICAgICAgICAgICdcXG4gLSBDb21wb25lbnQ6JyxcbiAgICAgICAgICAgICAgZGlzcGxheU5hbWUsXG4gICAgICAgICAgICAgICdcXG4gLSBQcm9wOicsXG4gICAgICAgICAgICAgIHByb3AsXG4gICAgICAgICAgICAgICdcXG4gLSBPbGQgdmFsdWU6JyxcbiAgICAgICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgICAgICdcXG4gLSBOZXcgdmFsdWU6JyxcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1hbmFnZXIubm90aWZ5U3Vicyhwcm9wKTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xufVxuXG5jbGFzcyBQcm9wc1Byb3h5SGFuZGxlciBpbXBsZW1lbnRzIFByb3h5SGFuZGxlcjxUYXJnZXRUeXBlPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgaG9zdEVsZW1lbnQ6IEVsZW1lbnQsXG4gICAgcHJpdmF0ZSBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gICAgcHJpdmF0ZSBtYW5hZ2VyOiBMb2NhbFN1YnNjcmlwdGlvbk1hbmFnZXJcbiAgKSB7fVxuXG4gIGdldCh0YXJnZXQ6IFRhcmdldFR5cGUsIHByb3A6IHN0cmluZyB8IHN5bWJvbCk6IGFueSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICB9XG4gICAgaWYgKHByb3AgPT09IFFPamVjdFRhcmdldFN5bWJvbCkgcmV0dXJuIHRhcmdldDtcbiAgICBpZiAocHJvcCA9PT0gUU9qZWN0U3Vic1N5bWJvbCkgcmV0dXJuIHRoaXMubWFuYWdlci5zdWJzO1xuICAgIGlmIChwcm9wID09PSBRT2plY3RPcmlnaW5hbFByb3h5KSByZXR1cm4gcmVhZFdyaXRlUHJveHkodGFyZ2V0LCB0aGlzLmNvbnRhaW5lclN0YXRlKTtcbiAgICBpZiAocHJvcCA9PT0gUU9qZWN0QWxsU3ltYm9sKSB7XG4gICAgICB0aGlzLm1hbmFnZXIuYWRkU3ViKHRoaXMuaG9zdEVsZW1lbnQpO1xuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgY29uc3QgdmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoaXNNdXRhYmxlKHZhbHVlKSkge1xuICAgICAgdGhpcy5tYW5hZ2VyLmFkZFN1Yih0aGlzLmhvc3RFbGVtZW50LCBwcm9wKTtcbiAgICAgIHJldHVybiB2YWx1ZS52O1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICBzZXQoKTogYm9vbGVhbiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9wcyBhcmUgaW5tdXRhYmxlJyk7XG4gIH1cblxuICBoYXModGFyZ2V0OiBUYXJnZXRUeXBlLCBwcm9wZXJ0eTogc3RyaW5nIHwgc3ltYm9sKSB7XG4gICAgaWYgKHByb3BlcnR5ID09PSBRT2plY3RUYXJnZXRTeW1ib2wpIHJldHVybiB0cnVlO1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gUU9qZWN0U3Vic1N5bWJvbCkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgcHJvcGVydHkpO1xuICB9XG5cbiAgb3duS2V5cyh0YXJnZXQ6IFRhcmdldFR5cGUpOiBBcnJheUxpa2U8c3RyaW5nIHwgc3ltYm9sPiB7XG4gICAgY29uc3Qgc3Vic2NyaWJlciA9IHRoaXMuaG9zdEVsZW1lbnQ7XG4gICAgdGhpcy5tYW5hZ2VyLmFkZFN1YihzdWJzY3JpYmVyKTtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfVxufVxuIl19","/**\n * Place at the root of the component View to allow binding of attributes on the Host element.\n *\n * ```\n * <Host someAttr={someExpr} someAttrStatic=\"value\">\n *   View content implementation.\n * </Host>\n * ```\n *\n * Qwik requires that components have [docs/HOST_ELEMENTS.ts] so that it is possible to have\n * asynchronous loading point. Host element is not owned by the component. At times it is\n * desirable for the component to render additional attributes on the host element. `<Host>`\n * servers that purpose.\n * @public\n */\nexport const Host = { __brand__: 'host' };\n/**\n * @public\n */\nexport const SkipRerender = { __brand__: 'skip' };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9zdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9ob3N0LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQTs7Ozs7Ozs7Ozs7Ozs7R0FjRztBQUNILE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBbUQsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFTLENBQUM7QUFFakc7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQTBCLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBUyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBIVE1MQXR0cmlidXRlcyB9IGZyb20gJy4vdHlwZXMvanN4LWdlbmVyYXRlZCc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5cbi8qKlxuICogUGxhY2UgYXQgdGhlIHJvb3Qgb2YgdGhlIGNvbXBvbmVudCBWaWV3IHRvIGFsbG93IGJpbmRpbmcgb2YgYXR0cmlidXRlcyBvbiB0aGUgSG9zdCBlbGVtZW50LlxuICpcbiAqIGBgYFxuICogPEhvc3Qgc29tZUF0dHI9e3NvbWVFeHByfSBzb21lQXR0clN0YXRpYz1cInZhbHVlXCI+XG4gKiAgIFZpZXcgY29udGVudCBpbXBsZW1lbnRhdGlvbi5cbiAqIDwvSG9zdD5cbiAqIGBgYFxuICpcbiAqIFF3aWsgcmVxdWlyZXMgdGhhdCBjb21wb25lbnRzIGhhdmUgW2RvY3MvSE9TVF9FTEVNRU5UUy50c10gc28gdGhhdCBpdCBpcyBwb3NzaWJsZSB0byBoYXZlXG4gKiBhc3luY2hyb25vdXMgbG9hZGluZyBwb2ludC4gSG9zdCBlbGVtZW50IGlzIG5vdCBvd25lZCBieSB0aGUgY29tcG9uZW50LiBBdCB0aW1lcyBpdCBpc1xuICogZGVzaXJhYmxlIGZvciB0aGUgY29tcG9uZW50IHRvIHJlbmRlciBhZGRpdGlvbmFsIGF0dHJpYnV0ZXMgb24gdGhlIGhvc3QgZWxlbWVudC4gYDxIb3N0PmBcbiAqIHNlcnZlcnMgdGhhdCBwdXJwb3NlLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgSG9zdDogRnVuY3Rpb25Db21wb25lbnQ8SFRNTEF0dHJpYnV0ZXM8SFRNTEVsZW1lbnQ+PiA9IHsgX19icmFuZF9fOiAnaG9zdCcgfSBhcyBhbnk7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgU2tpcFJlcmVuZGVyOiBGdW5jdGlvbkNvbXBvbmVudDx7fT4gPSB7IF9fYnJhbmRfXzogJ3NraXAnIH0gYXMgYW55O1xuIl19","import { Host } from '../render/jsx/host.public';\nimport { getContext } from '../props/props';\nimport { smartUpdateChildren, updateProperties } from './cursor';\nexport function visitJsxNode(ctx, elm, jsxNode, isSvg) {\n    if (jsxNode === undefined) {\n        return smartUpdateChildren(ctx, elm, [], 'root', isSvg);\n    }\n    if (Array.isArray(jsxNode)) {\n        return smartUpdateChildren(ctx, elm, jsxNode.flat(), 'root', isSvg);\n    }\n    else if (jsxNode.type === Host) {\n        updateProperties(ctx, getContext(elm), jsxNode.props, isSvg);\n        return smartUpdateChildren(ctx, elm, jsxNode.children || [], 'root', isSvg);\n    }\n    else {\n        return smartUpdateChildren(ctx, elm, [jsxNode], 'root', isSvg);\n    }\n}\nexport function whileResolvingRender(...args) {\n    throw new Error('Function not implemented.' + args);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9yZW5kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUU1QyxPQUFPLEVBQWlCLG1CQUFtQixFQUFFLGdCQUFnQixFQUFFLE1BQU0sVUFBVSxDQUFDO0FBSWhGLE1BQU0sVUFBVSxZQUFZLENBQzFCLEdBQWtCLEVBQ2xCLEdBQVksRUFDWixPQUF3QyxFQUN4QyxLQUFjO0lBRWQsSUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO1FBQ3pCLE9BQU8sbUJBQW1CLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3pEO0lBQ0QsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQzFCLE9BQU8sbUJBQW1CLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ3JFO1NBQU0sSUFBSSxPQUFPLENBQUMsSUFBSSxLQUFLLElBQUksRUFBRTtRQUNoQyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDN0QsT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxRQUFRLElBQUksRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUM3RTtTQUFNO1FBQ0wsT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2hFO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxvQkFBb0IsQ0FDbEMsR0FBRyxJQUF1RDtJQUUxRCxNQUFNLElBQUksS0FBSyxDQUFDLDJCQUEyQixHQUFHLElBQUksQ0FBQyxDQUFDO0FBQ3RELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIb3N0IH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9ob3N0LnB1YmxpYyc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgUmVuZGVyQ29udGV4dCwgc21hcnRVcGRhdGVDaGlsZHJlbiwgdXBkYXRlUHJvcGVydGllcyB9IGZyb20gJy4vY3Vyc29yJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmV4cG9ydCB0eXBlIENvbXBvbmVudFJlbmRlclF1ZXVlID0gUHJvbWlzZTxIVE1MRWxlbWVudFtdPltdO1xuXG5leHBvcnQgZnVuY3Rpb24gdmlzaXRKc3hOb2RlKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIGVsbTogRWxlbWVudCxcbiAganN4Tm9kZTogSlNYTm9kZSB8IEpTWE5vZGVbXSB8IHVuZGVmaW5lZCxcbiAgaXNTdmc6IGJvb2xlYW5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKGpzeE5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBzbWFydFVwZGF0ZUNoaWxkcmVuKGN0eCwgZWxtLCBbXSwgJ3Jvb3QnLCBpc1N2Zyk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoanN4Tm9kZSkpIHtcbiAgICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihjdHgsIGVsbSwganN4Tm9kZS5mbGF0KCksICdyb290JywgaXNTdmcpO1xuICB9IGVsc2UgaWYgKGpzeE5vZGUudHlwZSA9PT0gSG9zdCkge1xuICAgIHVwZGF0ZVByb3BlcnRpZXMoY3R4LCBnZXRDb250ZXh0KGVsbSksIGpzeE5vZGUucHJvcHMsIGlzU3ZnKTtcbiAgICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihjdHgsIGVsbSwganN4Tm9kZS5jaGlsZHJlbiB8fCBbXSwgJ3Jvb3QnLCBpc1N2Zyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHNtYXJ0VXBkYXRlQ2hpbGRyZW4oY3R4LCBlbG0sIFtqc3hOb2RlXSwgJ3Jvb3QnLCBpc1N2Zyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdoaWxlUmVzb2x2aW5nUmVuZGVyPEFSR1MgZXh0ZW5kcyBhbnlbXSwgUkVUPihcbiAgLi4uYXJnczogWy4uLkFSR1MsICguLi5hcmdzOiBSZXNvbHZlZFZhbHVlczxBUkdTPikgPT4gUkVUXVxuKTogUkVUIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBub3QgaW1wbGVtZW50ZWQuJyArIGFyZ3MpO1xufVxuXG5leHBvcnQgdHlwZSBSZXNvbHZlZFZhbHVlczxBUkdTIGV4dGVuZHMgYW55W10+ID0ge1xuICBbSyBpbiBrZXlvZiBBUkdTXTogQVJHU1tLXSBleHRlbmRzIFZhbHVlT3JQcm9taXNlPGluZmVyIFU+ID8gVSA6IEFSR1NbS107XG59O1xuIl19","export function hashCode(text, hash = 0) {\n    if (text.length === 0)\n        return hash;\n    for (let i = 0; i < text.length; i++) {\n        const chr = text.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return Number(Math.abs(hash)).toString(36);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzaF9jb2RlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvaGFzaF9jb2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxRQUFRLENBQUMsSUFBWSxFQUFFLE9BQWUsQ0FBQztJQUNyRCxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQztRQUFFLE9BQU8sSUFBSSxDQUFDO0lBQ25DLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3BDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDL0IsSUFBSSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxHQUFHLENBQUM7UUFDaEMsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLDJCQUEyQjtLQUN2QztJQUNELE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDN0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBoYXNoQ29kZSh0ZXh0OiBzdHJpbmcsIGhhc2g6IG51bWJlciA9IDApIHtcbiAgaWYgKHRleHQubGVuZ3RoID09PSAwKSByZXR1cm4gaGFzaDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hyID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggPSAoaGFzaCA8PCA1KSAtIGhhc2ggKyBjaHI7XG4gICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgfVxuICByZXR1cm4gTnVtYmVyKE1hdGguYWJzKGhhc2gpKS50b1N0cmluZygzNik7XG59XG4iXX0=","import { ComponentStylesPrefixContent, ComponentStylesPrefixHost } from '../util/markers';\nimport { hashCode } from '../util/hash_code';\nexport function styleKey(qStyles) {\n    return qStyles && String(hashCode(qStyles.getCanonicalSymbol()));\n}\nexport function styleHost(styleId) {\n    return styleId && ComponentStylesPrefixHost + styleId;\n}\nexport function styleContent(styleId) {\n    return styleId && ComponentStylesPrefixContent + styleId;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvcXJsLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMxRixPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFPN0MsTUFBTSxVQUFVLFFBQVEsQ0FBQyxPQUFtQztJQUMxRCxPQUFPLE9BQU8sSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsRUFBRSxDQUFDLENBQUMsQ0FBQztBQUNuRSxDQUFDO0FBT0QsTUFBTSxVQUFVLFNBQVMsQ0FBQyxPQUEyQjtJQUNuRCxPQUFPLE9BQU8sSUFBSSx5QkFBeUIsR0FBRyxPQUFPLENBQUM7QUFDeEQsQ0FBQztBQU9ELE1BQU0sVUFBVSxZQUFZLENBQUMsT0FBMkI7SUFDdEQsT0FBTyxPQUFPLElBQUksNEJBQTRCLEdBQUcsT0FBTyxDQUFDO0FBQzNELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFFSTEludGVybmFsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQgeyBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50LCBDb21wb25lbnRTdHlsZXNQcmVmaXhIb3N0IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGhhc2hDb2RlIH0gZnJvbSAnLi4vdXRpbC9oYXNoX2NvZGUnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlS2V5KHFTdHlsZXM6IFFSTEludGVybmFsPHN0cmluZz4pOiBzdHJpbmc7XG5leHBvcnQgZnVuY3Rpb24gc3R5bGVLZXkocVN0eWxlczogUVJMSW50ZXJuYWw8c3RyaW5nPiB8IG51bGwpOiBzdHJpbmcgfCBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlS2V5KHFTdHlsZXM6IFFSTEludGVybmFsPHN0cmluZz4gfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIHJldHVybiBxU3R5bGVzICYmIFN0cmluZyhoYXNoQ29kZShxU3R5bGVzLmdldENhbm9uaWNhbFN5bWJvbCgpKSk7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVIb3N0KHN0eWxlSWQ6IHN0cmluZyk6IHN0cmluZztcbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUhvc3Qoc3R5bGVJZDogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlSG9zdChzdHlsZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICByZXR1cm4gc3R5bGVJZCAmJiBDb21wb25lbnRTdHlsZXNQcmVmaXhIb3N0ICsgc3R5bGVJZDtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUNvbnRlbnQoc3R5bGVJZDogc3RyaW5nKTogc3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlQ29udGVudChzdHlsZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5leHBvcnQgZnVuY3Rpb24gc3R5bGVDb250ZW50KHN0eWxlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gIHJldHVybiBzdHlsZUlkICYmIENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQgKyBzdHlsZUlkO1xufVxuIl19","import { qDev } from '../../util/qdev';\nimport { Host, SkipRerender } from './host.public';\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { logWarn } from '../../util/log';\n/**\n * @public\n */\nexport function jsx(type, props, key) {\n    return new JSXNodeImpl(type, props, key);\n}\nexport class JSXNodeImpl {\n    constructor(type, props, key = null) {\n        this.type = type;\n        this.props = props;\n        this.children = EMPTY_ARRAY;\n        this.text = undefined;\n        this.key = null;\n        if (key != null) {\n            this.key = String(key);\n        }\n        if (props) {\n            const children = processNode(props.children);\n            if (children !== undefined) {\n                if (Array.isArray(children)) {\n                    this.children = children;\n                }\n                else {\n                    this.children = [children];\n                }\n            }\n        }\n    }\n}\nexport function processNode(node) {\n    if (node == null || typeof node === 'boolean') {\n        return undefined;\n    }\n    if (isJSXNode(node)) {\n        if (node.type === Host || node.type === SkipRerender) {\n            return node;\n        }\n        else if (typeof node.type === 'function') {\n            return processNode(node.type({ ...node.props, children: node.children }, node.key));\n        }\n        else {\n            return node;\n        }\n    }\n    else if (Array.isArray(node)) {\n        return node.flatMap(processNode).filter((e) => e != null);\n    }\n    else if (typeof node === 'string' || typeof node === 'number' || typeof node === 'boolean') {\n        const newNode = new JSXNodeImpl('#text', null, null);\n        newNode.text = String(node);\n        return newNode;\n    }\n    else {\n        logWarn('Unvalid node, skipping');\n        return undefined;\n    }\n}\nexport const isJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof JSXNodeImpl) {\n            return true;\n        }\n        if (n && typeof n === 'object' && n.constructor.name === JSXNodeImpl.name) {\n            throw new Error(`Duplicate implementations of \"JSXNodeImpl\" found`);\n        }\n        return false;\n    }\n    else {\n        return n instanceof JSXNodeImpl;\n    }\n};\n/**\n * @public\n */\nexport const Fragment = (props) => props.children;\nexport { jsx as jsxs, jsx as jsxDEV };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LXJ1bnRpbWUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9qc3gtcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLElBQUksRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV6Qzs7R0FFRztBQUNILE1BQU0sVUFBVSxHQUFHLENBQ2pCLElBQU8sRUFDUCxLQUFZLEVBQ1osR0FBcUI7SUFFckIsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBUSxDQUFDO0FBQ2xELENBQUM7QUFFRCxNQUFNLE9BQU8sV0FBVztJQUt0QixZQUNTLElBQU8sRUFDUCxLQUFpQyxFQUN4QyxNQUE4QixJQUFJO1FBRjNCLFNBQUksR0FBSixJQUFJLENBQUc7UUFDUCxVQUFLLEdBQUwsS0FBSyxDQUE0QjtRQU4xQyxhQUFRLEdBQWMsV0FBVyxDQUFDO1FBQ2xDLFNBQUksR0FBd0IsU0FBUyxDQUFDO1FBQ3RDLFFBQUcsR0FBa0IsSUFBSSxDQUFDO1FBT3hCLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtZQUNmLElBQUksQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3hCO1FBQ0QsSUFBSSxLQUFLLEVBQUU7WUFDVCxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzdDLElBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtnQkFDMUIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxFQUFFO29CQUMzQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztpQkFDMUI7cUJBQU07b0JBQ0wsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2lCQUM1QjthQUNGO1NBQ0Y7SUFDSCxDQUFDO0NBQ0Y7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUFDLElBQVM7SUFDbkMsSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLE9BQU8sSUFBSSxLQUFLLFNBQVMsRUFBRTtRQUM3QyxPQUFPLFNBQVMsQ0FBQztLQUNsQjtJQUNELElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQ25CLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxZQUFZLEVBQUU7WUFDcEQsT0FBTyxJQUFJLENBQUM7U0FDYjthQUFNLElBQUksT0FBTyxJQUFJLENBQUMsSUFBSSxLQUFLLFVBQVUsRUFBRTtZQUMxQyxPQUFPLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxFQUFFLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDckY7YUFBTTtZQUNMLE9BQU8sSUFBSSxDQUFDO1NBQ2I7S0FDRjtTQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM5QixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFjLENBQUM7S0FDeEU7U0FBTSxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLElBQUksT0FBTyxJQUFJLEtBQUssU0FBUyxFQUFFO1FBQzVGLE1BQU0sT0FBTyxHQUFHLElBQUksV0FBVyxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDckQsT0FBTyxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUIsT0FBTyxPQUFPLENBQUM7S0FDaEI7U0FBTTtRQUNMLE9BQU8sQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQ2xDLE9BQU8sU0FBUyxDQUFDO0tBQ2xCO0FBQ0gsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFDLENBQU0sRUFBeUIsRUFBRTtJQUN6RCxJQUFJLElBQUksRUFBRTtRQUNSLElBQUksQ0FBQyxZQUFZLFdBQVcsRUFBRTtZQUM1QixPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLEtBQUssUUFBUSxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxLQUFLLFdBQVcsQ0FBQyxJQUFJLEVBQUU7WUFDekUsTUFBTSxJQUFJLEtBQUssQ0FBQyxrREFBa0QsQ0FBQyxDQUFDO1NBQ3JFO1FBQ0QsT0FBTyxLQUFLLENBQUM7S0FDZDtTQUFNO1FBQ0wsT0FBTyxDQUFDLFlBQVksV0FBVyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQyxDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQTBDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBZSxDQUFDO0FBSWhHLE9BQU8sRUFBRSxHQUFHLElBQUksSUFBSSxFQUFFLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQsIEpTWE5vZGUgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgUXdpa0pTWCB9IGZyb20gJy4vdHlwZXMvanN4LXF3aWsnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uLy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBIb3N0LCBTa2lwUmVyZW5kZXIgfSBmcm9tICcuL2hvc3QucHVibGljJztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvbG9nJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc3g8VCBleHRlbmRzIHN0cmluZyB8IEZ1bmN0aW9uQ29tcG9uZW50PFBST1BTPiwgUFJPUFM+KFxuICB0eXBlOiBULFxuICBwcm9wczogUFJPUFMsXG4gIGtleT86IHN0cmluZyB8IG51bWJlclxuKTogSlNYTm9kZTxUPiB7XG4gIHJldHVybiBuZXcgSlNYTm9kZUltcGwodHlwZSwgcHJvcHMsIGtleSkgYXMgYW55O1xufVxuXG5leHBvcnQgY2xhc3MgSlNYTm9kZUltcGw8VD4gaW1wbGVtZW50cyBKU1hOb2RlPFQ+IHtcbiAgY2hpbGRyZW46IEpTWE5vZGVbXSA9IEVNUFRZX0FSUkFZO1xuICB0ZXh0Pzogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBrZXk6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyB0eXBlOiBULFxuICAgIHB1YmxpYyBwcm9wczogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGwsXG4gICAga2V5OiBzdHJpbmcgfCBudW1iZXIgfCBudWxsID0gbnVsbFxuICApIHtcbiAgICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICAgIHRoaXMua2V5ID0gU3RyaW5nKGtleSk7XG4gICAgfVxuICAgIGlmIChwcm9wcykge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBwcm9jZXNzTm9kZShwcm9wcy5jaGlsZHJlbik7XG4gICAgICBpZiAoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByb2Nlc3NOb2RlKG5vZGU6IGFueSk6IEpTWE5vZGVbXSB8IEpTWE5vZGUgfCB1bmRlZmluZWQge1xuICBpZiAobm9kZSA9PSBudWxsIHx8IHR5cGVvZiBub2RlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChpc0pTWE5vZGUobm9kZSkpIHtcbiAgICBpZiAobm9kZS50eXBlID09PSBIb3N0IHx8IG5vZGUudHlwZSA9PT0gU2tpcFJlcmVuZGVyKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBub2RlLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBwcm9jZXNzTm9kZShub2RlLnR5cGUoeyAuLi5ub2RlLnByb3BzLCBjaGlsZHJlbjogbm9kZS5jaGlsZHJlbiB9LCBub2RlLmtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShub2RlKSkge1xuICAgIHJldHVybiBub2RlLmZsYXRNYXAocHJvY2Vzc05vZGUpLmZpbHRlcigoZSkgPT4gZSAhPSBudWxsKSBhcyBKU1hOb2RlW107XG4gIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJyB8fCB0eXBlb2Ygbm9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBKU1hOb2RlSW1wbCgnI3RleHQnLCBudWxsLCBudWxsKTtcbiAgICBuZXdOb2RlLnRleHQgPSBTdHJpbmcobm9kZSk7XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH0gZWxzZSB7XG4gICAgbG9nV2FybignVW52YWxpZCBub2RlLCBza2lwcGluZycpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzSlNYTm9kZSA9IChuOiBhbnkpOiBuIGlzIEpTWE5vZGU8dW5rbm93bj4gPT4ge1xuICBpZiAocURldikge1xuICAgIGlmIChuIGluc3RhbmNlb2YgSlNYTm9kZUltcGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAobiAmJiB0eXBlb2YgbiA9PT0gJ29iamVjdCcgJiYgbi5jb25zdHJ1Y3Rvci5uYW1lID09PSBKU1hOb2RlSW1wbC5uYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBpbXBsZW1lbnRhdGlvbnMgb2YgXCJKU1hOb2RlSW1wbFwiIGZvdW5kYCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbiBpbnN0YW5jZW9mIEpTWE5vZGVJbXBsO1xuICB9XG59O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEZyYWdtZW50OiBGdW5jdGlvbkNvbXBvbmVudDx7IGNoaWxkcmVuPzogYW55IH0+ID0gKHByb3BzKSA9PiBwcm9wcy5jaGlsZHJlbiBhcyBhbnk7XG5cbmV4cG9ydCB0eXBlIHsgUXdpa0pTWCBhcyBKU1ggfTtcblxuZXhwb3J0IHsganN4IGFzIGpzeHMsIGpzeCBhcyBqc3hERVYgfTtcbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { appendStyle } from '../render/cursor';\nimport { visitJsxNode } from '../render/render';\nimport { ComponentScopedStyles, QHostAttr, RenderEvent } from '../util/markers';\nimport { promiseAll, then } from '../util/promises';\nimport { styleContent, styleHost } from './qrl-styles';\nimport { isStyleTask, newInvokeContext } from '../use/use-core';\nimport { processNode } from '../render/jsx/jsx-runtime';\nimport { logDebug, logError } from '../util/log';\nexport const firstRenderComponent = (rctx, ctx) => {\n    ctx.element.setAttribute(QHostAttr, '');\n    return renderComponent(rctx, ctx);\n};\nexport const renderComponent = (rctx, ctx) => {\n    ctx.dirty = false;\n    const hostElement = ctx.element;\n    const onRenderQRL = ctx.renderQrl;\n    assertDefined(onRenderQRL);\n    const props = ctx.props;\n    assertDefined(props);\n    // Component is not dirty any more\n    rctx.containerState.hostsStaging.delete(hostElement);\n    const newCtx = {\n        ...rctx,\n        components: [...rctx.components],\n    };\n    // Invoke render hook\n    const invocatinContext = newInvokeContext(rctx.doc, hostElement, hostElement, RenderEvent);\n    invocatinContext.subscriber = hostElement;\n    invocatinContext.renderCtx = newCtx;\n    const waitOn = (invocatinContext.waitOn = []);\n    // Clean current subscription before render\n    rctx.containerState.subsManager.clearSub(hostElement);\n    // Resolve render function\n    const onRenderFn = onRenderQRL.invokeFn(rctx.containerEl, invocatinContext);\n    try {\n        // Execution of the render function\n        const renderPromise = onRenderFn(props);\n        // Wait for results\n        return then(renderPromise, (jsxNode) => {\n            rctx.hostElements.add(hostElement);\n            const waitOnPromise = promiseAll(waitOn);\n            return then(waitOnPromise, (waitOnResolved) => {\n                waitOnResolved.forEach((task) => {\n                    if (isStyleTask(task)) {\n                        appendStyle(rctx, hostElement, task);\n                    }\n                });\n                if (typeof jsxNode === 'function') {\n                    ctx.dirty = false;\n                    jsxNode = jsxNode();\n                }\n                else if (ctx.dirty) {\n                    logDebug('Dropping render. State changed during render.');\n                    return renderComponent(rctx, ctx);\n                }\n                let componentCtx = ctx.component;\n                if (!componentCtx) {\n                    componentCtx = ctx.component = {\n                        hostElement,\n                        slots: [],\n                        styleHostClass: undefined,\n                        styleClass: undefined,\n                        styleId: undefined,\n                    };\n                    const scopedStyleId = hostElement.getAttribute(ComponentScopedStyles) ?? undefined;\n                    if (scopedStyleId) {\n                        componentCtx.styleId = scopedStyleId;\n                        componentCtx.styleHostClass = styleHost(scopedStyleId);\n                        componentCtx.styleClass = styleContent(scopedStyleId);\n                        hostElement.classList.add(componentCtx.styleHostClass);\n                    }\n                }\n                componentCtx.slots = [];\n                newCtx.components.push(componentCtx);\n                return visitJsxNode(newCtx, hostElement, processNode(jsxNode), false);\n            });\n        }, (err) => {\n            logError(err);\n        });\n    }\n    catch (err) {\n        logError(err);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LWN0eC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvY29tcG9uZW50LWN0eC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLFdBQVcsRUFBaUIsTUFBTSxrQkFBa0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDaEQsT0FBTyxFQUFFLHFCQUFxQixFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRixPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3ZELE9BQU8sRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDeEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFJakQsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxJQUFtQixFQUFFLEdBQWEsRUFBd0IsRUFBRTtJQUMvRixHQUFHLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEMsT0FBTyxlQUFlLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3BDLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLElBQW1CLEVBQUUsR0FBYSxFQUF3QixFQUFFO0lBQzFGLEdBQUcsQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBRWxCLE1BQU0sV0FBVyxHQUFHLEdB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Q0FBQzt3QkFDdkQsWUFBWSxDQUFDLFVBQVUsR0FBRyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7d0JBQ3RELFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztxQkFDeEQ7aUJBQ0Y7Z0JBQ0QsWUFBWSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7Z0JBQ3hCLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO2dCQUNyQyxPQUFPLFlBQVksQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUN4RSxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsRUFDRCxDQUFDLEdBQUcsRUFBRSxFQUFFO1lBQ04sUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLENBQUMsQ0FDRixDQUFDO0tBQ0g7SUFBQyxPQUFPLEdBQUcsRUFBRTtRQUNaLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztLQUNmO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgYXBwZW5kU3R5bGUsIFJlbmRlckNvbnRleHQgfSBmcm9tICcuLi9yZW5kZXIvY3Vyc29yJztcbmltcG9ydCB7IHZpc2l0SnN4Tm9kZSB9IGZyb20gJy4uL3JlbmRlci9yZW5kZXInO1xuaW1wb3J0IHsgQ29tcG9uZW50U2NvcGVkU3R5bGVzLCBRSG9zdEF0dHIsIFJlbmRlckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IHByb21pc2VBbGwsIHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IHN0eWxlQ29udGVudCwgc3R5bGVIb3N0IH0gZnJvbSAnLi9xcmwtc3R5bGVzJztcbmltcG9ydCB7IGlzU3R5bGVUYXNrLCBuZXdJbnZva2VDb250ZXh0IH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IHByb2Nlc3NOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBsb2dEZWJ1ZywgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFFDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuXG5leHBvcnQgY29uc3QgZmlyc3RSZW5kZXJDb21wb25lbnQgPSAocmN0eDogUmVuZGVyQ29udGV4dCwgY3R4OiBRQ29udGV4dCk6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY3R4LmVsZW1lbnQuc2V0QXR0cmlidXRlKFFIb3N0QXR0ciwgJycpO1xuICByZXR1cm4gcmVuZGVyQ29tcG9uZW50KHJjdHgsIGN0eCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyQ29tcG9uZW50ID0gKHJjdHg6IFJlbmRlckNvbnRleHQsIGN0eDogUUNvbnRleHQpOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGN0eC5kaXJ0eSA9IGZhbHNlO1xuXG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gY3R4LmVsZW1lbnQ7XG4gIGNvbnN0IG9uUmVuZGVyUVJMID0gY3R4LnJlbmRlclFybCE7XG4gIGFzc2VydERlZmluZWQob25SZW5kZXJRUkwpO1xuXG4gIGNvbnN0IHByb3BzID0gY3R4LnByb3BzO1xuICBhc3NlcnREZWZpbmVkKHByb3BzKTtcblxuICAvLyBDb21wb25lbnQgaXMgbm90IGRpcnR5IGFueSBtb3JlXG4gIHJjdHguY29udGFpbmVyU3RhdGUuaG9zdHNTdGFnaW5nLmRlbGV0ZShob3N0RWxlbWVudCk7XG5cbiAgY29uc3QgbmV3Q3R4OiBSZW5kZXJDb250ZXh0ID0ge1xuICAgIC4uLnJjdHgsXG4gICAgY29tcG9uZW50czogWy4uLnJjdHguY29tcG9uZW50c10sXG4gIH07XG5cbiAgLy8gSW52b2tlIHJlbmRlciBob29rXG4gIGNvbnN0IGludm9jYXRpbkNvbnRleHQgPSBuZXdJbnZva2VDb250ZXh0KHJjdHguZG9jLCBob3N0RWxlbWVudCwgaG9zdEVsZW1lbnQsIFJlbmRlckV2ZW50KTtcbiAgaW52b2NhdGluQ29udGV4dC5zdWJzY3JpYmVyID0gaG9zdEVsZW1lbnQ7XG4gIGludm9jYXRpbkNvbnRleHQucmVuZGVyQ3R4ID0gbmV3Q3R4O1xuICBjb25zdCB3YWl0T24gPSAoaW52b2NhdGluQ29udGV4dC53YWl0T24gPSBbXSBhcyBhbnlbXSk7XG5cbiAgLy8gQ2xlYW4gY3VycmVudCBzdWJzY3JpcHRpb24gYmVmb3JlIHJlbmRlclxuICByY3R4LmNvbnRhaW5lclN0YXRlLnN1YnNNYW5hZ2VyLmNsZWFyU3ViKGhvc3RFbGVtZW50KTtcblxuICAvLyBSZXNvbHZlIHJlbmRlciBmdW5jdGlvblxuICBjb25zdCBvblJlbmRlckZuID0gb25SZW5kZXJRUkwuaW52b2tlRm4ocmN0eC5jb250YWluZXJFbCwgaW52b2NhdGluQ29udGV4dCk7XG5cbiAgdHJ5IHtcbiAgICAvLyBFeGVjdXRpb24gb2YgdGhlIHJlbmRlciBmdW5jdGlvblxuICAgIGNvbnN0IHJlbmRlclByb21pc2UgPSBvblJlbmRlckZuKHByb3BzKTtcblxuICAgIC8vIFdhaXQgZm9yIHJlc3VsdHNcbiAgICByZXR1cm4gdGhlbihcbiAgICAgIHJlbmRlclByb21pc2UsXG4gICAgICAoanN4Tm9kZSkgPT4ge1xuICAgICAgICByY3R4Lmhvc3RFbGVtZW50cy5hZGQoaG9zdEVsZW1lbnQpO1xuICAgICAgICBjb25zdCB3YWl0T25Qcm9taXNlID0gcHJvbWlzZUFsbCh3YWl0T24pO1xuICAgICAgICByZXR1cm4gdGhlbih3YWl0T25Qcm9taXNlLCAod2FpdE9uUmVzb2x2ZWQpID0+IHtcbiAgICAgICAgICB3YWl0T25SZXNvbHZlZC5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNTdHlsZVRhc2sodGFzaykpIHtcbiAgICAgICAgICAgICAgYXBwZW5kU3R5bGUocmN0eCwgaG9zdEVsZW1lbnQsIHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICh0eXBlb2YganN4Tm9kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY3R4LmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICBqc3hOb2RlID0ganN4Tm9kZSgpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY3R4LmRpcnR5KSB7XG4gICAgICAgICAgICBsb2dEZWJ1ZygnRHJvcHBpbmcgcmVuZGVyLiBTdGF0ZSBjaGFuZ2VkIGR1cmluZyByZW5kZXIuJyk7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyQ29tcG9uZW50KHJjdHgsIGN0eCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGV0IGNvbXBvbmVudEN0eCA9IGN0eC5jb21wb25lbnQ7XG4gICAgICAgICAgaWYgKCFjb21wb25lbnRDdHgpIHtcbiAgICAgICAgICAgIGNvbXBvbmVudEN0eCA9IGN0eC5jb21wb25lbnQgPSB7XG4gICAgICAgICAgICAgIGhvc3RFbGVtZW50LFxuICAgICAgICAgICAgICBzbG90czogW10sXG4gICAgICAgICAgICAgIHN0eWxlSG9zdENsYXNzOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIHN0eWxlQ2xhc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgc3R5bGVJZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHNjb3BlZFN0eWxlSWQgPSBob3N0RWxlbWVudC5nZXRBdHRyaWJ1dGUoQ29tcG9uZW50U2NvcGVkU3R5bGVzKSA/PyB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoc2NvcGVkU3R5bGVJZCkge1xuICAgICAgICAgICAgICBjb21wb25lbnRDdHguc3R5bGVJZCA9IHNjb3BlZFN0eWxlSWQ7XG4gICAgICAgICAgICAgIGNvbXBvbmVudEN0eC5zdHlsZUhvc3RDbGFzcyA9IHN0eWxlSG9zdChzY29wZWRTdHlsZUlkKTtcbiAgICAgICAgICAgICAgY29tcG9uZW50Q3R4LnN0eWxlQ2xhc3MgPSBzdHlsZUNvbnRlbnQoc2NvcGVkU3R5bGVJZCk7XG4gICAgICAgICAgICAgIGhvc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29tcG9uZW50Q3R4LnN0eWxlSG9zdENsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29tcG9uZW50Q3R4LnNsb3RzID0gW107XG4gICAgICAgICAgbmV3Q3R4LmNvbXBvbmVudHMucHVzaChjb21wb25lbnRDdHgpO1xuICAgICAgICAgIHJldHVybiB2aXNpdEpzeE5vZGUobmV3Q3R4LCBob3N0RWxlbWVudCwgcHJvY2Vzc05vZGUoanN4Tm9kZSksIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgKGVycikgPT4ge1xuICAgICAgICBsb2dFcnJvcihlcnIpO1xuICAgICAgfVxuICAgICk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGxvZ0Vycm9yKGVycik7XG4gIH1cbn07XG4iXX0=","import { OnRenderProp, QHostSelector, QSlotAttr } from '../util/markers';\nimport { cleanupContext, getContext, getPropsMutator, setEvent, tryGetContext, } from '../props/props';\nimport { isOn$Prop, isOnProp } from '../props/props-on';\nimport { Host } from '../render/jsx/host.public';\nimport { $ } from '../import/qrl.public';\nimport { firstRenderComponent, renderComponent } from '../component/component-ctx';\nimport { promiseAll, then } from '../util/promises';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { intToStr } from '../object/store';\nimport { EMPTY_ARRAY } from '../util/flyweight';\nimport { SkipRerender } from './jsx/host.public';\nimport { logDebug, logError, logWarn } from '../util/log';\nimport { qDev } from '../util/qdev';\nimport { qError, QError } from '../error/error';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { CONTAINER } from '../use/use-core';\nexport const SVG_NS = 'http://www.w3.org/2000/svg';\nexport function smartUpdateChildren(ctx, elm, ch, mode, isSvg) {\n    if (ch.length === 1 && ch[0].type === SkipRerender) {\n        if (elm.firstChild !== null) {\n            return;\n        }\n        ch = ch[0].children;\n    }\n    const oldCh = getChildren(elm, mode);\n    if (oldCh.length > 0 && ch.length > 0) {\n        return updateChildren(ctx, elm, oldCh, ch, isSvg);\n    }\n    else if (ch.length > 0) {\n        return addVnodes(ctx, elm, undefined, ch, 0, ch.length - 1, isSvg);\n    }\n    else if (oldCh.length > 0) {\n        return removeVnodes(ctx, oldCh, 0, oldCh.length - 1);\n    }\n}\nexport function updateChildren(ctx, parentElm, oldCh, newCh, isSvg) {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx;\n    let idxInOld;\n    let elmToMove;\n    const results = [];\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            results.push(patchVnode(ctx, oldStartVnode, newStartVnode, isSvg));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            results.push(patchVnode(ctx, oldEndVnode, newEndVnode, isSvg));\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            results.push(patchVnode(ctx, oldStartVnode, newEndVnode, isSvg));\n            insertBefore(ctx, parentElm, oldStartVnode, oldEndVnode.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            results.push(patchVnode(ctx, oldEndVnode, newStartVnode, isSvg));\n            insertBefore(ctx, parentElm, oldEndVnode, oldStartVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (oldKeyToIdx === undefined) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.key];\n            if (idxInOld === undefined) {\n                // New element\n                const newElm = createElm(ctx, newStartVnode, isSvg);\n                results.push(then(newElm, (newElm) => {\n                    insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                }));\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (!isTagName(elmToMove, newStartVnode.type)) {\n                    const newElm = createElm(ctx, newStartVnode, isSvg);\n                    results.push(then(newElm, (newElm) => {\n                        insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                    }));\n                }\n                else {\n                    results.push(patchVnode(ctx, elmToMove, newStartVnode, isSvg));\n                    oldCh[idxInOld] = undefined;\n                    insertBefore(ctx, parentElm, elmToMove, oldStartVnode);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (newStartIdx <= newEndIdx) {\n        const before = newCh[newEndIdx + 1] == null ? undefined : newCh[newEndIdx + 1].elm;\n        results.push(addVnodes(ctx, parentElm, before, newCh, newStartIdx, newEndIdx, isSvg));\n    }\n    let wait = promiseAll(results);\n    if (oldStartIdx <= oldEndIdx) {\n        wait = then(wait, () => {\n            removeVnodes(ctx, oldCh, oldStartIdx, oldEndIdx);\n        });\n    }\n    return wait;\n}\nfunction isComponentNode(node) {\n    return node.props && OnRenderProp in node.props;\n}\nfunction getCh(elm) {\n    return Array.from(elm.childNodes).filter(isNode);\n}\nexport function getChildren(elm, mode) {\n    switch (mode) {\n        case 'default':\n            return getCh(elm);\n        case 'slot':\n            return getCh(elm).filter(isChildSlot);\n        case 'root':\n            return getCh(elm).filter(isChildComponent);\n        case 'fallback':\n            return getCh(elm).filter(isFallback);\n    }\n}\nexport function isNode(elm) {\n    const type = elm.nodeType;\n    return type === 1 || type === 3;\n}\nfunction isFallback(node) {\n    return node.nodeName === 'Q:FALLBACK';\n}\nfunction isChildSlot(node) {\n    return node.nodeName !== 'Q:FALLBACK' && isChildComponent(node);\n}\nfunction isSlotTemplate(node) {\n    return node.nodeName === 'TEMPLATE' && node.hasAttribute(QSlotAttr);\n}\nfunction isChildComponent(node) {\n    return node.nodeName !== 'TEMPLATE' || !node.hasAttribute(QSlotAttr);\n}\nfunction splitBy(input, condition) {\n    const output = {};\n    for (const item of input) {\n        const key = condition(item);\n        const array = output[key] ?? (output[key] = []);\n        array.push(item);\n    }\n    return output;\n}\nexport function patchVnode(rctx, elm, vnode, isSvg) {\n    rctx.perf.visited++;\n    vnode.elm = elm;\n    const tag = vnode.type;\n    if (tag === '#text') {\n        if (elm.data !== vnode.text) {\n            setProperty(rctx, elm, 'data', vnode.text);\n        }\n        return;\n    }\n    if (tag === '#comment') {\n        if (elm.data !== vnode.text) {\n            setProperty(rctx, elm, 'data', vnode.text);\n        }\n        return;\n    }\n    if (tag === Host || tag === SkipRerender) {\n        return;\n    }\n    if (!isSvg) {\n        isSvg = tag === 'svg';\n    }\n    let promise;\n    const props = vnode.props;\n    const ctx = getContext(elm);\n    const dirty = updateProperties(rctx, ctx, props, isSvg);\n    const isSlot = tag === 'q:slot';\n    if (isSvg && vnode.type === 'foreignObject') {\n        isSvg = false;\n    }\n    else if (isSlot) {\n        const currentComponent = rctx.components.length > 0 ? rctx.components[rctx.components.length - 1] : undefined;\n        if (currentComponent) {\n            currentComponent.slots.push(vnode);\n        }\n    }\n    const isComponent = isComponentNode(vnode);\n    if (dirty) {\n        promise = renderComponent(rctx, ctx);\n    }\n    const ch = vnode.children;\n    if (isComponent) {\n        return then(promise, () => {\n            const slotMaps = getSlots(ctx.component, elm);\n            const splittedChidren = splitBy(ch, getSlotName);\n            const promises = [];\n            // Mark empty slots and remove content\n            Object.entries(slotMaps.slots).forEach(([key, slotEl]) => {\n                if (slotEl && !splittedChidren[key]) {\n                    const oldCh = getChildren(slotEl, 'slot');\n                    if (oldCh.length > 0) {\n                        removeVnodes(rctx, oldCh, 0, oldCh.length - 1);\n                    }\n                }\n            });\n            // Mark empty slots and remove content\n            Object.entries(slotMaps.templates).forEach(([key, templateEl]) => {\n                if (templateEl && !splittedChidren[key]) {\n                    removeNode(rctx, templateEl);\n                    slotMaps.templates[key] = undefined;\n                }\n            });\n            // Render into slots\n            Object.entries(splittedChidren).forEach(([key, ch]) => {\n                const slotElm = getSlotElement(rctx, slotMaps, elm, key);\n                promises.push(smartUpdateChildren(rctx, slotElm, ch, 'slot', isSvg));\n            });\n            return then(promiseAll(promises), () => {\n                removeTemplates(rctx, slotMaps);\n            });\n        });\n    }\n    const setsInnerHTML = checkInnerHTML(props);\n    if (setsInnerHTML) {\n        if (qDev && ch.length > 0) {\n            logWarn('Node can not have children when innerHTML is set');\n        }\n        return;\n    }\n    return then(promise, () => {\n        const mode = isSlot ? 'fallback' : 'default';\n        return smartUpdateChildren(rctx, elm, ch, mode, isSvg);\n    });\n}\nfunction addVnodes(ctx, parentElm, before, vnodes, startIdx, endIdx, isSvg) {\n    const promises = [];\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = vnodes[startIdx];\n        assertDefined(ch);\n        promises.push(createElm(ctx, ch, isSvg));\n    }\n    return then(promiseAll(promises), (children) => {\n        for (const child of children) {\n            insertBefore(ctx, parentElm, child, before);\n        }\n    });\n}\nfunction removeVnodes(ctx, nodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = nodes[startIdx];\n        if (ch) {\n            removeNode(ctx, ch);\n        }\n    }\n}\nlet refCount = 0;\nconst RefSymbol = Symbol();\nfunction setSlotRef(ctx, hostElm, slotEl) {\n    let ref = hostElm[RefSymbol] ?? hostElm.getAttribute('q:sref');\n    if (ref === null) {\n        ref = intToStr(refCount++);\n        hostElm[RefSymbol] = ref;\n        setAttribute(ctx, hostElm, 'q:sref', ref);\n    }\n    slotEl.setAttribute('q:sref', ref);\n}\nfunction getSlotElement(ctx, slotMaps, parentEl, slotName) {\n    const slotEl = slotMaps.slots[slotName];\n    if (slotEl) {\n        return slotEl;\n    }\n    const templateEl = slotMaps.templates[slotName];\n    if (templateEl) {\n        return templateEl.content;\n    }\n    const template = createTemplate(ctx, slotName);\n    prepend(ctx, parentEl, template);\n    slotMaps.templates[slotName] = template;\n    return template.content;\n}\nfunction createTemplate(ctx, slotName) {\n    const template = createElement(ctx, 'template', false);\n    template.setAttribute(QSlotAttr, slotName);\n    return template;\n}\nfunction removeTemplates(ctx, slotMaps) {\n    Object.keys(slotMaps.templates).forEach((key) => {\n        const template = slotMaps.templates[key];\n        if (template && slotMaps.slots[key] !== undefined) {\n            removeNode(ctx, template);\n            slotMaps.templates[key] = undefined;\n        }\n    });\n}\nexport function resolveSlotProjection(ctx, hostElm, before, after) {\n    Object.entries(before.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !after.slots[key]) {\n            // Slot removed\n            // Move slot to template\n            const template = createTemplate(ctx, key);\n            const slotChildren = getChildren(slotEl, 'slot');\n            template.content.append(...slotChildren);\n            hostElm.insertBefore(template, hostElm.firstChild);\n            ctx.operations.push({\n                el: template,\n                operation: 'slot-to-template',\n                args: slotChildren,\n                fn: () => { },\n            });\n        }\n    });\n    Object.entries(after.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !before.slots[key]) {\n            // Slot created\n            // Move template to slot\n            const template = before.templates[key];\n            if (template) {\n                slotEl.appendChild(template.content);\n                template.remove();\n                ctx.operations.push({\n                    el: slotEl,\n                    operation: 'template-to-slot',\n                    args: [template],\n                    fn: () => { },\n                });\n            }\n        }\n    });\n}\nfunction getSlotName(node) {\n    return node.props?.['q:slot'] ?? '';\n}\nfunction createElm(rctx, vnode, isSvg) {\n    rctx.perf.visited++;\n    const tag = vnode.type;\n    if (tag === '#text') {\n        return (vnode.elm = createTextNode(rctx, vnode.text));\n    }\n    if (!isSvg) {\n        isSvg = tag === 'svg';\n    }\n    const props = vnode.props;\n    const elm = (vnode.elm = createElement(rctx, tag, isSvg));\n    const isComponent = isComponentNode(vnode);\n    const ctx = getContext(elm);\n    setKey(elm, vnode.key);\n    updateProperties(rctx, ctx, props, isSvg);\n    if (isSvg && tag === 'foreignObject') {\n        isSvg = false;\n    }\n    const currentComponent = rctx.components.length > 0 ? rctx.components[rctx.components.length - 1] : undefined;\n    if (currentComponent) {\n        const styleTag = currentComponent.styleClass;\n        if (styleTag) {\n            classlistAdd(rctx, elm, styleTag);\n        }\n        if (tag === 'q:slot') {\n            setSlotRef(rctx, currentComponent.hostElement, elm);\n            currentComponent.slots.push(vnode);\n        }\n    }\n    let wait;\n    if (isComponent) {\n        // Run mount hook\n        const renderQRL = props[OnRenderProp];\n        ctx.renderQrl = renderQRL;\n        wait = firstRenderComponent(rctx, ctx);\n    }\n    else {\n        const setsInnerHTML = checkInnerHTML(props);\n        if (setsInnerHTML) {\n            if (qDev && vnode.children.length > 0) {\n                logWarn('Node can not have children when innerHTML is set');\n            }\n            return elm;\n        }\n    }\n    return then(wait, () => {\n        let children = vnode.children;\n        if (children.length > 0) {\n            if (children.length === 1 && children[0].type === SkipRerender) {\n                children = children[0].children;\n            }\n            const slotMap = isComponent ? getSlots(ctx.component, elm) : undefined;\n            const promises = children.map((ch) => createElm(rctx, ch, isSvg));\n            return then(promiseAll(promises), () => {\n                let parent = elm;\n                for (const node of children) {\n                    if (slotMap) {\n                        parent = getSlotElement(rctx, slotMap, elm, getSlotName(node));\n                    }\n                    parent.appendChild(node.elm);\n                }\n                return elm;\n            });\n        }\n        return elm;\n    });\n}\nconst getSlots = (componentCtx, hostElm) => {\n    const slots = {};\n    const templates = {};\n    const slotRef = hostElm.getAttribute('q:sref');\n    const existingSlots = Array.from(hostElm.querySelectorAll(`q\\\\:slot[q\\\\:sref=\"${slotRef}\"]`));\n    const newSlots = componentCtx?.slots ?? EMPTY_ARRAY;\n    const t = Array.from(hostElm.children).filter(isSlotTemplate);\n    // Map slots\n    for (const elm of existingSlots) {\n        slots[elm.getAttribute('name') ?? ''] = elm;\n    }\n    // Map virtual slots\n    for (const vnode of newSlots) {\n        slots[vnode.props?.name ?? ''] = vnode.elm;\n    }\n    // Map templates\n    for (const elm of t) {\n        templates[elm.getAttribute('q:slot') ?? ''] = elm;\n    }\n    return { slots, templates };\n};\nconst handleStyle = (ctx, elm, _, newValue) => {\n    setAttribute(ctx, elm, 'style', stringifyClassOrStyle(newValue, false));\n    return true;\n};\nconst handleClass = (ctx, elm, _, newValue) => {\n    setAttribute(ctx, elm, 'class', stringifyClassOrStyle(newValue, true));\n    return true;\n};\nconst checkBeforeAssign = (ctx, elm, prop, newValue) => {\n    if (prop in elm) {\n        if (elm[prop] !== newValue) {\n            setProperty(ctx, elm, prop, newValue);\n        }\n    }\n    return true;\n};\nconst dangerouslySetInnerHTML = 'dangerouslySetInnerHTML';\nconst setInnerHTML = (ctx, elm, _, newValue) => {\n    if (dangerouslySetInnerHTML in elm) {\n        setProperty(ctx, elm, dangerouslySetInnerHTML, newValue);\n    }\n    else if ('innerHTML' in elm) {\n        setProperty(ctx, elm, 'innerHTML', newValue);\n    }\n    return true;\n};\nconst PROP_HANDLER_MAP = {\n    style: handleStyle,\n    class: handleClass,\n    className: handleClass,\n    value: checkBeforeAssign,\n    checked: checkBeforeAssign,\n    [dangerouslySetInnerHTML]: setInnerHTML,\n};\nconst ALLOWS_PROPS = ['class', 'className', 'style', 'id', 'q:slot'];\nconst HOST_PREFIX = 'host:';\nconst SCOPE_PREFIX = /^(host|window|document):/;\nexport function updateProperties(rctx, ctx, expectProps, isSvg) {\n    if (!expectProps) {\n        return false;\n    }\n    const elm = ctx.element;\n    const isCmp = OnRenderProp in expectProps;\n    const qwikProps = isCmp ? getPropsMutator(ctx, rctx.containerState) : undefined;\n    for (let key of Object.keys(expectProps)) {\n        if (key === 'children' || key === OnRenderProp) {\n            continue;\n        }\n        const newValue = expectProps[key];\n        if (key === 'ref') {\n            newValue.current = elm;\n            continue;\n        }\n        // Early exit if value didnt change\n        const oldValue = ctx.cache.get(key);\n        if (newValue === oldValue) {\n            continue;\n        }\n        ctx.cache.set(key, newValue);\n        // Check of data- or aria-\n        if (key.startsWith('data-') || key.startsWith('aria-')) {\n            setAttribute(rctx, elm, key, newValue);\n            continue;\n        }\n        if (qwikProps) {\n            const skipProperty = ALLOWS_PROPS.includes(key);\n            const hasPrefix = SCOPE_PREFIX.test(key);\n            if (!skipProperty && !hasPrefix) {\n                // Qwik props\n                qwikProps.set(key, newValue);\n                continue;\n            }\n            const hPrefixed = key.startsWith(HOST_PREFIX);\n            if (hPrefixed) {\n                key = key.slice(HOST_PREFIX.length);\n            }\n        }\n        else if (qDev && key.startsWith(HOST_PREFIX)) {\n            logWarn(`${HOST_PREFIX} prefix can not be used in non components`);\n            continue;\n        }\n        if (isOnProp(key)) {\n            setEvent(rctx, ctx, key.slice(0, -3), newValue);\n            continue;\n        }\n        if (isOn$Prop(key)) {\n            setEvent(rctx, ctx, key.slice(0, -1), $(newValue));\n            continue;\n        }\n        // Check if its an exception\n        const exception = PROP_HANDLER_MAP[key];\n        if (exception) {\n            if (exception(rctx, elm, key, newValue, oldValue)) {\n                continue;\n            }\n        }\n        // Check if property in prototype\n        if (!isSvg && key in elm) {\n            setProperty(rctx, elm, key, newValue);\n            continue;\n        }\n        // Fallback to render attribute\n        setAttribute(rctx, elm, key, newValue);\n    }\n    return ctx.dirty;\n}\nexport const startEvent = (ctx, name) => {\n    const event = {\n        name,\n        timeStart: performance.now(),\n        timeEnd: 0,\n    };\n    ctx.perf.timing.push(event);\n    return () => {\n        event.timeEnd = performance.now();\n    };\n};\nexport function setAttribute(ctx, el, prop, value) {\n    const fn = () => {\n        if (value == null) {\n            el.removeAttribute(prop);\n        }\n        else {\n            el.setAttribute(prop, String(value));\n        }\n    };\n    ctx.operations.push({\n        el,\n        operation: 'set-attribute',\n        args: [prop, value],\n        fn,\n    });\n}\nexport function classlistAdd(ctx, el, hostStyleTag) {\n    const fn = () => {\n        el.classList.add(hostStyleTag);\n    };\n    ctx.operations.push({\n        el,\n        operation: 'classlist-add',\n        args: [hostStyleTag],\n        fn,\n    });\n}\nfunction setProperty(ctx, node, key, value) {\n    const fn = () => {\n        try {\n            node[key] = value;\n        }\n        catch (err) {\n            logError('Set property', { node, key, value }, err);\n        }\n    };\n    ctx.operations.push({\n        el: node,\n        operation: 'set-property',\n        args: [key, value],\n        fn,\n    });\n}\nfunction createElement(ctx, expectTag, isSvg) {\n    const el = isSvg ? ctx.doc.createElementNS(SVG_NS, expectTag) : ctx.doc.createElement(expectTag);\n    el[CONTAINER] = ctx.containerEl;\n    ctx.operations.push({\n        el,\n        operation: 'create-element',\n        args: [expectTag],\n        fn: () => { },\n    });\n    return el;\n}\nfunction insertBefore(ctx, parent, newChild, refChild) {\n    const fn = () => {\n        parent.insertBefore(newChild, refChild ? refChild : null);\n    };\n    ctx.operations.push({\n        el: parent,\n        operation: 'insert-before',\n        args: [newChild, refChild],\n        fn,\n    });\n    return newChild;\n}\nexport function appendStyle(ctx, hostElement, styleTask) {\n    const fn = () => {\n        const containerEl = ctx.containerEl;\n        const stylesParent = ctx.doc.documentElement === containerEl ? ctx.doc.head ?? containerEl : containerEl;\n        if (!stylesParent.querySelector(`style[q\\\\:style=\"${styleTask.styleId}\"]`)) {\n            const style = ctx.doc.createElement('style');\n            style.setAttribute('q:style', styleTask.styleId);\n            style.textContent = styleTask.content;\n            stylesParent.insertBefore(style, stylesParent.firstChild);\n        }\n    };\n    ctx.operations.push({\n        el: hostElement,\n        operation: 'append-style',\n        args: [styleTask],\n        fn,\n    });\n}\nfunction prepend(ctx, parent, newChild) {\n    const fn = () => {\n        parent.insertBefore(newChild, parent.firstChild);\n    };\n    ctx.operations.push({\n        el: parent,\n        operation: 'prepend',\n        args: [newChild],\n        fn,\n    });\n}\nfunction removeNode(ctx, el) {\n    const fn = () => {\n        const parent = el.parentNode;\n        if (parent) {\n            if (el.nodeType === 1) {\n                const subsManager = ctx.containerState.subsManager;\n                cleanupElement(el, subsManager);\n                el\n                    .querySelectorAll(QHostSelector)\n                    .forEach((el) => cleanupElement(el, subsManager));\n            }\n            parent.removeChild(el);\n        }\n        else if (qDev) {\n            logWarn('Trying to remove component already removed', el);\n        }\n    };\n    ctx.operations.push({\n        el: el,\n        operation: 'remove',\n        args: [],\n        fn,\n    });\n}\nfunction cleanupElement(el, subsManager) {\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        cleanupContext(ctx, subsManager);\n    }\n}\nfunction createTextNode(ctx, text) {\n    return ctx.doc.createTextNode(text);\n}\nexport function executeContextWithSlots(ctx) {\n    const before = ctx.roots.map((elm) => getSlots(undefined, elm));\n    executeContext(ctx);\n    const after = ctx.roots.map((elm) => getSlots(undefined, elm));\n    assertEqual(before.length, after.length);\n    for (let i = 0; i < before.length; i++) {\n        resolveSlotProjection(ctx, ctx.roots[i], before[i], after[i]);\n    }\n}\nexport function executeContext(ctx) {\n    for (const op of ctx.operations) {\n        op.fn();\n    }\n}\nexport function printRenderStats(ctx) {\n    const byOp = {};\n    for (const op of ctx.operations) {\n        byOp[op.operation] = (byOp[op.operation] ?? 0) + 1;\n    }\n    const affectedElements = Array.from(new Set(ctx.operations.map((a) => a.el)));\n    const stats = {\n        byOp,\n        roots: ctx.roots,\n        hostElements: Array.from(ctx.hostElements),\n        affectedElements,\n        visitedNodes: ctx.perf.visited,\n        operations: ctx.operations.map((v) => [v.operation, v.el, ...v.args]),\n    };\n    const noOps = ctx.operations.length === 0;\n    logDebug('Render stats.', noOps ? 'No operations' : '', stats);\n    return stats;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    const map = {};\n    for (let i = beginIdx; i <= endIdx; ++i) {\n        const child = children[i];\n        if (child.nodeType === 1) {\n            const key = getKey(child);\n            if (key != null) {\n                map[key] = i;\n            }\n        }\n    }\n    return map;\n}\nconst KEY_SYMBOL = Symbol('vnode key');\nfunction getKey(el) {\n    let key = el[KEY_SYMBOL];\n    if (key === undefined) {\n        key = el[KEY_SYMBOL] = el.getAttribute('q:key');\n    }\n    return key;\n}\nfunction setKey(el, key) {\n    if (typeof key === 'string') {\n        el.setAttribute('q:key', key);\n    }\n    el[KEY_SYMBOL] = key;\n}\nfunction sameVnode(elm, vnode2) {\n    const isElement = elm.nodeType === 1;\n    if (isElement) {\n        const isSameSel = elm.localName === vnode2.type;\n        if (!isSameSel) {\n            return false;\n        }\n        return getKey(elm) === vnode2.key;\n    }\n    return elm.nodeName === vnode2.type;\n}\nfunction isTagName(elm, tagName) {\n    if (elm.nodeType === 1) {\n        return elm.localName === tagName;\n    }\n    return elm.nodeName === tagName;\n}\nfunction checkInnerHTML(props) {\n    return props && ('innerHTML' in props || dangerouslySetInnerHTML in props);\n}\nexport function stringifyClassOrStyle(obj, isClass) {\n    if (obj == null)\n        return '';\n    if (typeof obj == 'object') {\n        let text = '';\n        let sep = '';\n        if (Array.isArray(obj)) {\n            if (!isClass) {\n                throw qError(QError.Render_unsupportedFormat_obj_attr, obj, 'style');\n            }\n            for (let i = 0; i < obj.length; i++) {\n                text += sep + obj[i];\n                sep = ' ';\n            }\n        }\n        else {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value) {\n                        text += isClass\n                            ? value\n                                ? sep + key\n                                : ''\n                            : sep + fromCamelToKebabCase(key) + ':' + value;\n                        sep = isClass ? ' ' : ';';\n                    }\n                }\n            }\n        }\n        return text;\n    }\n    return String(obj);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3Vyc29yLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9jdXJzb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDekUsT0FBTyxFQUNMLGNBQWMsRUFFZCxVQUFVLEVBQ1YsZUFBZSxFQUVmLFFBQVEsRUFDUixhQUFhLEdBQ2QsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBR3hELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsQ0FBQyxFQUFPLE1BQU0sc0JBQXNCLENBQUM7QUFDOUMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLGVBQWUsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ25GLE9BQU8sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFcEQsT0FBTyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDM0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztB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LEdBQUcsR0FBRyxHQUFHLENBQUM7YUFDWDtTQUNGO2FBQU07WUFDTCxLQUFLLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBRTtnQkFDckIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFO29CQUNsRCxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBRXZCLElBQUksS0FBSyxFQUFFO3dCQUNULElBQUksSUFBSSxPQUFPOzRCQUNiLENBQUMsQ0FBQyxLQUFLO2dDQUNMLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRztnQ0FDWCxDQUFDLENBQUMsRUFBRTs0QkFDTixDQUFDLENBQUMsR0FBRyxHQUFHLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUM7d0JBQ2xELEdBQUcsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO3FCQUMzQjtpQkFDRjthQUNGO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDckIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9uUmVuZGVyUHJvcCwgUUhvc3RTZWxlY3RvciwgUVNsb3RBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7XG4gIGNsZWFudXBDb250ZXh0LFxuICBDb21wb25lbnRDdHgsXG4gIGdldENvbnRleHQsXG4gIGdldFByb3BzTXV0YXRvcixcbiAgUUNvbnRleHQsXG4gIHNldEV2ZW50LFxuICB0cnlHZXRDb250ZXh0LFxufSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBpc09uJFByb3AsIGlzT25Qcm9wIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMtb24nO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBIb3N0IH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9ob3N0LnB1YmxpYyc7XG5pbXBvcnQgeyAkLCBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBmaXJzdFJlbmRlckNvbXBvbmVudCwgcmVuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50L2NvbXBvbmVudC1jdHgnO1xuaW1wb3J0IHsgcHJvbWlzZUFsbCwgdGhlbiB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXJTdGF0ZSB9IGZyb20gJy4vbm90aWZ5LXJlbmRlcic7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkLCBhc3NlcnRFcXVhbCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgaW50VG9TdHIgfSBmcm9tICcuLi9vYmplY3Qvc3RvcmUnO1xuaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi91dGlsL2ZseXdlaWdodCc7XG5pbXBvcnQgeyBTa2lwUmVyZW5kZXIgfSBmcm9tICcuL2pzeC9ob3N0LnB1YmxpYyc7XG5pbXBvcnQgeyBsb2dEZWJ1ZywgbG9nRXJyb3IsIGxvZ1dhcm4gfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgZnJvbUNhbWVsVG9LZWJhYkNhc2UgfSBmcm9tICcuLi91dGlsL2Nhc2UnO1xuaW1wb3J0IHR5cGUgeyBPblJlbmRlckZuIH0gZnJvbSAnLi4vY29tcG9uZW50L2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgQ09OVEFJTkVSLCBTdHlsZUFwcGVuZCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgdHlwZSB7IFJlZiB9IGZyb20gJy4uL3VzZS91c2Utc3RvcmUucHVibGljJztcbmltcG9ydCB0eXBlIHsgU3Vic2NyaXB0aW9uTWFuYWdlciB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5cbmV4cG9ydCBjb25zdCBTVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuXG50eXBlIEtleVRvSW5kZXhNYXAgPSB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuXG50eXBlIFByb3BIYW5kbGVyID0gKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIGVsOiBIVE1MRWxlbWVudCxcbiAga2V5OiBzdHJpbmcsXG4gIG5ld1ZhbHVlOiBhbnksXG4gIG9sZFZhbHVlOiBhbnlcbikgPT4gYm9vbGVhbjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJPcGVyYXRpb24ge1xuICBlbDogTm9kZTtcbiAgb3BlcmF0aW9uOiBzdHJpbmc7XG4gIGFyZ3M6IGFueVtdO1xuICBmbjogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IHR5cGUgQ2hpbGRyZW5Nb2RlID0gJ3Jvb3QnIHwgJ3Nsb3QnIHwgJ2ZhbGxiYWNrJyB8ICdkZWZhdWx0JztcblxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJQZXJmIHtcbiAgdGltaW5nOiBQZXJmRXZlbnRbXTtcbiAgdmlzaXRlZDogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckNvbnRleHQge1xuICBkb2M6IERvY3VtZW50O1xuICByb290czogRWxlbWVudFtdO1xuICBob3N0RWxlbWVudHM6IFNldDxFbGVtZW50PjtcbiAgb3BlcmF0aW9uczogUmVuZGVyT3BlcmF0aW9uW107XG4gIGNvbXBvbmVudHM6IENvbXBvbmVudEN0eFtdO1xuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGU7XG4gIGNvbnRhaW5lckVsOiBFbGVtZW50O1xuICBwZXJmOiBSZW5kZXJQZXJmO1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZFdmVudCB7XG4gIG5hbWU6IHN0cmluZztcbiAgdGltZVN0YXJ0OiBudW1iZXI7XG4gIHRpbWVFbmQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNtYXJ0VXBkYXRlQ2hpbGRyZW4oXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgZWxtOiBOb2RlLFxuICBjaDogSlNYTm9kZVtdLFxuICBtb2RlOiBDaGlsZHJlbk1vZGUsXG4gIGlzU3ZnOiBib29sZWFuXG4pIHtcbiAgaWYgKGNoLmxlbmd0aCA9PT0gMSAmJiBjaFswXS50eXBlID09PSBTa2lwUmVyZW5kZXIpIHtcbiAgICBpZiAoZWxtLmZpcnN0Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2ggPSBjaFswXS5jaGlsZHJlbjtcbiAgfVxuICBjb25zdCBvbGRDaCA9IGdldENoaWxkcmVuKGVsbSwgbW9kZSk7XG5cbiAgaWYgKG9sZENoLmxlbmd0aCA+IDAgJiYgY2gubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB1cGRhdGVDaGlsZHJlbihjdHgsIGVsbSwgb2xkQ2gsIGNoLCBpc1N2Zyk7XG4gIH0gZWxzZSBpZiAoY2gubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBhZGRWbm9kZXMoY3R4LCBlbG0sIHVuZGVmaW5lZCwgY2gsIDAsIGNoLmxlbmd0aCAtIDEsIGlzU3ZnKTtcbiAgfSBlbHNlIGlmIChvbGRDaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHJlbW92ZVZub2RlcyhjdHgsIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQ2hpbGRyZW4oXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgcGFyZW50RWxtOiBOb2RlLFxuICBvbGRDaDogTm9kZVtdLFxuICBuZXdDaDogSlNYTm9kZVtdLFxuICBpc1N2ZzogYm9vbGVhblxuKTogVmFsdWVPclByb21pc2U8dm9pZD4ge1xuICBsZXQgb2xkU3RhcnRJZHggPSAwO1xuICBsZXQgbmV3U3RhcnRJZHggPSAwO1xuICBsZXQgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgbGV0IG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFswXTtcbiAgbGV0IG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgbGV0IG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gIGxldCBuZXdTdGFydFZub2RlID0gbmV3Q2hbMF07XG4gIGxldCBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gIGxldCBvbGRLZXlUb0lkeDogS2V5VG9JbmRleE1hcCB8IHVuZGVmaW5lZDtcbiAgbGV0IGlkeEluT2xkOiBudW1iZXI7XG4gIGxldCBlbG1Ub01vdmU6IE5vZGU7XG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcblxuICB3aGlsZSAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4ICYmIG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xuICAgIGlmIChvbGRTdGFydFZub2RlID09IG51bGwpIHtcbiAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgbWlnaHQgaGF2ZSBiZWVuIG1vdmVkIGxlZnRcbiAgICB9IGVsc2UgaWYgKG9sZEVuZFZub2RlID09IG51bGwpIHtcbiAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgIH0gZWxzZSBpZiAobmV3U3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfSBlbHNlIGlmIChuZXdFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBvbGRTdGFydFZub2RlLCBuZXdTdGFydFZub2RlLCBpc1N2ZykpO1xuICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdO1xuICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgb2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlLCBpc1N2ZykpO1xuICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgIC8vIFZub2RlIG1vdmVkIHJpZ2h0XG4gICAgICByZXN1bHRzLnB1c2gocGF0Y2hWbm9kZShjdHgsIG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlLCBpc1N2ZykpO1xuXG4gICAgICBpbnNlcnRCZWZvcmUoY3R4LCBwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUsIG9sZEVuZFZub2RlLm5leHRTaWJsaW5nKTtcbiAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgLy8gVm5vZGUgbW92ZWQgbGVmdFxuICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaXNTdmcpKTtcblxuICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBvbGRFbmRWbm9kZSwgb2xkU3RhcnRWbm9kZSk7XG4gICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9sZEtleVRvSWR4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb2xkS2V5VG9JZHggPSBjcmVhdGVLZXlUb09sZElkeChvbGRDaCwgb2xkU3RhcnRJZHgsIG9sZEVuZElkeCk7XG4gICAgICB9XG4gICAgICBpZHhJbk9sZCA9IG9sZEtleVRvSWR4W25ld1N0YXJ0Vm5vZGUua2V5IGFzIHN0cmluZ107XG4gICAgICBpZiAoaWR4SW5PbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBOZXcgZWxlbWVudFxuICAgICAgICBjb25zdCBuZXdFbG0gPSBjcmVhdGVFbG0oY3R4LCBuZXdTdGFydFZub2RlLCBpc1N2Zyk7XG4gICAgICAgIHJlc3VsdHMucHVzaChcbiAgICAgICAgICB0aGVuKG5ld0VsbSwgKG5ld0VsbSkgPT4ge1xuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBuZXdFbG0sIG9sZFN0YXJ0Vm5vZGUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG4gICAgICAgIGlmICghaXNUYWdOYW1lKGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZS50eXBlKSkge1xuICAgICAgICAgIGNvbnN0IG5ld0VsbSA9IGNyZWF0ZUVsbShjdHgsIG5ld1N0YXJ0Vm5vZGUsIGlzU3ZnKTtcbiAgICAgICAgICByZXN1bHRzLnB1c2goXG4gICAgICAgICAgICB0aGVuKG5ld0VsbSwgKG5ld0VsbSkgPT4ge1xuICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUoY3R4LCBwYXJlbnRFbG0sIG5ld0VsbSwgb2xkU3RhcnRWbm9kZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBlbG1Ub01vdmUsIG5ld1N0YXJ0Vm5vZGUsIGlzU3ZnKSk7XG4gICAgICAgICAgb2xkQ2hbaWR4SW5PbGRdID0gdW5kZWZpbmVkIGFzIGFueTtcbiAgICAgICAgICBpbnNlcnRCZWZvcmUoY3R4LCBwYXJlbnRFbG0sIGVsbVRvTW92ZSwgb2xkU3RhcnRWbm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICB9XG4gIH1cblxuICBpZiAobmV3U3RhcnRJZHggPD0gbmV3RW5kSWR4KSB7XG4gICAgY29uc3QgYmVmb3JlID0gbmV3Q2hbbmV3RW5kSWR4ICsgMV0gPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG5ld0NoW25ld0VuZElkeCArIDFdLmVsbTtcbiAgICByZXN1bHRzLnB1c2goYWRkVm5vZGVzKGN0eCwgcGFyZW50RWxtLCBiZWZvcmUsIG5ld0NoLCBuZXdTdGFydElkeCwgbmV3RW5kSWR4LCBpc1N2ZykpO1xuICB9XG5cbiAgbGV0IHdhaXQgPSBwcm9taXNlQWxsKHJlc3VsdHMpIGFzIGFueTtcbiAgaWYgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCkge1xuICAgIHdhaXQgPSB0aGVuKHdhaXQsICgpID0+IHtcbiAgICAgIHJlbW92ZVZub2RlcyhjdHgsIG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gd2FpdDtcbn1cblxuZnVuY3Rpb24gaXNDb21wb25lbnROb2RlKG5vZGU6IEpTWE5vZGUpIHtcbiAgcmV0dXJuIG5vZGUucHJvcHMgJiYgT25SZW5kZXJQcm9wIGluIG5vZGUucHJvcHM7XG59XG5cbmZ1bmN0aW9uIGdldENoKGVsbTogTm9kZSkge1xuICByZXR1cm4gQXJyYXkuZnJvbShlbG0uY2hpbGROb2RlcykuZmlsdGVyKGlzTm9kZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGlsZHJlbihlbG06IE5vZGUsIG1vZGU6IENoaWxkcmVuTW9kZSk6IE5vZGVbXSB7XG4gIHN3aXRjaCAobW9kZSkge1xuICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgcmV0dXJuIGdldENoKGVsbSk7XG4gICAgY2FzZSAnc2xvdCc6XG4gICAgICByZXR1cm4gZ2V0Q2goZWxtKS5maWx0ZXIoaXNDaGlsZFNsb3QpO1xuICAgIGNhc2UgJ3Jvb3QnOlxuICAgICAgcmV0dXJuIGdldENoKGVsbSkuZmlsdGVyKGlzQ2hpbGRDb21wb25lbnQpO1xuICAgIGNhc2UgJ2ZhbGxiYWNrJzpcbiAgICAgIHJldHVybiBnZXRDaChlbG0pLmZpbHRlcihpc0ZhbGxiYWNrKTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZShlbG06IE5vZGUpOiBib29sZWFuIHtcbiAgY29uc3QgdHlwZSA9IGVsbS5ub2RlVHlwZTtcbiAgcmV0dXJuIHR5cGUgPT09IDEgfHwgdHlwZSA9PT0gMztcbn1cblxuZnVuY3Rpb24gaXNGYWxsYmFjayhub2RlOiBOb2RlKTogYm9vbGVhbiB7XG4gIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnUTpGQUxMQkFDSyc7XG59XG5cbmZ1bmN0aW9uIGlzQ2hpbGRTbG90KG5vZGU6IE5vZGUpIHtcbiAgcmV0dXJuIG5vZGUubm9kZU5hbWUgIT09ICdROkZBTExCQUNLJyAmJiBpc0NoaWxkQ29tcG9uZW50KG5vZGUpO1xufVxuXG5mdW5jdGlvbiBpc1Nsb3RUZW1wbGF0ZShub2RlOiBOb2RlKTogbm9kZSBpcyBIVE1MVGVtcGxhdGVFbGVtZW50IHtcbiAgcmV0dXJuIG5vZGUubm9kZU5hbWUgPT09ICdURU1QTEFURScgJiYgKG5vZGUgYXMgRWxlbWVudCkuaGFzQXR0cmlidXRlKFFTbG90QXR0cik7XG59XG5cbmZ1bmN0aW9uIGlzQ2hpbGRDb21wb25lbnQobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gbm9kZS5ub2RlTmFtZSAhPT0gJ1RFTVBMQVRFJyB8fCAhKG5vZGUgYXMgRWxlbWVudCkuaGFzQXR0cmlidXRlKFFTbG90QXR0cik7XG59XG5cbmZ1bmN0aW9uIHNwbGl0Qnk8VD4oaW5wdXQ6IFRbXSwgY29uZGl0aW9uOiAoaXRlbTogVCkgPT4gc3RyaW5nKTogUmVjb3JkPHN0cmluZywgVFtdPiB7XG4gIGNvbnN0IG91dHB1dDogUmVjb3JkPHN0cmluZywgVFtdPiA9IHt9O1xuICBmb3IgKGNvbnN0IGl0ZW0gb2YgaW5wdXQpIHtcbiAgICBjb25zdCBrZXkgPSBjb25kaXRpb24oaXRlbSk7XG4gICAgY29uc3QgYXJyYXkgPSBvdXRwdXRba2V5XSA/PyAob3V0cHV0W2tleV0gPSBbXSk7XG4gICAgYXJyYXkucHVzaChpdGVtKTtcbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGF0Y2hWbm9kZShcbiAgcmN0eDogUmVuZGVyQ29udGV4dCxcbiAgZWxtOiBOb2RlLFxuICB2bm9kZTogSlNYTm9kZTxhbnk+LFxuICBpc1N2ZzogYm9vbGVhblxuKTogVmFsdWVPclByb21pc2U8dm9pZD4ge1xuICByY3R4LnBlcmYudmlzaXRlZCsrO1xuICB2bm9kZS5lbG0gPSBlbG07XG4gIGNvbnN0IHRhZyA9IHZub2RlLnR5cGU7XG4gIGlmICh0YWcgPT09ICcjdGV4dCcpIHtcbiAgICBpZiAoKGVsbSBhcyBUZXh0KS5kYXRhICE9PSB2bm9kZS50ZXh0KSB7XG4gICAgICBzZXRQcm9wZXJ0eShyY3R4LCBlbG0sICdkYXRhJywgdm5vZGUudGV4dCk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGFnID09PSAnI2NvbW1lbnQnKSB7XG4gICAgaWYgKChlbG0gYXMgQ29tbWVudCkuZGF0YSAhPT0gdm5vZGUudGV4dCkge1xuICAgICAgc2V0UHJvcGVydHkocmN0eCwgZWxtLCAnZGF0YScsIHZub2RlLnRleHQpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGFnID09PSBIb3N0IHx8IHRhZyA9PT0gU2tpcFJlcmVuZGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFpc1N2Zykge1xuICAgIGlzU3ZnID0gdGFnID09PSAnc3ZnJztcbiAgfVxuXG4gIGxldCBwcm9taXNlOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPjtcbiAgY29uc3QgcHJvcHMgPSB2bm9kZS5wcm9wcztcbiAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChlbG0gYXMgRWxlbWVudCk7XG4gIGNvbnN0IGRpcnR5ID0gdXBkYXRlUHJvcGVydGllcyhyY3R4LCBjdHgsIHByb3BzLCBpc1N2Zyk7XG4gIGNvbnN0IGlzU2xvdCA9IHRhZyA9PT0gJ3E6c2xvdCc7XG4gIGlmIChpc1N2ZyAmJiB2bm9kZS50eXBlID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICBpc1N2ZyA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzU2xvdCkge1xuICAgIGNvbnN0IGN1cnJlbnRDb21wb25lbnQgPVxuICAgICAgcmN0eC5jb21wb25lbnRzLmxlbmd0aCA+IDAgPyByY3R4LmNvbXBvbmVudHNbcmN0eC5jb21wb25lbnRzLmxlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIGlmIChjdXJyZW50Q29tcG9uZW50KSB7XG4gICAgICBjdXJyZW50Q29tcG9uZW50LnNsb3RzLnB1c2godm5vZGUpO1xuICAgIH1cbiAgfVxuICBjb25zdCBpc0NvbXBvbmVudCA9IGlzQ29tcG9uZW50Tm9kZSh2bm9kZSk7XG4gIGlmIChkaXJ0eSkge1xuICAgIHByb21pc2UgPSByZW5kZXJDb21wb25lbnQocmN0eCwgY3R4KTtcbiAgfVxuICBjb25zdCBjaCA9IHZub2RlLmNoaWxkcmVuO1xuICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICByZXR1cm4gdGhlbihwcm9taXNlLCAoKSA9PiB7XG4gICAgICBjb25zdCBzbG90TWFwcyA9IGdldFNsb3RzKGN0eC5jb21wb25lbnQsIGVsbSBhcyBFbGVtZW50KTtcbiAgICAgIGNvbnN0IHNwbGl0dGVkQ2hpZHJlbiA9IHNwbGl0QnkoY2gsIGdldFNsb3ROYW1lKTtcbiAgICAgIGNvbnN0IHByb21pc2VzOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPltdID0gW107XG5cbiAgICAgIC8vIE1hcmsgZW1wdHkgc2xvdHMgYW5kIHJlbW92ZSBjb250ZW50XG4gICAgICBPYmplY3QuZW50cmllcyhzbG90TWFwcy5zbG90cykuZm9yRWFjaCgoW2tleSwgc2xvdEVsXSkgPT4ge1xuICAgICAgICBpZiAoc2xvdEVsICYmICFzcGxpdHRlZENoaWRyZW5ba2V5XSkge1xuICAgICAgICAgIGNvbnN0IG9sZENoID0gZ2V0Q2hpbGRyZW4oc2xvdEVsLCAnc2xvdCcpO1xuICAgICAgICAgIGlmIChvbGRDaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZW1vdmVWbm9kZXMocmN0eCwgb2xkQ2gsIDAsIG9sZENoLmxlbmd0aCAtIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1hcmsgZW1wdHkgc2xvdHMgYW5kIHJlbW92ZSBjb250ZW50XG4gICAgICBPYmplY3QuZW50cmllcyhzbG90TWFwcy50ZW1wbGF0ZXMpLmZvckVhY2goKFtrZXksIHRlbXBsYXRlRWxdKSA9PiB7XG4gICAgICAgIGlmICh0ZW1wbGF0ZUVsICYmICFzcGxpdHRlZENoaWRyZW5ba2V5XSkge1xuICAgICAgICAgIHJlbW92ZU5vZGUocmN0eCwgdGVtcGxhdGVFbCk7XG4gICAgICAgICAgc2xvdE1hcHMudGVtcGxhdGVzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBSZW5kZXIgaW50byBzbG90c1xuICAgICAgT2JqZWN0LmVudHJpZXMoc3BsaXR0ZWRDaGlkcmVuKS5mb3JFYWNoKChba2V5LCBjaF0pID0+IHtcbiAgICAgICAgY29uc3Qgc2xvdEVsbSA9IGdldFNsb3RFbGVtZW50KHJjdHgsIHNsb3RNYXBzLCBlbG0gYXMgRWxlbWVudCwga2V5KTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChzbWFydFVwZGF0ZUNoaWxkcmVuKHJjdHgsIHNsb3RFbG0sIGNoLCAnc2xvdCcsIGlzU3ZnKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGVuKHByb21pc2VBbGwocHJvbWlzZXMpLCAoKSA9PiB7XG4gICAgICAgIHJlbW92ZVRlbXBsYXRlcyhyY3R4LCBzbG90TWFwcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBzZXRzSW5uZXJIVE1MID0gY2hlY2tJbm5lckhUTUwocHJvcHMpO1xuICBpZiAoc2V0c0lubmVySFRNTCkge1xuICAgIGlmIChxRGV2ICYmIGNoLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvZ1dhcm4oJ05vZGUgY2FuIG5vdCBoYXZlIGNoaWxkcmVuIHdoZW4gaW5uZXJIVE1MIGlzIHNldCcpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIHRoZW4ocHJvbWlzZSwgKCkgPT4ge1xuICAgIGNvbnN0IG1vZGUgPSBpc1Nsb3QgPyAnZmFsbGJhY2snIDogJ2RlZmF1bHQnO1xuICAgIHJldHVybiBzbWFydFVwZGF0ZUNoaWxkcmVuKHJjdHgsIGVsbSwgY2gsIG1vZGUsIGlzU3ZnKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZFZub2RlcyhcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBwYXJlbnRFbG06IE5vZGUsXG4gIGJlZm9yZTogTm9kZSB8IHVuZGVmaW5lZCxcbiAgdm5vZGVzOiBKU1hOb2RlW10sXG4gIHN0YXJ0SWR4OiBudW1iZXIsXG4gIGVuZElkeDogbnVtYmVyLFxuICBpc1N2ZzogYm9vbGVhblxuKTogVmFsdWVPclByb21pc2U8dm9pZD4ge1xuICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgY29uc3QgY2ggPSB2bm9kZXNbc3RhcnRJZHhdO1xuICAgIGFzc2VydERlZmluZWQoY2gpO1xuICAgIHByb21pc2VzLnB1c2goY3JlYXRlRWxtKGN0eCwgY2gsIGlzU3ZnKSk7XG4gIH1cbiAgcmV0dXJuIHRoZW4ocHJvbWlzZUFsbChwcm9taXNlcykgYXMgYW55LCAoY2hpbGRyZW46IE5vZGVbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgY2hpbGQgb2YgY2hpbGRyZW4pIHtcbiAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgY2hpbGQsIGJlZm9yZSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlVm5vZGVzKGN0eDogUmVuZGVyQ29udGV4dCwgbm9kZXM6IE5vZGVbXSwgc3RhcnRJZHg6IG51bWJlciwgZW5kSWR4OiBudW1iZXIpOiB2b2lkIHtcbiAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgIGNvbnN0IGNoID0gbm9kZXNbc3RhcnRJZHhdO1xuICAgIGlmIChjaCkge1xuICAgICAgcmVtb3ZlTm9kZShjdHgsIGNoKTtcbiAgICB9XG4gIH1cbn1cblxubGV0IHJlZkNvdW50ID0gMDtcbmNvbnN0IFJlZlN5bWJvbCA9IFN5bWJvbCgpO1xuXG5mdW5jdGlvbiBzZXRTbG90UmVmKGN0eDogUmVuZGVyQ29udGV4dCwgaG9zdEVsbTogRWxlbWVudCwgc2xvdEVsOiBFbGVtZW50KSB7XG4gIGxldCByZWYgPSAoaG9zdEVsbSBhcyBhbnkpW1JlZlN5bWJvbF0gPz8gaG9zdEVsbS5nZXRBdHRyaWJ1dGUoJ3E6c3JlZicpO1xuICBpZiAocmVmID09PSBudWxsKSB7XG4gICAgcmVmID0gaW50VG9TdHIocmVmQ291bnQrKyk7XG4gICAgKGhvc3RFbG0gYXMgYW55KVtSZWZTeW1ib2xdID0gcmVmO1xuICAgIHNldEF0dHJpYnV0ZShjdHgsIGhvc3RFbG0sICdxOnNyZWYnLCByZWYpO1xuICB9XG4gIHNsb3RFbC5zZXRBdHRyaWJ1dGUoJ3E6c3JlZicsIHJlZik7XG59XG5cbmZ1bmN0aW9uIGdldFNsb3RFbGVtZW50KFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIHNsb3RNYXBzOiBTbG90TWFwcyxcbiAgcGFyZW50RWw6IEVsZW1lbnQsXG4gIHNsb3ROYW1lOiBzdHJpbmdcbik6IEVsZW1lbnQge1xuICBjb25zdCBzbG90RWwgPSBzbG90TWFwcy5zbG90c1tzbG90TmFtZV07XG4gIGlmIChzbG90RWwpIHtcbiAgICByZXR1cm4gc2xvdEVsO1xuICB9XG4gIGNvbnN0IHRlbXBsYXRlRWwgPSBzbG90TWFwcy50ZW1wbGF0ZXNbc2xvdE5hbWVdO1xuICBpZiAodGVtcGxhdGVFbCkge1xuICAgIHJldHVybiB0ZW1wbGF0ZUVsLmNvbnRlbnQgYXMgYW55O1xuICB9XG4gIGNvbnN0IHRlbXBsYXRlID0gY3JlYXRlVGVtcGxhdGUoY3R4LCBzbG90TmFtZSk7XG4gIHByZXBlbmQoY3R4LCBwYXJlbnRFbCwgdGVtcGxhdGUpO1xuICBzbG90TWFwcy50ZW1wbGF0ZXNbc2xvdE5hbWVdID0gdGVtcGxhdGU7XG4gIHJldHVybiB0ZW1wbGF0ZS5jb250ZW50IGFzIGFueTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGVtcGxhdGUoY3R4OiBSZW5kZXJDb250ZXh0LCBzbG90TmFtZTogc3RyaW5nKSB7XG4gIGNvbnN0IHRlbXBsYXRlID0gY3JlYXRlRWxlbWVudChjdHgsICd0ZW1wbGF0ZScsIGZhbHNlKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xuICB0ZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoUVNsb3RBdHRyLCBzbG90TmFtZSk7XG4gIHJldHVybiB0ZW1wbGF0ZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGVtcGxhdGVzKGN0eDogUmVuZGVyQ29udGV4dCwgc2xvdE1hcHM6IFNsb3RNYXBzKSB7XG4gIE9iamVjdC5rZXlzKHNsb3RNYXBzLnRlbXBsYXRlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBzbG90TWFwcy50ZW1wbGF0ZXNba2V5XSE7XG4gICAgaWYgKHRlbXBsYXRlICYmIHNsb3RNYXBzLnNsb3RzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVtb3ZlTm9kZShjdHgsIHRlbXBsYXRlKTtcbiAgICAgIHNsb3RNYXBzLnRlbXBsYXRlc1trZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlU2xvdFByb2plY3Rpb24oXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgaG9zdEVsbTogRWxlbWVudCxcbiAgYmVmb3JlOiBTbG90TWFwcyxcbiAgYWZ0ZXI6IFNsb3RNYXBzXG4pIHtcbiAgT2JqZWN0LmVudHJpZXMoYmVmb3JlLnNsb3RzKS5mb3JFYWNoKChba2V5LCBzbG90RWxdKSA9PiB7XG4gICAgaWYgKHNsb3RFbCAmJiAhYWZ0ZXIuc2xvdHNba2V5XSkge1xuICAgICAgLy8gU2xvdCByZW1vdmVkXG4gICAgICAvLyBNb3ZlIHNsb3QgdG8gdGVtcGxhdGVcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gY3JlYXRlVGVtcGxhdGUoY3R4LCBrZXkpO1xuICAgICAgY29uc3Qgc2xvdENoaWxkcmVuID0gZ2V0Q2hpbGRyZW4oc2xvdEVsLCAnc2xvdCcpO1xuICAgICAgdGVtcGxhdGUuY29udGVudC5hcHBlbmQoLi4uc2xvdENoaWxkcmVuKTtcbiAgICAgIGhvc3RFbG0uaW5zZXJ0QmVmb3JlKHRlbXBsYXRlLCBob3N0RWxtLmZpcnN0Q2hpbGQpO1xuXG4gICAgICBjdHgub3BlcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgZWw6IHRlbXBsYXRlLFxuICAgICAgICBvcGVyYXRpb246ICdzbG90LXRvLXRlbXBsYXRlJyxcbiAgICAgICAgYXJnczogc2xvdENoaWxkcmVuLFxuICAgICAgICBmbjogKCkgPT4ge30sXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5lbnRyaWVzKGFmdGVyLnNsb3RzKS5mb3JFYWNoKChba2V5LCBzbG90RWxdKSA9PiB7XG4gICAgaWYgKHNsb3RFbCAmJiAhYmVmb3JlLnNsb3RzW2tleV0pIHtcbiAgICAgIC8vIFNsb3QgY3JlYXRlZFxuICAgICAgLy8gTW92ZSB0ZW1wbGF0ZSB0byBzbG90XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGJlZm9yZS50ZW1wbGF0ZXNba2V5XTtcbiAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICBzbG90RWwuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudCk7XG4gICAgICAgIHRlbXBsYXRlLnJlbW92ZSgpO1xuICAgICAgICBjdHgub3BlcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICBlbDogc2xvdEVsLFxuICAgICAgICAgIG9wZXJhdGlvbjogJ3RlbXBsYXRlLXRvLXNsb3QnLFxuICAgICAgICAgIGFyZ3M6IFt0ZW1wbGF0ZV0sXG4gICAgICAgICAgZm46ICgpID0+IHt9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRTbG90TmFtZShub2RlOiBKU1hOb2RlKTogc3RyaW5nIHtcbiAgcmV0dXJuIG5vZGUucHJvcHM/LlsncTpzbG90J10gPz8gJyc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsbShyY3R4OiBSZW5kZXJDb250ZXh0LCB2bm9kZTogSlNYTm9kZSwgaXNTdmc6IGJvb2xlYW4pOiBWYWx1ZU9yUHJvbWlzZTxOb2RlPiB7XG4gIHJjdHgucGVyZi52aXNpdGVkKys7XG4gIGNvbnN0IHRhZyA9IHZub2RlLnR5cGU7XG4gIGlmICh0YWcgPT09ICcjdGV4dCcpIHtcbiAgICByZXR1cm4gKHZub2RlLmVsbSA9IGNyZWF0ZVRleHROb2RlKHJjdHgsIHZub2RlLnRleHQhKSk7XG4gIH1cblxuICBpZiAoIWlzU3ZnKSB7XG4gICAgaXNTdmcgPSB0YWcgPT09ICdzdmcnO1xuICB9XG5cbiAgY29uc3QgcHJvcHMgPSB2bm9kZS5wcm9wcztcbiAgY29uc3QgZWxtID0gKHZub2RlLmVsbSA9IGNyZWF0ZUVsZW1lbnQocmN0eCwgdGFnLCBpc1N2ZykpO1xuICBjb25zdCBpc0NvbXBvbmVudCA9IGlzQ29tcG9uZW50Tm9kZSh2bm9kZSk7XG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWxtKTtcbiAgc2V0S2V5KGVsbSwgdm5vZGUua2V5KTtcbiAgdXBkYXRlUHJvcGVydGllcyhyY3R4LCBjdHgsIHByb3BzLCBpc1N2Zyk7XG5cbiAgaWYgKGlzU3ZnICYmIHRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XG4gICAgaXNTdmcgPSBmYWxzZTtcbiAgfVxuICBjb25zdCBjdXJyZW50Q29tcG9uZW50ID1cbiAgICByY3R4LmNvbXBvbmVudHMubGVuZ3RoID4gMCA/IHJjdHguY29tcG9uZW50c1tyY3R4LmNvbXBvbmVudHMubGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG4gIGlmIChjdXJyZW50Q29tcG9uZW50KSB7XG4gICAgY29uc3Qgc3R5bGVUYWcgPSBjdXJyZW50Q29tcG9uZW50LnN0eWxlQ2xhc3M7XG4gICAgaWYgKHN0eWxlVGFnKSB7XG4gICAgICBjbGFzc2xpc3RBZGQocmN0eCwgZWxtLCBzdHlsZVRhZyk7XG4gICAgfVxuICAgIGlmICh0YWcgPT09ICdxOnNsb3QnKSB7XG4gICAgICBzZXRTbG90UmVmKHJjdHgsIGN1cnJlbnRDb21wb25lbnQuaG9zdEVsZW1lbnQsIGVsbSk7XG4gICAgICBjdXJyZW50Q29tcG9uZW50LnNsb3RzLnB1c2godm5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGxldCB3YWl0OiBWYWx1ZU9yUHJvbWlzZTx2b2lkPjtcbiAgaWYgKGlzQ29tcG9uZW50KSB7XG4gICAgLy8gUnVuIG1vdW50IGhvb2tcbiAgICBjb25zdCByZW5kZXJRUkwgPSBwcm9wcyFbT25SZW5kZXJQcm9wXSEgYXMgUVJMPE9uUmVuZGVyRm48YW55Pj47XG4gICAgY3R4LnJlbmRlclFybCA9IHJlbmRlclFSTDtcbiAgICB3YWl0ID0gZmlyc3RSZW5kZXJDb21wb25lbnQocmN0eCwgY3R4KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBzZXRzSW5uZXJIVE1MID0gY2hlY2tJbm5lckhUTUwocHJvcHMpO1xuICAgIGlmIChzZXRzSW5uZXJIVE1MKSB7XG4gICAgICBpZiAocURldiAmJiB2bm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxvZ1dhcm4oJ05vZGUgY2FuIG5vdCBoYXZlIGNoaWxkcmVuIHdoZW4gaW5uZXJIVE1MIGlzIHNldCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsbTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoZW4od2FpdCwgKCkgPT4ge1xuICAgIGxldCBjaGlsZHJlbiA9IHZub2RlLmNoaWxkcmVuO1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIGNoaWxkcmVuWzBdLnR5cGUgPT09IFNraXBSZXJlbmRlcikge1xuICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdLmNoaWxkcmVuO1xuICAgICAgfVxuICAgICAgY29uc3Qgc2xvdE1hcCA9IGlzQ29tcG9uZW50ID8gZ2V0U2xvdHMoY3R4LmNvbXBvbmVudCwgZWxtKSA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHByb21pc2VzID0gY2hpbGRyZW4ubWFwKChjaCkgPT4gY3JlYXRlRWxtKHJjdHgsIGNoLCBpc1N2ZykpO1xuICAgICAgcmV0dXJuIHRoZW4ocHJvbWlzZUFsbChwcm9taXNlcykgYXMgYW55LCAoKSA9PiB7XG4gICAgICAgIGxldCBwYXJlbnQgPSBlbG07XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjaGlsZHJlbikge1xuICAgICAgICAgIGlmIChzbG90TWFwKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBnZXRTbG90RWxlbWVudChyY3R4LCBzbG90TWFwLCBlbG0sIGdldFNsb3ROYW1lKG5vZGUpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyZW50LmFwcGVuZENoaWxkKG5vZGUuZWxtISk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsbTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZWxtO1xuICB9KTtcbn1cbmludGVyZmFjZSBTbG90TWFwcyB7XG4gIHNsb3RzOiBSZWNvcmQ8c3RyaW5nLCBFbGVtZW50IHwgdW5kZWZpbmVkPjtcbiAgdGVtcGxhdGVzOiBSZWNvcmQ8c3RyaW5nLCBIVE1MVGVtcGxhdGVFbGVtZW50IHwgdW5kZWZpbmVkPjtcbn1cblxuY29uc3QgZ2V0U2xvdHMgPSAoY29tcG9uZW50Q3R4OiBDb21wb25lbnRDdHggfCB1bmRlZmluZWQsIGhvc3RFbG06IEVsZW1lbnQpOiBTbG90TWFwcyA9PiB7XG4gIGNvbnN0IHNsb3RzOiBSZWNvcmQ8c3RyaW5nLCBFbGVtZW50PiA9IHt9O1xuICBjb25zdCB0ZW1wbGF0ZXM6IFJlY29yZDxzdHJpbmcsIEhUTUxUZW1wbGF0ZUVsZW1lbnQ+ID0ge307XG4gIGNvbnN0IHNsb3RSZWYgPSBob3N0RWxtLmdldEF0dHJpYnV0ZSgncTpzcmVmJyk7XG4gIGNvbnN0IGV4aXN0aW5nU2xvdHMgPSBBcnJheS5mcm9tKGhvc3RFbG0ucXVlcnlTZWxlY3RvckFsbChgcVxcXFw6c2xvdFtxXFxcXDpzcmVmPVwiJHtzbG90UmVmfVwiXWApKTtcbiAgY29uc3QgbmV3U2xvdHMgPSBjb21wb25lbnRDdHg/LnNsb3RzID8/IEVNUFRZX0FSUkFZO1xuICBjb25zdCB0ID0gQXJyYXkuZnJvbShob3N0RWxtLmNoaWxkcmVuKS5maWx0ZXIoaXNTbG90VGVtcGxhdGUpO1xuXG4gIC8vIE1hcCBzbG90c1xuICBmb3IgKGNvbnN0IGVsbSBvZiBleGlzdGluZ1Nsb3RzKSB7XG4gICAgc2xvdHNbZWxtLmdldEF0dHJpYnV0ZSgnbmFtZScpID8/ICcnXSA9IGVsbTtcbiAgfVxuXG4gIC8vIE1hcCB2aXJ0dWFsIHNsb3RzXG4gIGZvciAoY29uc3Qgdm5vZGUgb2YgbmV3U2xvdHMpIHtcbiAgICBzbG90c1t2bm9kZS5wcm9wcz8ubmFtZSA/PyAnJ10gPSB2bm9kZS5lbG0gYXMgRWxlbWVudDtcbiAgfVxuXG4gIC8vIE1hcCB0ZW1wbGF0ZXNcbiAgZm9yIChjb25zdCBlbG0gb2YgdCkge1xuICAgIHRlbXBsYXRlc1tlbG0uZ2V0QXR0cmlidXRlKCdxOnNsb3QnKSA/PyAnJ10gPSBlbG07XG4gIH1cblxuICByZXR1cm4geyBzbG90cywgdGVtcGxhdGVzIH07XG59O1xuXG5jb25zdCBoYW5kbGVTdHlsZTogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlKSA9PiB7XG4gIHNldEF0dHJpYnV0ZShjdHgsIGVsbSwgJ3N0eWxlJywgc3RyaW5naWZ5Q2xhc3NPclN0eWxlKG5ld1ZhbHVlLCBmYWxzZSkpO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGhhbmRsZUNsYXNzOiBQcm9wSGFuZGxlciA9IChjdHgsIGVsbSwgXywgbmV3VmFsdWUpID0+IHtcbiAgc2V0QXR0cmlidXRlKGN0eCwgZWxtLCAnY2xhc3MnLCBzdHJpbmdpZnlDbGFzc09yU3R5bGUobmV3VmFsdWUsIHRydWUpKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBjaGVja0JlZm9yZUFzc2lnbjogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIHByb3AsIG5ld1ZhbHVlKSA9PiB7XG4gIGlmIChwcm9wIGluIGVsbSkge1xuICAgIGlmICgoZWxtIGFzIGFueSlbcHJvcF0gIT09IG5ld1ZhbHVlKSB7XG4gICAgICBzZXRQcm9wZXJ0eShjdHgsIGVsbSwgcHJvcCwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJztcbmNvbnN0IHNldElubmVySFRNTDogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlKSA9PiB7XG4gIGlmIChkYW5nZXJvdXNseVNldElubmVySFRNTCBpbiBlbG0pIHtcbiAgICBzZXRQcm9wZXJ0eShjdHgsIGVsbSwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIG5ld1ZhbHVlKTtcbiAgfSBlbHNlIGlmICgnaW5uZXJIVE1MJyBpbiBlbG0pIHtcbiAgICBzZXRQcm9wZXJ0eShjdHgsIGVsbSwgJ2lubmVySFRNTCcsIG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IFBST1BfSEFORExFUl9NQVA6IFJlY29yZDxzdHJpbmcsIFByb3BIYW5kbGVyPiA9IHtcbiAgc3R5bGU6IGhhbmRsZVN0eWxlLFxuICBjbGFzczogaGFuZGxlQ2xhc3MsXG4gIGNsYXNzTmFtZTogaGFuZGxlQ2xhc3MsXG4gIHZhbHVlOiBjaGVja0JlZm9yZUFzc2lnbixcbiAgY2hlY2tlZDogY2hlY2tCZWZvcmVBc3NpZ24sXG4gIFtkYW5nZXJvdXNseVNldElubmVySFRNTF06IHNldElubmVySFRNTCxcbn07XG5cbmNvbnN0IEFMTE9XU19QUk9QUyA9IFsnY2xhc3MnLCAnY2xhc3NOYW1lJywgJ3N0eWxlJywgJ2lkJywgJ3E6c2xvdCddO1xuY29uc3QgSE9TVF9QUkVGSVggPSAnaG9zdDonO1xuY29uc3QgU0NPUEVfUFJFRklYID0gL14oaG9zdHx3aW5kb3d8ZG9jdW1lbnQpOi87XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVQcm9wZXJ0aWVzKFxuICByY3R4OiBSZW5kZXJDb250ZXh0LFxuICBjdHg6IFFDb250ZXh0LFxuICBleHBlY3RQcm9wczogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGwsXG4gIGlzU3ZnOiBib29sZWFuXG4pIHtcbiAgaWYgKCFleHBlY3RQcm9wcykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBlbG0gPSBjdHguZWxlbWVudDtcbiAgY29uc3QgaXNDbXAgPSBPblJlbmRlclByb3AgaW4gZXhwZWN0UHJvcHM7XG4gIGNvbnN0IHF3aWtQcm9wcyA9IGlzQ21wID8gZ2V0UHJvcHNNdXRhdG9yKGN0eCwgcmN0eC5jb250YWluZXJTdGF0ZSkgOiB1bmRlZmluZWQ7XG5cbiAgZm9yIChsZXQga2V5IG9mIE9iamVjdC5rZXlzKGV4cGVjdFByb3BzKSkge1xuICAgIGlmIChrZXkgPT09ICdjaGlsZHJlbicgfHwga2V5ID09PSBPblJlbmRlclByb3ApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBuZXdWYWx1ZSA9IGV4cGVjdFByb3BzW2tleV07XG4gICAgaWYgKGtleSA9PT0gJ3JlZicpIHtcbiAgICAgIChuZXdWYWx1ZSBhcyBSZWY8RWxlbWVudD4pLmN1cnJlbnQgPSBlbG07XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBFYXJseSBleGl0IGlmIHZhbHVlIGRpZG50IGNoYW5nZVxuICAgIGNvbnN0IG9sZFZhbHVlID0gY3R4LmNhY2hlLmdldChrZXkpO1xuICAgIGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjdHguY2FjaGUuc2V0KGtleSwgbmV3VmFsdWUpO1xuXG4gICAgLy8gQ2hlY2sgb2YgZGF0YS0gb3IgYXJpYS1cbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2RhdGEtJykgfHwga2V5LnN0YXJ0c1dpdGgoJ2FyaWEtJykpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShyY3R4LCBlbG0sIGtleSwgbmV3VmFsdWUpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKHF3aWtQcm9wcykge1xuICAgICAgY29uc3Qgc2tpcFByb3BlcnR5ID0gQUxMT1dTX1BST1BTLmluY2x1ZGVzKGtleSk7XG4gICAgICBjb25zdCBoYXNQcmVmaXggPSBTQ09QRV9QUkVGSVgudGVzdChrZXkpO1xuICAgICAgaWYgKCFza2lwUHJvcGVydHkgJiYgIWhhc1ByZWZpeCkge1xuICAgICAgICAvLyBRd2lrIHByb3BzXG4gICAgICAgIHF3aWtQcm9wcy5zZXQoa2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgaFByZWZpeGVkID0ga2V5LnN0YXJ0c1dpdGgoSE9TVF9QUkVGSVgpO1xuICAgICAgaWYgKGhQcmVmaXhlZCkge1xuICAgICAgICBrZXkgPSBrZXkuc2xpY2UoSE9TVF9QUkVGSVgubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHFEZXYgJiYga2V5LnN0YXJ0c1dpdGgoSE9TVF9QUkVGSVgpKSB7XG4gICAgICBsb2dXYXJuKGAke0hPU1RfUFJFRklYfSBwcmVmaXggY2FuIG5vdCBiZSB1c2VkIGluIG5vbiBjb21wb25lbnRzYCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNPblByb3Aoa2V5KSkge1xuICAgICAgc2V0RXZlbnQocmN0eCwgY3R4LCBrZXkuc2xpY2UoMCwgLTMpLCBuZXdWYWx1ZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNPbiRQcm9wKGtleSkpIHtcbiAgICAgIHNldEV2ZW50KHJjdHgsIGN0eCwga2V5LnNsaWNlKDAsIC0xKSwgJChuZXdWYWx1ZSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgaXRzIGFuIGV4Y2VwdGlvblxuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IFBST1BfSEFORExFUl9NQVBba2V5XTtcbiAgICBpZiAoZXhjZXB0aW9uKSB7XG4gICAgICBpZiAoZXhjZXB0aW9uKHJjdHgsIGVsbSBhcyBIVE1MRWxlbWVudCwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHByb3BlcnR5IGluIHByb3RvdHlwZVxuICAgIGlmICghaXNTdmcgJiYga2V5IGluIGVsbSkge1xuICAgICAgc2V0UHJvcGVydHkocmN0eCwgZWxtLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIHJlbmRlciBhdHRyaWJ1dGVcbiAgICBzZXRBdHRyaWJ1dGUocmN0eCwgZWxtLCBrZXksIG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gY3R4LmRpcnR5O1xufVxuXG5leHBvcnQgY29uc3Qgc3RhcnRFdmVudCA9IChjdHg6IFJlbmRlckNvbnRleHQsIG5hbWU6IHN0cmluZykgPT4ge1xuICBjb25zdCBldmVudDogUGVyZkV2ZW50ID0ge1xuICAgIG5hbWUsXG4gICAgdGltZVN0YXJ0OiBwZXJmb3JtYW5jZS5ub3coKSxcbiAgICB0aW1lRW5kOiAwLFxuICB9O1xuICBjdHgucGVyZi50aW1pbmcucHVzaChldmVudCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgZXZlbnQudGltZUVuZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShjdHg6IFJlbmRlckNvbnRleHQsIGVsOiBFbGVtZW50LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudWxsKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShwcm9wLCBTdHJpbmcodmFsdWUpKTtcbiAgICB9XG4gIH07XG4gIGN0eC5vcGVyYXRpb25zLnB1c2goe1xuICAgIGVsLFxuICAgIG9wZXJhdGlvbjogJ3NldC1hdHRyaWJ1dGUnLFxuICAgIGFyZ3M6IFtwcm9wLCB2YWx1ZV0sXG4gICAgZm4sXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xhc3NsaXN0QWRkKGN0eDogUmVuZGVyQ29udGV4dCwgZWw6IEVsZW1lbnQsIGhvc3RTdHlsZVRhZzogc3RyaW5nKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoaG9zdFN0eWxlVGFnKTtcbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWwsXG4gICAgb3BlcmF0aW9uOiAnY2xhc3NsaXN0LWFkZCcsXG4gICAgYXJnczogW2hvc3RTdHlsZVRhZ10sXG4gICAgZm4sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRQcm9wZXJ0eShjdHg6IFJlbmRlckNvbnRleHQsIG5vZGU6IGFueSwga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIG5vZGVba2V5XSA9IHZhbHVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nRXJyb3IoJ1NldCBwcm9wZXJ0eScsIHsgbm9kZSwga2V5LCB2YWx1ZSB9LCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWw6IG5vZGUsXG4gICAgb3BlcmF0aW9uOiAnc2V0LXByb3BlcnR5JyxcbiAgICBhcmdzOiBba2V5LCB2YWx1ZV0sXG4gICAgZm4sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KGN0eDogUmVuZGVyQ29udGV4dCwgZXhwZWN0VGFnOiBzdHJpbmcsIGlzU3ZnOiBib29sZWFuKTogRWxlbWVudCB7XG4gIGNvbnN0IGVsID0gaXNTdmcgPyBjdHguZG9jLmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsIGV4cGVjdFRhZykgOiBjdHguZG9jLmNyZWF0ZUVsZW1lbnQoZXhwZWN0VGFnKTtcbiAgKGVsIGFzIGFueSlbQ09OVEFJTkVSXSA9IGN0eC5jb250YWluZXJFbDtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWwsXG4gICAgb3BlcmF0aW9uOiAnY3JlYXRlLWVsZW1lbnQnLFxuICAgIGFyZ3M6IFtleHBlY3RUYWddLFxuICAgIGZuOiAoKSA9PiB7fSxcbiAgfSk7XG4gIHJldHVybiBlbDtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0QmVmb3JlPFQgZXh0ZW5kcyBOb2RlPihcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBwYXJlbnQ6IE5vZGUsXG4gIG5ld0NoaWxkOiBULFxuICByZWZDaGlsZDogTm9kZSB8IG51bGwgfCB1bmRlZmluZWRcbik6IFQge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLCByZWZDaGlsZCA/IHJlZkNoaWxkIDogbnVsbCk7XG4gIH07XG4gIGN0eC5vcGVyYXRpb25zLnB1c2goe1xuICAgIGVsOiBwYXJlbnQsXG4gICAgb3BlcmF0aW9uOiAnaW5zZXJ0LWJlZm9yZScsXG4gICAgYXJnczogW25ld0NoaWxkLCByZWZDaGlsZF0sXG4gICAgZm4sXG4gIH0pO1xuICByZXR1cm4gbmV3Q2hpbGQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRTdHlsZShjdHg6IFJlbmRlckNvbnRleHQsIGhvc3RFbGVtZW50OiBFbGVtZW50LCBzdHlsZVRhc2s6IFN0eWxlQXBwZW5kKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lckVsID0gY3R4LmNvbnRhaW5lckVsO1xuICAgIGNvbnN0IHN0eWxlc1BhcmVudCA9XG4gICAgICBjdHguZG9jLmRvY3VtZW50RWxlbWVudCA9PT0gY29udGFpbmVyRWwgPyBjdHguZG9jLmhlYWQgPz8gY29udGFpbmVyRWwgOiBjb250YWluZXJFbDtcbiAgICBpZiAoIXN0eWxlc1BhcmVudC5xdWVyeVNlbGVjdG9yKGBzdHlsZVtxXFxcXDpzdHlsZT1cIiR7c3R5bGVUYXNrLnN0eWxlSWR9XCJdYCkpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gY3R4LmRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCdxOnN0eWxlJywgc3R5bGVUYXNrLnN0eWxlSWQpO1xuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZVRhc2suY29udGVudDtcbiAgICAgIHN0eWxlc1BhcmVudC5pbnNlcnRCZWZvcmUoc3R5bGUsIHN0eWxlc1BhcmVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gIH07XG4gIGN0eC5vcGVyYXRpb25zLnB1c2goe1xuICAgIGVsOiBob3N0RWxlbWVudCxcbiAgICBvcGVyYXRpb246ICdhcHBlbmQtc3R5bGUnLFxuICAgIGFyZ3M6IFtzdHlsZVRhc2tdLFxuICAgIGZuLFxuICB9KTtcbn1cbmZ1bmN0aW9uIHByZXBlbmQoY3R4OiBSZW5kZXJDb250ZXh0LCBwYXJlbnQ6IEVsZW1lbnQsIG5ld0NoaWxkOiBOb2RlKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIHBhcmVudC5maXJzdENoaWxkKTtcbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWw6IHBhcmVudCxcbiAgICBvcGVyYXRpb246ICdwcmVwZW5kJyxcbiAgICBhcmdzOiBbbmV3Q2hpbGRdLFxuICAgIGZuLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShjdHg6IFJlbmRlckNvbnRleHQsIGVsOiBOb2RlKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgaWYgKGVsLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICAgIGNvbnN0IHN1YnNNYW5hZ2VyID0gY3R4LmNvbnRhaW5lclN0YXRlLnN1YnNNYW5hZ2VyO1xuICAgICAgICBjbGVhbnVwRWxlbWVudChlbCBhcyBFbGVtZW50LCBzdWJzTWFuYWdlcik7XG4gICAgICAgIChlbCBhcyBFbGVtZW50KVxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKFFIb3N0U2VsZWN0b3IpXG4gICAgICAgICAgLmZvckVhY2goKGVsKSA9PiBjbGVhbnVwRWxlbWVudChlbCwgc3Vic01hbmFnZXIpKTtcbiAgICAgIH1cbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChlbCk7XG4gICAgfSBlbHNlIGlmIChxRGV2KSB7XG4gICAgICBsb2dXYXJuKCdUcnlpbmcgdG8gcmVtb3ZlIGNvbXBvbmVudCBhbHJlYWR5IHJlbW92ZWQnLCBlbCk7XG4gICAgfVxuICB9O1xuICBjdHgub3BlcmF0aW9ucy5wdXNoKHtcbiAgICBlbDogZWwsXG4gICAgb3BlcmF0aW9uOiAncmVtb3ZlJyxcbiAgICBhcmdzOiBbXSxcbiAgICBmbixcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNsZWFudXBFbGVtZW50KGVsOiBFbGVtZW50LCBzdWJzTWFuYWdlcjogU3Vic2NyaXB0aW9uTWFuYWdlcikge1xuICBjb25zdCBjdHggPSB0cnlHZXRDb250ZXh0KGVsKTtcbiAgaWYgKGN0eCkge1xuICAgIGNsZWFudXBDb250ZXh0KGN0eCwgc3Vic01hbmFnZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlKGN0eDogUmVuZGVyQ29udGV4dCwgdGV4dDogc3RyaW5nKTogVGV4dCB7XG4gIHJldHVybiBjdHguZG9jLmNyZWF0ZVRleHROb2RlKHRleHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZUNvbnRleHRXaXRoU2xvdHMoY3R4OiBSZW5kZXJDb250ZXh0KSB7XG4gIGNvbnN0IGJlZm9yZSA9IGN0eC5yb290cy5tYXAoKGVsbSkgPT4gZ2V0U2xvdHModW5kZWZpbmVkLCBlbG0pKTtcblxuICBleGVjdXRlQ29udGV4dChjdHgpO1xuXG4gIGNvbnN0IGFmdGVyID0gY3R4LnJvb3RzLm1hcCgoZWxtKSA9PiBnZXRTbG90cyh1bmRlZmluZWQsIGVsbSkpO1xuICBhc3NlcnRFcXVhbChiZWZvcmUubGVuZ3RoLCBhZnRlci5sZW5ndGgpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmVmb3JlLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzb2x2ZVNsb3RQcm9qZWN0aW9uKGN0eCwgY3R4LnJvb3RzW2ldLCBiZWZvcmVbaV0sIGFmdGVyW2ldKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZUNvbnRleHQoY3R4OiBSZW5kZXJDb250ZXh0KSB7XG4gIGZvciAoY29uc3Qgb3Agb2YgY3R4Lm9wZXJhdGlvbnMpIHtcbiAgICBvcC5mbigpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcmludFJlbmRlclN0YXRzKGN0eDogUmVuZGVyQ29udGV4dCkge1xuICBjb25zdCBieU9wOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gIGZvciAoY29uc3Qgb3Agb2YgY3R4Lm9wZXJhdGlvbnMpIHtcbiAgICBieU9wW29wLm9wZXJhdGlvbl0gPSAoYnlPcFtvcC5vcGVyYXRpb25dID8/IDApICsgMTtcbiAgfVxuICBjb25zdCBhZmZlY3RlZEVsZW1lbnRzID0gQXJyYXkuZnJvbShuZXcgU2V0KGN0eC5vcGVyYXRpb25zLm1hcCgoYSkgPT4gYS5lbCkpKTtcbiAgY29uc3Qgc3RhdHMgPSB7XG4gICAgYnlPcCxcbiAgICByb290czogY3R4LnJvb3RzLFxuICAgIGhvc3RFbGVtZW50czogQXJyYXkuZnJvbShjdHguaG9zdEVsZW1lbnRzKSxcbiAgICBhZmZlY3RlZEVsZW1lbnRzLFxuICAgIHZpc2l0ZWROb2RlczogY3R4LnBlcmYudmlzaXRlZCxcbiAgICBvcGVyYXRpb25zOiBjdHgub3BlcmF0aW9ucy5tYXAoKHYpID0+IFt2Lm9wZXJhdGlvbiwgdi5lbCwgLi4udi5hcmdzXSksXG4gIH07XG4gIGNvbnN0IG5vT3BzID0gY3R4Lm9wZXJhdGlvbnMubGVuZ3RoID09PSAwO1xuICBsb2dEZWJ1ZygnUmVuZGVyIHN0YXRzLicsIG5vT3BzID8gJ05vIG9wZXJhdGlvbnMnIDogJycsIHN0YXRzKTtcbiAgcmV0dXJuIHN0YXRzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeChjaGlsZHJlbjogTm9kZVtdLCBiZWdpbklkeDogbnVtYmVyLCBlbmRJZHg6IG51bWJlcik6IEtleVRvSW5kZXhNYXAge1xuICBjb25zdCBtYXA6IEtleVRvSW5kZXhNYXAgPSB7fTtcbiAgZm9yIChsZXQgaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGNvbnN0IGtleSA9IGdldEtleShjaGlsZCBhcyBFbGVtZW50KTtcbiAgICAgIGlmIChrZXkgIT0gbnVsbCkge1xuICAgICAgICBtYXBba2V5IGFzIHN0cmluZ10gPSBpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbWFwO1xufVxuXG5jb25zdCBLRVlfU1lNQk9MID0gU3ltYm9sKCd2bm9kZSBrZXknKTtcblxuZnVuY3Rpb24gZ2V0S2V5KGVsOiBFbGVtZW50KTogc3RyaW5nIHwgbnVsbCB7XG4gIGxldCBrZXkgPSAoZWwgYXMgYW55KVtLRVlfU1lNQk9MXTtcbiAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5ID0gKGVsIGFzIGFueSlbS0VZX1NZTUJPTF0gPSBlbC5nZXRBdHRyaWJ1dGUoJ3E6a2V5Jyk7XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cblxuZnVuY3Rpb24gc2V0S2V5KGVsOiBFbGVtZW50LCBrZXk6IHN0cmluZyB8IG51bGwpIHtcbiAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdxOmtleScsIGtleSk7XG4gIH1cbiAgKGVsIGFzIGFueSlbS0VZX1NZTUJPTF0gPSBrZXk7XG59XG5cbmZ1bmN0aW9uIHNhbWVWbm9kZShlbG06IE5vZGUsIHZub2RlMjogSlNYTm9kZSk6IGJvb2xlYW4ge1xuICBjb25zdCBpc0VsZW1lbnQgPSBlbG0ubm9kZVR5cGUgPT09IDE7XG4gIGlmIChpc0VsZW1lbnQpIHtcbiAgICBjb25zdCBpc1NhbWVTZWwgPSAoZWxtIGFzIEVsZW1lbnQpLmxvY2FsTmFtZSA9PT0gdm5vZGUyLnR5cGU7XG4gICAgaWYgKCFpc1NhbWVTZWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEtleShlbG0gYXMgRWxlbWVudCkgPT09IHZub2RlMi5rZXk7XG4gIH1cbiAgcmV0dXJuIGVsbS5ub2RlTmFtZSA9PT0gdm5vZGUyLnR5cGU7XG59XG5cbmZ1bmN0aW9uIGlzVGFnTmFtZShlbG06IE5vZGUsIHRhZ05hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBpZiAoZWxtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgcmV0dXJuIChlbG0gYXMgRWxlbWVudCkubG9jYWxOYW1lID09PSB0YWdOYW1lO1xuICB9XG4gIHJldHVybiBlbG0ubm9kZU5hbWUgPT09IHRhZ05hbWU7XG59XG5cbmZ1bmN0aW9uIGNoZWNrSW5uZXJIVE1MKHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgdW5kZWZpbmVkIHwgbnVsbCkge1xuICByZXR1cm4gcHJvcHMgJiYgKCdpbm5lckhUTUwnIGluIHByb3BzIHx8IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIGluIHByb3BzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeUNsYXNzT3JTdHlsZShvYmo6IGFueSwgaXNDbGFzczogYm9vbGVhbik6IHN0cmluZyB7XG4gIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuICcnO1xuICBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0Jykge1xuICAgIGxldCB0ZXh0ID0gJyc7XG4gICAgbGV0IHNlcCA9ICcnO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIGlmICghaXNDbGFzcykge1xuICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yLlJlbmRlcl91bnN1cHBvcnRlZEZvcm1hdF9vYmpfYXR0ciwgb2JqLCAnc3R5bGUnKTtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRleHQgKz0gc2VwICsgb2JqW2ldO1xuICAgICAgICBzZXAgPSAnICc7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRleHQgKz0gaXNDbGFzc1xuICAgICAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgICAgICAgPyBzZXAgKyBrZXlcbiAgICAgICAgICAgICAgICA6ICcnXG4gICAgICAgICAgICAgIDogc2VwICsgZnJvbUNhbWVsVG9LZWJhYkNhc2Uoa2V5KSArICc6JyArIHZhbHVlO1xuICAgICAgICAgICAgc2VwID0gaXNDbGFzcyA/ICcgJyA6ICc7JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH1cbiAgcmV0dXJuIFN0cmluZyhvYmopO1xufVxuIl19","import { assertDefined } from '../assert/assert';\nimport { QHostAttr } from '../util/markers';\nimport { executeContextWithSlots, printRenderStats } from './cursor';\nimport { getContext, resumeIfNeeded } from '../props/props';\nimport { qDev, qTest } from '../util/qdev';\nimport { getPlatform } from '../platform/platform';\nimport { getDocument } from '../util/dom';\nimport { renderComponent } from '../component/component-ctx';\nimport { logError, logWarn } from '../util/log';\nimport { getContainer } from '../use/use-core';\nimport { runWatch, WatchFlags } from '../watch/watch.public';\nimport { createSubscriptionManager } from '../object/q-object';\nimport { then } from '../util/promises';\n/**\n * Mark component for rendering.\n *\n * Use `notifyRender` method to mark a component for rendering at some later point in time.\n * This method uses `getPlatform(doc).queueRender` for scheduling of the rendering. The\n * default implementation of the method is to use `requestAnimationFrame` to do actual rendering.\n *\n * The method is intended to coalesce multiple calls into `notifyRender` into a single call for\n * rendering.\n *\n * @param hostElement - Host-element of the component to re-render.\n * @returns A promise which is resolved when the component has been rendered.\n * @public\n */\nexport async function notifyRender(hostElement) {\n    assertDefined(hostElement.getAttribute(QHostAttr));\n    const containerEl = getContainer(hostElement);\n    assertDefined(containerEl);\n    const state = getContainerState(containerEl);\n    if (state.platform.isServer && !qTest) {\n        logWarn('Can not rerender in server platform');\n        return undefined;\n    }\n    resumeIfNeeded(containerEl);\n    const ctx = getContext(hostElement);\n    assertDefined(ctx.renderQrl);\n    if (ctx.dirty) {\n        return state.renderPromise;\n    }\n    ctx.dirty = true;\n    const activeRendering = state.hostsRendering !== undefined;\n    if (activeRendering) {\n        state.hostsStaging.add(hostElement);\n        return state.renderPromise.then((ctx) => {\n            if (state.hostsNext.has(hostElement)) {\n                // TODO\n                return state.renderPromise;\n            }\n            else {\n                return ctx;\n            }\n        });\n    }\n    else {\n        state.hostsNext.add(hostElement);\n        return scheduleFrame(containerEl, state);\n    }\n}\nexport function scheduleFrame(containerEl, containerState) {\n    if (containerState.renderPromise === undefined) {\n        containerState.renderPromise = containerState.platform.nextTick(() => renderMarked(containerEl, containerState));\n    }\n    return containerState.renderPromise;\n}\nconst CONTAINER_STATE = Symbol('ContainerState');\nexport function getContainerState(containerEl) {\n    let set = containerEl[CONTAINER_STATE];\n    if (!set) {\n        containerEl[CONTAINER_STATE] = set = {\n            proxyMap: new WeakMap(),\n            subsManager: createSubscriptionManager(),\n            platform: getPlatform(containerEl),\n            watchNext: new Set(),\n            watchStaging: new Set(),\n            hostsNext: new Set(),\n            hostsStaging: new Set(),\n            renderPromise: undefined,\n            hostsRendering: undefined,\n        };\n    }\n    return set;\n}\nexport async function renderMarked(containerEl, containerState) {\n    const hostsRendering = (containerState.hostsRendering = new Set(containerState.hostsNext));\n    containerState.hostsNext.clear();\n    await executeWatches(containerState, (watch) => {\n        return (watch.f & WatchFlags.IsWatch) !== 0;\n    });\n    containerState.hostsStaging.forEach((host) => {\n        hostsRendering.add(host);\n    });\n    containerState.hostsStaging.clear();\n    const doc = getDocument(containerEl);\n    const platform = containerState.platform;\n    const renderingQueue = Array.from(hostsRendering);\n    sortNodes(renderingQueue);\n    const ctx = {\n        doc,\n        containerState,\n        hostElements: new Set(),\n        operations: [],\n        roots: [],\n        containerEl,\n        components: [],\n        perf: {\n            visited: 0,\n            timing: [],\n        },\n    };\n    for (const el of renderingQueue) {\n        if (!ctx.hostElements.has(el)) {\n            ctx.roots.push(el);\n            try {\n                await renderComponent(ctx, getContext(el));\n            }\n            catch (e) {\n                logError('Render error', e);\n            }\n        }\n    }\n    // Early exist, no dom operations\n    if (ctx.operations.length === 0) {\n        if (qDev) {\n            if (typeof window !== 'undefined' && window.document != null) {\n                printRenderStats(ctx);\n            }\n        }\n        postRendering(containerEl, containerState, ctx);\n        return ctx;\n    }\n    return platform.raf(() => {\n        executeContextWithSlots(ctx);\n        if (qDev) {\n            if (typeof window !== 'undefined' && window.document != null) {\n                printRenderStats(ctx);\n            }\n        }\n        postRendering(containerEl, containerState, ctx);\n        return ctx;\n    });\n}\nasync function postRendering(containerEl, containerState, ctx) {\n    await executeWatches(containerState, (watch, stage) => {\n        if ((watch.f & WatchFlags.IsEffect) === 0) {\n            return false;\n        }\n        if (stage) {\n            return ctx.hostElements.has(watch.el);\n        }\n        return true;\n    });\n    // Clear staging\n    containerState.hostsStaging.forEach((el) => {\n        containerState.hostsNext.add(el);\n    });\n    containerState.hostsStaging.clear();\n    containerState.hostsRendering = undefined;\n    containerState.renderPromise = undefined;\n    if (containerState.hostsNext.size + containerState.watchNext.size > 0) {\n        scheduleFrame(containerEl, containerState);\n    }\n}\nasync function executeWatches(containerState, watchPred) {\n    const watchPromises = [];\n    containerState.watchNext.forEach((watch) => {\n        if (watchPred(watch, false)) {\n            watchPromises.push(then(watch.qrl.resolveIfNeeded(watch.el), () => watch));\n            containerState.watchNext.delete(watch);\n        }\n    });\n    do {\n        // Run staging effected\n        containerState.watchStaging.forEach((watch) => {\n            if (watchPred(watch, true)) {\n                watchPromises.push(then(watch.qrl.resolveIfNeeded(watch.el), () => watch));\n            }\n            else {\n                containerState.watchNext.add(watch);\n            }\n        });\n        containerState.watchStaging.clear();\n        // Wait for all promises\n        if (watchPromises.length > 0) {\n            const watches = await Promise.all(watchPromises);\n            sortWatches(watches);\n            await Promise.all(watches.map((watch) => {\n                return runWatch(watch, containerState);\n            }));\n            watchPromises.length = 0;\n        }\n    } while (containerState.watchStaging.size > 0);\n}\nfunction sortNodes(elements) {\n    elements.sort((a, b) => (a.compareDocumentPosition(b) & 2 ? 1 : -1));\n}\nfunction sortWatches(watches) {\n    watches.sort((a, b) => {\n        if (a.el === b.el) {\n            return a.i < b.i ? -1 : 1;\n        }\n        return (a.el.compareDocumentPosition(b.el) & 2) !== 0 ? 1 : -1;\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LXJlbmRlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvbm90aWZ5LXJlbmRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzVDLE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxnQkFBZ0IsRUFBaUIsTUFBTSxVQUFVLENBQUM7QUFDcEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUMzQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDaEQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxRQUFRLEVBQW1CLFVBQVUsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzlFLE9BQU8sRUFBRSx5QkFBeUIsRUFBc0MsTUFBTSxvQkFBb0IsQ0FBQztBQUNuRyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFJeEM7Ozs7Ozs7Ozs7Ozs7R0FhRztBQUNILE1BQU0sQ0FBQyxLQUFLLFVBQVUsWUFBWSxDQUFDLFdBQW9CO0lBQ3JELGFBQWEsQ0FBQyxXQUFXLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7SUFFbkQsTUFBTSxXQUFXLEdBQUcsWUFBWSxDQUFD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QUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2RSxDQUFDO0FBRUQsU0FBUyxXQUFXLENBQUMsT0FBMEI7SUFDN0MsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNwQixJQUFJLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUNqQixPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUMzQjtRQUNELE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLHVCQUF1QixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakUsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgUUhvc3RBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGV4ZWN1dGVDb250ZXh0V2l0aFNsb3RzLCBwcmludFJlbmRlclN0YXRzLCBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi9jdXJzb3InO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCwgcmVzdW1lSWZOZWVkZWQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBxRGV2LCBxVGVzdCB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBnZXRQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgcmVuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50L2NvbXBvbmVudC1jdHgnO1xuaW1wb3J0IHsgbG9nRXJyb3IsIGxvZ1dhcm4gfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBnZXRDb250YWluZXIgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgcnVuV2F0Y2gsIFdhdGNoRGVzY3JpcHRvciwgV2F0Y2hGbGFncyB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb25NYW5hZ2VyLCBPYmpUb1Byb3h5TWFwLCBTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgQ29yZVBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vdHlwZXMnO1xuXG4vKipcbiAqIE1hcmsgY29tcG9uZW50IGZvciByZW5kZXJpbmcuXG4gKlxuICogVXNlIGBub3RpZnlSZW5kZXJgIG1ldGhvZCB0byBtYXJrIGEgY29tcG9uZW50IGZvciByZW5kZXJpbmcgYXQgc29tZSBsYXRlciBwb2ludCBpbiB0aW1lLlxuICogVGhpcyBtZXRob2QgdXNlcyBgZ2V0UGxhdGZvcm0oZG9jKS5xdWV1ZVJlbmRlcmAgZm9yIHNjaGVkdWxpbmcgb2YgdGhlIHJlbmRlcmluZy4gVGhlXG4gKiBkZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBtZXRob2QgaXMgdG8gdXNlIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIHRvIGRvIGFjdHVhbCByZW5kZXJpbmcuXG4gKlxuICogVGhlIG1ldGhvZCBpcyBpbnRlbmRlZCB0byBjb2FsZXNjZSBtdWx0aXBsZSBjYWxscyBpbnRvIGBub3RpZnlSZW5kZXJgIGludG8gYSBzaW5nbGUgY2FsbCBmb3JcbiAqIHJlbmRlcmluZy5cbiAqXG4gKiBAcGFyYW0gaG9zdEVsZW1lbnQgLSBIb3N0LWVsZW1lbnQgb2YgdGhlIGNvbXBvbmVudCB0byByZS1yZW5kZXIuXG4gKiBAcmV0dXJucyBBIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIHJlbmRlcmVkLlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbm90aWZ5UmVuZGVyKGhvc3RFbGVtZW50OiBFbGVtZW50KTogUHJvbWlzZTxSZW5kZXJDb250ZXh0IHwgdW5kZWZpbmVkPiB7XG4gIGFzc2VydERlZmluZWQoaG9zdEVsZW1lbnQuZ2V0QXR0cmlidXRlKFFIb3N0QXR0cikpO1xuXG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0Q29udGFpbmVyKGhvc3RFbGVtZW50KSE7XG4gIGFzc2VydERlZmluZWQoY29udGFpbmVyRWwpO1xuXG4gIGNvbnN0IHN0YXRlID0gZ2V0Q29udGFpbmVyU3RhdGUoY29udGFpbmVyRWwpO1xuICBpZiAoc3RhdGUucGxhdGZvcm0uaXNTZXJ2ZXIgJiYgIXFUZXN0KSB7XG4gICAgbG9nV2FybignQ2FuIG5vdCByZXJlbmRlciBpbiBzZXJ2ZXIgcGxhdGZvcm0nKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHJlc3VtZUlmTmVlZGVkKGNvbnRhaW5lckVsKTtcblxuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGhvc3RFbGVtZW50KTtcbiAgYXNzZXJ0RGVmaW5lZChjdHgucmVuZGVyUXJsKTtcblxuICBpZiAoY3R4LmRpcnR5KSB7XG4gICAgcmV0dXJuIHN0YXRlLnJlbmRlclByb21pc2U7XG4gIH1cbiAgY3R4LmRpcnR5ID0gdHJ1ZTtcbiAgY29uc3QgYWN0aXZlUmVuZGVyaW5nID0gc3RhdGUuaG9zdHNSZW5kZXJpbmcgIT09IHVuZGVmaW5lZDtcbiAgaWYgKGFjdGl2ZVJlbmRlcmluZykge1xuICAgIHN0YXRlLmhvc3RzU3RhZ2luZy5hZGQoaG9zdEVsZW1lbnQpO1xuICAgIHJldHVybiBzdGF0ZS5yZW5kZXJQcm9taXNlIS50aGVuKChjdHgpID0+IHtcbiAgICAgIGlmIChzdGF0ZS5ob3N0c05leHQuaGFzKGhvc3RFbGVtZW50KSkge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIHJldHVybiBzdGF0ZS5yZW5kZXJQcm9taXNlITtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjdHg7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUuaG9zdHNOZXh0LmFkZChob3N0RWxlbWVudCk7XG4gICAgcmV0dXJuIHNjaGVkdWxlRnJhbWUoY29udGFpbmVyRWwsIHN0YXRlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVGcmFtZShcbiAgY29udGFpbmVyRWw6IEVsZW1lbnQsXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZVxuKTogUHJvbWlzZTxSZW5kZXJDb250ZXh0PiB7XG4gIGlmIChjb250YWluZXJTdGF0ZS5yZW5kZXJQcm9taXNlID09PSB1bmRlZmluZWQpIHtcbiAgICBjb250YWluZXJTdGF0ZS5yZW5kZXJQcm9taXNlID0gY29udGFpbmVyU3RhdGUucGxhdGZvcm0ubmV4dFRpY2soKCkgPT5cbiAgICAgIHJlbmRlck1hcmtlZChjb250YWluZXJFbCwgY29udGFpbmVyU3RhdGUpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gY29udGFpbmVyU3RhdGUucmVuZGVyUHJvbWlzZTtcbn1cblxuY29uc3QgQ09OVEFJTkVSX1NUQVRFID0gU3ltYm9sKCdDb250YWluZXJTdGF0ZScpO1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lclN0YXRlIHtcbiAgcHJveHlNYXA6IE9ialRvUHJveHlNYXA7XG4gIHN1YnNNYW5hZ2VyOiBTdWJzY3JpcHRpb25NYW5hZ2VyO1xuICBwbGF0Zm9ybTogQ29yZVBsYXRmb3JtO1xuXG4gIHdhdGNoTmV4dDogU2V0PFdhdGNoRGVzY3JpcHRvcj47XG4gIHdhdGNoU3RhZ2luZzogU2V0PFdhdGNoRGVzY3JpcHRvcj47XG5cbiAgaG9zdHNOZXh0OiBTZXQ8RWxlbWVudD47XG4gIGhvc3RzU3RhZ2luZzogU2V0PEVsZW1lbnQ+O1xuICBob3N0c1JlbmRlcmluZzogU2V0PEVsZW1lbnQ+IHwgdW5kZWZpbmVkO1xuICByZW5kZXJQcm9taXNlOiBQcm9taXNlPFJlbmRlckNvbnRleHQ+IHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGFpbmVyU3RhdGUoY29udGFpbmVyRWw6IEVsZW1lbnQpOiBDb250YWluZXJTdGF0ZSB7XG4gIGxldCBzZXQgPSAoY29udGFpbmVyRWwgYXMgYW55KVtDT05UQUlORVJfU1RBVEVdIGFzIENvbnRhaW5lclN0YXRlO1xuICBpZiAoIXNldCkge1xuICAgIChjb250YWluZXJFbCBhcyBhbnkpW0NPTlRBSU5FUl9TVEFURV0gPSBzZXQgPSB7XG4gICAgICBwcm94eU1hcDogbmV3IFdlYWtNYXAoKSxcbiAgICAgIHN1YnNNYW5hZ2VyOiBjcmVhdGVTdWJzY3JpcHRpb25NYW5hZ2VyKCksXG4gICAgICBwbGF0Zm9ybTogZ2V0UGxhdGZvcm0oY29udGFpbmVyRWwpLFxuXG4gICAgICB3YXRjaE5leHQ6IG5ldyBTZXQoKSxcbiAgICAgIHdhdGNoU3RhZ2luZzogbmV3IFNldCgpLFxuXG4gICAgICBob3N0c05leHQ6IG5ldyBTZXQoKSxcbiAgICAgIGhvc3RzU3RhZ2luZzogbmV3IFNldCgpLFxuICAgICAgcmVuZGVyUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgICAgaG9zdHNSZW5kZXJpbmc6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG4gIHJldHVybiBzZXQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW5kZXJNYXJrZWQoXG4gIGNvbnRhaW5lckVsOiBFbGVtZW50LFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGVcbik6IFByb21pc2U8UmVuZGVyQ29udGV4dD4ge1xuICBjb25zdCBob3N0c1JlbmRlcmluZyA9IChjb250YWluZXJTdGF0ZS5ob3N0c1JlbmRlcmluZyA9IG5ldyBTZXQoY29udGFpbmVyU3RhdGUuaG9zdHNOZXh0KSk7XG4gIGNvbnRhaW5lclN0YXRlLmhvc3RzTmV4dC5jbGVhcigpO1xuICBhd2FpdCBleGVjdXRlV2F0Y2hlcyhjb250YWluZXJTdGF0ZSwgKHdhdGNoKSA9PiB7XG4gICAgcmV0dXJuICh3YXRjaC5mICYgV2F0Y2hGbGFncy5Jc1dhdGNoKSAhPT0gMDtcbiAgfSk7XG4gIGNvbnRhaW5lclN0YXRlLmhvc3RzU3RhZ2luZy5mb3JFYWNoKChob3N0KSA9PiB7XG4gICAgaG9zdHNSZW5kZXJpbmcuYWRkKGhvc3QpO1xuICB9KTtcbiAgY29udGFpbmVyU3RhdGUuaG9zdHNTdGFnaW5nLmNsZWFyKCk7XG5cbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoY29udGFpbmVyRWwpO1xuICBjb25zdCBwbGF0Zm9ybSA9IGNvbnRhaW5lclN0YXRlLnBsYXRmb3JtO1xuICBjb25zdCByZW5kZXJpbmdRdWV1ZSA9IEFycmF5LmZyb20oaG9zdHNSZW5kZXJpbmcpO1xuICBzb3J0Tm9kZXMocmVuZGVyaW5nUXVldWUpO1xuXG4gIGNvbnN0IGN0eDogUmVuZGVyQ29udGV4dCA9IHtcbiAgICBkb2MsXG4gICAgY29udGFpbmVyU3RhdGUsXG4gICAgaG9zdEVsZW1lbnRzOiBuZXcgU2V0KCksXG4gICAgb3BlcmF0aW9uczogW10sXG4gICAgcm9vdHM6IFtdLFxuICAgIGNvbnRhaW5lckVsLFxuICAgIGNvbXBvbmVudHM6IFtdLFxuICAgIHBlcmY6IHtcbiAgICAgIHZpc2l0ZWQ6IDAsXG4gICAgICB0aW1pbmc6IFtdLFxuICAgIH0sXG4gIH07XG5cbiAgZm9yIChjb25zdCBlbCBvZiByZW5kZXJpbmdRdWV1ZSkge1xuICAgIGlmICghY3R4Lmhvc3RFbGVtZW50cy5oYXMoZWwpKSB7XG4gICAgICBjdHgucm9vdHMucHVzaChlbCk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCByZW5kZXJDb21wb25lbnQoY3R4LCBnZXRDb250ZXh0KGVsKSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZ0Vycm9yKCdSZW5kZXIgZXJyb3InLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBFYXJseSBleGlzdCwgbm8gZG9tIG9wZXJhdGlvbnNcbiAgaWYgKGN0eC5vcGVyYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgIGlmIChxRGV2KSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICE9IG51bGwpIHtcbiAgICAgICAgcHJpbnRSZW5kZXJTdGF0cyhjdHgpO1xuICAgICAgfVxuICAgIH1cbiAgICBwb3N0UmVuZGVyaW5nKGNvbnRhaW5lckVsLCBjb250YWluZXJTdGF0ZSwgY3R4KTtcbiAgICByZXR1cm4gY3R4O1xuICB9XG5cbiAgcmV0dXJuIHBsYXRmb3JtLnJhZigoKSA9PiB7XG4gICAgZXhlY3V0ZUNvbnRleHRXaXRoU2xvdHMoY3R4KTtcbiAgICBpZiAocURldikge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAhPSBudWxsKSB7XG4gICAgICAgIHByaW50UmVuZGVyU3RhdHMoY3R4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9zdFJlbmRlcmluZyhjb250YWluZXJFbCwgY29udGFpbmVyU3RhdGUsIGN0eCk7XG4gICAgcmV0dXJuIGN0eDtcbiAgfSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHBvc3RSZW5kZXJpbmcoXG4gIGNvbnRhaW5lckVsOiBFbGVtZW50LFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gIGN0eDogUmVuZGVyQ29udGV4dFxuKSB7XG4gIGF3YWl0IGV4ZWN1dGVXYXRjaGVzKGNvbnRhaW5lclN0YXRlLCAod2F0Y2gsIHN0YWdlKSA9PiB7XG4gICAgaWYgKCh3YXRjaC5mICYgV2F0Y2hGbGFncy5Jc0VmZmVjdCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN0YWdlKSB7XG4gICAgICByZXR1cm4gY3R4Lmhvc3RFbGVtZW50cy5oYXMod2F0Y2guZWwpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgLy8gQ2xlYXIgc3RhZ2luZ1xuICBjb250YWluZXJTdGF0ZS5ob3N0c1N0YWdpbmcuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBjb250YWluZXJTdGF0ZS5ob3N0c05leHQuYWRkKGVsKTtcbiAgfSk7XG4gIGNvbnRhaW5lclN0YXRlLmhvc3RzU3RhZ2luZy5jbGVhcigpO1xuXG4gIGNvbnRhaW5lclN0YXRlLmhvc3RzUmVuZGVyaW5nID0gdW5kZWZpbmVkO1xuICBjb250YWluZXJTdGF0ZS5yZW5kZXJQcm9taXNlID0gdW5kZWZpbmVkO1xuXG4gIGlmIChjb250YWluZXJTdGF0ZS5ob3N0c05leHQuc2l6ZSArIGNvbnRhaW5lclN0YXRlLndhdGNoTmV4dC5zaXplID4gMCkge1xuICAgIHNjaGVkdWxlRnJhbWUoY29udGFpbmVyRWwsIGNvbnRhaW5lclN0YXRlKTtcbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBleGVjdXRlV2F0Y2hlcyhcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICB3YXRjaFByZWQ6ICh3YXRjaDogV2F0Y2hEZXNjcmlwdG9yLCBzdGFnaW5nOiBib29sZWFuKSA9PiBib29sZWFuXG4pIHtcbiAgY29uc3Qgd2F0Y2hQcm9taXNlczogVmFsdWVPclByb21pc2U8V2F0Y2hEZXNjcmlwdG9yPltdID0gW107XG5cbiAgY29udGFpbmVyU3RhdGUud2F0Y2hOZXh0LmZvckVhY2goKHdhdGNoKSA9PiB7XG4gICAgaWYgKHdhdGNoUHJlZCh3YXRjaCwgZmFsc2UpKSB7XG4gICAgICB3YXRjaFByb21pc2VzLnB1c2godGhlbih3YXRjaC5xcmwucmVzb2x2ZUlmTmVlZGVkKHdhdGNoLmVsKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIGNvbnRhaW5lclN0YXRlLndhdGNoTmV4dC5kZWxldGUod2F0Y2gpO1xuICAgIH1cbiAgfSk7XG4gIGRvIHtcbiAgICAvLyBSdW4gc3RhZ2luZyBlZmZlY3RlZFxuICAgIGNvbnRhaW5lclN0YXRlLndhdGNoU3RhZ2luZy5mb3JFYWNoKCh3YXRjaCkgPT4ge1xuICAgICAgaWYgKHdhdGNoUHJlZCh3YXRjaCwgdHJ1ZSkpIHtcbiAgICAgICAgd2F0Y2hQcm9taXNlcy5wdXNoKHRoZW4od2F0Y2gucXJsLnJlc29sdmVJZk5lZWRlZCh3YXRjaC5lbCksICgpID0+IHdhdGNoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXJTdGF0ZS53YXRjaE5leHQuYWRkKHdhdGNoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb250YWluZXJTdGF0ZS53YXRjaFN0YWdpbmcuY2xlYXIoKTtcblxuICAgIC8vIFdhaXQgZm9yIGFsbCBwcm9taXNlc1xuICAgIGlmICh3YXRjaFByb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHdhdGNoZXMgPSBhd2FpdCBQcm9taXNlLmFsbCh3YXRjaFByb21pc2VzKTtcbiAgICAgIHNvcnRXYXRjaGVzKHdhdGNoZXMpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHdhdGNoZXMubWFwKCh3YXRjaCkgPT4ge1xuICAgICAgICAgIHJldHVybiBydW5XYXRjaCh3YXRjaCwgY29udGFpbmVyU3RhdGUpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHdhdGNoUHJvbWlzZXMubGVuZ3RoID0gMDtcbiAgICB9XG4gIH0gd2hpbGUgKGNvbnRhaW5lclN0YXRlLndhdGNoU3RhZ2luZy5zaXplID4gMCk7XG59XG5cbmZ1bmN0aW9uIHNvcnROb2RlcyhlbGVtZW50czogRWxlbWVudFtdKSB7XG4gIGVsZW1lbnRzLnNvcnQoKGEsIGIpID0+IChhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpICYgMiA/IDEgOiAtMSkpO1xufVxuXG5mdW5jdGlvbiBzb3J0V2F0Y2hlcyh3YXRjaGVzOiBXYXRjaERlc2NyaXB0b3JbXSkge1xuICB3YXRjaGVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICBpZiAoYS5lbCA9PT0gYi5lbCkge1xuICAgICAgcmV0dXJuIGEuaSA8IGIuaSA/IC0xIDogMTtcbiAgICB9XG4gICAgcmV0dXJuIChhLmVsLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIuZWwpICYgMikgIT09IDAgPyAxIDogLTE7XG4gIH0pO1xufVxuIl19","import { assertEqual } from '../assert/assert';\nimport { QError, qError } from '../error/error';\nimport { isQrl } from '../import/qrl-class';\nimport { getContainerState, notifyRender, scheduleFrame, } from '../render/notify-render';\nimport { getContainer, tryGetInvokeContext } from '../use/use-core';\nimport { isDocument, isElement, isNode } from '../util/element';\nimport { logWarn } from '../util/log';\nimport { qDev, qTest } from '../util/qdev';\nimport { debugStringify } from '../util/stringify';\nimport { WatchFlags } from '../watch/watch.public';\nimport { unwrapSubscriber } from '../use/use-subscriber';\nimport { tryGetContext } from '../props/props';\nimport { RenderEvent } from '../util/markers';\nimport { getProxyTarget } from './store';\nexport function qObject(obj, proxyMap) {\n    assertEqual(unwrapProxy(obj), obj, 'Unexpected proxy at this location');\n    if (obj == null || typeof obj !== 'object') {\n        // TODO(misko): centralize\n        throw new Error(`Q-ERROR: Only objects can be wrapped in 'QObject', got ` + debugStringify(obj));\n    }\n    if (obj.constructor !== Object) {\n        throw new Error(`Q-ERROR: Only objects literals can be wrapped in 'QObject', got ` + debugStringify(obj));\n    }\n    return readWriteProxy(obj, proxyMap);\n}\nexport function _restoreQObject(obj, containerState, subs) {\n    return readWriteProxy(obj, containerState, subs);\n}\n/**\n * Creates a proxy which notifies of any writes.\n */\nexport function readWriteProxy(target, containerState, subs) {\n    if (!target || typeof target !== 'object')\n        return target;\n    const proxyMap = containerState.proxyMap;\n    let proxy = proxyMap.get(target);\n    if (proxy)\n        return proxy;\n    const manager = containerState.subsManager.getLocal(target, subs);\n    proxy = new Proxy(target, new ReadWriteProxyHandler(containerState, manager));\n    proxyMap.set(target, proxy);\n    return proxy;\n}\nexport const QOjectTargetSymbol = ':target:';\nexport const QOjectAllSymbol = ':all:';\nexport const QOjectSubsSymbol = ':subs:';\nexport const QOjectOriginalProxy = ':proxy:';\nexport const SetSubscriber = Symbol('SetSubscriber');\n/**\n * @alpha\n */\nexport function unwrapProxy(proxy) {\n    return getProxyTarget(proxy) ?? proxy;\n}\nexport function wrap(value, containerState) {\n    if (value && typeof value === 'object') {\n        if (isQrl(value)) {\n            return value;\n        }\n        if (Object.isFrozen(value)) {\n            return value;\n        }\n        const nakedValue = unwrapProxy(value);\n        if (nakedValue !== value) {\n            // already a proxy return;\n            return value;\n        }\n        if (isNode(nakedValue)) {\n            return value;\n        }\n        if (!shouldSerialize(nakedValue)) {\n            return value;\n        }\n        if (qDev) {\n            verifySerializable(value);\n        }\n        const proxy = containerState.proxyMap.get(value);\n        return proxy ? proxy : readWriteProxy(value, containerState);\n    }\n    else {\n        return value;\n    }\n}\nexport const createSubscriptionManager = () => {\n    const objToSubs = new Map();\n    const subsToObjs = new Map();\n    function clearSub(sub) {\n        const subs = subsToObjs.get(sub);\n        if (subs) {\n            subs.forEach((s) => {\n                s.delete(sub);\n            });\n            subsToObjs.delete(sub);\n            subs.clear();\n        }\n    }\n    function tryGetLocal(obj) {\n        assertEqual(getProxyTarget(obj), undefined);\n        return objToSubs.get(obj);\n    }\n    function trackSubToObj(subscriber, map) {\n        let set = subsToObjs.get(subscriber);\n        if (!set) {\n            subsToObjs.set(subscriber, (set = new Set()));\n        }\n        set.add(map);\n    }\n    function getLocal(obj, initialMap) {\n        let local = tryGetLocal(obj);\n        if (!local) {\n            const map = !initialMap ? new Map() : initialMap;\n            map.forEach((_, key) => {\n                trackSubToObj(key, map);\n            });\n            objToSubs.set(obj, (local = {\n                subs: map,\n                addSub(subscriber, key) {\n                    if (key == null) {\n                        map.set(subscriber, null);\n                    }\n                    else {\n                        let sub = map.get(subscriber);\n                        if (sub === undefined) {\n                            map.set(subscriber, (sub = new Set()));\n                        }\n                        if (sub) {\n                            sub.add(key);\n                        }\n                    }\n                    trackSubToObj(subscriber, map);\n                },\n                notifySubs(key) {\n                    map.forEach((value, subscriber) => {\n                        if (value === null || !key) {\n                            notifyChange(subscriber);\n                        }\n                        else if (value.has(key)) {\n                            notifyChange(subscriber);\n                        }\n                    });\n                },\n            }));\n        }\n        return local;\n    }\n    return {\n        tryGetLocal,\n        getLocal,\n        clearSub,\n    };\n};\nclass ReadWriteProxyHandler {\n    constructor(containerState, manager) {\n        this.containerState = containerState;\n        this.manager = manager;\n    }\n    get(target, prop) {\n        let subscriber = this.subscriber;\n        this.subscriber = undefined;\n        if (typeof prop === 'symbol') {\n            return target[prop];\n        }\n        if (prop === QOjectTargetSymbol)\n            return target;\n        if (prop === QOjectSubsSymbol)\n            return this.manager.subs;\n        if (prop === QOjectOriginalProxy)\n            return this.containerState.proxyMap.get(target);\n        const invokeCtx = tryGetInvokeContext();\n        if (invokeCtx) {\n            if (invokeCtx.subscriber === null) {\n                subscriber = undefined;\n            }\n            else if (!subscriber) {\n                subscriber = invokeCtx.subscriber;\n            }\n        }\n        else if (qDev && !qTest && !subscriber) {\n            // logWarn(`State assigned outside invocation context. Getting prop \"${prop}\" of:`, target);\n        }\n        if (prop === QOjectAllSymbol) {\n            if (subscriber) {\n                this.manager.addSub(subscriber);\n            }\n            return target;\n        }\n        const value = target[prop];\n        if (typeof prop === 'symbol') {\n            return value;\n        }\n        if (subscriber) {\n            const isArray = Array.isArray(target);\n            this.manager.addSub(subscriber, isArray ? undefined : prop);\n        }\n        return wrap(value, this.containerState);\n    }\n    set(target, prop, newValue) {\n        if (typeof prop === 'symbol') {\n            if (prop === SetSubscriber) {\n                this.subscriber = newValue;\n            }\n            else {\n                target[prop] = newValue;\n            }\n            return true;\n        }\n        const unwrappedNewValue = unwrapProxy(newValue);\n        if (qDev) {\n            verifySerializable(unwrappedNewValue);\n            const invokeCtx = tryGetInvokeContext();\n            if (invokeCtx && invokeCtx.event === RenderEvent) {\n                logWarn('State mutation inside render function. Move mutation to useWatch(), useClientEffect() or useServerMount()', invokeCtx.hostElement, prop);\n            }\n        }\n        const isArray = Array.isArray(target);\n        if (isArray) {\n            target[prop] = unwrappedNewValue;\n            this.manager.notifySubs();\n            return true;\n        }\n        const oldValue = target[prop];\n        if (oldValue !== unwrappedNewValue) {\n            target[prop] = unwrappedNewValue;\n            this.manager.notifySubs(prop);\n        }\n        return true;\n    }\n    has(target, property) {\n        if (property === QOjectTargetSymbol)\n            return true;\n        if (property === QOjectSubsSymbol)\n            return true;\n        return Object.prototype.hasOwnProperty.call(target, property);\n    }\n    ownKeys(target) {\n        let subscriber = this.subscriber;\n        const invokeCtx = tryGetInvokeContext();\n        if (invokeCtx) {\n            if (invokeCtx.subscriber === null) {\n                subscriber = undefined;\n            }\n            else if (!subscriber) {\n                subscriber = invokeCtx.subscriber;\n            }\n        }\n        else if (qDev && !qTest && !subscriber) {\n            // logWarn(`State assigned outside invocation context. OwnKeys of:`, target);\n        }\n        if (subscriber) {\n            this.manager.addSub(subscriber);\n        }\n        return Object.getOwnPropertyNames(target);\n    }\n}\nexport function removeSub(obj, subscriber) {\n    if (obj && typeof obj === 'object') {\n        const subs = obj[QOjectSubsSymbol];\n        if (subs) {\n            subs.delete(subscriber);\n        }\n    }\n}\nexport function notifyChange(subscriber) {\n    if (isElement(subscriber)) {\n        notifyRender(subscriber);\n    }\n    else {\n        notifyWatch(subscriber);\n    }\n}\nexport function notifyWatch(watch) {\n    const containerEl = getContainer(watch.el);\n    const state = getContainerState(containerEl);\n    watch.f |= WatchFlags.IsDirty;\n    const activeRendering = state.hostsRendering !== undefined;\n    if (activeRendering) {\n        state.watchStaging.add(watch);\n    }\n    else {\n        state.watchNext.add(watch);\n        scheduleFrame(containerEl, state);\n    }\n}\nfunction verifySerializable(value) {\n    if (value == null) {\n        return null;\n    }\n    if (shouldSerialize(value)) {\n        const type = typeof value;\n        if (type === 'object') {\n            if (Array.isArray(value))\n                return;\n            if (Object.getPrototypeOf(value) === Object.prototype)\n                return;\n            if (isQrl(value))\n                return;\n            if (isElement(value))\n                return;\n            if (isDocument(value))\n                return;\n        }\n        if (['boolean', 'string', 'number'].includes(type)) {\n            return;\n        }\n        throw qError(QError.TODO, 'Only primitive and object literals can be serialized', value);\n    }\n}\nconst noSerializeSet = /*#__PURE__*/ new WeakSet();\nexport function shouldSerialize(obj) {\n    if (obj !== null && (typeof obj == 'object' || typeof obj === 'function')) {\n        return !noSerializeSet.has(obj);\n    }\n    return true;\n}\n// <docs markdown=\"../readme.md#noSerialize\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#noSerialize instead)\n/**\n * @alpha\n */\n// </docs>\nexport function noSerialize(input) {\n    noSerializeSet.add(input);\n    return input;\n}\n/**\n * @alpha\n */\nexport function immutable(input) {\n    return Object.freeze(input);\n}\n/**\n * @alpha\n */\nexport function mutable(v) {\n    return {\n        [MUTABLE]: true,\n        v: unwrapSubscriber(v),\n    };\n}\nexport function isConnected(sub) {\n    if (isElement(sub)) {\n        return !!tryGetContext(sub) || sub.isConnected;\n    }\n    else {\n        return isConnected(sub.el);\n    }\n}\nconst MUTABLE = Symbol('mutable');\nexport const isMutable = (v) => {\n    return v && typeof v === 'object' && v[MUTABLE] === true;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicS1vYmplY3QuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3Etb2JqZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUM1QyxPQUFPLEVBQ0wsaUJBQWlCLEVBQ2pCLFlBQVksRUFFWixhQUFhLEdBQ2QsTUFBTSx5QkFBeUIsQ0FBQztBQUNqQyxPQUFPLEVBQUUsWUFBWSxFQUFFLG1CQUFtQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDcEUsT0FBTyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN0QyxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUMzQyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbkQsT0FBTyxFQUFtQixVQUFVLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNwRSxPQUFPLEVBQWMsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUNyRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFLekMsTUFBTSxVQUFVLE9BQU8sQ0FBbUIsR0FBTSxFQUFFLFFBQXdCO0lBQ3hFLFdBQVcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLG1DQUFtQyxDQUFDLENBQUM7SUFDeEUsSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUMxQywwQkFBMEI7UUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FDYix5REFBeUQsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQ2hGLENBQUM7S0FDSDtJQUNELElBQUksR0FBRyxDQUFDLFdBQVcsS0FBSyxNQUFNLEVBQUU7UUFDOUIsTUFBTSxJQUFJLEtBQUssQ0FDYixrRUFBa0UsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQ3pGLENBQUM7S0FDSDtJQUNELE9BQU8sY0FBYyxDQUFDLEdBQXdCLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDNUQsQ0FBQztBQUVELE1BQU0sVUFBVSxlQUFlLENBQzdCLEdBQU0sRUFDTixjQUE4QixFQUM5QixJQUErQjtJQUUvQixPQUFPLGNBQWMsQ0FBQyxHQUF3QixFQUFFLGNBQWMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN4RSxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsY0FBYyxDQUM1QixNQUFTLEVBQ1QsY0FBOEIsRUFDOUIsSUFBZ0M7SUFFaEMsSUFBSSxDQUFDLE1BQU0sSUFBSSxPQUFPLE1BQU0sS0FBSyxRQUFRO1FBQUUsT0FBTyxNQUFNLENBQUM7SUFDekQsTUFBTSxRQUFRLEdBQUcsY0FBYyxDQUFDLFFBQVEsQ0FBQztJQUN6QyxJQUFJLEtBQUssR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pDLElBQUksS0FBSztRQUFFLE9BQU8sS0FBSyxDQUFDO0lBRXhCLE1BQU0sT0FBTyxHQUFHLGNBQWMsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsRSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsTUFBTSxFQUFFLElBQUkscUJBQXFCLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQyxDQUFhLENBQUM7SUFDMUYsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDNUIsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsVUFBVSxDQUFDO0FBQzdDLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxPQUFPLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFDO0FBQ3pDLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLFNBQVMsQ0FBQztBQUM3QyxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBRXJEOztHQUVHO0FBQ0gsTUFBTSxVQUFVLFdBQVcsQ0FBSSxLQUFRO0lBQ3JDLE9BQU8sY0FBYyxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQztBQUN4QyxDQUFDO0FBRUQsTUFBTSxVQUFVLElBQUksQ0FBSSxLQUFRLEVBQUUsY0FBOEI7SUFDOUQsSUFBSSxLQUFLLElBQUksT0FBTyxLQUFLLEtBQUssUUFBUSxFQUFFO1FBQ3RDLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ2hCLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDMUIsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELE1BQU0sVUFBVSxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN0QyxJQUFJLFVBQVUsS0FBSyxLQUFLLEVBQUU7WUFDeEIsMEJBQTBCO1lBQzFCLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFDRCxJQUFJLE1BQU0sQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUN0QixPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsSUFBSSxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsRUFBRTtZQUNoQyxPQUFPLEtBQUssQ0FBQztTQUNkO1FBQ0QsSUFBSSxJQUFJLEVBQUU7WUFDUixrQkFBa0IsQ0FBSSxLQUFLLENBQUMsQ0FBQztTQUM5QjtRQUNELE1BQU0sS0FBSyxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ2pELE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxLQUFZLEVBQUUsY0FBYyxDQUFDLENBQUM7S0FDckU7U0FBTTtRQUNMLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7QUFDSCxDQUFDO0FBb0JELE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLEdBQXdCLEVBQUU7SUFDakUsTUFBTSxTQUFTLEdBQXVCLElBQUksR0FBRyxFQUFFLENBQUM7SUFDaEQsTUFBTSxVQUFVLEdBQThCLElBQUksR0FBRyxFQUFFLENBQUM7SUFFeEQsU0FBUyxRQUFRLENBQUMsR0FBZTtRQUMvQixNQUFNLElBQUksR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLElBQUksSUFBSSxFQUFFO1lBQ1IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO2dCQUNqQixDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7U0FDZDtJQUNILENBQUM7SUFFRCxTQUFTLFdBQVcsQ0FBQyxHQUFRO1FBQzNCLFdBQVcsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDNUMsT0FBTyxTQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCxTQUFTLGFBQWEsQ0FBQyxVQUFzQixFQUFFLEdBQWtCO1FBQy9ELElBQUksR0FBRyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNSLFVBQVUsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1NBQy9DO1FBQ0QsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNmLENBQUM7SUFFRCxTQUFTLFFBQVEsQ0FBQyxHQUFRLEVBQUUsVUFBMEI7UUFDcEQsSUFBSSxLQUFLLEdBQUcsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzdCLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDVixNQUFNLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUUsSUFBSSxHQUFHLEVBQW9CLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQztZQUNwRSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsRUFBRSxFQUFFO2dCQUNyQixhQUFhLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQzFCLENBQUMsQ0FBQyxDQUFDO1lBQ0gsU0FBUyxDQUFDLEdBQUcsQ0FDWCxHQUFHLEVBQ0gsQ0FBQyxLQUFLLEdBQUc7Z0JBQ1AsSUFBSSxFQUFFLEdBQUc7Z0JBQ1QsTUFBTSxDQUFDLFVBQXNCLEVBQUUsR0FBWTtvQkFDekMsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO3dCQUNmLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO3FCQUMzQjt5QkFBTTt3QkFDTCxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO3dCQUM5QixJQUFJLEdBQUcsS0FBSyxTQUFTLEVBQUU7NEJBQ3JCLEdBQUcsQ0FBQyxHQUFHLENBQUMsVUFBVSxFQUFFLENBQUMsR0FBRyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO3lCQUN4Qzt3QkFDRCxJQUFJLEdBQUcsRUFBRTs0QkFDUCxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3lCQUNkO3FCQUNGO29CQUNELGFBQWEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ2pDLENBQUM7Z0JBQ0QsVUFBVSxDQUFDLEdBQVk7b0JBQ3JCLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLEVBQUU7d0JBQ2hDLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRTs0QkFDMUIsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO3lCQUMxQjs2QkFBTSxJQUFJLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUU7NEJBQ3pCLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQzt5QkFDMUI7b0JBQ0gsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsQ0FBQzthQUNGLENBQUMsQ0FDSCxDQUFDO1NBQ0g7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxPQUFPO1FBQ0wsV0FBVztRQUNYLFFBQVE7UUFDUixRQUFRO0tBQ1QsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU0scUJBQXFCO0lBRXpCLFlBQW9CLGNBQThCLEVBQVUsT0FBaUM7UUFBekUsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQVUsWUFBTyxHQUFQLE9BQU8sQ0FBMEI7SUFBRyxDQUFDO0lBRWpHLEdBQUcsQ0FBQyxNQUFrQixFQUFFLElBQXFCO1FBQzNDLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDakMsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDNUIsSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7WUFDNUIsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDckI7UUFDRCxJQUFJLElBQUksS0FBSyxrQkFBa0I7WUFBRSxPQUFPLE1BQU0sQ0FBQztRQUMvQyxJQUFJLElBQUksS0FBSyxnQkFBZ0I7WUFBRSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDO1FBQ3hELElBQUksSUFBSSxLQUFLLG1CQUFtQjtZQUFFLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xGLE1BQU0sU0FBUyxHQUFHLG1CQUFtQixFQUFFLENBQUM7UUFDeEMsSUFBSSxTQUFTLEVBQUU7WUFDYixJQUFJLFNBQVMsQ0FBQyxVQUFVLEtBQUssSUFBSSxFQUFFO2dCQUNqQyxVQUFVLEdBQUcsU0FBUyxDQUFDO2FBQ3hCO2lCQUFNLElBQUksQ0FBQyxVQUFVLEVBQUU7Z0JBQ3RCLFVBQVUsR0FBRyxTQUFTLENBQUMsVUFBVSxDQUFDO2FBQ25DO1NBQ0Y7YUFBTSxJQUFJLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUN4Qyw0RkFBNEY7U0FDN0Y7UUFFRCxJQUFJLElBQUksS0FBSyxlQUFlLEVBQUU7WUFDNUIsSUFBSSxVQUFVLEVBQUU7Z0JBQ2QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDakM7WUFDRCxPQUFPLE1BQU0sQ0FBQztTQUNmO1FBRUQsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNCLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1lBQzVCLE9BQU8sS0FBSyxDQUFDO1NBQ2Q7UUFFRCxJQUFJLFVBQVUsRUFBRTtZQUNkLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUM3RDtRQUNELE9BQU8sSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDMUMsQ0FBQztJQUVELEdBQUcsQ0FBQyxNQUFrQixFQUFFLElBQXFCLEVBQUUsUUFBYTtRQUMxRCxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsRUFBRTtZQUM1QixJQUFJLElBQUksS0FBSyxhQUFhLEVBQUU7Z0JBQzFCLElBQUksQ0FBQyxVQUFVLEdBQUcsUUFBUSxDQUFDO2FBQzVCO2lCQUFNO2dCQUNMLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxRQUFRLENBQUM7YUFDekI7WUFDRCxPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsTUFBTSxpQkFBaUIsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDaEQsSUFBSSxJQUFJLEVBQUU7WUFDUixrQkFBa0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1lBQ3RDLE1BQU0sU0FBUyxHQUFHLG1CQUFtQixFQUFFLENBQUM7WUFDeEMsSUFBSSxTQUFTLElBQUksU0FBUyxDQUFDLEtBQUssS0FBSyxXQUFXLEVBQUU7Z0JBQ2hELE9BQU8sQ0FDTCwyR0FBMkcsRUFDM0csU0FBUyxDQUFDLFdBQVcsRUFDckIsSUFBSSxDQUNMLENBQUM7YUFDSDtTQUNGO1FBQ0QsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN0QyxJQUFJLE9BQU8sRUFBRTtZQUNYLE1BQU0sQ0FBQyxJQUFXLENBQUMsR0FBRyxpQkFBaUIsQ0FBQztZQUN4QyxJQUFJLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQzFCLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFFRCxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsSUFBSSxRQUFRLEtBQUssaUJBQWlCLEVBQUU7WUFDbEMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLGlCQUFpQixDQUFDO1lBQ2pDLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQy9CO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsR0FBRyxDQUFDLE1BQWtCLEVBQUUsUUFBeUI7UUFDL0MsSUFBSSxRQUFRLEtBQUssa0JBQWtCO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFDakQsSUFBSSxRQUFRLEtBQUssZ0JBQWdCO1lBQUUsT0FBTyxJQUFJLENBQUM7UUFFL0MsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2hFLENBQUM7SUFFRCxPQUFPLENBQUMsTUFBa0I7UUFDeEIsSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztRQUNqQyxNQUFNLFNBQVMsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO1FBQ3hDLElBQUksU0FBUyxFQUFFO1lBQ2IsSUFBSSxTQUFTLENBQUMsVUFBVSxLQUFLLElBQUksRUFBRTtnQkFDakMsVUFBVSxHQUFHLFNBQVMsQ0FBQzthQUN4QjtpQkFBTSxJQUFJLENBQUMsVUFBVSxFQUFFO2dCQUN0QixVQUFVLEdBQUcsU0FBUyxDQUFDLFVBQVUsQ0FBQzthQUNuQztTQUNGO2FBQU0sSUFBSSxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxVQUFVLEVBQUU7WUFDeEMsNkVBQTZFO1NBQzlFO1FBRUQsSUFBSSxVQUFVLEVBQUU7WUFDZCxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQztTQUNqQztRQUNELE9BQU8sTUFBTSxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzVDLENBQUM7Q0FDRjtBQUVELE1BQU0sVUFBVSxTQUFTLENBQUMsR0FBUSxFQUFFLFVBQWU7SUFDakQsSUFBSSxHQUFHLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1FBQ2xDLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBNkMsQ0FBQztRQUMvRSxJQUFJLElBQUksRUFBRTtZQUNSLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDekI7S0FDRjtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsWUFBWSxDQUFDLFVBQXNCO0lBQ2pELElBQUksU0FBUyxDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBQ3pCLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUMxQjtTQUFNO1FBQ0wsV0FBVyxDQUFDLFVBQTZCLENBQUMsQ0FBQztLQUM1QztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUFDLEtBQXNCO0lBQ2hELE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFFLENBQUM7SUFDNUMsTUFBTSxLQUFLLEdBQUcsaUJBQWlCLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDN0MsS0FBSyxDQUFDLENBQUMsSUFBSSxVQUFVLENBQUMsT0FBTyxDQUFDO0lBRTlCLE1BQU0sZUFBZSxHQUFHLEtBQUssQ0FBQyxjQUFjLEtBQUssU0FBUyxDQUFDO0lBQzNELElBQUksZUFBZSxFQUFFO1FBQ25CLEtBQUssQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQy9CO1NBQU07UUFDTCxLQUFLLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixhQUFhLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ25DO0FBQ0gsQ0FBQztBQUVELFNBQVMsa0JBQWtCLENBQUksS0FBUTtJQUNyQyxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7UUFDakIsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUNELElBQUksZUFBZSxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQzFCLE1BQU0sSUFBSSxHQUFHLE9BQU8sS0FBSyxDQUFDO1FBQzFCLElBQUksSUFBSSxLQUFLLFFBQVEsRUFBRTtZQUNyQixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDO2dCQUFFLE9BQU87WUFDakMsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxLQUFLLE1BQU0sQ0FBQyxTQUFTO2dCQUFFLE9BQU87WUFDOUQsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDO2dCQUFFLE9BQU87WUFDekIsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDO2dCQUFFLE9BQU87WUFDN0IsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDO2dCQUFFLE9BQU87U0FDL0I7UUFDRCxJQUFJLENBQUMsU0FBUyxFQUFFLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDbEQsT0FBTztTQUNSO1FBQ0QsTUFBTSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksRUFBRSxzREFBc0QsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUMxRjtBQUNILENBQUM7QUFFRCxNQUFNLGNBQWMsR0FBRyxhQUFhLENBQUMsSUFBSSxPQUFPLEVBQU8sQ0FBQztBQUV4RCxNQUFNLFVBQVUsZUFBZSxDQUFDLEdBQVE7SUFDdEMsSUFBSSxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksUUFBUSxJQUFJLE9BQU8sR0FBRyxLQUFLLFVBQVUsQ0FBQyxFQUFFO1FBQ3pFLE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2pDO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBT0QsNkNBQTZDO0FBQzdDLHlDQUF5QztBQUN6QywwQ0FBMEM7QUFDMUM7O0dBRUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxVQUFVLFdBQVcsQ0FBZSxLQUFRO0lBQ2hELGNBQWMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUIsT0FBTyxLQUFZLENBQUM7QUFDdEIsQ0FBQztBQUVEOztHQUVHO0FBQ0gsTUFBTSxVQUFVLFNBQVMsQ0FBZSxLQUFRO0lBQzlDLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM5QixDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsT0FBTyxDQUFJLENBQUk7SUFDN0IsT0FBTztRQUNMLENBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSTtRQUNmLENBQUMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7S0FDdkIsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUFDLEdBQWU7SUFDekMsSUFBSSxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDbEIsT0FBTyxDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxXQUFXLENBQUM7S0FDaEQ7U0FBTTtRQUNMLE9BQU8sV0FBVyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUM1QjtBQUNILENBQUM7QUFFRCxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7QUFPbEMsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsQ0FBTSxFQUE0QixFQUFFO0lBQzVELE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxLQUFLLFFBQVEsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssSUFBSSxDQUFDO0FBQzNELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBRRXJyb3IsIHFFcnJvciB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGlzUXJsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQge1xuICBnZXRDb250YWluZXJTdGF0ZSxcbiAgbm90aWZ5UmVuZGVyLFxuICBDb250YWluZXJTdGF0ZSxcbiAgc2NoZWR1bGVGcmFtZSxcbn0gZnJvbSAnLi4vcmVuZGVyL25vdGlmeS1yZW5kZXInO1xuaW1wb3J0IHsgZ2V0Q29udGFpbmVyLCB0cnlHZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGlzRG9jdW1lbnQsIGlzRWxlbWVudCwgaXNOb2RlIH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IGxvZ1dhcm4gfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBxRGV2LCBxVGVzdCB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBkZWJ1Z1N0cmluZ2lmeSB9IGZyb20gJy4uL3V0aWwvc3RyaW5naWZ5JztcbmltcG9ydCB7IFdhdGNoRGVzY3JpcHRvciwgV2F0Y2hGbGFncyB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyLCB1bndyYXBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vdXNlL3VzZS1zdWJzY3JpYmVyJztcbmltcG9ydCB7IHRyeUdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBnZXRQcm94eVRhcmdldCB9IGZyb20gJy4vc3RvcmUnO1xuXG5leHBvcnQgdHlwZSBPYmpUb1Byb3h5TWFwID0gV2Vha01hcDxhbnksIGFueT47XG5leHBvcnQgdHlwZSBRT2JqZWN0PFQgZXh0ZW5kcyB7fT4gPSBUICYgeyBfX2JyYW5kX186ICdRT2JqZWN0JyB9O1xuXG5leHBvcnQgZnVuY3Rpb24gcU9iamVjdDxUIGV4dGVuZHMgT2JqZWN0PihvYmo6IFQsIHByb3h5TWFwOiBDb250YWluZXJTdGF0ZSk6IFQge1xuICBhc3NlcnRFcXVhbCh1bndyYXBQcm94eShvYmopLCBvYmosICdVbmV4cGVjdGVkIHByb3h5IGF0IHRoaXMgbG9jYXRpb24nKTtcbiAgaWYgKG9iaiA9PSBudWxsIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLy8gVE9ETyhtaXNrbyk6IGNlbnRyYWxpemVcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUS1FUlJPUjogT25seSBvYmplY3RzIGNhbiBiZSB3cmFwcGVkIGluICdRT2JqZWN0JywgZ290IGAgKyBkZWJ1Z1N0cmluZ2lmeShvYmopXG4gICAgKTtcbiAgfVxuICBpZiAob2JqLmNvbnN0cnVjdG9yICE9PSBPYmplY3QpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUS1FUlJPUjogT25seSBvYmplY3RzIGxpdGVyYWxzIGNhbiBiZSB3cmFwcGVkIGluICdRT2JqZWN0JywgZ290IGAgKyBkZWJ1Z1N0cmluZ2lmeShvYmopXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVhZFdyaXRlUHJveHkob2JqIGFzIGFueSBhcyBRT2JqZWN0PFQ+LCBwcm94eU1hcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcmVzdG9yZVFPYmplY3Q8VD4oXG4gIG9iajogVCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBzdWJzOiBNYXA8RWxlbWVudCwgU2V0PHN0cmluZz4+XG4pOiBUIHtcbiAgcmV0dXJuIHJlYWRXcml0ZVByb3h5KG9iaiBhcyBhbnkgYXMgUU9iamVjdDxUPiwgY29udGFpbmVyU3RhdGUsIHN1YnMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBwcm94eSB3aGljaCBub3RpZmllcyBvZiBhbnkgd3JpdGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZFdyaXRlUHJveHk8VCBleHRlbmRzIG9iamVjdD4oXG4gIHRhcmdldDogVCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBzdWJzPzogTWFwPEVsZW1lbnQsIFNldDxzdHJpbmc+PlxuKTogVCB7XG4gIGlmICghdGFyZ2V0IHx8IHR5cGVvZiB0YXJnZXQgIT09ICdvYmplY3QnKSByZXR1cm4gdGFyZ2V0O1xuICBjb25zdCBwcm94eU1hcCA9IGNvbnRhaW5lclN0YXRlLnByb3h5TWFwO1xuICBsZXQgcHJveHkgPSBwcm94eU1hcC5nZXQodGFyZ2V0KTtcbiAgaWYgKHByb3h5KSByZXR1cm4gcHJveHk7XG5cbiAgY29uc3QgbWFuYWdlciA9IGNvbnRhaW5lclN0YXRlLnN1YnNNYW5hZ2VyLmdldExvY2FsKHRhcmdldCwgc3Vicyk7XG4gIHByb3h5ID0gbmV3IFByb3h5KHRhcmdldCwgbmV3IFJlYWRXcml0ZVByb3h5SGFuZGxlcihjb250YWluZXJTdGF0ZSwgbWFuYWdlcikpIGFzIGFueSBhcyBUO1xuICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gIHJldHVybiBwcm94eTtcbn1cblxuZXhwb3J0IGNvbnN0IFFPamVjdFRhcmdldFN5bWJvbCA9ICc6dGFyZ2V0Oic7XG5leHBvcnQgY29uc3QgUU9qZWN0QWxsU3ltYm9sID0gJzphbGw6JztcbmV4cG9ydCBjb25zdCBRT2plY3RTdWJzU3ltYm9sID0gJzpzdWJzOic7XG5leHBvcnQgY29uc3QgUU9qZWN0T3JpZ2luYWxQcm94eSA9ICc6cHJveHk6JztcbmV4cG9ydCBjb25zdCBTZXRTdWJzY3JpYmVyID0gU3ltYm9sKCdTZXRTdWJzY3JpYmVyJyk7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bndyYXBQcm94eTxUPihwcm94eTogVCk6IFQge1xuICByZXR1cm4gZ2V0UHJveHlUYXJnZXQocHJveHkpID8/IHByb3h5O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JhcDxUPih2YWx1ZTogVCwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKTogVCB7XG4gIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgaWYgKGlzUXJsKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBuYWtlZFZhbHVlID0gdW53cmFwUHJveHkodmFsdWUpO1xuICAgIGlmIChuYWtlZFZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgLy8gYWxyZWFkeSBhIHByb3h5IHJldHVybjtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzTm9kZShuYWtlZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAoIXNob3VsZFNlcmlhbGl6ZShuYWtlZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAocURldikge1xuICAgICAgdmVyaWZ5U2VyaWFsaXphYmxlPFQ+KHZhbHVlKTtcbiAgICB9XG4gICAgY29uc3QgcHJveHkgPSBjb250YWluZXJTdGF0ZS5wcm94eU1hcC5nZXQodmFsdWUpO1xuICAgIHJldHVybiBwcm94eSA/IHByb3h5IDogcmVhZFdyaXRlUHJveHkodmFsdWUgYXMgYW55LCBjb250YWluZXJTdGF0ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFRhcmdldFR5cGUgPSBSZWNvcmQ8c3RyaW5nIHwgc3ltYm9sLCBhbnk+O1xuXG5leHBvcnQgdHlwZSBTdWJzY3JpYmVyTWFwID0gTWFwPFN1YnNjcmliZXIsIFNldDxzdHJpbmc+IHwgbnVsbD47XG5leHBvcnQgdHlwZSBPYmpUb1N1YnNjcmliZXJNYXAgPSBXZWFrTWFwPGFueSwgTG9jYWxTdWJzY3JpcHRpb25NYW5hZ2VyPjtcbmV4cG9ydCB0eXBlIFN1YnNjcmliZXJUb1N1YnNjcmliZXJNYXAgPSBNYXA8U3Vic2NyaWJlciwgU2V0PFN1YnNjcmliZXJNYXA+PjtcblxuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpcHRpb25NYW5hZ2VyIHtcbiAgdHJ5R2V0TG9jYWwob2JqOiBhbnkpOiBMb2NhbFN1YnNjcmlwdGlvbk1hbmFnZXIgfCB1bmRlZmluZWQ7XG4gIGdldExvY2FsKG9iajogYW55LCBtYXA/OiBTdWJzY3JpYmVyTWFwKTogTG9jYWxTdWJzY3JpcHRpb25NYW5hZ2VyO1xuICBjbGVhclN1YjogKHN1YjogU3Vic2NyaWJlcikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2NhbFN1YnNjcmlwdGlvbk1hbmFnZXIge1xuICBzdWJzOiBTdWJzY3JpYmVyTWFwO1xuICBub3RpZnlTdWJzOiAoa2V5Pzogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICBhZGRTdWI6IChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyLCBrZXk/OiBzdHJpbmcpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTdWJzY3JpcHRpb25NYW5hZ2VyID0gKCk6IFN1YnNjcmlwdGlvbk1hbmFnZXIgPT4ge1xuICBjb25zdCBvYmpUb1N1YnM6IE9ialRvU3Vic2NyaWJlck1hcCA9IG5ldyBNYXAoKTtcbiAgY29uc3Qgc3Vic1RvT2JqczogU3Vic2NyaWJlclRvU3Vic2NyaWJlck1hcCA9IG5ldyBNYXAoKTtcblxuICBmdW5jdGlvbiBjbGVhclN1YihzdWI6IFN1YnNjcmliZXIpIHtcbiAgICBjb25zdCBzdWJzID0gc3Vic1RvT2Jqcy5nZXQoc3ViKTtcbiAgICBpZiAoc3Vicykge1xuICAgICAgc3Vicy5mb3JFYWNoKChzKSA9PiB7XG4gICAgICAgIHMuZGVsZXRlKHN1Yik7XG4gICAgICB9KTtcbiAgICAgIHN1YnNUb09ianMuZGVsZXRlKHN1Yik7XG4gICAgICBzdWJzLmNsZWFyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5R2V0TG9jYWwob2JqOiBhbnkpIHtcbiAgICBhc3NlcnRFcXVhbChnZXRQcm94eVRhcmdldChvYmopLCB1bmRlZmluZWQpO1xuICAgIHJldHVybiBvYmpUb1N1YnMuZ2V0KG9iaik7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFja1N1YlRvT2JqKHN1YnNjcmliZXI6IFN1YnNjcmliZXIsIG1hcDogU3Vic2NyaWJlck1hcCkge1xuICAgIGxldCBzZXQgPSBzdWJzVG9PYmpzLmdldChzdWJzY3JpYmVyKTtcbiAgICBpZiAoIXNldCkge1xuICAgICAgc3Vic1RvT2Jqcy5zZXQoc3Vic2NyaWJlciwgKHNldCA9IG5ldyBTZXQoKSkpO1xuICAgIH1cbiAgICBzZXQuYWRkKG1hcCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMb2NhbChvYmo6IGFueSwgaW5pdGlhbE1hcD86IFN1YnNjcmliZXJNYXApIHtcbiAgICBsZXQgbG9jYWwgPSB0cnlHZXRMb2NhbChvYmopO1xuICAgIGlmICghbG9jYWwpIHtcbiAgICAgIGNvbnN0IG1hcCA9ICFpbml0aWFsTWFwID8gKG5ldyBNYXAoKSBhcyBTdWJzY3JpYmVyTWFwKSA6IGluaXRpYWxNYXA7XG4gICAgICBtYXAuZm9yRWFjaCgoXywga2V5KSA9PiB7XG4gICAgICAgIHRyYWNrU3ViVG9PYmooa2V5LCBtYXApO1xuICAgICAgfSk7XG4gICAgICBvYmpUb1N1YnMuc2V0KFxuICAgICAgICBvYmosXG4gICAgICAgIChsb2NhbCA9IHtcbiAgICAgICAgICBzdWJzOiBtYXAsXG4gICAgICAgICAgYWRkU3ViKHN1YnNjcmliZXI6IFN1YnNjcmliZXIsIGtleT86IHN0cmluZykge1xuICAgICAgICAgICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIG1hcC5zZXQoc3Vic2NyaWJlciwgbnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZXQgc3ViID0gbWFwLmdldChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgaWYgKHN1YiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWFwLnNldChzdWJzY3JpYmVyLCAoc3ViID0gbmV3IFNldCgpKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHN1Yikge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2tTdWJUb09iaihzdWJzY3JpYmVyLCBtYXApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbm90aWZ5U3VicyhrZXk/OiBzdHJpbmcpIHtcbiAgICAgICAgICAgIG1hcC5mb3JFYWNoKCh2YWx1ZSwgc3Vic2NyaWJlcikgPT4ge1xuICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgIWtleSkge1xuICAgICAgICAgICAgICAgIG5vdGlmeUNoYW5nZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZS5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIG5vdGlmeUNoYW5nZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHJ5R2V0TG9jYWwsXG4gICAgZ2V0TG9jYWwsXG4gICAgY2xlYXJTdWIsXG4gIH07XG59O1xuXG5jbGFzcyBSZWFkV3JpdGVQcm94eUhhbmRsZXIgaW1wbGVtZW50cyBQcm94eUhhbmRsZXI8VGFyZ2V0VHlwZT4ge1xuICBwcml2YXRlIHN1YnNjcmliZXI/OiBTdWJzY3JpYmVyO1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSwgcHJpdmF0ZSBtYW5hZ2VyOiBMb2NhbFN1YnNjcmlwdGlvbk1hbmFnZXIpIHt9XG5cbiAgZ2V0KHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYW55IHtcbiAgICBsZXQgc3Vic2NyaWJlciA9IHRoaXMuc3Vic2NyaWJlcjtcbiAgICB0aGlzLnN1YnNjcmliZXIgPSB1bmRlZmluZWQ7XG4gICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICB9XG4gICAgaWYgKHByb3AgPT09IFFPamVjdFRhcmdldFN5bWJvbCkgcmV0dXJuIHRhcmdldDtcbiAgICBpZiAocHJvcCA9PT0gUU9qZWN0U3Vic1N5bWJvbCkgcmV0dXJuIHRoaXMubWFuYWdlci5zdWJzO1xuICAgIGlmIChwcm9wID09PSBRT2plY3RPcmlnaW5hbFByb3h5KSByZXR1cm4gdGhpcy5jb250YWluZXJTdGF0ZS5wcm94eU1hcC5nZXQodGFyZ2V0KTtcbiAgICBjb25zdCBpbnZva2VDdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgaWYgKGludm9rZUN0eCkge1xuICAgICAgaWYgKGludm9rZUN0eC5zdWJzY3JpYmVyID09PSBudWxsKSB7XG4gICAgICAgIHN1YnNjcmliZXIgPSB1bmRlZmluZWQ7XG4gICAgICB9IGVsc2UgaWYgKCFzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIgPSBpbnZva2VDdHguc3Vic2NyaWJlcjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHFEZXYgJiYgIXFUZXN0ICYmICFzdWJzY3JpYmVyKSB7XG4gICAgICAvLyBsb2dXYXJuKGBTdGF0ZSBhc3NpZ25lZCBvdXRzaWRlIGludm9jYXRpb24gY29udGV4dC4gR2V0dGluZyBwcm9wIFwiJHtwcm9wfVwiIG9mOmAsIHRhcmdldCk7XG4gICAgfVxuXG4gICAgaWYgKHByb3AgPT09IFFPamVjdEFsbFN5bWJvbCkge1xuICAgICAgaWYgKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy5tYW5hZ2VyLmFkZFN1YihzdWJzY3JpYmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSh0YXJnZXQpO1xuICAgICAgdGhpcy5tYW5hZ2VyLmFkZFN1YihzdWJzY3JpYmVyLCBpc0FycmF5ID8gdW5kZWZpbmVkIDogcHJvcCk7XG4gICAgfVxuICAgIHJldHVybiB3cmFwKHZhbHVlLCB0aGlzLmNvbnRhaW5lclN0YXRlKTtcbiAgfVxuXG4gIHNldCh0YXJnZXQ6IFRhcmdldFR5cGUsIHByb3A6IHN0cmluZyB8IHN5bWJvbCwgbmV3VmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIGlmIChwcm9wID09PSBTZXRTdWJzY3JpYmVyKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaWJlciA9IG5ld1ZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gbmV3VmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgdW53cmFwcGVkTmV3VmFsdWUgPSB1bndyYXBQcm94eShuZXdWYWx1ZSk7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIHZlcmlmeVNlcmlhbGl6YWJsZSh1bndyYXBwZWROZXdWYWx1ZSk7XG4gICAgICBjb25zdCBpbnZva2VDdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgICBpZiAoaW52b2tlQ3R4ICYmIGludm9rZUN0eC5ldmVudCA9PT0gUmVuZGVyRXZlbnQpIHtcbiAgICAgICAgbG9nV2FybihcbiAgICAgICAgICAnU3RhdGUgbXV0YXRpb24gaW5zaWRlIHJlbmRlciBmdW5jdGlvbi4gTW92ZSBtdXRhdGlvbiB0byB1c2VXYXRjaCgpLCB1c2VDbGllbnRFZmZlY3QoKSBvciB1c2VTZXJ2ZXJNb3VudCgpJyxcbiAgICAgICAgICBpbnZva2VDdHguaG9zdEVsZW1lbnQsXG4gICAgICAgICAgcHJvcFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSh0YXJnZXQpO1xuICAgIGlmIChpc0FycmF5KSB7XG4gICAgICB0YXJnZXRbcHJvcCBhcyBhbnldID0gdW53cmFwcGVkTmV3VmFsdWU7XG4gICAgICB0aGlzLm1hbmFnZXIubm90aWZ5U3VicygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKG9sZFZhbHVlICE9PSB1bndyYXBwZWROZXdWYWx1ZSkge1xuICAgICAgdGFyZ2V0W3Byb3BdID0gdW53cmFwcGVkTmV3VmFsdWU7XG4gICAgICB0aGlzLm1hbmFnZXIubm90aWZ5U3Vicyhwcm9wKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBoYXModGFyZ2V0OiBUYXJnZXRUeXBlLCBwcm9wZXJ0eTogc3RyaW5nIHwgc3ltYm9sKSB7XG4gICAgaWYgKHByb3BlcnR5ID09PSBRT2plY3RUYXJnZXRTeW1ib2wpIHJldHVybiB0cnVlO1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gUU9qZWN0U3Vic1N5bWJvbCkgcmV0dXJuIHRydWU7XG5cbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhcmdldCwgcHJvcGVydHkpO1xuICB9XG5cbiAgb3duS2V5cyh0YXJnZXQ6IFRhcmdldFR5cGUpOiBBcnJheUxpa2U8c3RyaW5nIHwgc3ltYm9sPiB7XG4gICAgbGV0IHN1YnNjcmliZXIgPSB0aGlzLnN1YnNjcmliZXI7XG4gICAgY29uc3QgaW52b2tlQ3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICAgIGlmIChpbnZva2VDdHgpIHtcbiAgICAgIGlmIChpbnZva2VDdHguc3Vic2NyaWJlciA9PT0gbnVsbCkge1xuICAgICAgICBzdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIGlmICghc3Vic2NyaWJlcikge1xuICAgICAgICBzdWJzY3JpYmVyID0gaW52b2tlQ3R4LnN1YnNjcmliZXI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChxRGV2ICYmICFxVGVzdCAmJiAhc3Vic2NyaWJlcikge1xuICAgICAgLy8gbG9nV2FybihgU3RhdGUgYXNzaWduZWQgb3V0c2lkZSBpbnZvY2F0aW9uIGNvbnRleHQuIE93bktleXMgb2Y6YCwgdGFyZ2V0KTtcbiAgICB9XG5cbiAgICBpZiAoc3Vic2NyaWJlcikge1xuICAgICAgdGhpcy5tYW5hZ2VyLmFkZFN1YihzdWJzY3JpYmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVN1YihvYmo6IGFueSwgc3Vic2NyaWJlcjogYW55KSB7XG4gIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCBzdWJzID0gb2JqW1FPamVjdFN1YnNTeW1ib2xdIGFzIE1hcDxTdWJzY3JpYmVyLCBTZXQ8c3RyaW5nPj4gfCB1bmRlZmluZWQ7XG4gICAgaWYgKHN1YnMpIHtcbiAgICAgIHN1YnMuZGVsZXRlKHN1YnNjcmliZXIpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbm90aWZ5Q2hhbmdlKHN1YnNjcmliZXI6IFN1YnNjcmliZXIpIHtcbiAgaWYgKGlzRWxlbWVudChzdWJzY3JpYmVyKSkge1xuICAgIG5vdGlmeVJlbmRlcihzdWJzY3JpYmVyKTtcbiAgfSBlbHNlIHtcbiAgICBub3RpZnlXYXRjaChzdWJzY3JpYmVyIGFzIFdhdGNoRGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vdGlmeVdhdGNoKHdhdGNoOiBXYXRjaERlc2NyaXB0b3IpIHtcbiAgY29uc3QgY29udGFpbmVyRWwgPSBnZXRDb250YWluZXIod2F0Y2guZWwpITtcbiAgY29uc3Qgc3RhdGUgPSBnZXRDb250YWluZXJTdGF0ZShjb250YWluZXJFbCk7XG4gIHdhdGNoLmYgfD0gV2F0Y2hGbGFncy5Jc0RpcnR5O1xuXG4gIGNvbnN0IGFjdGl2ZVJlbmRlcmluZyA9IHN0YXRlLmhvc3RzUmVuZGVyaW5nICE9PSB1bmRlZmluZWQ7XG4gIGlmIChhY3RpdmVSZW5kZXJpbmcpIHtcbiAgICBzdGF0ZS53YXRjaFN0YWdpbmcuYWRkKHdhdGNoKTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS53YXRjaE5leHQuYWRkKHdhdGNoKTtcbiAgICBzY2hlZHVsZUZyYW1lKGNvbnRhaW5lckVsLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmVyaWZ5U2VyaWFsaXphYmxlPFQ+KHZhbHVlOiBUKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHNob3VsZFNlcmlhbGl6ZSh2YWx1ZSkpIHtcbiAgICBjb25zdCB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm47XG4gICAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSA9PT0gT2JqZWN0LnByb3RvdHlwZSkgcmV0dXJuO1xuICAgICAgaWYgKGlzUXJsKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgaWYgKGlzRWxlbWVudCh2YWx1ZSkpIHJldHVybjtcbiAgICAgIGlmIChpc0RvY3VtZW50KHZhbHVlKSkgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoWydib29sZWFuJywgJ3N0cmluZycsICdudW1iZXInXS5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yLlRPRE8sICdPbmx5IHByaW1pdGl2ZSBhbmQgb2JqZWN0IGxpdGVyYWxzIGNhbiBiZSBzZXJpYWxpemVkJywgdmFsdWUpO1xuICB9XG59XG5cbmNvbnN0IG5vU2VyaWFsaXplU2V0ID0gLyojX19QVVJFX18qLyBuZXcgV2Vha1NldDxhbnk+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRTZXJpYWxpemUob2JqOiBhbnkpOiBib29sZWFuIHtcbiAgaWYgKG9iaiAhPT0gbnVsbCAmJiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSkge1xuICAgIHJldHVybiAhbm9TZXJpYWxpemVTZXQuaGFzKG9iaik7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIE5vU2VyaWFsaXplPFQ+ID0gKFQgJiB7IF9fbm9fc2VyaWFsaXplX186IHRydWUgfSkgfCB1bmRlZmluZWQ7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI25vU2VyaWFsaXplXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI25vU2VyaWFsaXplIGluc3RlYWQpXG4vKipcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gbm9TZXJpYWxpemU8VCBleHRlbmRzIHt9PihpbnB1dDogVCk6IE5vU2VyaWFsaXplPFQ+IHtcbiAgbm9TZXJpYWxpemVTZXQuYWRkKGlucHV0KTtcbiAgcmV0dXJuIGlucHV0IGFzIGFueTtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGltbXV0YWJsZTxUIGV4dGVuZHMge30+KGlucHV0OiBUKTogUmVhZG9ubHk8VD4ge1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZShpbnB1dCk7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtdXRhYmxlPFQ+KHY6IFQpOiBNdXRhYmxlV3JhcHBlcjxUPiB7XG4gIHJldHVybiB7XG4gICAgW01VVEFCTEVdOiB0cnVlLFxuICAgIHY6IHVud3JhcFN1YnNjcmliZXIodiksXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Nvbm5lY3RlZChzdWI6IFN1YnNjcmliZXIpOiBib29sZWFuIHtcbiAgaWYgKGlzRWxlbWVudChzdWIpKSB7XG4gICAgcmV0dXJuICEhdHJ5R2V0Q29udGV4dChzdWIpIHx8IHN1Yi5pc0Nvbm5lY3RlZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaXNDb25uZWN0ZWQoc3ViLmVsKTtcbiAgfVxufVxuXG5jb25zdCBNVVRBQkxFID0gU3ltYm9sKCdtdXRhYmxlJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTXV0YWJsZVdyYXBwZXI8VD4ge1xuICBbTVVUQUJMRV06IHRydWU7XG4gIHY6IFQ7XG59XG5cbmV4cG9ydCBjb25zdCBpc011dGFibGUgPSAodjogYW55KTogdiBpcyBNdXRhYmxlV3JhcHBlcjxhbnk+ID0+IHtcbiAgcmV0dXJuIHYgJiYgdHlwZW9mIHYgPT09ICdvYmplY3QnICYmIHZbTVVUQUJMRV0gPT09IHRydWU7XG59O1xuIl19","import { QOjectOriginalProxy, QOjectTargetSymbol, SetSubscriber } from '../object/q-object';\n/**\n * @alpha\n */\nexport function wrapSubscriber(obj, subscriber) {\n    if (obj && typeof obj === 'object') {\n        const target = obj[QOjectTargetSymbol];\n        if (!target) {\n            return obj;\n        }\n        return new Proxy(obj, {\n            get(target, prop) {\n                if (prop === QOjectOriginalProxy) {\n                    return target;\n                }\n                target[SetSubscriber] = subscriber;\n                return target[prop];\n            },\n            ownKeys(target) {\n                target[SetSubscriber] = subscriber;\n                return Reflect.ownKeys(target);\n            },\n        });\n    }\n    return obj;\n}\n/**\n * @alpha\n */\nexport function unwrapSubscriber(obj) {\n    if (obj && typeof obj === 'object') {\n        const proxy = obj[QOjectOriginalProxy];\n        if (proxy) {\n            return proxy;\n        }\n    }\n    return obj;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN1YnNjcmliZXIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1zdWJzY3JpYmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQVE1Rjs7R0FFRztBQUNILE1BQU0sVUFBVSxjQUFjLENBQWUsR0FBTSxFQUFFLFVBQXNCO0lBQ3pFLElBQUksR0FBRyxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUNsQyxNQUFNLE1BQU0sR0FBSSxHQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1gsT0FBTyxHQUFHLENBQUM7U0FDWjtRQUNELE9BQU8sSUFBSSxLQUFLLENBQU0sR0FBRyxFQUFFO1lBQ3pCLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSTtnQkFDZCxJQUFJLElBQUksS0FBSyxtQkFBbUIsRUFBRTtvQkFDaEMsT0FBTyxNQUFNLENBQUM7aUJBQ2Y7Z0JBQ0QsTUFBTSxDQUFDLGFBQWEsQ0FBQyxHQUFHLFVBQVUsQ0FBQztnQkFDbkMsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDdEIsQ0FBQztZQUNELE9BQU8sQ0FBQyxNQUFNO2dCQUNaLE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBRyxVQUFVLENBQUM7Z0JBQ25DLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNqQyxDQUFDO1NBQ0YsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sVUFBVSxnQkFBZ0IsQ0FBZSxHQUFNO0lBQ25ELElBQUksR0FBRyxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtRQUNsQyxNQUFNLEtBQUssR0FBSSxHQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUNoRCxJQUFJLEtBQUssRUFBRTtZQUNULE9BQU8sS0FBSyxDQUFDO1NBQ2Q7S0FDRjtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFFPamVjdE9yaWdpbmFsUHJveHksIFFPamVjdFRhcmdldFN5bWJvbCwgU2V0U3Vic2NyaWJlciB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgdHlwZSB7IFdhdGNoRGVzY3JpcHRvciB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIFN1YnNjcmliZXIgPSBXYXRjaERlc2NyaXB0b3IgfCBFbGVtZW50O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcFN1YnNjcmliZXI8VCBleHRlbmRzIHt9PihvYmo6IFQsIHN1YnNjcmliZXI6IFN1YnNjcmliZXIpIHtcbiAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHRhcmdldCA9IChvYmogYXMgYW55KVtRT2plY3RUYXJnZXRTeW1ib2xdO1xuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb3h5PGFueT4ob2JqLCB7XG4gICAgICBnZXQodGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgIGlmIChwcm9wID09PSBRT2plY3RPcmlnaW5hbFByb3h5KSB7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRbU2V0U3Vic2NyaWJlcl0gPSBzdWJzY3JpYmVyO1xuICAgICAgICByZXR1cm4gdGFyZ2V0W3Byb3BdO1xuICAgICAgfSxcbiAgICAgIG93bktleXModGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldFtTZXRTdWJzY3JpYmVyXSA9IHN1YnNjcmliZXI7XG4gICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcFN1YnNjcmliZXI8VCBleHRlbmRzIHt9PihvYmo6IFQpIHtcbiAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHByb3h5ID0gKG9iaiBhcyBhbnkpW1FPamVjdE9yaWdpbmFsUHJveHldO1xuICAgIGlmIChwcm94eSkge1xuICAgICAgcmV0dXJuIHByb3h5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuIl19","import { EMPTY_ARRAY } from '../util/flyweight';\nimport { isQrl, QRLInternal } from './qrl-class';\nimport { assertEqual } from '../assert/assert';\nimport { getDocument } from '../util/dom';\nimport { logError } from '../util/log';\nimport { then } from '../util/promises';\nimport { getPlatform } from '../platform/platform';\nimport { unwrapSubscriber } from '../use/use-subscriber';\nimport { tryGetInvokeContext } from '../use/use-core';\nlet runtimeSymbolId = 0;\nconst RUNTIME_QRL = '/runtimeQRL';\nconst INLINED_QRL = '/inlinedQRL';\n// https://regexr.com/68v72\nconst EXTRACT_IMPORT_PATH = /\\(\\s*(['\"])([^\\1]+)\\1\\s*\\)/;\n// https://regexr.com/690ds\nconst EXTRACT_SELF_IMPORT = /Promise\\s*\\.\\s*resolve/;\n// https://regexr.com/6a83h\nconst EXTRACT_FILE_NAME = /[\\\\/(]([\\w\\d.\\-_]+\\.(js|ts)x?):/;\nexport function toInternalQRL(qrl) {\n    assertEqual(isQrl(qrl), true);\n    return qrl;\n}\n/**\n * Lazy-load a `QRL` symbol and return the lazy-loaded value.\n *\n * @see `QRL`\n *\n * @param element - Location of the URL to resolve against. This is needed to take `q:base` into\n * account.\n * @param qrl - QRL to load.\n * @returns A resolved QRL value as a Promise.\n */\nexport function qrlImport(element, qrl) {\n    const qrl_ = toInternalQRL(qrl);\n    if (qrl_.symbolRef)\n        return qrl_.symbolRef;\n    if (qrl_.symbolFn) {\n        return (qrl_.symbolRef = qrl_\n            .symbolFn()\n            .then((module) => (qrl_.symbolRef = module[qrl_.symbol])));\n    }\n    else {\n        if (!element) {\n            throw new Error(`QRL '${qrl_.chunk}#${qrl_.symbol || 'default'}' does not have an attached container`);\n        }\n        const symbol = getPlatform(element).importSymbol(element, qrl_.chunk, qrl_.symbol);\n        return (qrl_.symbolRef = then(symbol, (ref) => {\n            return (qrl_.symbolRef = ref);\n        }));\n    }\n}\n// <docs markdown=\"../readme.md#qrl\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#qrl instead)\n/**\n * Used by Qwik Optimizer to point to lazy-loaded resources.\n *\n * This function should be used by the Qwik Optimizer only. The function should not be directly\n * referred to in the source code of the application.\n *\n * @see `QRL`, `$(...)`\n *\n * @param chunkOrFn - Chunk name (or function which is stringified to extract chunk name)\n * @param symbol - Symbol to lazy load\n * @param lexicalScopeCapture - a set of lexically scoped variables to capture.\n * @alpha\n */\n// </docs>\nexport function qrl(chunkOrFn, symbol, lexicalScopeCapture = EMPTY_ARRAY) {\n    let chunk;\n    let symbolFn = null;\n    if (typeof chunkOrFn === 'string') {\n        chunk = chunkOrFn;\n    }\n    else if (typeof chunkOrFn === 'function') {\n        symbolFn = chunkOrFn;\n        let match;\n        const srcCode = String(chunkOrFn);\n        if ((match = srcCode.match(EXTRACT_IMPORT_PATH)) && match[2]) {\n            chunk = match[2];\n        }\n        else if ((match = srcCode.match(EXTRACT_SELF_IMPORT))) {\n            const ref = 'QWIK-SELF';\n            const frames = new Error(ref).stack.split('\\n');\n            const start = frames.findIndex((f) => f.includes(ref));\n            const frame = frames[start + 2];\n            match = frame.match(EXTRACT_FILE_NAME);\n            if (!match) {\n                chunk = 'main';\n            }\n            else {\n                chunk = match[1];\n            }\n        }\n        else {\n            throw new Error('Q-ERROR: Dynamic import not found: ' + srcCode);\n        }\n    }\n    else {\n        throw new Error('Q-ERROR: Unknown type argument: ' + chunkOrFn);\n    }\n    // Unwrap subscribers\n    unwrapLexicalScope(lexicalScopeCapture);\n    const qrl = new QRLInternal(chunk, symbol, null, symbolFn, null, lexicalScopeCapture);\n    const ctx = tryGetInvokeContext();\n    if (ctx && ctx.element) {\n        qrl.setContainer(ctx.element);\n    }\n    return qrl;\n}\nexport function runtimeQrl(symbol, lexicalScopeCapture = EMPTY_ARRAY) {\n    return new QRLInternal(RUNTIME_QRL, 's' + runtimeSymbolId++, symbol, null, null, lexicalScopeCapture);\n}\n/**\n * @alpha\n */\nexport function inlinedQrl(symbol, symbolName, lexicalScopeCapture = EMPTY_ARRAY) {\n    // Unwrap subscribers\n    return new QRLInternal(INLINED_QRL, symbolName, symbol, null, null, unwrapLexicalScope(lexicalScopeCapture));\n}\nfunction unwrapLexicalScope(lexicalScope) {\n    if (Array.isArray(lexicalScope)) {\n        for (let i = 0; i < lexicalScope.length; i++) {\n            lexicalScope[i] = unwrapSubscriber(lexicalScope[i]);\n        }\n    }\n    return lexicalScope;\n}\nexport function stringifyQRL(qrl, opts = {}) {\n    const qrl_ = toInternalQRL(qrl);\n    let symbol = qrl_.symbol;\n    let chunk = qrl_.chunk;\n    const refSymbol = qrl_.refSymbol ?? symbol;\n    const platform = opts.platform;\n    const element = opts.element;\n    if (platform) {\n        const result = platform.chunkForSymbol(refSymbol);\n        if (result) {\n            chunk = result[1];\n            if (!qrl_.refSymbol) {\n                symbol = result[0];\n            }\n        }\n    }\n    const parts = [chunk];\n    if (symbol && symbol !== 'default') {\n        parts.push('#', symbol);\n    }\n    const capture = qrl_.capture;\n    const captureRef = qrl_.captureRef;\n    if (opts.getObjId) {\n        if (captureRef && captureRef.length) {\n            const capture = captureRef.map(opts.getObjId);\n            parts.push(`[${capture.join(' ')}]`);\n        }\n    }\n    else if (capture && capture.length > 0) {\n        parts.push(`[${capture.join(' ')}]`);\n    }\n    const qrlString = parts.join('');\n    if (qrl_.chunk === RUNTIME_QRL && element) {\n        const qrls = element.__qrls__ || (element.__qrls__ = new Set());\n        qrls.add(qrl);\n    }\n    return qrlString;\n}\nexport function qrlToUrl(element, qrl) {\n    return new URL(stringifyQRL(qrl), getDocument(element).baseURI);\n}\n/**\n * `./chunk#symbol|symbol.propA.propB|[captures]\n */\nexport function parseQRL(qrl, el) {\n    const endIdx = qrl.length;\n    const hashIdx = indexOf(qrl, 0, '#');\n    const captureIdx = indexOf(qrl, hashIdx, '[');\n    const chunkEndIdx = Math.min(hashIdx, captureIdx);\n    const chunk = qrl.substring(0, chunkEndIdx);\n    const symbolStartIdx = hashIdx == endIdx ? hashIdx : hashIdx + 1;\n    const symbolEndIdx = captureIdx;\n    const symbol = symbolStartIdx == symbolEndIdx ? 'default' : qrl.substring(symbolStartIdx, symbolEndIdx);\n    const captureStartIdx = captureIdx;\n    const captureEndIdx = endIdx;\n    const capture = captureStartIdx === captureEndIdx\n        ? EMPTY_ARRAY\n        : qrl.substring(captureStartIdx + 1, captureEndIdx - 1).split(' ');\n    if (chunk === RUNTIME_QRL) {\n        logError(`Q-ERROR: '${qrl}' is runtime but no instance found on element.`);\n    }\n    const iQrl = new QRLInternal(chunk, symbol, null, null, capture, null);\n    if (el) {\n        iQrl.setContainer(el);\n    }\n    return iQrl;\n}\nfunction indexOf(text, startIdx, char) {\n    const endIdx = text.length;\n    const charIdx = text.indexOf(char, startIdx == endIdx ? 0 : startIdx);\n    return charIdx == -1 ? endIdx : charIdx;\n}\nexport function toQrlOrError(symbolOrQrl) {\n    if (!isQrl(symbolOrQrl)) {\n        if (typeof symbolOrQrl == 'function' || typeof symbolOrQrl == 'string') {\n            symbolOrQrl = runtimeQrl(symbolOrQrl);\n        }\n        else {\n            // TODO(misko): centralize\n            throw new Error(`Q-ERROR Only 'function's and 'string's are supported.`);\n        }\n    }\n    return symbolOrQrl;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWhELE9BQU8sRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ2pELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUcvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDdkMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3hDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUV0RCxJQUFJLGVBQWUsR0FBRyxDQUFDLENBQUM7QUFDeEIsTUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDO0FBQ2xDLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQztBQUVsQywyQkFBMkI7QUFDM0IsTUFBTSxtQkFBbUIsR0FBRyw0QkFBNEIsQ0FBQztBQUV6RCwyQkFBMkI7QUFDM0IsTUFBTSxtQkFBbUIsR0FBRyx3QkFBd0IsQ0FBQztBQUVyRCwyQkFBMkI7QUFDM0IsTUFBTSxpQkFBaUIsR0FBRyxpQ0FBaUMsQ0FBQztBQUU1RCxNQUFNLFVBQVUsYUFBYSxDQUFJLEdBQVc7SUFDMUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM5QixPQUFPLEdBQXFCLENBQUM7QUFDL0IsQ0FBQztBQUVEOzs7Ozs7Ozs7R0FTRztBQUNILE1BQU0s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QUM7SUFDdkUsSUFBSSxFQUFFLEVBQUU7UUFDTixJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQ3ZCO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDZCxDQUFDO0FBRUQsU0FBUyxPQUFPLENBQUMsSUFBWSxFQUFFLFFBQWdCLEVBQUUsSUFBWTtJQUMzRCxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzNCLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLFFBQVEsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdEUsT0FBTyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQzFDLENBQUM7QUFFRCxNQUFNLFVBQVUsWUFBWSxDQUFJLFdBQXVCO0lBQ3JELElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUU7UUFDdkIsSUFBSSxPQUFPLFdBQVcsSUFBSSxVQUFVLElBQUksT0FBTyxXQUFXLElBQUksUUFBUSxFQUFFO1lBQ3RFLFdBQVcsR0FBRyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDdkM7YUFBTTtZQUNMLDBCQUEwQjtZQUMxQixNQUFNLElBQUksS0FBSyxDQUFDLHVEQUF1RCxDQUFDLENBQUM7U0FDMUU7S0FDRjtJQUNELE9BQU8sV0FBNkIsQ0FBQztBQUN2QyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi91dGlsL2ZseXdlaWdodCc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4vcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBpc1FybCwgUVJMSW50ZXJuYWwgfSBmcm9tICcuL3FybC1jbGFzcyc7XG5pbXBvcnQgeyBhc3NlcnRFcXVhbCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBDb3JlUGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS90eXBlcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGxvZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgdGhlbiB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgZ2V0UGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyB1bndyYXBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vdXNlL3VzZS1zdWJzY3JpYmVyJztcbmltcG9ydCB7IHRyeUdldEludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuXG5sZXQgcnVudGltZVN5bWJvbElkID0gMDtcbmNvbnN0IFJVTlRJTUVfUVJMID0gJy9ydW50aW1lUVJMJztcbmNvbnN0IElOTElORURfUVJMID0gJy9pbmxpbmVkUVJMJztcblxuLy8gaHR0cHM6Ly9yZWdleHIuY29tLzY4djcyXG5jb25zdCBFWFRSQUNUX0lNUE9SVF9QQVRIID0gL1xcKFxccyooWydcIl0pKFteXFwxXSspXFwxXFxzKlxcKS87XG5cbi8vIGh0dHBzOi8vcmVnZXhyLmNvbS82OTBkc1xuY29uc3QgRVhUUkFDVF9TRUxGX0lNUE9SVCA9IC9Qcm9taXNlXFxzKlxcLlxccypyZXNvbHZlLztcblxuLy8gaHR0cHM6Ly9yZWdleHIuY29tLzZhODNoXG5jb25zdCBFWFRSQUNUX0ZJTEVfTkFNRSA9IC9bXFxcXC8oXShbXFx3XFxkLlxcLV9dK1xcLihqc3x0cyl4Pyk6LztcblxuZXhwb3J0IGZ1bmN0aW9uIHRvSW50ZXJuYWxRUkw8VD4ocXJsOiBRUkw8VD4pOiBRUkxJbnRlcm5hbDxUPiB7XG4gIGFzc2VydEVxdWFsKGlzUXJsKHFybCksIHRydWUpO1xuICByZXR1cm4gcXJsIGFzIFFSTEludGVybmFsPFQ+O1xufVxuXG4vKipcbiAqIExhenktbG9hZCBhIGBRUkxgIHN5bWJvbCBhbmQgcmV0dXJuIHRoZSBsYXp5LWxvYWRlZCB2YWx1ZS5cbiAqXG4gKiBAc2VlIGBRUkxgXG4gKlxuICogQHBhcmFtIGVsZW1lbnQgLSBMb2NhdGlvbiBvZiB0aGUgVVJMIHRvIHJlc29sdmUgYWdhaW5zdC4gVGhpcyBpcyBuZWVkZWQgdG8gdGFrZSBgcTpiYXNlYCBpbnRvXG4gKiBhY2NvdW50LlxuICogQHBhcmFtIHFybCAtIFFSTCB0byBsb2FkLlxuICogQHJldHVybnMgQSByZXNvbHZlZCBRUkwgdmFsdWUgYXMgYSBQcm9taXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXJsSW1wb3J0PFQ+KGVsZW1lbnQ6IEVsZW1lbnQgfCB1bmRlZmluZWQsIHFybDogUVJMPFQ+KTogVmFsdWVPclByb21pc2U8VD4ge1xuICBjb25zdCBxcmxfID0gdG9JbnRlcm5hbFFSTChxcmwpO1xuICBpZiAocXJsXy5zeW1ib2xSZWYpIHJldHVybiBxcmxfLnN5bWJvbFJlZjtcbiAgaWYgKHFybF8uc3ltYm9sRm4pIHtcbiAgICByZXR1cm4gKHFybF8uc3ltYm9sUmVmID0gcXJsX1xuICAgICAgLnN5bWJvbEZuKClcbiAgICAgIC50aGVuKChtb2R1bGUpID0+IChxcmxfLnN5bWJvbFJlZiA9IG1vZHVsZVtxcmxfLnN5bWJvbF0pKSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBRUkwgJyR7cXJsXy5jaHVua30jJHtxcmxfLnN5bWJvbCB8fCAnZGVmYXVsdCd9JyBkb2VzIG5vdCBoYXZlIGFuIGF0dGFjaGVkIGNvbnRhaW5lcmBcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHN5bWJvbCA9IGdldFBsYXRmb3JtKGVsZW1lbnQpLmltcG9ydFN5bWJvbChlbGVtZW50LCBxcmxfLmNodW5rLCBxcmxfLnN5bWJvbCk7XG4gICAgcmV0dXJuIChxcmxfLnN5bWJvbFJlZiA9IHRoZW4oc3ltYm9sLCAocmVmKSA9PiB7XG4gICAgICByZXR1cm4gKHFybF8uc3ltYm9sUmVmID0gcmVmKTtcbiAgICB9KSk7XG4gIH1cbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjcXJsXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3FybCBpbnN0ZWFkKVxuLyoqXG4gKiBVc2VkIGJ5IFF3aWsgT3B0aW1pemVyIHRvIHBvaW50IHRvIGxhenktbG9hZGVkIHJlc291cmNlcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSB1c2VkIGJ5IHRoZSBRd2lrIE9wdGltaXplciBvbmx5LiBUaGUgZnVuY3Rpb24gc2hvdWxkIG5vdCBiZSBkaXJlY3RseVxuICogcmVmZXJyZWQgdG8gaW4gdGhlIHNvdXJjZSBjb2RlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAc2VlIGBRUkxgLCBgJCguLi4pYFxuICpcbiAqIEBwYXJhbSBjaHVua09yRm4gLSBDaHVuayBuYW1lIChvciBmdW5jdGlvbiB3aGljaCBpcyBzdHJpbmdpZmllZCB0byBleHRyYWN0IGNodW5rIG5hbWUpXG4gKiBAcGFyYW0gc3ltYm9sIC0gU3ltYm9sIHRvIGxhenkgbG9hZFxuICogQHBhcmFtIGxleGljYWxTY29wZUNhcHR1cmUgLSBhIHNldCBvZiBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcyB0byBjYXB0dXJlLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiBxcmw8VCA9IGFueT4oXG4gIGNodW5rT3JGbjogc3RyaW5nIHwgKCgpID0+IFByb21pc2U8YW55PiksXG4gIHN5bWJvbDogc3RyaW5nLFxuICBsZXhpY2FsU2NvcGVDYXB0dXJlOiBhbnlbXSB8IG51bGwgPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+IHtcbiAgbGV0IGNodW5rOiBzdHJpbmc7XG4gIGxldCBzeW1ib2xGbjogbnVsbCB8ICgoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT4+KSA9IG51bGw7XG4gIGlmICh0eXBlb2YgY2h1bmtPckZuID09PSAnc3RyaW5nJykge1xuICAgIGNodW5rID0gY2h1bmtPckZuO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaHVua09yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICBzeW1ib2xGbiA9IGNodW5rT3JGbjtcbiAgICBsZXQgbWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkgfCBudWxsO1xuICAgIGNvbnN0IHNyY0NvZGUgPSBTdHJpbmcoY2h1bmtPckZuKTtcbiAgICBpZiAoKG1hdGNoID0gc3JjQ29kZS5tYXRjaChFWFRSQUNUX0lNUE9SVF9QQVRIKSkgJiYgbWF0Y2hbMl0pIHtcbiAgICAgIGNodW5rID0gbWF0Y2hbMl07XG4gICAgfSBlbHNlIGlmICgobWF0Y2ggPSBzcmNDb2RlLm1hdGNoKEVYVFJBQ1RfU0VMRl9JTVBPUlQpKSkge1xuICAgICAgY29uc3QgcmVmID0gJ1FXSUstU0VMRic7XG4gICAgICBjb25zdCBmcmFtZXMgPSBuZXcgRXJyb3IocmVmKS5zdGFjayEuc3BsaXQoJ1xcbicpO1xuICAgICAgY29uc3Qgc3RhcnQgPSBmcmFtZXMuZmluZEluZGV4KChmKSA9PiBmLmluY2x1ZGVzKHJlZikpO1xuICAgICAgY29uc3QgZnJhbWUgPSBmcmFtZXNbc3RhcnQgKyAyXTtcbiAgICAgIG1hdGNoID0gZnJhbWUubWF0Y2goRVhUUkFDVF9GSUxFX05BTUUpO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICBjaHVuayA9ICdtYWluJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNodW5rID0gbWF0Y2hbMV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUS1FUlJPUjogRHluYW1pYyBpbXBvcnQgbm90IGZvdW5kOiAnICsgc3JjQ29kZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignUS1FUlJPUjogVW5rbm93biB0eXBlIGFyZ3VtZW50OiAnICsgY2h1bmtPckZuKTtcbiAgfVxuXG4gIC8vIFVud3JhcCBzdWJzY3JpYmVyc1xuICB1bndyYXBMZXhpY2FsU2NvcGUobGV4aWNhbFNjb3BlQ2FwdHVyZSk7XG4gIGNvbnN0IHFybCA9IG5ldyBRUkxJbnRlcm5hbDxUPihjaHVuaywgc3ltYm9sLCBudWxsLCBzeW1ib2xGbiwgbnVsbCwgbGV4aWNhbFNjb3BlQ2FwdHVyZSk7XG4gIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKGN0eCAmJiBjdHguZWxlbWVudCkge1xuICAgIHFybC5zZXRDb250YWluZXIoY3R4LmVsZW1lbnQpO1xuICB9XG4gIHJldHVybiBxcmw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydW50aW1lUXJsPFQ+KHN5bWJvbDogVCwgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWSk6IFFSTDxUPiB7XG4gIHJldHVybiBuZXcgUVJMSW50ZXJuYWw8VD4oXG4gICAgUlVOVElNRV9RUkwsXG4gICAgJ3MnICsgcnVudGltZVN5bWJvbElkKyssXG4gICAgc3ltYm9sLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBsZXhpY2FsU2NvcGVDYXB0dXJlXG4gICk7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmxpbmVkUXJsPFQ+KFxuICBzeW1ib2w6IFQsXG4gIHN5bWJvbE5hbWU6IHN0cmluZyxcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+IHtcbiAgLy8gVW53cmFwIHN1YnNjcmliZXJzXG4gIHJldHVybiBuZXcgUVJMSW50ZXJuYWw8VD4oXG4gICAgSU5MSU5FRF9RUkwsXG4gICAgc3ltYm9sTmFtZSxcbiAgICBzeW1ib2wsXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIHVud3JhcExleGljYWxTY29wZShsZXhpY2FsU2NvcGVDYXB0dXJlKVxuICApO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMZXhpY2FsU2NvcGUobGV4aWNhbFNjb3BlOiBhbnlbXSB8IG51bGwpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobGV4aWNhbFNjb3BlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGV4aWNhbFNjb3BlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXhpY2FsU2NvcGVbaV0gPSB1bndyYXBTdWJzY3JpYmVyKGxleGljYWxTY29wZVtpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBsZXhpY2FsU2NvcGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUVJMU2VyaWFsaXplT3B0aW9ucyB7XG4gIHBsYXRmb3JtPzogQ29yZVBsYXRmb3JtO1xuICBlbGVtZW50PzogRWxlbWVudDtcbiAgZ2V0T2JqSWQ/OiAob2JqOiBhbnkpID0+IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlRUkwocXJsOiBRUkwsIG9wdHM6IFFSTFNlcmlhbGl6ZU9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBxcmxfID0gdG9JbnRlcm5hbFFSTChxcmwpO1xuICBsZXQgc3ltYm9sID0gcXJsXy5zeW1ib2w7XG4gIGxldCBjaHVuayA9IHFybF8uY2h1bms7XG4gIGNvbnN0IHJlZlN5bWJvbCA9IHFybF8ucmVmU3ltYm9sID8/IHN5bWJvbDtcbiAgY29uc3QgcGxhdGZvcm0gPSBvcHRzLnBsYXRmb3JtO1xuICBjb25zdCBlbGVtZW50ID0gb3B0cy5lbGVtZW50O1xuICBpZiAocGxhdGZvcm0pIHtcbiAgICBjb25zdCByZXN1bHQgPSBwbGF0Zm9ybS5jaHVua0ZvclN5bWJvbChyZWZTeW1ib2wpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNodW5rID0gcmVzdWx0WzFdO1xuICAgICAgaWYgKCFxcmxfLnJlZlN5bWJvbCkge1xuICAgICAgICBzeW1ib2wgPSByZXN1bHRbMF07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtjaHVua107XG4gIGlmIChzeW1ib2wgJiYgc3ltYm9sICE9PSAnZGVmYXVsdCcpIHtcbiAgICBwYXJ0cy5wdXNoKCcjJywgc3ltYm9sKTtcbiAgfVxuICBjb25zdCBjYXB0dXJlID0gcXJsXy5jYXB0dXJlO1xuICBjb25zdCBjYXB0dXJlUmVmID0gcXJsXy5jYXB0dXJlUmVmO1xuICBpZiAob3B0cy5nZXRPYmpJZCkge1xuICAgIGlmIChjYXB0dXJlUmVmICYmIGNhcHR1cmVSZWYubGVuZ3RoKSB7XG4gICAgICBjb25zdCBjYXB0dXJlID0gY2FwdHVyZVJlZi5tYXAob3B0cy5nZXRPYmpJZCk7XG4gICAgICBwYXJ0cy5wdXNoKGBbJHtjYXB0dXJlLmpvaW4oJyAnKX1dYCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGNhcHR1cmUgJiYgY2FwdHVyZS5sZW5ndGggPiAwKSB7XG4gICAgcGFydHMucHVzaChgWyR7Y2FwdHVyZS5qb2luKCcgJyl9XWApO1xuICB9XG4gIGNvbnN0IHFybFN0cmluZyA9IHBhcnRzLmpvaW4oJycpO1xuICBpZiAocXJsXy5jaHVuayA9PT0gUlVOVElNRV9RUkwgJiYgZWxlbWVudCkge1xuICAgIGNvbnN0IHFybHM6IFNldDxRUkw+ID0gKGVsZW1lbnQgYXMgYW55KS5fX3FybHNfXyB8fCAoKGVsZW1lbnQgYXMgYW55KS5fX3FybHNfXyA9IG5ldyBTZXQoKSk7XG4gICAgcXJscy5hZGQocXJsKTtcbiAgfVxuICByZXR1cm4gcXJsU3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcXJsVG9VcmwoZWxlbWVudDogRWxlbWVudCwgcXJsOiBRUkwpOiBVUkwge1xuICByZXR1cm4gbmV3IFVSTChzdHJpbmdpZnlRUkwocXJsKSwgZ2V0RG9jdW1lbnQoZWxlbWVudCkuYmFzZVVSSSk7XG59XG5cbi8qKlxuICogYC4vY2h1bmsjc3ltYm9sfHN5bWJvbC5wcm9wQS5wcm9wQnxbY2FwdHVyZXNdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVFSTChxcmw6IHN0cmluZywgZWw/OiBFbGVtZW50KTogUVJMSW50ZXJuYWwge1xuICBjb25zdCBlbmRJZHggPSBxcmwubGVuZ3RoO1xuICBjb25zdCBoYXNoSWR4ID0gaW5kZXhPZihxcmwsIDAsICcjJyk7XG4gIGNvbnN0IGNhcHR1cmVJZHggPSBpbmRleE9mKHFybCwgaGFzaElkeCwgJ1snKTtcblxuICBjb25zdCBjaHVua0VuZElkeCA9IE1hdGgubWluKGhhc2hJZHgsIGNhcHR1cmVJZHgpO1xuICBjb25zdCBjaHVuayA9IHFybC5zdWJzdHJpbmcoMCwgY2h1bmtFbmRJZHgpO1xuXG4gIGNvbnN0IHN5bWJvbFN0YXJ0SWR4ID0gaGFzaElkeCA9PSBlbmRJZHggPyBoYXNoSWR4IDogaGFzaElkeCArIDE7XG4gIGNvbnN0IHN5bWJvbEVuZElkeCA9IGNhcHR1cmVJZHg7XG4gIGNvbnN0IHN5bWJvbCA9XG4gICAgc3ltYm9sU3RhcnRJZHggPT0gc3ltYm9sRW5kSWR4ID8gJ2RlZmF1bHQnIDogcXJsLnN1YnN0cmluZyhzeW1ib2xTdGFydElkeCwgc3ltYm9sRW5kSWR4KTtcblxuICBjb25zdCBjYXB0dXJlU3RhcnRJZHggPSBjYXB0dXJlSWR4O1xuICBjb25zdCBjYXB0dXJlRW5kSWR4ID0gZW5kSWR4O1xuICBjb25zdCBjYXB0dXJlID1cbiAgICBjYXB0dXJlU3RhcnRJZHggPT09IGNhcHR1cmVFbmRJZHhcbiAgICAgID8gRU1QVFlfQVJSQVlcbiAgICAgIDogcXJsLnN1YnN0cmluZyhjYXB0dXJlU3RhcnRJZHggKyAxLCBjYXB0dXJlRW5kSWR4IC0gMSkuc3BsaXQoJyAnKTtcblxuICBpZiAoY2h1bmsgPT09IFJVTlRJTUVfUVJMKSB7XG4gICAgbG9nRXJyb3IoYFEtRVJST1I6ICcke3FybH0nIGlzIHJ1bnRpbWUgYnV0IG5vIGluc3RhbmNlIGZvdW5kIG9uIGVsZW1lbnQuYCk7XG4gIH1cbiAgY29uc3QgaVFybCA9IG5ldyBRUkxJbnRlcm5hbChjaHVuaywgc3ltYm9sLCBudWxsLCBudWxsLCBjYXB0dXJlLCBudWxsKTtcbiAgaWYgKGVsKSB7XG4gICAgaVFybC5zZXRDb250YWluZXIoZWwpO1xuICB9XG4gIHJldHVybiBpUXJsO1xufVxuXG5mdW5jdGlvbiBpbmRleE9mKHRleHQ6IHN0cmluZywgc3RhcnRJZHg6IG51bWJlciwgY2hhcjogc3RyaW5nKSB7XG4gIGNvbnN0IGVuZElkeCA9IHRleHQubGVuZ3RoO1xuICBjb25zdCBjaGFySWR4ID0gdGV4dC5pbmRleE9mKGNoYXIsIHN0YXJ0SWR4ID09IGVuZElkeCA/IDAgOiBzdGFydElkeCk7XG4gIHJldHVybiBjaGFySWR4ID09IC0xID8gZW5kSWR4IDogY2hhcklkeDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUXJsT3JFcnJvcjxUPihzeW1ib2xPclFybDogVCB8IFFSTDxUPik6IFFSTEludGVybmFsPFQ+IHtcbiAgaWYgKCFpc1FybChzeW1ib2xPclFybCkpIHtcbiAgICBpZiAodHlwZW9mIHN5bWJvbE9yUXJsID09ICdmdW5jdGlvbicgfHwgdHlwZW9mIHN5bWJvbE9yUXJsID09ICdzdHJpbmcnKSB7XG4gICAgICBzeW1ib2xPclFybCA9IHJ1bnRpbWVRcmwoc3ltYm9sT3JRcmwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBUT0RPKG1pc2tvKTogY2VudHJhbGl6ZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBRLUVSUk9SIE9ubHkgJ2Z1bmN0aW9uJ3MgYW5kICdzdHJpbmcncyBhcmUgc3VwcG9ydGVkLmApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3ltYm9sT3JRcmwgYXMgUVJMSW50ZXJuYWw8VD47XG59XG4iXX0=","import { toQrlOrError } from '../import/qrl';\nimport { $, implicit$FirstArg } from '../import/qrl.public';\nimport { qPropWriteQRL } from '../props/props-on';\nimport { useWaitOn } from '../use/use-core';\nimport { useHostElement } from '../use/use-host-element.public';\nimport { ComponentScopedStyles, OnRenderProp } from '../util/markers';\nimport { styleKey } from './qrl-styles';\nimport { getContext } from '../props/props';\nimport { jsx } from '../render/jsx/jsx-runtime';\nimport { useSequentialScope } from '../use/use-store.public';\nimport { WatchFlags } from '../watch/watch.public';\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * Can be used to release resouces, abort network requets, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resouces, abort network requets, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport function useCleanupQrl(unmountFn) {\n    const [watch, setWatch, i] = useSequentialScope();\n    if (!watch) {\n        const el = useHostElement();\n        const watch = {\n            qrl: unmountFn,\n            el,\n            f: WatchFlags.IsCleanup,\n            i,\n        };\n        setWatch(true);\n        getContext(el).watches.push(watch);\n    }\n}\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * Can be used to release resouces, abort network requets, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resouces, abort network requets, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useCleanup$ = implicit$FirstArg(useCleanupQrl);\n// <docs markdown=\"../readme.md#useResume\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResume instead)\n/**\n * A lazy-loadable reference to a component's on resume hook.\n *\n * The hook is eagerly invoked when the application resumes on the client. Because it is called\n * eagerly, this allows the component to resume even if no user interaction has taken place.\n *\n * Only called in the client.\n * Only called once.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useResume$(() => {\n *     // Eagerly invoked when the application resumes on the client\n *     console.log('called once in client');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @see `useVisible`, `useClientEffect`\n *\n * @alpha\n */\n// </docs>\nexport function useResumeQrl(resumeFn) {\n    useOn('qinit', resumeFn);\n}\n// <docs markdown=\"../readme.md#useResume\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useResume instead)\n/**\n * A lazy-loadable reference to a component's on resume hook.\n *\n * The hook is eagerly invoked when the application resumes on the client. Because it is called\n * eagerly, this allows the component to resume even if no user interaction has taken place.\n *\n * Only called in the client.\n * Only called once.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useResume$(() => {\n *     // Eagerly invoked when the application resumes on the client\n *     console.log('called once in client');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @see `useVisible`, `useClientEffect`\n *\n * @alpha\n */\n// </docs>\nexport const useResume$ = implicit$FirstArg(useResumeQrl);\n// <docs markdown=\"../readme.md#useVisible\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useVisible instead)\n/**\n * A lazy-loadable reference to a component's on visible hook.\n *\n * The hook is lazily invoked when the component becomes visible in the browser viewport.\n *\n * Only called in the client.\n * Only called once.\n *\n * @see `useResume`, `useClientEffect`\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     isVisible: false,\n *   });\n *   useVisible$(() => {\n *     // Invoked once when the component is visible in the browser's viewport\n *     console.log('called once in client when visible');\n *     store.isVisible = true;\n *   });\n *   return <div>{store.isVisible}</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport function useVisibleQrl(resumeFn) {\n    useOn('qvisible', resumeFn);\n}\n// <docs markdown=\"../readme.md#useVisible\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useVisible instead)\n/**\n * A lazy-loadable reference to a component's on visible hook.\n *\n * The hook is lazily invoked when the component becomes visible in the browser viewport.\n *\n * Only called in the client.\n * Only called once.\n *\n * @see `useResume`, `useClientEffect`\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     isVisible: false,\n *   });\n *   useVisible$(() => {\n *     // Invoked once when the component is visible in the browser's viewport\n *     console.log('called once in client when visible');\n *     store.isVisible = true;\n *   });\n *   return <div>{store.isVisible}</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useVisible$ = implicit$FirstArg(useVisibleQrl);\n// <docs markdown=\"../readme.md#useOn\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOn instead)\n/**\n * Register a listener on the current component's host element.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX. Otherwise it's adding a JSX listener in the `<Host>` is a better idea.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * @alpha\n */\n// </docs>\nexport function useOn(event, eventFn) {\n    const el = useHostElement();\n    const ctx = getContext(el);\n    qPropWriteQRL(undefined, ctx, `on:${event}`, eventFn);\n}\n// <docs markdown=\"../readme.md#useOnDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnDocument instead)\n/**\n * Register a listener on `document`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useScroll() {\n *   useOnDocument(\n *     'scroll',\n *     $(() => {\n *       console.log('body scrolled');\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useScroll();\n *   return <Host>Profit!</Host>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport function useOnDocument(event, eventQrl) {\n    const el = useHostElement();\n    const ctx = getContext(el);\n    qPropWriteQRL(undefined, ctx, `on-document:${event}`, eventQrl);\n}\n// <docs markdown=\"../readme.md#useOnWindow\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnWindow instead)\n/**\n * Register a listener on `window`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useAnalytics() {\n *   useOnWindow(\n *     'popstate',\n *     $(() => {\n *       console.log('navigation happened');\n *       // report to analytics\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useAnalytics();\n *   return <Host>Profit!</Host>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport function useOnWindow(event, eventFn) {\n    const el = useHostElement();\n    const ctx = getContext(el);\n    qPropWriteQRL(undefined, ctx, `on-window:${event}`, eventFn);\n}\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <Host>Some text</Host>;\n * });\n * ```\n *\n * @see `useScopedStyles`.\n *\n * @public\n */\n// </docs>\nexport function useStylesQrl(styles) {\n    _useStyles(styles, false);\n}\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <Host>Some text</Host>;\n * });\n * ```\n *\n * @see `useScopedStyles`.\n *\n * @public\n */\n// </docs>\nexport const useStyles$ = implicit$FirstArg(useStylesQrl);\n// <docs markdown=\"../readme.md#useScopedStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useScopedStyles instead)\n/**\n * @see `useStyles`.\n *\n * @alpha\n */\n// </docs>\nexport function useScopedStylesQrl(styles) {\n    _useStyles(styles, true);\n}\n// <docs markdown=\"../readme.md#useScopedStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useScopedStyles instead)\n/**\n * @see `useStyles`.\n *\n * @alpha\n */\n// </docs>\nexport const useScopedStyles$ = implicit$FirstArg(useScopedStylesQrl);\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`, `useScopedStyles`\n *\n * @public\n */\n// </docs>\nexport function componentQrl(onRenderQrl, options = {}) {\n    const tagName = options.tagName ?? 'div';\n    // Return a QComponent Factory function.\n    return function QSimpleComponent(props, key) {\n        const finalKey = onRenderQrl.getCanonicalSymbol() + ':' + (key ? key : '');\n        return jsx(tagName, { [OnRenderProp]: onRenderQrl, ...props }, finalKey);\n    };\n}\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`, `useScopedStyles`\n *\n * @public\n */\n// </docs>\nexport function component$(onMount, options) {\n    return componentQrl($(onMount), options);\n}\nfunction _useStyles(styles, scoped) {\n    const [style, setStyle] = useSequentialScope();\n    if (style === true) {\n        return;\n    }\n    setStyle(true);\n    const styleQrl = toQrlOrError(styles);\n    const styleId = styleKey(styleQrl);\n    const hostElement = useHostElement();\n    if (scoped) {\n        hostElement.setAttribute(ComponentScopedStyles, styleId);\n    }\n    useWaitOn(styleQrl.resolve(hostElement).then((styleText) => {\n        const task = {\n            type: 'style',\n            styleId,\n            content: scoped ? styleText.replace(/�/g, styleId) : styleText,\n        };\n        return task;\n    }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvY29tcG9uZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzdDLE9BQU8sRUFBRSxDQUFDLEVBQUUsaUJBQWlCLEVBQU8sTUFBTSxzQkFBc0IsQ0FBQztBQUNqRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFbEQsT0FBTyxFQUFlLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNoRSxPQUFPLEVBQUUscUJBQXFCLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUd4QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFNUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzdELE9BQU8sRUFBbUIsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFHcEUsNENBQTRDO0FBQzVDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBb0JHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sVUFBVSxhQUFhLENBQUMsU0FBMEI7SUFDdEQsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDLEdBQUcsa0JBQWtCLEVBQUUsQ0FBQztJQUNsRCxJQUFJLENBQUMsS0FBSyxFQUFFO1FBQ1YsTUFBTSxFQUFFLEdBQUcsY0FBYyxFQUFFLENBQUM7UUFDNUIsTUFBTSxLQUFL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TztZQUNiLE9BQU87WUFDUCxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUztTQUMvRCxDQUFDO1FBQ0YsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDLENBQUMsQ0FDSCxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHRvUXJsT3JFcnJvciB9IGZyb20gJy4uL2ltcG9ydC9xcmwnO1xuaW1wb3J0IHsgJCwgaW1wbGljaXQkRmlyc3RBcmcsIFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IHFQcm9wV3JpdGVRUkwgfSBmcm9tICcuLi9wcm9wcy9wcm9wcy1vbic7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGUgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IFN0eWxlQXBwZW5kLCB1c2VXYWl0T24gfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgdXNlSG9zdEVsZW1lbnQgfSBmcm9tICcuLi91c2UvdXNlLWhvc3QtZWxlbWVudC5wdWJsaWMnO1xuaW1wb3J0IHsgQ29tcG9uZW50U2NvcGVkU3R5bGVzLCBPblJlbmRlclByb3AgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgc3R5bGVLZXkgfSBmcm9tICcuL3FybC1zdHlsZXMnO1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRCYXNlUHJvcHMgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IGpzeCB9IGZyb20gJy4uL3JlbmRlci9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi4vdXNlL3VzZS1zdG9yZS5wdWJsaWMnO1xuaW1wb3J0IHsgV2F0Y2hEZXNjcmlwdG9yLCBXYXRjaEZsYWdzIH0gZnJvbSAnLi4vd2F0Y2gvd2F0Y2gucHVibGljJztcbmltcG9ydCB0eXBlIHsgTXV0YWJsZVdyYXBwZXIgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VDbGVhbnVwXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUNsZWFudXAgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIGNsZWFudXAgaG9vay5cbiAqXG4gKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQgKHJlbW92ZWQgZnJvbSByZW5kZXIgdHJlZSksIG9yIHBhdXNlZCBhcyBwYXJ0IG9mIHRoZVxuICogU1NSIHNlcmlhbGl6YXRpb24uXG4gKlxuICogQ2FuIGJlIHVzZWQgdG8gcmVsZWFzZSByZXNvdWNlcywgYWJvcnQgbmV0d29yayByZXF1ZXRzLCBzdG9wIHRpbWVycy4uLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUNsZWFudXAkKCgpID0+IHtcbiAqICAgICAvLyBFeGVjdXRlZCBhZnRlciBTU1IgKHBhdXNlKSBvciB3aGVuIHRoZSBjb21wb25lbnQgZ2V0cyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAqICAgICAvLyBDYW4gYmUgdXNlZCB0byByZWxlYXNlIHJlc291Y2VzLCBhYm9ydCBuZXR3b3JrIHJlcXVldHMsIHN0b3AgdGltZXJzLi4uXG4gKiAgICAgY29uc29sZS5sb2coJ2NvbXBvbmVudCBpcyBkZXN0cm95ZWQnKTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNsZWFudXBRcmwodW5tb3VudEZuOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAgY29uc3QgW3dhdGNoLCBzZXRXYXRjaCwgaV0gPSB1c2VTZXF1ZW50aWFsU2NvcGUoKTtcbiAgaWYgKCF3YXRjaCkge1xuICAgIGNvbnN0IGVsID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgICBjb25zdCB3YXRjaDogV2F0Y2hEZXNjcmlwdG9yID0ge1xuICAgICAgcXJsOiB1bm1vdW50Rm4sXG4gICAgICBlbCxcbiAgICAgIGY6IFdhdGNoRmxhZ3MuSXNDbGVhbnVwLFxuICAgICAgaSxcbiAgICB9O1xuICAgIHNldFdhdGNoKHRydWUpO1xuICAgIGdldENvbnRleHQoZWwpLndhdGNoZXMucHVzaCh3YXRjaCk7XG4gIH1cbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlQ2xlYW51cFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGVhbnVwIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBjbGVhbnVwIGhvb2suXG4gKlxuICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgZGVzdHJveWVkIChyZW1vdmVkIGZyb20gcmVuZGVyIHRyZWUpLCBvciBwYXVzZWQgYXMgcGFydCBvZiB0aGVcbiAqIFNTUiBzZXJpYWxpemF0aW9uLlxuICpcbiAqIENhbiBiZSB1c2VkIHRvIHJlbGVhc2UgcmVzb3VjZXMsIGFib3J0IG5ldHdvcmsgcmVxdWV0cywgc3RvcCB0aW1lcnMuLi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDbGVhbnVwJCgoKSA9PiB7XG4gKiAgICAgLy8gRXhlY3V0ZWQgYWZ0ZXIgU1NSIChwYXVzZSkgb3Igd2hlbiB0aGUgY29tcG9uZW50IGdldHMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gKiAgICAgLy8gQ2FuIGJlIHVzZWQgdG8gcmVsZWFzZSByZXNvdWNlcywgYWJvcnQgbmV0d29yayByZXF1ZXRzLCBzdG9wIHRpbWVycy4uLlxuICogICAgIGNvbnNvbGUubG9nKCdjb21wb25lbnQgaXMgZGVzdHJveWVkJyk7XG4gKiAgIH0pO1xuICogICByZXR1cm4gPGRpdj5IZWxsbyB3b3JsZDwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VDbGVhbnVwJCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZUNsZWFudXBRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VSZXN1bWVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlUmVzdW1lIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBvbiByZXN1bWUgaG9vay5cbiAqXG4gKiBUaGUgaG9vayBpcyBlYWdlcmx5IGludm9rZWQgd2hlbiB0aGUgYXBwbGljYXRpb24gcmVzdW1lcyBvbiB0aGUgY2xpZW50LiBCZWNhdXNlIGl0IGlzIGNhbGxlZFxuICogZWFnZXJseSwgdGhpcyBhbGxvd3MgdGhlIGNvbXBvbmVudCB0byByZXN1bWUgZXZlbiBpZiBubyB1c2VyIGludGVyYWN0aW9uIGhhcyB0YWtlbiBwbGFjZS5cbiAqXG4gKiBPbmx5IGNhbGxlZCBpbiB0aGUgY2xpZW50LlxuICogT25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VSZXN1bWUkKCgpID0+IHtcbiAqICAgICAvLyBFYWdlcmx5IGludm9rZWQgd2hlbiB0aGUgYXBwbGljYXRpb24gcmVzdW1lcyBvbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc29sZS5sb2coJ2NhbGxlZCBvbmNlIGluIGNsaWVudCcpO1xuICogICB9KTtcbiAqICAgcmV0dXJuIDxkaXY+SGVsbG8gd29ybGQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVZpc2libGVgLCBgdXNlQ2xpZW50RWZmZWN0YFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlUmVzdW1lUXJsKHJlc3VtZUZuOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAgdXNlT24oJ3Fpbml0JywgcmVzdW1lRm4pO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VSZXN1bWVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlUmVzdW1lIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBvbiByZXN1bWUgaG9vay5cbiAqXG4gKiBUaGUgaG9vayBpcyBlYWdlcmx5IGludm9rZWQgd2hlbiB0aGUgYXBwbGljYXRpb24gcmVzdW1lcyBvbiB0aGUgY2xpZW50LiBCZWNhdXNlIGl0IGlzIGNhbGxlZFxuICogZWFnZXJseSwgdGhpcyBhbGxvd3MgdGhlIGNvbXBvbmVudCB0byByZXN1bWUgZXZlbiBpZiBubyB1c2VyIGludGVyYWN0aW9uIGhhcyB0YWtlbiBwbGFjZS5cbiAqXG4gKiBPbmx5IGNhbGxlZCBpbiB0aGUgY2xpZW50LlxuICogT25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VSZXN1bWUkKCgpID0+IHtcbiAqICAgICAvLyBFYWdlcmx5IGludm9rZWQgd2hlbiB0aGUgYXBwbGljYXRpb24gcmVzdW1lcyBvbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc29sZS5sb2coJ2NhbGxlZCBvbmNlIGluIGNsaWVudCcpO1xuICogICB9KTtcbiAqICAgcmV0dXJuIDxkaXY+SGVsbG8gd29ybGQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVZpc2libGVgLCBgdXNlQ2xpZW50RWZmZWN0YFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlUmVzdW1lJCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZVJlc3VtZVFybCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVZpc2libGVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlVmlzaWJsZSBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3Mgb24gdmlzaWJsZSBob29rLlxuICpcbiAqIFRoZSBob29rIGlzIGxhemlseSBpbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBiZWNvbWVzIHZpc2libGUgaW4gdGhlIGJyb3dzZXIgdmlld3BvcnQuXG4gKlxuICogT25seSBjYWxsZWQgaW4gdGhlIGNsaWVudC5cbiAqIE9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQHNlZSBgdXNlUmVzdW1lYCwgYHVzZUNsaWVudEVmZmVjdGBcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBpc1Zpc2libGU6IGZhbHNlLFxuICogICB9KTtcbiAqICAgdXNlVmlzaWJsZSQoKCkgPT4ge1xuICogICAgIC8vIEludm9rZWQgb25jZSB3aGVuIHRoZSBjb21wb25lbnQgaXMgdmlzaWJsZSBpbiB0aGUgYnJvd3NlcidzIHZpZXdwb3J0XG4gKiAgICAgY29uc29sZS5sb2coJ2NhbGxlZCBvbmNlIGluIGNsaWVudCB3aGVuIHZpc2libGUnKTtcbiAqICAgICBzdG9yZS5pc1Zpc2libGUgPSB0cnVlO1xuICogICB9KTtcbiAqICAgcmV0dXJuIDxkaXY+e3N0b3JlLmlzVmlzaWJsZX08L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlVmlzaWJsZVFybChyZXN1bWVGbjogUVJMPCgpID0+IHZvaWQ+KTogdm9pZCB7XG4gIHVzZU9uKCdxdmlzaWJsZScsIHJlc3VtZUZuKTtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlVmlzaWJsZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VWaXNpYmxlIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBvbiB2aXNpYmxlIGhvb2suXG4gKlxuICogVGhlIGhvb2sgaXMgbGF6aWx5IGludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGJlY29tZXMgdmlzaWJsZSBpbiB0aGUgYnJvd3NlciB2aWV3cG9ydC5cbiAqXG4gKiBPbmx5IGNhbGxlZCBpbiB0aGUgY2xpZW50LlxuICogT25seSBjYWxsZWQgb25jZS5cbiAqXG4gKiBAc2VlIGB1c2VSZXN1bWVgLCBgdXNlQ2xpZW50RWZmZWN0YFxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGlzVmlzaWJsZTogZmFsc2UsXG4gKiAgIH0pO1xuICogICB1c2VWaXNpYmxlJCgoKSA9PiB7XG4gKiAgICAgLy8gSW52b2tlZCBvbmNlIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB2aXNpYmxlIGluIHRoZSBicm93c2VyJ3Mgdmlld3BvcnRcbiAqICAgICBjb25zb2xlLmxvZygnY2FsbGVkIG9uY2UgaW4gY2xpZW50IHdoZW4gdmlzaWJsZScpO1xuICogICAgIHN0b3JlLmlzVmlzaWJsZSA9IHRydWU7XG4gKiAgIH0pO1xuICogICByZXR1cm4gPGRpdj57c3RvcmUuaXNWaXNpYmxlfTwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VWaXNpYmxlJCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZVZpc2libGVRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VPblwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VPbiBpbnN0ZWFkKVxuLyoqXG4gKiBSZWdpc3RlciBhIGxpc3RlbmVyIG9uIHRoZSBjdXJyZW50IGNvbXBvbmVudCdzIGhvc3QgZWxlbWVudC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guIE90aGVyd2lzZSBpdCdzIGFkZGluZyBhIEpTWCBsaXN0ZW5lciBpbiB0aGUgYDxIb3N0PmAgaXMgYSBiZXR0ZXIgaWRlYS5cbiAqXG4gKiBAc2VlIGB1c2VPbmAsIGB1c2VPbldpbmRvd2AsIGB1c2VPbkRvY3VtZW50YC5cbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZU9uKGV2ZW50OiBzdHJpbmcsIGV2ZW50Rm46IFFSTDwoKSA9PiB2b2lkPikge1xuICBjb25zdCBlbCA9IHVzZUhvc3RFbGVtZW50KCk7XG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuICBxUHJvcFdyaXRlUVJMKHVuZGVmaW5lZCwgY3R4LCBgb246JHtldmVudH1gLCBldmVudEZuKTtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25Eb2N1bWVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VPbkRvY3VtZW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgb24gYGRvY3VtZW50YC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guXG4gKlxuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKlxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiB1c2VTY3JvbGwoKSB7XG4gKiAgIHVzZU9uRG9jdW1lbnQoXG4gKiAgICAgJ3Njcm9sbCcsXG4gKiAgICAgJCgoKSA9PiB7XG4gKiAgICAgICBjb25zb2xlLmxvZygnYm9keSBzY3JvbGxlZCcpO1xuICogICAgIH0pXG4gKiAgICk7XG4gKiB9XG4gKlxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVNjcm9sbCgpO1xuICogICByZXR1cm4gPEhvc3Q+UHJvZml0ITwvSG9zdD47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlT25Eb2N1bWVudChldmVudDogc3RyaW5nLCBldmVudFFybDogUVJMPCgpID0+IHZvaWQ+KSB7XG4gIGNvbnN0IGVsID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChlbCk7XG4gIHFQcm9wV3JpdGVRUkwodW5kZWZpbmVkLCBjdHgsIGBvbi1kb2N1bWVudDoke2V2ZW50fWAsIGV2ZW50UXJsKTtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25XaW5kb3dcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlT25XaW5kb3cgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBvbiBgd2luZG93YC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guXG4gKlxuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKlxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiB1c2VBbmFseXRpY3MoKSB7XG4gKiAgIHVzZU9uV2luZG93KFxuICogICAgICdwb3BzdGF0ZScsXG4gKiAgICAgJCgoKSA9PiB7XG4gKiAgICAgICBjb25zb2xlLmxvZygnbmF2aWdhdGlvbiBoYXBwZW5lZCcpO1xuICogICAgICAgLy8gcmVwb3J0IHRvIGFuYWx5dGljc1xuICogICAgIH0pXG4gKiAgICk7XG4gKiB9XG4gKlxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUFuYWx5dGljcygpO1xuICogICByZXR1cm4gPEhvc3Q+UHJvZml0ITwvSG9zdD47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlT25XaW5kb3coZXZlbnQ6IHN0cmluZywgZXZlbnRGbjogUVJMPCgpID0+IHZvaWQ+KSB7XG4gIGNvbnN0IGVsID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChlbCk7XG4gIHFQcm9wV3JpdGVRUkwodW5kZWZpbmVkLCBjdHgsIGBvbi13aW5kb3c6JHtldmVudH1gLCBldmVudEZuKTtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3R5bGVzXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0eWxlcyBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3Mgc3R5bGVzLlxuICpcbiAqIENvbXBvbmVudCBzdHlsZXMgYWxsb3cgUXdpayB0byBsYXp5IGxvYWQgdGhlIHN0eWxlIGluZm9ybWF0aW9uIGZvciB0aGUgY29tcG9uZW50IG9ubHkgd2hlblxuICogbmVlZGVkLiAoQW5kIGF2b2lkIGRvdWJsZSBsb2FkaW5nIGl0IGluIGNhc2Ugb2YgU1NSIGh5ZHJhdGlvbi4pXG4gKlxuICogYGBgdHN4XG4gKiBpbXBvcnQgc3R5bGVzIGZyb20gJy4vY29kZS1ibG9jay5jc3M/aW5saW5lJztcbiAqXG4gKiBleHBvcnQgY29uc3QgQ21wU3R5bGVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVN0eWxlcyQoc3R5bGVzKTtcbiAqXG4gKiAgIHJldHVybiA8SG9zdD5Tb21lIHRleHQ8L0hvc3Q+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGB1c2VTY29wZWRTdHlsZXNgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0eWxlc1FybChzdHlsZXM6IFFSTDxzdHJpbmc+KTogdm9pZCB7XG4gIF91c2VTdHlsZXMoc3R5bGVzLCBmYWxzZSk7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVN0eWxlc1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VTdHlsZXMgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIHN0eWxlcy5cbiAqXG4gKiBDb21wb25lbnQgc3R5bGVzIGFsbG93IFF3aWsgdG8gbGF6eSBsb2FkIHRoZSBzdHlsZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNvbXBvbmVudCBvbmx5IHdoZW5cbiAqIG5lZWRlZC4gKEFuZCBhdm9pZCBkb3VibGUgbG9hZGluZyBpdCBpbiBjYXNlIG9mIFNTUiBoeWRyYXRpb24uKVxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHN0eWxlcyBmcm9tICcuL2NvZGUtYmxvY2suY3NzP2lubGluZSc7XG4gKlxuICogZXhwb3J0IGNvbnN0IENtcFN0eWxlcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VTdHlsZXMkKHN0eWxlcyk7XG4gKlxuICogICByZXR1cm4gPEhvc3Q+U29tZSB0ZXh0PC9Ib3N0PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU2NvcGVkU3R5bGVzYC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXMkID0gaW1wbGljaXQkRmlyc3RBcmcodXNlU3R5bGVzUXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU2NvcGVkU3R5bGVzXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVNjb3BlZFN0eWxlcyBpbnN0ZWFkKVxuLyoqXG4gKiBAc2VlIGB1c2VTdHlsZXNgLlxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlU2NvcGVkU3R5bGVzUXJsKHN0eWxlczogUVJMPHN0cmluZz4pOiB2b2lkIHtcbiAgX3VzZVN0eWxlcyhzdHlsZXMsIHRydWUpO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTY29wZWRTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU2NvcGVkU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEBzZWUgYHVzZVN0eWxlc2AuXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTY29wZWRTdHlsZXMkID0gaW1wbGljaXQkRmlyc3RBcmcodXNlU2NvcGVkU3R5bGVzUXJsKTtcblxuLyoqXG4gKiBJbmZlcnMgYFByb3BzYCBmcm9tIHRoZSBjb21wb25lbnQuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwb3J0IGNvbnN0IE90aGVyQ29tcG9uZW50ID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHJldHVybiAkKCgpID0+IDxDb3VudGVyIHZhbHVlPXsxMDB9IC8+KTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgdHlwZSBQcm9wc09mPENPTVAgZXh0ZW5kcyBDb21wb25lbnQ8YW55Pj4gPSBDT01QIGV4dGVuZHMgQ29tcG9uZW50PGluZmVyIFBST1BTPlxuICA/IE5vbk51bGxhYmxlPFBST1BTPlxuICA6IG5ldmVyO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21wb25lbnRPcHRpb25zIHtcbiAgdGFnTmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIENvbXBvbmVudDxQUk9QUyBleHRlbmRzIHt9PiA9IEZ1bmN0aW9uQ29tcG9uZW50PFB1YmxpY1Byb3BzPFBST1BTPj47XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBQdWJsaWNQcm9wczxQUk9QUyBleHRlbmRzIHt9PiA9IE11dGFibGVQcm9wczxQUk9QUz4gJlxuICBPbiRQcm9wczxQUk9QUz4gJlxuICBDb21wb25lbnRCYXNlUHJvcHM7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBNdXRhYmxlUHJvcHM8UFJPUFMgZXh0ZW5kcyB7fT4gPSB7XG4gIFtLIGluIGtleW9mIFBST1BTXTogUFJPUFNbS10gfCBNdXRhYmxlV3JhcHBlcjxQUk9QU1tLXT47XG59O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgT24kUHJvcHM8VCBleHRlbmRzIHt9PiA9IHtcbiAgW0sgaW4ga2V5b2YgVCBhcyBLIGV4dGVuZHMgYCR7aW5mZXIgQX1RcmxgXG4gICAgPyBOb25OdWxsYWJsZTxUW0tdPiBleHRlbmRzIFFSTFxuICAgICAgPyBgJHtBfSRgXG4gICAgICA6IG5ldmVyXG4gICAgOiBuZXZlcl0/OiBOb25OdWxsYWJsZTxUW0tdPiBleHRlbmRzIFFSTDxpbmZlciBCPiA/IEIgOiBuZXZlcjtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlcjxUPiA9IFFSTDwodmFsdWU6IFQpID0+IGFueT47XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI2NvbXBvbmVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNjb21wb25lbnQgaW5zdGVhZClcbi8qKlxuICogRGVjbGFyZSBhIFF3aWsgY29tcG9uZW50IHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIFVJLlxuICpcbiAqIFVzZSBgY29tcG9uZW50JGAgdG8gZGVjbGFyZSBhIFF3aWsgY29tcG9uZW50LiBBIFF3aWsgY29tcG9uZW50IGlzIGEgc3BlY2lhbCBraW5kIG9mIGNvbXBvbmVudFxuICogdGhhdCBhbGxvd3MgdGhlIFF3aWsgZnJhbWV3b3JrIHRvIGxhenkgbG9hZCBhbmQgZXhlY3V0ZSB0aGUgY29tcG9uZW50IGluZGVwZW5kZW50bHkgb2Ygb3RoZXJcbiAqIFF3aWsgY29tcG9uZW50cyBhcyB3ZWxsIGFzIGxhenkgbG9hZCB0aGUgY29tcG9uZW50J3MgbGlmZS1jeWNsZSBob29rcyBhbmQgZXZlbnQgaGFuZGxlcnMuXG4gKlxuICogU2lkZSBub3RlOiBZb3UgY2FuIGFsc28gZGVjbGFyZSByZWd1bGFyIChzdGFuZGFyZCBKU1gpIGNvbXBvbmVudHMgdGhhdCB3aWxsIGhhdmUgc3RhbmRhcmRcbiAqIHN5bmNocm9ub3VzIGJlaGF2aW9yLlxuICpcbiAqIFF3aWsgY29tcG9uZW50IGlzIGEgZmFjYWRlIHRoYXQgZGVzY3JpYmVzIGhvdyB0aGUgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhvdXQgZm9yY2luZyB0aGVcbiAqIGltcGxlbWVudGF0aW9uIG9mIHRoZSBjb21wb25lbnQgdG8gYmUgZWFnZXJseSBsb2FkZWQuIEEgbWluaW11bSBRd2lrIGRlZmluaXRpb24gY29uc2lzdHMgb2Y6XG4gKlxuICogIyMjIEV4YW1wbGU6XG4gKlxuICogQW4gZXhhbXBsZSBzaG93aW5nIGhvdyB0byBjcmVhdGUgYSBjb3VudGVyIGNvbXBvbmVudDpcbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBpbnRlcmZhY2UgQ291bnRlclByb3BzIHtcbiAqICAgaW5pdGlhbFZhbHVlPzogbnVtYmVyO1xuICogICBzdGVwPzogbnVtYmVyO1xuICogfVxuICogZXhwb3J0IGNvbnN0IENvdW50ZXIgPSBjb21wb25lbnQkKChwcm9wczogQ291bnRlclByb3BzKSA9PiB7XG4gKiAgIGNvbnN0IHN0YXRlID0gdXNlU3RvcmUoeyBjb3VudDogcHJvcHMuaW5pdGlhbFZhbHVlIHx8IDAgfSk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxzcGFuPntzdGF0ZS5jb3VudH08L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiAoc3RhdGUuY291bnQgKz0gcHJvcHMuc3RlcCB8fCAxKX0+KzwvYnV0dG9uPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAtIGBjb21wb25lbnQkYCBpcyBob3cgYSBjb21wb25lbnQgZ2V0cyBkZWNsYXJlZC5cbiAqIC0gYHsgdmFsdWU/OiBudW1iZXI7IHN0ZXA/OiBudW1iZXIgfWAgZGVjbGFyZXMgdGhlIHB1YmxpYyAocHJvcHMpIGludGVyZmFjZSBvZiB0aGUgY29tcG9uZW50LlxuICogLSBgeyBjb3VudDogbnVtYmVyIH1gIGRlY2xhcmVzIHRoZSBwcml2YXRlIChzdGF0ZSkgaW50ZXJmYWNlIG9mIHRoZSBjb21wb25lbnQuXG4gKlxuICogVGhlIGFib3ZlIGNhbiB0aGVuIGJlIHVzZWQgbGlrZSBzbzpcbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBjb25zdCBPdGhlckNvbXBvbmVudCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICByZXR1cm4gPENvdW50ZXIgaW5pdGlhbFZhbHVlPXsxMDB9IC8+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBTZWUgYWxzbzogYGNvbXBvbmVudGAsIGB1c2VDbGVhbnVwYCwgYG9uUmVzdW1lYCwgYG9uUGF1c2VgLCBgdXNlT25gLCBgdXNlT25Eb2N1bWVudGAsXG4gKiBgdXNlT25XaW5kb3dgLCBgdXNlU3R5bGVzYCwgYHVzZVNjb3BlZFN0eWxlc2BcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiBjb21wb25lbnRRcmw8UFJPUFMgZXh0ZW5kcyB7fT4oXG4gIG9uUmVuZGVyUXJsOiBRUkw8T25SZW5kZXJGbjxQUk9QUz4+LFxuICBvcHRpb25zOiBDb21wb25lbnRPcHRpb25zID0ge31cbik6IENvbXBvbmVudDxQUk9QUz4ge1xuICBjb25zdCB0YWdOYW1lID0gb3B0aW9ucy50YWdOYW1lID8/ICdkaXYnO1xuXG4gIC8vIFJldHVybiBhIFFDb21wb25lbnQgRmFjdG9yeSBmdW5jdGlvbi5cbiAgcmV0dXJuIGZ1bmN0aW9uIFFTaW1wbGVDb21wb25lbnQocHJvcHMsIGtleSk6IEpTWE5vZGU8UFJPUFM+IHtcbiAgICBjb25zdCBmaW5hbEtleSA9IG9uUmVuZGVyUXJsLmdldENhbm9uaWNhbFN5bWJvbCgpICsgJzonICsgKGtleSA/IGtleSA6ICcnKTtcbiAgICByZXR1cm4ganN4KHRhZ05hbWUsIHsgW09uUmVuZGVyUHJvcF06IG9uUmVuZGVyUXJsLCAuLi5wcm9wcyB9LCBmaW5hbEtleSkgYXMgYW55O1xuICB9O1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNjb21wb25lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjY29tcG9uZW50IGluc3RlYWQpXG4vKipcbiAqIERlY2xhcmUgYSBRd2lrIGNvbXBvbmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBVSS5cbiAqXG4gKiBVc2UgYGNvbXBvbmVudCRgIHRvIGRlY2xhcmUgYSBRd2lrIGNvbXBvbmVudC4gQSBRd2lrIGNvbXBvbmVudCBpcyBhIHNwZWNpYWwga2luZCBvZiBjb21wb25lbnRcbiAqIHRoYXQgYWxsb3dzIHRoZSBRd2lrIGZyYW1ld29yayB0byBsYXp5IGxvYWQgYW5kIGV4ZWN1dGUgdGhlIGNvbXBvbmVudCBpbmRlcGVuZGVudGx5IG9mIG90aGVyXG4gKiBRd2lrIGNvbXBvbmVudHMgYXMgd2VsbCBhcyBsYXp5IGxvYWQgdGhlIGNvbXBvbmVudCdzIGxpZmUtY3ljbGUgaG9va3MgYW5kIGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqIFNpZGUgbm90ZTogWW91IGNhbiBhbHNvIGRlY2xhcmUgcmVndWxhciAoc3RhbmRhcmQgSlNYKSBjb21wb25lbnRzIHRoYXQgd2lsbCBoYXZlIHN0YW5kYXJkXG4gKiBzeW5jaHJvbm91cyBiZWhhdmlvci5cbiAqXG4gKiBRd2lrIGNvbXBvbmVudCBpcyBhIGZhY2FkZSB0aGF0IGRlc2NyaWJlcyBob3cgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRob3V0IGZvcmNpbmcgdGhlXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgY29tcG9uZW50IHRvIGJlIGVhZ2VybHkgbG9hZGVkLiBBIG1pbmltdW0gUXdpayBkZWZpbml0aW9uIGNvbnNpc3RzIG9mOlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIEFuIGV4YW1wbGUgc2hvd2luZyBob3cgdG8gY3JlYXRlIGEgY291bnRlciBjb21wb25lbnQ6XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgaW50ZXJmYWNlIENvdW50ZXJQcm9wcyB7XG4gKiAgIGluaXRpYWxWYWx1ZT86IG51bWJlcjtcbiAqICAgc3RlcD86IG51bWJlcjtcbiAqIH1cbiAqIGV4cG9ydCBjb25zdCBDb3VudGVyID0gY29tcG9uZW50JCgocHJvcHM6IENvdW50ZXJQcm9wcykgPT4ge1xuICogICBjb25zdCBzdGF0ZSA9IHVzZVN0b3JlKHsgY291bnQ6IHByb3BzLmluaXRpYWxWYWx1ZSB8fCAwIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8c3Bhbj57c3RhdGUuY291bnR9PC9zcGFuPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrJD17KCkgPT4gKHN0YXRlLmNvdW50ICs9IHByb3BzLnN0ZXAgfHwgMSl9Pis8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogLSBgY29tcG9uZW50JGAgaXMgaG93IGEgY29tcG9uZW50IGdldHMgZGVjbGFyZWQuXG4gKiAtIGB7IHZhbHVlPzogbnVtYmVyOyBzdGVwPzogbnVtYmVyIH1gIGRlY2xhcmVzIHRoZSBwdWJsaWMgKHByb3BzKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqIC0gYHsgY291bnQ6IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHJpdmF0ZSAoc3RhdGUpIGludGVyZmFjZSBvZiB0aGUgY29tcG9uZW50LlxuICpcbiAqIFRoZSBhYm92ZSBjYW4gdGhlbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgY29uc3QgT3RoZXJDb21wb25lbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgcmV0dXJuIDxDb3VudGVyIGluaXRpYWxWYWx1ZT17MTAwfSAvPjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogU2VlIGFsc286IGBjb21wb25lbnRgLCBgdXNlQ2xlYW51cGAsIGBvblJlc3VtZWAsIGBvblBhdXNlYCwgYHVzZU9uYCwgYHVzZU9uRG9jdW1lbnRgLFxuICogYHVzZU9uV2luZG93YCwgYHVzZVN0eWxlc2AsIGB1c2VTY29wZWRTdHlsZXNgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50JDxQUk9QUyBleHRlbmRzIHt9PihcbiAgb25Nb3VudDogT25SZW5kZXJGbjxQUk9QUz4sXG4gIG9wdGlvbnM/OiBDb21wb25lbnRPcHRpb25zXG4pOiBDb21wb25lbnQ8UFJPUFM+IHtcbiAgcmV0dXJuIGNvbXBvbmVudFFybDxQUk9QUz4oJChvbk1vdW50KSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBPblJlbmRlckZuPFBST1BTPiA9IChcbiAgcHJvcHM6IFBST1BTXG4pID0+IFZhbHVlT3JQcm9taXNlPEpTWE5vZGU8YW55PiB8IG51bGwgfCAoKCkgPT4gSlNYTm9kZTxhbnk+KT47XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyRmFjdG9yeU91dHB1dDxQUk9QUz4ge1xuICByZW5kZXJRUkw6IFFSTDxPblJlbmRlckZuPFBST1BTPj47XG4gIHdhaXRPbjogYW55W107XG59XG5cbmZ1bmN0aW9uIF91c2VTdHlsZXMoc3R5bGVzOiBRUkw8c3RyaW5nPiwgc2NvcGVkOiBib29sZWFuKSB7XG4gIGNvbnN0IFtzdHlsZSwgc2V0U3R5bGVdID0gdXNlU2VxdWVudGlhbFNjb3BlKCk7XG4gIGlmIChzdHlsZSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBzZXRTdHlsZSh0cnVlKTtcbiAgY29uc3Qgc3R5bGVRcmwgPSB0b1FybE9yRXJyb3Ioc3R5bGVzKTtcbiAgY29uc3Qgc3R5bGVJZCA9IHN0eWxlS2V5KHN0eWxlUXJsKTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSB1c2VIb3N0RWxlbWVudCgpO1xuICBpZiAoc2NvcGVkKSB7XG4gICAgaG9zdEVsZW1lbnQuc2V0QXR0cmlidXRlKENvbXBvbmVudFNjb3BlZFN0eWxlcywgc3R5bGVJZCk7XG4gIH1cblxuICB1c2VXYWl0T24oXG4gICAgc3R5bGVRcmwucmVzb2x2ZShob3N0RWxlbWVudCkudGhlbigoc3R5bGVUZXh0KSA9PiB7XG4gICAgICBjb25zdCB0YXNrOiBTdHlsZUFwcGVuZCA9IHtcbiAgICAgICAgdHlwZTogJ3N0eWxlJyxcbiAgICAgICAgc3R5bGVJZCxcbiAgICAgICAgY29udGVudDogc2NvcGVkID8gc3R5bGVUZXh0LnJlcGxhY2UoL++/vS9nLCBzdHlsZUlkKSA6IHN0eWxlVGV4dCxcbiAgICAgIH07XG4gICAgICByZXR1cm4gdGFzaztcbiAgICB9KVxuICApO1xufVxuIl19","/* eslint-disable */\nimport { flattenArray } from '../../util/array';\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { JSXNodeImpl } from './jsx-runtime';\n/**\n * @public\n */\nexport function h(type, props, ...children) {\n    // Using legacy h() jsx transform and morphing it\n    // so it can use the modern vdom structure\n    // https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html\n    // https://www.typescriptlang.org/tsconfig#jsxImportSource\n    const normalizedProps = {\n        children: arguments.length > 2 ? flattenArray(children) : EMPTY_ARRAY,\n    };\n    let key;\n    let i;\n    for (i in props) {\n        if (i == 'key')\n            key = props[i];\n        else\n            normalizedProps[i] = props[i];\n    }\n    return new JSXNodeImpl(type, normalizedProps, key);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvanN4L2ZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUk1Qzs7R0FFRztBQUNILE1BQU0sVUFBVSxDQUFDLENBQ2YsSUFBdUMsRUFDdkMsS0FBbUIsRUFDbkIsR0FBRyxRQUFlO0lBRWxCLGlEQUFpRDtJQUNqRCwwQ0FBMEM7SUFDMUMsNkVBQTZFO0lBQzdFLDBEQUEwRDtJQUUxRCxNQUFNLGVBQWUsR0FBUTtRQUMzQixRQUFRLEVBQUUsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVztLQUN0RSxDQUFDO0lBRUYsSUFBSSxHQUFRLENBQUM7SUFDYixJQUFJLENBQU0sQ0FBQztJQUVYLEtBQUssQ0FBQyxJQUFJLEtBQUssRUFBRTtRQUNmLElBQUksQ0FBQyxJQUFJLEtBQUs7WUFBRSxHQUFHLEdBQUksS0FBNkIsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7WUFDbkQsZUFBZSxDQUFDLENBQUMsQ0FBQyxHQUFJLEtBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDN0Q7SUFFRCxPQUFPLElBQUksV0FBVyxDQUFDLElBQUksRUFBRSxlQUFlLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDckQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5pbXBvcnQgeyBmbGF0dGVuQXJyYXkgfSBmcm9tICcuLi8uLi91dGlsL2FycmF5JztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgSlNYTm9kZUltcGwgfSBmcm9tICcuL2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgUXdpa0pTWCB9IGZyb20gJy4vdHlwZXMvanN4LXF3aWsnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCwgSlNYTm9kZSB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGg8UFJPUFMgZXh0ZW5kcyB7fSA9IHt9PihcbiAgdHlwZTogc3RyaW5nIHwgRnVuY3Rpb25Db21wb25lbnQ8UFJPUFM+LFxuICBwcm9wczogUFJPUFMgfCBudWxsLFxuICAuLi5jaGlsZHJlbjogYW55W11cbik6IEpTWE5vZGUge1xuICAvLyBVc2luZyBsZWdhY3kgaCgpIGpzeCB0cmFuc2Zvcm0gYW5kIG1vcnBoaW5nIGl0XG4gIC8vIHNvIGl0IGNhbiB1c2UgdGhlIG1vZGVybiB2ZG9tIHN0cnVjdHVyZVxuICAvLyBodHRwczovL3JlYWN0anMub3JnL2Jsb2cvMjAyMC8wOS8yMi9pbnRyb2R1Y2luZy10aGUtbmV3LWpzeC10cmFuc2Zvcm0uaHRtbFxuICAvLyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvdHNjb25maWcjanN4SW1wb3J0U291cmNlXG5cbiAgY29uc3Qgbm9ybWFsaXplZFByb3BzOiBhbnkgPSB7XG4gICAgY2hpbGRyZW46IGFyZ3VtZW50cy5sZW5ndGggPiAyID8gZmxhdHRlbkFycmF5KGNoaWxkcmVuKSA6IEVNUFRZX0FSUkFZLFxuICB9O1xuXG4gIGxldCBrZXk6IGFueTtcbiAgbGV0IGk6IGFueTtcblxuICBmb3IgKGkgaW4gcHJvcHMpIHtcbiAgICBpZiAoaSA9PSAna2V5Jykga2V5ID0gKHByb3BzIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pW2ldO1xuICAgIGVsc2Ugbm9ybWFsaXplZFByb3BzW2ldID0gKHByb3BzIGFzIFJlY29yZDxzdHJpbmcsIGFueT4pW2ldO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBKU1hOb2RlSW1wbCh0eXBlLCBub3JtYWxpemVkUHJvcHMsIGtleSk7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZGVjbGFyZSBuYW1lc3BhY2UgaCB7XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHR5cGU6IGFueSk6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogTm9kZSwgZGF0YTogYW55KTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBhbnksIHRleHQ6IHN0cmluZyk6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogYW55LCBjaGlsZHJlbjogQXJyYXk8YW55Pik6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogYW55LCBkYXRhOiBhbnksIHRleHQ6IHN0cmluZyk6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgoXG4gICAgdHlwZTogYW55LFxuICAgIGRhdGE6IGFueSxcbiAgICBjaGlsZHJlbjogQXJyYXk8SlNYTm9kZTxhbnk+IHwgdW5kZWZpbmVkIHwgbnVsbD5cbiAgKTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaChzZWw6IGFueSwgZGF0YTogYW55IHwgbnVsbCwgY2hpbGRyZW46IEpTWE5vZGU8YW55Pik6IEpTWE5vZGU8YW55PjtcblxuICBleHBvcnQgbmFtZXNwYWNlIEpTWCB7XG4gICAgZXhwb3J0IGludGVyZmFjZSBFbGVtZW50IGV4dGVuZHMgUXdpa0pTWC5FbGVtZW50IHt9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJbnRyaW5zaWNBdHRyaWJ1dGVzIGV4dGVuZHMgUXdpa0pTWC5JbnRyaW5zaWNBdHRyaWJ1dGVzIHt9XG4gICAgZXhwb3J0IGludGVyZmFjZSBJbnRyaW5zaWNFbGVtZW50cyBleHRlbmRzIFF3aWtKU1guSW50cmluc2ljRWxlbWVudHMge31cbiAgICBleHBvcnQgaW50ZXJmYWNlIEVsZW1lbnRDaGlsZHJlbkF0dHJpYnV0ZSB7XG4gICAgICBjaGlsZHJlbj86IGFueTtcbiAgICB9XG4gIH1cbn1cbiJdfQ==","import { jsx } from './jsx-runtime';\n/**\n * @public\n */\nexport const Slot = (props) => {\n    const hasChildren = props.children || (Array.isArray(props.children) && props.children.length > 0);\n    const newChildrem = !hasChildren\n        ? []\n        : jsx('q:fallback', {\n            children: props.children,\n        });\n    return jsx('q:slot', {\n        name: props.name,\n        children: newChildrem,\n    }, props.name);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xvdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9zbG90LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR3BDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUdaLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDYixNQUFNLFdBQVcsR0FDZixLQUFLLENBQUMsUUFBUSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDakYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxXQUFXO1FBQzlCLENBQUMsQ0FBQyxFQUFFO1FBQ0osQ0FBQyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7WUFDaEIsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRO1NBQ3pCLENBQUMsQ0FBQztJQUVQLE9BQU8sR0FBRyxDQUNSLFFBQVEsRUFDUjtRQUNFLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtRQUNoQixRQUFRLEVBQUUsV0FBVztLQUN0QixFQUNELEtBQUssQ0FBQyxJQUFJLENBQ1gsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCB9IGZyb20gJy4vanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNsb3Q6IEZ1bmN0aW9uQ29tcG9uZW50PHtcbiAgbmFtZT86IHN0cmluZztcbiAgY2hpbGRyZW4/OiBhbnk7XG59PiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBoYXNDaGlsZHJlbiA9XG4gICAgcHJvcHMuY2hpbGRyZW4gfHwgKEFycmF5LmlzQXJyYXkocHJvcHMuY2hpbGRyZW4pICYmIHByb3BzLmNoaWxkcmVuLmxlbmd0aCA+IDApO1xuICBjb25zdCBuZXdDaGlsZHJlbSA9ICFoYXNDaGlsZHJlblxuICAgID8gW11cbiAgICA6IGpzeCgncTpmYWxsYmFjaycsIHtcbiAgICAgICAgY2hpbGRyZW46IHByb3BzLmNoaWxkcmVuLFxuICAgICAgfSk7XG5cbiAgcmV0dXJuIGpzeChcbiAgICAncTpzbG90JyxcbiAgICB7XG4gICAgICBuYW1lOiBwcm9wcy5uYW1lLFxuICAgICAgY2hpbGRyZW46IG5ld0NoaWxkcmVtLFxuICAgIH0sXG4gICAgcHJvcHMubmFtZVxuICApO1xufTtcbiJdfQ==","/**\n * QWIK_VERSION\n * @public\n */\nexport const version = globalThis.QWIK_VERSION;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS92ZXJzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBSSxVQUFrQixDQUFDLFlBQXNCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFFXSUtfVkVSU0lPTlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IChnbG9iYWxUaGlzIGFzIGFueSkuUVdJS19WRVJTSU9OIGFzIHN0cmluZztcbiJdfQ==","import { isDocument } from '../util/element';\nimport { executeContext, printRenderStats } from './cursor';\nimport { isJSXNode, jsx, processNode } from './jsx/jsx-runtime';\nimport { visitJsxNode } from './render';\nimport { getContainerState } from './notify-render';\nimport { getDocument } from '../util/dom';\nimport { qDev, qTest } from '../util/qdev';\nimport { version } from '../version';\nimport { QContainerAttr } from '../util/markers';\nimport { logError } from '../util/log';\nimport { runWatch, WatchFlags } from '../watch/watch.public';\nimport { appendQwikDevTools, getContext } from '../props/props';\n/**\n * Render JSX.\n *\n * Use this method to render JSX. This function does reconciling which means\n * it always tries to reuse what is already in the DOM (rather then destroy and\n * recrate content.)\n *\n * @param parent - Element which will act as a parent to `jsxNode`. When\n *     possible the rendering will try to reuse existing nodes.\n * @param jsxNode - JSX to render\n * @alpha\n */\nexport async function render(parent, jsxNode) {\n    // If input is not JSX, convert it\n    if (!isJSXNode(jsxNode)) {\n        jsxNode = jsx(jsxNode, null);\n    }\n    const doc = getDocument(parent);\n    const containerEl = getElement(parent);\n    if (qDev && containerEl.hasAttribute('q:container')) {\n        logError('You can render over a existing q:container. Skipping render().');\n        return;\n    }\n    injectQContainer(containerEl);\n    const containerState = getContainerState(containerEl);\n    const ctx = {\n        doc,\n        containerState,\n        hostElements: new Set(),\n        operations: [],\n        roots: [parent],\n        components: [],\n        containerEl,\n        perf: {\n            visited: 0,\n            timing: [],\n        },\n    };\n    await visitJsxNode(ctx, parent, processNode(jsxNode), false);\n    executeContext(ctx);\n    if (!qTest) {\n        injectQwikSlotCSS(parent);\n    }\n    if (qDev) {\n        appendQwikDevTools(containerEl);\n        if (typeof window !== 'undefined' && window.document != null) {\n            printRenderStats(ctx);\n        }\n    }\n    const promises = [];\n    ctx.hostElements.forEach((host) => {\n        const elCtx = getContext(host);\n        elCtx.watches.forEach((watch) => {\n            if (watch.f & WatchFlags.IsDirty) {\n                promises.push(runWatch(watch, containerState));\n            }\n        });\n    });\n    await Promise.all(promises);\n    return ctx;\n}\nexport function injectQwikSlotCSS(docOrElm) {\n    const doc = getDocument(docOrElm);\n    const element = isDocument(docOrElm) ? docOrElm.head : docOrElm;\n    const style = doc.createElement('style');\n    style.setAttribute('id', 'qwik/base-styles');\n    style.textContent = `q\\\\:slot{display:contents}q\\\\:fallback{display:none}q\\\\:fallback:last-child{display:contents}`;\n    element.insertBefore(style, element.firstChild);\n}\nexport function getElement(docOrElm) {\n    return isDocument(docOrElm) ? docOrElm.documentElement : docOrElm;\n}\nexport function injectQContainer(containerEl) {\n    containerEl.setAttribute('q:version', version || '');\n    containerEl.setAttribute(QContainerAttr, 'resumed');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvcmVuZGVyLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDN0MsT0FBTyxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBaUIsTUFBTSxVQUFVLENBQUM7QUFDM0UsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFaEUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUN4QyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDckMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDdkMsT0FBTyxFQUFFLFFBQVEsRUFBbUIsVUFBVSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDOUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRWhFOzs7Ozs7Ozs7OztHQVdHO0FBQ0gsTUFBTSxDQUFDLEtBQUssVUFBVSxNQUFNLENBQzFCLE1BQTBCLEVBQzFCLE9BQWtEO0lBRWxELGtDQUFrQztJQUNsQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzlCO0lB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QUFVLGdCQUFnQixDQUFDLFdBQW9CO0lBQ25ELFdBQVcsQ0FBQyxZQUFZLENBQUMsV0FBVyxFQUFFLE9BQU8sSUFBSSxFQUFFLENBQUMsQ0FBQztJQUNyRCxXQUFXLENBQUMsWUFBWSxDQUFDLGNBQWMsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN0RCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNEb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZWxlbWVudCc7XG5pbXBvcnQgeyBleGVjdXRlQ29udGV4dCwgcHJpbnRSZW5kZXJTdGF0cywgUmVuZGVyQ29udGV4dCB9IGZyb20gJy4vY3Vyc29yJztcbmltcG9ydCB7IGlzSlNYTm9kZSwganN4LCBwcm9jZXNzTm9kZSB9IGZyb20gJy4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSwgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICcuL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyB2aXNpdEpzeE5vZGUgfSBmcm9tICcuL3JlbmRlcic7XG5pbXBvcnQgeyBnZXRDb250YWluZXJTdGF0ZSB9IGZyb20gJy4vbm90aWZ5LXJlbmRlcic7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IHFEZXYsIHFUZXN0IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi92ZXJzaW9uJztcbmltcG9ydCB7IFFDb250YWluZXJBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGxvZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgcnVuV2F0Y2gsIFdhdGNoRGVzY3JpcHRvciwgV2F0Y2hGbGFncyB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5pbXBvcnQgeyBhcHBlbmRRd2lrRGV2VG9vbHMsIGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5cbi8qKlxuICogUmVuZGVyIEpTWC5cbiAqXG4gKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVuZGVyIEpTWC4gVGhpcyBmdW5jdGlvbiBkb2VzIHJlY29uY2lsaW5nIHdoaWNoIG1lYW5zXG4gKiBpdCBhbHdheXMgdHJpZXMgdG8gcmV1c2Ugd2hhdCBpcyBhbHJlYWR5IGluIHRoZSBET00gKHJhdGhlciB0aGVuIGRlc3Ryb3kgYW5kXG4gKiByZWNyYXRlIGNvbnRlbnQuKVxuICpcbiAqIEBwYXJhbSBwYXJlbnQgLSBFbGVtZW50IHdoaWNoIHdpbGwgYWN0IGFzIGEgcGFyZW50IHRvIGBqc3hOb2RlYC4gV2hlblxuICogICAgIHBvc3NpYmxlIHRoZSByZW5kZXJpbmcgd2lsbCB0cnkgdG8gcmV1c2UgZXhpc3Rpbmcgbm9kZXMuXG4gKiBAcGFyYW0ganN4Tm9kZSAtIEpTWCB0byByZW5kZXJcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuZGVyKFxuICBwYXJlbnQ6IEVsZW1lbnQgfCBEb2N1bWVudCxcbiAganN4Tm9kZTogSlNYTm9kZTx1bmtub3duPiB8IEZ1bmN0aW9uQ29tcG9uZW50PGFueT5cbik6IFByb21pc2U8UmVuZGVyQ29udGV4dCB8IHVuZGVmaW5lZD4ge1xuICAvLyBJZiBpbnB1dCBpcyBub3QgSlNYLCBjb252ZXJ0IGl0XG4gIGlmICghaXNKU1hOb2RlKGpzeE5vZGUpKSB7XG4gICAganN4Tm9kZSA9IGpzeChqc3hOb2RlLCBudWxsKTtcbiAgfVxuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChwYXJlbnQpO1xuICBjb25zdCBjb250YWluZXJFbCA9IGdldEVsZW1lbnQocGFyZW50KTtcbiAgaWYgKHFEZXYgJiYgY29udGFpbmVyRWwuaGFzQXR0cmlidXRlKCdxOmNvbnRhaW5lcicpKSB7XG4gICAgbG9nRXJyb3IoJ1lvdSBjYW4gcmVuZGVyIG92ZXIgYSBleGlzdGluZyBxOmNvbnRhaW5lci4gU2tpcHBpbmcgcmVuZGVyKCkuJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGluamVjdFFDb250YWluZXIoY29udGFpbmVyRWwpO1xuXG4gIGNvbnN0IGNvbnRhaW5lclN0YXRlID0gZ2V0Q29udGFpbmVyU3RhdGUoY29udGFpbmVyRWwpO1xuICBjb25zdCBjdHg6IFJlbmRlckNvbnRleHQgPSB7XG4gICAgZG9jLFxuICAgIGNvbnRhaW5lclN0YXRlLFxuICAgIGhvc3RFbGVtZW50czogbmV3IFNldCgpLFxuICAgIG9wZXJhdGlvbnM6IFtdLFxuICAgIHJvb3RzOiBbcGFyZW50IGFzIEVsZW1lbnRdLFxuICAgIGNvbXBvbmVudHM6IFtdLFxuICAgIGNvbnRhaW5lckVsLFxuICAgIHBlcmY6IHtcbiAgICAgIHZpc2l0ZWQ6IDAsXG4gICAgICB0aW1pbmc6IFtdLFxuICAgIH0sXG4gIH07XG5cbiAgYXdhaXQgdmlzaXRKc3hOb2RlKGN0eCwgcGFyZW50IGFzIEVsZW1lbnQsIHByb2Nlc3NOb2RlKGpzeE5vZGUpLCBmYWxzZSk7XG5cbiAgZXhlY3V0ZUNvbnRleHQoY3R4KTtcbiAgaWYgKCFxVGVzdCkge1xuICAgIGluamVjdFF3aWtTbG90Q1NTKHBhcmVudCk7XG4gIH1cblxuICBpZiAocURldikge1xuICAgIGFwcGVuZFF3aWtEZXZUb29scyhjb250YWluZXJFbCk7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAhPSBudWxsKSB7XG4gICAgICBwcmludFJlbmRlclN0YXRzKGN0eCk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHByb21pc2VzOiBQcm9taXNlPFdhdGNoRGVzY3JpcHRvcj5bXSA9IFtdO1xuICBjdHguaG9zdEVsZW1lbnRzLmZvckVhY2goKGhvc3QpID0+IHtcbiAgICBjb25zdCBlbEN0eCA9IGdldENvbnRleHQoaG9zdCk7XG4gICAgZWxDdHgud2F0Y2hlcy5mb3JFYWNoKCh3YXRjaCkgPT4ge1xuICAgICAgaWYgKHdhdGNoLmYgJiBXYXRjaEZsYWdzLklzRGlydHkpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChydW5XYXRjaCh3YXRjaCwgY29udGFpbmVyU3RhdGUpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgcmV0dXJuIGN0eDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdFF3aWtTbG90Q1NTKGRvY09yRWxtOiBEb2N1bWVudCB8IEVsZW1lbnQpIHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZG9jT3JFbG0pO1xuICBjb25zdCBlbGVtZW50ID0gaXNEb2N1bWVudChkb2NPckVsbSkgPyBkb2NPckVsbS5oZWFkIDogZG9jT3JFbG07XG4gIGNvbnN0IHN0eWxlID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHN0eWxlLnNldEF0dHJpYnV0ZSgnaWQnLCAncXdpay9iYXNlLXN0eWxlcycpO1xuICBzdHlsZS50ZXh0Q29udGVudCA9IGBxXFxcXDpzbG90e2Rpc3BsYXk6Y29udGVudHN9cVxcXFw6ZmFsbGJhY2t7ZGlzcGxheTpub25lfXFcXFxcOmZhbGxiYWNrOmxhc3QtY2hpbGR7ZGlzcGxheTpjb250ZW50c31gO1xuICBlbGVtZW50Lmluc2VydEJlZm9yZShzdHlsZSwgZWxlbWVudC5maXJzdENoaWxkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVsZW1lbnQoZG9jT3JFbG06IERvY3VtZW50IHwgRWxlbWVudCk6IEVsZW1lbnQge1xuICByZXR1cm4gaXNEb2N1bWVudChkb2NPckVsbSkgPyBkb2NPckVsbS5kb2N1bWVudEVsZW1lbnQgOiBkb2NPckVsbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluamVjdFFDb250YWluZXIoY29udGFpbmVyRWw6IEVsZW1lbnQpIHtcbiAgY29udGFpbmVyRWwuc2V0QXR0cmlidXRlKCdxOnZlcnNpb24nLCB2ZXJzaW9uIHx8ICcnKTtcbiAgY29udGFpbmVyRWwuc2V0QXR0cmlidXRlKFFDb250YWluZXJBdHRyLCAncmVzdW1lZCcpO1xufVxuIl19","import { getInvokeContext } from './use-core';\nimport { useSequentialScope } from './use-store.public';\nimport { setAttribute } from '../render/cursor';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { getContext } from '../props/props';\nimport { unwrapSubscriber, wrapSubscriber } from './use-subscriber';\nimport { useHostElement } from './use-host-element.public';\nimport { QCtxAttr } from '../util/markers';\n/**\n * @alpha\n */\nexport function createContext(name) {\n    return Object.freeze({\n        id: fromCamelToKebabCase(name),\n    });\n}\n/**\n * @alpha\n */\nexport function useContextProvider(context, newValue) {\n    const [value, setValue] = useSequentialScope();\n    if (value) {\n        return;\n    }\n    const invokeContext = getInvokeContext();\n    const hostElement = invokeContext.hostElement;\n    const renderCtx = invokeContext.renderCtx;\n    const ctx = getContext(hostElement);\n    let contexts = ctx.contexts;\n    if (!contexts) {\n        ctx.contexts = contexts = new Map();\n    }\n    newValue = unwrapSubscriber(newValue);\n    contexts.set(context.id, newValue);\n    const serializedContexts = [];\n    contexts.forEach((_, key) => {\n        serializedContexts.push(`${key}`);\n    });\n    setAttribute(renderCtx, hostElement, QCtxAttr, serializedContexts.join(' '));\n    setValue(true);\n}\n/**\n * @alpha\n */\nexport function useContext(context) {\n    const value = _useContext(context);\n    return wrapSubscriber(value, useHostElement());\n}\nexport function _useContext(context) {\n    const [value, setValue] = useSequentialScope();\n    if (!value) {\n        const invokeContext = getInvokeContext();\n        let hostElement = invokeContext.hostElement;\n        const components = invokeContext.renderCtx.components;\n        for (let i = components.length - 1; i >= 0; i--) {\n            hostElement = components[i].hostElement;\n            const ctx = getContext(components[i].hostElement);\n            if (ctx.contexts) {\n                const found = ctx.contexts.get(context.id);\n                if (found) {\n                    setValue(found);\n                    return found;\n                }\n            }\n        }\n        const foundEl = hostElement.closest(`[q\\\\:ctx*=\"${context.id}\"]`);\n        if (foundEl) {\n            const value = getContext(foundEl).contexts.get(context.id);\n            if (value) {\n                setValue(value);\n                return value;\n            }\n        }\n        throw new Error(`not found state for useContext: ${context.id}`);\n    }\n    return value;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvbnRleHQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUM5QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDaEQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDcEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQzNELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQVUzQzs7R0FFRztBQUNILE1BQU0sVUFBVSxhQUFhLENBQXVCLElBQVk7SUFDOUQsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQ25CLEVBQUUsRUFBRSxvQkFBb0IsQ0FBQyxJQUFJLENBQUM7S0FDeEIsQ0FBQyxDQUFDO0FBQ1osQ0FBQztBQUVEOztHQUVHO0FBQ0gsTUFBTSxVQUFVLGtCQUFrQixDQUF1QixPQUF1QixFQUFFLFFBQWU7SUFDL0YsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxrQkFBa0IsRUFBRSxDQUFDO0lBQy9DLElBQUksS0FBSyxFQUFFO1FBQ1QsT0FBTztLQUNSO0lBQ0QsTUFBTSxhQUFhLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUN6QyxNQUFNLFdBQVcsR0FBRyxhQUFhLENBQUMsV0FBWSxDQUFDO0lBQy9DLE1BQU0sU0FBUyxHQUFHLGFBQWEsQ0FBQyxTQUFVLENBQUM7SUFD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ZS1jb3JlJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXN0b3JlLnB1YmxpYyc7XG5pbXBvcnQgeyBzZXRBdHRyaWJ1dGUgfSBmcm9tICcuLi9yZW5kZXIvY3Vyc29yJztcbmltcG9ydCB7IGZyb21DYW1lbFRvS2ViYWJDYXNlIH0gZnJvbSAnLi4vdXRpbC9jYXNlJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyB1bndyYXBTdWJzY3JpYmVyLCB3cmFwU3Vic2NyaWJlciB9IGZyb20gJy4vdXNlLXN1YnNjcmliZXInO1xuaW1wb3J0IHsgdXNlSG9zdEVsZW1lbnQgfSBmcm9tICcuL3VzZS1ob3N0LWVsZW1lbnQucHVibGljJztcbmltcG9ydCB7IFFDdHhBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb250ZXh0PFNUQVRFIGV4dGVuZHMgb2JqZWN0PiB7XG4gIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IF92YWx1ZTogU1RBVEU7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDb250ZXh0PFNUQVRFIGV4dGVuZHMgb2JqZWN0PihuYW1lOiBzdHJpbmcpOiBDb250ZXh0PFNUQVRFPiB7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKHtcbiAgICBpZDogZnJvbUNhbWVsVG9LZWJhYkNhc2UobmFtZSksXG4gIH0gYXMgYW55KTtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnRleHRQcm92aWRlcjxTVEFURSBleHRlbmRzIG9iamVjdD4oY29udGV4dDogQ29udGV4dDxTVEFURT4sIG5ld1ZhbHVlOiBTVEFURSkge1xuICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVNlcXVlbnRpYWxTY29wZSgpO1xuICBpZiAodmFsdWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaW52b2tlQ29udGV4dCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBpbnZva2VDb250ZXh0Lmhvc3RFbGVtZW50ITtcbiAgY29uc3QgcmVuZGVyQ3R4ID0gaW52b2tlQ29udGV4dC5yZW5kZXJDdHghO1xuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGhvc3RFbGVtZW50KTtcbiAgbGV0IGNvbnRleHRzID0gY3R4LmNvbnRleHRzO1xuICBpZiAoIWNvbnRleHRzKSB7XG4gICAgY3R4LmNvbnRleHRzID0gY29udGV4dHMgPSBuZXcgTWFwKCk7XG4gIH1cbiAgbmV3VmFsdWUgPSB1bndyYXBTdWJzY3JpYmVyKG5ld1ZhbHVlKTtcbiAgY29udGV4dHMuc2V0KGNvbnRleHQuaWQsIG5ld1ZhbHVlKTtcblxuICBjb25zdCBzZXJpYWxpemVkQ29udGV4dHM6IHN0cmluZ1tdID0gW107XG4gIGNvbnRleHRzLmZvckVhY2goKF8sIGtleSkgPT4ge1xuICAgIHNlcmlhbGl6ZWRDb250ZXh0cy5wdXNoKGAke2tleX1gKTtcbiAgfSk7XG4gIHNldEF0dHJpYnV0ZShyZW5kZXJDdHgsIGhvc3RFbGVtZW50LCBRQ3R4QXR0ciwgc2VyaWFsaXplZENvbnRleHRzLmpvaW4oJyAnKSk7XG4gIHNldFZhbHVlKHRydWUpO1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29udGV4dDxTVEFURSBleHRlbmRzIG9iamVjdD4oY29udGV4dDogQ29udGV4dDxTVEFURT4pOiBTVEFURSB7XG4gIGNvbnN0IHZhbHVlID0gX3VzZUNvbnRleHQoY29udGV4dCk7XG4gIHJldHVybiB3cmFwU3Vic2NyaWJlcih2YWx1ZSwgdXNlSG9zdEVsZW1lbnQoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfdXNlQ29udGV4dDxTVEFURSBleHRlbmRzIG9iamVjdD4oY29udGV4dDogQ29udGV4dDxTVEFURT4pOiBTVEFURSB7XG4gIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU2VxdWVudGlhbFNjb3BlKCk7XG4gIGlmICghdmFsdWUpIHtcbiAgICBjb25zdCBpbnZva2VDb250ZXh0ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICAgIGxldCBob3N0RWxlbWVudCA9IGludm9rZUNvbnRleHQuaG9zdEVsZW1lbnQhO1xuICAgIGNvbnN0IGNvbXBvbmVudHMgPSBpbnZva2VDb250ZXh0LnJlbmRlckN0eCEuY29tcG9uZW50cztcbiAgICBmb3IgKGxldCBpID0gY29tcG9uZW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgaG9zdEVsZW1lbnQgPSBjb21wb25lbnRzW2ldLmhvc3RFbGVtZW50O1xuICAgICAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChjb21wb25lbnRzW2ldLmhvc3RFbGVtZW50KTtcbiAgICAgIGlmIChjdHguY29udGV4dHMpIHtcbiAgICAgICAgY29uc3QgZm91bmQgPSBjdHguY29udGV4dHMuZ2V0KGNvbnRleHQuaWQpO1xuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICBzZXRWYWx1ZShmb3VuZCk7XG4gICAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZvdW5kRWwgPSBob3N0RWxlbWVudC5jbG9zZXN0KGBbcVxcXFw6Y3R4Kj1cIiR7Y29udGV4dC5pZH1cIl1gKTtcbiAgICBpZiAoZm91bmRFbCkge1xuICAgICAgY29uc3QgdmFsdWUgPSBnZXRDb250ZXh0KGZvdW5kRWwpLmNvbnRleHRzIS5nZXQoY29udGV4dC5pZCk7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgbm90IGZvdW5kIHN0YXRlIGZvciB1c2VDb250ZXh0OiAke2NvbnRleHQuaWR9YCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuIl19"],"names":["isNode"],"mappings":"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AAE;AACjC,IAAI,OAAOA,QAAM,CAAC,KAAK,CAAC,IAAI,KAAK,CAAC,QAAQ,KAAK,CAAC,CAAC;AACjD;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,CAAC,CAAC,UAAU,EAAE;AAC9B,IAAI,OAAO,UAAU,CAAC,UAAU,CAAC,CAAC;AAClC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,iBAAiB,CAAC,EAAE,EAAE;AACtC,IAAI,OAAO,UAAU,KAAK,EAAE,GAAG,IAAI,EAAE;AACrC,QAAQ,OAAO,EAAE,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,CAAC;AAChD,KAAK,CAAC;AACN;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,cAAc,GAAG;AACjC,IAAI,MAAM,GAAG,GAAG,gBAAgB,EAAE,CAAC;AACnC,IAAI,WAAW,CAAC,GAAG,CAAC,KAAK,EAAE,WAAW,CAAC,CAAC;AACxC,IAA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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,gBAAgB,GAAG,iBAAiB,CAAC,kBAAkB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,iBAAiB,CAAC,QAAQ,EAAE;AAC5C,IAAI,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,kBAAkB,EAAE,CAAC;AACnD,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAC;AACvB,QAAQ,MAAM,QAAQ,GAAG,WAAW,CAAC,WAAW,EAAE,CAAC,CAAC,QAAQ,CAAC;AAC7D,QAAQ,IAAI,QAAQ,EAAE;AACtB,YAAY,SAAS,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;AACzC,SAAS;AACT,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,eAAe,GAAG,iBAAiB,CAAC,iBAAiB,EAAE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,iBAAiB,CAAC,QAAQ,EAAE;AAC5C,IAAI,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,kBAAkB,EAAE,CAAC;AAC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CL,IAAI,OAAO,WAAW,CAAC;AACvB;;ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,aAAa,CAAC,SAAS,EAAE;AACzC,IAAI,MAAM,CAAC,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC,GAAG,kBAAkB,EAAE,CAAC;AACtD,IAAI,IAAI,CAAC,KAAK,EAAE;AAChB,QAAQ,MAAM,EAAE,GAAG,cAAc,EAAE,CAAC;AACpC,QAAQ,MAAM,KAAK,GAAG;AACtB,YAAY,GAAG,EAAE,SAAS;AAC1B,YAAY,EAAE;AACd,YAAY,CAAC,EAAE,UAAU,CAAC,SAAS;AACnC,YAAY,CAAC;AACb,SAAS,CAAC;AACV,QAAQ,QAAQ,CAAC,IAAI,CAAC,CAAC;AACvB,QAAQ,UAAU,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AAC3C,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,WAAW,GAAG,iBAAiB,CAAC,aAAa,EAAE;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,YAAY,CAAC,QAAQ,EAAE;AACvC,IAAI,KAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;AAC7B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,iBAAiB,CAAC,YAAY,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,aAAa,CAAC,QAAQ,EAAE;AACxC,IAAI,KAAK,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;AAChC,CAAC;AAgCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,KAAK,CAAC,KAAK,EAAE,OAAO,EAAE;AACtC,IAAI,MAAM,EAAE,GAAG,cAAc,EAAE,CAAC;AAChC,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;AAC/B,IAAI,aAAa,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AAC1D,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,aAAa,CAAC,KAAK,EAAE,QAAQ,EAAE;AAC/C,IAAI,MAAM,EAAE,GAAG,cAAc,EAAE,CAAC;AAChC,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;AAC/B,IAAI,aAAa,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;AACpE,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,WAAW,CAAC,KAAK,EAAE,OAAO,EAAE;AAC5C,IAAI,MAAM,EAAE,GAAG,cAAc,EAAE,CAAC;AAChC,IAAI,MAAM,GAAG,GAAG,UAAU,CAAC,EAAE,CAAC,CAAC;AAC/B,IAAI,aAAa,CAAC,SAAS,EAAE,GAAG,EAAE,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AACjE,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,YAAY,CAAC,MAAM,EAAE;AACrC,IAAI,UAAU,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC;AAC9B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,UAAU,GAAG,iBAAiB,CAAC,YAAY,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,kBAAkB,CAAC,MAAM,EAAE;AAC3C,IAAI,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AAC7B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,gBAAgB,GAAG,iBAAiB,CAAC,kBAAkB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,YAAY,CAAC,WAAW,EAAE,OAAO,GAAG,EAAE,EAAE;AACxD,IAAI,MAAM,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC;AAC7C;AACA,IAAI,OAAO,SAAS,gBAAgB,CAAC,KAAK,EAAE,GAAG,EAAE;AACjD,QAAQ,MAAM,QAAQ,GAAG,WAAW,CAAC,kBAAkB,EAAE,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CA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"}