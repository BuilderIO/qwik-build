{"version":3,"file":"core.cjs","sources":["../../../dist-dev/tsc-out/packages/qwik/src/core/util/qdev.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/flyweight.js","../../../dist-dev/tsc-out/packages/qwik/src/core/assert/assert.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/markers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/dom.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-core.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/element.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/promises.js","../../../dist-dev/tsc-out/packages/qwik/src/core/platform/platform.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/implicit_dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-sequential-scope.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/event.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/fast-calls.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/case.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/jsx-runtime.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/host.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/execute-component.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/hash_code.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/qrl-styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/render-dom.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/virtual-element.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/visitor.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-lexical-scope.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/notify-render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/container.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/store.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-watch.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-resource.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/serializers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/q-object.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/log.js","../../../dist-dev/tsc-out/packages/qwik/src/core/error/error.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl-class.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/component.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/factory.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/slot.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/version.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/render.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/ssr/render-ssr.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-document.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-store.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-ref.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-context.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-env-data.js","../../../dist-dev/tsc-out/packages/qwik/src/core/style/scoped-stylesheet.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-styles.js"],"sourcesContent":["/*#__PURE__*/ ((gbl) => {\n    // ensures unit tests have globalThis on Node10\n    // this will be removed from production builds\n    if (typeof globalThis === 'undefined') {\n        gbl.globalThis = gbl;\n    }\n})(typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof self !== 'undefined'\n            ? self\n            : {});\n// minification can replace the `globalThis.qDev` with `false`\n// which will remove all dev code within from the build\nexport const qDev = globalThis.qDev !== false;\nexport const qTest = !!globalThis.describe;\nexport const qGlobal = globalThis;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWRldi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL3FkZXYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxDQUFDLENBQUMsQ0FBQyxHQUFRLEVBQUUsRUFBRTtJQUMxQiwrQ0FBK0M7SUFDL0MsOENBQThDO0lBQzlDLElBQUksT0FBTyxVQUFVLEtBQUssV0FBVyxFQUFFO1FBQ3JDLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDO0tBQ3RCO0FBQ0gsQ0FBQyxDQUFDLENBQ0EsT0FBTyxNQUFNLEtBQUssV0FBVztJQUMzQixDQUFDLENBQUMsTUFBTTtJQUNSLENBQUMsQ0FBQyxPQUFPLE1BQU0sS0FBSyxXQUFXO1FBQy9CLENBQUMsQ0FBQyxNQUFNO1FBQ1IsQ0FBQyxDQUFDLE9BQU8sSUFBSSxLQUFLLFdBQVc7WUFDN0IsQ0FBQyxDQUFDLElBQUk7WUFDTixDQUFDLENBQUMsRUFBRSxDQUNQLENBQUM7QUFFRiw4REFBOEQ7QUFDOUQsdURBQXVEO0FBQ3ZELE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBSSxVQUFrQixDQUFDLElBQUksS0FBSyxLQUFLLENBQUM7QUFDdkQsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBRSxVQUFrQixDQUFDLFFBQVEsQ0FBQztBQUNwRCxNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsVUFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qI19fUFVSRV9fKi8gKChnYmw6IGFueSkgPT4ge1xuICAvLyBlbnN1cmVzIHVuaXQgdGVzdHMgaGF2ZSBnbG9iYWxUaGlzIG9uIE5vZGUxMFxuICAvLyB0aGlzIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHByb2R1Y3Rpb24gYnVpbGRzXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBnYmwuZ2xvYmFsVGhpcyA9IGdibDtcbiAgfVxufSkoXG4gIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnXG4gICAgPyBnbG9iYWxcbiAgICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnXG4gICAgPyB3aW5kb3dcbiAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xuICAgID8gc2VsZlxuICAgIDoge31cbik7XG5cbi8vIG1pbmlmaWNhdGlvbiBjYW4gcmVwbGFjZSB0aGUgYGdsb2JhbFRoaXMucURldmAgd2l0aCBgZmFsc2VgXG4vLyB3aGljaCB3aWxsIHJlbW92ZSBhbGwgZGV2IGNvZGUgd2l0aGluIGZyb20gdGhlIGJ1aWxkXG5leHBvcnQgY29uc3QgcURldiA9IChnbG9iYWxUaGlzIGFzIGFueSkucURldiAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcVRlc3QgPSAhIShnbG9iYWxUaGlzIGFzIGFueSkuZGVzY3JpYmU7XG5leHBvcnQgY29uc3QgcUdsb2JhbCA9IGdsb2JhbFRoaXMgYXMgYW55O1xuIl19","import { qDev } from './qdev';\nexport const EMPTY_ARRAY = [];\nexport const EMPTY_OBJ = {};\nif (qDev) {\n    Object.freeze(EMPTY_ARRAY);\n    Object.freeze(EMPTY_OBJ);\n    Error.stackTraceLimit = 9999;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmx5d2VpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZmx5d2VpZ2h0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFOUIsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUM5QixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBRTVCLElBQUksSUFBSSxFQUFFO0lBQ1IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3pCLEtBQUssQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO0NBQzlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcURldiB9IGZyb20gJy4vcWRldic7XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IHt9O1xuXG5pZiAocURldikge1xuICBPYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZKTtcbiAgT2JqZWN0LmZyZWV6ZShFTVBUWV9PQkopO1xuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSA5OTk5O1xufVxuIl19","import { logErrorAndStop } from '../util/log';\nimport { qDev } from '../util/qdev';\nexport function assertDefined(value, text, ...parts) {\n    if (qDev) {\n        if (value != null)\n            return;\n        throw logErrorAndStop(text, ...parts);\n    }\n}\nexport function assertEqual(value1, value2, text, ...parts) {\n    if (qDev) {\n        if (value1 === value2)\n            return;\n        throw logErrorAndStop(text, ...parts);\n    }\n}\nexport function assertTrue(value1, text, ...parts) {\n    if (qDev) {\n        if (value1 === true)\n            return;\n        throw logErrorAndStop(text, ...parts);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2Fzc2VydC9hc3NlcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUM5QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sVUFBVSxhQUFhLENBQzNCLEtBQVEsRUFDUixJQUFZLEVBQ1osR0FBRyxLQUFZO0lBRWYsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLEtBQUssSUFBSSxJQUFJO1lBQUUsT0FBTztRQUMxQixNQUFNLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztLQUN2QztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUN6QixNQUFXLEVBQ1gsTUFBVyxFQUNYLElBQVksRUFDWixHQUFHLEtBQVk7SUFFZixJQUFJLElBQUksRUFBRTtRQUNSLElBQUksTUFBTSxLQUFLLE1BQU07WUFBRSxPQUFPO1FBQzlCLE1BQU0sZUFBZSxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0tBQ3ZDO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxVQUFVLENBQUMsTUFBVyxFQUFFLElBQVksRUFBRSxHQUFHLEtBQVk7SUFDbkUsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLE1BQU0sS0FBSyxJQUFJO1lBQUUsT0FBTztRQUM1QixNQUFNLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztLQUN2QztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2dFcnJvckFuZFN0b3AgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERlZmluZWQ8VD4oXG4gIHZhbHVlOiBULFxuICB0ZXh0OiBzdHJpbmcsXG4gIC4uLnBhcnRzOiBhbnlbXVxuKTogYXNzZXJ0cyB2YWx1ZSBpcyBOb25OdWxsYWJsZTxUPiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHJldHVybjtcbiAgICB0aHJvdyBsb2dFcnJvckFuZFN0b3AodGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRFcXVhbChcbiAgdmFsdWUxOiBhbnksXG4gIHZhbHVlMjogYW55LFxuICB0ZXh0OiBzdHJpbmcsXG4gIC4uLnBhcnRzOiBhbnlbXVxuKTogYXNzZXJ0cyB2YWx1ZTEgaXMgdHlwZW9mIHZhbHVlMiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA9PT0gdmFsdWUyKSByZXR1cm47XG4gICAgdGhyb3cgbG9nRXJyb3JBbmRTdG9wKHRleHQsIC4uLnBhcnRzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VHJ1ZSh2YWx1ZTE6IGFueSwgdGV4dDogc3RyaW5nLCAuLi5wYXJ0czogYW55W10pOiBhc3NlcnRzIHZhbHVlMSBpcyB0cnVlIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUxID09PSB0cnVlKSByZXR1cm47XG4gICAgdGhyb3cgbG9nRXJyb3JBbmRTdG9wKHRleHQsIC4uLnBhcnRzKTtcbiAgfVxufVxuIl19","/**\n * @private\n */\nexport const isHtmlElement = (node) => {\n    return node ? node.nodeType === 1 : false;\n};\nexport const isSerializableObject = (v) => {\n    const proto = Object.getPrototypeOf(v);\n    return proto === Object.prototype || proto === null;\n};\nexport const isObject = (v) => {\n    return v && typeof v === 'object';\n};\nexport const isArray = (v) => {\n    return Array.isArray(v);\n};\nexport const isString = (v) => {\n    return typeof v === 'string';\n};\nexport const isFunction = (v) => {\n    return typeof v === 'function';\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC90eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUFDLElBQVMsRUFBbUIsRUFBRTtJQUMxRCxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUM1QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLENBQU0sRUFBRSxFQUFFO0lBQzdDLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkMsT0FBTyxLQUFLLEtBQUssTUFBTSxDQUFDLFNBQVMsSUFBSSxLQUFLLEtBQUssSUFBSSxDQUFDO0FBQ3RELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQU0sRUFBWSxFQUFFO0lBQzNDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQztBQUNwQyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFNLEVBQWMsRUFBRTtJQUM1QyxPQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBTSxFQUFlLEVBQUU7SUFDOUMsT0FBTyxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUM7QUFDL0IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBTSxFQUFpQixFQUFFO0lBQ2xELE9BQU8sT0FBTyxDQUFDLEtBQUssVUFBVSxDQUFDO0FBQ2pDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IGlzSHRtbEVsZW1lbnQgPSAobm9kZTogYW55KTogbm9kZSBpcyBFbGVtZW50ID0+IHtcbiAgcmV0dXJuIG5vZGUgPyBub2RlLm5vZGVUeXBlID09PSAxIDogZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTZXJpYWxpemFibGVPYmplY3QgPSAodjogYW55KSA9PiB7XG4gIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHYpO1xuICByZXR1cm4gcHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUgfHwgcHJvdG8gPT09IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAodjogYW55KTogdiBpcyBhbnkgPT4ge1xuICByZXR1cm4gdiAmJiB0eXBlb2YgdiA9PT0gJ29iamVjdCc7XG59O1xuXG5leHBvcnQgY29uc3QgaXNBcnJheSA9ICh2OiBhbnkpOiB2IGlzIGFueVtdID0+IHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodik7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTdHJpbmcgPSAodjogYW55KTogdiBpcyBzdHJpbmcgPT4ge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRnVuY3Rpb24gPSAodjogYW55KTogdiBpcyBGdW5jdGlvbiA9PiB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbi8qKlxuICogVHlwZSByZXByZXNlbnRpbmcgYSB2YWx1ZSB3aGljaCBpcyBlaXRoZXIgcmVzb2x2ZSBvciBhIHByb21pc2UuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFZhbHVlT3JQcm9taXNlPFQ+ID0gVCB8IFByb21pc2U8VD47XG4iXX0=","/**\n * State factory of the component.\n */\nexport const OnRenderProp = 'q:renderFn';\n/**\n * Component style host prefix\n */\nexport const ComponentStylesPrefixHost = '💎';\n/**\n * Component style content prefix\n */\nexport const ComponentStylesPrefixContent = '⭐️';\n/**\n * Prefix used to identify on listeners.\n */\nexport const EventPrefix = 'on:';\n/**\n * Attribute used to mark that an event listener is attached.\n */\nexport const EventAny = 'on:.';\n/**\n * `<some-element q:slot=\"...\">`\n */\nexport const QSlot = 'q:slot';\nexport const QSlotRef = 'q:sref';\nexport const QSlotName = 'q:sname';\nexport const QStyle = 'q:style';\nexport const QScopedStyle = 'q:sstyle';\nexport const QCtxAttr = 'q:ctx';\nexport const QContainerAttr = 'q:container';\nexport const QContainerSelector = '[q\\\\:container]';\nexport const RenderEvent = 'qRender';\n/**\n * `<q:slot name=\"...\">`\n */\nexport const QSlotInertName = '\\u0000';\nexport const ELEMENT_ID = 'q:id';\nexport const ELEMENT_ID_SELECTOR = '[q\\\\:id]';\nexport const ELEMENT_ID_PREFIX = '#';\nexport const ELEMENT_ID_Q_PROPS_PREFIX = '&';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFya2Vycy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL21hcmtlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBRXpDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsSUFBSSxDQUFDO0FBRTlDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sNEJBQTRCLEdBQUcsSUFBSSxDQUFDO0FBRWpEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQztBQUVqQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUM7QUFDL0I7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDO0FBQzlCLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDakMsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLFNBQVMsQ0FBQztBQUNuQyxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDO0FBQ2hDLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxVQUFVLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQztBQUVoQyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsYUFBYSxDQUFDO0FBRTVDLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLGlCQUFpQixDQUFDO0FBRXBELE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxTQUFTLENBQUM7QUFDckM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUM7QUFDakMsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsVUFBVSxDQUFDO0FBQzlDLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLEdBQUcsQ0FBQztBQUNyQyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxHQUFHLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFN0YXRlIGZhY3Rvcnkgb2YgdGhlIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uUmVuZGVyUHJvcCA9ICdxOnJlbmRlckZuJztcblxuLyoqXG4gKiBDb21wb25lbnQgc3R5bGUgaG9zdCBwcmVmaXhcbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBvbmVudFN0eWxlc1ByZWZpeEhvc3QgPSAn8J+Sjic7XG5cbi8qKlxuICogQ29tcG9uZW50IHN0eWxlIGNvbnRlbnQgcHJlZml4XG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50ID0gJ+KtkO+4jyc7XG5cbi8qKlxuICogUHJlZml4IHVzZWQgdG8gaWRlbnRpZnkgb24gbGlzdGVuZXJzLlxuICovXG5leHBvcnQgY29uc3QgRXZlbnRQcmVmaXggPSAnb246JztcblxuLyoqXG4gKiBBdHRyaWJ1dGUgdXNlZCB0byBtYXJrIHRoYXQgYW4gZXZlbnQgbGlzdGVuZXIgaXMgYXR0YWNoZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBFdmVudEFueSA9ICdvbjouJztcbi8qKlxuICogYDxzb21lLWVsZW1lbnQgcTpzbG90PVwiLi4uXCI+YFxuICovXG5leHBvcnQgY29uc3QgUVNsb3QgPSAncTpzbG90JztcbmV4cG9ydCBjb25zdCBRU2xvdFJlZiA9ICdxOnNyZWYnO1xuZXhwb3J0IGNvbnN0IFFTbG90TmFtZSA9ICdxOnNuYW1lJztcbmV4cG9ydCBjb25zdCBRU3R5bGUgPSAncTpzdHlsZSc7XG5leHBvcnQgY29uc3QgUVNjb3BlZFN0eWxlID0gJ3E6c3N0eWxlJztcbmV4cG9ydCBjb25zdCBRQ3R4QXR0ciA9ICdxOmN0eCc7XG5cbmV4cG9ydCBjb25zdCBRQ29udGFpbmVyQXR0ciA9ICdxOmNvbnRhaW5lcic7XG5cbmV4cG9ydCBjb25zdCBRQ29udGFpbmVyU2VsZWN0b3IgPSAnW3FcXFxcOmNvbnRhaW5lcl0nO1xuXG5leHBvcnQgY29uc3QgUmVuZGVyRXZlbnQgPSAncVJlbmRlcic7XG4vKipcbiAqIGA8cTpzbG90IG5hbWU9XCIuLi5cIj5gXG4gKi9cbmV4cG9ydCBjb25zdCBRU2xvdEluZXJ0TmFtZSA9ICdcXHUwMDAwJztcblxuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSUQgPSAncTppZCc7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JRF9TRUxFQ1RPUiA9ICdbcVxcXFw6aWRdJztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEX1BSRUZJWCA9ICcjJztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEX1FfUFJPUFNfUFJFRklYID0gJyYnO1xuIl19","import { assertDefined } from '../assert/assert';\nexport const getDocument = (node) => {\n    if (typeof document !== 'undefined') {\n        return document;\n    }\n    if (node.nodeType === 9) {\n        return node;\n    }\n    const doc = node.ownerDocument;\n    assertDefined(doc, 'doc must be defined');\n    return doc;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZG9tLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUdqRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxJQUE0QixFQUFZLEVBQUU7SUFDcEUsSUFBSSxPQUFPLFFBQVEsS0FBSyxXQUFXLEVBQUU7UUFDbkMsT0FBTyxRQUFRLENBQUM7S0FDakI7SUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sSUFBdUIsQ0FBQztLQUNoQztJQUNELE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDL0IsYUFBYSxDQUFDLEdBQUcsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0lBQzFDLE9BQU8sR0FBSSxDQUFDO0FBQ2QsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcblxuZXhwb3J0IGNvbnN0IGdldERvY3VtZW50ID0gKG5vZGU6IFF3aWtFbGVtZW50IHwgRG9jdW1lbnQpOiBEb2N1bWVudCA9PiB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50O1xuICB9XG4gIGlmIChub2RlLm5vZGVUeXBlID09PSA5KSB7XG4gICAgcmV0dXJuIG5vZGUgYXMgYW55IGFzIERvY3VtZW50O1xuICB9XG4gIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgYXNzZXJ0RGVmaW5lZChkb2MsICdkb2MgbXVzdCBiZSBkZWZpbmVkJyk7XG4gIHJldHVybiBkb2MhO1xufTtcbiJdfQ==","import { isArray } from '../util/types';\nimport { assertDefined } from '../assert/assert';\nimport { QContainerSelector, RenderEvent } from '../util/markers';\nimport { getDocument } from '../util/dom';\nimport { qError, QError_useInvokeContext, QError_useMethodOutsideContext } from '../error/error';\nlet _context;\nexport const CONTAINER = Symbol('container');\nexport const tryGetInvokeContext = () => {\n    if (!_context) {\n        const context = typeof document !== 'undefined' && document && document.__q_context__;\n        if (!context) {\n            return undefined;\n        }\n        if (isArray(context)) {\n            const element = context[0];\n            return (document.__q_context__ = newInvokeContext(getDocument(element), undefined, element, context[1], context[2]));\n        }\n        return context;\n    }\n    return _context;\n};\nexport const getInvokeContext = () => {\n    const ctx = tryGetInvokeContext();\n    if (!ctx) {\n        throw qError(QError_useMethodOutsideContext);\n    }\n    return ctx;\n};\nexport const useInvokeContext = () => {\n    const ctx = getInvokeContext();\n    if (ctx.$event$ !== RenderEvent) {\n        throw qError(QError_useInvokeContext);\n    }\n    assertDefined(ctx.$hostElement$, `invoke: $hostElement$ must be defined`, ctx);\n    assertDefined(ctx.$waitOn$, `invoke: $waitOn$ must be defined`, ctx);\n    assertDefined(ctx.$renderCtx$, `invoke: $renderCtx$ must be defined`, ctx);\n    assertDefined(ctx.$doc$, `invoke: $doc$ must be defined`, ctx);\n    assertDefined(ctx.$subscriber$, `invoke: $subscriber$ must be defined`, ctx);\n    return ctx;\n};\nexport const useBindInvokeContext = (callback) => {\n    if (callback == null) {\n        return callback;\n    }\n    const ctx = getInvokeContext();\n    return ((...args) => {\n        return invoke(ctx, callback.bind(undefined, ...args));\n    });\n};\nexport const invoke = (context, fn, ...args) => {\n    const previousContext = _context;\n    let returnValue;\n    try {\n        _context = context;\n        returnValue = fn.apply(null, args);\n    }\n    finally {\n        _context = previousContext;\n    }\n    return returnValue;\n};\nexport const newInvokeContext = (doc, hostElement, element, event, url) => {\n    return {\n        $seq$: 0,\n        $doc$: doc,\n        $hostElement$: hostElement,\n        $element$: element,\n        $event$: event,\n        $url$: url || null,\n        $qrl$: undefined,\n    };\n};\nexport const getContainer = (el) => {\n    let container = el[CONTAINER];\n    if (!container) {\n        container = el.closest(QContainerSelector);\n        el[CONTAINER] = container;\n    }\n    return container;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQWtCLE1BQU0sZUFBZSxDQUFDO0FBRXhELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUUxQyxPQUFPLEVBQUUsTUFBTSxFQUFFLHVCQUF1QixFQUFFLDhCQUE4QixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUE0QmpHLElBQUksUUFBbUMsQ0FBQztBQUV4QyxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRTdDLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLEdBQThCLEVBQUU7SUFDakUsSUFBSSxDQUFDLFFBQVEsRUFBRTtRQUNiLE1BQU0sT0FBTyxHQUFHLE9BQU8sUUFBUSxLQUFLLFdBQVcsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLGFBQWEsQ0FBQztRQUN0RixJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ1osT0FBTyxTQUFTLENBQUM7U0FDbEI7UUFDRCxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUNwQixNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDM0IsT0FBTyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEdBQUcsZ0JBQWdCLENBQy9DLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFDcEIsU0FBUyxFQUNULE9BQU8sRUFDUCxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQ1YsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUNYLENBQUMsQ0FBQztTQUNKO1FBQ0QsT0FB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QUFFLENBQUMsT0FBTyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDMUMsRUFBVSxDQUFDLFNBQVMsQ0FBQyxHQUFHLFNBQVMsQ0FBQztLQUNwQztJQUNELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXksIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFByb3BzIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMucHVibGljJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB0eXBlIHsgUXdpa0RvY3VtZW50IH0gZnJvbSAnLi4vZG9jdW1lbnQnO1xuaW1wb3J0IHsgUUNvbnRhaW5lclNlbGVjdG9yLCBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfdXNlSW52b2tlQ29udGV4dCwgUUVycm9yX3VzZU1ldGhvZE91dHNpZGVDb250ZXh0IH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vcmVuZGVyL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgU3Vic2NyaWJlciB9IGZyb20gJy4vdXNlLXdhdGNoJztcbmltcG9ydCB0eXBlIHsgUXdpa0VsZW1lbnQgfSBmcm9tICcuLi9yZW5kZXIvZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5cbmRlY2xhcmUgY29uc3QgZG9jdW1lbnQ6IFF3aWtEb2N1bWVudDtcblxuZXhwb3J0IGludGVyZmFjZSBTdHlsZUFwcGVuZCB7XG4gIHN0eWxlSWQ6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnZva2VDb250ZXh0IHtcbiAgJHVybCQ6IFVSTCB8IG51bGw7XG4gICRzZXEkOiBudW1iZXI7XG4gICRkb2MkPzogRG9jdW1lbnQ7XG4gICRob3N0RWxlbWVudCQ/OiBRd2lrRWxlbWVudDtcbiAgJGVsZW1lbnQkPzogRWxlbWVudDtcbiAgJGV2ZW50JDogYW55O1xuICAkcXJsJD86IFFSTDxhbnk+O1xuICAkd2FpdE9uJD86IFZhbHVlT3JQcm9taXNlPGFueT5bXTtcbiAgJHByb3BzJD86IFByb3BzO1xuICAkc3Vic2NyaWJlciQ/OiBTdWJzY3JpYmVyIHwgbnVsbDtcbiAgJHJlbmRlckN0eCQ/OiBSZW5kZXJDb250ZXh0O1xufVxuXG5leHBvcnQgdHlwZSBSZW5kZXJJbnZva2VDb250ZXh0ID0gUmVxdWlyZWQ8SW52b2tlQ29udGV4dD47XG5cbmxldCBfY29udGV4dDogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IENPTlRBSU5FUiA9IFN5bWJvbCgnY29udGFpbmVyJyk7XG5cbmV4cG9ydCBjb25zdCB0cnlHZXRJbnZva2VDb250ZXh0ID0gKCk6IEludm9rZUNvbnRleHQgfCB1bmRlZmluZWQgPT4ge1xuICBpZiAoIV9jb250ZXh0KSB7XG4gICAgY29uc3QgY29udGV4dCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuX19xX2NvbnRleHRfXztcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChpc0FycmF5KGNvbnRleHQpKSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gY29udGV4dFswXTtcbiAgICAgIHJldHVybiAoZG9jdW1lbnQuX19xX2NvbnRleHRfXyA9IG5ld0ludm9rZUNvbnRleHQoXG4gICAgICAgIGdldERvY3VtZW50KGVsZW1lbnQpLFxuICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGNvbnRleHRbMV0sXG4gICAgICAgIGNvbnRleHRbMl1cbiAgICAgICkpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dCBhcyBJbnZva2VDb250ZXh0O1xuICB9XG4gIHJldHVybiBfY29udGV4dDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbnZva2VDb250ZXh0ID0gKCk6IEludm9rZUNvbnRleHQgPT4ge1xuICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gIGlmICghY3R4KSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl91c2VNZXRob2RPdXRzaWRlQ29udGV4dCk7XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VJbnZva2VDb250ZXh0ID0gKCk6IFJlbmRlckludm9rZUNvbnRleHQgPT4ge1xuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIGlmIChjdHguJGV2ZW50JCAhPT0gUmVuZGVyRXZlbnQpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3VzZUludm9rZUNvbnRleHQpO1xuICB9XG4gIGFzc2VydERlZmluZWQoY3R4LiRob3N0RWxlbWVudCQsIGBpbnZva2U6ICRob3N0RWxlbWVudCQgbXVzdCBiZSBkZWZpbmVkYCwgY3R4KTtcbiAgYXNzZXJ0RGVmaW5lZChjdHguJHdhaXRPbiQsIGBpbnZva2U6ICR3YWl0T24kIG11c3QgYmUgZGVmaW5lZGAsIGN0eCk7XG4gIGFzc2VydERlZmluZWQoY3R4LiRyZW5kZXJDdHgkLCBgaW52b2tlOiAkcmVuZGVyQ3R4JCBtdXN0IGJlIGRlZmluZWRgLCBjdHgpO1xuICBhc3NlcnREZWZpbmVkKGN0eC4kZG9jJCwgYGludm9rZTogJGRvYyQgbXVzdCBiZSBkZWZpbmVkYCwgY3R4KTtcbiAgYXNzZXJ0RGVmaW5lZChjdHguJHN1YnNjcmliZXIkLCBgaW52b2tlOiAkc3Vic2NyaWJlciQgbXVzdCBiZSBkZWZpbmVkYCwgY3R4KTtcblxuICByZXR1cm4gY3R4IGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VCaW5kSW52b2tlQ29udGV4dCA9IDxUIGV4dGVuZHMgKCguLi5hcmdzOiBhbnlbXSkgPT4gYW55KSB8IHVuZGVmaW5lZD4oXG4gIGNhbGxiYWNrOiBUXG4pOiBUID0+IHtcbiAgaWYgKGNhbGxiYWNrID09IG51bGwpIHtcbiAgICByZXR1cm4gY2FsbGJhY2s7XG4gIH1cbiAgY29uc3QgY3R4ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICByZXR1cm4gKCguLi5hcmdzOiBhbnlbXSkgPT4ge1xuICAgIHJldHVybiBpbnZva2UoY3R4LCBjYWxsYmFjay5iaW5kKHVuZGVmaW5lZCwgLi4uYXJncykpO1xuICB9KSBhcyBUO1xufTtcbmV4cG9ydCBjb25zdCBpbnZva2UgPSA8QVJHUyBleHRlbmRzIGFueVtdID0gYW55W10sIFJFVCA9IGFueT4oXG4gIGNvbnRleHQ6IEludm9rZUNvbnRleHQsXG4gIGZuOiAoLi4uYXJnczogQVJHUykgPT4gUkVULFxuICAuLi5hcmdzOiBBUkdTXG4pOiBSRVQgPT4ge1xuICBjb25zdCBwcmV2aW91c0NvbnRleHQgPSBfY29udGV4dDtcbiAgbGV0IHJldHVyblZhbHVlOiBSRVQ7XG4gIHRyeSB7XG4gICAgX2NvbnRleHQgPSBjb250ZXh0O1xuICAgIHJldHVyblZhbHVlID0gZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gIH0gZmluYWxseSB7XG4gICAgX2NvbnRleHQgPSBwcmV2aW91c0NvbnRleHQ7XG4gIH1cbiAgcmV0dXJuIHJldHVyblZhbHVlO1xufTtcblxuZXhwb3J0IGNvbnN0IG5ld0ludm9rZUNvbnRleHQgPSAoXG4gIGRvYz86IERvY3VtZW50LFxuICBob3N0RWxlbWVudD86IFF3aWtFbGVtZW50LFxuICBlbGVtZW50PzogRWxlbWVudCxcbiAgZXZlbnQ/OiBhbnksXG4gIHVybD86IFVSTFxuKTogSW52b2tlQ29udGV4dCA9PiB7XG4gIHJldHVybiB7XG4gICAgJHNlcSQ6IDAsXG4gICAgJGRvYyQ6IGRvYyxcbiAgICAkaG9zdEVsZW1lbnQkOiBob3N0RWxlbWVudCxcbiAgICAkZWxlbWVudCQ6IGVsZW1lbnQsXG4gICAgJGV2ZW50JDogZXZlbnQsXG4gICAgJHVybCQ6IHVybCB8fCBudWxsLFxuICAgICRxcmwkOiB1bmRlZmluZWQsXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29udGFpbmVyID0gKGVsOiBRd2lrRWxlbWVudCk6IEVsZW1lbnQgfCBudWxsID0+IHtcbiAgbGV0IGNvbnRhaW5lciA9IChlbCBhcyBhbnkpW0NPTlRBSU5FUl07XG4gIGlmICghY29udGFpbmVyKSB7XG4gICAgY29udGFpbmVyID0gZWwuY2xvc2VzdChRQ29udGFpbmVyU2VsZWN0b3IpO1xuICAgIChlbCBhcyBhbnkpW0NPTlRBSU5FUl0gPSBjb250YWluZXI7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn07XG4iXX0=","import { isObject } from './types';\nexport const isNode = (value) => {\n    return value && typeof value.nodeType == 'number';\n};\nexport const isDocument = (value) => {\n    return value && value.nodeType === 9;\n};\nexport const isElement = (value) => {\n    return isNode(value) && value.nodeType === 1;\n};\nexport const isQwikElement = (value) => {\n    return isNode(value) && (value.nodeType === 1 || value.nodeType === 111);\n};\nexport const isVirtualElement = (value) => {\n    return isObject(value) && value.nodeType === 111;\n};\nexport const isText = (value) => {\n    return isNode(value) && value.nodeType === 3;\n};\nexport const isComment = (value) => {\n    return isNode(value) && value.nodeType === 9;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2VsZW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUVuQyxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFVLEVBQWlCLEVBQUU7SUFDbEQsT0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQztBQUNwRCxDQUFDLENBQUM7QUFDRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxLQUFVLEVBQXFCLEVBQUU7SUFDMUQsT0FBTyxLQUFLLElBQUksS0FBSyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBVSxFQUFvQixFQUFFO0lBQ3hELE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDO0FBQy9DLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUFDLEtBQVUsRUFBd0IsRUFBRTtJQUNoRSxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDM0UsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxLQUFVLEVBQTJCLEVBQUU7SUFDdEUsT0FBTyxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsS0FBSyxHQUFHLENBQUM7QUFDbkQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUMsS0FBVSxFQUFpQixFQUFFO0lBQ2xELE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDO0FBQy9DLENBQUMsQ0FBQztBQUNGLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFDLEtBQVUsRUFBb0IsRUFBRTtJQUN4RCxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsUUFBUSxLQUFLLENBQUMsQ0FBQztBQUMvQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFF3aWtFbGVtZW50LCBWaXJ0dWFsRWxlbWVudCB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIE5vZGUgPT4ge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm5vZGVUeXBlID09ICdudW1iZXInO1xufTtcbmV4cG9ydCBjb25zdCBpc0RvY3VtZW50ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBEb2N1bWVudCA9PiB7XG4gIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gOTtcbn07XG5leHBvcnQgY29uc3QgaXNFbGVtZW50ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBFbGVtZW50ID0+IHtcbiAgcmV0dXJuIGlzTm9kZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XG59O1xuXG5leHBvcnQgY29uc3QgaXNRd2lrRWxlbWVudCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgUXdpa0VsZW1lbnQgPT4ge1xuICByZXR1cm4gaXNOb2RlKHZhbHVlKSAmJiAodmFsdWUubm9kZVR5cGUgPT09IDEgfHwgdmFsdWUubm9kZVR5cGUgPT09IDExMSk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNWaXJ0dWFsRWxlbWVudCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgVmlydHVhbEVsZW1lbnQgPT4ge1xuICByZXR1cm4gaXNPYmplY3QodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxMTE7XG59O1xuXG5leHBvcnQgY29uc3QgaXNUZXh0ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBUZXh0ID0+IHtcbiAgcmV0dXJuIGlzTm9kZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDM7XG59O1xuZXhwb3J0IGNvbnN0IGlzQ29tbWVudCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgQ29tbWVudCA9PiB7XG4gIHJldHVybiBpc05vZGUodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSA5O1xufTtcbiJdfQ==","export const isPromise = (value) => {\n    return value instanceof Promise;\n};\nexport const safeCall = (call, thenFn, rejectFn) => {\n    try {\n        const promise = call();\n        if (isPromise(promise)) {\n            return promise.then(thenFn, rejectFn);\n        }\n        else {\n            return thenFn(promise);\n        }\n    }\n    catch (e) {\n        return rejectFn(e);\n    }\n};\nexport const then = (promise, thenFn) => {\n    return isPromise(promise) ? promise.then(thenFn) : thenFn(promise);\n};\nexport const promiseAll = (promises) => {\n    const hasPromise = promises.some(isPromise);\n    if (hasPromise) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\nexport const isNotNullable = (v) => {\n    return v != null;\n};\nexport const delay = (timeout) => {\n    return new Promise((resolve) => {\n        setTimeout(resolve, timeout);\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlzZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9wcm9taXNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFVLEVBQXlCLEVBQUU7SUFDN0QsT0FBTyxLQUFLLFlBQVksT0FBTyxDQUFDO0FBQ2xDLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUN0QixJQUE2QixFQUM3QixNQUE4QyxFQUM5QyxRQUE0QixFQUNMLEVBQUU7SUFDekIsSUFBSTtRQUNGLE1BQU0sT0FBTyxHQUFHLElBQUksRUFBRSxDQUFDO1FBQ3ZCLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ3RCLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFhLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDOUM7YUFBTTtZQUNMLE9BQU8sTUFBTSxDQUFDLE9BQWMsQ0FBQyxDQUFDO1NBQy9CO0tBQ0Y7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3BCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQ2xCLE9BQTBCLEVBQzFCLE1BQThDLEVBQzNCLEVBQUU7SUFDckIsT0FBTyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFjLENBQUMsQ0FBQztBQUNuRixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FDeEIsUUFBVyxFQUNrRCxFQUFFO0lBQy9ELE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUMsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDOUI7SUFDRCxPQUFPLFFBQWUsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBSSxDQUFJLEVBQXVCLEVBQUU7SUFDNUQsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDO0FBQ25CLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLE9BQWUsRUFBRSxFQUFFO0lBQ3ZDLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtRQUM3QixVQUFVLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBQcm9taXNlVHJlZTxUPiA9IFQgfCBQcm9taXNlPFQ+IHwgUHJvbWlzZTxUW10+IHwgQXJyYXk8UHJvbWlzZVRyZWU8VD4+O1xuXG5leHBvcnQgY29uc3QgaXNQcm9taXNlID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBQcm9taXNlPGFueT4gPT4ge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlO1xufTtcblxuZXhwb3J0IGNvbnN0IHNhZmVDYWxsID0gPFQsIEIsIEM+KFxuICBjYWxsOiAoKSA9PiBWYWx1ZU9yUHJvbWlzZTxUPixcbiAgdGhlbkZuOiAoYXJnOiBBd2FpdGVkPFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxCPixcbiAgcmVqZWN0Rm46IChyZWFzb246IGFueSkgPT4gQ1xuKTogVmFsdWVPclByb21pc2U8QiB8IEM+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwcm9taXNlID0gY2FsbCgpO1xuICAgIGlmIChpc1Byb21pc2UocHJvbWlzZSkpIHtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odGhlbkZuIGFzIGFueSwgcmVqZWN0Rm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhlbkZuKHByb21pc2UgYXMgYW55KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gcmVqZWN0Rm4oZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0aGVuID0gPFQsIEI+KFxuICBwcm9taXNlOiBWYWx1ZU9yUHJvbWlzZTxUPixcbiAgdGhlbkZuOiAoYXJnOiBBd2FpdGVkPFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxCPlxuKTogVmFsdWVPclByb21pc2U8Qj4gPT4ge1xuICByZXR1cm4gaXNQcm9taXNlKHByb21pc2UpID8gcHJvbWlzZS50aGVuKHRoZW5GbiBhcyBhbnkpIDogdGhlbkZuKHByb21pc2UgYXMgYW55KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9taXNlQWxsID0gPFQgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10gfCBbXT4oXG4gIHByb21pc2VzOiBUXG4pOiBWYWx1ZU9yUHJvbWlzZTx7IC1yZWFkb25seSBbUCBpbiBrZXlvZiBUXTogQXdhaXRlZDxUW1BdPiB9PiA9PiB7XG4gIGNvbnN0IGhhc1Byb21pc2UgPSBwcm9taXNlcy5zb21lKGlzUHJvbWlzZSk7XG4gIGlmIChoYXNQcm9taXNlKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZXMgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzTm90TnVsbGFibGUgPSA8VD4odjogVCk6IHYgaXMgTm9uTnVsbGFibGU8VD4gPT4ge1xuICByZXR1cm4gdiAhPSBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKHRpbWVvdXQ6IG51bWJlcikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWVvdXQpO1xuICB9KTtcbn07XG4iXX0=","import { getContainer } from '../use/use-core';\nimport { getDocument } from '../util/dom';\nimport { isObject } from '../util/types';\nexport const createPlatform = (doc) => {\n    const moduleCache = new Map();\n    return {\n        isServer: false,\n        importSymbol(element, url, symbolName) {\n            const urlDoc = toUrl(doc, element, url).toString();\n            const urlCopy = new URL(urlDoc);\n            urlCopy.hash = '';\n            urlCopy.search = '';\n            const importURL = urlCopy.href;\n            const mod = moduleCache.get(importURL);\n            if (mod) {\n                return mod[symbolName];\n            }\n            return import(/* @vite-ignore */ importURL).then((mod) => {\n                mod = findModule(mod);\n                moduleCache.set(importURL, mod);\n                return mod[symbolName];\n            });\n        },\n        raf: (fn) => {\n            return new Promise((resolve) => {\n                requestAnimationFrame(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        nextTick: (fn) => {\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        chunkForSymbol() {\n            return undefined;\n        },\n    };\n};\nconst findModule = (module) => {\n    return Object.values(module).find(isModule) || module;\n};\nconst isModule = (module) => {\n    return isObject(module) && module[Symbol.toStringTag] === 'Module';\n};\n/**\n * Convert relative base URI and relative URL into a fully qualified URL.\n *\n * @param base -`QRL`s are relative, and therefore they need a base for resolution.\n *    - `Element` use `base.ownerDocument.baseURI`\n *    - `Document` use `base.baseURI`\n *    - `string` use `base` as is\n *    - `QConfig` use `base.baseURI`\n * @param url - relative URL\n * @returns fully qualified URL.\n */\nexport const toUrl = (doc, element, url) => {\n    const containerEl = getContainer(element);\n    const base = new URL(containerEl?.getAttribute('q:base') ?? doc.baseURI, doc.baseURI);\n    return new URL(url, base);\n};\n// <docs markdown=\"./readme.md#setPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#setPlatform instead)\n/**\n * Sets the `CorePlatform`.\n *\n * This is useful to override the platform in tests to change the behavior of,\n * `requestAnimationFrame`, and import resolution.\n *\n * @param doc - The document of the application for which the platform is needed.\n * @param platform - The platform to use.\n * @alpha\n */\n// </docs>\nexport const setPlatform = (doc, plt) => (doc[DocumentPlatform] = plt);\n// <docs markdown=\"./readme.md#getPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#getPlatform instead)\n/**\n * Retrieve the `CorePlatform`.\n *\n * The `CorePlatform` is also responsible for retrieving the Manifest, that contains mappings\n * from symbols to javascript import chunks. For this reason, `CorePlatform` can't be global, but\n * is specific to the application currently running. On server it is possible that many different\n * applications are running in a single server instance, and for this reason the `CorePlatform`\n * is associated with the application document.\n *\n * @param docOrNode - The document (or node) of the application for which the platform is needed.\n * @alpha\n */\n// </docs>\nexport const getPlatform = (docOrNode) => {\n    const doc = getDocument(docOrNode);\n    return doc[DocumentPlatform] || (doc[DocumentPlatform] = createPlatform(doc));\n};\nexport const isServer = (doc) => {\n    return getPlatform(doc).isServer;\n};\nconst DocumentPlatform = ':platform:';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhdGZvcm0uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcGxhdGZvcm0vcGxhdGZvcm0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUd6QyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFhLEVBQWdCLEVBQUU7SUFDNUQsTUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQXFDLENBQUM7SUFDakUsT0FBTztRQUNMLFFBQVEsRUFBRSxLQUFLO1FBQ2YsWUFBWSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsVUFBVTtZQUNuQyxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUVuRCxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNoQyxPQUFPLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNsQixPQUFPLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztZQUNwQixNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQy9CLE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdkMsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDeEI7WUFDRCxPQUFPLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDdkQsR0FBRyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDdEIsV0FBVyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ2hDLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3pCLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ1YsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUM3QixxQkFBcUIsQ0FBQyxHQUFHLEVBQUU7b0JBQ3pCLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNoQixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2YsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUM3QixVQUFVLENBQUMsR0FBRyxFQUFFO29CQUNkLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNoQixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELGNBQWM7WUFDWixPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO0tBQ0YsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxHQUFHLENBQUMsTUFBVyxFQUFFLEVBQUU7SUFDakMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxNQUFNLENBQUM7QUFDeEQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxRQUFRLEdBQUcsQ0FBQyxNQUFXLEVBQUUsRUFBRTtJQUMvQixPQUFPLFFBQVEsQ0FBQyxNQUFNLENBQUMsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxLQUFLLFFBQVEsQ0FBQztBQUNyRSxDQUFDLENBQUM7QUFFRjs7Ozs7Ozs7OztHQVVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQUMsR0FBYSxFQUFFLE9BQW9CLEVBQUUsR0FBaUIsRUFBTyxFQUFFO0lBQ25GLE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQyxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUUsWUFBWSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RGLE9BQU8sSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzVCLENBQUMsQ0FBQztBQUVGLDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDOzs7Ozs7Ozs7R0FTRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxHQUFhLEVBQUUsR0FBaUIsRUFBRSxFQUFFLENBQzlELENBQUUsR0FBd0IsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBRXRELDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDOzs7Ozs7Ozs7OztHQVdHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLFNBQWlDLEVBQUUsRUFBRTtJQUMvRCxNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFxQixDQUFDO0lBQ3ZELE9BQU8sR0FBRyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNoRixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFhLEVBQUUsRUFBRTtJQUN4QyxPQUFPLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUM7QUFDbkMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxnQkFBZ0IsR0FBRyxZQUFZLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFF3aWtFbGVtZW50IH0gZnJvbSAnLi4vcmVuZGVyL2RvbS92aXJ0dWFsLWVsZW1lbnQnO1xuaW1wb3J0IHsgZ2V0Q29udGFpbmVyIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgQ29yZVBsYXRmb3JtIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQbGF0Zm9ybSA9IChkb2M6IERvY3VtZW50KTogQ29yZVBsYXRmb3JtID0+IHtcbiAgY29uc3QgbW9kdWxlQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgeyBbc3ltYm9sOiBzdHJpbmddOiBhbnkgfT4oKTtcbiAgcmV0dXJuIHtcbiAgICBpc1NlcnZlcjogZmFsc2UsXG4gICAgaW1wb3J0U3ltYm9sKGVsZW1lbnQsIHVybCwgc3ltYm9sTmFtZSkge1xuICAgICAgY29uc3QgdXJsRG9jID0gdG9VcmwoZG9jLCBlbGVtZW50LCB1cmwpLnRvU3RyaW5nKCk7XG5cbiAgICAgIGNvbnN0IHVybENvcHkgPSBuZXcgVVJMKHVybERvYyk7XG4gICAgICB1cmxDb3B5Lmhhc2ggPSAnJztcbiAgICAgIHVybENvcHkuc2VhcmNoID0gJyc7XG4gICAgICBjb25zdCBpbXBvcnRVUkwgPSB1cmxDb3B5LmhyZWY7XG4gICAgICBjb25zdCBtb2QgPSBtb2R1bGVDYWNoZS5nZXQoaW1wb3J0VVJMKTtcbiAgICAgIGlmIChtb2QpIHtcbiAgICAgICAgcmV0dXJuIG1vZFtzeW1ib2xOYW1lXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbXBvcnQoLyogQHZpdGUtaWdub3JlICovIGltcG9ydFVSTCkudGhlbigobW9kKSA9PiB7XG4gICAgICAgIG1vZCA9IGZpbmRNb2R1bGUobW9kKTtcbiAgICAgICAgbW9kdWxlQ2FjaGUuc2V0KGltcG9ydFVSTCwgbW9kKTtcbiAgICAgICAgcmV0dXJuIG1vZFtzeW1ib2xOYW1lXTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgcmFmOiAoZm4pID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBuZXh0VGljazogKGZuKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZShmbigpKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNodW5rRm9yU3ltYm9sKCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICB9O1xufTtcblxuY29uc3QgZmluZE1vZHVsZSA9IChtb2R1bGU6IGFueSkgPT4ge1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhtb2R1bGUpLmZpbmQoaXNNb2R1bGUpIHx8IG1vZHVsZTtcbn07XG5cbmNvbnN0IGlzTW9kdWxlID0gKG1vZHVsZTogYW55KSA9PiB7XG4gIHJldHVybiBpc09iamVjdChtb2R1bGUpICYmIG1vZHVsZVtTeW1ib2wudG9TdHJpbmdUYWddID09PSAnTW9kdWxlJztcbn07XG5cbi8qKlxuICogQ29udmVydCByZWxhdGl2ZSBiYXNlIFVSSSBhbmQgcmVsYXRpdmUgVVJMIGludG8gYSBmdWxseSBxdWFsaWZpZWQgVVJMLlxuICpcbiAqIEBwYXJhbSBiYXNlIC1gUVJMYHMgYXJlIHJlbGF0aXZlLCBhbmQgdGhlcmVmb3JlIHRoZXkgbmVlZCBhIGJhc2UgZm9yIHJlc29sdXRpb24uXG4gKiAgICAtIGBFbGVtZW50YCB1c2UgYGJhc2Uub3duZXJEb2N1bWVudC5iYXNlVVJJYFxuICogICAgLSBgRG9jdW1lbnRgIHVzZSBgYmFzZS5iYXNlVVJJYFxuICogICAgLSBgc3RyaW5nYCB1c2UgYGJhc2VgIGFzIGlzXG4gKiAgICAtIGBRQ29uZmlnYCB1c2UgYGJhc2UuYmFzZVVSSWBcbiAqIEBwYXJhbSB1cmwgLSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIGZ1bGx5IHF1YWxpZmllZCBVUkwuXG4gKi9cbmV4cG9ydCBjb25zdCB0b1VybCA9IChkb2M6IERvY3VtZW50LCBlbGVtZW50OiBRd2lrRWxlbWVudCwgdXJsOiBzdHJpbmcgfCBVUkwpOiBVUkwgPT4ge1xuICBjb25zdCBjb250YWluZXJFbCA9IGdldENvbnRhaW5lcihlbGVtZW50KTtcbiAgY29uc3QgYmFzZSA9IG5ldyBVUkwoY29udGFpbmVyRWw/LmdldEF0dHJpYnV0ZSgncTpiYXNlJykgPz8gZG9jLmJhc2VVUkksIGRvYy5iYXNlVVJJKTtcbiAgcmV0dXJuIG5ldyBVUkwodXJsLCBiYXNlKTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi9yZWFkbWUubWQjc2V0UGxhdGZvcm1cIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuL3JlYWRtZS5tZCNzZXRQbGF0Zm9ybSBpbnN0ZWFkKVxuLyoqXG4gKiBTZXRzIHRoZSBgQ29yZVBsYXRmb3JtYC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCB0byBvdmVycmlkZSB0aGUgcGxhdGZvcm0gaW4gdGVzdHMgdG8gY2hhbmdlIHRoZSBiZWhhdmlvciBvZixcbiAqIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgLCBhbmQgaW1wb3J0IHJlc29sdXRpb24uXG4gKlxuICogQHBhcmFtIGRvYyAtIFRoZSBkb2N1bWVudCBvZiB0aGUgYXBwbGljYXRpb24gZm9yIHdoaWNoIHRoZSBwbGF0Zm9ybSBpcyBuZWVkZWQuXG4gKiBAcGFyYW0gcGxhdGZvcm0gLSBUaGUgcGxhdGZvcm0gdG8gdXNlLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBzZXRQbGF0Zm9ybSA9IChkb2M6IERvY3VtZW50LCBwbHQ6IENvcmVQbGF0Zm9ybSkgPT5cbiAgKChkb2MgYXMgUGxhdGZvcm1Eb2N1bWVudClbRG9jdW1lbnRQbGF0Zm9ybV0gPSBwbHQpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4vcmVhZG1lLm1kI2dldFBsYXRmb3JtXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi9yZWFkbWUubWQjZ2V0UGxhdGZvcm0gaW5zdGVhZClcbi8qKlxuICogUmV0cmlldmUgdGhlIGBDb3JlUGxhdGZvcm1gLlxuICpcbiAqIFRoZSBgQ29yZVBsYXRmb3JtYCBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciByZXRyaWV2aW5nIHRoZSBNYW5pZmVzdCwgdGhhdCBjb250YWlucyBtYXBwaW5nc1xuICogZnJvbSBzeW1ib2xzIHRvIGphdmFzY3JpcHQgaW1wb3J0IGNodW5rcy4gRm9yIHRoaXMgcmVhc29uLCBgQ29yZVBsYXRmb3JtYCBjYW4ndCBiZSBnbG9iYWwsIGJ1dFxuICogaXMgc3BlY2lmaWMgdG8gdGhlIGFwcGxpY2F0aW9uIGN1cnJlbnRseSBydW5uaW5nLiBPbiBzZXJ2ZXIgaXQgaXMgcG9zc2libGUgdGhhdCBtYW55IGRpZmZlcmVudFxuICogYXBwbGljYXRpb25zIGFyZSBydW5uaW5nIGluIGEgc2luZ2xlIHNlcnZlciBpbnN0YW5jZSwgYW5kIGZvciB0aGlzIHJlYXNvbiB0aGUgYENvcmVQbGF0Zm9ybWBcbiAqIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIGRvY09yTm9kZSAtIFRoZSBkb2N1bWVudCAob3Igbm9kZSkgb2YgdGhlIGFwcGxpY2F0aW9uIGZvciB3aGljaCB0aGUgcGxhdGZvcm0gaXMgbmVlZGVkLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBnZXRQbGF0Zm9ybSA9IChkb2NPck5vZGU6IERvY3VtZW50IHwgUXdpa0VsZW1lbnQpID0+IHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZG9jT3JOb2RlKSBhcyBQbGF0Zm9ybURvY3VtZW50O1xuICByZXR1cm4gZG9jW0RvY3VtZW50UGxhdGZvcm1dIHx8IChkb2NbRG9jdW1lbnRQbGF0Zm9ybV0gPSBjcmVhdGVQbGF0Zm9ybShkb2MpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NlcnZlciA9IChkb2M6IERvY3VtZW50KSA9PiB7XG4gIHJldHVybiBnZXRQbGF0Zm9ybShkb2MpLmlzU2VydmVyO1xufTtcblxuY29uc3QgRG9jdW1lbnRQbGF0Zm9ybSA9ICc6cGxhdGZvcm06JztcblxuaW50ZXJmYWNlIFBsYXRmb3JtRG9jdW1lbnQgZXh0ZW5kcyBEb2N1bWVudCB7XG4gIFtEb2N1bWVudFBsYXRmb3JtXT86IENvcmVQbGF0Zm9ybTtcbn1cbiJdfQ==","import { $ } from '../import/qrl.public';\n// <docs markdown=\"../readme.md#implicit$FirstArg\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#implicit$FirstArg instead)\n/**\n * Create a `____$(...)` convenience method from `___(...)`.\n *\n * It is very common for functions to take a lazy-loadable resource as a first argument. For this\n * reason, the Qwik Optimizer automatically extracts the first argument from any function which\n * ends in `$`.\n *\n * This means that `foo$(arg0)` and `foo($(arg0))` are equivalent with respect to Qwik Optimizer.\n * The former is just a shorthand for the latter.\n *\n * For example, these function calls are equivalent:\n *\n * - `component$(() => {...})` is same as `onRender($(() => {...}))`\n *\n * ```tsx\n * export function myApi(callback: QRL<() => void>): void {\n *   // ...\n * }\n *\n * export const myApi$ = implicit$FirstArg(myApi);\n * // type of myApi$: (callback: () => void): void\n *\n * // can be used as:\n * myApi$(() => console.log('callback'));\n *\n * // will be transpiled to:\n * // FILE: <current file>\n * myApi(qrl('./chunk-abc.js', 'callback'));\n *\n * // FILE: chunk-abc.js\n * export const callback = () => console.log('callback');\n * ```\n *\n * @param fn - a function that should have its first argument automatically `$`.\n * @alpha\n */\n// </docs>\nexport const implicit$FirstArg = (fn) => {\n    return function (first, ...rest) {\n        return fn.call(null, $(first), ...rest);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wbGljaXRfZG9sbGFyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvaW1wbGljaXRfZG9sbGFyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxDQUFDLEVBQU8sTUFBTSxzQkFBc0IsQ0FBQztBQUU5QyxtREFBbUQ7QUFDbkQseUNBQXlDO0FBQ3pDLGdEQUFnRDtBQUNoRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtQ0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FDL0IsRUFBNkMsRUFDTCxFQUFFO0lBQzFDLE9BQU8sVUFBVSxLQUFZLEVBQUUsR0FBRyxJQUFVO1FBQzFDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgJCwgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZ1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZyBpbnN0ZWFkKVxuLyoqXG4gKiBDcmVhdGUgYSBgX19fXyQoLi4uKWAgY29udmVuaWVuY2UgbWV0aG9kIGZyb20gYF9fXyguLi4pYC5cbiAqXG4gKiBJdCBpcyB2ZXJ5IGNvbW1vbiBmb3IgZnVuY3Rpb25zIHRvIHRha2UgYSBsYXp5LWxvYWRhYmxlIHJlc291cmNlIGFzIGEgZmlyc3QgYXJndW1lbnQuIEZvciB0aGlzXG4gKiByZWFzb24sIHRoZSBRd2lrIE9wdGltaXplciBhdXRvbWF0aWNhbGx5IGV4dHJhY3RzIHRoZSBmaXJzdCBhcmd1bWVudCBmcm9tIGFueSBmdW5jdGlvbiB3aGljaFxuICogZW5kcyBpbiBgJGAuXG4gKlxuICogVGhpcyBtZWFucyB0aGF0IGBmb28kKGFyZzApYCBhbmQgYGZvbygkKGFyZzApKWAgYXJlIGVxdWl2YWxlbnQgd2l0aCByZXNwZWN0IHRvIFF3aWsgT3B0aW1pemVyLlxuICogVGhlIGZvcm1lciBpcyBqdXN0IGEgc2hvcnRoYW5kIGZvciB0aGUgbGF0dGVyLlxuICpcbiAqIEZvciBleGFtcGxlLCB0aGVzZSBmdW5jdGlvbiBjYWxscyBhcmUgZXF1aXZhbGVudDpcbiAqXG4gKiAtIGBjb21wb25lbnQkKCgpID0+IHsuLi59KWAgaXMgc2FtZSBhcyBgb25SZW5kZXIoJCgoKSA9PiB7Li4ufSkpYFxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGZ1bmN0aW9uIG15QXBpKGNhbGxiYWNrOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAqICAgLy8gLi4uXG4gKiB9XG4gKlxuICogZXhwb3J0IGNvbnN0IG15QXBpJCA9IGltcGxpY2l0JEZpcnN0QXJnKG15QXBpKTtcbiAqIC8vIHR5cGUgb2YgbXlBcGkkOiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkXG4gKlxuICogLy8gY2FuIGJlIHVzZWQgYXM6XG4gKiBteUFwaSQoKCkgPT4gY29uc29sZS5sb2coJ2NhbGxiYWNrJykpO1xuICpcbiAqIC8vIHdpbGwgYmUgdHJhbnNwaWxlZCB0bzpcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiBteUFwaShxcmwoJy4vY2h1bmstYWJjLmpzJywgJ2NhbGxiYWNrJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gY29uc29sZS5sb2coJ2NhbGxiYWNrJyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZm4gLSBhIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGhhdmUgaXRzIGZpcnN0IGFyZ3VtZW50IGF1dG9tYXRpY2FsbHkgYCRgLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBpbXBsaWNpdCRGaXJzdEFyZyA9IDxGSVJTVCwgUkVTVCBleHRlbmRzIGFueVtdLCBSRVQ+KFxuICBmbjogKGZpcnN0OiBRUkw8RklSU1Q+LCAuLi5yZXN0OiBSRVNUKSA9PiBSRVRcbik6ICgoZmlyc3Q6IEZJUlNULCAuLi5yZXN0OiBSRVNUKSA9PiBSRVQpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChmaXJzdDogRklSU1QsIC4uLnJlc3Q6IFJFU1QpOiBSRVQge1xuICAgIHJldHVybiBmbi5jYWxsKG51bGwsICQoZmlyc3QpLCAuLi5yZXN0KTtcbiAgfTtcbn07XG4iXX0=","import { parseQRL } from '../import/qrl';\nimport { isQrl, isSameQRL } from '../import/qrl-class';\nimport { isArray } from '../util/types';\nimport { $ } from '../import/qrl.public';\nimport { QScopedStyle } from '../util/markers';\nconst ON_PROP_REGEX = /^(window:|document:|)on([A-Z]|-.).*\\$$/;\nexport const isOnProp = (prop) => {\n    return ON_PROP_REGEX.test(prop);\n};\nexport const addQRLListener = (ctx, prop, input) => {\n    if (!input) {\n        return undefined;\n    }\n    const value = isArray(input) ? input.map(ensureQrl) : ensureQrl(input);\n    if (!ctx.$listeners$) {\n        ctx.$listeners$ = new Map();\n    }\n    let existingListeners = ctx.$listeners$.get(prop);\n    if (!existingListeners) {\n        ctx.$listeners$.set(prop, (existingListeners = []));\n    }\n    const newQRLs = isArray(value) ? value : [value];\n    for (const value of newQRLs) {\n        const cp = value.$copy$();\n        cp.$setContainer$(ctx.$element$);\n        // Important we modify the array as it is cached.\n        for (let i = 0; i < existingListeners.length; i++) {\n            const qrl = existingListeners[i];\n            if (isSameQRL(qrl, cp)) {\n                existingListeners.splice(i, 1);\n                i--;\n            }\n        }\n        existingListeners.push(cp);\n    }\n    return existingListeners;\n};\nconst ensureQrl = (value) => {\n    return isQrl(value) ? value : $(value);\n};\nexport const getDomListeners = (el) => {\n    const attributes = el.attributes;\n    const listeners = new Map();\n    for (let i = 0; i < attributes.length; i++) {\n        const { name, value } = attributes.item(i);\n        if (name.startsWith('on:') ||\n            name.startsWith('on-window:') ||\n            name.startsWith('on-document:')) {\n            let array = listeners.get(name);\n            if (!array) {\n                listeners.set(name, (array = []));\n            }\n            array.push(parseQRL(value, el));\n        }\n    }\n    return listeners;\n};\nexport const getScopeIds = (el) => {\n    const scoped = el.getAttribute(QScopedStyle);\n    if (scoped) {\n        return scoped.split(' ');\n    }\n    return [];\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb24uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMtb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBZSxNQUFNLHFCQUFxQixDQUFDO0FBRXBFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDeEMsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUUvQyxNQUFNLGFBQWEsR0FBRyx3Q0FBd0MsQ0FBQztBQUUvRCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxJQUFZLEVBQVcsRUFBRTtJQUNoRCxPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQzVCLEdBQWEsRUFDYixJQUFZLEVBQ1osS0FBVSxFQUNzQixFQUFFO0lBQ2xDLElBQUksQ0FBQyxLQUFLLEVBQUU7UUFDVixPQUFPLFNBQVMsQ0FBQztLQUNsQjtJQUNELE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRXZFLElBQUksQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFO1FBQ3BCLEdBQUcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztLQUM3QjtJQUNELElBQUksaUJBQWlCLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEQsSUFBSSxDQUFDLGlCQUFpQixFQUFFO1FBQ3RCLEdBQUcsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDckQ7SUFDRCxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqRCxLQUFLLE1BQU0sS0FBSyxJQUFJLE9BQU8sRUFBRTtRQUMzQixNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDMUIsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFakMsaURBQWlEO1FBQ2pELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDakQsTUFBTSxHQUFHLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakMsSUFBSSxTQUFTLENBQUMsR0FBVSxFQUFFLEVBQUUsQ0FBQyxFQUFFO2dCQUM3QixpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO2dCQUMvQixDQUFDLEVBQUUsQ0FBQzthQUNMO1NBQ0Y7UUFDRCxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7S0FDNUI7SUFDRCxPQUFPLGlCQUFpQixDQUFDO0FBQzNCLENBQUMsQ0FBQztBQUVGLE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBVSxFQUFFLEVBQUU7SUFDL0IsT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBaUIsQ0FBQztBQUMxRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxFQUFXLEVBQThCLEVBQUU7SUFDekUsTUFBTSxVQUFVLEdBQUcsRUFBRSxDQUFDLFVBQVUsQ0FBQztJQUNqQyxNQUFNLFNBQVMsR0FBK0IsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUN4RCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUMxQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFFLENBQUM7UUFDNUMsSUFDRSxJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQztZQUN0QixJQUFJLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQztZQUM3QixJQUFJLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxFQUMvQjtZQUNBLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEMsSUFBSSxDQUFDLEtBQUssRUFBRTtnQkFDVixTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO2FBQ25DO1lBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDakM7S0FDRjtJQUNELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLEVBQVcsRUFBWSxFQUFFO0lBQ25ELE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDN0MsSUFBSSxNQUFNLEVBQUU7UUFDVixPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDMUI7SUFDRCxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybCc7XG5pbXBvcnQgeyBpc1FybCwgaXNTYW1lUVJMLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHR5cGUgeyBRQ29udGV4dCB9IGZyb20gJy4vcHJvcHMnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgJCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IFFTY29wZWRTdHlsZSB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5cbmNvbnN0IE9OX1BST1BfUkVHRVggPSAvXih3aW5kb3c6fGRvY3VtZW50Onwpb24oW0EtWl18LS4pLipcXCQkLztcblxuZXhwb3J0IGNvbnN0IGlzT25Qcm9wID0gKHByb3A6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gT05fUFJPUF9SRUdFWC50ZXN0KHByb3ApO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFFSTExpc3RlbmVyID0gKFxuICBjdHg6IFFDb250ZXh0LFxuICBwcm9wOiBzdHJpbmcsXG4gIGlucHV0OiBhbnlcbik6IFFSTEludGVybmFsPGFueT5bXSB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICghaW5wdXQpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGNvbnN0IHZhbHVlID0gaXNBcnJheShpbnB1dCkgPyBpbnB1dC5tYXAoZW5zdXJlUXJsKSA6IGVuc3VyZVFybChpbnB1dCk7XG5cbiAgaWYgKCFjdHguJGxpc3RlbmVycyQpIHtcbiAgICBjdHguJGxpc3RlbmVycyQgPSBuZXcgTWFwKCk7XG4gIH1cbiAgbGV0IGV4aXN0aW5nTGlzdGVuZXJzID0gY3R4LiRsaXN0ZW5lcnMkLmdldChwcm9wKTtcbiAgaWYgKCFleGlzdGluZ0xpc3RlbmVycykge1xuICAgIGN0eC4kbGlzdGVuZXJzJC5zZXQocHJvcCwgKGV4aXN0aW5nTGlzdGVuZXJzID0gW10pKTtcbiAgfVxuICBjb25zdCBuZXdRUkxzID0gaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG4gIGZvciAoY29uc3QgdmFsdWUgb2YgbmV3UVJMcykge1xuICAgIGNvbnN0IGNwID0gdmFsdWUuJGNvcHkkKCk7XG4gICAgY3AuJHNldENvbnRhaW5lciQoY3R4LiRlbGVtZW50JCk7XG5cbiAgICAvLyBJbXBvcnRhbnQgd2UgbW9kaWZ5IHRoZSBhcnJheSBhcyBpdCBpcyBjYWNoZWQuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleGlzdGluZ0xpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcXJsID0gZXhpc3RpbmdMaXN0ZW5lcnNbaV07XG4gICAgICBpZiAoaXNTYW1lUVJMKHFybCBhcyBhbnksIGNwKSkge1xuICAgICAgICBleGlzdGluZ0xpc3RlbmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICB9XG4gICAgZXhpc3RpbmdMaXN0ZW5lcnMucHVzaChjcCk7XG4gIH1cbiAgcmV0dXJuIGV4aXN0aW5nTGlzdGVuZXJzO1xufTtcblxuY29uc3QgZW5zdXJlUXJsID0gKHZhbHVlOiBhbnkpID0+IHtcbiAgcmV0dXJuIGlzUXJsKHZhbHVlKSA/IHZhbHVlIDogKCQodmFsdWUpIGFzIFFSTEludGVybmFsKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREb21MaXN0ZW5lcnMgPSAoZWw6IEVsZW1lbnQpOiBNYXA8c3RyaW5nLCBRUkxJbnRlcm5hbFtdPiA9PiB7XG4gIGNvbnN0IGF0dHJpYnV0ZXMgPSBlbC5hdHRyaWJ1dGVzO1xuICBjb25zdCBsaXN0ZW5lcnM6IE1hcDxzdHJpbmcsIFFSTEludGVybmFsW10+ID0gbmV3IE1hcCgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBhdHRyaWJ1dGVzLml0ZW0oaSkhO1xuICAgIGlmIChcbiAgICAgIG5hbWUuc3RhcnRzV2l0aCgnb246JykgfHxcbiAgICAgIG5hbWUuc3RhcnRzV2l0aCgnb24td2luZG93OicpIHx8XG4gICAgICBuYW1lLnN0YXJ0c1dpdGgoJ29uLWRvY3VtZW50OicpXG4gICAgKSB7XG4gICAgICBsZXQgYXJyYXkgPSBsaXN0ZW5lcnMuZ2V0KG5hbWUpO1xuICAgICAgaWYgKCFhcnJheSkge1xuICAgICAgICBsaXN0ZW5lcnMuc2V0KG5hbWUsIChhcnJheSA9IFtdKSk7XG4gICAgICB9XG4gICAgICBhcnJheS5wdXNoKHBhcnNlUVJMKHZhbHVlLCBlbCkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbGlzdGVuZXJzO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNjb3BlSWRzID0gKGVsOiBFbGVtZW50KTogc3RyaW5nW10gPT4ge1xuICBjb25zdCBzY29wZWQgPSBlbC5nZXRBdHRyaWJ1dGUoUVNjb3BlZFN0eWxlKTtcbiAgaWYgKHNjb3BlZCkge1xuICAgIHJldHVybiBzY29wZWQuc3BsaXQoJyAnKTtcbiAgfVxuICByZXR1cm4gW107XG59O1xuIl19","import { verifySerializable } from '../object/q-object';\nimport { getContext } from '../props/props';\nimport { qDev } from '../util/qdev';\nimport { useInvokeContext } from './use-core';\nexport const useSequentialScope = () => {\n    const ctx = useInvokeContext();\n    const i = ctx.$seq$;\n    const hostElement = ctx.$hostElement$;\n    const elementCtx = getContext(hostElement);\n    ctx.$seq$++;\n    const set = (value) => {\n        if (qDev) {\n            verifySerializable(value);\n        }\n        return (elementCtx.$seq$[i] = value);\n    };\n    return {\n        get: elementCtx.$seq$[i],\n        set,\n        i,\n        ctx,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXNlcXVlbnRpYWwtc2NvcGUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1zZXF1ZW50aWFsLXNjb3BlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBdUIsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFTbkUsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsR0FBMEIsRUFBRTtJQUM1RCxNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDcEIsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQztJQUN0QyxNQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDM0MsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ1osTUFBTSxHQUFHLEdBQUcsQ0FBQyxLQUFRLEVBQUUsRUFBRTtRQUN2QixJQUFJLElBQUksRUFBRTtZQUNSLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzNCO1FBQ0QsT0FBTyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDdkMsQ0FBQyxDQUFDO0lBQ0YsT0FBTztRQUNMLEdBQUcsRUFBRSxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUN4QixHQUFHO1FBQ0gsQ0FBQztRQUNELEdBQUc7S0FDSixDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdmVyaWZ5U2VyaWFsaXphYmxlIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IFJlbmRlckludm9rZUNvbnRleHQsIHVzZUludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcblxuZXhwb3J0IGludGVyZmFjZSBTZXF1ZW50aWFsU2NvcGU8VD4ge1xuICByZWFkb25seSBnZXQ6IFQgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHNldDogKHY6IFQpID0+IFQ7XG4gIHJlYWRvbmx5IGk6IG51bWJlcjtcbiAgcmVhZG9ubHkgY3R4OiBSZW5kZXJJbnZva2VDb250ZXh0O1xufVxuXG5leHBvcnQgY29uc3QgdXNlU2VxdWVudGlhbFNjb3BlID0gPFQ+KCk6IFNlcXVlbnRpYWxTY29wZTxUPiA9PiB7XG4gIGNvbnN0IGN0eCA9IHVzZUludm9rZUNvbnRleHQoKTtcbiAgY29uc3QgaSA9IGN0eC4kc2VxJDtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBjdHguJGhvc3RFbGVtZW50JDtcbiAgY29uc3QgZWxlbWVudEN0eCA9IGdldENvbnRleHQoaG9zdEVsZW1lbnQpO1xuICBjdHguJHNlcSQrKztcbiAgY29uc3Qgc2V0ID0gKHZhbHVlOiBUKSA9PiB7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIHZlcmlmeVNlcmlhbGl6YWJsZSh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiAoZWxlbWVudEN0eC4kc2VxJFtpXSA9IHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IGVsZW1lbnRDdHguJHNlcSRbaV0sXG4gICAgc2V0LFxuICAgIGksXG4gICAgY3R4LFxuICB9O1xufTtcbiJdfQ==","import { assertQrl } from '../import/qrl-class';\nimport { getContext } from '../props/props';\nimport { addQRLListener } from '../props/props-on';\nimport { implicit$FirstArg } from '../util/implicit_dollar';\nimport { useInvokeContext } from './use-core';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { Watch, WatchFlagsIsCleanup } from './use-watch';\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * It can be used to release resources, abort network requests, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resouces, abort network requets, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useCleanupQrl = (unmountFn) => {\n    const { get, set, i, ctx } = useSequentialScope();\n    if (!get) {\n        assertQrl(unmountFn);\n        const el = ctx.$hostElement$;\n        const watch = new Watch(WatchFlagsIsCleanup, i, el, unmountFn, undefined);\n        set(true);\n        getContext(el).$watches$.push(watch);\n    }\n};\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * It can be used to release resources, abort network requests, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resouces, abort network requets, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useCleanup$ = /*#__PURE__*/ implicit$FirstArg(useCleanupQrl);\n// <docs markdown=\"../readme.md#useOn\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOn instead)\n/**\n * Register a listener on the current component's host element.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX. Otherwise, it's adding a JSX listener in the `<div>` is a better\n * idea.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * @alpha\n */\n// </docs>\nexport const useOn = (event, eventQrl) => _useOn(`on:${event}`, eventQrl);\n// <docs markdown=\"../readme.md#useOnDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnDocument instead)\n/**\n * Register a listener on `document`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useScroll() {\n *   useOnDocument(\n *     'scroll',\n *     $((event) => {\n *       console.log('body scrolled', event);\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useScroll();\n *   return <div>Profit!</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useOnDocument = (event, eventQrl) => _useOn(`on-document:${event}`, eventQrl);\n// <docs markdown=\"../readme.md#useOnWindow\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnWindow instead)\n/**\n * Register a listener on `window`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useAnalytics() {\n *   useOnWindow(\n *     'popstate',\n *     $((event) => {\n *       console.log('navigation happened', event);\n *       // report to analytics\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useAnalytics();\n *   return <div>Profit!</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useOnWindow = (event, eventQrl) => _useOn(`on-window:${event}`, eventQrl);\nconst _useOn = (eventName, eventQrl) => {\n    const invokeCtx = useInvokeContext();\n    const ctx = getContext(invokeCtx.$hostElement$);\n    assertQrl(eventQrl);\n    addQRLListener(ctx, eventName, eventQrl);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLW9uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2Utb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRWhELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbkQsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDNUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzlDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBQzVELE9BQU8sRUFBRSxLQUFLLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFekQsNENBQTRDO0FBQzVDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBb0JHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUFDLFNBQTBCLEVBQVEsRUFBRTtJQUNoRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsa0JBQWtCLEVBQVcsQ0FBQztJQUMzRCxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ1IsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ3JCLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7UUFDN0IsTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUMsbUJBQW1CLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDMUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ1YsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDdEM7QUFDSCxDQUFDLENBQUM7QUFFRiw0Q0FBNEM7QUFDNUMseUNBQXlDO0FBQ3pDLHlDQUF5QztBQUN6Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FvQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUUxRSx1Q0FBdUM7QUFDdkMseUNBQXlDO0FBQ3pDLG9DQUFvQztBQUNwQzs7Ozs7Ozs7OztHQVVHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLEtBQWEsRUFBRSxRQUFrQyxFQUFFLEVBQUUsQ0FDekUsTUFBTSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFFbEMsK0NBQStDO0FBQy9DLHlDQUF5QztBQUN6Qyw0Q0FBNEM7QUFDNUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F5Qkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsS0FBYSxFQUFFLFFBQWtDLEVBQUUsRUFBRSxDQUNqRixNQUFNLENBQUMsZUFBZSxLQUFLLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUUzQyw2Q0FBNkM7QUFDN0MseUNBQXlDO0FBQ3pDLDBDQUEwQztBQUMxQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0EwQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsS0FBYSxFQUFFLFFBQWtDLEVBQUUsRUFBRSxDQUMvRSxNQUFNLENBQUMsYUFBYSxLQUFLLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUV6QyxNQUFNLE1BQU0sR0FBRyxDQUFDLFNBQWlCLEVBQUUsUUFBa0MsRUFBRSxFQUFFO0lBQ3ZFLE1BQU0sU0FBUyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDckMsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNoRCxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEIsY0FBYyxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFDM0MsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0UXJsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBhZGRRUkxMaXN0ZW5lciB9IGZyb20gJy4uL3Byb3BzL3Byb3BzLW9uJztcbmltcG9ydCB7IGltcGxpY2l0JEZpcnN0QXJnIH0gZnJvbSAnLi4vdXRpbC9pbXBsaWNpdF9kb2xsYXInO1xuaW1wb3J0IHsgdXNlSW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc2VxdWVudGlhbC1zY29wZSc7XG5pbXBvcnQgeyBXYXRjaCwgV2F0Y2hGbGFnc0lzQ2xlYW51cCB9IGZyb20gJy4vdXNlLXdhdGNoJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlQ2xlYW51cFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGVhbnVwIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBjbGVhbnVwIGhvb2suXG4gKlxuICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgZGVzdHJveWVkIChyZW1vdmVkIGZyb20gcmVuZGVyIHRyZWUpLCBvciBwYXVzZWQgYXMgcGFydCBvZiB0aGVcbiAqIFNTUiBzZXJpYWxpemF0aW9uLlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIHRvIHJlbGVhc2UgcmVzb3VyY2VzLCBhYm9ydCBuZXR3b3JrIHJlcXVlc3RzLCBzdG9wIHRpbWVycy4uLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUNsZWFudXAkKCgpID0+IHtcbiAqICAgICAvLyBFeGVjdXRlZCBhZnRlciBTU1IgKHBhdXNlKSBvciB3aGVuIHRoZSBjb21wb25lbnQgZ2V0cyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAqICAgICAvLyBDYW4gYmUgdXNlZCB0byByZWxlYXNlIHJlc291Y2VzLCBhYm9ydCBuZXR3b3JrIHJlcXVldHMsIHN0b3AgdGltZXJzLi4uXG4gKiAgICAgY29uc29sZS5sb2coJ2NvbXBvbmVudCBpcyBkZXN0cm95ZWQnKTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNsZWFudXBRcmwgPSAodW5tb3VudEZuOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkID0+IHtcbiAgY29uc3QgeyBnZXQsIHNldCwgaSwgY3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8Ym9vbGVhbj4oKTtcbiAgaWYgKCFnZXQpIHtcbiAgICBhc3NlcnRRcmwodW5tb3VudEZuKTtcbiAgICBjb25zdCBlbCA9IGN0eC4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IHdhdGNoID0gbmV3IFdhdGNoKFdhdGNoRmxhZ3NJc0NsZWFudXAsIGksIGVsLCB1bm1vdW50Rm4sIHVuZGVmaW5lZCk7XG4gICAgc2V0KHRydWUpO1xuICAgIGdldENvbnRleHQoZWwpLiR3YXRjaGVzJC5wdXNoKHdhdGNoKTtcbiAgfVxufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlQ2xlYW51cFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGVhbnVwIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBjbGVhbnVwIGhvb2suXG4gKlxuICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgZGVzdHJveWVkIChyZW1vdmVkIGZyb20gcmVuZGVyIHRyZWUpLCBvciBwYXVzZWQgYXMgcGFydCBvZiB0aGVcbiAqIFNTUiBzZXJpYWxpemF0aW9uLlxuICpcbiAqIEl0IGNhbiBiZSB1c2VkIHRvIHJlbGVhc2UgcmVzb3VyY2VzLCBhYm9ydCBuZXR3b3JrIHJlcXVlc3RzLCBzdG9wIHRpbWVycy4uLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUNsZWFudXAkKCgpID0+IHtcbiAqICAgICAvLyBFeGVjdXRlZCBhZnRlciBTU1IgKHBhdXNlKSBvciB3aGVuIHRoZSBjb21wb25lbnQgZ2V0cyByZW1vdmVkIGZyb20gdGhlIERPTS5cbiAqICAgICAvLyBDYW4gYmUgdXNlZCB0byByZWxlYXNlIHJlc291Y2VzLCBhYm9ydCBuZXR3b3JrIHJlcXVldHMsIHN0b3AgdGltZXJzLi4uXG4gKiAgICAgY29uc29sZS5sb2coJ2NvbXBvbmVudCBpcyBkZXN0cm95ZWQnKTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNsZWFudXAkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VDbGVhbnVwUXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25cIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlT24gaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBjb21wb25lbnQncyBob3N0IGVsZW1lbnQuXG4gKlxuICogVXNlZCB0byBwcm9ncmFtbWF0aWNhbGx5IGFkZCBldmVudCBsaXN0ZW5lcnMuIFVzZWZ1bCBmcm9tIGN1c3RvbSBgdXNlKmAgbWV0aG9kcywgd2hpY2ggZG8gbm90XG4gKiBoYXZlIGFjY2VzcyB0byB0aGUgSlNYLiBPdGhlcndpc2UsIGl0J3MgYWRkaW5nIGEgSlNYIGxpc3RlbmVyIGluIHRoZSBgPGRpdj5gIGlzIGEgYmV0dGVyXG4gKiBpZGVhLlxuICpcbiAqIEBzZWUgYHVzZU9uYCwgYHVzZU9uV2luZG93YCwgYHVzZU9uRG9jdW1lbnRgLlxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlT24gPSAoZXZlbnQ6IHN0cmluZywgZXZlbnRRcmw6IFFSTDwoZXY6IEV2ZW50KSA9PiB2b2lkPikgPT5cbiAgX3VzZU9uKGBvbjoke2V2ZW50fWAsIGV2ZW50UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25Eb2N1bWVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VPbkRvY3VtZW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgb24gYGRvY3VtZW50YC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guXG4gKlxuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKlxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiB1c2VTY3JvbGwoKSB7XG4gKiAgIHVzZU9uRG9jdW1lbnQoXG4gKiAgICAgJ3Njcm9sbCcsXG4gKiAgICAgJCgoZXZlbnQpID0+IHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCdib2R5IHNjcm9sbGVkJywgZXZlbnQpO1xuICogICAgIH0pXG4gKiAgICk7XG4gKiB9XG4gKlxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVNjcm9sbCgpO1xuICogICByZXR1cm4gPGRpdj5Qcm9maXQhPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZU9uRG9jdW1lbnQgPSAoZXZlbnQ6IHN0cmluZywgZXZlbnRRcmw6IFFSTDwoZXY6IEV2ZW50KSA9PiB2b2lkPikgPT5cbiAgX3VzZU9uKGBvbi1kb2N1bWVudDoke2V2ZW50fWAsIGV2ZW50UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25XaW5kb3dcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlT25XaW5kb3cgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBvbiBgd2luZG93YC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guXG4gKlxuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKlxuICogYGBgdHN4XG4gKiBmdW5jdGlvbiB1c2VBbmFseXRpY3MoKSB7XG4gKiAgIHVzZU9uV2luZG93KFxuICogICAgICdwb3BzdGF0ZScsXG4gKiAgICAgJCgoZXZlbnQpID0+IHtcbiAqICAgICAgIGNvbnNvbGUubG9nKCduYXZpZ2F0aW9uIGhhcHBlbmVkJywgZXZlbnQpO1xuICogICAgICAgLy8gcmVwb3J0IHRvIGFuYWx5dGljc1xuICogICAgIH0pXG4gKiAgICk7XG4gKiB9XG4gKlxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUFuYWx5dGljcygpO1xuICogICByZXR1cm4gPGRpdj5Qcm9maXQhPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZU9uV2luZG93ID0gKGV2ZW50OiBzdHJpbmcsIGV2ZW50UXJsOiBRUkw8KGV2OiBFdmVudCkgPT4gdm9pZD4pID0+XG4gIF91c2VPbihgb24td2luZG93OiR7ZXZlbnR9YCwgZXZlbnRRcmwpO1xuXG5jb25zdCBfdXNlT24gPSAoZXZlbnROYW1lOiBzdHJpbmcsIGV2ZW50UXJsOiBRUkw8KGV2OiBFdmVudCkgPT4gdm9pZD4pID0+IHtcbiAgY29uc3QgaW52b2tlQ3R4ID0gdXNlSW52b2tlQ29udGV4dCgpO1xuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGludm9rZUN0eC4kaG9zdEVsZW1lbnQkKTtcbiAgYXNzZXJ0UXJsKGV2ZW50UXJsKTtcbiAgYWRkUVJMTGlzdGVuZXIoY3R4LCBldmVudE5hbWUsIGV2ZW50UXJsKTtcbn07XG4iXX0=","export const emitEvent = (el, eventName, detail, bubbles) => {\n    if (el && typeof CustomEvent === 'function') {\n        el.dispatchEvent(new CustomEvent(eventName, {\n            detail,\n            bubbles: bubbles,\n            composed: bubbles,\n        }));\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9ldmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsRUFBdUIsRUFDdkIsU0FBaUIsRUFDakIsTUFBVyxFQUNYLE9BQWdCLEVBQ2hCLEVBQUU7SUFDRixJQUFJLEVBQUUsSUFBSSxPQUFPLFdBQVcsS0FBSyxVQUFVLEVBQUU7UUFDM0MsRUFBRSxDQUFDLGFBQWEsQ0FDZCxJQUFJLFdBQVcsQ0FBQyxTQUFTLEVBQUU7WUFDekIsTUFBTTtZQUNOLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLFFBQVEsRUFBRSxPQUFPO1NBQ2xCLENBQUMsQ0FDSCxDQUFDO0tBQ0g7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZW1pdEV2ZW50ID0gKFxuICBlbDogRWxlbWVudCB8IHVuZGVmaW5lZCxcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIGRldGFpbDogYW55LFxuICBidWJibGVzOiBib29sZWFuXG4pID0+IHtcbiAgaWYgKGVsICYmIHR5cGVvZiBDdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGVsLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7XG4gICAgICAgIGRldGFpbCxcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY29tcG9zZWQ6IGJ1YmJsZXMsXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn07XG4iXX0=","export const directSetAttribute = (el, prop, value) => {\n    return el.setAttribute(prop, value);\n};\nexport const directGetAttribute = (el, prop) => {\n    return el.getAttribute(prop);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFzdC1jYWxscy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZmFzdC1jYWxscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEVBQWUsRUFBRSxJQUFZLEVBQUUsS0FBYSxFQUFFLEVBQUU7SUFDakYsT0FBTyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN0QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEVBQWUsRUFBRSxJQUFZLEVBQUUsRUFBRTtJQUNsRSxPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDL0IsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4vZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5cbmV4cG9ydCBjb25zdCBkaXJlY3RTZXRBdHRyaWJ1dGUgPSAoZWw6IFF3aWtFbGVtZW50LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIGVsLnNldEF0dHJpYnV0ZShwcm9wLCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGlyZWN0R2V0QXR0cmlidXRlID0gKGVsOiBRd2lrRWxlbWVudCwgcHJvcDogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59O1xuIl19","export const fromCamelToKebabCase = (text) => {\n    return text.replace(/([A-Z])/g, '-$1').toLowerCase();\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FzZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2Nhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxJQUFZLEVBQVUsRUFBRTtJQUMzRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3ZELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSA9ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC8oW0EtWl0pL2csICctJDEnKS50b0xvd2VyQ2FzZSgpO1xufTtcbiJdfQ==","import { qDev } from '../../util/qdev';\nimport { logWarn } from '../../util/log';\nimport { isFunction, isObject, isString } from '../../util/types';\nimport { qError, QError_invalidJsxNodeType } from '../../error/error';\n/**\n * @public\n */\nexport const jsx = (type, props, key) => {\n    if (qDev) {\n        if (!isString(type) && !isFunction(type)) {\n            throw qError(QError_invalidJsxNodeType, type);\n        }\n    }\n    return new JSXNodeImpl(type, props, key);\n};\nexport const HOST_TYPE = ':host';\nexport const SKIP_RENDER_TYPE = ':skipRender';\nexport const VIRTUAL_TYPE = ':virtual';\nexport class JSXNodeImpl {\n    constructor(type, props, key = null) {\n        this.type = type;\n        this.props = props;\n        this.key = key;\n    }\n}\nexport const isJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof JSXNodeImpl) {\n            return true;\n        }\n        if (isObject(n) && 'key' in n && 'props' in n && 'type' in n) {\n            logWarn(`Duplicate implementations of \"JSXNode\" found`);\n            return true;\n        }\n        return false;\n    }\n    else {\n        return n instanceof JSXNodeImpl;\n    }\n};\n/**\n * @public\n */\nexport const Fragment = (props) => props.children;\nexport { jsx as jsxs, jsx as jsxDEV };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LXJ1bnRpbWUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9qc3gtcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxNQUFNLEVBQUUseUJBQXlCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUV0RTs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUNqQixJQUFPLEVBQ1AsS0FBWSxFQUNaLEdBQTRCLEVBQ2hCLEVBQUU7SUFDZCxJQUFJLElBQUksRUFBRTtRQUNSLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDeEMsTUFBTSxNQUFNLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDL0M7S0FDRjtJQUNELE9BQU8sSUFBSSxXQUFXLENBQUksSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztBQUM5QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsT0FBTyxDQUFDO0FBQ2pDLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLGFBQWEsQ0FBQztBQUM5QyxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsVUFBVSxDQUFDO0FBRXZDLE1BQU0sT0FBTyxXQUFXO0lBQ3RCLFlBQ1MsSUFBTyxFQUNQLEtBQTBCLEVBQzFCLE1BQThCLElBQUk7UUFGbEMsU0FBSSxHQUFKLElBQUksQ0FBRztRQUNQLFVBQUssR0FBTCxLQUFLLENBQXFCO1FBQzFCLFFBQUcsR0FBSCxHQUFHLENBQStCO0lBQ3hDLENBQUM7Q0FDTDtBQUVELE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFDLENBQU0sRUFBeUIsRUFBRTtJQUN6RCxJQUFJLElBQUksRUFBRTtRQUNSLElBQUksQ0FBQyxZQUFZLFdBQVcsRUFBRTtZQUM1QixPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxPQUFPLElBQUksQ0FBQyxJQUFJLE1BQU0sSUFBSSxDQUFDLEVBQUU7WUFDNUQsT0FBTyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7WUFDeEQsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUNELE9BQU8sS0FBSyxDQUFDO0tBQ2Q7U0FBTTtRQUNMLE9BQU8sQ0FBQyxZQUFZLFdBQVcsQ0FBQztLQUNqQztBQUNILENBQUMsQ0FBQztBQUNGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUEwQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQWUsQ0FBQztBQUloRyxPQUFPLEVBQUUsR0FBRyxJQUFJLElBQUksRUFBRSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hOb2RlIH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgdHlwZSB7IFF3aWtKU1ggfSBmcm9tICcuL3R5cGVzL2pzeC1xd2lrJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi8uLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1N0cmluZyB9IGZyb20gJy4uLy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfaW52YWxpZEpzeE5vZGVUeXBlIH0gZnJvbSAnLi4vLi4vZXJyb3IvZXJyb3InO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IGpzeCA9IDxUIGV4dGVuZHMgc3RyaW5nIHwgRnVuY3Rpb25Db21wb25lbnQ8UFJPUFM+LCBQUk9QUz4oXG4gIHR5cGU6IFQsXG4gIHByb3BzOiBQUk9QUyxcbiAga2V5Pzogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbFxuKTogSlNYTm9kZTxUPiA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKCFpc1N0cmluZyh0eXBlKSAmJiAhaXNGdW5jdGlvbih0eXBlKSkge1xuICAgICAgdGhyb3cgcUVycm9yKFFFcnJvcl9pbnZhbGlkSnN4Tm9kZVR5cGUsIHR5cGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IEpTWE5vZGVJbXBsPFQ+KHR5cGUsIHByb3BzLCBrZXkpO1xufTtcblxuZXhwb3J0IGNvbnN0IEhPU1RfVFlQRSA9ICc6aG9zdCc7XG5leHBvcnQgY29uc3QgU0tJUF9SRU5ERVJfVFlQRSA9ICc6c2tpcFJlbmRlcic7XG5leHBvcnQgY29uc3QgVklSVFVBTF9UWVBFID0gJzp2aXJ0dWFsJztcblxuZXhwb3J0IGNsYXNzIEpTWE5vZGVJbXBsPFQ+IGltcGxlbWVudHMgSlNYTm9kZTxUPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyB0eXBlOiBULFxuICAgIHB1YmxpYyBwcm9wczogUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBwdWJsaWMga2V5OiBzdHJpbmcgfCBudW1iZXIgfCBudWxsID0gbnVsbFxuICApIHt9XG59XG5cbmV4cG9ydCBjb25zdCBpc0pTWE5vZGUgPSAobjogYW55KTogbiBpcyBKU1hOb2RlPHVua25vd24+ID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAobiBpbnN0YW5jZW9mIEpTWE5vZGVJbXBsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KG4pICYmICdrZXknIGluIG4gJiYgJ3Byb3BzJyBpbiBuICYmICd0eXBlJyBpbiBuKSB7XG4gICAgICBsb2dXYXJuKGBEdXBsaWNhdGUgaW1wbGVtZW50YXRpb25zIG9mIFwiSlNYTm9kZVwiIGZvdW5kYCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuIGluc3RhbmNlb2YgSlNYTm9kZUltcGw7XG4gIH1cbn07XG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEZyYWdtZW50OiBGdW5jdGlvbkNvbXBvbmVudDx7IGNoaWxkcmVuPzogYW55IH0+ID0gKHByb3BzKSA9PiBwcm9wcy5jaGlsZHJlbiBhcyBhbnk7XG5cbmV4cG9ydCB0eXBlIHsgUXdpa0pTWCBhcyBKU1ggfTtcblxuZXhwb3J0IHsganN4IGFzIGpzeHMsIGpzeCBhcyBqc3hERVYgfTtcbiJdfQ==","import { jsx } from '../jsx/jsx-runtime';\n/**\n * @alpha\n */\nexport const SkipRerender = ((props) => props.children);\n/**\n * @alpha\n */\nexport const SSRComment = (() => null);\n/**\n * @alpha\n */\nexport const Virtual = ((props) => props.children);\n/**\n * @alpha\n */\nexport const SSRStreamBlock = (props) => {\n    return [\n        jsx(SSRComment, { data: 'qkssr-pu' }),\n        props.children,\n        jsx(SSRComment, { data: 'qkssr-po' }),\n    ];\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9zdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9ob3N0LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFHekM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQTBCLENBQUMsQ0FBQyxLQUFVLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQVEsQ0FBQztBQUUzRjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBd0MsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQVEsQ0FBQztBQUVuRjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBMkMsQ0FBQyxDQUFDLEtBQVUsRUFBRSxFQUFFLENBQzdFLEtBQUssQ0FBQyxRQUFRLENBQVEsQ0FBQztBQUV6Qjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBMEMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUM3RSxPQUFPO1FBQ0wsR0FBRyxDQUFDLFVBQVUsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsQ0FBQztRQUNyQyxLQUFLLENBQUMsUUFBUTtRQUNkLEdBQUcsQ0FBQyxVQUFVLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLENBQUM7S0FDL0IsQ0FBQztBQUNYLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCB9IGZyb20gJy4uL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCBTa2lwUmVyZW5kZXI6IEZ1bmN0aW9uQ29tcG9uZW50PHt9PiA9ICgocHJvcHM6IGFueSkgPT4gcHJvcHMuY2hpbGRyZW4pIGFzIGFueTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IFNTUkNvbW1lbnQ6IEZ1bmN0aW9uQ29tcG9uZW50PHsgZGF0YTogc3RyaW5nIH0+ID0gKCgpID0+IG51bGwpIGFzIGFueTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IFZpcnR1YWw6IEZ1bmN0aW9uQ29tcG9uZW50PFJlY29yZDxzdHJpbmcsIGFueT4+ID0gKChwcm9wczogYW55KSA9PlxuICBwcm9wcy5jaGlsZHJlbikgYXMgYW55O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgU1NSU3RyZWFtQmxvY2s6IEZ1bmN0aW9uQ29tcG9uZW50PHsgY2hpbGRyZW4/OiBhbnkgfT4gPSAocHJvcHMpID0+IHtcbiAgcmV0dXJuIFtcbiAgICBqc3goU1NSQ29tbWVudCwgeyBkYXRhOiAncWtzc3ItcHUnIH0pLFxuICAgIHByb3BzLmNoaWxkcmVuLFxuICAgIGpzeChTU1JDb21tZW50LCB7IGRhdGE6ICdxa3Nzci1wbycgfSksXG4gIF0gYXMgYW55O1xufTtcbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { ComponentStylesPrefixContent, ELEMENT_ID, OnRenderProp, QSlot, RenderEvent, } from '../util/markers';\nimport { promiseAll, safeCall, then } from '../util/promises';\nimport { newInvokeContext } from '../use/use-core';\nimport { logError } from '../util/log';\nimport { isArray, isFunction, isObject, isString } from '../util/types';\nimport { tryGetContext } from '../props/props';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { qError, QError_stringifyClassOrStyle } from '../error/error';\nimport { intToStr } from '../object/store';\nimport { directSetAttribute } from './fast-calls';\nexport const executeComponent = (rctx, ctx) => {\n    ctx.$dirty$ = false;\n    ctx.$mounted$ = true;\n    const hostElement = ctx.$element$;\n    const onRenderQRL = ctx.$renderQrl$;\n    assertDefined(onRenderQRL, `render: host element to render must has a $renderQrl$:`, ctx);\n    const props = ctx.$props$;\n    assertDefined(props, `render: host element to render must has defined props`, ctx);\n    // Component is not dirty any more\n    rctx.$containerState$.$hostsStaging$.delete(hostElement);\n    const newCtx = copyRenderContext(rctx);\n    // Invoke render hook\n    const invocatinContext = newInvokeContext(rctx.$doc$, hostElement, undefined, RenderEvent);\n    invocatinContext.$subscriber$ = hostElement;\n    invocatinContext.$renderCtx$ = newCtx;\n    const waitOn = (invocatinContext.$waitOn$ = []);\n    // Clean current subscription before render\n    rctx.$containerState$.$subsManager$.$clearSub$(hostElement);\n    // Resolve render function\n    const onRenderFn = onRenderQRL.$invokeFn$(rctx.$containerEl$, invocatinContext);\n    return safeCall(() => onRenderFn(props), (jsxNode) => {\n        rctx.$hostElements$.add(hostElement);\n        const waitOnPromise = promiseAll(waitOn);\n        return then(waitOnPromise, () => {\n            if (isFunction(jsxNode)) {\n                ctx.$dirty$ = false;\n                jsxNode = jsxNode();\n            }\n            else if (ctx.$dirty$) {\n                return executeComponent(rctx, ctx);\n            }\n            let componentCtx = ctx.$component$;\n            if (!componentCtx) {\n                componentCtx = ctx.$component$ = {\n                    $ctx$: ctx,\n                    $slots$: [],\n                    $attachedListeners$: false,\n                };\n            }\n            componentCtx.$attachedListeners$ = false;\n            componentCtx.$slots$ = [];\n            newCtx.$localStack$.push(ctx);\n            newCtx.$currentComponent$ = componentCtx;\n            return {\n                node: jsxNode,\n                rctx: newCtx,\n            };\n        });\n    }, (err) => {\n        logError(err);\n    });\n};\nexport const createRenderContext = (doc, containerState) => {\n    const ctx = {\n        $doc$: doc,\n        $containerState$: containerState,\n        $containerEl$: containerState.$containerEl$,\n        $hostElements$: new Set(),\n        $operations$: [],\n        $roots$: [],\n        $localStack$: [],\n        $currentComponent$: undefined,\n        $perf$: {\n            $visited$: 0,\n        },\n    };\n    return ctx;\n};\nexport const copyRenderContext = (ctx) => {\n    const newCtx = {\n        ...ctx,\n        $localStack$: [...ctx.$localStack$],\n    };\n    return newCtx;\n};\nexport const stringifyClass = (obj, oldValue) => {\n    const oldParsed = parseClassAny(oldValue);\n    const newParsed = parseClassAny(obj);\n    return [...oldParsed.filter((s) => s.includes(ComponentStylesPrefixContent)), ...newParsed].join(' ');\n};\nexport const joinClasses = (...input) => {\n    const set = new Set();\n    input.forEach((value) => {\n        parseClassAny(value).forEach((v) => set.add(v));\n    });\n    return Array.from(set).join(' ');\n};\nexport const parseClassAny = (obj) => {\n    if (isString(obj)) {\n        return parseClassList(obj);\n    }\n    else if (isObject(obj)) {\n        if (isArray(obj)) {\n            return obj;\n        }\n        else {\n            const output = [];\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value) {\n                        output.push(key);\n                    }\n                }\n            }\n            return output;\n        }\n    }\n    return [];\n};\nconst parseClassListRegex = /\\s/;\nconst parseClassList = (value) => !value ? [] : value.split(parseClassListRegex);\nexport const stringifyStyle = (obj) => {\n    if (obj == null)\n        return '';\n    if (typeof obj == 'object') {\n        if (isArray(obj)) {\n            throw qError(QError_stringifyClassOrStyle, obj, 'style');\n        }\n        else {\n            const chunks = [];\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value) {\n                        chunks.push(fromCamelToKebabCase(key) + ':' + value);\n                    }\n                }\n            }\n            return chunks.join(';');\n        }\n    }\n    return String(obj);\n};\nexport const getNextIndex = (ctx) => {\n    return intToStr(ctx.$containerState$.$elementIndex$++);\n};\nexport const getQId = (el) => {\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        return ctx.$id$;\n    }\n    return null;\n};\nexport const setQId = (rctx, ctx) => {\n    const id = getNextIndex(rctx);\n    ctx.$id$ = id;\n    directSetAttribute(ctx.$element$, ELEMENT_ID, id);\n};\nexport const hasStyle = (containerState, styleId) => {\n    return containerState.$styleIds$.has(styleId);\n};\nexport const ALLOWS_PROPS = [QSlot];\nexport const SKIPS_PROPS = [QSlot, OnRenderProp, 'children'];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhlY3V0ZS1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2V4ZWN1dGUtY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNqRCxPQUFPLEVBQ0wsNEJBQTRCLEVBQzVCLFVBQVUsRUFDVixZQUFZLEVBQ1osS0FBSyxFQUNMLFdBQVcsR0FDWixNQUFNLGlCQUFpQixDQUFDO0FBQ3pCLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzlELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDdkMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBa0IsTUFBTSxlQUFlLENBQUM7QUFDeEYsT0FBTyxFQUFZLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBSXpELE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwRCxPQUFPLEVBQUUsTUFBTSxFQUFFLDRCQUE0QixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQVFsRCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUM5QixJQUFtQixFQUNuQixHQUFhLEVBQ2tDLEVBQUU7SUFDakQsR0FBRyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFDcEIsR0FBRyxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFFckIsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLFNBQVMs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QUMsQ0FBQztJQUM5QixJQUFJLEdBQUcsRUFBRTtRQUNQLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQztLQUNqQjtJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUMsSUFBbUIsRUFBRSxHQUFhLEVBQUUsRUFBRTtJQUMzRCxNQUFNLEVBQUUsR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDOUIsR0FBRyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUM7SUFDZCxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUNwRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxjQUE4QixFQUFFLE9BQWUsRUFBRSxFQUFFO0lBQzFFLE9BQU8sY0FBYyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDaEQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDcEMsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsS0FBSyxFQUFFLFlBQVksRUFBRSxVQUFVLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7XG4gIENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQsXG4gIEVMRU1FTlRfSUQsXG4gIE9uUmVuZGVyUHJvcCxcbiAgUVNsb3QsXG4gIFJlbmRlckV2ZW50LFxufSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgcHJvbWlzZUFsbCwgc2FmZUNhbGwsIHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IG5ld0ludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uLCBpc09iamVjdCwgaXNTdHJpbmcsIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyBRQ29udGV4dCwgdHJ5R2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyQ29udGV4dCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBDb250YWluZXJTdGF0ZSB9IGZyb20gJy4vY29udGFpbmVyJztcbmltcG9ydCB7IGZyb21DYW1lbFRvS2ViYWJDYXNlIH0gZnJvbSAnLi4vdXRpbC9jYXNlJztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yX3N0cmluZ2lmeUNsYXNzT3JTdHlsZSB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGludFRvU3RyIH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlJztcbmltcG9ydCB7IGRpcmVjdFNldEF0dHJpYnV0ZSB9IGZyb20gJy4vZmFzdC1jYWxscyc7XG5pbXBvcnQgdHlwZSB7IFF3aWtFbGVtZW50IH0gZnJvbSAnLi9kb20vdmlydHVhbC1lbGVtZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBFeGVjdXRlQ29tcG9uZW50T3V0cHV0IHtcbiAgbm9kZTogSlNYTm9kZSB8IG51bGw7XG4gIHJjdHg6IFJlbmRlckNvbnRleHQ7XG59XG5cbmV4cG9ydCBjb25zdCBleGVjdXRlQ29tcG9uZW50ID0gKFxuICByY3R4OiBSZW5kZXJDb250ZXh0LFxuICBjdHg6IFFDb250ZXh0XG4pOiBWYWx1ZU9yUHJvbWlzZTxFeGVjdXRlQ29tcG9uZW50T3V0cHV0IHwgdm9pZD4gPT4ge1xuICBjdHguJGRpcnR5JCA9IGZhbHNlO1xuICBjdHguJG1vdW50ZWQkID0gdHJ1ZTtcblxuICBjb25zdCBob3N0RWxlbWVudCA9IGN0eC4kZWxlbWVudCQ7XG4gIGNvbnN0IG9uUmVuZGVyUVJMID0gY3R4LiRyZW5kZXJRcmwkITtcbiAgYXNzZXJ0RGVmaW5lZChvblJlbmRlclFSTCwgYHJlbmRlcjogaG9zdCBlbGVtZW50IHRvIHJlbmRlciBtdXN0IGhhcyBhICRyZW5kZXJRcmwkOmAsIGN0eCk7XG5cbiAgY29uc3QgcHJvcHMgPSBjdHguJHByb3BzJDtcbiAgYXNzZXJ0RGVmaW5lZChwcm9wcywgYHJlbmRlcjogaG9zdCBlbGVtZW50IHRvIHJlbmRlciBtdXN0IGhhcyBkZWZpbmVkIHByb3BzYCwgY3R4KTtcblxuICAvLyBDb21wb25lbnQgaXMgbm90IGRpcnR5IGFueSBtb3JlXG4gIHJjdHguJGNvbnRhaW5lclN0YXRlJC4kaG9zdHNTdGFnaW5nJC5kZWxldGUoaG9zdEVsZW1lbnQpO1xuXG4gIGNvbnN0IG5ld0N0eCA9IGNvcHlSZW5kZXJDb250ZXh0KHJjdHgpO1xuXG4gIC8vIEludm9rZSByZW5kZXIgaG9va1xuICBjb25zdCBpbnZvY2F0aW5Db250ZXh0ID0gbmV3SW52b2tlQ29udGV4dChyY3R4LiRkb2MkLCBob3N0RWxlbWVudCwgdW5kZWZpbmVkLCBSZW5kZXJFdmVudCk7XG4gIGludm9jYXRpbkNvbnRleHQuJHN1YnNjcmliZXIkID0gaG9zdEVsZW1lbnQ7XG4gIGludm9jYXRpbkNvbnRleHQuJHJlbmRlckN0eCQgPSBuZXdDdHg7XG4gIGNvbnN0IHdhaXRPbiA9IChpbnZvY2F0aW5Db250ZXh0LiR3YWl0T24kID0gW10gYXMgYW55W10pO1xuXG4gIC8vIENsZWFuIGN1cnJlbnQgc3Vic2NyaXB0aW9uIGJlZm9yZSByZW5kZXJcbiAgcmN0eC4kY29udGFpbmVyU3RhdGUkLiRzdWJzTWFuYWdlciQuJGNsZWFyU3ViJChob3N0RWxlbWVudCk7XG5cbiAgLy8gUmVzb2x2ZSByZW5kZXIgZnVuY3Rpb25cbiAgY29uc3Qgb25SZW5kZXJGbiA9IG9uUmVuZGVyUVJMLiRpbnZva2VGbiQocmN0eC4kY29udGFpbmVyRWwkLCBpbnZvY2F0aW5Db250ZXh0KTtcblxuICByZXR1cm4gc2FmZUNhbGwoXG4gICAgKCkgPT4gb25SZW5kZXJGbihwcm9wcykgYXMgSlNYTm9kZSB8IEZ1bmN0aW9uLFxuICAgIChqc3hOb2RlKSA9PiB7XG4gICAgICByY3R4LiRob3N0RWxlbWVudHMkLmFkZChob3N0RWxlbWVudCk7XG4gICAgICBjb25zdCB3YWl0T25Qcm9taXNlID0gcHJvbWlzZUFsbCh3YWl0T24pO1xuICAgICAgcmV0dXJuIHRoZW4od2FpdE9uUHJvbWlzZSwgKCkgPT4ge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihqc3hOb2RlKSkge1xuICAgICAgICAgIGN0eC4kZGlydHkkID0gZmFsc2U7XG4gICAgICAgICAganN4Tm9kZSA9IGpzeE5vZGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdHguJGRpcnR5JCkge1xuICAgICAgICAgIHJldHVybiBleGVjdXRlQ29tcG9uZW50KHJjdHgsIGN0eCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29tcG9uZW50Q3R4ID0gY3R4LiRjb21wb25lbnQkO1xuICAgICAgICBpZiAoIWNvbXBvbmVudEN0eCkge1xuICAgICAgICAgIGNvbXBvbmVudEN0eCA9IGN0eC4kY29tcG9uZW50JCA9IHtcbiAgICAgICAgICAgICRjdHgkOiBjdHgsXG4gICAgICAgICAgICAkc2xvdHMkOiBbXSxcbiAgICAgICAgICAgICRhdHRhY2hlZExpc3RlbmVycyQ6IGZhbHNlLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9uZW50Q3R4LiRhdHRhY2hlZExpc3RlbmVycyQgPSBmYWxzZTtcbiAgICAgICAgY29tcG9uZW50Q3R4LiRzbG90cyQgPSBbXTtcbiAgICAgICAgbmV3Q3R4LiRsb2NhbFN0YWNrJC5wdXNoKGN0eCk7XG4gICAgICAgIG5ld0N0eC4kY3VycmVudENvbXBvbmVudCQgPSBjb21wb25lbnRDdHg7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbm9kZToganN4Tm9kZSBhcyBKU1hOb2RlLFxuICAgICAgICAgIHJjdHg6IG5ld0N0eCxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKGVycikgPT4ge1xuICAgICAgbG9nRXJyb3IoZXJyKTtcbiAgICB9XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUmVuZGVyQ29udGV4dCA9IChcbiAgZG9jOiBEb2N1bWVudCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlXG4pOiBSZW5kZXJDb250ZXh0ID0+IHtcbiAgY29uc3QgY3R4OiBSZW5kZXJDb250ZXh0ID0ge1xuICAgICRkb2MkOiBkb2MsXG4gICAgJGNvbnRhaW5lclN0YXRlJDogY29udGFpbmVyU3RhdGUsXG4gICAgJGNvbnRhaW5lckVsJDogY29udGFpbmVyU3RhdGUuJGNvbnRhaW5lckVsJCxcbiAgICAkaG9zdEVsZW1lbnRzJDogbmV3IFNldCgpLFxuICAgICRvcGVyYXRpb25zJDogW10sXG4gICAgJHJvb3RzJDogW10sXG4gICAgJGxvY2FsU3RhY2skOiBbXSxcbiAgICAkY3VycmVudENvbXBvbmVudCQ6IHVuZGVmaW5lZCxcbiAgICAkcGVyZiQ6IHtcbiAgICAgICR2aXNpdGVkJDogMCxcbiAgICB9LFxuICB9O1xuICByZXR1cm4gY3R4O1xufTtcblxuZXhwb3J0IGNvbnN0IGNvcHlSZW5kZXJDb250ZXh0ID0gKGN0eDogUmVuZGVyQ29udGV4dCk6IFJlbmRlckNvbnRleHQgPT4ge1xuICBjb25zdCBuZXdDdHg6IFJlbmRlckNvbnRleHQgPSB7XG4gICAgLi4uY3R4LFxuICAgICRsb2NhbFN0YWNrJDogWy4uLmN0eC4kbG9jYWxTdGFjayRdLFxuICB9O1xuICByZXR1cm4gbmV3Q3R4O1xufTtcblxuZXhwb3J0IGNvbnN0IHN0cmluZ2lmeUNsYXNzID0gKG9iajogYW55LCBvbGRWYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nID0+IHtcbiAgY29uc3Qgb2xkUGFyc2VkID0gcGFyc2VDbGFzc0FueShvbGRWYWx1ZSk7XG4gIGNvbnN0IG5ld1BhcnNlZCA9IHBhcnNlQ2xhc3NBbnkob2JqKTtcbiAgcmV0dXJuIFsuLi5vbGRQYXJzZWQuZmlsdGVyKChzKSA9PiBzLmluY2x1ZGVzKENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQpKSwgLi4ubmV3UGFyc2VkXS5qb2luKFxuICAgICcgJ1xuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGpvaW5DbGFzc2VzID0gKC4uLmlucHV0OiBhbnlbXSk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHNldCA9IG5ldyBTZXQoKTtcbiAgaW5wdXQuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICBwYXJzZUNsYXNzQW55KHZhbHVlKS5mb3JFYWNoKCh2KSA9PiBzZXQuYWRkKHYpKTtcbiAgfSk7XG4gIHJldHVybiBBcnJheS5mcm9tKHNldCkuam9pbignICcpO1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlQ2xhc3NBbnkgPSAob2JqOiBhbnkpOiBzdHJpbmdbXSA9PiB7XG4gIGlmIChpc1N0cmluZyhvYmopKSB7XG4gICAgcmV0dXJuIHBhcnNlQ2xhc3NMaXN0KG9iaik7XG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qob2JqKSkge1xuICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG91dHB1dDogc3RyaW5nW10gPSBbXTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBvdXRwdXQucHVzaChrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFtdO1xufTtcblxuY29uc3QgcGFyc2VDbGFzc0xpc3RSZWdleCA9IC9cXHMvO1xuY29uc3QgcGFyc2VDbGFzc0xpc3QgPSAodmFsdWU6IHN0cmluZyB8IHVuZGVmaW5lZCB8IG51bGwpOiBzdHJpbmdbXSA9PlxuICAhdmFsdWUgPyBbXSA6IHZhbHVlLnNwbGl0KHBhcnNlQ2xhc3NMaXN0UmVnZXgpO1xuXG5leHBvcnQgY29uc3Qgc3RyaW5naWZ5U3R5bGUgPSAob2JqOiBhbnkpOiBzdHJpbmcgPT4ge1xuICBpZiAob2JqID09IG51bGwpIHJldHVybiAnJztcbiAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3N0cmluZ2lmeUNsYXNzT3JTdHlsZSwgb2JqLCAnc3R5bGUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY2h1bmtzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKGZyb21DYW1lbFRvS2ViYWJDYXNlKGtleSkgKyAnOicgKyB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2h1bmtzLmpvaW4oJzsnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFN0cmluZyhvYmopO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE5leHRJbmRleCA9IChjdHg6IFJlbmRlckNvbnRleHQpID0+IHtcbiAgcmV0dXJuIGludFRvU3RyKGN0eC4kY29udGFpbmVyU3RhdGUkLiRlbGVtZW50SW5kZXgkKyspO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFFJZCA9IChlbDogUXdpa0VsZW1lbnQpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgY29uc3QgY3R4ID0gdHJ5R2V0Q29udGV4dChlbCk7XG4gIGlmIChjdHgpIHtcbiAgICByZXR1cm4gY3R4LiRpZCQ7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0UUlkID0gKHJjdHg6IFJlbmRlckNvbnRleHQsIGN0eDogUUNvbnRleHQpID0+IHtcbiAgY29uc3QgaWQgPSBnZXROZXh0SW5kZXgocmN0eCk7XG4gIGN0eC4kaWQkID0gaWQ7XG4gIGRpcmVjdFNldEF0dHJpYnV0ZShjdHguJGVsZW1lbnQkLCBFTEVNRU5UX0lELCBpZCk7XG59O1xuXG5leHBvcnQgY29uc3QgaGFzU3R5bGUgPSAoY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLCBzdHlsZUlkOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIGNvbnRhaW5lclN0YXRlLiRzdHlsZUlkcyQuaGFzKHN0eWxlSWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IEFMTE9XU19QUk9QUyA9IFtRU2xvdF07XG5leHBvcnQgY29uc3QgU0tJUFNfUFJPUFMgPSBbUVNsb3QsIE9uUmVuZGVyUHJvcCwgJ2NoaWxkcmVuJ107XG4iXX0=","export const hashCode = (text, hash = 0) => {\n    if (text.length === 0)\n        return hash;\n    for (let i = 0; i < text.length; i++) {\n        const chr = text.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return Number(Math.abs(hash)).toString(36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzaF9jb2RlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvaGFzaF9jb2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLElBQVksRUFBRSxPQUFlLENBQUMsRUFBRSxFQUFFO0lBQ3pELElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDO1FBQUUsT0FBTyxJQUFJLENBQUM7SUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDcEMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsMkJBQTJCO0tBQ3ZDO0lBQ0QsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM3QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaGFzaENvZGUgPSAodGV4dDogc3RyaW5nLCBoYXNoOiBudW1iZXIgPSAwKSA9PiB7XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGhhc2g7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNociA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hyO1xuICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gIH1cbiAgcmV0dXJuIE51bWJlcihNYXRoLmFicyhoYXNoKSkudG9TdHJpbmcoMzYpO1xufTtcbiJdfQ==","import { ComponentStylesPrefixContent } from '../util/markers';\nimport { hashCode } from '../util/hash_code';\nexport const styleKey = (qStyles, index) => {\n    return `${hashCode(qStyles.getHash())}-${index}`;\n};\nexport const styleHost = (styleId) => {\n    return styleId;\n};\nexport const styleContent = (styleId) => {\n    return ComponentStylesPrefixContent + styleId;\n};\nexport const serializeSStyle = (scopeIds) => {\n    const value = scopeIds.join(' ');\n    if (value.length > 0) {\n        return value;\n    }\n    return undefined;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvcXJsLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFHN0MsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBb0IsRUFBRSxLQUFhLEVBQVUsRUFBRTtJQUN0RSxPQUFPLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDO0FBQ25ELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFDLE9BQWUsRUFBVSxFQUFFO0lBQ25ELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLE9BQWUsRUFBVSxFQUFFO0lBQ3RELE9BQU8sNEJBQTRCLEdBQUcsT0FBTyxDQUFDO0FBQ2hELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLFFBQWtCLEVBQUUsRUFBRTtJQUNwRCxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDcEIsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUNELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgaGFzaENvZGUgfSBmcm9tICcuLi91dGlsL2hhc2hfY29kZSc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcblxuZXhwb3J0IGNvbnN0IHN0eWxlS2V5ID0gKHFTdHlsZXM6IFFSTDxzdHJpbmc+LCBpbmRleDogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGAke2hhc2hDb2RlKHFTdHlsZXMuZ2V0SGFzaCgpKX0tJHtpbmRleH1gO1xufTtcblxuZXhwb3J0IGNvbnN0IHN0eWxlSG9zdCA9IChzdHlsZUlkOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gc3R5bGVJZDtcbn07XG5cbmV4cG9ydCBjb25zdCBzdHlsZUNvbnRlbnQgPSAoc3R5bGVJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQgKyBzdHlsZUlkO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZVNTdHlsZSA9IChzY29wZUlkczogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgdmFsdWUgPSBzY29wZUlkcy5qb2luKCcgJyk7XG4gIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuIl19","import { qError, QError_invalidJsxNodeType } from '../../error/error';\nimport { newInvokeContext, invoke } from '../../use/use-core';\nimport { EMPTY_ARRAY, EMPTY_OBJ } from '../../util/flyweight';\nimport { logWarn } from '../../util/log';\nimport { QScopedStyle } from '../../util/markers';\nimport { isNotNullable, isPromise, promiseAll, then } from '../../util/promises';\nimport { qDev } from '../../util/qdev';\nimport { isArray, isFunction, isObject, isString } from '../../util/types';\nimport { appendHeadStyle, visitJsxNode } from './visitor';\nimport { SkipRerender, Virtual } from '../jsx/host.public';\nimport { isJSXNode, SKIP_RENDER_TYPE, VIRTUAL_TYPE } from '../jsx/jsx-runtime';\nimport { executeComponent } from '../execute-component';\nimport { serializeSStyle } from '../../component/qrl-styles';\nimport { directSetAttribute } from '../fast-calls';\nexport const renderComponent = (rctx, ctx, flags) => {\n    const justMounted = !ctx.$mounted$;\n    // TODO, serialize scopeIds\n    return then(executeComponent(rctx, ctx), (res) => {\n        if (res) {\n            const hostElement = ctx.$element$;\n            const newCtx = res.rctx;\n            const invocatinContext = newInvokeContext(rctx.$doc$, hostElement);\n            invocatinContext.$subscriber$ = hostElement;\n            invocatinContext.$renderCtx$ = newCtx;\n            if (justMounted) {\n                if (ctx.$appendStyles$) {\n                    for (const style of ctx.$appendStyles$) {\n                        appendHeadStyle(rctx, hostElement, style);\n                    }\n                }\n                if (ctx.$scopeIds$) {\n                    const value = serializeSStyle(ctx.$scopeIds$);\n                    if (value) {\n                        directSetAttribute(hostElement, QScopedStyle, value);\n                    }\n                }\n            }\n            const processedJSXNode = processData(res.node, invocatinContext);\n            return then(processedJSXNode, (processedJSXNode) => {\n                return visitJsxNode(newCtx, hostElement, processedJSXNode, flags);\n            });\n        }\n    });\n};\nexport class ProcessedJSXNodeImpl {\n    constructor($type$, $props$, $children$, $key$) {\n        this.$type$ = $type$;\n        this.$props$ = $props$;\n        this.$children$ = $children$;\n        this.$key$ = $key$;\n        this.$elm$ = null;\n        this.$text$ = '';\n    }\n}\nexport const processNode = (node, invocationContext) => {\n    const key = node.key != null ? String(node.key) : null;\n    let textType = '';\n    if (node.type === SkipRerender) {\n        textType = SKIP_RENDER_TYPE;\n    }\n    else if (node.type === Virtual) {\n        textType = VIRTUAL_TYPE;\n    }\n    else if (isFunction(node.type)) {\n        const res = invocationContext\n            ? invoke(invocationContext, () => node.type(node.props, node.key))\n            : node.type(node.props, node.key);\n        return processData(res, invocationContext);\n    }\n    else if (isString(node.type)) {\n        textType = node.type;\n    }\n    else {\n        throw qError(QError_invalidJsxNodeType, node.type);\n    }\n    let children = EMPTY_ARRAY;\n    if (node.props) {\n        const mightPromise = processData(node.props.children, invocationContext);\n        return then(mightPromise, (result) => {\n            if (result !== undefined) {\n                if (isArray(result)) {\n                    children = result;\n                }\n                else {\n                    children = [result];\n                }\n            }\n            return new ProcessedJSXNodeImpl(textType, node.props, children, key);\n        });\n    }\n    return new ProcessedJSXNodeImpl(textType, node.props, children, key);\n};\nexport const processData = (node, invocationContext) => {\n    if (node == null || typeof node === 'boolean') {\n        return undefined;\n    }\n    if (isJSXNode(node)) {\n        return processNode(node, invocationContext);\n    }\n    else if (isPromise(node)) {\n        return node.then((node) => processData(node, invocationContext));\n    }\n    else if (isArray(node)) {\n        const output = promiseAll(node.flatMap((n) => processData(n, invocationContext)));\n        return then(output, (array) => array.flat(100).filter(isNotNullable));\n    }\n    else if (isString(node) || typeof node === 'number') {\n        const newNode = new ProcessedJSXNodeImpl('#text', EMPTY_OBJ, EMPTY_ARRAY, null);\n        newNode.$text$ = String(node);\n        return newNode;\n    }\n    else {\n        logWarn('A unsupported value was passed to the JSX, skipping render. Value:', node);\n        return undefined;\n    }\n};\nexport const isProcessedJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof ProcessedJSXNodeImpl) {\n            return true;\n        }\n        if (isObject(n) && n.constructor.name === ProcessedJSXNodeImpl.name) {\n            throw new Error(`Duplicate implementations of \"ProcessedJSXNodeImpl\" found`);\n        }\n        return false;\n    }\n    else {\n        return n instanceof ProcessedJSXNodeImpl;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLWRvbS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZG9tL3JlbmRlci1kb20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3RFLE9BQU8sRUFBaUIsZ0JBQWdCLEVBQUUsTUFBTSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDN0UsT0FBTyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDekMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNqRixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBa0IsTUFBTSxrQkFBa0IsQ0FBQztBQUMzRixPQUFPLEVBQUUsZUFBZSxFQUFFLFlBQVksRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUMxRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQzNELE9BQU8sRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsWUFBWSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFL0UsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFFeEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzdELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUluRCxNQUFNLENBQUMsTUFBTSxl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QztRQUNwRixPQUFPLFNBQVMsQ0FBQztLQUNsQjtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLENBQUMsQ0FBTSxFQUF5QixFQUFFO0lBQ2xFLElBQUksSUFBSSxFQUFFO1FBQ1IsSUFBSSxDQUFDLFlBQVksb0JBQW9CLEVBQUU7WUFDckMsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUNELElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxLQUFLLG9CQUFvQixDQUFDLElBQUksRUFBRTtZQUNuRSxNQUFNLElBQUksS0FBSyxDQUFDLDJEQUEyRCxDQUFDLENBQUM7U0FDOUU7UUFDRCxPQUFPLEtBQUssQ0FBQztLQUNkO1NBQU07UUFDTCxPQUFPLENBQUMsWUFBWSxvQkFBb0IsQ0FBQztLQUMxQztBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHFFcnJvciwgUUVycm9yX2ludmFsaWRKc3hOb2RlVHlwZSB9IGZyb20gJy4uLy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IEludm9rZUNvbnRleHQsIG5ld0ludm9rZUNvbnRleHQsIGludm9rZSB9IGZyb20gJy4uLy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBFTVBUWV9BUlJBWSwgRU1QVFlfT0JKIH0gZnJvbSAnLi4vLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IFFTY29wZWRTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBpc05vdE51bGxhYmxlLCBpc1Byb21pc2UsIHByb21pc2VBbGwsIHRoZW4gfSBmcm9tICcuLi8uLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi8uLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgaXNBcnJheSwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIGlzU3RyaW5nLCBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uLy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgYXBwZW5kSGVhZFN0eWxlLCB2aXNpdEpzeE5vZGUgfSBmcm9tICcuL3Zpc2l0b3InO1xuaW1wb3J0IHsgU2tpcFJlcmVuZGVyLCBWaXJ0dWFsIH0gZnJvbSAnLi4vanN4L2hvc3QucHVibGljJztcbmltcG9ydCB7IGlzSlNYTm9kZSwgU0tJUF9SRU5ERVJfVFlQRSwgVklSVFVBTF9UWVBFIH0gZnJvbSAnLi4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4uL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBleGVjdXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vZXhlY3V0ZS1jb21wb25lbnQnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgc2VyaWFsaXplU1N0eWxlIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50L3FybC1zdHlsZXMnO1xuaW1wb3J0IHsgZGlyZWN0U2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vZmFzdC1jYWxscyc7XG5pbXBvcnQgdHlwZSB7IFFDb250ZXh0IH0gZnJvbSAnLi4vLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHR5cGUgeyBWaXJ0dWFsRWxlbWVudCB9IGZyb20gJy4vdmlydHVhbC1lbGVtZW50JztcblxuZXhwb3J0IGNvbnN0IHJlbmRlckNvbXBvbmVudCA9IChcbiAgcmN0eDogUmVuZGVyQ29udGV4dCxcbiAgY3R4OiBRQ29udGV4dCxcbiAgZmxhZ3M6IG51bWJlclxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICBjb25zdCBqdXN0TW91bnRlZCA9ICFjdHguJG1vdW50ZWQkO1xuXG4gIC8vIFRPRE8sIHNlcmlhbGl6ZSBzY29wZUlkc1xuICByZXR1cm4gdGhlbihleGVjdXRlQ29tcG9uZW50KHJjdHgsIGN0eCksIChyZXMpID0+IHtcbiAgICBpZiAocmVzKSB7XG4gICAgICBjb25zdCBob3N0RWxlbWVudCA9IGN0eC4kZWxlbWVudCQ7XG4gICAgICBjb25zdCBuZXdDdHggPSByZXMucmN0eDtcbiAgICAgIGNvbnN0IGludm9jYXRpbkNvbnRleHQgPSBuZXdJbnZva2VDb250ZXh0KHJjdHguJGRvYyQsIGhvc3RFbGVtZW50KTtcbiAgICAgIGludm9jYXRpbkNvbnRleHQuJHN1YnNjcmliZXIkID0gaG9zdEVsZW1lbnQ7XG4gICAgICBpbnZvY2F0aW5Db250ZXh0LiRyZW5kZXJDdHgkID0gbmV3Q3R4O1xuICAgICAgaWYgKGp1c3RNb3VudGVkKSB7XG4gICAgICAgIGlmIChjdHguJGFwcGVuZFN0eWxlcyQpIHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHN0eWxlIG9mIGN0eC4kYXBwZW5kU3R5bGVzJCkge1xuICAgICAgICAgICAgYXBwZW5kSGVhZFN0eWxlKHJjdHgsIGhvc3RFbGVtZW50LCBzdHlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguJHNjb3BlSWRzJCkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2VyaWFsaXplU1N0eWxlKGN0eC4kc2NvcGVJZHMkKTtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGRpcmVjdFNldEF0dHJpYnV0ZShob3N0RWxlbWVudCwgUVNjb3BlZFN0eWxlLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb25zdCBwcm9jZXNzZWRKU1hOb2RlID0gcHJvY2Vzc0RhdGEocmVzLm5vZGUsIGludm9jYXRpbkNvbnRleHQpO1xuICAgICAgcmV0dXJuIHRoZW4ocHJvY2Vzc2VkSlNYTm9kZSwgKHByb2Nlc3NlZEpTWE5vZGUpID0+IHtcbiAgICAgICAgcmV0dXJuIHZpc2l0SnN4Tm9kZShuZXdDdHgsIGhvc3RFbGVtZW50LCBwcm9jZXNzZWRKU1hOb2RlLCBmbGFncyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNsYXNzIFByb2Nlc3NlZEpTWE5vZGVJbXBsIGltcGxlbWVudHMgUHJvY2Vzc2VkSlNYTm9kZSB7XG4gICRlbG0kOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICR0ZXh0JDogc3RyaW5nID0gJyc7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljICR0eXBlJDogc3RyaW5nLFxuICAgIHB1YmxpYyAkcHJvcHMkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICAgIHB1YmxpYyAkY2hpbGRyZW4kOiBQcm9jZXNzZWRKU1hOb2RlW10sXG4gICAgcHVibGljICRrZXkkOiBzdHJpbmcgfCBudWxsXG4gICkge31cbn1cblxuZXhwb3J0IGNvbnN0IHByb2Nlc3NOb2RlID0gKFxuICBub2RlOiBKU1hOb2RlLFxuICBpbnZvY2F0aW9uQ29udGV4dD86IEludm9rZUNvbnRleHRcbik6IFZhbHVlT3JQcm9taXNlPFByb2Nlc3NlZEpTWE5vZGUgfCBQcm9jZXNzZWRKU1hOb2RlW10gfCB1bmRlZmluZWQ+ID0+IHtcbiAgY29uc3Qga2V5ID0gbm9kZS5rZXkgIT0gbnVsbCA/IFN0cmluZyhub2RlLmtleSkgOiBudWxsO1xuICBsZXQgdGV4dFR5cGUgPSAnJztcbiAgaWYgKG5vZGUudHlwZSA9PT0gU2tpcFJlcmVuZGVyKSB7XG4gICAgdGV4dFR5cGUgPSBTS0lQX1JFTkRFUl9UWVBFO1xuICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gVmlydHVhbCkge1xuICAgIHRleHRUeXBlID0gVklSVFVBTF9UWVBFO1xuICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24obm9kZS50eXBlKSkge1xuICAgIGNvbnN0IHJlcyA9IGludm9jYXRpb25Db250ZXh0XG4gICAgICA/IGludm9rZShpbnZvY2F0aW9uQ29udGV4dCwgKCkgPT4gbm9kZS50eXBlKG5vZGUucHJvcHMsIG5vZGUua2V5KSlcbiAgICAgIDogbm9kZS50eXBlKG5vZGUucHJvcHMsIG5vZGUua2V5KTtcbiAgICByZXR1cm4gcHJvY2Vzc0RhdGEocmVzLCBpbnZvY2F0aW9uQ29udGV4dCk7XG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcobm9kZS50eXBlKSkge1xuICAgIHRleHRUeXBlID0gbm9kZS50eXBlO1xuICB9IGVsc2Uge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfaW52YWxpZEpzeE5vZGVUeXBlLCBub2RlLnR5cGUpO1xuICB9XG4gIGxldCBjaGlsZHJlbjogUHJvY2Vzc2VkSlNYTm9kZVtdID0gRU1QVFlfQVJSQVk7XG4gIGlmIChub2RlLnByb3BzKSB7XG4gICAgY29uc3QgbWlnaHRQcm9taXNlID0gcHJvY2Vzc0RhdGEobm9kZS5wcm9wcy5jaGlsZHJlbiwgaW52b2NhdGlvbkNvbnRleHQpO1xuICAgIHJldHVybiB0aGVuKG1pZ2h0UHJvbWlzZSwgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHJlc3VsdCkpIHtcbiAgICAgICAgICBjaGlsZHJlbiA9IHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZHJlbiA9IFtyZXN1bHRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFByb2Nlc3NlZEpTWE5vZGVJbXBsKHRleHRUeXBlLCBub2RlLnByb3BzLCBjaGlsZHJlbiwga2V5KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IFByb2Nlc3NlZEpTWE5vZGVJbXBsKHRleHRUeXBlLCBub2RlLnByb3BzLCBjaGlsZHJlbiwga2V5KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9jZXNzRGF0YSA9IChcbiAgbm9kZTogYW55LFxuICBpbnZvY2F0aW9uQ29udGV4dD86IEludm9rZUNvbnRleHRcbik6IFZhbHVlT3JQcm9taXNlPFByb2Nlc3NlZEpTWE5vZGVbXSB8IFByb2Nlc3NlZEpTWE5vZGUgfCB1bmRlZmluZWQ+ID0+IHtcbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCB0eXBlb2Ygbm9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoaXNKU1hOb2RlKG5vZGUpKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NOb2RlKG5vZGUsIGludm9jYXRpb25Db250ZXh0KTtcbiAgfSBlbHNlIGlmIChpc1Byb21pc2Uobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZS50aGVuKChub2RlKSA9PiBwcm9jZXNzRGF0YShub2RlLCBpbnZvY2F0aW9uQ29udGV4dCkpO1xuICB9IGVsc2UgaWYgKGlzQXJyYXkobm9kZSkpIHtcbiAgICBjb25zdCBvdXRwdXQgPSBwcm9taXNlQWxsKG5vZGUuZmxhdE1hcCgobikgPT4gcHJvY2Vzc0RhdGEobiwgaW52b2NhdGlvbkNvbnRleHQpKSk7XG4gICAgcmV0dXJuIHRoZW4ob3V0cHV0LCAoYXJyYXkpID0+IGFycmF5LmZsYXQoMTAwKS5maWx0ZXIoaXNOb3ROdWxsYWJsZSkpO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKG5vZGUpIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xuICAgIGNvbnN0IG5ld05vZGUgPSBuZXcgUHJvY2Vzc2VkSlNYTm9kZUltcGwoJyN0ZXh0JywgRU1QVFlfT0JKLCBFTVBUWV9BUlJBWSwgbnVsbCk7XG4gICAgbmV3Tm9kZS4kdGV4dCQgPSBTdHJpbmcobm9kZSk7XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH0gZWxzZSB7XG4gICAgbG9nV2FybignQSB1bnN1cHBvcnRlZCB2YWx1ZSB3YXMgcGFzc2VkIHRvIHRoZSBKU1gsIHNraXBwaW5nIHJlbmRlci4gVmFsdWU6Jywgbm9kZSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlzUHJvY2Vzc2VkSlNYTm9kZSA9IChuOiBhbnkpOiBuIGlzIFByb2Nlc3NlZEpTWE5vZGUgPT4ge1xuICBpZiAocURldikge1xuICAgIGlmIChuIGluc3RhbmNlb2YgUHJvY2Vzc2VkSlNYTm9kZUltcGwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3QobikgJiYgbi5jb25zdHJ1Y3Rvci5uYW1lID09PSBQcm9jZXNzZWRKU1hOb2RlSW1wbC5uYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBpbXBsZW1lbnRhdGlvbnMgb2YgXCJQcm9jZXNzZWRKU1hOb2RlSW1wbFwiIGZvdW5kYCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbiBpbnN0YW5jZW9mIFByb2Nlc3NlZEpTWE5vZGVJbXBsO1xuICB9XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFByb2Nlc3NlZEpTWE5vZGUge1xuICAkdHlwZSQ6IHN0cmluZztcbiAgJHByb3BzJDogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgJGNoaWxkcmVuJDogUHJvY2Vzc2VkSlNYTm9kZVtdO1xuICAka2V5JDogc3RyaW5nIHwgbnVsbDtcbiAgJGVsbSQ6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGw7XG4gICR0ZXh0JDogc3RyaW5nO1xufVxuIl19","import { assertEqual, assertTrue } from '../../assert/assert';\nimport { isElement, isQwikElement, isVirtualElement } from '../../util/element';\nimport { qDev } from '../../util/qdev';\nimport { getChildren } from './visitor';\nconst VIRTUAL_SYMBOL = '__virtual';\nexport const newVirtualElement = (doc) => {\n    const open = doc.createComment('qv ');\n    const close = doc.createComment('/qv');\n    return createVirtualElement(open, close);\n};\nexport const parseVirtualAttributes = (str) => {\n    if (!str) {\n        return new Map();\n    }\n    const attributes = str.split(' ');\n    return new Map(attributes.map((attr) => {\n        const index = attr.indexOf('=');\n        if (index >= 0) {\n            return [attr.slice(0, index), unescape(attr.slice(index + 1))];\n        }\n        else {\n            return [attr, ''];\n        }\n    }));\n};\nexport const serializeVirtualAttributes = (map) => {\n    const attributes = [];\n    map.forEach((value, key) => {\n        if (!value) {\n            attributes.push(`${key}`);\n        }\n        else {\n            attributes.push(`${key}=${escape(value)}`);\n        }\n    });\n    return attributes.join(' ');\n};\nconst SHOW_COMMENT = 128;\nconst FILTER_ACCEPT = 1;\nconst FILTER_REJECT = 2;\nexport const walkerVirtualByAttribute = (el, prop, value) => {\n    return el.ownerDocument.createTreeWalker(el, SHOW_COMMENT, {\n        acceptNode(c) {\n            const virtual = getVirtualElement(c);\n            if (virtual) {\n                return virtual.getAttribute(prop) === value ? FILTER_ACCEPT : FILTER_REJECT;\n            }\n            return FILTER_REJECT;\n        },\n    });\n};\nexport const queryVirtualByAttribute = (el, prop, value) => {\n    const walker = walkerVirtualByAttribute(el, prop, value);\n    const open = walker.firstChild();\n    if (open) {\n        return getVirtualElement(open);\n    }\n    return null;\n};\nexport const queryAllVirtualByAttribute = (el, prop, value) => {\n    const walker = walkerVirtualByAttribute(el, prop, value);\n    const pars = [];\n    let currentNode = null;\n    while ((currentNode = walker.nextNode())) {\n        pars.push(getVirtualElement(currentNode));\n    }\n    return pars;\n};\nexport const escape = (s) => {\n    return s.replace(/ /g, '+');\n};\nexport const unescape = (s) => {\n    return s.replace(/\\+/g, ' ');\n};\nexport const createVirtualElement = (open, close) => {\n    // const children: Node[] = [];\n    const doc = open.ownerDocument;\n    const template = doc.createElement('template');\n    assertTrue(open.data.startsWith('qv '), 'comment is not a qv');\n    const attributes = parseVirtualAttributes(open.data.slice(3));\n    const insertBefore = (node, ref) => {\n        // if (qDev && child) {\n        //   if (!children.includes(child)) {\n        //     throw new Error('child is not part of the virtual element');\n        //   }\n        // }\n        const parent = virtual.parentElement;\n        if (parent) {\n            const ref2 = ref ? ref : close;\n            parent.insertBefore(node, ref2);\n        }\n        else {\n            template.insertBefore(node, ref);\n        }\n        return node;\n    };\n    const remove = () => {\n        const parent = virtual.parentElement;\n        if (parent) {\n            const ch = Array.from(virtual.childNodes);\n            assertEqual(template.childElementCount, 0, 'children should be empty');\n            parent.removeChild(open);\n            template.append(...ch);\n            parent.removeChild(close);\n        }\n    };\n    const appendChild = (node) => {\n        return insertBefore(node, null);\n    };\n    const insertBeforeTo = (newParent, child) => {\n        if (qDev) {\n            checkIfChildren(child);\n        }\n        const ch = Array.from(virtual.childNodes);\n        if (virtual.parentElement) {\n            console.warn('already attached');\n        }\n        newParent.insertBefore(open, child);\n        for (const c of ch) {\n            newParent.insertBefore(c, child);\n        }\n        newParent.insertBefore(close, child);\n        assertEqual(template.childElementCount, 0, 'children should be empty');\n    };\n    const appendTo = (newParent) => {\n        insertBeforeTo(newParent, null);\n    };\n    const updateComment = () => {\n        open.data = `qv ${serializeVirtualAttributes(attributes)}`;\n    };\n    const removeChild = (child) => {\n        if (qDev) {\n            checkIfChildren(child);\n        }\n        if (virtual.parentElement) {\n            virtual.parentElement.removeChild(child);\n        }\n        else {\n            template.removeChild(child);\n        }\n    };\n    const checkIfChildren = (_child) => { };\n    const getAttribute = (prop) => {\n        return attributes.get(prop) ?? null;\n    };\n    const hasAttribute = (prop) => {\n        return attributes.has(prop);\n    };\n    const setAttribute = (prop, value) => {\n        attributes.set(prop, value);\n        updateComment();\n    };\n    const removeAttribute = (prop) => {\n        attributes.delete(prop);\n        updateComment();\n    };\n    const matches = (_) => {\n        return false;\n    };\n    const compareDocumentPosition = (other) => {\n        return open.compareDocumentPosition(other);\n    };\n    const closest = (query) => {\n        const parent = virtual.parentElement;\n        if (parent) {\n            return parent.closest(query);\n        }\n        return null;\n    };\n    const querySelectorAll = (query) => {\n        const result = [];\n        const ch = getChildren(virtual, 'elements');\n        ch.forEach((el) => {\n            if (isQwikElement(el)) {\n                if (el.matches(query)) {\n                    result.push(el);\n                }\n                result.concat(Array.from(el.querySelectorAll(query)));\n            }\n        });\n        return result;\n    };\n    const querySelector = (query) => {\n        for (const el of virtual.childNodes) {\n            if (isElement(el)) {\n                if (el.matches(query)) {\n                    return el;\n                }\n                const v = el.querySelector(query);\n                if (v !== null) {\n                    return v;\n                }\n            }\n        }\n        return null;\n    };\n    const virtual = {\n        open,\n        close,\n        appendChild,\n        insertBefore,\n        appendTo,\n        insertBeforeTo,\n        closest,\n        remove,\n        ownerDocument: open.ownerDocument,\n        nodeType: 111,\n        compareDocumentPosition,\n        querySelectorAll,\n        querySelector,\n        matches,\n        setAttribute,\n        getAttribute,\n        hasAttribute,\n        removeChild,\n        localName: ':virtual',\n        nodeName: ':virtual',\n        removeAttribute,\n        get firstChild() {\n            if (virtual.parentElement) {\n                const first = open.nextSibling;\n                if (first === close) {\n                    return null;\n                }\n                return first;\n            }\n            else {\n                return template.firstChild;\n            }\n        },\n        get nextSibling() {\n            return close.nextSibling;\n        },\n        get previousSibling() {\n            return open.previousSibling;\n        },\n        get childNodes() {\n            if (!virtual.parentElement) {\n                return template.childNodes;\n            }\n            const nodes = [];\n            let node = open;\n            while ((node = node.nextSibling)) {\n                if (node !== close) {\n                    nodes.push(node);\n                }\n                else {\n                    break;\n                }\n            }\n            return nodes;\n        },\n        get isConnected() {\n            return open.isConnected;\n        },\n        get parentElement() {\n            return open.parentElement;\n        },\n    };\n    open[VIRTUAL_SYMBOL] = virtual;\n    return virtual;\n};\nexport const processVirtualNodes = (node) => {\n    if (node == null) {\n        return null;\n    }\n    if (isComment(node)) {\n        const virtual = getVirtualElement(node);\n        if (virtual) {\n            return virtual;\n        }\n    }\n    return node;\n};\nexport const getVirtualElement = (open) => {\n    const virtual = open[VIRTUAL_SYMBOL];\n    if (virtual) {\n        return virtual;\n    }\n    if (open.data.startsWith('qv ')) {\n        const close = findClose(open);\n        return createVirtualElement(open, close);\n    }\n    return null;\n};\nconst findClose = (open) => {\n    let node = open.nextSibling;\n    let stack = 1;\n    while (node) {\n        if (isComment(node)) {\n            if (node.data.startsWith('qv ')) {\n                stack++;\n            }\n            else if (node.data === '/qv') {\n                stack--;\n                if (stack === 0) {\n                    return node;\n                }\n            }\n        }\n        node = node.nextSibling;\n    }\n    throw new Error('close not found');\n};\nexport const isComment = (node) => {\n    return node.nodeType === 8;\n};\nexport const getRootNode = (node) => {\n    if (node == null) {\n        return null; // TODO\n    }\n    if (isVirtualElement(node)) {\n        return node.open;\n    }\n    else {\n        return node;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlydHVhbC1lbGVtZW50LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNoRixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUV4QyxNQUFNLGNBQWMsR0FBRyxXQUFXLENBQUM7QUFrQ25DLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQUMsR0FBYSxFQUFrQixFQUFFO0lBQ2pFLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEMsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QyxPQUFPLG9CQUFvQixDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUMzQyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxDQUFDLEdBQVcsRUFBRSxFQUFFO0lBQ3BELElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDUixPQUFPLElBQUksR0FBRyxFQUFFLENBQUM7S0FDbEI7SUFDRCxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2xDLE9BQU8sSUFBSSxHQUFHLENBQ1osVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1FBQ3RCLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENB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R0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO0tBQ3pCO0lBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3JDLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFDLElBQVUsRUFBbUIsRUFBRTtJQUN2RCxPQUFPLElBQUksQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDO0FBQzdCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLElBQWtDLEVBQVEsRUFBRTtJQUN0RSxJQUFJLElBQUksSUFBSSxJQUFJLEVBQUU7UUFDaEIsT0FBTyxJQUFXLENBQUMsQ0FBQyxPQUFPO0tBQzVCO0lBQ0QsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUMxQixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7S0FDbEI7U0FBTTtRQUNMLE9BQU8sSUFBSSxDQUFDO0tBQ2I7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnRFcXVhbCwgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uLy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgaXNFbGVtZW50LCBpc1F3aWtFbGVtZW50LCBpc1ZpcnR1YWxFbGVtZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi8uLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgZ2V0Q2hpbGRyZW4gfSBmcm9tICcuL3Zpc2l0b3InO1xuXG5jb25zdCBWSVJUVUFMX1NZTUJPTCA9ICdfX3ZpcnR1YWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpcnR1YWxFbGVtZW50IHtcbiAgcmVhZG9ubHkgb3BlbjogQ29tbWVudDtcbiAgcmVhZG9ubHkgY2xvc2U6IENvbW1lbnQ7XG4gIHJlYWRvbmx5IGluc2VydEJlZm9yZTogPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBULCBjaGlsZDogTm9kZSB8IG51bGwpID0+IFQ7XG4gIHJlYWRvbmx5IGFwcGVuZENoaWxkOiA8VCBleHRlbmRzIE5vZGU+KG5vZGU6IFQpID0+IFQ7XG4gIHJlYWRvbmx5IGluc2VydEJlZm9yZVRvOiAobmV3UGFyZW50OiBRd2lrRWxlbWVudCwgY2hpbGQ6IE5vZGUgfCBudWxsKSA9PiB2b2lkO1xuICByZWFkb25seSBhcHBlbmRUbzogKG5ld1BhcmVudDogUXdpa0VsZW1lbnQpID0+IHZvaWQ7XG4gIHJlYWRvbmx5IG93bmVyRG9jdW1lbnQ6IERvY3VtZW50O1xuICByZWFkb25seSBub2RlVHlwZTogMTExO1xuICByZWFkb25seSBjaGlsZE5vZGVzOiBOb2RlW107XG4gIHJlYWRvbmx5IGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsO1xuICByZWFkb25seSBwcmV2aW91c1NpYmxpbmc6IE5vZGUgfCBudWxsO1xuICByZWFkb25seSBuZXh0U2libGluZzogTm9kZSB8IG51bGw7XG4gIHJlYWRvbmx5IHJlbW92ZTogKCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgY2xvc2VzdDogKHF1ZXJ5OiBzdHJpbmcpID0+IEVsZW1lbnQgfCBudWxsO1xuICByZWFkb25seSBoYXNBdHRyaWJ1dGU6IChwcm9wOiBzdHJpbmcpID0+IGJvb2xlYW47XG4gIHJlYWRvbmx5IGdldEF0dHJpYnV0ZTogKHByb3A6IHN0cmluZykgPT4gc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgcmVtb3ZlQXR0cmlidXRlOiAocHJvcDogc3RyaW5nKSA9PiB2b2lkO1xuICByZWFkb25seSBxdWVyeVNlbGVjdG9yOiAocXVlcnk6IHN0cmluZykgPT4gUXdpa0VsZW1lbnQgfCBudWxsO1xuICByZWFkb25seSBxdWVyeVNlbGVjdG9yQWxsOiAocXVlcnk6IHN0cmluZykgPT4gUXdpa0VsZW1lbnRbXTtcbiAgcmVhZG9ubHkgY29tcGFyZURvY3VtZW50UG9zaXRpb246IChvdGhlcjogTm9kZSkgPT4gbnVtYmVyO1xuICByZWFkb25seSBtYXRjaGVzOiAocXVlcnk6IHN0cmluZykgPT4gYm9vbGVhbjtcbiAgcmVhZG9ubHkgc2V0QXR0cmlidXRlOiAocHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICByZWFkb25seSByZW1vdmVDaGlsZDogKG5vZGU6IE5vZGUpID0+IHZvaWQ7XG4gIHJlYWRvbmx5IGxvY2FsTmFtZTogc3RyaW5nO1xuICByZWFkb25seSBub2RlTmFtZTogc3RyaW5nO1xuICByZWFkb25seSBpc0Nvbm5lY3RlZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgcGFyZW50RWxlbWVudDogRWxlbWVudCB8IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIFF3aWtFbGVtZW50ID0gRWxlbWVudCB8IFZpcnR1YWxFbGVtZW50O1xuXG5leHBvcnQgY29uc3QgbmV3VmlydHVhbEVsZW1lbnQgPSAoZG9jOiBEb2N1bWVudCk6IFZpcnR1YWxFbGVtZW50ID0+IHtcbiAgY29uc3Qgb3BlbiA9IGRvYy5jcmVhdGVDb21tZW50KCdxdiAnKTtcbiAgY29uc3QgY2xvc2UgPSBkb2MuY3JlYXRlQ29tbWVudCgnL3F2Jyk7XG4gIHJldHVybiBjcmVhdGVWaXJ0dWFsRWxlbWVudChvcGVuLCBjbG9zZSk7XG59O1xuXG5leHBvcnQgY29uc3QgcGFyc2VWaXJ0dWFsQXR0cmlidXRlcyA9IChzdHI6IHN0cmluZykgPT4ge1xuICBpZiAoIXN0cikge1xuICAgIHJldHVybiBuZXcgTWFwKCk7XG4gIH1cbiAgY29uc3QgYXR0cmlidXRlcyA9IHN0ci5zcGxpdCgnICcpO1xuICByZXR1cm4gbmV3IE1hcChcbiAgICBhdHRyaWJ1dGVzLm1hcCgoYXR0cikgPT4ge1xuICAgICAgY29uc3QgaW5kZXggPSBhdHRyLmluZGV4T2YoJz0nKTtcbiAgICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICAgIHJldHVybiBbYXR0ci5zbGljZSgwLCBpbmRleCksIHVuZXNjYXBlKGF0dHIuc2xpY2UoaW5kZXggKyAxKSldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFthdHRyLCAnJ107XG4gICAgICB9XG4gICAgfSlcbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXJpYWxpemVWaXJ0dWFsQXR0cmlidXRlcyA9IChtYXA6IE1hcDxzdHJpbmcsIHN0cmluZz4pID0+IHtcbiAgY29uc3QgYXR0cmlidXRlczogc3RyaW5nW10gPSBbXTtcbiAgbWFwLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBhdHRyaWJ1dGVzLnB1c2goYCR7a2V5fWApO1xuICAgIH0gZWxzZSB7XG4gICAgICBhdHRyaWJ1dGVzLnB1c2goYCR7a2V5fT0ke2VzY2FwZSh2YWx1ZSl9YCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGF0dHJpYnV0ZXMuam9pbignICcpO1xufTtcblxuY29uc3QgU0hPV19DT01NRU5UID0gMTI4O1xuY29uc3QgRklMVEVSX0FDQ0VQVCA9IDE7XG5jb25zdCBGSUxURVJfUkVKRUNUID0gMjtcblxuZXhwb3J0IGNvbnN0IHdhbGtlclZpcnR1YWxCeUF0dHJpYnV0ZSA9IChlbDogRWxlbWVudCwgcHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBlbC5vd25lckRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWwsIFNIT1dfQ09NTUVOVCwge1xuICAgIGFjY2VwdE5vZGUoYykge1xuICAgICAgY29uc3QgdmlydHVhbCA9IGdldFZpcnR1YWxFbGVtZW50KGMgYXMgQ29tbWVudCk7XG4gICAgICBpZiAodmlydHVhbCkge1xuICAgICAgICByZXR1cm4gdmlydHVhbC5nZXRBdHRyaWJ1dGUocHJvcCkgPT09IHZhbHVlID8gRklMVEVSX0FDQ0VQVCA6IEZJTFRFUl9SRUpFQ1Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gRklMVEVSX1JFSkVDVDtcbiAgICB9LFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBxdWVyeVZpcnR1YWxCeUF0dHJpYnV0ZSA9IChlbDogRWxlbWVudCwgcHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHdhbGtlciA9IHdhbGtlclZpcnR1YWxCeUF0dHJpYnV0ZShlbCwgcHJvcCwgdmFsdWUpO1xuICBjb25zdCBvcGVuID0gd2Fsa2VyLmZpcnN0Q2hpbGQoKTtcbiAgaWYgKG9wZW4pIHtcbiAgICByZXR1cm4gZ2V0VmlydHVhbEVsZW1lbnQob3BlbiBhcyBDb21tZW50KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBxdWVyeUFsbFZpcnR1YWxCeUF0dHJpYnV0ZSA9IChlbDogRWxlbWVudCwgcHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHdhbGtlciA9IHdhbGtlclZpcnR1YWxCeUF0dHJpYnV0ZShlbCwgcHJvcCwgdmFsdWUpO1xuICBjb25zdCBwYXJzOiBWaXJ0dWFsRWxlbWVudFtdID0gW107XG4gIGxldCBjdXJyZW50Tm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xuICB3aGlsZSAoKGN1cnJlbnROb2RlID0gd2Fsa2VyLm5leHROb2RlKCkpKSB7XG4gICAgcGFycy5wdXNoKGdldFZpcnR1YWxFbGVtZW50KGN1cnJlbnROb2RlIGFzIENvbW1lbnQpISk7XG4gIH1cbiAgcmV0dXJuIHBhcnM7XG59O1xuXG5leHBvcnQgY29uc3QgZXNjYXBlID0gKHM6IHN0cmluZykgPT4ge1xuICByZXR1cm4gcy5yZXBsYWNlKC8gL2csICcrJyk7XG59O1xuXG5leHBvcnQgY29uc3QgdW5lc2NhcGUgPSAoczogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBzLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVZpcnR1YWxFbGVtZW50ID0gKG9wZW46IENvbW1lbnQsIGNsb3NlOiBDb21tZW50KTogVmlydHVhbEVsZW1lbnQgPT4ge1xuICAvLyBjb25zdCBjaGlsZHJlbjogTm9kZVtdID0gW107XG4gIGNvbnN0IGRvYyA9IG9wZW4ub3duZXJEb2N1bWVudDtcbiAgY29uc3QgdGVtcGxhdGUgPSBkb2MuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcbiAgYXNzZXJ0VHJ1ZShvcGVuLmRhdGEuc3RhcnRzV2l0aCgncXYgJyksICdjb21tZW50IGlzIG5vdCBhIHF2Jyk7XG5cbiAgY29uc3QgYXR0cmlidXRlcyA9IHBhcnNlVmlydHVhbEF0dHJpYnV0ZXMob3Blbi5kYXRhLnNsaWNlKDMpKTtcbiAgY29uc3QgaW5zZXJ0QmVmb3JlID0gPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBULCByZWY6IE5vZGUgfCBudWxsKTogVCA9PiB7XG4gICAgLy8gaWYgKHFEZXYgJiYgY2hpbGQpIHtcbiAgICAvLyAgIGlmICghY2hpbGRyZW4uaW5jbHVkZXMoY2hpbGQpKSB7XG4gICAgLy8gICAgIHRocm93IG5ldyBFcnJvcignY2hpbGQgaXMgbm90IHBhcnQgb2YgdGhlIHZpcnR1YWwgZWxlbWVudCcpO1xuICAgIC8vICAgfVxuICAgIC8vIH1cbiAgICBjb25zdCBwYXJlbnQgPSB2aXJ0dWFsLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgY29uc3QgcmVmMiA9IHJlZiA/IHJlZiA6IGNsb3NlO1xuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCByZWYyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGVtcGxhdGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHJlZik7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZSA9ICgpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSB2aXJ0dWFsLnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgY29uc3QgY2ggPSBBcnJheS5mcm9tKHZpcnR1YWwuY2hpbGROb2Rlcyk7XG4gICAgICBhc3NlcnRFcXVhbCh0ZW1wbGF0ZS5jaGlsZEVsZW1lbnRDb3VudCwgMCwgJ2NoaWxkcmVuIHNob3VsZCBiZSBlbXB0eScpO1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKG9wZW4pO1xuICAgICAgdGVtcGxhdGUuYXBwZW5kKC4uLmNoKTtcbiAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChjbG9zZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFwcGVuZENoaWxkID0gPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBUKTogVCA9PiB7XG4gICAgcmV0dXJuIGluc2VydEJlZm9yZShub2RlLCBudWxsKTtcbiAgfTtcblxuICBjb25zdCBpbnNlcnRCZWZvcmVUbyA9IChuZXdQYXJlbnQ6IFF3aWtFbGVtZW50LCBjaGlsZDogTm9kZSB8IG51bGwpID0+IHtcbiAgICBpZiAocURldikge1xuICAgICAgY2hlY2tJZkNoaWxkcmVuKGNoaWxkKTtcbiAgICB9XG4gICAgY29uc3QgY2ggPSBBcnJheS5mcm9tKHZpcnR1YWwuY2hpbGROb2Rlcyk7XG4gICAgaWYgKHZpcnR1YWwucGFyZW50RWxlbWVudCkge1xuICAgICAgY29uc29sZS53YXJuKCdhbHJlYWR5IGF0dGFjaGVkJyk7XG4gICAgfVxuICAgIG5ld1BhcmVudC5pbnNlcnRCZWZvcmUob3BlbiwgY2hpbGQpO1xuICAgIGZvciAoY29uc3QgYyBvZiBjaCkge1xuICAgICAgbmV3UGFyZW50Lmluc2VydEJlZm9yZShjLCBjaGlsZCk7XG4gICAgfVxuICAgIG5ld1BhcmVudC5pbnNlcnRCZWZvcmUoY2xvc2UsIGNoaWxkKTtcbiAgICBhc3NlcnRFcXVhbCh0ZW1wbGF0ZS5jaGlsZEVsZW1lbnRDb3VudCwgMCwgJ2NoaWxkcmVuIHNob3VsZCBiZSBlbXB0eScpO1xuICB9O1xuXG4gIGNvbnN0IGFwcGVuZFRvID0gKG5ld1BhcmVudDogUXdpa0VsZW1lbnQpID0+IHtcbiAgICBpbnNlcnRCZWZvcmVUbyhuZXdQYXJlbnQsIG51bGwpO1xuICB9O1xuXG4gIGNvbnN0IHVwZGF0ZUNvbW1lbnQgPSAoKSA9PiB7XG4gICAgb3Blbi5kYXRhID0gYHF2ICR7c2VyaWFsaXplVmlydHVhbEF0dHJpYnV0ZXMoYXR0cmlidXRlcyl9YDtcbiAgfTtcblxuICBjb25zdCByZW1vdmVDaGlsZCA9IChjaGlsZDogTm9kZSkgPT4ge1xuICAgIGlmIChxRGV2KSB7XG4gICAgICBjaGVja0lmQ2hpbGRyZW4oY2hpbGQpO1xuICAgIH1cbiAgICBpZiAodmlydHVhbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICB2aXJ0dWFsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0ZW1wbGF0ZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGNoZWNrSWZDaGlsZHJlbiA9IChfY2hpbGQ6IE5vZGUgfCBudWxsKSA9PiB7fTtcblxuICBjb25zdCBnZXRBdHRyaWJ1dGUgPSAocHJvcDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXMuZ2V0KHByb3ApID8/IG51bGw7XG4gIH07XG5cbiAgY29uc3QgaGFzQXR0cmlidXRlID0gKHByb3A6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBhdHRyaWJ1dGVzLmhhcyhwcm9wKTtcbiAgfTtcblxuICBjb25zdCBzZXRBdHRyaWJ1dGUgPSAocHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgYXR0cmlidXRlcy5zZXQocHJvcCwgdmFsdWUpO1xuICAgIHVwZGF0ZUNvbW1lbnQoKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVBdHRyaWJ1dGUgPSAocHJvcDogc3RyaW5nKSA9PiB7XG4gICAgYXR0cmlidXRlcy5kZWxldGUocHJvcCk7XG4gICAgdXBkYXRlQ29tbWVudCgpO1xuICB9O1xuXG4gIGNvbnN0IG1hdGNoZXMgPSAoXzogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGNvbnN0IGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uID0gKG90aGVyOiBOb2RlKSA9PiB7XG4gICAgcmV0dXJuIG9wZW4uY29tcGFyZURvY3VtZW50UG9zaXRpb24ob3RoZXIpO1xuICB9O1xuXG4gIGNvbnN0IGNsb3Nlc3QgPSAocXVlcnk6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IHZpcnR1YWwucGFyZW50RWxlbWVudDtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICByZXR1cm4gcGFyZW50LmNsb3Nlc3QocXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCBxdWVyeVNlbGVjdG9yQWxsID0gKHF1ZXJ5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCByZXN1bHQ6IFF3aWtFbGVtZW50W10gPSBbXTtcbiAgICBjb25zdCBjaCA9IGdldENoaWxkcmVuKHZpcnR1YWwsICdlbGVtZW50cycpO1xuICAgIGNoLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBpZiAoaXNRd2lrRWxlbWVudChlbCkpIHtcbiAgICAgICAgaWYgKGVsLm1hdGNoZXMocXVlcnkpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5jb25jYXQoQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKHF1ZXJ5KSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIGNvbnN0IHF1ZXJ5U2VsZWN0b3IgPSAocXVlcnk6IHN0cmluZykgPT4ge1xuICAgIGZvciAoY29uc3QgZWwgb2YgdmlydHVhbC5jaGlsZE5vZGVzKSB7XG4gICAgICBpZiAoaXNFbGVtZW50KGVsKSkge1xuICAgICAgICBpZiAoZWwubWF0Y2hlcyhxdWVyeSkpIHtcbiAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdiA9IGVsLnF1ZXJ5U2VsZWN0b3IocXVlcnkpO1xuICAgICAgICBpZiAodiAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xuXG4gIGNvbnN0IHZpcnR1YWw6IFZpcnR1YWxFbGVtZW50ID0ge1xuICAgIG9wZW4sXG4gICAgY2xvc2UsXG4gICAgYXBwZW5kQ2hpbGQsXG4gICAgaW5zZXJ0QmVmb3JlLFxuICAgIGFwcGVuZFRvLFxuICAgIGluc2VydEJlZm9yZVRvLFxuICAgIGNsb3Nlc3QsXG4gICAgcmVtb3ZlLFxuICAgIG93bmVyRG9jdW1lbnQ6IG9wZW4ub3duZXJEb2N1bWVudCxcbiAgICBub2RlVHlwZTogMTExIGFzIGNvbnN0LFxuICAgIGNvbXBhcmVEb2N1bWVudFBvc2l0aW9uLFxuICAgIHF1ZXJ5U2VsZWN0b3JBbGwsXG4gICAgcXVlcnlTZWxlY3RvcixcbiAgICBtYXRjaGVzLFxuICAgIHNldEF0dHJpYnV0ZSxcbiAgICBnZXRBdHRyaWJ1dGUsXG4gICAgaGFzQXR0cmlidXRlLFxuICAgIHJlbW92ZUNoaWxkLFxuICAgIGxvY2FsTmFtZTogJzp2aXJ0dWFsJyxcbiAgICBub2RlTmFtZTogJzp2aXJ0dWFsJyxcbiAgICByZW1vdmVBdHRyaWJ1dGUsXG4gICAgZ2V0IGZpcnN0Q2hpbGQoKSB7XG4gICAgICBpZiAodmlydHVhbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gb3Blbi5uZXh0U2libGluZztcbiAgICAgICAgaWYgKGZpcnN0ID09PSBjbG9zZSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaXJzdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZS5maXJzdENoaWxkO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0IG5leHRTaWJsaW5nKCkge1xuICAgICAgcmV0dXJuIGNsb3NlLm5leHRTaWJsaW5nO1xuICAgIH0sXG4gICAgZ2V0IHByZXZpb3VzU2libGluZygpIHtcbiAgICAgIHJldHVybiBvcGVuLnByZXZpb3VzU2libGluZztcbiAgICB9LFxuICAgIGdldCBjaGlsZE5vZGVzKCkge1xuICAgICAgaWYgKCF2aXJ0dWFsLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlLmNoaWxkTm9kZXMgYXMgYW55O1xuICAgICAgfVxuICAgICAgY29uc3Qgbm9kZXM6IE5vZGVbXSA9IFtdO1xuICAgICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsID0gb3BlbjtcbiAgICAgIHdoaWxlICgobm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpKSB7XG4gICAgICAgIGlmIChub2RlICE9PSBjbG9zZSkge1xuICAgICAgICAgIG5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlcztcbiAgICB9LFxuICAgIGdldCBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgIHJldHVybiBvcGVuLmlzQ29ubmVjdGVkO1xuICAgIH0sXG4gICAgZ2V0IHBhcmVudEVsZW1lbnQoKSB7XG4gICAgICByZXR1cm4gb3Blbi5wYXJlbnRFbGVtZW50O1xuICAgIH0sXG4gIH07XG4gIChvcGVuIGFzIGFueSlbVklSVFVBTF9TWU1CT0xdID0gdmlydHVhbDtcblxuICByZXR1cm4gdmlydHVhbDtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9jZXNzVmlydHVhbE5vZGVzID0gKG5vZGU6IE5vZGUgfCBudWxsKTogTm9kZSB8IFF3aWtFbGVtZW50IHwgbnVsbCA9PiB7XG4gIGlmIChub2RlID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChpc0NvbW1lbnQobm9kZSkpIHtcbiAgICBjb25zdCB2aXJ0dWFsID0gZ2V0VmlydHVhbEVsZW1lbnQobm9kZSk7XG4gICAgaWYgKHZpcnR1YWwpIHtcbiAgICAgIHJldHVybiB2aXJ0dWFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbm9kZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRWaXJ0dWFsRWxlbWVudCA9IChvcGVuOiBDb21tZW50KTogVmlydHVhbEVsZW1lbnQgfCBudWxsID0+IHtcbiAgY29uc3QgdmlydHVhbCA9IChvcGVuIGFzIGFueSlbVklSVFVBTF9TWU1CT0xdO1xuICBpZiAodmlydHVhbCkge1xuICAgIHJldHVybiB2aXJ0dWFsO1xuICB9XG4gIGlmIChvcGVuLmRhdGEuc3RhcnRzV2l0aCgncXYgJykpIHtcbiAgICBjb25zdCBjbG9zZSA9IGZpbmRDbG9zZShvcGVuKTtcbiAgICByZXR1cm4gY3JlYXRlVmlydHVhbEVsZW1lbnQob3BlbiwgY2xvc2UpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuY29uc3QgZmluZENsb3NlID0gKG9wZW46IENvbW1lbnQpOiBDb21tZW50ID0+IHtcbiAgbGV0IG5vZGUgPSBvcGVuLm5leHRTaWJsaW5nO1xuICBsZXQgc3RhY2sgPSAxO1xuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChpc0NvbW1lbnQobm9kZSkpIHtcbiAgICAgIGlmIChub2RlLmRhdGEuc3RhcnRzV2l0aCgncXYgJykpIHtcbiAgICAgICAgc3RhY2srKztcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5kYXRhID09PSAnL3F2Jykge1xuICAgICAgICBzdGFjay0tO1xuICAgICAgICBpZiAoc3RhY2sgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ2Nsb3NlIG5vdCBmb3VuZCcpO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29tbWVudCA9IChub2RlOiBOb2RlKTogbm9kZSBpcyBDb21tZW50ID0+IHtcbiAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT09IDg7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Um9vdE5vZGUgPSAobm9kZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50IHwgbnVsbCk6IE5vZGUgPT4ge1xuICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGwgYXMgYW55OyAvLyBUT0RPXG4gIH1cbiAgaWYgKGlzVmlydHVhbEVsZW1lbnQobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZS5vcGVuO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBub2RlO1xuICB9XG59O1xuIl19","import { ELEMENT_ID, OnRenderProp, QSlot, QSlotName, QSlotRef, QStyle } from '../../util/markers';\nimport { cleanupContext, getContext, getPropsMutator, normalizeOnProp, tryGetContext, } from '../../props/props';\nimport { addQRLListener, isOnProp } from '../../props/props-on';\nimport { isArray, isString } from '../../util/types';\nimport { promiseAll, then } from '../../util/promises';\nimport { assertDefined, assertEqual, assertTrue } from '../../assert/assert';\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { logDebug, logError, logWarn } from '../../util/log';\nimport { qDev } from '../../util/qdev';\nimport { codeToText, qError, QError_hostCanOnlyBeAtRoot, QError_setProperty, } from '../../error/error';\nimport { fromCamelToKebabCase } from '../../util/case';\nimport { CONTAINER } from '../../use/use-core';\nimport { directGetAttribute, directSetAttribute } from '../fast-calls';\nimport { HOST_TYPE, SKIP_RENDER_TYPE, VIRTUAL_TYPE } from '../jsx/jsx-runtime';\nimport { assertQrl } from '../../import/qrl-class';\nimport { isQwikElement, isVirtualElement } from '../../util/element';\nimport { serializeQRLs } from '../../import/qrl';\nimport { renderComponent } from './render-dom';\nimport { copyRenderContext, setQId, SKIPS_PROPS, stringifyClass, stringifyStyle, } from '../execute-component';\nimport { getRootNode, newVirtualElement, processVirtualNodes, queryAllVirtualByAttribute, } from './virtual-element';\nexport const SVG_NS = 'http://www.w3.org/2000/svg';\nexport const IS_SVG = 1 << 0;\nexport const IS_HEAD = 1 << 1;\nexport const visitJsxNode = (ctx, elm, jsxNode, flags) => {\n    if (jsxNode === undefined) {\n        return smartUpdateChildren(ctx, elm, [], 'root', flags);\n    }\n    if (isArray(jsxNode)) {\n        return smartUpdateChildren(ctx, elm, jsxNode.flat(), 'root', flags);\n    }\n    else {\n        return smartUpdateChildren(ctx, elm, [jsxNode], 'root', flags);\n    }\n};\nexport const smartUpdateChildren = (ctx, elm, ch, mode, flags) => {\n    if (ch.length === 1 && ch[0].$type$ === SKIP_RENDER_TYPE) {\n        if (elm.firstChild !== null) {\n            return;\n        }\n        ch = ch[0].$children$;\n    }\n    const isHead = elm.nodeName === 'HEAD';\n    if (isHead) {\n        mode = 'head';\n        flags |= IS_HEAD;\n    }\n    const oldCh = getChildren(elm, mode);\n    if (oldCh.length > 0 && ch.length > 0) {\n        return updateChildren(ctx, elm, oldCh, ch, flags);\n    }\n    else if (ch.length > 0) {\n        return addVnodes(ctx, elm, null, ch, 0, ch.length - 1, flags);\n    }\n    else if (oldCh.length > 0) {\n        return removeVnodes(ctx, oldCh, 0, oldCh.length - 1);\n    }\n};\nexport const updateChildren = (ctx, parentElm, oldCh, newCh, flags) => {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx;\n    let idxInOld;\n    let elmToMove;\n    const results = [];\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            results.push(patchVnode(ctx, oldStartVnode, newStartVnode, flags));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            results.push(patchVnode(ctx, oldEndVnode, newEndVnode, flags));\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            results.push(patchVnode(ctx, oldStartVnode, newEndVnode, flags));\n            insertBefore(ctx, parentElm, oldStartVnode, oldEndVnode.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            results.push(patchVnode(ctx, oldEndVnode, newStartVnode, flags));\n            insertBefore(ctx, parentElm, oldEndVnode, oldStartVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (oldKeyToIdx === undefined) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.$key$];\n            if (idxInOld === undefined) {\n                // New element\n                const newElm = createElm(ctx, newStartVnode, flags);\n                results.push(then(newElm, (newElm) => {\n                    insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                }));\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (!isTagName(elmToMove, newStartVnode.$type$)) {\n                    const newElm = createElm(ctx, newStartVnode, flags);\n                    results.push(then(newElm, (newElm) => {\n                        insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                    }));\n                }\n                else {\n                    results.push(patchVnode(ctx, elmToMove, newStartVnode, flags));\n                    oldCh[idxInOld] = undefined;\n                    insertBefore(ctx, parentElm, elmToMove, oldStartVnode);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (newStartIdx <= newEndIdx) {\n        const before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$;\n        results.push(addVnodes(ctx, parentElm, before, newCh, newStartIdx, newEndIdx, flags));\n    }\n    let wait = promiseAll(results);\n    if (oldStartIdx <= oldEndIdx) {\n        wait = then(wait, () => {\n            removeVnodes(ctx, oldCh, oldStartIdx, oldEndIdx);\n        });\n    }\n    return wait;\n};\nconst isComponentNode = (node) => {\n    return node.$props$ && OnRenderProp in node.$props$;\n};\nconst getCh = (elm, filter) => {\n    const end = isVirtualElement(elm) ? elm.close : null;\n    const nodes = [];\n    let node = elm.firstChild;\n    while ((node = processVirtualNodes(node))) {\n        if (filter(node)) {\n            nodes.push(node);\n        }\n        node = node.nextSibling;\n        if (node === end) {\n            break;\n        }\n    }\n    return nodes;\n};\nexport const getChildren = (elm, mode) => {\n    switch (mode) {\n        case 'root':\n            return getCh(elm, isChildComponent);\n        case 'head':\n            return getCh(elm, isHeadChildren);\n        case 'elements':\n            return getCh(elm, isQwikElement);\n    }\n};\nexport const isNode = (elm) => {\n    const type = elm.nodeType;\n    return type === 1 || type === 3 || type === 111;\n};\nconst isHeadChildren = (node) => {\n    const type = node.nodeType;\n    if (type === 1) {\n        return node.hasAttribute('q:head');\n    }\n    return type === 111;\n};\nconst isSlotTemplate = (node) => {\n    return node.nodeName === 'Q:TEMPLATE';\n};\nconst isChildComponent = (node) => {\n    const type = node.nodeType;\n    if (type === 3 || type === 111) {\n        return true;\n    }\n    if (type !== 1) {\n        return false;\n    }\n    const nodeName = node.nodeName;\n    if (nodeName === 'Q:TEMPLATE') {\n        return false;\n    }\n    if (nodeName === 'HEAD') {\n        return node.hasAttribute('q:head');\n    }\n    return true;\n};\nexport const splitBy = (input, condition) => {\n    const output = {};\n    for (const item of input) {\n        const key = condition(item);\n        const array = output[key] ?? (output[key] = []);\n        array.push(item);\n    }\n    return output;\n};\nexport const patchVnode = (rctx, elm, vnode, flags) => {\n    vnode.$elm$ = elm;\n    const tag = vnode.$type$;\n    if (tag === '#text') {\n        if (elm.data !== vnode.$text$) {\n            setProperty(rctx, elm, 'data', vnode.$text$);\n        }\n        return;\n    }\n    if (tag === HOST_TYPE) {\n        throw qError(QError_hostCanOnlyBeAtRoot);\n    }\n    if (tag === SKIP_RENDER_TYPE) {\n        return;\n    }\n    let isSvg = !!(flags & IS_SVG);\n    if (!isSvg && tag === 'svg') {\n        flags |= IS_SVG;\n        isSvg = true;\n    }\n    const props = vnode.$props$;\n    const ctx = getContext(elm);\n    const isComponent = isComponentNode(vnode);\n    const isSlot = !isComponent && QSlotName in props;\n    let dirty = isComponent\n        ? updateComponentProperties(ctx, rctx, props)\n        : updateProperties(ctx, rctx, props, isSvg);\n    if (isSvg && vnode.$type$ === 'foreignObject') {\n        flags &= ~IS_SVG;\n        isSvg = false;\n    }\n    if (isSlot) {\n        const currentComponent = rctx.$currentComponent$;\n        if (currentComponent) {\n            currentComponent.$slots$.push(vnode);\n        }\n    }\n    const ch = vnode.$children$;\n    if (isComponent) {\n        if (!dirty && !ctx.$renderQrl$ && !ctx.$element$.hasAttribute(ELEMENT_ID)) {\n            setQId(rctx, ctx);\n            ctx.$renderQrl$ = props[OnRenderProp];\n            assertQrl(ctx.$renderQrl$);\n            dirty = true;\n        }\n        const promise = dirty ? renderComponent(rctx, ctx, flags) : undefined;\n        return then(promise, () => {\n            const currentComponent = ctx.$component$;\n            const slotMaps = getSlots(currentComponent, elm);\n            const splittedChidren = splitBy(ch, getSlotName);\n            const promises = [];\n            const slotRctx = copyRenderContext(rctx);\n            slotRctx.$localStack$.push(ctx);\n            // Mark empty slots and remove content\n            Object.entries(slotMaps.slots).forEach(([key, slotEl]) => {\n                if (slotEl && !splittedChidren[key]) {\n                    const oldCh = getChildren(slotEl, 'root');\n                    if (oldCh.length > 0) {\n                        removeVnodes(slotRctx, oldCh, 0, oldCh.length - 1);\n                    }\n                }\n            });\n            // Mark empty slots and remove content\n            Object.entries(slotMaps.templates).forEach(([key, templateEl]) => {\n                if (templateEl && !splittedChidren[key]) {\n                    removeNode(slotRctx, templateEl);\n                    slotMaps.templates[key] = undefined;\n                }\n            });\n            // Render into slots\n            Object.entries(splittedChidren).forEach(([key, ch]) => {\n                const slotElm = getSlotElement(slotRctx, slotMaps, elm, key);\n                promises.push(smartUpdateChildren(slotRctx, slotElm, ch, 'root', flags));\n            });\n            return then(promiseAll(promises), () => {\n                removeTemplates(slotRctx, slotMaps);\n            });\n        });\n    }\n    const setsInnerHTML = checkInnerHTML(props);\n    if (setsInnerHTML) {\n        if (qDev && ch.length > 0) {\n            logWarn('Node can not have children when innerHTML is set');\n        }\n        return;\n    }\n    if (!isSlot) {\n        return smartUpdateChildren(rctx, elm, ch, 'root', flags);\n    }\n};\nconst addVnodes = (ctx, parentElm, before, vnodes, startIdx, endIdx, flags) => {\n    const promises = [];\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = vnodes[startIdx];\n        assertDefined(ch, 'render: node must be defined at index', startIdx, vnodes);\n        promises.push(createElm(ctx, ch, flags));\n    }\n    return then(promiseAll(promises), (children) => {\n        for (const child of children) {\n            insertBefore(ctx, parentElm, child, before);\n        }\n    });\n};\nconst removeVnodes = (ctx, nodes, startIdx, endIdx) => {\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = nodes[startIdx];\n        if (ch) {\n            removeNode(ctx, ch);\n        }\n    }\n};\nconst getSlotElement = (ctx, slotMaps, parentEl, slotName) => {\n    const slotEl = slotMaps.slots[slotName];\n    if (slotEl) {\n        return slotEl;\n    }\n    const templateEl = slotMaps.templates[slotName];\n    if (templateEl) {\n        return templateEl;\n    }\n    const template = createTemplate(ctx, slotName);\n    prepend(ctx, parentEl, template);\n    slotMaps.templates[slotName] = template;\n    return template;\n};\nconst createTemplate = (ctx, slotName) => {\n    const template = createElement(ctx, 'q:template', false);\n    directSetAttribute(template, QSlot, slotName);\n    directSetAttribute(template, 'hidden', '');\n    directSetAttribute(template, 'aria-hidden', 'true');\n    return template;\n};\nconst removeTemplates = (ctx, slotMaps) => {\n    Object.keys(slotMaps.templates).forEach((key) => {\n        const template = slotMaps.templates[key];\n        if (template && slotMaps.slots[key] !== undefined) {\n            removeNode(ctx, template);\n            slotMaps.templates[key] = undefined;\n        }\n    });\n};\nexport const resolveSlotProjection = (ctx, hostElm, before, after) => {\n    Object.entries(before.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !after.slots[key]) {\n            // Slot removed\n            // Move slot to template\n            const template = createTemplate(ctx, key);\n            const slotChildren = getChildren(slotEl, 'root');\n            for (const child of slotChildren) {\n                directAppendChild(template, child);\n            }\n            directInsertBefore(hostElm, template, hostElm.firstChild);\n            ctx.$operations$.push({\n                $el$: template,\n                $operation$: 'slot-to-template',\n                $args$: slotChildren,\n                $fn$: () => { },\n            });\n        }\n    });\n    Object.entries(after.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !before.slots[key]) {\n            // Slot created\n            // Move template to slot\n            const template = before.templates[key];\n            if (template) {\n                const children = getChildren(template, 'root');\n                children.forEach((child) => {\n                    directAppendChild(slotEl, child);\n                });\n                template.remove();\n                ctx.$operations$.push({\n                    $el$: slotEl,\n                    $operation$: 'template-to-slot',\n                    $args$: [template],\n                    $fn$: () => { },\n                });\n            }\n        }\n    });\n};\nconst getSlotName = (node) => {\n    return node.$props$?.[QSlot] ?? '';\n};\nconst createElm = (rctx, vnode, flags) => {\n    rctx.$perf$.$visited$++;\n    const tag = vnode.$type$;\n    if (tag === '#text') {\n        return (vnode.$elm$ = createTextNode(rctx, vnode.$text$));\n    }\n    if (tag === HOST_TYPE) {\n        throw qError(QError_hostCanOnlyBeAtRoot);\n    }\n    let isSvg = !!(flags & IS_SVG);\n    if (!isSvg && tag === 'svg') {\n        flags |= IS_SVG;\n        isSvg = true;\n    }\n    const isVirtual = tag === VIRTUAL_TYPE;\n    let elm;\n    let isHead = !!(flags & IS_HEAD);\n    if (isVirtual) {\n        elm = newVirtualElement(rctx.$doc$);\n    }\n    else if (tag === 'head') {\n        elm = rctx.$doc$.head;\n        flags |= IS_HEAD;\n        isHead = true;\n    }\n    else if (tag === 'title') {\n        elm = rctx.$doc$.querySelector('title') ?? createElement(rctx, tag, isSvg);\n    }\n    else {\n        elm = createElement(rctx, tag, isSvg);\n        flags &= ~IS_HEAD;\n    }\n    vnode.$elm$ = elm;\n    const props = vnode.$props$;\n    const isComponent = isComponentNode(vnode);\n    const isSlot = isVirtual && QSlotName in props;\n    const hasRef = !isVirtual && 'ref' in props;\n    const ctx = getContext(elm);\n    setKey(elm, vnode.$key$);\n    if (isHead && !isVirtual) {\n        directSetAttribute(elm, 'q:head', '');\n    }\n    if (isSvg && tag === 'foreignObject') {\n        isSvg = false;\n        flags &= ~IS_SVG;\n    }\n    const currentComponent = rctx.$currentComponent$;\n    if (currentComponent) {\n        if (!isVirtual) {\n            const scopedIds = currentComponent.$ctx$.$scopeIds$;\n            if (scopedIds) {\n                scopedIds.forEach((styleId) => {\n                    elm.classList.add(styleId);\n                });\n            }\n        }\n        if (isSlot) {\n            directSetAttribute(elm, QSlotRef, currentComponent.$ctx$.$id$);\n            currentComponent.$slots$.push(vnode);\n        }\n    }\n    if (isComponent) {\n        updateComponentProperties(ctx, rctx, props);\n    }\n    else {\n        updateProperties(ctx, rctx, props, isSvg);\n    }\n    if (isComponent || ctx.$listeners$ || hasRef) {\n        setQId(rctx, ctx);\n    }\n    let wait;\n    if (isComponent) {\n        // Run mount hook\n        const renderQRL = props[OnRenderProp];\n        assertQrl(renderQRL);\n        ctx.$renderQrl$ = renderQRL;\n        wait = renderComponent(rctx, ctx, flags);\n    }\n    else {\n        const setsInnerHTML = checkInnerHTML(props);\n        if (setsInnerHTML) {\n            if (qDev && vnode.$children$.length > 0) {\n                logWarn('Node can not have children when innerHTML is set');\n            }\n            return elm;\n        }\n    }\n    return then(wait, () => {\n        const currentComponent = ctx.$component$;\n        let children = vnode.$children$;\n        if (children.length > 0) {\n            if (children.length === 1 && children[0].$type$ === SKIP_RENDER_TYPE) {\n                children = children[0].$children$;\n            }\n            const slotRctx = copyRenderContext(rctx);\n            slotRctx.$localStack$.push(ctx);\n            const slotMap = isComponent ? getSlots(currentComponent, elm) : undefined;\n            const promises = children.map((ch) => createElm(slotRctx, ch, flags));\n            return then(promiseAll(promises), () => {\n                let parent = elm;\n                for (const node of children) {\n                    if (slotMap) {\n                        parent = getSlotElement(slotRctx, slotMap, elm, getSlotName(node));\n                    }\n                    directAppendChild(parent, node.$elm$);\n                }\n                return elm;\n            });\n        }\n        return elm;\n    });\n};\nconst getSlots = (componentCtx, hostElm) => {\n    const slots = {};\n    const templates = {};\n    const parent = hostElm.parentElement;\n    if (parent) {\n        const slotRef = directGetAttribute(hostElm, 'q:id');\n        const existingSlots = queryAllVirtualByAttribute(parent, 'q:sref', slotRef);\n        // Map slots\n        for (const elm of existingSlots) {\n            slots[directGetAttribute(elm, QSlotName) ?? ''] = elm;\n        }\n    }\n    const newSlots = componentCtx?.$slots$ ?? EMPTY_ARRAY;\n    const t = Array.from(hostElm.childNodes).filter(isSlotTemplate);\n    // Map virtual slots\n    for (const vnode of newSlots) {\n        slots[vnode.$props$[QSlotName] ?? ''] = vnode.$elm$;\n    }\n    // Map templates\n    for (const elm of t) {\n        templates[directGetAttribute(elm, QSlot) ?? ''] = elm;\n    }\n    return { slots, templates };\n};\nconst handleStyle = (ctx, elm, _, newValue) => {\n    setAttribute(ctx, elm, 'style', stringifyStyle(newValue));\n    return true;\n};\nconst handleClass = (ctx, elm, _, newValue, oldValue) => {\n    if (!oldValue) {\n        oldValue = elm.className;\n    }\n    setAttribute(ctx, elm, 'class', stringifyClass(newValue, oldValue));\n    return true;\n};\nconst checkBeforeAssign = (ctx, elm, prop, newValue) => {\n    if (prop in elm) {\n        if (elm[prop] !== newValue) {\n            setProperty(ctx, elm, prop, newValue);\n        }\n    }\n    return true;\n};\nconst dangerouslySetInnerHTML = 'dangerouslySetInnerHTML';\nconst setInnerHTML = (ctx, elm, _, newValue) => {\n    if (dangerouslySetInnerHTML in elm) {\n        setProperty(ctx, elm, dangerouslySetInnerHTML, newValue);\n    }\n    else if ('innerHTML' in elm) {\n        setProperty(ctx, elm, 'innerHTML', newValue);\n    }\n    return true;\n};\nconst noop = () => {\n    return true;\n};\nexport const PROP_HANDLER_MAP = {\n    style: handleStyle,\n    class: handleClass,\n    className: handleClass,\n    value: checkBeforeAssign,\n    checked: checkBeforeAssign,\n    [dangerouslySetInnerHTML]: setInnerHTML,\n    innerHTML: noop,\n};\nexport const updateProperties = (ctx, rctx, expectProps, isSvg) => {\n    const keys = Object.keys(expectProps);\n    if (keys.length === 0) {\n        return false;\n    }\n    let cache = ctx.$cache$;\n    const elm = ctx.$element$;\n    for (const key of keys) {\n        if (key === 'children') {\n            continue;\n        }\n        const newValue = expectProps[key];\n        if (key === 'ref') {\n            newValue.current = elm;\n            continue;\n        }\n        // Early exit if value didnt change\n        const cacheKey = key;\n        if (!cache) {\n            cache = ctx.$cache$ = new Map();\n        }\n        const oldValue = cache.get(cacheKey);\n        if (newValue === oldValue) {\n            continue;\n        }\n        cache.set(cacheKey, newValue);\n        // Check of data- or aria-\n        if (key.startsWith('data-') || key.startsWith('aria-')) {\n            setAttribute(rctx, elm, key, newValue);\n            continue;\n        }\n        if (isOnProp(key)) {\n            setEvent(ctx, key, newValue);\n            continue;\n        }\n        // Check if its an exception\n        const exception = PROP_HANDLER_MAP[key];\n        if (exception) {\n            if (exception(rctx, elm, key, newValue, oldValue)) {\n                continue;\n            }\n        }\n        // Check if property in prototype\n        if (!isSvg && key in elm) {\n            setProperty(rctx, elm, key, newValue);\n            continue;\n        }\n        // Fallback to render attribute\n        setAttribute(rctx, elm, key, newValue);\n    }\n    if (ctx.$listeners$) {\n        ctx.$listeners$.forEach((value, key) => {\n            setAttribute(rctx, elm, fromCamelToKebabCase(key), serializeQRLs(value, ctx));\n        });\n    }\n    return false;\n};\nexport const updateComponentProperties = (ctx, rctx, expectProps) => {\n    const keys = Object.keys(expectProps);\n    if (keys.length === 0) {\n        return false;\n    }\n    const qwikProps = getPropsMutator(ctx, rctx.$containerState$);\n    for (const key of keys) {\n        if (SKIPS_PROPS.includes(key)) {\n            continue;\n        }\n        qwikProps.set(key, expectProps[key]);\n    }\n    return ctx.$dirty$;\n};\nconst setEvent = (ctx, prop, value) => {\n    assertTrue(prop.endsWith('$'), 'render: event property does not end with $', prop);\n    // TODO\n    // if (!ctx.$listeners$) {\n    //   ctx.$listeners$ = getDomListeners(ctx.$element$);\n    // }\n    addQRLListener(ctx, normalizeOnProp(prop.slice(0, -1)), value);\n};\nexport const setAttribute = (ctx, el, prop, value) => {\n    const fn = () => {\n        if (value == null || value === false) {\n            el.removeAttribute(prop);\n        }\n        else {\n            const str = value === true ? '' : String(value);\n            directSetAttribute(el, prop, str);\n        }\n    };\n    ctx.$operations$.push({\n        $el$: el,\n        $operation$: 'set-attribute',\n        $args$: [prop, value],\n        $fn$: fn,\n    });\n};\nconst setProperty = (ctx, node, key, value) => {\n    const fn = () => {\n        try {\n            node[key] = value;\n        }\n        catch (err) {\n            logError(codeToText(QError_setProperty), { node, key, value }, err);\n        }\n    };\n    ctx.$operations$.push({\n        $el$: node,\n        $operation$: 'set-property',\n        $args$: [key, value],\n        $fn$: fn,\n    });\n};\nconst createElement = (ctx, expectTag, isSvg) => {\n    const el = isSvg\n        ? ctx.$doc$.createElementNS(SVG_NS, expectTag)\n        : ctx.$doc$.createElement(expectTag);\n    el[CONTAINER] = ctx.$containerEl$;\n    ctx.$operations$.push({\n        $el$: el,\n        $operation$: 'create-element',\n        $args$: [expectTag],\n        $fn$: () => { },\n    });\n    return el;\n};\nconst insertBefore = (ctx, parent, newChild, refChild) => {\n    const fn = () => {\n        directInsertBefore(parent, newChild, refChild ? refChild : null);\n    };\n    ctx.$operations$.push({\n        $el$: parent,\n        $operation$: 'insert-before',\n        $args$: [newChild, refChild],\n        $fn$: fn,\n    });\n    return newChild;\n};\nexport const appendHeadStyle = (ctx, hostElement, styleTask) => {\n    const fn = () => {\n        const containerEl = ctx.$containerEl$;\n        const isDoc = ctx.$doc$.documentElement === containerEl && !!ctx.$doc$.head;\n        const style = ctx.$doc$.createElement('style');\n        directSetAttribute(style, QStyle, styleTask.styleId);\n        style.textContent = styleTask.content;\n        if (isDoc) {\n            directAppendChild(ctx.$doc$.head, style);\n        }\n        else {\n            directInsertBefore(containerEl, style, containerEl.firstChild);\n        }\n    };\n    ctx.$containerState$.$styleIds$.add(styleTask.styleId);\n    ctx.$operations$.push({\n        $el$: hostElement,\n        $operation$: 'append-style',\n        $args$: [styleTask],\n        $fn$: fn,\n    });\n};\nconst prepend = (ctx, parent, newChild) => {\n    const fn = () => {\n        directInsertBefore(parent, newChild, parent.firstChild);\n    };\n    ctx.$operations$.push({\n        $el$: parent,\n        $operation$: 'prepend',\n        $args$: [newChild],\n        $fn$: fn,\n    });\n};\nconst removeNode = (ctx, el) => {\n    const fn = () => {\n        const parent = el.parentElement;\n        if (parent) {\n            if (el.nodeType === 1 || el.nodeType === 111) {\n                cleanupTree(el, ctx.$containerState$.$subsManager$);\n            }\n            directRemoveChild(parent, el);\n        }\n        else if (qDev) {\n            logWarn('Trying to remove component already removed', el);\n        }\n    };\n    ctx.$operations$.push({\n        $el$: el,\n        $operation$: 'remove',\n        $args$: [],\n        $fn$: fn,\n    });\n};\nexport const cleanupTree = (parent, subsManager) => {\n    if (parent.hasAttribute(QSlotName)) {\n        return;\n    }\n    cleanupElement(parent, subsManager);\n    const ch = getChildren(parent, 'elements');\n    for (const child of ch) {\n        cleanupTree(child, subsManager);\n    }\n};\nconst cleanupElement = (el, subsManager) => {\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        cleanupContext(ctx, subsManager);\n    }\n};\nconst createTextNode = (ctx, text) => {\n    return ctx.$doc$.createTextNode(text);\n};\nexport const executeContextWithSlots = (ctx) => {\n    const before = ctx.$roots$.map((elm) => getSlots(null, elm));\n    executeContext(ctx);\n    const after = ctx.$roots$.map((elm) => getSlots(null, elm));\n    assertEqual(before.length, after.length, 'render: number of q:slots changed during render context execution', before, after);\n    for (let i = 0; i < before.length; i++) {\n        resolveSlotProjection(ctx, ctx.$roots$[i], before[i], after[i]);\n    }\n};\nexport const executeContext = (ctx) => {\n    for (const op of ctx.$operations$) {\n        op.$fn$();\n    }\n};\nexport const directAppendChild = (parent, child) => {\n    if (isVirtualElement(child)) {\n        child.appendTo(parent);\n    }\n    else {\n        parent.appendChild(child);\n    }\n};\nexport const directRemoveChild = (parent, child) => {\n    if (isVirtualElement(child)) {\n        child.remove();\n    }\n    else {\n        parent.removeChild(child);\n    }\n};\nexport const directInsertBefore = (parent, child, ref) => {\n    if (isVirtualElement(child)) {\n        child.insertBeforeTo(parent, getRootNode(ref));\n    }\n    else {\n        parent.insertBefore(child, getRootNode(ref));\n    }\n};\nexport const printRenderStats = (ctx) => {\n    if (qDev) {\n        if (typeof window !== 'undefined' && window.document != null) {\n            const byOp = {};\n            for (const op of ctx.$operations$) {\n                byOp[op.$operation$] = (byOp[op.$operation$] ?? 0) + 1;\n            }\n            const affectedElements = Array.from(new Set(ctx.$operations$.map((a) => a.$el$)));\n            const stats = {\n                byOp,\n                roots: ctx.$roots$,\n                hostElements: Array.from(ctx.$hostElements$),\n                affectedElements,\n                visitedNodes: ctx.$perf$.$visited$,\n                operations: ctx.$operations$.map((v) => [v.$operation$, v.$el$, ...v.$args$]),\n            };\n            const noOps = ctx.$operations$.length === 0;\n            logDebug('Render stats.', noOps ? 'No operations' : '', stats);\n        }\n    }\n};\nconst createKeyToOldIdx = (children, beginIdx, endIdx) => {\n    const map = {};\n    for (let i = beginIdx; i <= endIdx; ++i) {\n        const child = children[i];\n        if (child.nodeType === 1) {\n            const key = getKey(child);\n            if (key != null) {\n                map[key] = i;\n            }\n        }\n    }\n    return map;\n};\nconst KEY_SYMBOL = Symbol('vnode key');\nconst getKey = (el) => {\n    let key = el[KEY_SYMBOL];\n    if (key === undefined) {\n        key = el[KEY_SYMBOL] = directGetAttribute(el, 'q:key');\n    }\n    return key;\n};\nconst setKey = (el, key) => {\n    if (isString(key)) {\n        directSetAttribute(el, 'q:key', key);\n    }\n    el[KEY_SYMBOL] = key;\n};\nconst sameVnode = (elm, vnode2) => {\n    const isElement = elm.nodeType === 1 || elm.nodeType === 111;\n    const type = vnode2.$type$;\n    if (isElement) {\n        const isSameSel = elm.localName === type;\n        if (!isSameSel) {\n            return false;\n        }\n        return getKey(elm) === vnode2.$key$;\n    }\n    return elm.nodeName === type;\n};\nconst isTagName = (elm, tagName) => {\n    if (elm.nodeType === 1) {\n        return elm.localName === tagName;\n    }\n    return elm.nodeName === tagName;\n};\nconst checkInnerHTML = (props) => {\n    return dangerouslySetInnerHTML in props;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzaXRvci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZG9tL3Zpc2l0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsTUFBTSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDbEcsT0FBTyxFQUNMLGNBQWMsRUFFZCxVQUFVLEVBQ1YsZUFBZSxFQUNmLGVBQWUsRUFFZixhQUFhLEdBQ2QsTUFBTSxtQkFBbUIsQ0FBQztBQUMzQixPQUFPLEVBQUUsY0FBYyxFQUFFLFFBQVEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFrQixNQUFNLGtCQUFrQixDQUFDO0FBQ3JFLE9BQU8sRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDdkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDN0UsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2QyxPQUFPLEVBQ0wsVUFBVSxFQUNWLE1BQU0sRUFDTiwwQkFBMEIsRUFDMUIsa0JBQWtCLEdBQ25CLE1BQU0sbUJBQW1CLENBQUM7QUFDM0IsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFdkQsT0FBTyxFQUFFLFNBQVMsRUFBZSxNQUFNLG9CQUFvQixDQUFDO0FBQzVELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGVBQWUsQ0FB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QixrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0tBQ3RDO0lBQ0EsRUFBVSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUNoQyxDQUFDLENBQUM7QUFFRixNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQTBCLEVBQUUsTUFBd0IsRUFBVyxFQUFFO0lBQ2xGLE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQyxRQUFRLEtBQUssQ0FBQyxJQUFJLEdBQUcsQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDO0lBQzdELE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDM0IsSUFBSSxTQUFTLEVBQUU7UUFDYixNQUFNLFNBQVMsR0FBSSxHQUFlLENBQUMsU0FBUyxLQUFLLElBQUksQ0FBQztRQUN0RCxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ2QsT0FBTyxLQUFLLENBQUM7U0FDZDtRQUNELE9BQU8sTUFBTSxDQUFDLEdBQWMsQ0FBQyxLQUFLLE1BQU0sQ0FBQyxLQUFLLENBQUM7S0FDaEQ7SUFDRCxPQUFPLEdBQUcsQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUVGLE1BQU0sU0FBUyxHQUFHLENBQUMsR0FBMEIsRUFBRSxPQUFlLEVBQVcsRUFBRTtJQUN6RSxJQUFJLEdBQUcsQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO1FBQ3RCLE9BQVEsR0FBZSxDQUFDLFNBQVMsS0FBSyxPQUFPLENBQUM7S0FDL0M7SUFDRCxPQUFPLEdBQUcsQ0FBQyxRQUFRLEtBQUssT0FBTyxDQUFDO0FBQ2xDLENBQUMsQ0FBQztBQUVGLE1BQU0sY0FBYyxHQUFHLENBQUMsS0FBMEIsRUFBRSxFQUFFO0lBQ3BELE9BQU8sdUJBQXVCLElBQUksS0FBSyxDQUFDO0FBQzFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVMRU1FTlRfSUQsIE9uUmVuZGVyUHJvcCwgUVNsb3QsIFFTbG90TmFtZSwgUVNsb3RSZWYsIFFTdHlsZSB9IGZyb20gJy4uLy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQge1xuICBjbGVhbnVwQ29udGV4dCxcbiAgQ29tcG9uZW50Q3R4LFxuICBnZXRDb250ZXh0LFxuICBnZXRQcm9wc011dGF0b3IsXG4gIG5vcm1hbGl6ZU9uUHJvcCxcbiAgUUNvbnRleHQsXG4gIHRyeUdldENvbnRleHQsXG59IGZyb20gJy4uLy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IGFkZFFSTExpc3RlbmVyLCBpc09uUHJvcCB9IGZyb20gJy4uLy4uL3Byb3BzL3Byb3BzLW9uJztcbmltcG9ydCB7IGlzQXJyYXksIGlzU3RyaW5nLCBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uLy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgcHJvbWlzZUFsbCwgdGhlbiB9IGZyb20gJy4uLy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0RXF1YWwsIGFzc2VydFRydWUgfSBmcm9tICcuLi8uLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHsgbG9nRGVidWcsIGxvZ0Vycm9yLCBsb2dXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uLy4uL3V0aWwvcWRldic7XG5pbXBvcnQge1xuICBjb2RlVG9UZXh0LFxuICBxRXJyb3IsXG4gIFFFcnJvcl9ob3N0Q2FuT25seUJlQXRSb290LFxuICBRRXJyb3Jfc2V0UHJvcGVydHksXG59IGZyb20gJy4uLy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGZyb21DYW1lbFRvS2ViYWJDYXNlIH0gZnJvbSAnLi4vLi4vdXRpbC9jYXNlJztcbmltcG9ydCB0eXBlIHsgT25SZW5kZXJGbiB9IGZyb20gJy4uLy4uL2NvbXBvbmVudC9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IENPTlRBSU5FUiwgU3R5bGVBcHBlbmQgfSBmcm9tICcuLi8uLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgZGlyZWN0R2V0QXR0cmlidXRlLCBkaXJlY3RTZXRBdHRyaWJ1dGUgfSBmcm9tICcuLi9mYXN0LWNhbGxzJztcbmltcG9ydCB7IEhPU1RfVFlQRSwgU0tJUF9SRU5ERVJfVFlQRSwgVklSVFVBTF9UWVBFIH0gZnJvbSAnLi4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uLy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgaXNRd2lrRWxlbWVudCwgaXNWaXJ0dWFsRWxlbWVudCB9IGZyb20gJy4uLy4uL3V0aWwvZWxlbWVudCc7XG5pbXBvcnQgeyBzZXJpYWxpemVRUkxzIH0gZnJvbSAnLi4vLi4vaW1wb3J0L3FybCc7XG5pbXBvcnQgeyBQcm9jZXNzZWRKU1hOb2RlLCByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3JlbmRlci1kb20nO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgY29weVJlbmRlckNvbnRleHQsXG4gIHNldFFJZCxcbiAgU0tJUFNfUFJPUFMsXG4gIHN0cmluZ2lmeUNsYXNzLFxuICBzdHJpbmdpZnlTdHlsZSxcbn0gZnJvbSAnLi4vZXhlY3V0ZS1jb21wb25lbnQnO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vY29udGFpbmVyJztcbmltcG9ydCB0eXBlIHsgUmVmIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1yZWYnO1xuaW1wb3J0IHtcbiAgZ2V0Um9vdE5vZGUsXG4gIG5ld1ZpcnR1YWxFbGVtZW50LFxuICBwcm9jZXNzVmlydHVhbE5vZGVzLFxuICBxdWVyeUFsbFZpcnR1YWxCeUF0dHJpYnV0ZSxcbiAgUXdpa0VsZW1lbnQsXG4gIFZpcnR1YWxFbGVtZW50LFxufSBmcm9tICcuL3ZpcnR1YWwtZWxlbWVudCc7XG5cbmV4cG9ydCBjb25zdCBTVkdfTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xuXG5leHBvcnQgY29uc3QgSVNfU1ZHID0gMSA8PCAwO1xuZXhwb3J0IGNvbnN0IElTX0hFQUQgPSAxIDw8IDE7XG5cbnR5cGUgS2V5VG9JbmRleE1hcCA9IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG5cbnR5cGUgUHJvcEhhbmRsZXIgPSAoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgZWw6IEhUTUxFbGVtZW50LFxuICBrZXk6IHN0cmluZyxcbiAgbmV3VmFsdWU6IGFueSxcbiAgb2xkVmFsdWU6IGFueVxuKSA9PiBib29sZWFuO1xuXG5leHBvcnQgdHlwZSBDaGlsZHJlbk1vZGUgPSAncm9vdCcgfCAnaGVhZCcgfCAnZWxlbWVudHMnO1xuXG5leHBvcnQgY29uc3QgdmlzaXRKc3hOb2RlID0gKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIGVsbTogUXdpa0VsZW1lbnQsXG4gIGpzeE5vZGU6IFByb2Nlc3NlZEpTWE5vZGUgfCBQcm9jZXNzZWRKU1hOb2RlW10gfCB1bmRlZmluZWQsXG4gIGZsYWdzOiBudW1iZXJcbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgaWYgKGpzeE5vZGUgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBzbWFydFVwZGF0ZUNoaWxkcmVuKGN0eCwgZWxtLCBbXSwgJ3Jvb3QnLCBmbGFncyk7XG4gIH1cbiAgaWYgKGlzQXJyYXkoanN4Tm9kZSkpIHtcbiAgICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihjdHgsIGVsbSwganN4Tm9kZS5mbGF0KCksICdyb290JywgZmxhZ3MpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzbWFydFVwZGF0ZUNoaWxkcmVuKGN0eCwgZWxtLCBbanN4Tm9kZV0sICdyb290JywgZmxhZ3MpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc21hcnRVcGRhdGVDaGlsZHJlbiA9IChcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBlbG06IFF3aWtFbGVtZW50LFxuICBjaDogUHJvY2Vzc2VkSlNYTm9kZVtdLFxuICBtb2RlOiBDaGlsZHJlbk1vZGUsXG4gIGZsYWdzOiBudW1iZXJcbikgPT4ge1xuICBpZiAoY2gubGVuZ3RoID09PSAxICYmIGNoWzBdLiR0eXBlJCA9PT0gU0tJUF9SRU5ERVJfVFlQRSkge1xuICAgIGlmIChlbG0uZmlyc3RDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaCA9IGNoWzBdLiRjaGlsZHJlbiQ7XG4gIH1cbiAgY29uc3QgaXNIZWFkID0gZWxtLm5vZGVOYW1lID09PSAnSEVBRCc7XG4gIGlmIChpc0hlYWQpIHtcbiAgICBtb2RlID0gJ2hlYWQnO1xuICAgIGZsYWdzIHw9IElTX0hFQUQ7XG4gIH1cbiAgY29uc3Qgb2xkQ2ggPSBnZXRDaGlsZHJlbihlbG0sIG1vZGUpO1xuICBpZiAob2xkQ2gubGVuZ3RoID4gMCAmJiBjaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHVwZGF0ZUNoaWxkcmVuKGN0eCwgZWxtLCBvbGRDaCwgY2gsIGZsYWdzKTtcbiAgfSBlbHNlIGlmIChjaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGFkZFZub2RlcyhjdHgsIGVsbSwgbnVsbCwgY2gsIDAsIGNoLmxlbmd0aCAtIDEsIGZsYWdzKTtcbiAgfSBlbHNlIGlmIChvbGRDaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHJlbW92ZVZub2RlcyhjdHgsIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNoaWxkcmVuID0gKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIHBhcmVudEVsbTogUXdpa0VsZW1lbnQsXG4gIG9sZENoOiAoTm9kZSB8IFZpcnR1YWxFbGVtZW50KVtdLFxuICBuZXdDaDogUHJvY2Vzc2VkSlNYTm9kZVtdLFxuICBmbGFnczogbnVtYmVyXG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGxldCBvbGRTdGFydElkeCA9IDA7XG4gIGxldCBuZXdTdGFydElkeCA9IDA7XG4gIGxldCBvbGRFbmRJZHggPSBvbGRDaC5sZW5ndGggLSAxO1xuICBsZXQgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdO1xuICBsZXQgb2xkRW5kVm5vZGUgPSBvbGRDaFtvbGRFbmRJZHhdO1xuICBsZXQgbmV3RW5kSWR4ID0gbmV3Q2gubGVuZ3RoIC0gMTtcbiAgbGV0IG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTtcbiAgbGV0IG5ld0VuZFZub2RlID0gbmV3Q2hbbmV3RW5kSWR4XTtcbiAgbGV0IG9sZEtleVRvSWR4OiBLZXlUb0luZGV4TWFwIHwgdW5kZWZpbmVkO1xuICBsZXQgaWR4SW5PbGQ6IG51bWJlcjtcbiAgbGV0IGVsbVRvTW92ZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50O1xuICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICBpZiAob2xkU3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07IC8vIFZub2RlIG1pZ2h0IGhhdmUgYmVlbiBtb3ZlZCBsZWZ0XG4gICAgfSBlbHNlIGlmIChvbGRFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKG5ld1N0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgIH0gZWxzZSBpZiAobmV3RW5kVm5vZGUgPT0gbnVsbCkge1xuICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgb2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgZmxhZ3MpKTtcbiAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICByZXN1bHRzLnB1c2gocGF0Y2hWbm9kZShjdHgsIG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSwgZmxhZ3MpKTtcbiAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAvLyBWbm9kZSBtb3ZlZCByaWdodFxuICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgZmxhZ3MpKTtcblxuICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBvbGRTdGFydFZub2RlLCBvbGRFbmRWbm9kZS5uZXh0U2libGluZyk7XG4gICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgIC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgb2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGZsYWdzKSk7XG5cbiAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgb2xkRW5kVm5vZGUsIG9sZFN0YXJ0Vm5vZGUpO1xuICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvbGRLZXlUb0lkeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgICAgfVxuICAgICAgaWR4SW5PbGQgPSBvbGRLZXlUb0lkeFtuZXdTdGFydFZub2RlLiRrZXkkIGFzIHN0cmluZ107XG4gICAgICBpZiAoaWR4SW5PbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBOZXcgZWxlbWVudFxuICAgICAgICBjb25zdCBuZXdFbG0gPSBjcmVhdGVFbG0oY3R4LCBuZXdTdGFydFZub2RlLCBmbGFncyk7XG4gICAgICAgIHJlc3VsdHMucHVzaChcbiAgICAgICAgICB0aGVuKG5ld0VsbSwgKG5ld0VsbSkgPT4ge1xuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBuZXdFbG0sIG9sZFN0YXJ0Vm5vZGUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG4gICAgICAgIGlmICghaXNUYWdOYW1lKGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZS4kdHlwZSQpKSB7XG4gICAgICAgICAgY29uc3QgbmV3RWxtID0gY3JlYXRlRWxtKGN0eCwgbmV3U3RhcnRWbm9kZSwgZmxhZ3MpO1xuICAgICAgICAgIHJlc3VsdHMucHVzaChcbiAgICAgICAgICAgIHRoZW4obmV3RWxtLCAobmV3RWxtKSA9PiB7XG4gICAgICAgICAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgbmV3RWxtLCBvbGRTdGFydFZub2RlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gocGF0Y2hWbm9kZShjdHgsIGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgZmxhZ3MpKTtcbiAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB1bmRlZmluZWQgYXMgYW55O1xuICAgICAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgZWxtVG9Nb3ZlLCBvbGRTdGFydFZub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgIH1cbiAgfVxuXG4gIGlmIChuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICBjb25zdCBiZWZvcmUgPSBuZXdDaFtuZXdFbmRJZHggKyAxXSA9PSBudWxsID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLiRlbG0kO1xuICAgIHJlc3VsdHMucHVzaChhZGRWbm9kZXMoY3R4LCBwYXJlbnRFbG0sIGJlZm9yZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4LCBuZXdFbmRJZHgsIGZsYWdzKSk7XG4gIH1cblxuICBsZXQgd2FpdCA9IHByb21pc2VBbGwocmVzdWx0cykgYXMgYW55O1xuICBpZiAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4KSB7XG4gICAgd2FpdCA9IHRoZW4od2FpdCwgKCkgPT4ge1xuICAgICAgcmVtb3ZlVm5vZGVzKGN0eCwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB3YWl0O1xufTtcblxuY29uc3QgaXNDb21wb25lbnROb2RlID0gKG5vZGU6IFByb2Nlc3NlZEpTWE5vZGUpID0+IHtcbiAgcmV0dXJuIG5vZGUuJHByb3BzJCAmJiBPblJlbmRlclByb3AgaW4gbm9kZS4kcHJvcHMkO1xufTtcblxuY29uc3QgZ2V0Q2ggPSAoZWxtOiBRd2lrRWxlbWVudCwgZmlsdGVyOiAoZWw6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCkgPT4gYm9vbGVhbikgPT4ge1xuICBjb25zdCBlbmQgPSBpc1ZpcnR1YWxFbGVtZW50KGVsbSkgPyBlbG0uY2xvc2UgOiBudWxsO1xuXG4gIGNvbnN0IG5vZGVzOiAoTm9kZSB8IFZpcnR1YWxFbGVtZW50KVtdID0gW107XG4gIGxldCBub2RlOiBOb2RlIHwgbnVsbCB8IFZpcnR1YWxFbGVtZW50ID0gZWxtLmZpcnN0Q2hpbGQ7XG4gIHdoaWxlICgobm9kZSA9IHByb2Nlc3NWaXJ0dWFsTm9kZXMobm9kZSkpKSB7XG4gICAgaWYgKGZpbHRlcihub2RlKSkge1xuICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgaWYgKG5vZGUgPT09IGVuZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2Rlcztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDaGlsZHJlbiA9IChlbG06IFF3aWtFbGVtZW50LCBtb2RlOiBDaGlsZHJlbk1vZGUpOiAoTm9kZSB8IFZpcnR1YWxFbGVtZW50KVtdID0+IHtcbiAgc3dpdGNoIChtb2RlKSB7XG4gICAgY2FzZSAncm9vdCc6XG4gICAgICByZXR1cm4gZ2V0Q2goZWxtLCBpc0NoaWxkQ29tcG9uZW50KTtcbiAgICBjYXNlICdoZWFkJzpcbiAgICAgIHJldHVybiBnZXRDaChlbG0sIGlzSGVhZENoaWxkcmVuKTtcbiAgICBjYXNlICdlbGVtZW50cyc6XG4gICAgICByZXR1cm4gZ2V0Q2goZWxtLCBpc1F3aWtFbGVtZW50KTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGlzTm9kZSA9IChlbG06IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB0eXBlID0gZWxtLm5vZGVUeXBlO1xuICByZXR1cm4gdHlwZSA9PT0gMSB8fCB0eXBlID09PSAzIHx8IHR5cGUgPT09IDExMTtcbn07XG5cbmNvbnN0IGlzSGVhZENoaWxkcmVuID0gKG5vZGU6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB0eXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgaWYgKHR5cGUgPT09IDEpIHtcbiAgICByZXR1cm4gKG5vZGUgYXMgRWxlbWVudCkuaGFzQXR0cmlidXRlKCdxOmhlYWQnKTtcbiAgfVxuICByZXR1cm4gdHlwZSA9PT0gMTExO1xufTtcblxuY29uc3QgaXNTbG90VGVtcGxhdGUgPSAobm9kZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50KTogbm9kZSBpcyBIVE1MVGVtcGxhdGVFbGVtZW50ID0+IHtcbiAgcmV0dXJuIG5vZGUubm9kZU5hbWUgPT09ICdROlRFTVBMQVRFJztcbn07XG5cbmNvbnN0IGlzQ2hpbGRDb21wb25lbnQgPSAobm9kZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICBpZiAodHlwZSA9PT0gMyB8fCB0eXBlID09PSAxMTEpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZSAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWU7XG4gIGlmIChub2RlTmFtZSA9PT0gJ1E6VEVNUExBVEUnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChub2RlTmFtZSA9PT0gJ0hFQUQnKSB7XG4gICAgcmV0dXJuIChub2RlIGFzIEVsZW1lbnQpLmhhc0F0dHJpYnV0ZSgncTpoZWFkJyk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgY29uc3Qgc3BsaXRCeSA9IDxUPihpbnB1dDogVFtdLCBjb25kaXRpb246IChpdGVtOiBUKSA9PiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBUW10+ID0+IHtcbiAgY29uc3Qgb3V0cHV0OiBSZWNvcmQ8c3RyaW5nLCBUW10+ID0ge307XG4gIGZvciAoY29uc3QgaXRlbSBvZiBpbnB1dCkge1xuICAgIGNvbnN0IGtleSA9IGNvbmRpdGlvbihpdGVtKTtcbiAgICBjb25zdCBhcnJheSA9IG91dHB1dFtrZXldID8/IChvdXRwdXRba2V5XSA9IFtdKTtcbiAgICBhcnJheS5wdXNoKGl0ZW0pO1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuXG5leHBvcnQgY29uc3QgcGF0Y2hWbm9kZSA9IChcbiAgcmN0eDogUmVuZGVyQ29udGV4dCxcbiAgZWxtOiBOb2RlIHwgVmlydHVhbEVsZW1lbnQsXG4gIHZub2RlOiBQcm9jZXNzZWRKU1hOb2RlLFxuICBmbGFnczogbnVtYmVyXG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIHZub2RlLiRlbG0kID0gZWxtO1xuICBjb25zdCB0YWcgPSB2bm9kZS4kdHlwZSQ7XG4gIGlmICh0YWcgPT09ICcjdGV4dCcpIHtcbiAgICBpZiAoKGVsbSBhcyBUZXh0KS5kYXRhICE9PSB2bm9kZS4kdGV4dCQpIHtcbiAgICAgIHNldFByb3BlcnR5KHJjdHgsIGVsbSwgJ2RhdGEnLCB2bm9kZS4kdGV4dCQpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGFnID09PSBIT1NUX1RZUEUpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX2hvc3RDYW5Pbmx5QmVBdFJvb3QpO1xuICB9XG5cbiAgaWYgKHRhZyA9PT0gU0tJUF9SRU5ERVJfVFlQRSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpc1N2ZyA9ICEhKGZsYWdzICYgSVNfU1ZHKTtcblxuICBpZiAoIWlzU3ZnICYmIHRhZyA9PT0gJ3N2ZycpIHtcbiAgICBmbGFncyB8PSBJU19TVkc7XG4gICAgaXNTdmcgPSB0cnVlO1xuICB9XG5cbiAgY29uc3QgcHJvcHMgPSB2bm9kZS4kcHJvcHMkO1xuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsbSBhcyBFbGVtZW50KTtcbiAgY29uc3QgaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudE5vZGUodm5vZGUpO1xuICBjb25zdCBpc1Nsb3QgPSAhaXNDb21wb25lbnQgJiYgUVNsb3ROYW1lIGluIHByb3BzO1xuICBsZXQgZGlydHkgPSBpc0NvbXBvbmVudFxuICAgID8gdXBkYXRlQ29tcG9uZW50UHJvcGVydGllcyhjdHgsIHJjdHgsIHByb3BzKVxuICAgIDogdXBkYXRlUHJvcGVydGllcyhjdHgsIHJjdHgsIHByb3BzLCBpc1N2Zyk7XG5cbiAgaWYgKGlzU3ZnICYmIHZub2RlLiR0eXBlJCA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XG4gICAgZmxhZ3MgJj0gfklTX1NWRztcbiAgICBpc1N2ZyA9IGZhbHNlO1xuICB9XG4gIGlmIChpc1Nsb3QpIHtcbiAgICBjb25zdCBjdXJyZW50Q29tcG9uZW50ID0gcmN0eC4kY3VycmVudENvbXBvbmVudCQ7XG4gICAgaWYgKGN1cnJlbnRDb21wb25lbnQpIHtcbiAgICAgIGN1cnJlbnRDb21wb25lbnQuJHNsb3RzJC5wdXNoKHZub2RlKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgY2ggPSB2bm9kZS4kY2hpbGRyZW4kO1xuICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICBpZiAoIWRpcnR5ICYmICFjdHguJHJlbmRlclFybCQgJiYgIWN0eC4kZWxlbWVudCQuaGFzQXR0cmlidXRlKEVMRU1FTlRfSUQpKSB7XG4gICAgICBzZXRRSWQocmN0eCwgY3R4KTtcbiAgICAgIGN0eC4kcmVuZGVyUXJsJCA9IHByb3BzW09uUmVuZGVyUHJvcF07XG4gICAgICBhc3NlcnRRcmwoY3R4LiRyZW5kZXJRcmwkIGFzIGFueSk7XG4gICAgICBkaXJ0eSA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IHByb21pc2UgPSBkaXJ0eSA/IHJlbmRlckNvbXBvbmVudChyY3R4LCBjdHgsIGZsYWdzKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gdGhlbihwcm9taXNlLCAoKSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50Q29tcG9uZW50ID0gY3R4LiRjb21wb25lbnQkO1xuICAgICAgY29uc3Qgc2xvdE1hcHMgPSBnZXRTbG90cyhjdXJyZW50Q29tcG9uZW50LCBlbG0gYXMgRWxlbWVudCk7XG4gICAgICBjb25zdCBzcGxpdHRlZENoaWRyZW4gPSBzcGxpdEJ5KGNoLCBnZXRTbG90TmFtZSk7XG4gICAgICBjb25zdCBwcm9taXNlczogVmFsdWVPclByb21pc2U8dm9pZD5bXSA9IFtdO1xuICAgICAgY29uc3Qgc2xvdFJjdHggPSBjb3B5UmVuZGVyQ29udGV4dChyY3R4KTtcbiAgICAgIHNsb3RSY3R4LiRsb2NhbFN0YWNrJC5wdXNoKGN0eCk7XG5cbiAgICAgIC8vIE1hcmsgZW1wdHkgc2xvdHMgYW5kIHJlbW92ZSBjb250ZW50XG4gICAgICBPYmplY3QuZW50cmllcyhzbG90TWFwcy5zbG90cykuZm9yRWFjaCgoW2tleSwgc2xvdEVsXSkgPT4ge1xuICAgICAgICBpZiAoc2xvdEVsICYmICFzcGxpdHRlZENoaWRyZW5ba2V5XSkge1xuICAgICAgICAgIGNvbnN0IG9sZENoID0gZ2V0Q2hpbGRyZW4oc2xvdEVsLCAncm9vdCcpO1xuICAgICAgICAgIGlmIChvbGRDaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZW1vdmVWbm9kZXMoc2xvdFJjdHgsIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBNYXJrIGVtcHR5IHNsb3RzIGFuZCByZW1vdmUgY29udGVudFxuICAgICAgT2JqZWN0LmVudHJpZXMoc2xvdE1hcHMudGVtcGxhdGVzKS5mb3JFYWNoKChba2V5LCB0ZW1wbGF0ZUVsXSkgPT4ge1xuICAgICAgICBpZiAodGVtcGxhdGVFbCAmJiAhc3BsaXR0ZWRDaGlkcmVuW2tleV0pIHtcbiAgICAgICAgICByZW1vdmVOb2RlKHNsb3RSY3R4LCB0ZW1wbGF0ZUVsKTtcbiAgICAgICAgICBzbG90TWFwcy50ZW1wbGF0ZXNba2V5XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICAvLyBSZW5kZXIgaW50byBzbG90c1xuICAgICAgT2JqZWN0LmVudHJpZXMoc3BsaXR0ZWRDaGlkcmVuKS5mb3JFYWNoKChba2V5LCBjaF0pID0+IHtcbiAgICAgICAgY29uc3Qgc2xvdEVsbSA9IGdldFNsb3RFbGVtZW50KHNsb3RSY3R4LCBzbG90TWFwcywgZWxtIGFzIEVsZW1lbnQsIGtleSk7XG4gICAgICAgIHByb21pc2VzLnB1c2goc21hcnRVcGRhdGVDaGlsZHJlbihzbG90UmN0eCwgc2xvdEVsbSwgY2gsICdyb290JywgZmxhZ3MpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoZW4ocHJvbWlzZUFsbChwcm9taXNlcyksICgpID0+IHtcbiAgICAgICAgcmVtb3ZlVGVtcGxhdGVzKHNsb3RSY3R4LCBzbG90TWFwcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCBzZXRzSW5uZXJIVE1MID0gY2hlY2tJbm5lckhUTUwocHJvcHMpO1xuICBpZiAoc2V0c0lubmVySFRNTCkge1xuICAgIGlmIChxRGV2ICYmIGNoLmxlbmd0aCA+IDApIHtcbiAgICAgIGxvZ1dhcm4oJ05vZGUgY2FuIG5vdCBoYXZlIGNoaWxkcmVuIHdoZW4gaW5uZXJIVE1MIGlzIHNldCcpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIWlzU2xvdCkge1xuICAgIHJldHVybiBzbWFydFVwZGF0ZUNoaWxkcmVuKHJjdHgsIGVsbSBhcyBFbGVtZW50LCBjaCwgJ3Jvb3QnLCBmbGFncyk7XG4gIH1cbn07XG5cbmNvbnN0IGFkZFZub2RlcyA9IChcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBwYXJlbnRFbG06IFF3aWtFbGVtZW50LFxuICBiZWZvcmU6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGwsXG4gIHZub2RlczogUHJvY2Vzc2VkSlNYTm9kZVtdLFxuICBzdGFydElkeDogbnVtYmVyLFxuICBlbmRJZHg6IG51bWJlcixcbiAgZmxhZ3M6IG51bWJlclxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgY29uc3QgY2ggPSB2bm9kZXNbc3RhcnRJZHhdO1xuICAgIGFzc2VydERlZmluZWQoY2gsICdyZW5kZXI6IG5vZGUgbXVzdCBiZSBkZWZpbmVkIGF0IGluZGV4Jywgc3RhcnRJZHgsIHZub2Rlcyk7XG4gICAgcHJvbWlzZXMucHVzaChjcmVhdGVFbG0oY3R4LCBjaCwgZmxhZ3MpKTtcbiAgfVxuICByZXR1cm4gdGhlbihwcm9taXNlQWxsKHByb21pc2VzKSwgKGNoaWxkcmVuKSA9PiB7XG4gICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBjaGlsZCwgYmVmb3JlKTtcbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgcmVtb3ZlVm5vZGVzID0gKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIG5vZGVzOiAoTm9kZSB8IFZpcnR1YWxFbGVtZW50KVtdLFxuICBzdGFydElkeDogbnVtYmVyLFxuICBlbmRJZHg6IG51bWJlclxuKTogdm9pZCA9PiB7XG4gIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICBjb25zdCBjaCA9IG5vZGVzW3N0YXJ0SWR4XTtcbiAgICBpZiAoY2gpIHtcbiAgICAgIHJlbW92ZU5vZGUoY3R4LCBjaCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCBnZXRTbG90RWxlbWVudCA9IChcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBzbG90TWFwczogU2xvdE1hcHMsXG4gIHBhcmVudEVsOiBRd2lrRWxlbWVudCxcbiAgc2xvdE5hbWU6IHN0cmluZ1xuKTogUXdpa0VsZW1lbnQgPT4ge1xuICBjb25zdCBzbG90RWwgPSBzbG90TWFwcy5zbG90c1tzbG90TmFtZV07XG4gIGlmIChzbG90RWwpIHtcbiAgICByZXR1cm4gc2xvdEVsO1xuICB9XG4gIGNvbnN0IHRlbXBsYXRlRWwgPSBzbG90TWFwcy50ZW1wbGF0ZXNbc2xvdE5hbWVdO1xuICBpZiAodGVtcGxhdGVFbCkge1xuICAgIHJldHVybiB0ZW1wbGF0ZUVsO1xuICB9XG4gIGNvbnN0IHRlbXBsYXRlID0gY3JlYXRlVGVtcGxhdGUoY3R4LCBzbG90TmFtZSk7XG4gIHByZXBlbmQoY3R4LCBwYXJlbnRFbCwgdGVtcGxhdGUpO1xuICBzbG90TWFwcy50ZW1wbGF0ZXNbc2xvdE5hbWVdID0gdGVtcGxhdGU7XG4gIHJldHVybiB0ZW1wbGF0ZTtcbn07XG5cbmNvbnN0IGNyZWF0ZVRlbXBsYXRlID0gKGN0eDogUmVuZGVyQ29udGV4dCwgc2xvdE5hbWU6IHN0cmluZykgPT4ge1xuICBjb25zdCB0ZW1wbGF0ZSA9IGNyZWF0ZUVsZW1lbnQoY3R4LCAncTp0ZW1wbGF0ZScsIGZhbHNlKTtcbiAgZGlyZWN0U2V0QXR0cmlidXRlKHRlbXBsYXRlLCBRU2xvdCwgc2xvdE5hbWUpO1xuICBkaXJlY3RTZXRBdHRyaWJ1dGUodGVtcGxhdGUsICdoaWRkZW4nLCAnJyk7XG4gIGRpcmVjdFNldEF0dHJpYnV0ZSh0ZW1wbGF0ZSwgJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG5jb25zdCByZW1vdmVUZW1wbGF0ZXMgPSAoY3R4OiBSZW5kZXJDb250ZXh0LCBzbG90TWFwczogU2xvdE1hcHMpID0+IHtcbiAgT2JqZWN0LmtleXMoc2xvdE1hcHMudGVtcGxhdGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IHNsb3RNYXBzLnRlbXBsYXRlc1trZXldITtcbiAgICBpZiAodGVtcGxhdGUgJiYgc2xvdE1hcHMuc2xvdHNba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZW1vdmVOb2RlKGN0eCwgdGVtcGxhdGUpO1xuICAgICAgc2xvdE1hcHMudGVtcGxhdGVzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXNvbHZlU2xvdFByb2plY3Rpb24gPSAoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgaG9zdEVsbTogUXdpa0VsZW1lbnQsXG4gIGJlZm9yZTogU2xvdE1hcHMsXG4gIGFmdGVyOiBTbG90TWFwc1xuKSA9PiB7XG4gIE9iamVjdC5lbnRyaWVzKGJlZm9yZS5zbG90cykuZm9yRWFjaCgoW2tleSwgc2xvdEVsXSkgPT4ge1xuICAgIGlmIChzbG90RWwgJiYgIWFmdGVyLnNsb3RzW2tleV0pIHtcbiAgICAgIC8vIFNsb3QgcmVtb3ZlZFxuICAgICAgLy8gTW92ZSBzbG90IHRvIHRlbXBsYXRlXG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGNyZWF0ZVRlbXBsYXRlKGN0eCwga2V5KTtcbiAgICAgIGNvbnN0IHNsb3RDaGlsZHJlbiA9IGdldENoaWxkcmVuKHNsb3RFbCwgJ3Jvb3QnKTtcbiAgICAgIGZvciAoY29uc3QgY2hpbGQgb2Ygc2xvdENoaWxkcmVuKSB7XG4gICAgICAgIGRpcmVjdEFwcGVuZENoaWxkKHRlbXBsYXRlLCBjaGlsZCk7XG4gICAgICB9XG4gICAgICBkaXJlY3RJbnNlcnRCZWZvcmUoaG9zdEVsbSwgdGVtcGxhdGUsIGhvc3RFbG0uZmlyc3RDaGlsZCk7XG5cbiAgICAgIGN0eC4kb3BlcmF0aW9ucyQucHVzaCh7XG4gICAgICAgICRlbCQ6IHRlbXBsYXRlLFxuICAgICAgICAkb3BlcmF0aW9uJDogJ3Nsb3QtdG8tdGVtcGxhdGUnLFxuICAgICAgICAkYXJncyQ6IHNsb3RDaGlsZHJlbixcbiAgICAgICAgJGZuJDogKCkgPT4ge30sXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5lbnRyaWVzKGFmdGVyLnNsb3RzKS5mb3JFYWNoKChba2V5LCBzbG90RWxdKSA9PiB7XG4gICAgaWYgKHNsb3RFbCAmJiAhYmVmb3JlLnNsb3RzW2tleV0pIHtcbiAgICAgIC8vIFNsb3QgY3JlYXRlZFxuICAgICAgLy8gTW92ZSB0ZW1wbGF0ZSB0byBzbG90XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGJlZm9yZS50ZW1wbGF0ZXNba2V5XTtcbiAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGdldENoaWxkcmVuKHRlbXBsYXRlLCAncm9vdCcpO1xuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xuICAgICAgICAgIGRpcmVjdEFwcGVuZENoaWxkKHNsb3RFbCwgY2hpbGQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGVtcGxhdGUucmVtb3ZlKCk7XG4gICAgICAgIGN0eC4kb3BlcmF0aW9ucyQucHVzaCh7XG4gICAgICAgICAgJGVsJDogc2xvdEVsLFxuICAgICAgICAgICRvcGVyYXRpb24kOiAndGVtcGxhdGUtdG8tc2xvdCcsXG4gICAgICAgICAgJGFyZ3MkOiBbdGVtcGxhdGVdLFxuICAgICAgICAgICRmbiQ6ICgpID0+IHt9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuY29uc3QgZ2V0U2xvdE5hbWUgPSAobm9kZTogUHJvY2Vzc2VkSlNYTm9kZSk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBub2RlLiRwcm9wcyQ/LltRU2xvdF0gPz8gJyc7XG59O1xuXG5jb25zdCBjcmVhdGVFbG0gPSAoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIHZub2RlOiBQcm9jZXNzZWRKU1hOb2RlLFxuICBmbGFnczogbnVtYmVyXG4pOiBWYWx1ZU9yUHJvbWlzZTxOb2RlIHwgVmlydHVhbEVsZW1lbnQ+ID0+IHtcbiAgcmN0eC4kcGVyZiQuJHZpc2l0ZWQkKys7XG4gIGNvbnN0IHRhZyA9IHZub2RlLiR0eXBlJDtcbiAgaWYgKHRhZyA9PT0gJyN0ZXh0Jykge1xuICAgIHJldHVybiAodm5vZGUuJGVsbSQgPSBjcmVhdGVUZXh0Tm9kZShyY3R4LCB2bm9kZS4kdGV4dCQhKSk7XG4gIH1cblxuICBpZiAodGFnID09PSBIT1NUX1RZUEUpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX2hvc3RDYW5Pbmx5QmVBdFJvb3QpO1xuICB9XG5cbiAgbGV0IGlzU3ZnID0gISEoZmxhZ3MgJiBJU19TVkcpO1xuICBpZiAoIWlzU3ZnICYmIHRhZyA9PT0gJ3N2ZycpIHtcbiAgICBmbGFncyB8PSBJU19TVkc7XG4gICAgaXNTdmcgPSB0cnVlO1xuICB9XG4gIGNvbnN0IGlzVmlydHVhbCA9IHRhZyA9PT0gVklSVFVBTF9UWVBFO1xuICBsZXQgZWxtOiBRd2lrRWxlbWVudDtcbiAgbGV0IGlzSGVhZCA9ICEhKGZsYWdzICYgSVNfSEVBRCk7XG5cbiAgaWYgKGlzVmlydHVhbCkge1xuICAgIGVsbSA9IG5ld1ZpcnR1YWxFbGVtZW50KHJjdHguJGRvYyQpO1xuICB9IGVsc2UgaWYgKHRhZyA9PT0gJ2hlYWQnKSB7XG4gICAgZWxtID0gcmN0eC4kZG9jJC5oZWFkO1xuICAgIGZsYWdzIHw9IElTX0hFQUQ7XG4gICAgaXNIZWFkID0gdHJ1ZTtcbiAgfSBlbHNlIGlmICh0YWcgPT09ICd0aXRsZScpIHtcbiAgICBlbG0gPSByY3R4LiRkb2MkLnF1ZXJ5U2VsZWN0b3IoJ3RpdGxlJykgPz8gY3JlYXRlRWxlbWVudChyY3R4LCB0YWcsIGlzU3ZnKTtcbiAgfSBlbHNlIHtcbiAgICBlbG0gPSBjcmVhdGVFbGVtZW50KHJjdHgsIHRhZywgaXNTdmcpO1xuICAgIGZsYWdzICY9IH5JU19IRUFEO1xuICB9XG5cbiAgdm5vZGUuJGVsbSQgPSBlbG07XG4gIGNvbnN0IHByb3BzID0gdm5vZGUuJHByb3BzJDtcbiAgY29uc3QgaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudE5vZGUodm5vZGUpO1xuICBjb25zdCBpc1Nsb3QgPSBpc1ZpcnR1YWwgJiYgUVNsb3ROYW1lIGluIHByb3BzO1xuICBjb25zdCBoYXNSZWYgPSAhaXNWaXJ0dWFsICYmICdyZWYnIGluIHByb3BzO1xuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsbSk7XG5cbiAgc2V0S2V5KGVsbSwgdm5vZGUuJGtleSQpO1xuXG4gIGlmIChpc0hlYWQgJiYgIWlzVmlydHVhbCkge1xuICAgIGRpcmVjdFNldEF0dHJpYnV0ZShlbG0gYXMgRWxlbWVudCwgJ3E6aGVhZCcsICcnKTtcbiAgfVxuXG4gIGlmIChpc1N2ZyAmJiB0YWcgPT09ICdmb3JlaWduT2JqZWN0Jykge1xuICAgIGlzU3ZnID0gZmFsc2U7XG4gICAgZmxhZ3MgJj0gfklTX1NWRztcbiAgfVxuXG4gIGNvbnN0IGN1cnJlbnRDb21wb25lbnQgPSByY3R4LiRjdXJyZW50Q29tcG9uZW50JDtcbiAgaWYgKGN1cnJlbnRDb21wb25lbnQpIHtcbiAgICBpZiAoIWlzVmlydHVhbCkge1xuICAgICAgY29uc3Qgc2NvcGVkSWRzID0gY3VycmVudENvbXBvbmVudC4kY3R4JC4kc2NvcGVJZHMkO1xuICAgICAgaWYgKHNjb3BlZElkcykge1xuICAgICAgICBzY29wZWRJZHMuZm9yRWFjaCgoc3R5bGVJZCkgPT4ge1xuICAgICAgICAgIChlbG0gYXMgRWxlbWVudCkuY2xhc3NMaXN0LmFkZChzdHlsZUlkKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc1Nsb3QpIHtcbiAgICAgIGRpcmVjdFNldEF0dHJpYnV0ZShlbG0sIFFTbG90UmVmLCBjdXJyZW50Q29tcG9uZW50LiRjdHgkLiRpZCQpO1xuICAgICAgY3VycmVudENvbXBvbmVudC4kc2xvdHMkLnB1c2godm5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc0NvbXBvbmVudCkge1xuICAgIHVwZGF0ZUNvbXBvbmVudFByb3BlcnRpZXMoY3R4LCByY3R4LCBwcm9wcyk7XG4gIH0gZWxzZSB7XG4gICAgdXBkYXRlUHJvcGVydGllcyhjdHgsIHJjdHgsIHByb3BzLCBpc1N2Zyk7XG4gIH1cblxuICBpZiAoaXNDb21wb25lbnQgfHwgY3R4LiRsaXN0ZW5lcnMkIHx8IGhhc1JlZikge1xuICAgIHNldFFJZChyY3R4LCBjdHgpO1xuICB9XG4gIGxldCB3YWl0OiBWYWx1ZU9yUHJvbWlzZTx2b2lkPjtcbiAgaWYgKGlzQ29tcG9uZW50KSB7XG4gICAgLy8gUnVuIG1vdW50IGhvb2tcbiAgICBjb25zdCByZW5kZXJRUkwgPSBwcm9wcyFbT25SZW5kZXJQcm9wXTtcbiAgICBhc3NlcnRRcmw8T25SZW5kZXJGbjxhbnk+PihyZW5kZXJRUkwpO1xuICAgIGN0eC4kcmVuZGVyUXJsJCA9IHJlbmRlclFSTDtcbiAgICB3YWl0ID0gcmVuZGVyQ29tcG9uZW50KHJjdHgsIGN0eCwgZmxhZ3MpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHNldHNJbm5lckhUTUwgPSBjaGVja0lubmVySFRNTChwcm9wcyk7XG4gICAgaWYgKHNldHNJbm5lckhUTUwpIHtcbiAgICAgIGlmIChxRGV2ICYmIHZub2RlLiRjaGlsZHJlbiQubGVuZ3RoID4gMCkge1xuICAgICAgICBsb2dXYXJuKCdOb2RlIGNhbiBub3QgaGF2ZSBjaGlsZHJlbiB3aGVuIGlubmVySFRNTCBpcyBzZXQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbG07XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGVuKHdhaXQsICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Q29tcG9uZW50ID0gY3R4LiRjb21wb25lbnQkO1xuICAgIGxldCBjaGlsZHJlbiA9IHZub2RlLiRjaGlsZHJlbiQ7XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgY2hpbGRyZW5bMF0uJHR5cGUkID09PSBTS0lQX1JFTkRFUl9UWVBFKSB7XG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW5bMF0uJGNoaWxkcmVuJDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNsb3RSY3R4ID0gY29weVJlbmRlckNvbnRleHQocmN0eCk7XG4gICAgICBzbG90UmN0eC4kbG9jYWxTdGFjayQucHVzaChjdHgpO1xuICAgICAgY29uc3Qgc2xvdE1hcCA9IGlzQ29tcG9uZW50ID8gZ2V0U2xvdHMoY3VycmVudENvbXBvbmVudCwgZWxtKSA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHByb21pc2VzID0gY2hpbGRyZW4ubWFwKChjaCkgPT4gY3JlYXRlRWxtKHNsb3RSY3R4LCBjaCwgZmxhZ3MpKTtcbiAgICAgIHJldHVybiB0aGVuKHByb21pc2VBbGwocHJvbWlzZXMpLCAoKSA9PiB7XG4gICAgICAgIGxldCBwYXJlbnQgPSBlbG07XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjaGlsZHJlbikge1xuICAgICAgICAgIGlmIChzbG90TWFwKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSBnZXRTbG90RWxlbWVudChzbG90UmN0eCwgc2xvdE1hcCwgZWxtLCBnZXRTbG90TmFtZShub2RlKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRpcmVjdEFwcGVuZENoaWxkKHBhcmVudCwgbm9kZS4kZWxtJCEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbG07XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGVsbTtcbiAgfSk7XG59O1xuaW50ZXJmYWNlIFNsb3RNYXBzIHtcbiAgc2xvdHM6IFJlY29yZDxzdHJpbmcsIFF3aWtFbGVtZW50IHwgdW5kZWZpbmVkPjtcbiAgdGVtcGxhdGVzOiBSZWNvcmQ8c3RyaW5nLCBFbGVtZW50IHwgdW5kZWZpbmVkPjtcbn1cblxuY29uc3QgZ2V0U2xvdHMgPSAoY29tcG9uZW50Q3R4OiBDb21wb25lbnRDdHggfCBudWxsLCBob3N0RWxtOiBRd2lrRWxlbWVudCk6IFNsb3RNYXBzID0+IHtcbiAgY29uc3Qgc2xvdHM6IFJlY29yZDxzdHJpbmcsIFF3aWtFbGVtZW50PiA9IHt9O1xuICBjb25zdCB0ZW1wbGF0ZXM6IFJlY29yZDxzdHJpbmcsIEhUTUxUZW1wbGF0ZUVsZW1lbnQ+ID0ge307XG4gIGNvbnN0IHBhcmVudCA9IGhvc3RFbG0ucGFyZW50RWxlbWVudDtcbiAgaWYgKHBhcmVudCkge1xuICAgIGNvbnN0IHNsb3RSZWYgPSBkaXJlY3RHZXRBdHRyaWJ1dGUoaG9zdEVsbSwgJ3E6aWQnKSE7XG4gICAgY29uc3QgZXhpc3RpbmdTbG90cyA9IHF1ZXJ5QWxsVmlydHVhbEJ5QXR0cmlidXRlKHBhcmVudCwgJ3E6c3JlZicsIHNsb3RSZWYpO1xuXG4gICAgLy8gTWFwIHNsb3RzXG4gICAgZm9yIChjb25zdCBlbG0gb2YgZXhpc3RpbmdTbG90cykge1xuICAgICAgc2xvdHNbZGlyZWN0R2V0QXR0cmlidXRlKGVsbSwgUVNsb3ROYW1lKSA/PyAnJ10gPSBlbG07XG4gICAgfVxuICB9XG4gIGNvbnN0IG5ld1Nsb3RzID0gY29tcG9uZW50Q3R4Py4kc2xvdHMkID8/IEVNUFRZX0FSUkFZO1xuICBjb25zdCB0ID0gQXJyYXkuZnJvbShob3N0RWxtLmNoaWxkTm9kZXMpLmZpbHRlcihpc1Nsb3RUZW1wbGF0ZSk7XG5cbiAgLy8gTWFwIHZpcnR1YWwgc2xvdHNcbiAgZm9yIChjb25zdCB2bm9kZSBvZiBuZXdTbG90cykge1xuICAgIHNsb3RzW3Zub2RlLiRwcm9wcyRbUVNsb3ROYW1lXSA/PyAnJ10gPSB2bm9kZS4kZWxtJCBhcyBFbGVtZW50O1xuICB9XG5cbiAgLy8gTWFwIHRlbXBsYXRlc1xuICBmb3IgKGNvbnN0IGVsbSBvZiB0KSB7XG4gICAgdGVtcGxhdGVzW2RpcmVjdEdldEF0dHJpYnV0ZShlbG0sIFFTbG90KSA/PyAnJ10gPSBlbG07XG4gIH1cblxuICByZXR1cm4geyBzbG90cywgdGVtcGxhdGVzIH07XG59O1xuXG5jb25zdCBoYW5kbGVTdHlsZTogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlKSA9PiB7XG4gIHNldEF0dHJpYnV0ZShjdHgsIGVsbSwgJ3N0eWxlJywgc3RyaW5naWZ5U3R5bGUobmV3VmFsdWUpKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBoYW5kbGVDbGFzczogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xuICBpZiAoIW9sZFZhbHVlKSB7XG4gICAgb2xkVmFsdWUgPSBlbG0uY2xhc3NOYW1lO1xuICB9XG4gIHNldEF0dHJpYnV0ZShjdHgsIGVsbSwgJ2NsYXNzJywgc3RyaW5naWZ5Q2xhc3MobmV3VmFsdWUsIG9sZFZhbHVlKSk7XG4gIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgY2hlY2tCZWZvcmVBc3NpZ246IFByb3BIYW5kbGVyID0gKGN0eCwgZWxtLCBwcm9wLCBuZXdWYWx1ZSkgPT4ge1xuICBpZiAocHJvcCBpbiBlbG0pIHtcbiAgICBpZiAoKGVsbSBhcyBhbnkpW3Byb3BdICE9PSBuZXdWYWx1ZSkge1xuICAgICAgc2V0UHJvcGVydHkoY3R4LCBlbG0sIHByb3AsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBkYW5nZXJvdXNseVNldElubmVySFRNTCA9ICdkYW5nZXJvdXNseVNldElubmVySFRNTCc7XG5jb25zdCBzZXRJbm5lckhUTUw6IFByb3BIYW5kbGVyID0gKGN0eCwgZWxtLCBfLCBuZXdWYWx1ZSkgPT4ge1xuICBpZiAoZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgaW4gZWxtKSB7XG4gICAgc2V0UHJvcGVydHkoY3R4LCBlbG0sIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLCBuZXdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoJ2lubmVySFRNTCcgaW4gZWxtKSB7XG4gICAgc2V0UHJvcGVydHkoY3R4LCBlbG0sICdpbm5lckhUTUwnLCBuZXdWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBub29wOiBQcm9wSGFuZGxlciA9ICgpID0+IHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgY29uc3QgUFJPUF9IQU5ETEVSX01BUDogUmVjb3JkPHN0cmluZywgUHJvcEhhbmRsZXI+ID0ge1xuICBzdHlsZTogaGFuZGxlU3R5bGUsXG4gIGNsYXNzOiBoYW5kbGVDbGFzcyxcbiAgY2xhc3NOYW1lOiBoYW5kbGVDbGFzcyxcbiAgdmFsdWU6IGNoZWNrQmVmb3JlQXNzaWduLFxuICBjaGVja2VkOiBjaGVja0JlZm9yZUFzc2lnbixcbiAgW2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MXTogc2V0SW5uZXJIVE1MLFxuICBpbm5lckhUTUw6IG5vb3AsXG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvcGVydGllcyA9IChcbiAgY3R4OiBRQ29udGV4dCxcbiAgcmN0eDogUmVuZGVyQ29udGV4dCxcbiAgZXhwZWN0UHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gIGlzU3ZnOiBib29sZWFuXG4pID0+IHtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGV4cGVjdFByb3BzKTtcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBjYWNoZSA9IGN0eC4kY2FjaGUkO1xuICBjb25zdCBlbG0gPSBjdHguJGVsZW1lbnQkO1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgaWYgKGtleSA9PT0gJ2NoaWxkcmVuJykge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IG5ld1ZhbHVlID0gZXhwZWN0UHJvcHNba2V5XTtcbiAgICBpZiAoa2V5ID09PSAncmVmJykge1xuICAgICAgKG5ld1ZhbHVlIGFzIFJlZjxFbGVtZW50PikuY3VycmVudCA9IGVsbSBhcyBFbGVtZW50O1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRWFybHkgZXhpdCBpZiB2YWx1ZSBkaWRudCBjaGFuZ2VcbiAgICBjb25zdCBjYWNoZUtleSA9IGtleTtcbiAgICBpZiAoIWNhY2hlKSB7XG4gICAgICBjYWNoZSA9IGN0eC4kY2FjaGUkID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBjb25zdCBvbGRWYWx1ZSA9IGNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNhY2hlLnNldChjYWNoZUtleSwgbmV3VmFsdWUpO1xuXG4gICAgLy8gQ2hlY2sgb2YgZGF0YS0gb3IgYXJpYS1cbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2RhdGEtJykgfHwga2V5LnN0YXJ0c1dpdGgoJ2FyaWEtJykpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShyY3R4LCBlbG0sIGtleSwgbmV3VmFsdWUpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGlzT25Qcm9wKGtleSkpIHtcbiAgICAgIHNldEV2ZW50KGN0eCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBpdHMgYW4gZXhjZXB0aW9uXG4gICAgY29uc3QgZXhjZXB0aW9uID0gUFJPUF9IQU5ETEVSX01BUFtrZXldO1xuICAgIGlmIChleGNlcHRpb24pIHtcbiAgICAgIGlmIChleGNlcHRpb24ocmN0eCwgZWxtIGFzIEhUTUxFbGVtZW50LCBrZXksIG5ld1ZhbHVlLCBvbGRWYWx1ZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgcHJvcGVydHkgaW4gcHJvdG90eXBlXG4gICAgaWYgKCFpc1N2ZyAmJiBrZXkgaW4gZWxtKSB7XG4gICAgICBzZXRQcm9wZXJ0eShyY3R4LCBlbG0sIGtleSwgbmV3VmFsdWUpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgdG8gcmVuZGVyIGF0dHJpYnV0ZVxuICAgIHNldEF0dHJpYnV0ZShyY3R4LCBlbG0sIGtleSwgbmV3VmFsdWUpO1xuICB9XG4gIGlmIChjdHguJGxpc3RlbmVycyQpIHtcbiAgICBjdHguJGxpc3RlbmVycyQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgc2V0QXR0cmlidXRlKHJjdHgsIGVsbSwgZnJvbUNhbWVsVG9LZWJhYkNhc2Uoa2V5KSwgc2VyaWFsaXplUVJMcyh2YWx1ZSwgY3R4KSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNvbXBvbmVudFByb3BlcnRpZXMgPSAoXG4gIGN0eDogUUNvbnRleHQsXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGV4cGVjdFByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4pID0+IHtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGV4cGVjdFByb3BzKTtcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHF3aWtQcm9wcyA9IGdldFByb3BzTXV0YXRvcihjdHgsIHJjdHguJGNvbnRhaW5lclN0YXRlJCk7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBpZiAoU0tJUFNfUFJPUFMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHF3aWtQcm9wcy5zZXQoa2V5LCBleHBlY3RQcm9wc1trZXldKTtcbiAgfVxuICByZXR1cm4gY3R4LiRkaXJ0eSQ7XG59O1xuXG5jb25zdCBzZXRFdmVudCA9IChjdHg6IFFDb250ZXh0LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHtcbiAgYXNzZXJ0VHJ1ZShwcm9wLmVuZHNXaXRoKCckJyksICdyZW5kZXI6IGV2ZW50IHByb3BlcnR5IGRvZXMgbm90IGVuZCB3aXRoICQnLCBwcm9wKTtcbiAgLy8gVE9ET1xuICAvLyBpZiAoIWN0eC4kbGlzdGVuZXJzJCkge1xuICAvLyAgIGN0eC4kbGlzdGVuZXJzJCA9IGdldERvbUxpc3RlbmVycyhjdHguJGVsZW1lbnQkKTtcbiAgLy8gfVxuICBhZGRRUkxMaXN0ZW5lcihjdHgsIG5vcm1hbGl6ZU9uUHJvcChwcm9wLnNsaWNlKDAsIC0xKSksIHZhbHVlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRBdHRyaWJ1dGUgPSAoY3R4OiBSZW5kZXJDb250ZXh0LCBlbDogUXdpa0VsZW1lbnQsIHByb3A6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShwcm9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3RyID0gdmFsdWUgPT09IHRydWUgPyAnJyA6IFN0cmluZyh2YWx1ZSk7XG4gICAgICBkaXJlY3RTZXRBdHRyaWJ1dGUoZWwsIHByb3AsIHN0cik7XG4gICAgfVxuICB9O1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRlbCQ6IGVsLFxuICAgICRvcGVyYXRpb24kOiAnc2V0LWF0dHJpYnV0ZScsXG4gICAgJGFyZ3MkOiBbcHJvcCwgdmFsdWVdLFxuICAgICRmbiQ6IGZuLFxuICB9KTtcbn07XG5cbmNvbnN0IHNldFByb3BlcnR5ID0gKGN0eDogUmVuZGVyQ29udGV4dCwgbm9kZTogYW55LCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgbm9kZVtrZXldID0gdmFsdWU7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dFcnJvcihjb2RlVG9UZXh0KFFFcnJvcl9zZXRQcm9wZXJ0eSksIHsgbm9kZSwga2V5LCB2YWx1ZSB9LCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgY3R4LiRvcGVyYXRpb25zJC5wdXNoKHtcbiAgICAkZWwkOiBub2RlLFxuICAgICRvcGVyYXRpb24kOiAnc2V0LXByb3BlcnR5JyxcbiAgICAkYXJncyQ6IFtrZXksIHZhbHVlXSxcbiAgICAkZm4kOiBmbixcbiAgfSk7XG59O1xuXG5jb25zdCBjcmVhdGVFbGVtZW50ID0gKGN0eDogUmVuZGVyQ29udGV4dCwgZXhwZWN0VGFnOiBzdHJpbmcsIGlzU3ZnOiBib29sZWFuKTogRWxlbWVudCA9PiB7XG4gIGNvbnN0IGVsID0gaXNTdmdcbiAgICA/IGN0eC4kZG9jJC5jcmVhdGVFbGVtZW50TlMoU1ZHX05TLCBleHBlY3RUYWcpXG4gICAgOiBjdHguJGRvYyQuY3JlYXRlRWxlbWVudChleHBlY3RUYWcpO1xuICAoZWwgYXMgYW55KVtDT05UQUlORVJdID0gY3R4LiRjb250YWluZXJFbCQ7XG4gIGN0eC4kb3BlcmF0aW9ucyQucHVzaCh7XG4gICAgJGVsJDogZWwsXG4gICAgJG9wZXJhdGlvbiQ6ICdjcmVhdGUtZWxlbWVudCcsXG4gICAgJGFyZ3MkOiBbZXhwZWN0VGFnXSxcbiAgICAkZm4kOiAoKSA9PiB7fSxcbiAgfSk7XG4gIHJldHVybiBlbDtcbn07XG5cbmNvbnN0IGluc2VydEJlZm9yZSA9IDxUIGV4dGVuZHMgTm9kZSB8IFZpcnR1YWxFbGVtZW50PihcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBwYXJlbnQ6IFF3aWtFbGVtZW50LFxuICBuZXdDaGlsZDogVCxcbiAgcmVmQ2hpbGQ6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWRcbik6IFQgPT4ge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICBkaXJlY3RJbnNlcnRCZWZvcmUocGFyZW50LCBuZXdDaGlsZCwgcmVmQ2hpbGQgPyByZWZDaGlsZCA6IG51bGwpO1xuICB9O1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRlbCQ6IHBhcmVudCxcbiAgICAkb3BlcmF0aW9uJDogJ2luc2VydC1iZWZvcmUnLFxuICAgICRhcmdzJDogW25ld0NoaWxkLCByZWZDaGlsZF0sXG4gICAgJGZuJDogZm4sXG4gIH0pO1xuICByZXR1cm4gbmV3Q2hpbGQ7XG59O1xuXG5leHBvcnQgY29uc3QgYXBwZW5kSGVhZFN0eWxlID0gKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIGhvc3RFbGVtZW50OiBFbGVtZW50IHwgVmlydHVhbEVsZW1lbnQsXG4gIHN0eWxlVGFzazogU3R5bGVBcHBlbmRcbikgPT4ge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICBjb25zdCBjb250YWluZXJFbCA9IGN0eC4kY29udGFpbmVyRWwkO1xuICAgIGNvbnN0IGlzRG9jID0gY3R4LiRkb2MkLmRvY3VtZW50RWxlbWVudCA9PT0gY29udGFpbmVyRWwgJiYgISFjdHguJGRvYyQuaGVhZDtcbiAgICBjb25zdCBzdHlsZSA9IGN0eC4kZG9jJC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGRpcmVjdFNldEF0dHJpYnV0ZShzdHlsZSwgUVN0eWxlLCBzdHlsZVRhc2suc3R5bGVJZCk7XG4gICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZVRhc2suY29udGVudDtcbiAgICBpZiAoaXNEb2MpIHtcbiAgICAgIGRpcmVjdEFwcGVuZENoaWxkKGN0eC4kZG9jJC5oZWFkLCBzdHlsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpcmVjdEluc2VydEJlZm9yZShjb250YWluZXJFbCwgc3R5bGUsIGNvbnRhaW5lckVsLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgfTtcbiAgY3R4LiRjb250YWluZXJTdGF0ZSQuJHN0eWxlSWRzJC5hZGQoc3R5bGVUYXNrLnN0eWxlSWQpO1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRlbCQ6IGhvc3RFbGVtZW50LFxuICAgICRvcGVyYXRpb24kOiAnYXBwZW5kLXN0eWxlJyxcbiAgICAkYXJncyQ6IFtzdHlsZVRhc2tdLFxuICAgICRmbiQ6IGZuLFxuICB9KTtcbn07XG5cbmNvbnN0IHByZXBlbmQgPSAoY3R4OiBSZW5kZXJDb250ZXh0LCBwYXJlbnQ6IFF3aWtFbGVtZW50LCBuZXdDaGlsZDogTm9kZSkgPT4ge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICBkaXJlY3RJbnNlcnRCZWZvcmUocGFyZW50LCBuZXdDaGlsZCwgcGFyZW50LmZpcnN0Q2hpbGQpO1xuICB9O1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRlbCQ6IHBhcmVudCxcbiAgICAkb3BlcmF0aW9uJDogJ3ByZXBlbmQnLFxuICAgICRhcmdzJDogW25ld0NoaWxkXSxcbiAgICAkZm4kOiBmbixcbiAgfSk7XG59O1xuXG5jb25zdCByZW1vdmVOb2RlID0gKGN0eDogUmVuZGVyQ29udGV4dCwgZWw6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCkgPT4ge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICBjb25zdCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIGlmIChlbC5ub2RlVHlwZSA9PT0gMSB8fCBlbC5ub2RlVHlwZSA9PT0gMTExKSB7XG4gICAgICAgIGNsZWFudXBUcmVlKGVsIGFzIEVsZW1lbnQsIGN0eC4kY29udGFpbmVyU3RhdGUkLiRzdWJzTWFuYWdlciQpO1xuICAgICAgfVxuICAgICAgZGlyZWN0UmVtb3ZlQ2hpbGQocGFyZW50LCBlbCk7XG4gICAgfSBlbHNlIGlmIChxRGV2KSB7XG4gICAgICBsb2dXYXJuKCdUcnlpbmcgdG8gcmVtb3ZlIGNvbXBvbmVudCBhbHJlYWR5IHJlbW92ZWQnLCBlbCk7XG4gICAgfVxuICB9O1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRlbCQ6IGVsLFxuICAgICRvcGVyYXRpb24kOiAncmVtb3ZlJyxcbiAgICAkYXJncyQ6IFtdLFxuICAgICRmbiQ6IGZuLFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBjbGVhbnVwVHJlZSA9IChwYXJlbnQ6IFF3aWtFbGVtZW50LCBzdWJzTWFuYWdlcjogU3Vic2NyaXB0aW9uTWFuYWdlcikgPT4ge1xuICBpZiAocGFyZW50Lmhhc0F0dHJpYnV0ZShRU2xvdE5hbWUpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNsZWFudXBFbGVtZW50KHBhcmVudCwgc3Vic01hbmFnZXIpO1xuICBjb25zdCBjaCA9IGdldENoaWxkcmVuKHBhcmVudCwgJ2VsZW1lbnRzJyk7XG4gIGZvciAoY29uc3QgY2hpbGQgb2YgY2gpIHtcbiAgICBjbGVhbnVwVHJlZShjaGlsZCBhcyBRd2lrRWxlbWVudCwgc3Vic01hbmFnZXIpO1xuICB9XG59O1xuXG5jb25zdCBjbGVhbnVwRWxlbWVudCA9IChlbDogUXdpa0VsZW1lbnQsIHN1YnNNYW5hZ2VyOiBTdWJzY3JpcHRpb25NYW5hZ2VyKSA9PiB7XG4gIGNvbnN0IGN0eCA9IHRyeUdldENvbnRleHQoZWwpO1xuICBpZiAoY3R4KSB7XG4gICAgY2xlYW51cENvbnRleHQoY3R4LCBzdWJzTWFuYWdlcik7XG4gIH1cbn07XG5cbmNvbnN0IGNyZWF0ZVRleHROb2RlID0gKGN0eDogUmVuZGVyQ29udGV4dCwgdGV4dDogc3RyaW5nKTogVGV4dCA9PiB7XG4gIHJldHVybiBjdHguJGRvYyQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG59O1xuXG5leHBvcnQgY29uc3QgZXhlY3V0ZUNvbnRleHRXaXRoU2xvdHMgPSAoY3R4OiBSZW5kZXJDb250ZXh0KSA9PiB7XG4gIGNvbnN0IGJlZm9yZSA9IGN0eC4kcm9vdHMkLm1hcCgoZWxtKSA9PiBnZXRTbG90cyhudWxsLCBlbG0pKTtcblxuICBleGVjdXRlQ29udGV4dChjdHgpO1xuXG4gIGNvbnN0IGFmdGVyID0gY3R4LiRyb290cyQubWFwKChlbG0pID0+IGdldFNsb3RzKG51bGwsIGVsbSkpO1xuICBhc3NlcnRFcXVhbChcbiAgICBiZWZvcmUubGVuZ3RoLFxuICAgIGFmdGVyLmxlbmd0aCxcbiAgICAncmVuZGVyOiBudW1iZXIgb2YgcTpzbG90cyBjaGFuZ2VkIGR1cmluZyByZW5kZXIgY29udGV4dCBleGVjdXRpb24nLFxuICAgIGJlZm9yZSxcbiAgICBhZnRlclxuICApO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmVmb3JlLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzb2x2ZVNsb3RQcm9qZWN0aW9uKGN0eCwgY3R4LiRyb290cyRbaV0sIGJlZm9yZVtpXSwgYWZ0ZXJbaV0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZXhlY3V0ZUNvbnRleHQgPSAoY3R4OiBSZW5kZXJDb250ZXh0KSA9PiB7XG4gIGZvciAoY29uc3Qgb3Agb2YgY3R4LiRvcGVyYXRpb25zJCkge1xuICAgIG9wLiRmbiQoKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGRpcmVjdEFwcGVuZENoaWxkID0gKHBhcmVudDogUXdpa0VsZW1lbnQsIGNoaWxkOiBOb2RlIHwgVmlydHVhbEVsZW1lbnQpID0+IHtcbiAgaWYgKGlzVmlydHVhbEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgY2hpbGQuYXBwZW5kVG8ocGFyZW50KTtcbiAgfSBlbHNlIHtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGlyZWN0UmVtb3ZlQ2hpbGQgPSAocGFyZW50OiBRd2lrRWxlbWVudCwgY2hpbGQ6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCkgPT4ge1xuICBpZiAoaXNWaXJ0dWFsRWxlbWVudChjaGlsZCkpIHtcbiAgICBjaGlsZC5yZW1vdmUoKTtcbiAgfSBlbHNlIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGlyZWN0SW5zZXJ0QmVmb3JlID0gKFxuICBwYXJlbnQ6IFF3aWtFbGVtZW50LFxuICBjaGlsZDogTm9kZSB8IFZpcnR1YWxFbGVtZW50LFxuICByZWY6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGxcbikgPT4ge1xuICBpZiAoaXNWaXJ0dWFsRWxlbWVudChjaGlsZCkpIHtcbiAgICBjaGlsZC5pbnNlcnRCZWZvcmVUbyhwYXJlbnQsIGdldFJvb3ROb2RlKHJlZikpO1xuICB9IGVsc2Uge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGdldFJvb3ROb2RlKHJlZikpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcHJpbnRSZW5kZXJTdGF0cyA9IChjdHg6IFJlbmRlckNvbnRleHQpID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGJ5T3A6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICAgIGZvciAoY29uc3Qgb3Agb2YgY3R4LiRvcGVyYXRpb25zJCkge1xuICAgICAgICBieU9wW29wLiRvcGVyYXRpb24kXSA9IChieU9wW29wLiRvcGVyYXRpb24kXSA/PyAwKSArIDE7XG4gICAgICB9XG4gICAgICBjb25zdCBhZmZlY3RlZEVsZW1lbnRzID0gQXJyYXkuZnJvbShuZXcgU2V0KGN0eC4kb3BlcmF0aW9ucyQubWFwKChhKSA9PiBhLiRlbCQpKSk7XG4gICAgICBjb25zdCBzdGF0cyA9IHtcbiAgICAgICAgYnlPcCxcbiAgICAgICAgcm9vdHM6IGN0eC4kcm9vdHMkLFxuICAgICAgICBob3N0RWxlbWVudHM6IEFycmF5LmZyb20oY3R4LiRob3N0RWxlbWVudHMkKSxcbiAgICAgICAgYWZmZWN0ZWRFbGVtZW50cyxcbiAgICAgICAgdmlzaXRlZE5vZGVzOiBjdHguJHBlcmYkLiR2aXNpdGVkJCxcbiAgICAgICAgb3BlcmF0aW9uczogY3R4LiRvcGVyYXRpb25zJC5tYXAoKHYpID0+IFt2LiRvcGVyYXRpb24kLCB2LiRlbCQsIC4uLnYuJGFyZ3MkXSksXG4gICAgICB9O1xuICAgICAgY29uc3Qgbm9PcHMgPSBjdHguJG9wZXJhdGlvbnMkLmxlbmd0aCA9PT0gMDtcbiAgICAgIGxvZ0RlYnVnKCdSZW5kZXIgc3RhdHMuJywgbm9PcHMgPyAnTm8gb3BlcmF0aW9ucycgOiAnJywgc3RhdHMpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgY3JlYXRlS2V5VG9PbGRJZHggPSAoXG4gIGNoaWxkcmVuOiAoTm9kZSB8IFZpcnR1YWxFbGVtZW50KVtdLFxuICBiZWdpbklkeDogbnVtYmVyLFxuICBlbmRJZHg6IG51bWJlclxuKTogS2V5VG9JbmRleE1hcCA9PiB7XG4gIGNvbnN0IG1hcDogS2V5VG9JbmRleE1hcCA9IHt9O1xuICBmb3IgKGxldCBpID0gYmVnaW5JZHg7IGkgPD0gZW5kSWR4OyArK2kpIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29uc3Qga2V5ID0gZ2V0S2V5KGNoaWxkIGFzIEVsZW1lbnQpO1xuICAgICAgaWYgKGtleSAhPSBudWxsKSB7XG4gICAgICAgIG1hcFtrZXkgYXMgc3RyaW5nXSA9IGk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59O1xuXG5jb25zdCBLRVlfU1lNQk9MID0gU3ltYm9sKCd2bm9kZSBrZXknKTtcblxuY29uc3QgZ2V0S2V5ID0gKGVsOiBFbGVtZW50KTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGxldCBrZXkgPSAoZWwgYXMgYW55KVtLRVlfU1lNQk9MXTtcbiAgaWYgKGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5ID0gKGVsIGFzIGFueSlbS0VZX1NZTUJPTF0gPSBkaXJlY3RHZXRBdHRyaWJ1dGUoZWwsICdxOmtleScpO1xuICB9XG4gIHJldHVybiBrZXk7XG59O1xuXG5jb25zdCBzZXRLZXkgPSAoZWw6IFF3aWtFbGVtZW50LCBrZXk6IHN0cmluZyB8IG51bGwpID0+IHtcbiAgaWYgKGlzU3RyaW5nKGtleSkpIHtcbiAgICBkaXJlY3RTZXRBdHRyaWJ1dGUoZWwsICdxOmtleScsIGtleSk7XG4gIH1cbiAgKGVsIGFzIGFueSlbS0VZX1NZTUJPTF0gPSBrZXk7XG59O1xuXG5jb25zdCBzYW1lVm5vZGUgPSAoZWxtOiBOb2RlIHwgVmlydHVhbEVsZW1lbnQsIHZub2RlMjogUHJvY2Vzc2VkSlNYTm9kZSk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCBpc0VsZW1lbnQgPSBlbG0ubm9kZVR5cGUgPT09IDEgfHwgZWxtLm5vZGVUeXBlID09PSAxMTE7XG4gIGNvbnN0IHR5cGUgPSB2bm9kZTIuJHR5cGUkO1xuICBpZiAoaXNFbGVtZW50KSB7XG4gICAgY29uc3QgaXNTYW1lU2VsID0gKGVsbSBhcyBFbGVtZW50KS5sb2NhbE5hbWUgPT09IHR5cGU7XG4gICAgaWYgKCFpc1NhbWVTZWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEtleShlbG0gYXMgRWxlbWVudCkgPT09IHZub2RlMi4ka2V5JDtcbiAgfVxuICByZXR1cm4gZWxtLm5vZGVOYW1lID09PSB0eXBlO1xufTtcblxuY29uc3QgaXNUYWdOYW1lID0gKGVsbTogTm9kZSB8IFZpcnR1YWxFbGVtZW50LCB0YWdOYW1lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgaWYgKGVsbS5ub2RlVHlwZSA9PT0gMSkge1xuICAgIHJldHVybiAoZWxtIGFzIEVsZW1lbnQpLmxvY2FsTmFtZSA9PT0gdGFnTmFtZTtcbiAgfVxuICByZXR1cm4gZWxtLm5vZGVOYW1lID09PSB0YWdOYW1lO1xufTtcblxuY29uc3QgY2hlY2tJbm5lckhUTUwgPSAocHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHtcbiAgcmV0dXJuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIGluIHByb3BzO1xufTtcbiJdfQ==","import { assertDefined, assertTrue } from '../assert/assert';\nimport { parseQRL } from '../import/qrl';\nimport { getContext, resumeIfNeeded } from '../props/props';\nimport { getContainer, getInvokeContext } from './use-core';\nimport { assertQrl } from '../import/qrl-class';\n// <docs markdown=\"../readme.md#useLexicalScope\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useLexicalScope instead)\n/**\n * Used by the Qwik Optimizer to restore the lexically scoped variables.\n *\n * This method should not be present in the application source code.\n *\n * NOTE: `useLexicalScope` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * @internal\n */\n// </docs>\nexport const useLexicalScope = () => {\n    const context = getInvokeContext();\n    const hostElement = context.$hostElement$;\n    const qrl = context.$qrl$ ?? parseQRL(decodeURIComponent(String(context.$url$)), hostElement);\n    assertQrl(qrl);\n    if (qrl.$captureRef$ == null) {\n        const el = context.$element$;\n        assertDefined(el, 'invoke: element must be defined inside useLexicalScope()', context);\n        assertDefined(qrl.$capture$, 'invoke: qrl capture must be defined inside useLexicalScope()', qrl);\n        const container = getContainer(el);\n        assertDefined(container, `invoke: cant find parent q:container of`, el);\n        resumeIfNeeded(container);\n        const ctx = getContext(el);\n        qrl.$captureRef$ = qrl.$capture$.map((idx) => qInflate(idx, ctx));\n    }\n    const subscriber = context.$subscriber$;\n    if (subscriber) {\n        return qrl.$captureRef$;\n    }\n    return qrl.$captureRef$;\n};\nconst qInflate = (ref, hostCtx) => {\n    const int = parseInt(ref, 10);\n    const obj = hostCtx.$refMap$[int];\n    assertTrue(hostCtx.$refMap$.length > int, 'out of bounds inflate access', ref);\n    return obj;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxleGljYWwtc2NvcGUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxVQUFVLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxVQUFVLEVBQVksY0FBYyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFlBQVksRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUM1RCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFaEQsaURBQWlEO0FBQ2pELHlDQUF5QztBQUN6Qyw4Q0FBOEM7QUFDOUM7Ozs7Ozs7OztHQVNHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxHQUE2QixFQUFFO0lBQzVELE1BQU0sT0FBTyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDbkMsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUMxQyxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsS0FBSyxJQUFJLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDOUYsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRWYsSUFBSSxHQUFHLENBQUMsWUFBWSxJQUFJLElBQUksRUFBRTtRQUM1QixNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQzdCLGFBQWEsQ0FBQyxFQUFFLEVBQUUsMERBQTBELEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkYsYUFBYSxDQUNYLEdBQUcsQ0FBQyxTQUFTLEVBQ2IsOERBQThELEVBQzlELEdBQUcsQ0FDSixDQUFDO1FBRUYsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25DLGFBQWEsQ0FBQyxTQUFTLEVBQUUseUNBQXlDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFeEUsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFCLE1BQU0sR0FBRyxHQUFHLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUUzQixHQUFHLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxTQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDcEU7SUFDRCxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDO0lBQ3hDLElBQUksVUFBVSxFQUFFO1FBQ2QsT0FBTyxHQUFHLENBQUMsWUFBb0IsQ0FBQztLQUNqQztJQUNELE9BQU8sR0FBRyxDQUFDLFlBQW9CLENBQUM7QUFDbEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFXLEVBQUUsT0FBaUIsRUFBRSxFQUFFO0lBQ2xELE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDOUIsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNsQyxVQUFVLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsR0FBRyxFQUFFLDhCQUE4QixFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQy9FLE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgcGFyc2VRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IGdldENvbnRleHQsIFFDb250ZXh0LCByZXN1bWVJZk5lZWRlZCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IGdldENvbnRhaW5lciwgZ2V0SW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuaW1wb3J0IHsgYXNzZXJ0UXJsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUxleGljYWxTY29wZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VMZXhpY2FsU2NvcGUgaW5zdGVhZClcbi8qKlxuICogVXNlZCBieSB0aGUgUXdpayBPcHRpbWl6ZXIgdG8gcmVzdG9yZSB0aGUgbGV4aWNhbGx5IHNjb3BlZCB2YXJpYWJsZXMuXG4gKlxuICogVGhpcyBtZXRob2Qgc2hvdWxkIG5vdCBiZSBwcmVzZW50IGluIHRoZSBhcHBsaWNhdGlvbiBzb3VyY2UgY29kZS5cbiAqXG4gKiBOT1RFOiBgdXNlTGV4aWNhbFNjb3BlYCBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgc3luY2hyb25vdXMgcG9ydGlvbiBvZiB0aGUgY2FsbGJhY2tcbiAqIChiZWZvcmUgYW55IGBhd2FpdGAgc3RhdGVtZW50cy4pXG4gKlxuICogQGludGVybmFsXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VMZXhpY2FsU2NvcGUgPSA8VkFSUyBleHRlbmRzIGFueVtdPigpOiBWQVJTID0+IHtcbiAgY29uc3QgY29udGV4dCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBjb250ZXh0LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IHFybCA9IGNvbnRleHQuJHFybCQgPz8gcGFyc2VRUkwoZGVjb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjb250ZXh0LiR1cmwkKSksIGhvc3RFbGVtZW50KTtcbiAgYXNzZXJ0UXJsKHFybCk7XG5cbiAgaWYgKHFybC4kY2FwdHVyZVJlZiQgPT0gbnVsbCkge1xuICAgIGNvbnN0IGVsID0gY29udGV4dC4kZWxlbWVudCQ7XG4gICAgYXNzZXJ0RGVmaW5lZChlbCwgJ2ludm9rZTogZWxlbWVudCBtdXN0IGJlIGRlZmluZWQgaW5zaWRlIHVzZUxleGljYWxTY29wZSgpJywgY29udGV4dCk7XG4gICAgYXNzZXJ0RGVmaW5lZChcbiAgICAgIHFybC4kY2FwdHVyZSQsXG4gICAgICAnaW52b2tlOiBxcmwgY2FwdHVyZSBtdXN0IGJlIGRlZmluZWQgaW5zaWRlIHVzZUxleGljYWxTY29wZSgpJyxcbiAgICAgIHFybFxuICAgICk7XG5cbiAgICBjb25zdCBjb250YWluZXIgPSBnZXRDb250YWluZXIoZWwpO1xuICAgIGFzc2VydERlZmluZWQoY29udGFpbmVyLCBgaW52b2tlOiBjYW50IGZpbmQgcGFyZW50IHE6Y29udGFpbmVyIG9mYCwgZWwpO1xuXG4gICAgcmVzdW1lSWZOZWVkZWQoY29udGFpbmVyKTtcbiAgICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsKTtcblxuICAgIHFybC4kY2FwdHVyZVJlZiQgPSBxcmwuJGNhcHR1cmUkIS5tYXAoKGlkeCkgPT4gcUluZmxhdGUoaWR4LCBjdHgpKTtcbiAgfVxuICBjb25zdCBzdWJzY3JpYmVyID0gY29udGV4dC4kc3Vic2NyaWJlciQ7XG4gIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgcmV0dXJuIHFybC4kY2FwdHVyZVJlZiQgYXMgVkFSUztcbiAgfVxuICByZXR1cm4gcXJsLiRjYXB0dXJlUmVmJCBhcyBWQVJTO1xufTtcblxuY29uc3QgcUluZmxhdGUgPSAocmVmOiBzdHJpbmcsIGhvc3RDdHg6IFFDb250ZXh0KSA9PiB7XG4gIGNvbnN0IGludCA9IHBhcnNlSW50KHJlZiwgMTApO1xuICBjb25zdCBvYmogPSBob3N0Q3R4LiRyZWZNYXAkW2ludF07XG4gIGFzc2VydFRydWUoaG9zdEN0eC4kcmVmTWFwJC5sZW5ndGggPiBpbnQsICdvdXQgb2YgYm91bmRzIGluZmxhdGUgYWNjZXNzJywgcmVmKTtcbiAgcmV0dXJuIG9iajtcbn07XG4iXX0=","import { assertDefined } from '../../assert/assert';\nimport { executeContextWithSlots, IS_HEAD, IS_SVG, printRenderStats, SVG_NS } from './visitor';\nimport { getContext, resumeIfNeeded } from '../../props/props';\nimport { qDev, qTest } from '../../util/qdev';\nimport { getDocument } from '../../util/dom';\nimport { logError, logWarn } from '../../util/log';\nimport { getContainer } from '../../use/use-core';\nimport { runSubscriber, WatchFlagsIsDirty, WatchFlagsIsEffect, WatchFlagsIsResource, WatchFlagsIsWatch, } from '../../use/use-watch';\nimport { then } from '../../util/promises';\nimport { codeToText, QError_errorWhileRendering } from '../../error/error';\nimport { useLexicalScope } from '../../use/use-lexical-scope.public';\nimport { isQwikElement } from '../../util/element';\nimport { renderComponent } from './render-dom';\nimport { getContainerState } from '../container';\nimport { createRenderContext } from '../execute-component';\nimport { getRootNode } from './virtual-element';\nexport const notifyChange = (subscriber, containerState) => {\n    if (isQwikElement(subscriber)) {\n        notifyRender(subscriber, containerState);\n    }\n    else {\n        notifyWatch(subscriber, containerState);\n    }\n};\n/**\n * Mark component for rendering.\n *\n * Use `notifyRender` method to mark a component for rendering at some later point in time.\n * This method uses `getPlatform(doc).queueRender` for scheduling of the rendering. The\n * default implementation of the method is to use `requestAnimationFrame` to do actual rendering.\n *\n * The method is intended to coalesce multiple calls into `notifyRender` into a single call for\n * rendering.\n *\n * @param hostElement - Host-element of the component to re-render.\n * @returns A promise which is resolved when the component has been rendered.\n * @public\n */\nconst notifyRender = (hostElement, containerState) => {\n    if (qDev && !qTest && containerState.$platform$.isServer) {\n        logWarn('Can not rerender in server platform');\n        return undefined;\n    }\n    resumeIfNeeded(containerState.$containerEl$);\n    const ctx = getContext(hostElement);\n    assertDefined(ctx.$renderQrl$, `render: notified host element must have a defined $renderQrl$`, ctx);\n    if (ctx.$dirty$) {\n        return;\n    }\n    ctx.$dirty$ = true;\n    const activeRendering = containerState.$hostsRendering$ !== undefined;\n    if (activeRendering) {\n        assertDefined(containerState.$renderPromise$, 'render: while rendering, $renderPromise$ must be defined', containerState);\n        containerState.$hostsStaging$.add(hostElement);\n    }\n    else {\n        containerState.$hostsNext$.add(hostElement);\n        scheduleFrame(containerState);\n    }\n};\nconst notifyWatch = (watch, containerState) => {\n    if (watch.$flags$ & WatchFlagsIsDirty) {\n        return;\n    }\n    watch.$flags$ |= WatchFlagsIsDirty;\n    const activeRendering = containerState.$hostsRendering$ !== undefined;\n    if (activeRendering) {\n        assertDefined(containerState.$renderPromise$, 'render: while rendering, $renderPromise$ must be defined', containerState);\n        containerState.$watchStaging$.add(watch);\n    }\n    else {\n        containerState.$watchNext$.add(watch);\n        scheduleFrame(containerState);\n    }\n};\nconst scheduleFrame = (containerState) => {\n    if (containerState.$renderPromise$ === undefined) {\n        containerState.$renderPromise$ = containerState.$platform$.nextTick(() => renderMarked(containerState));\n    }\n    return containerState.$renderPromise$;\n};\n/**\n * Low-level API used by the Optimizer to process `useWatch$()` API. This method\n * is not intended to be used by developers.\n *\n * @internal\n *\n */\nexport const _hW = () => {\n    const [watch] = useLexicalScope();\n    notifyWatch(watch, getContainerState(getContainer(watch.$el$)));\n};\nconst renderMarked = async (containerState) => {\n    const hostsRendering = (containerState.$hostsRendering$ = new Set(containerState.$hostsNext$));\n    containerState.$hostsNext$.clear();\n    await executeWatchesBefore(containerState);\n    containerState.$hostsStaging$.forEach((host) => {\n        hostsRendering.add(host);\n    });\n    containerState.$hostsStaging$.clear();\n    const doc = getDocument(containerState.$containerEl$);\n    const platform = containerState.$platform$;\n    const renderingQueue = Array.from(hostsRendering);\n    sortNodes(renderingQueue);\n    const ctx = createRenderContext(doc, containerState);\n    for (const el of renderingQueue) {\n        if (!ctx.$hostElements$.has(el)) {\n            ctx.$roots$.push(el);\n            try {\n                await renderComponent(ctx, getContext(el), getFlags(el.parentElement));\n            }\n            catch (e) {\n                logError(codeToText(QError_errorWhileRendering), e);\n            }\n        }\n    }\n    // Early exist, no dom operations\n    if (ctx.$operations$.length === 0) {\n        printRenderStats(ctx);\n        postRendering(containerState, ctx);\n        return ctx;\n    }\n    return platform.raf(() => {\n        executeContextWithSlots(ctx);\n        printRenderStats(ctx);\n        postRendering(containerState, ctx);\n        return ctx;\n    });\n};\nconst getFlags = (el) => {\n    let flags = 0;\n    if (el) {\n        if (el.namespaceURI === SVG_NS) {\n            flags |= IS_SVG;\n        }\n        if (el.tagName === 'HEAD') {\n            flags |= IS_HEAD;\n        }\n    }\n    return flags;\n};\nexport const postRendering = async (containerState, ctx) => {\n    await executeWatchesAfter(containerState, (watch, stage) => {\n        if ((watch.$flags$ & WatchFlagsIsEffect) === 0) {\n            return false;\n        }\n        if (stage) {\n            return ctx.$hostElements$.has(watch.$el$);\n        }\n        return true;\n    });\n    // Clear staging\n    containerState.$hostsStaging$.forEach((el) => {\n        containerState.$hostsNext$.add(el);\n    });\n    containerState.$hostsStaging$.clear();\n    containerState.$hostsRendering$ = undefined;\n    containerState.$renderPromise$ = undefined;\n    if (containerState.$hostsNext$.size + containerState.$watchNext$.size > 0) {\n        scheduleFrame(containerState);\n    }\n};\nconst executeWatchesBefore = async (containerState) => {\n    const resourcesPromises = [];\n    const watchPromises = [];\n    const isWatch = (watch) => (watch.$flags$ & WatchFlagsIsWatch) !== 0;\n    const isResourceWatch = (watch) => (watch.$flags$ & WatchFlagsIsResource) !== 0;\n    containerState.$watchNext$.forEach((watch) => {\n        if (isWatch(watch)) {\n            watchPromises.push(then(watch.$qrl$.$resolveLazy$(watch.$el$), () => watch));\n            containerState.$watchNext$.delete(watch);\n        }\n        if (isResourceWatch(watch)) {\n            resourcesPromises.push(then(watch.$qrl$.$resolveLazy$(watch.$el$), () => watch));\n            containerState.$watchNext$.delete(watch);\n        }\n    });\n    do {\n        // Run staging effected\n        containerState.$watchStaging$.forEach((watch) => {\n            if (isWatch(watch)) {\n                watchPromises.push(then(watch.$qrl$.$resolveLazy$(watch.$el$), () => watch));\n            }\n            else if (isResourceWatch(watch)) {\n                resourcesPromises.push(then(watch.$qrl$.$resolveLazy$(watch.$el$), () => watch));\n            }\n            else {\n                containerState.$watchNext$.add(watch);\n            }\n        });\n        containerState.$watchStaging$.clear();\n        // Wait for all promises\n        if (watchPromises.length > 0) {\n            const watches = await Promise.all(watchPromises);\n            sortWatches(watches);\n            await Promise.all(watches.map((watch) => {\n                return runSubscriber(watch, containerState);\n            }));\n            watchPromises.length = 0;\n        }\n    } while (containerState.$watchStaging$.size > 0);\n    if (resourcesPromises.length > 0) {\n        const resources = await Promise.all(resourcesPromises);\n        sortWatches(resources);\n        resources.forEach((watch) => runSubscriber(watch, containerState));\n    }\n};\nconst executeWatchesAfter = async (containerState, watchPred) => {\n    const watchPromises = [];\n    containerState.$watchNext$.forEach((watch) => {\n        if (watchPred(watch, false)) {\n            watchPromises.push(then(watch.$qrl$.$resolveLazy$(watch.$el$), () => watch));\n            containerState.$watchNext$.delete(watch);\n        }\n    });\n    do {\n        // Run staging effected\n        containerState.$watchStaging$.forEach((watch) => {\n            if (watchPred(watch, true)) {\n                watchPromises.push(then(watch.$qrl$.$resolveLazy$(watch.$el$), () => watch));\n            }\n            else {\n                containerState.$watchNext$.add(watch);\n            }\n        });\n        containerState.$watchStaging$.clear();\n        // Wait for all promises\n        if (watchPromises.length > 0) {\n            const watches = await Promise.all(watchPromises);\n            sortWatches(watches);\n            await Promise.all(watches.map((watch) => {\n                return runSubscriber(watch, containerState);\n            }));\n            watchPromises.length = 0;\n        }\n    } while (containerState.$watchStaging$.size > 0);\n};\nconst sortNodes = (elements) => {\n    elements.sort((a, b) => (a.compareDocumentPosition(getRootNode(b)) & 2 ? 1 : -1));\n};\nconst sortWatches = (watches) => {\n    watches.sort((a, b) => {\n        if (a.$el$ === b.$el$) {\n            return a.$index$ < b.$index$ ? -1 : 1;\n        }\n        return (a.$el$.compareDocumentPosition(getRootNode(b.$el$)) & 2) !== 0 ? 1 : -1;\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LXJlbmRlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZG9tL25vdGlmeS1yZW5kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3BELE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUMvRixPQUFPLEVBQUUsVUFBVSxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQy9ELE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDOUMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2xELE9BQU8sRUFDTCxhQUFhLEVBR2IsaUJBQWlCLEVBQ2pCLGtCQUFrQixFQUNsQixvQkFBb0IsRUFDcEIsaUJBQWlCLEdBQ2xCLE1BQU0scUJBQXFCLENBQUM7QUFDN0IsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRTNDLE9BQU8sRUFBRSxVQUFVLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUMzRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDckUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFL0MsT0FBTyxFQUFrQixpQkFBaUIsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNqRSxPQUFPLEVBQUUsbUJB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LENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi8uLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IGV4ZWN1dGVDb250ZXh0V2l0aFNsb3RzLCBJU19IRUFELCBJU19TVkcsIHByaW50UmVuZGVyU3RhdHMsIFNWR19OUyB9IGZyb20gJy4vdmlzaXRvcic7XG5pbXBvcnQgeyBnZXRDb250ZXh0LCByZXN1bWVJZk5lZWRlZCB9IGZyb20gJy4uLy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IHFEZXYsIHFUZXN0IH0gZnJvbSAnLi4vLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgbG9nRXJyb3IsIGxvZ1dhcm4gfSBmcm9tICcuLi8uLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBnZXRDb250YWluZXIgfSBmcm9tICcuLi8uLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHtcbiAgcnVuU3Vic2NyaWJlcixcbiAgU3Vic2NyaWJlcixcbiAgU3Vic2NyaWJlckRlc2NyaXB0b3IsXG4gIFdhdGNoRmxhZ3NJc0RpcnR5LFxuICBXYXRjaEZsYWdzSXNFZmZlY3QsXG4gIFdhdGNoRmxhZ3NJc1Jlc291cmNlLFxuICBXYXRjaEZsYWdzSXNXYXRjaCxcbn0gZnJvbSAnLi4vLi4vdXNlL3VzZS13YXRjaCc7XG5pbXBvcnQgeyB0aGVuIH0gZnJvbSAnLi4vLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyBjb2RlVG9UZXh0LCBRRXJyb3JfZXJyb3JXaGlsZVJlbmRlcmluZyB9IGZyb20gJy4uLy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IHVzZUxleGljYWxTY29wZSB9IGZyb20gJy4uLy4uL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMnO1xuaW1wb3J0IHsgaXNRd2lrRWxlbWVudCB9IGZyb20gJy4uLy4uL3V0aWwvZWxlbWVudCc7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3JlbmRlci1kb20nO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQ29udGFpbmVyU3RhdGUsIGdldENvbnRhaW5lclN0YXRlIH0gZnJvbSAnLi4vY29udGFpbmVyJztcbmltcG9ydCB7IGNyZWF0ZVJlbmRlckNvbnRleHQgfSBmcm9tICcuLi9leGVjdXRlLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXRSb290Tm9kZSwgUXdpa0VsZW1lbnQgfSBmcm9tICcuL3ZpcnR1YWwtZWxlbWVudCc7XG5cbmV4cG9ydCBjb25zdCBub3RpZnlDaGFuZ2UgPSAoc3Vic2NyaWJlcjogU3Vic2NyaWJlciwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiB7XG4gIGlmIChpc1F3aWtFbGVtZW50KHN1YnNjcmliZXIpKSB7XG4gICAgbm90aWZ5UmVuZGVyKHN1YnNjcmliZXIsIGNvbnRhaW5lclN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICBub3RpZnlXYXRjaChzdWJzY3JpYmVyLCBjb250YWluZXJTdGF0ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogTWFyayBjb21wb25lbnQgZm9yIHJlbmRlcmluZy5cbiAqXG4gKiBVc2UgYG5vdGlmeVJlbmRlcmAgbWV0aG9kIHRvIG1hcmsgYSBjb21wb25lbnQgZm9yIHJlbmRlcmluZyBhdCBzb21lIGxhdGVyIHBvaW50IGluIHRpbWUuXG4gKiBUaGlzIG1ldGhvZCB1c2VzIGBnZXRQbGF0Zm9ybShkb2MpLnF1ZXVlUmVuZGVyYCBmb3Igc2NoZWR1bGluZyBvZiB0aGUgcmVuZGVyaW5nLiBUaGVcbiAqIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIG1ldGhvZCBpcyB0byB1c2UgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgdG8gZG8gYWN0dWFsIHJlbmRlcmluZy5cbiAqXG4gKiBUaGUgbWV0aG9kIGlzIGludGVuZGVkIHRvIGNvYWxlc2NlIG11bHRpcGxlIGNhbGxzIGludG8gYG5vdGlmeVJlbmRlcmAgaW50byBhIHNpbmdsZSBjYWxsIGZvclxuICogcmVuZGVyaW5nLlxuICpcbiAqIEBwYXJhbSBob3N0RWxlbWVudCAtIEhvc3QtZWxlbWVudCBvZiB0aGUgY29tcG9uZW50IHRvIHJlLXJlbmRlci5cbiAqIEByZXR1cm5zIEEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIHRoZSBjb21wb25lbnQgaGFzIGJlZW4gcmVuZGVyZWQuXG4gKiBAcHVibGljXG4gKi9cbmNvbnN0IG5vdGlmeVJlbmRlciA9IChob3N0RWxlbWVudDogUXdpa0VsZW1lbnQsIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSk6IHZvaWQgPT4ge1xuICBpZiAocURldiAmJiAhcVRlc3QgJiYgY29udGFpbmVyU3RhdGUuJHBsYXRmb3JtJC5pc1NlcnZlcikge1xuICAgIGxvZ1dhcm4oJ0NhbiBub3QgcmVyZW5kZXIgaW4gc2VydmVyIHBsYXRmb3JtJyk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXN1bWVJZk5lZWRlZChjb250YWluZXJTdGF0ZS4kY29udGFpbmVyRWwkKTtcblxuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGhvc3RFbGVtZW50KTtcbiAgYXNzZXJ0RGVmaW5lZChcbiAgICBjdHguJHJlbmRlclFybCQsXG4gICAgYHJlbmRlcjogbm90aWZpZWQgaG9zdCBlbGVtZW50IG11c3QgaGF2ZSBhIGRlZmluZWQgJHJlbmRlclFybCRgLFxuICAgIGN0eFxuICApO1xuXG4gIGlmIChjdHguJGRpcnR5JCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjdHguJGRpcnR5JCA9IHRydWU7XG4gIGNvbnN0IGFjdGl2ZVJlbmRlcmluZyA9IGNvbnRhaW5lclN0YXRlLiRob3N0c1JlbmRlcmluZyQgIT09IHVuZGVmaW5lZDtcbiAgaWYgKGFjdGl2ZVJlbmRlcmluZykge1xuICAgIGFzc2VydERlZmluZWQoXG4gICAgICBjb250YWluZXJTdGF0ZS4kcmVuZGVyUHJvbWlzZSQsXG4gICAgICAncmVuZGVyOiB3aGlsZSByZW5kZXJpbmcsICRyZW5kZXJQcm9taXNlJCBtdXN0IGJlIGRlZmluZWQnLFxuICAgICAgY29udGFpbmVyU3RhdGVcbiAgICApO1xuICAgIGNvbnRhaW5lclN0YXRlLiRob3N0c1N0YWdpbmckLmFkZChob3N0RWxlbWVudCk7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyU3RhdGUuJGhvc3RzTmV4dCQuYWRkKGhvc3RFbGVtZW50KTtcbiAgICBzY2hlZHVsZUZyYW1lKGNvbnRhaW5lclN0YXRlKTtcbiAgfVxufTtcblxuY29uc3Qgbm90aWZ5V2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yLCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHtcbiAgaWYgKHdhdGNoLiRmbGFncyQgJiBXYXRjaEZsYWdzSXNEaXJ0eSkge1xuICAgIHJldHVybjtcbiAgfVxuICB3YXRjaC4kZmxhZ3MkIHw9IFdhdGNoRmxhZ3NJc0RpcnR5O1xuXG4gIGNvbnN0IGFjdGl2ZVJlbmRlcmluZyA9IGNvbnRhaW5lclN0YXRlLiRob3N0c1JlbmRlcmluZyQgIT09IHVuZGVmaW5lZDtcbiAgaWYgKGFjdGl2ZVJlbmRlcmluZykge1xuICAgIGFzc2VydERlZmluZWQoXG4gICAgICBjb250YWluZXJTdGF0ZS4kcmVuZGVyUHJvbWlzZSQsXG4gICAgICAncmVuZGVyOiB3aGlsZSByZW5kZXJpbmcsICRyZW5kZXJQcm9taXNlJCBtdXN0IGJlIGRlZmluZWQnLFxuICAgICAgY29udGFpbmVyU3RhdGVcbiAgICApO1xuICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaFN0YWdpbmckLmFkZCh3YXRjaCk7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyU3RhdGUuJHdhdGNoTmV4dCQuYWRkKHdhdGNoKTtcbiAgICBzY2hlZHVsZUZyYW1lKGNvbnRhaW5lclN0YXRlKTtcbiAgfVxufTtcblxuY29uc3Qgc2NoZWR1bGVGcmFtZSA9IChjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpOiBQcm9taXNlPFJlbmRlckNvbnRleHQ+ID0+IHtcbiAgaWYgKGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGFpbmVyU3RhdGUuJHJlbmRlclByb21pc2UkID0gY29udGFpbmVyU3RhdGUuJHBsYXRmb3JtJC5uZXh0VGljaygoKSA9PlxuICAgICAgcmVuZGVyTWFya2VkKGNvbnRhaW5lclN0YXRlKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJDtcbn07XG5cbi8qKlxuICogTG93LWxldmVsIEFQSSB1c2VkIGJ5IHRoZSBPcHRpbWl6ZXIgdG8gcHJvY2VzcyBgdXNlV2F0Y2gkKClgIEFQSS4gVGhpcyBtZXRob2RcbiAqIGlzIG5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGJ5IGRldmVsb3BlcnMuXG4gKlxuICogQGludGVybmFsXG4gKlxuICovXG5leHBvcnQgY29uc3QgX2hXID0gKCkgPT4ge1xuICBjb25zdCBbd2F0Y2hdID0gdXNlTGV4aWNhbFNjb3BlPFtTdWJzY3JpYmVyRGVzY3JpcHRvcl0+KCk7XG4gIG5vdGlmeVdhdGNoKHdhdGNoLCBnZXRDb250YWluZXJTdGF0ZShnZXRDb250YWluZXIod2F0Y2guJGVsJCkhKSk7XG59O1xuXG5jb25zdCByZW5kZXJNYXJrZWQgPSBhc3luYyAoY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKTogUHJvbWlzZTxSZW5kZXJDb250ZXh0PiA9PiB7XG4gIGNvbnN0IGhvc3RzUmVuZGVyaW5nID0gKGNvbnRhaW5lclN0YXRlLiRob3N0c1JlbmRlcmluZyQgPSBuZXcgU2V0KGNvbnRhaW5lclN0YXRlLiRob3N0c05leHQkKSk7XG4gIGNvbnRhaW5lclN0YXRlLiRob3N0c05leHQkLmNsZWFyKCk7XG4gIGF3YWl0IGV4ZWN1dGVXYXRjaGVzQmVmb3JlKGNvbnRhaW5lclN0YXRlKTtcblxuICBjb250YWluZXJTdGF0ZS4kaG9zdHNTdGFnaW5nJC5mb3JFYWNoKChob3N0KSA9PiB7XG4gICAgaG9zdHNSZW5kZXJpbmcuYWRkKGhvc3QpO1xuICB9KTtcbiAgY29udGFpbmVyU3RhdGUuJGhvc3RzU3RhZ2luZyQuY2xlYXIoKTtcblxuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChjb250YWluZXJTdGF0ZS4kY29udGFpbmVyRWwkKTtcbiAgY29uc3QgcGxhdGZvcm0gPSBjb250YWluZXJTdGF0ZS4kcGxhdGZvcm0kO1xuICBjb25zdCByZW5kZXJpbmdRdWV1ZSA9IEFycmF5LmZyb20oaG9zdHNSZW5kZXJpbmcpO1xuICBzb3J0Tm9kZXMocmVuZGVyaW5nUXVldWUpO1xuXG4gIGNvbnN0IGN0eCA9IGNyZWF0ZVJlbmRlckNvbnRleHQoZG9jLCBjb250YWluZXJTdGF0ZSk7XG5cbiAgZm9yIChjb25zdCBlbCBvZiByZW5kZXJpbmdRdWV1ZSkge1xuICAgIGlmICghY3R4LiRob3N0RWxlbWVudHMkLmhhcyhlbCkpIHtcbiAgICAgIGN0eC4kcm9vdHMkLnB1c2goZWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcmVuZGVyQ29tcG9uZW50KGN0eCwgZ2V0Q29udGV4dChlbCksIGdldEZsYWdzKGVsLnBhcmVudEVsZW1lbnQpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nRXJyb3IoY29kZVRvVGV4dChRRXJyb3JfZXJyb3JXaGlsZVJlbmRlcmluZyksIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEVhcmx5IGV4aXN0LCBubyBkb20gb3BlcmF0aW9uc1xuICBpZiAoY3R4LiRvcGVyYXRpb25zJC5sZW5ndGggPT09IDApIHtcbiAgICBwcmludFJlbmRlclN0YXRzKGN0eCk7XG4gICAgcG9zdFJlbmRlcmluZyhjb250YWluZXJTdGF0ZSwgY3R4KTtcbiAgICByZXR1cm4gY3R4O1xuICB9XG5cbiAgcmV0dXJuIHBsYXRmb3JtLnJhZigoKSA9PiB7XG4gICAgZXhlY3V0ZUNvbnRleHRXaXRoU2xvdHMoY3R4KTtcbiAgICBwcmludFJlbmRlclN0YXRzKGN0eCk7XG4gICAgcG9zdFJlbmRlcmluZyhjb250YWluZXJTdGF0ZSwgY3R4KTtcbiAgICByZXR1cm4gY3R4O1xuICB9KTtcbn07XG5cbmNvbnN0IGdldEZsYWdzID0gKGVsOiBFbGVtZW50IHwgbnVsbCkgPT4ge1xuICBsZXQgZmxhZ3MgPSAwO1xuICBpZiAoZWwpIHtcbiAgICBpZiAoZWwubmFtZXNwYWNlVVJJID09PSBTVkdfTlMpIHtcbiAgICAgIGZsYWdzIHw9IElTX1NWRztcbiAgICB9XG4gICAgaWYgKGVsLnRhZ05hbWUgPT09ICdIRUFEJykge1xuICAgICAgZmxhZ3MgfD0gSVNfSEVBRDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZsYWdzO1xufTtcblxuZXhwb3J0IGNvbnN0IHBvc3RSZW5kZXJpbmcgPSBhc3luYyAoY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLCBjdHg6IFJlbmRlckNvbnRleHQpID0+IHtcbiAgYXdhaXQgZXhlY3V0ZVdhdGNoZXNBZnRlcihjb250YWluZXJTdGF0ZSwgKHdhdGNoLCBzdGFnZSkgPT4ge1xuICAgIGlmICgod2F0Y2guJGZsYWdzJCAmIFdhdGNoRmxhZ3NJc0VmZmVjdCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN0YWdlKSB7XG4gICAgICByZXR1cm4gY3R4LiRob3N0RWxlbWVudHMkLmhhcyh3YXRjaC4kZWwkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4gIC8vIENsZWFyIHN0YWdpbmdcbiAgY29udGFpbmVyU3RhdGUuJGhvc3RzU3RhZ2luZyQuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBjb250YWluZXJTdGF0ZS4kaG9zdHNOZXh0JC5hZGQoZWwpO1xuICB9KTtcbiAgY29udGFpbmVyU3RhdGUuJGhvc3RzU3RhZ2luZyQuY2xlYXIoKTtcblxuICBjb250YWluZXJTdGF0ZS4kaG9zdHNSZW5kZXJpbmckID0gdW5kZWZpbmVkO1xuICBjb250YWluZXJTdGF0ZS4kcmVuZGVyUHJvbWlzZSQgPSB1bmRlZmluZWQ7XG5cbiAgaWYgKGNvbnRhaW5lclN0YXRlLiRob3N0c05leHQkLnNpemUgKyBjb250YWluZXJTdGF0ZS4kd2F0Y2hOZXh0JC5zaXplID4gMCkge1xuICAgIHNjaGVkdWxlRnJhbWUoY29udGFpbmVyU3RhdGUpO1xuICB9XG59O1xuXG5jb25zdCBleGVjdXRlV2F0Y2hlc0JlZm9yZSA9IGFzeW5jIChjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHtcbiAgY29uc3QgcmVzb3VyY2VzUHJvbWlzZXM6IFZhbHVlT3JQcm9taXNlPFN1YnNjcmliZXJEZXNjcmlwdG9yPltdID0gW107XG4gIGNvbnN0IHdhdGNoUHJvbWlzZXM6IFZhbHVlT3JQcm9taXNlPFN1YnNjcmliZXJEZXNjcmlwdG9yPltdID0gW107XG4gIGNvbnN0IGlzV2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yKSA9PiAod2F0Y2guJGZsYWdzJCAmIFdhdGNoRmxhZ3NJc1dhdGNoKSAhPT0gMDtcbiAgY29uc3QgaXNSZXNvdXJjZVdhdGNoID0gKHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvcikgPT5cbiAgICAod2F0Y2guJGZsYWdzJCAmIFdhdGNoRmxhZ3NJc1Jlc291cmNlKSAhPT0gMDtcblxuICBjb250YWluZXJTdGF0ZS4kd2F0Y2hOZXh0JC5mb3JFYWNoKCh3YXRjaCkgPT4ge1xuICAgIGlmIChpc1dhdGNoKHdhdGNoKSkge1xuICAgICAgd2F0Y2hQcm9taXNlcy5wdXNoKHRoZW4od2F0Y2guJHFybCQuJHJlc29sdmVMYXp5JCh3YXRjaC4kZWwkKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmRlbGV0ZSh3YXRjaCk7XG4gICAgfVxuICAgIGlmIChpc1Jlc291cmNlV2F0Y2god2F0Y2gpKSB7XG4gICAgICByZXNvdXJjZXNQcm9taXNlcy5wdXNoKHRoZW4od2F0Y2guJHFybCQuJHJlc29sdmVMYXp5JCh3YXRjaC4kZWwkKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmRlbGV0ZSh3YXRjaCk7XG4gICAgfVxuICB9KTtcbiAgZG8ge1xuICAgIC8vIFJ1biBzdGFnaW5nIGVmZmVjdGVkXG4gICAgY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICAgIGlmIChpc1dhdGNoKHdhdGNoKSkge1xuICAgICAgICB3YXRjaFByb21pc2VzLnB1c2godGhlbih3YXRjaC4kcXJsJC4kcmVzb2x2ZUxhenkkKHdhdGNoLiRlbCQpLCAoKSA9PiB3YXRjaCkpO1xuICAgICAgfSBlbHNlIGlmIChpc1Jlc291cmNlV2F0Y2god2F0Y2gpKSB7XG4gICAgICAgIHJlc291cmNlc1Byb21pc2VzLnB1c2godGhlbih3YXRjaC4kcXJsJC4kcmVzb2x2ZUxhenkkKHdhdGNoLiRlbCQpLCAoKSA9PiB3YXRjaCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGFpbmVyU3RhdGUuJHdhdGNoTmV4dCQuYWRkKHdhdGNoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaFN0YWdpbmckLmNsZWFyKCk7XG5cbiAgICAvLyBXYWl0IGZvciBhbGwgcHJvbWlzZXNcbiAgICBpZiAod2F0Y2hQcm9taXNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCB3YXRjaGVzID0gYXdhaXQgUHJvbWlzZS5hbGwod2F0Y2hQcm9taXNlcyk7XG4gICAgICBzb3J0V2F0Y2hlcyh3YXRjaGVzKTtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICB3YXRjaGVzLm1hcCgod2F0Y2gpID0+IHtcbiAgICAgICAgICByZXR1cm4gcnVuU3Vic2NyaWJlcih3YXRjaCwgY29udGFpbmVyU3RhdGUpO1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHdhdGNoUHJvbWlzZXMubGVuZ3RoID0gMDtcbiAgICB9XG4gIH0gd2hpbGUgKGNvbnRhaW5lclN0YXRlLiR3YXRjaFN0YWdpbmckLnNpemUgPiAwKTtcblxuICBpZiAocmVzb3VyY2VzUHJvbWlzZXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHJlc291cmNlcyA9IGF3YWl0IFByb21pc2UuYWxsKHJlc291cmNlc1Byb21pc2VzKTtcbiAgICBzb3J0V2F0Y2hlcyhyZXNvdXJjZXMpO1xuICAgIHJlc291cmNlcy5mb3JFYWNoKCh3YXRjaCkgPT4gcnVuU3Vic2NyaWJlcih3YXRjaCwgY29udGFpbmVyU3RhdGUpKTtcbiAgfVxufTtcblxuY29uc3QgZXhlY3V0ZVdhdGNoZXNBZnRlciA9IGFzeW5jIChcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICB3YXRjaFByZWQ6ICh3YXRjaDogU3Vic2NyaWJlckRlc2NyaXB0b3IsIHN0YWdpbmc6IGJvb2xlYW4pID0+IGJvb2xlYW5cbikgPT4ge1xuICBjb25zdCB3YXRjaFByb21pc2VzOiBWYWx1ZU9yUHJvbWlzZTxTdWJzY3JpYmVyRGVzY3JpcHRvcj5bXSA9IFtdO1xuXG4gIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmZvckVhY2goKHdhdGNoKSA9PiB7XG4gICAgaWYgKHdhdGNoUHJlZCh3YXRjaCwgZmFsc2UpKSB7XG4gICAgICB3YXRjaFByb21pc2VzLnB1c2godGhlbih3YXRjaC4kcXJsJC4kcmVzb2x2ZUxhenkkKHdhdGNoLiRlbCQpLCAoKSA9PiB3YXRjaCkpO1xuICAgICAgY29udGFpbmVyU3RhdGUuJHdhdGNoTmV4dCQuZGVsZXRlKHdhdGNoKTtcbiAgICB9XG4gIH0pO1xuICBkbyB7XG4gICAgLy8gUnVuIHN0YWdpbmcgZWZmZWN0ZWRcbiAgICBjb250YWluZXJTdGF0ZS4kd2F0Y2hTdGFnaW5nJC5mb3JFYWNoKCh3YXRjaCkgPT4ge1xuICAgICAgaWYgKHdhdGNoUHJlZCh3YXRjaCwgdHJ1ZSkpIHtcbiAgICAgICAgd2F0Y2hQcm9taXNlcy5wdXNoKHRoZW4od2F0Y2guJHFybCQuJHJlc29sdmVMYXp5JCh3YXRjaC4kZWwkKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmFkZCh3YXRjaCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuY2xlYXIoKTtcblxuICAgIC8vIFdhaXQgZm9yIGFsbCBwcm9taXNlc1xuICAgIGlmICh3YXRjaFByb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHdhdGNoZXMgPSBhd2FpdCBQcm9taXNlLmFsbCh3YXRjaFByb21pc2VzKTtcbiAgICAgIHNvcnRXYXRjaGVzKHdhdGNoZXMpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIHdhdGNoZXMubWFwKCh3YXRjaCkgPT4ge1xuICAgICAgICAgIHJldHVybiBydW5TdWJzY3JpYmVyKHdhdGNoLCBjb250YWluZXJTdGF0ZSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgd2F0Y2hQcm9taXNlcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgfSB3aGlsZSAoY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuc2l6ZSA+IDApO1xufTtcblxuY29uc3Qgc29ydE5vZGVzID0gKGVsZW1lbnRzOiBRd2lrRWxlbWVudFtdKSA9PiB7XG4gIGVsZW1lbnRzLnNvcnQoKGEsIGIpID0+IChhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGdldFJvb3ROb2RlKGIpKSAmIDIgPyAxIDogLTEpKTtcbn07XG5cbmNvbnN0IHNvcnRXYXRjaGVzID0gKHdhdGNoZXM6IFN1YnNjcmliZXJEZXNjcmlwdG9yW10pID0+IHtcbiAgd2F0Y2hlcy5zb3J0KChhLCBiKSA9PiB7XG4gICAgaWYgKGEuJGVsJCA9PT0gYi4kZWwkKSB7XG4gICAgICByZXR1cm4gYS4kaW5kZXgkIDwgYi4kaW5kZXgkID8gLTEgOiAxO1xuICAgIH1cbiAgICByZXR1cm4gKGEuJGVsJC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihnZXRSb290Tm9kZShiLiRlbCQpKSAmIDIpICE9PSAwID8gMSA6IC0xO1xuICB9KTtcbn07XG4iXX0=","import { assertEqual } from '../assert/assert';\nimport { getProxyTarget } from '../object/q-object';\nimport { getPlatform } from '../platform/platform';\nimport { notifyChange } from './dom/notify-render';\nconst CONTAINER_STATE = Symbol('ContainerState');\nexport const getContainerState = (containerEl) => {\n    let set = containerEl[CONTAINER_STATE];\n    if (!set) {\n        containerEl[CONTAINER_STATE] = set = {\n            $containerEl$: containerEl,\n            $proxyMap$: new WeakMap(),\n            $subsManager$: null,\n            $platform$: getPlatform(containerEl),\n            $watchNext$: new Set(),\n            $watchStaging$: new Set(),\n            $hostsNext$: new Set(),\n            $hostsStaging$: new Set(),\n            $renderPromise$: undefined,\n            $hostsRendering$: undefined,\n            $envData$: {},\n            $elementIndex$: 0,\n            $styleIds$: new Set(),\n            $mutableProps$: false,\n        };\n        set.$subsManager$ = createSubscriptionManager(set);\n    }\n    return set;\n};\nexport const createSubscriptionManager = (containerState) => {\n    const objToSubs = new Map();\n    const subsToObjs = new Map();\n    const clearSub = (sub) => {\n        const subs = subsToObjs.get(sub);\n        if (subs) {\n            subs.forEach((s) => {\n                s.delete(sub);\n            });\n            subsToObjs.delete(sub);\n            subs.clear();\n        }\n    };\n    const tryGetLocal = (obj) => {\n        assertEqual(getProxyTarget(obj), undefined, 'object can not be be a proxy', obj);\n        return objToSubs.get(obj);\n    };\n    const trackSubToObj = (subscriber, map) => {\n        let set = subsToObjs.get(subscriber);\n        if (!set) {\n            subsToObjs.set(subscriber, (set = new Set()));\n        }\n        set.add(map);\n    };\n    const getLocal = (obj, initialMap) => {\n        let local = tryGetLocal(obj);\n        if (local) {\n            assertEqual(initialMap, undefined, 'subscription map can not be set to an existing object', local);\n        }\n        else {\n            const map = !initialMap ? new Map() : initialMap;\n            map.forEach((_, key) => {\n                trackSubToObj(key, map);\n            });\n            objToSubs.set(obj, (local = {\n                $subs$: map,\n                $addSub$(subscriber, key) {\n                    if (key == null) {\n                        map.set(subscriber, null);\n                    }\n                    else {\n                        let sub = map.get(subscriber);\n                        if (sub === undefined) {\n                            map.set(subscriber, (sub = new Set()));\n                        }\n                        if (sub) {\n                            sub.add(key);\n                        }\n                    }\n                    trackSubToObj(subscriber, map);\n                },\n                $notifySubs$(key) {\n                    map.forEach((value, subscriber) => {\n                        if (value === null || !key || value.has(key)) {\n                            notifyChange(subscriber, containerState);\n                        }\n                    });\n                },\n            }));\n        }\n        return local;\n    };\n    return {\n        $tryGetLocal$: tryGetLocal,\n        $getLocal$: getLocal,\n        $clearSub$: clearSub,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGFpbmVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9jb250YWluZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFHbkQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBOENuRCxNQUFNLGVBQWUsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUVqRCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLFdBQW9CLEVBQWtCLEVBQUU7SUFDeEUsSUFBSSxHQUFHLEdBQUksV0FBbUIsQ0FBQyxlQUFlLENBQW1CLENBQUM7SUFDbEUsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNQLFdBQW1CLENBQUMsZUFBZSxDQUFDLEdBQUcsR0FBRyxHQUFHO1lBQzVDLGFBQWEsRUFBRSxXQUFXO1lBRTFCLFVBQVUsRUFBRSxJQUFJLE9BQU8sRUFBRTtZQUN6QixhQUFhLEVBQUUsSUFBVztZQUMxQixVQUFVLEVBQUUsV0FBVyxDQUFDLFdBQVcsQ0FBQztZQUVwQyxXQUFXLEVBQUUsSUFBSSxHQUFHLEVBQUU7WUFDdEIsY0FBYyxFQUFFLElBQUksR0FBRyxFQUFFO1lBRXpCLFdBQVcsRUFBRSxJQUFJLEdBQUcsRUFBRTtZQUN0QixjQUFjLEVBQUUsSUFBSSxHQUFHLEVBQUU7WUFDekIsZUFBZSxFQUFFLFNBQVM7WUFDMUIsZ0JBQWdCLEVBQUUsU0FBUztZQUUzQixTQUFTLEVBQUUsRUFBRTtZQUNiLGNBQWMsRUFBRSxDQUFDO1lBRWpCLFVBQVUsRUFBRSxJQUFJLEdBQUcsRUFBRTtZQUNyQixjQUFjLEVBQUUsS0FBSztTQUN0QixD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NEJBQ1AsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQzt5QkFDZDtxQkFDRjtvQkFDRCxhQUFhLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQyxDQUFDO2dCQUNELFlBQVksQ0FBQyxHQUFZO29CQUN2QixHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLFVBQVUsRUFBRSxFQUFFO3dCQUNoQyxJQUFJLEtBQUssS0FBSyxJQUFJLElBQUksQ0FBQyxHQUFHLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTs0QkFDNUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxjQUFjLENBQUMsQ0FBQzt5QkFDMUM7b0JBQ0gsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsQ0FBQzthQUNGLENBQUMsQ0FDSCxDQUFDO1NBQ0g7UUFDRCxPQUFPLEtBQUssQ0FBQztJQUNmLENBQUMsQ0FBQztJQUVGLE9BQU87UUFDTCxhQUFhLEVBQUUsV0FBVztRQUMxQixVQUFVLEVBQUUsUUFBUTtRQUNwQixVQUFVLEVBQUUsUUFBUTtLQUNyQixDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IGdldFByb3h5VGFyZ2V0IH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHR5cGUgeyBDb3JlUGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFN1YnNjcmliZXIsIFN1YnNjcmliZXJEZXNjcmlwdG9yIH0gZnJvbSAnLi4vdXNlL3VzZS13YXRjaCc7XG5pbXBvcnQgeyBub3RpZnlDaGFuZ2UgfSBmcm9tICcuL2RvbS9ub3RpZnktcmVuZGVyJztcbmltcG9ydCB0eXBlIHsgUXdpa0VsZW1lbnQgfSBmcm9tICcuL2RvbS92aXJ0dWFsLWVsZW1lbnQnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCB0eXBlIE9ialRvUHJveHlNYXAgPSBXZWFrTWFwPGFueSwgYW55PjtcbmV4cG9ydCB0eXBlIFN1YnNjcmliZXJNYXAgPSBNYXA8U3Vic2NyaWJlciwgU2V0PHN0cmluZz4gfCBudWxsPjtcbmV4cG9ydCB0eXBlIE9ialRvU3Vic2NyaWJlck1hcCA9IFdlYWtNYXA8YW55LCBMb2NhbFN1YnNjcmlwdGlvbk1hbmFnZXI+O1xuZXhwb3J0IHR5cGUgU3Vic2NyaWJlclRvU3Vic2NyaWJlck1hcCA9IE1hcDxTdWJzY3JpYmVyLCBTZXQ8U3Vic2NyaWJlck1hcD4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmlwdGlvbk1hbmFnZXIge1xuICAkdHJ5R2V0TG9jYWwkKG9iajogYW55KTogTG9jYWxTdWJzY3JpcHRpb25NYW5hZ2VyIHwgdW5kZWZpbmVkO1xuICAkZ2V0TG9jYWwkKG9iajogYW55LCBtYXA/OiBTdWJzY3JpYmVyTWFwKTogTG9jYWxTdWJzY3JpcHRpb25NYW5hZ2VyO1xuICAkY2xlYXJTdWIkOiAoc3ViOiBTdWJzY3JpYmVyKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvY2FsU3Vic2NyaXB0aW9uTWFuYWdlciB7XG4gICRzdWJzJDogU3Vic2NyaWJlck1hcDtcbiAgJG5vdGlmeVN1YnMkOiAoa2V5Pzogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB2b2lkO1xuICAkYWRkU3ViJDogKHN1YnNjcmliZXI6IFN1YnNjcmliZXIsIGtleT86IHN0cmluZykgPT4gdm9pZDtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb250YWluZXJTdGF0ZSB7XG4gICRjb250YWluZXJFbCQ6IEVsZW1lbnQ7XG5cbiAgJHByb3h5TWFwJDogT2JqVG9Qcm94eU1hcDtcbiAgJHN1YnNNYW5hZ2VyJDogU3Vic2NyaXB0aW9uTWFuYWdlcjtcbiAgJHBsYXRmb3JtJDogQ29yZVBsYXRmb3JtO1xuXG4gICR3YXRjaE5leHQkOiBTZXQ8U3Vic2NyaWJlckRlc2NyaXB0b3I+O1xuICAkd2F0Y2hTdGFnaW5nJDogU2V0PFN1YnNjcmliZXJEZXNjcmlwdG9yPjtcblxuICAkaG9zdHNOZXh0JDogU2V0PFF3aWtFbGVtZW50PjtcbiAgJGhvc3RzU3RhZ2luZyQ6IFNldDxRd2lrRWxlbWVudD47XG4gICRob3N0c1JlbmRlcmluZyQ6IFNldDxRd2lrRWxlbWVudD4gfCB1bmRlZmluZWQ7XG4gICRyZW5kZXJQcm9taXNlJDogUHJvbWlzZTxSZW5kZXJDb250ZXh0PiB8IHVuZGVmaW5lZDtcblxuICAkZW52RGF0YSQ6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICRlbGVtZW50SW5kZXgkOiBudW1iZXI7XG5cbiAgJHN0eWxlSWRzJDogU2V0PHN0cmluZz47XG4gICRtdXRhYmxlUHJvcHMkOiBib29sZWFuO1xufVxuXG5jb25zdCBDT05UQUlORVJfU1RBVEUgPSBTeW1ib2woJ0NvbnRhaW5lclN0YXRlJyk7XG5cbmV4cG9ydCBjb25zdCBnZXRDb250YWluZXJTdGF0ZSA9IChjb250YWluZXJFbDogRWxlbWVudCk6IENvbnRhaW5lclN0YXRlID0+IHtcbiAgbGV0IHNldCA9IChjb250YWluZXJFbCBhcyBhbnkpW0NPTlRBSU5FUl9TVEFURV0gYXMgQ29udGFpbmVyU3RhdGU7XG4gIGlmICghc2V0KSB7XG4gICAgKGNvbnRhaW5lckVsIGFzIGFueSlbQ09OVEFJTkVSX1NUQVRFXSA9IHNldCA9IHtcbiAgICAgICRjb250YWluZXJFbCQ6IGNvbnRhaW5lckVsLFxuXG4gICAgICAkcHJveHlNYXAkOiBuZXcgV2Vha01hcCgpLFxuICAgICAgJHN1YnNNYW5hZ2VyJDogbnVsbCBhcyBhbnksXG4gICAgICAkcGxhdGZvcm0kOiBnZXRQbGF0Zm9ybShjb250YWluZXJFbCksXG5cbiAgICAgICR3YXRjaE5leHQkOiBuZXcgU2V0KCksXG4gICAgICAkd2F0Y2hTdGFnaW5nJDogbmV3IFNldCgpLFxuXG4gICAgICAkaG9zdHNOZXh0JDogbmV3IFNldCgpLFxuICAgICAgJGhvc3RzU3RhZ2luZyQ6IG5ldyBTZXQoKSxcbiAgICAgICRyZW5kZXJQcm9taXNlJDogdW5kZWZpbmVkLFxuICAgICAgJGhvc3RzUmVuZGVyaW5nJDogdW5kZWZpbmVkLFxuXG4gICAgICAkZW52RGF0YSQ6IHt9LFxuICAgICAgJGVsZW1lbnRJbmRleCQ6IDAsXG5cbiAgICAgICRzdHlsZUlkcyQ6IG5ldyBTZXQoKSxcbiAgICAgICRtdXRhYmxlUHJvcHMkOiBmYWxzZSxcbiAgICB9O1xuICAgIHNldC4kc3Vic01hbmFnZXIkID0gY3JlYXRlU3Vic2NyaXB0aW9uTWFuYWdlcihzZXQpO1xuICB9XG4gIHJldHVybiBzZXQ7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlU3Vic2NyaXB0aW9uTWFuYWdlciA9IChjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpOiBTdWJzY3JpcHRpb25NYW5hZ2VyID0+IHtcbiAgY29uc3Qgb2JqVG9TdWJzOiBPYmpUb1N1YnNjcmliZXJNYXAgPSBuZXcgTWFwKCk7XG4gIGNvbnN0IHN1YnNUb09ianM6IFN1YnNjcmliZXJUb1N1YnNjcmliZXJNYXAgPSBuZXcgTWFwKCk7XG5cbiAgY29uc3QgY2xlYXJTdWIgPSAoc3ViOiBTdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uc3Qgc3VicyA9IHN1YnNUb09ianMuZ2V0KHN1Yik7XG4gICAgaWYgKHN1YnMpIHtcbiAgICAgIHN1YnMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICBzLmRlbGV0ZShzdWIpO1xuICAgICAgfSk7XG4gICAgICBzdWJzVG9PYmpzLmRlbGV0ZShzdWIpO1xuICAgICAgc3Vicy5jbGVhcigpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB0cnlHZXRMb2NhbCA9IChvYmo6IGFueSkgPT4ge1xuICAgIGFzc2VydEVxdWFsKGdldFByb3h5VGFyZ2V0KG9iaiksIHVuZGVmaW5lZCwgJ29iamVjdCBjYW4gbm90IGJlIGJlIGEgcHJveHknLCBvYmopO1xuICAgIHJldHVybiBvYmpUb1N1YnMuZ2V0KG9iaik7XG4gIH07XG5cbiAgY29uc3QgdHJhY2tTdWJUb09iaiA9IChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyLCBtYXA6IFN1YnNjcmliZXJNYXApID0+IHtcbiAgICBsZXQgc2V0ID0gc3Vic1RvT2Jqcy5nZXQoc3Vic2NyaWJlcik7XG4gICAgaWYgKCFzZXQpIHtcbiAgICAgIHN1YnNUb09ianMuc2V0KHN1YnNjcmliZXIsIChzZXQgPSBuZXcgU2V0KCkpKTtcbiAgICB9XG4gICAgc2V0LmFkZChtYXApO1xuICB9O1xuXG4gIGNvbnN0IGdldExvY2FsID0gKG9iajogYW55LCBpbml0aWFsTWFwPzogU3Vic2NyaWJlck1hcCkgPT4ge1xuICAgIGxldCBsb2NhbCA9IHRyeUdldExvY2FsKG9iaik7XG4gICAgaWYgKGxvY2FsKSB7XG4gICAgICBhc3NlcnRFcXVhbChcbiAgICAgICAgaW5pdGlhbE1hcCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAnc3Vic2NyaXB0aW9uIG1hcCBjYW4gbm90IGJlIHNldCB0byBhbiBleGlzdGluZyBvYmplY3QnLFxuICAgICAgICBsb2NhbFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWFwID0gIWluaXRpYWxNYXAgPyAobmV3IE1hcCgpIGFzIFN1YnNjcmliZXJNYXApIDogaW5pdGlhbE1hcDtcbiAgICAgIG1hcC5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgICAgdHJhY2tTdWJUb09iaihrZXksIG1hcCk7XG4gICAgICB9KTtcbiAgICAgIG9ialRvU3Vicy5zZXQoXG4gICAgICAgIG9iaixcbiAgICAgICAgKGxvY2FsID0ge1xuICAgICAgICAgICRzdWJzJDogbWFwLFxuICAgICAgICAgICRhZGRTdWIkKHN1YnNjcmliZXI6IFN1YnNjcmliZXIsIGtleT86IHN0cmluZykge1xuICAgICAgICAgICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIG1hcC5zZXQoc3Vic2NyaWJlciwgbnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZXQgc3ViID0gbWFwLmdldChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgaWYgKHN1YiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWFwLnNldChzdWJzY3JpYmVyLCAoc3ViID0gbmV3IFNldCgpKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHN1Yikge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2tTdWJUb09iaihzdWJzY3JpYmVyLCBtYXApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgJG5vdGlmeVN1YnMkKGtleT86IHN0cmluZykge1xuICAgICAgICAgICAgbWFwLmZvckVhY2goKHZhbHVlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCAha2V5IHx8IHZhbHVlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgbm90aWZ5Q2hhbmdlKHN1YnNjcmliZXIsIGNvbnRhaW5lclN0YXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbDtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgICR0cnlHZXRMb2NhbCQ6IHRyeUdldExvY2FsLFxuICAgICRnZXRMb2NhbCQ6IGdldExvY2FsLFxuICAgICRjbGVhclN1YiQ6IGNsZWFyU3ViLFxuICB9O1xufTtcbiJdfQ==","import { assertDefined, assertTrue } from '../assert/assert';\nimport { assertQrl, isQrl } from '../import/qrl-class';\nimport { getContext, tryGetContext } from '../props/props';\nimport { getDocument } from '../util/dom';\nimport { isDocument, isElement, isNode, isQwikElement, isVirtualElement } from '../util/element';\nimport { logDebug, logWarn } from '../util/log';\nimport { ELEMENT_ID, ELEMENT_ID_PREFIX, QContainerAttr, QStyle } from '../util/markers';\nimport { qDev } from '../util/qdev';\nimport { createProxy, getOrCreateProxy, getProxyFlags, getProxyTarget, isConnected, isMutable, mutable, shouldSerialize, } from './q-object';\nimport { destroyWatch, WatchFlagsIsDirty, } from '../use/use-watch';\nimport { emitEvent } from '../util/event';\nimport { qError, QError_containerAlreadyPaused, QError_missingObjectId, QError_verifySerializable, } from '../error/error';\nimport { isArray, isObject, isSerializableObject, isString } from '../util/types';\nimport { directGetAttribute, directSetAttribute } from '../render/fast-calls';\nimport { isNotNullable, isPromise } from '../util/promises';\nimport { isResourceReturn } from '../use/use-resource';\nimport { createParser, serializeValue } from './serializers';\nimport { getContainerState } from '../render/container';\nimport { getQId } from '../render/execute-component';\nimport { processVirtualNodes } from '../render/dom/virtual-element';\n// <docs markdown=\"../readme.md#pauseContainer\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#pauseContainer instead)\n/**\n * Serialize the current state of the application into DOM\n *\n * @alpha\n */\n// </docs>\nexport const pauseContainer = async (elmOrDoc, defaultParentJSON) => {\n    const doc = getDocument(elmOrDoc);\n    const documentElement = doc.documentElement;\n    const containerEl = isDocument(elmOrDoc) ? documentElement : elmOrDoc;\n    if (directGetAttribute(containerEl, QContainerAttr) === 'paused') {\n        throw qError(QError_containerAlreadyPaused);\n    }\n    const parentJSON = defaultParentJSON ?? (containerEl === doc.documentElement ? doc.body : containerEl);\n    const data = await pauseFromContainer(containerEl);\n    const script = doc.createElement('script');\n    directSetAttribute(script, 'type', 'qwik/json');\n    script.textContent = escapeText(JSON.stringify(data.state, undefined, qDev ? '  ' : undefined));\n    parentJSON.appendChild(script);\n    directSetAttribute(containerEl, QContainerAttr, 'paused');\n    return data;\n};\nexport const moveStyles = (containerEl, containerState) => {\n    const head = containerEl.ownerDocument.head;\n    containerEl.querySelectorAll('style[q\\\\:style]').forEach((el) => {\n        containerState.$styleIds$.add(el.getAttribute(QStyle));\n        head.appendChild(el);\n    });\n};\nexport const resumeContainer = (containerEl) => {\n    if (!isContainer(containerEl)) {\n        logWarn('Skipping hydration because parent element is not q:container');\n        return;\n    }\n    const doc = getDocument(containerEl);\n    const isDocElement = containerEl === doc.documentElement;\n    const parentJSON = isDocElement ? doc.body : containerEl;\n    const script = getQwikJSON(parentJSON);\n    if (!script) {\n        logWarn('Skipping hydration qwik/json metadata was not found.');\n        return;\n    }\n    script.remove();\n    const containerState = getContainerState(containerEl);\n    moveStyles(containerEl, containerState);\n    const meta = JSON.parse(unescapeText(script.textContent || '{}'));\n    // Collect all elements\n    const elements = new Map();\n    const getObject = (id) => {\n        return getObjectImpl(id, elements, meta.objs, containerState);\n    };\n    let maxId = 0;\n    getNodesInScope(containerEl, hasQId).forEach((el) => {\n        const id = directGetAttribute(el, ELEMENT_ID);\n        assertDefined(id, `resume: element missed q:id`, el);\n        const ctx = getContext(el);\n        ctx.$id$ = id;\n        ctx.$mounted$ = true;\n        elements.set(ELEMENT_ID_PREFIX + id, el);\n        maxId = Math.max(maxId, strToInt(id));\n    });\n    containerState.$elementIndex$ = ++maxId;\n    const parser = createParser(getObject, containerState, doc);\n    // Revive proxies with subscriptions into the proxymap\n    reviveValues(meta.objs, meta.subs, getObject, containerState, parser);\n    // Rebuild target objects\n    for (const obj of meta.objs) {\n        reviveNestedObjects(obj, getObject, parser);\n    }\n    Object.entries(meta.ctx).forEach(([elementID, ctxMeta]) => {\n        const el = getObject(elementID);\n        assertDefined(el, `resume: cant find dom node for id`, elementID);\n        const ctx = getContext(el);\n        const qobj = ctxMeta.r;\n        const seq = ctxMeta.s;\n        const host = ctxMeta.h;\n        const contexts = ctxMeta.c;\n        const watches = ctxMeta.w;\n        if (qobj) {\n            ctx.$refMap$.push(...qobj.split(' ').map((part) => getObject(part)));\n        }\n        if (seq) {\n            ctx.$seq$ = seq.split(' ').map((part) => getObject(part));\n        }\n        if (watches) {\n            ctx.$watches$ = watches.split(' ').map((part) => getObject(part));\n        }\n        if (contexts) {\n            contexts.split(' ').map((part) => {\n                const [key, value] = part.split('=');\n                if (!ctx.$contexts$) {\n                    ctx.$contexts$ = new Map();\n                }\n                ctx.$contexts$.set(key, getObject(value));\n            });\n        }\n        // Restore sequence scoping\n        if (host) {\n            const [props, renderQrl] = host.split(' ');\n            assertDefined(props, `resume: props missing in host metadata`, host);\n            assertDefined(renderQrl, `resume: renderQRL missing in host metadata`, host);\n            ctx.$props$ = getObject(props);\n            ctx.$renderQrl$ = getObject(renderQrl);\n        }\n    });\n    directSetAttribute(containerEl, QContainerAttr, 'resumed');\n    logDebug('Container resumed');\n    emitEvent(containerEl, 'qresume', undefined, true);\n};\nexport const pauseFromContainer = async (containerEl) => {\n    const containerState = getContainerState(containerEl);\n    const contexts = getNodesInScope(containerEl, hasQId).map(tryGetContext);\n    return _pauseFromContexts(contexts, containerState);\n};\n/**\n * @internal\n */\nexport const _pauseFromContexts = async (elements, containerState) => {\n    const elementToIndex = new Map();\n    const collector = createCollector(containerState);\n    const listeners = [];\n    for (const ctx of elements) {\n        if (ctx.$listeners$) {\n            ctx.$listeners$.forEach((qrls, key) => {\n                qrls.forEach((qrl) => {\n                    listeners.push({\n                        key,\n                        qrl,\n                        el: ctx.$element$,\n                    });\n                });\n            });\n        }\n        for (const watch of ctx.$watches$) {\n            collector.$watches$.push(watch);\n        }\n    }\n    // No listeners implies static page\n    if (listeners.length === 0) {\n        return {\n            state: {\n                ctx: {},\n                objs: [],\n                subs: [],\n            },\n            objs: [],\n            listeners: [],\n            pendingContent: [],\n            mode: 'static',\n        };\n    }\n    // Listeners becomes the app roots\n    for (const listener of listeners) {\n        assertQrl(listener.qrl);\n        const captured = listener.qrl.$captureRef$;\n        if (captured) {\n            for (const obj of captured) {\n                await collectValue(obj, collector, true);\n            }\n        }\n        const ctx = tryGetContext(listener.el);\n        for (const obj of ctx.$refMap$) {\n            await collectValue(obj, collector, true);\n        }\n    }\n    // If at this point any component can render, we need to capture Context and Props\n    const canRender = collector.$elements$.length > 0;\n    if (canRender) {\n        for (const ctx of elements) {\n            await collectProps(ctx.$element$, ctx.$props$, collector);\n            if (ctx.$contexts$) {\n                for (const item of ctx.$contexts$.values()) {\n                    await collectValue(item, collector, false);\n                }\n            }\n        }\n    }\n    // Convert objSet to array\n    const objs = Array.from(new Set(collector.$objMap$.values()));\n    const objToId = new Map();\n    const getElementID = (el) => {\n        let id = elementToIndex.get(el);\n        if (id === undefined) {\n            if (el.isConnected) {\n                id = getQId(el);\n                if (!id) {\n                    console.warn('Missing ID', el);\n                }\n                else {\n                    id = ELEMENT_ID_PREFIX + id;\n                }\n            }\n            else {\n                id = null;\n            }\n            elementToIndex.set(el, id);\n        }\n        return id;\n    };\n    const getObjId = (obj) => {\n        let suffix = '';\n        if (isMutable(obj)) {\n            obj = obj.v;\n            suffix = '%';\n        }\n        if (isPromise(obj)) {\n            const { value, resolved } = getPromiseValue(obj);\n            obj = value;\n            if (resolved) {\n                suffix += '~';\n            }\n            else {\n                suffix += '_';\n            }\n        }\n        if (isObject(obj)) {\n            const target = getProxyTarget(obj);\n            if (target) {\n                suffix += '!';\n                obj = target;\n            }\n            if (!target && isQwikElement(obj)) {\n                const elID = getElementID(obj);\n                if (elID) {\n                    return elID + suffix;\n                }\n                return null;\n            }\n        }\n        if (collector.$objMap$.has(obj)) {\n            const value = collector.$objMap$.get(obj);\n            const id = objToId.get(value);\n            assertTrue(typeof id === 'number', 'Can not find ID for object');\n            return intToStr(id) + suffix;\n        }\n        return null;\n    };\n    const mustGetObjId = (obj) => {\n        const key = getObjId(obj);\n        if (key === null) {\n            throw qError(QError_missingObjectId, obj);\n        }\n        return key;\n    };\n    // Compute subscriptions\n    const subsMap = new Map();\n    objs.forEach((obj) => {\n        const flags = getProxyFlags(containerState.$proxyMap$.get(obj));\n        if (flags === undefined) {\n            return;\n        }\n        const subsObj = [];\n        if (flags > 0) {\n            subsObj.push({\n                subscriber: '$',\n                data: flags,\n            });\n        }\n        const subs = containerState.$subsManager$.$tryGetLocal$(obj)?.$subs$;\n        if (subs) {\n            subs.forEach((set, key) => {\n                if (isQwikElement(key)) {\n                    if (!collector.$elements$.includes(key)) {\n                        return;\n                    }\n                }\n                subsObj.push({\n                    subscriber: key,\n                    data: set ? Array.from(set) : null,\n                });\n            });\n        }\n        if (subsObj.length > 0) {\n            subsMap.set(obj, subsObj);\n        }\n    });\n    // Sort objects: the ones with subscriptions go first\n    objs.sort((a, b) => {\n        const isProxyA = subsMap.has(a) ? 0 : 1;\n        const isProxyB = subsMap.has(b) ? 0 : 1;\n        return isProxyA - isProxyB;\n    });\n    // Generate object ID by using a monotonic counter\n    let count = 0;\n    for (const obj of objs) {\n        objToId.set(obj, count);\n        count++;\n    }\n    // Serialize object subscriptions\n    const subs = objs\n        .map((obj) => {\n        const sub = subsMap.get(obj);\n        if (!sub) {\n            return null;\n        }\n        const subsObj = {};\n        sub.forEach(({ subscriber, data }) => {\n            if (subscriber === '$') {\n                subsObj[subscriber] = data;\n            }\n            else {\n                const id = getObjId(subscriber);\n                if (id !== null) {\n                    subsObj[id] = data;\n                }\n            }\n        });\n        return subsObj;\n    })\n        .filter(isNotNullable);\n    // Serialize objects\n    const convertedObjs = objs.map((obj) => {\n        const value = serializeValue(obj, getObjId, containerState);\n        if (value !== undefined) {\n            return value;\n        }\n        switch (typeof obj) {\n            case 'object':\n                if (obj === null) {\n                    return null;\n                }\n                if (isArray(obj)) {\n                    return obj.map(mustGetObjId);\n                }\n                if (isSerializableObject(obj)) {\n                    const output = {};\n                    Object.entries(obj).forEach(([key, value]) => {\n                        output[key] = mustGetObjId(value);\n                    });\n                    return output;\n                }\n                break;\n            case 'string':\n            case 'number':\n            case 'boolean':\n                return obj;\n        }\n        throw qError(QError_verifySerializable, obj);\n    });\n    const meta = {};\n    // Write back to the dom\n    elements.forEach((ctx) => {\n        const node = ctx.$element$;\n        assertDefined(ctx, `pause: missing context for dom node`, node);\n        const ref = ctx.$refMap$;\n        const props = ctx.$props$;\n        const contexts = ctx.$contexts$;\n        const watches = ctx.$watches$;\n        const renderQrl = ctx.$renderQrl$;\n        const seq = ctx.$seq$;\n        const metaValue = {};\n        const elementCaptured = collector.$elements$.includes(node);\n        let add = false;\n        if (ref.length > 0) {\n            const value = ref.map(mustGetObjId).join(' ');\n            if (value) {\n                metaValue.r = value;\n                add = true;\n            }\n        }\n        if (canRender) {\n            if (elementCaptured && props) {\n                const objs = [props];\n                if (renderQrl) {\n                    objs.push(renderQrl);\n                }\n                const value = objs.map(mustGetObjId).join(' ');\n                if (value) {\n                    metaValue.h = value;\n                    add = true;\n                }\n            }\n            if (watches.length > 0) {\n                const value = watches.map(getObjId).filter(isNotNullable).join(' ');\n                if (value) {\n                    metaValue.w = value;\n                    add = true;\n                }\n            }\n            if (elementCaptured && seq.length > 0) {\n                const value = seq.map(mustGetObjId).join(' ');\n                if (value) {\n                    metaValue.s = value;\n                    add = true;\n                }\n            }\n            if (contexts) {\n                const serializedContexts = [];\n                contexts.forEach((value, key) => {\n                    serializedContexts.push(`${key}=${mustGetObjId(value)}`);\n                });\n                const value = serializedContexts.join(' ');\n                if (value) {\n                    metaValue.c = value;\n                    add = true;\n                }\n            }\n        }\n        if (add) {\n            const elementID = getElementID(node);\n            assertDefined(elementID, `pause: can not generate ID for dom node`, node);\n            meta[elementID] = metaValue;\n        }\n    });\n    const pendingContent = [];\n    for (const watch of collector.$watches$) {\n        if (qDev) {\n            if (watch.$flags$ & WatchFlagsIsDirty) {\n                logWarn('Serializing dirty watch. Looks like an internal error.');\n            }\n            if (!isConnected(watch)) {\n                logWarn('Serializing disconneted watch. Looks like an internal error.');\n            }\n        }\n        destroyWatch(watch);\n    }\n    // Sanity check of serialized element\n    if (qDev) {\n        elementToIndex.forEach((value, el) => {\n            if (!value) {\n                logWarn('unconnected element', el.nodeName, '\\n');\n            }\n        });\n    }\n    return {\n        state: {\n            ctx: meta,\n            objs: convertedObjs,\n            subs,\n        },\n        pendingContent,\n        objs,\n        listeners,\n        mode: canRender ? 'render' : 'listeners',\n    };\n};\nexport const getQwikJSON = (parentElm) => {\n    let child = parentElm.lastElementChild;\n    while (child) {\n        if (child.tagName === 'SCRIPT' && directGetAttribute(child, 'type') === 'qwik/json') {\n            return child;\n        }\n        child = child.previousElementSibling;\n    }\n    return undefined;\n};\nconst SHOW_ELEMENT = 1;\nconst SHOW_COMMENT = 128;\nconst FILTER_ACCEPT = 1;\nconst FILTER_REJECT = 2;\nconst FILTER_SKIP = 3;\nexport const getNodesInScope = (parent, predicate) => {\n    const nodes = [];\n    if (predicate(parent)) {\n        nodes.push(parent);\n    }\n    const walker = parent.ownerDocument.createTreeWalker(parent, SHOW_ELEMENT | SHOW_COMMENT, {\n        acceptNode(node) {\n            if (isContainer(node)) {\n                return FILTER_REJECT;\n            }\n            return predicate(node) ? FILTER_ACCEPT : FILTER_SKIP;\n        },\n    });\n    const pars = [];\n    let currentNode = null;\n    while ((currentNode = walker.nextNode())) {\n        pars.push(processVirtualNodes(currentNode));\n    }\n    return pars;\n};\nconst reviveValues = (objs, subs, getObject, containerState, parser) => {\n    for (let i = 0; i < objs.length; i++) {\n        const value = objs[i];\n        if (isString(value)) {\n            objs[i] = parser.prepare(value);\n        }\n    }\n    for (let i = 0; i < subs.length; i++) {\n        const value = objs[i];\n        const sub = subs[i];\n        if (sub) {\n            const converted = new Map();\n            let flags = 0;\n            Object.entries(sub).forEach((entry) => {\n                if (entry[0] === '$') {\n                    flags = entry[1];\n                    return;\n                }\n                const el = getObject(entry[0]);\n                if (!el) {\n                    logWarn('QWIK can not revive subscriptions because of missing element ID', entry, value);\n                    return;\n                }\n                const set = entry[1] === null ? null : new Set(entry[1]);\n                converted.set(el, set);\n            });\n            createProxy(value, containerState, flags, converted);\n        }\n    }\n};\nconst reviveNestedObjects = (obj, getObject, parser) => {\n    if (parser.fill(obj)) {\n        return;\n    }\n    if (obj && typeof obj == 'object') {\n        if (isArray(obj)) {\n            for (let i = 0; i < obj.length; i++) {\n                const value = obj[i];\n                if (typeof value == 'string') {\n                    obj[i] = getObject(value);\n                }\n                else {\n                    reviveNestedObjects(value, getObject, parser);\n                }\n            }\n        }\n        else if (isSerializableObject(obj)) {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (typeof value == 'string') {\n                        obj[key] = getObject(value);\n                    }\n                    else {\n                        reviveNestedObjects(value, getObject, parser);\n                    }\n                }\n            }\n        }\n    }\n};\nconst OBJECT_TRANSFORMS = {\n    '!': (obj, containerState) => {\n        return containerState.$proxyMap$.get(obj) ?? getOrCreateProxy(obj, containerState);\n    },\n    '%': (obj) => {\n        return mutable(obj);\n    },\n    '~': (obj) => {\n        return Promise.resolve(obj);\n    },\n    _: (obj) => {\n        return Promise.reject(obj);\n    },\n};\nconst getObjectImpl = (id, elements, objs, containerState) => {\n    assertTrue(typeof id === 'string' && id.length > 0, 'resume: id must be an non-empty string, got:', id);\n    if (id.startsWith(ELEMENT_ID_PREFIX)) {\n        assertTrue(elements.has(id), `missing element for id:`, id);\n        return elements.get(id);\n    }\n    const index = strToInt(id);\n    assertTrue(objs.length > index, 'resume: index is out of bounds', id);\n    let obj = objs[index];\n    for (let i = id.length - 1; i >= 0; i--) {\n        const code = id[i];\n        const transform = OBJECT_TRANSFORMS[code];\n        if (!transform) {\n            break;\n        }\n        obj = transform(obj, containerState);\n    }\n    return obj;\n};\nconst collectProps = async (el, props, collector) => {\n    const subs = collector.$containerState$.$subsManager$.$tryGetLocal$(getProxyTarget(props))?.$subs$;\n    if (subs && subs.has(el)) {\n        // The host element read the props\n        await collectElement(el, collector);\n    }\n};\nconst createCollector = (containerState) => {\n    return {\n        $seen$: new Set(),\n        $seenLeaks$: new Set(),\n        $objMap$: new Map(),\n        $elements$: [],\n        $watches$: [],\n        $containerState$: containerState,\n    };\n};\nconst collectElement = async (el, collector) => {\n    if (collector.$elements$.includes(el)) {\n        return;\n    }\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        collector.$elements$.push(el);\n        if (ctx.$props$) {\n            await collectValue(ctx.$props$, collector, false);\n        }\n        if (ctx.$renderQrl$) {\n            await collectValue(ctx.$renderQrl$, collector, false);\n        }\n        for (const obj of ctx.$seq$) {\n            await collectValue(obj, collector, false);\n        }\n        for (const obj of ctx.$watches$) {\n            await collectValue(obj, collector, false);\n        }\n        if (ctx.$contexts$) {\n            for (const obj of ctx.$contexts$.values()) {\n                await collectValue(obj, collector, false);\n            }\n        }\n    }\n};\nexport const escapeText = (str) => {\n    return str.replace(/<(\\/?script)/g, '\\\\x3C$1');\n};\nexport const unescapeText = (str) => {\n    return str.replace(/\\\\x3C(\\/?script)/g, '<$1');\n};\nconst collectSubscriptions = async (target, collector) => {\n    const subs = collector.$containerState$.$subsManager$.$tryGetLocal$(target)?.$subs$;\n    if (subs) {\n        if (collector.$seen$.has(subs)) {\n            return;\n        }\n        collector.$seen$.add(subs);\n        for (const key of Array.from(subs.keys())) {\n            if (isVirtualElement(key)) {\n                await collectElement(key, collector);\n            }\n            else {\n                await collectValue(key, collector, true);\n            }\n        }\n    }\n};\nconst PROMISE_VALUE = Symbol();\nconst resolvePromise = (promise) => {\n    return promise.then((value) => {\n        const v = {\n            resolved: true,\n            value,\n        };\n        promise[PROMISE_VALUE] = v;\n        return value;\n    }, (value) => {\n        const v = {\n            resolved: false,\n            value,\n        };\n        promise[PROMISE_VALUE] = v;\n        return value;\n    });\n};\nconst getPromiseValue = (promise) => {\n    assertTrue(PROMISE_VALUE in promise, 'pause: promise was not resolved previously', promise);\n    return promise[PROMISE_VALUE];\n};\nconst collectValue = async (obj, collector, leaks) => {\n    const input = obj;\n    const seen = leaks ? collector.$seenLeaks$ : collector.$seen$;\n    if (seen.has(obj)) {\n        return;\n    }\n    seen.add(obj);\n    if (!shouldSerialize(obj) || obj === undefined) {\n        collector.$objMap$.set(obj, undefined);\n        return;\n    }\n    if (obj != null) {\n        // Handle QRL\n        if (isQrl(obj)) {\n            collector.$objMap$.set(obj, obj);\n            if (obj.$captureRef$) {\n                for (const item of obj.$captureRef$) {\n                    await collectValue(item, collector, leaks);\n                }\n            }\n            return;\n        }\n        // Handle Objets\n        if (typeof obj === 'object') {\n            // Handle promises\n            if (isPromise(obj)) {\n                const value = await resolvePromise(obj);\n                await collectValue(value, collector, leaks);\n                return;\n            }\n            const target = getProxyTarget(obj);\n            // Handle dom nodes\n            if (!target && isNode(obj)) {\n                if (isDocument(obj)) {\n                    collector.$objMap$.set(obj, obj);\n                }\n                else if (!isQwikElement(obj)) {\n                    throw qError(QError_verifySerializable, obj);\n                }\n                return;\n            }\n            // If proxy collect subscriptions\n            if (target) {\n                if (leaks) {\n                    await collectSubscriptions(target, collector);\n                }\n                obj = target;\n                if (seen.has(obj)) {\n                    return;\n                }\n                seen.add(obj);\n                if (isResourceReturn(obj)) {\n                    collector.$objMap$.set(target, target);\n                    await collectValue(obj.promise, collector, leaks);\n                    await collectValue(obj.resolved, collector, leaks);\n                    return;\n                }\n            }\n            collector.$objMap$.set(obj, obj);\n            if (isArray(obj)) {\n                for (let i = 0; i < obj.length; i++) {\n                    await collectValue(input[i], collector, leaks);\n                }\n            }\n            else {\n                for (const key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        await collectValue(input[key], collector, leaks);\n                    }\n                }\n            }\n            return;\n        }\n    }\n    collector.$objMap$.set(obj, obj);\n};\nexport const isContainer = (el) => {\n    return isElement(el) && el.hasAttribute(QContainerAttr);\n};\nconst hasQId = (el) => {\n    const node = processVirtualNodes(el);\n    if (isQwikElement(node)) {\n        return node.hasAttribute(ELEMENT_ID);\n    }\n    return false;\n};\nexport const intToStr = (nu) => {\n    return nu.toString(36);\n};\nexport const strToInt = (nu) => {\n    return parseInt(nu, 36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3N0b3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsVUFBVSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsVUFBVSxFQUFZLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pHLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ2hELE9BQU8sRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3hGLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEMsT0FBTyxFQUNMLFdBQVcsRUFDWCxnQkFBZ0IsRUFDaEIsYUFBYSxFQUNiLGNBQWMsRUFDZCxXQUFXLEVBQ1gsU0FBUyxFQUNULE9BQU8sRUFDUCxlQUFlLEdBQ2hCLE1BQU0sWUFBWSxDQUFDO0FBQ3BCLE9BQU8sRUFDTCxZQUFZLEVBR1osaUJBQWlCLEdBQ2xCLE1BQU0sa0JBQWtCLENBQUM7QUFFMUIsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxQyxPQUFPLEVBQ0wsTUFBTSxFQUNOLDZCQUE2QixFQUM3QixzQkFBc0IsRUFDdEIseUJBQXlCLEdBQzFCLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFR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LEVBQUUsRUFBRTtJQUN0QyxPQUFPLFNBQVMsQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLENBQUMsWUFBWSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0FBQzFELENBQUMsQ0FBQztBQUVGLE1BQU0sTUFBTSxHQUFHLENBQUMsRUFBUSxFQUFFLEVBQUU7SUFDMUIsTUFBTSxJQUFJLEdBQUcsbUJBQW1CLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDckMsSUFBSSxhQUFhLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDdkIsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0tBQ3RDO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxFQUFVLEVBQUUsRUFBRTtJQUNyQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDekIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsRUFBVSxFQUFFLEVBQUU7SUFDckMsT0FBTyxRQUFRLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzFCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydFRydWUgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IGFzc2VydFFybCwgaXNRcmwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IGdldENvbnRleHQsIFFDb250ZXh0LCB0cnlHZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBpc0RvY3VtZW50LCBpc0VsZW1lbnQsIGlzTm9kZSwgaXNRd2lrRWxlbWVudCwgaXNWaXJ0dWFsRWxlbWVudCB9IGZyb20gJy4uL3V0aWwvZWxlbWVudCc7XG5pbXBvcnQgeyBsb2dEZWJ1ZywgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IEVMRU1FTlRfSUQsIEVMRU1FTlRfSURfUFJFRklYLCBRQ29udGFpbmVyQXR0ciwgUVN0eWxlIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHtcbiAgY3JlYXRlUHJveHksXG4gIGdldE9yQ3JlYXRlUHJveHksXG4gIGdldFByb3h5RmxhZ3MsXG4gIGdldFByb3h5VGFyZ2V0LFxuICBpc0Nvbm5lY3RlZCxcbiAgaXNNdXRhYmxlLFxuICBtdXRhYmxlLFxuICBzaG91bGRTZXJpYWxpemUsXG59IGZyb20gJy4vcS1vYmplY3QnO1xuaW1wb3J0IHtcbiAgZGVzdHJveVdhdGNoLFxuICBTdWJzY3JpYmVyLFxuICBTdWJzY3JpYmVyRGVzY3JpcHRvcixcbiAgV2F0Y2hGbGFnc0lzRGlydHksXG59IGZyb20gJy4uL3VzZS91c2Utd2F0Y2gnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBlbWl0RXZlbnQgfSBmcm9tICcuLi91dGlsL2V2ZW50JztcbmltcG9ydCB7XG4gIHFFcnJvcixcbiAgUUVycm9yX2NvbnRhaW5lckFscmVhZHlQYXVzZWQsXG4gIFFFcnJvcl9taXNzaW5nT2JqZWN0SWQsXG4gIFFFcnJvcl92ZXJpZnlTZXJpYWxpemFibGUsXG59IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGlzQXJyYXksIGlzT2JqZWN0LCBpc1NlcmlhbGl6YWJsZU9iamVjdCwgaXNTdHJpbmcgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IGRpcmVjdEdldEF0dHJpYnV0ZSwgZGlyZWN0U2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vcmVuZGVyL2Zhc3QtY2FsbHMnO1xuaW1wb3J0IHsgaXNOb3ROdWxsYWJsZSwgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBpc1Jlc291cmNlUmV0dXJuIH0gZnJvbSAnLi4vdXNlL3VzZS1yZXNvdXJjZSc7XG5pbXBvcnQgeyBjcmVhdGVQYXJzZXIsIFBhcnNlciwgc2VyaWFsaXplVmFsdWUgfSBmcm9tICcuL3NlcmlhbGl6ZXJzJztcbmltcG9ydCB7IENvbnRhaW5lclN0YXRlLCBnZXRDb250YWluZXJTdGF0ZSB9IGZyb20gJy4uL3JlbmRlci9jb250YWluZXInO1xuaW1wb3J0IHsgZ2V0UUlkIH0gZnJvbSAnLi4vcmVuZGVyL2V4ZWN1dGUtY29tcG9uZW50JztcbmltcG9ydCB7IHByb2Nlc3NWaXJ0dWFsTm9kZXMsIFF3aWtFbGVtZW50IH0gZnJvbSAnLi4vcmVuZGVyL2RvbS92aXJ0dWFsLWVsZW1lbnQnO1xuXG5leHBvcnQgdHlwZSBHZXRPYmplY3QgPSAoaWQ6IHN0cmluZykgPT4gYW55O1xuZXhwb3J0IHR5cGUgR2V0T2JqSUQgPSAob2JqOiBhbnkpID0+IHN0cmluZyB8IG51bGw7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3BhdXNlQ29udGFpbmVyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3BhdXNlQ29udGFpbmVyIGluc3RlYWQpXG4vKipcbiAqIFNlcmlhbGl6ZSB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYXBwbGljYXRpb24gaW50byBET01cbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHBhdXNlQ29udGFpbmVyID0gYXN5bmMgKFxuICBlbG1PckRvYzogRWxlbWVudCB8IERvY3VtZW50LFxuICBkZWZhdWx0UGFyZW50SlNPTj86IEVsZW1lbnRcbik6IFByb21pc2U8U25hcHNob3RSZXN1bHQ+ID0+IHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZWxtT3JEb2MpO1xuICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICBjb25zdCBjb250YWluZXJFbCA9IGlzRG9jdW1lbnQoZWxtT3JEb2MpID8gZG9jdW1lbnRFbGVtZW50IDogZWxtT3JEb2M7XG4gIGlmIChkaXJlY3RHZXRBdHRyaWJ1dGUoY29udGFpbmVyRWwsIFFDb250YWluZXJBdHRyKSA9PT0gJ3BhdXNlZCcpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX2NvbnRhaW5lckFscmVhZHlQYXVzZWQpO1xuICB9XG4gIGNvbnN0IHBhcmVudEpTT04gPVxuICAgIGRlZmF1bHRQYXJlbnRKU09OID8/IChjb250YWluZXJFbCA9PT0gZG9jLmRvY3VtZW50RWxlbWVudCA/IGRvYy5ib2R5IDogY29udGFpbmVyRWwpO1xuICBjb25zdCBkYXRhID0gYXdhaXQgcGF1c2VGcm9tQ29udGFpbmVyKGNvbnRhaW5lckVsKTtcbiAgY29uc3Qgc2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICBkaXJlY3RTZXRBdHRyaWJ1dGUoc2NyaXB0LCAndHlwZScsICdxd2lrL2pzb24nKTtcbiAgc2NyaXB0LnRleHRDb250ZW50ID0gZXNjYXBlVGV4dChKU09OLnN0cmluZ2lmeShkYXRhLnN0YXRlLCB1bmRlZmluZWQsIHFEZXYgPyAnICAnIDogdW5kZWZpbmVkKSk7XG4gIHBhcmVudEpTT04uYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgZGlyZWN0U2V0QXR0cmlidXRlKGNvbnRhaW5lckVsLCBRQ29udGFpbmVyQXR0ciwgJ3BhdXNlZCcpO1xuICByZXR1cm4gZGF0YTtcbn07XG5cbmV4cG9ydCBjb25zdCBtb3ZlU3R5bGVzID0gKGNvbnRhaW5lckVsOiBFbGVtZW50LCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHtcbiAgY29uc3QgaGVhZCA9IGNvbnRhaW5lckVsLm93bmVyRG9jdW1lbnQuaGVhZDtcbiAgY29udGFpbmVyRWwucXVlcnlTZWxlY3RvckFsbCgnc3R5bGVbcVxcXFw6c3R5bGVdJykuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBjb250YWluZXJTdGF0ZS4kc3R5bGVJZHMkLmFkZChlbC5nZXRBdHRyaWJ1dGUoUVN0eWxlKSEpO1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQoZWwpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXN1bWVDb250YWluZXIgPSAoY29udGFpbmVyRWw6IEVsZW1lbnQpID0+IHtcbiAgaWYgKCFpc0NvbnRhaW5lcihjb250YWluZXJFbCkpIHtcbiAgICBsb2dXYXJuKCdTa2lwcGluZyBoeWRyYXRpb24gYmVjYXVzZSBwYXJlbnQgZWxlbWVudCBpcyBub3QgcTpjb250YWluZXInKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoY29udGFpbmVyRWwpO1xuICBjb25zdCBpc0RvY0VsZW1lbnQgPSBjb250YWluZXJFbCA9PT0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgY29uc3QgcGFyZW50SlNPTiA9IGlzRG9jRWxlbWVudCA/IGRvYy5ib2R5IDogY29udGFpbmVyRWw7XG4gIGNvbnN0IHNjcmlwdCA9IGdldFF3aWtKU09OKHBhcmVudEpTT04pO1xuICBpZiAoIXNjcmlwdCkge1xuICAgIGxvZ1dhcm4oJ1NraXBwaW5nIGh5ZHJhdGlvbiBxd2lrL2pzb24gbWV0YWRhdGEgd2FzIG5vdCBmb3VuZC4nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgc2NyaXB0LnJlbW92ZSgpO1xuXG4gIGNvbnN0IGNvbnRhaW5lclN0YXRlID0gZ2V0Q29udGFpbmVyU3RhdGUoY29udGFpbmVyRWwpO1xuICBtb3ZlU3R5bGVzKGNvbnRhaW5lckVsLCBjb250YWluZXJTdGF0ZSk7XG4gIGNvbnN0IG1ldGEgPSBKU09OLnBhcnNlKHVuZXNjYXBlVGV4dChzY3JpcHQudGV4dENvbnRlbnQgfHwgJ3t9JykpIGFzIFNuYXBzaG90U3RhdGU7XG5cbiAgLy8gQ29sbGVjdCBhbGwgZWxlbWVudHNcbiAgY29uc3QgZWxlbWVudHMgPSBuZXcgTWFwPHN0cmluZywgUXdpa0VsZW1lbnQ+KCk7XG5cbiAgY29uc3QgZ2V0T2JqZWN0OiBHZXRPYmplY3QgPSAoaWQpID0+IHtcbiAgICByZXR1cm4gZ2V0T2JqZWN0SW1wbChpZCwgZWxlbWVudHMsIG1ldGEub2JqcywgY29udGFpbmVyU3RhdGUpO1xuICB9O1xuXG4gIGxldCBtYXhJZCA9IDA7XG4gIGdldE5vZGVzSW5TY29wZShjb250YWluZXJFbCwgaGFzUUlkKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZGlyZWN0R2V0QXR0cmlidXRlKGVsLCBFTEVNRU5UX0lEKTtcbiAgICBhc3NlcnREZWZpbmVkKGlkLCBgcmVzdW1lOiBlbGVtZW50IG1pc3NlZCBxOmlkYCwgZWwpO1xuICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuICAgIGN0eC4kaWQkID0gaWQ7XG4gICAgY3R4LiRtb3VudGVkJCA9IHRydWU7XG4gICAgZWxlbWVudHMuc2V0KEVMRU1FTlRfSURfUFJFRklYICsgaWQsIGVsKTtcbiAgICBtYXhJZCA9IE1hdGgubWF4KG1heElkLCBzdHJUb0ludChpZCkpO1xuICB9KTtcbiAgY29udGFpbmVyU3RhdGUuJGVsZW1lbnRJbmRleCQgPSArK21heElkO1xuXG4gIGNvbnN0IHBhcnNlciA9IGNyZWF0ZVBhcnNlcihnZXRPYmplY3QsIGNvbnRhaW5lclN0YXRlLCBkb2MpO1xuXG4gIC8vIFJldml2ZSBwcm94aWVzIHdpdGggc3Vic2NyaXB0aW9ucyBpbnRvIHRoZSBwcm94eW1hcFxuICByZXZpdmVWYWx1ZXMobWV0YS5vYmpzLCBtZXRhLnN1YnMsIGdldE9iamVjdCwgY29udGFpbmVyU3RhdGUsIHBhcnNlcik7XG5cbiAgLy8gUmVidWlsZCB0YXJnZXQgb2JqZWN0c1xuICBmb3IgKGNvbnN0IG9iaiBvZiBtZXRhLm9ianMpIHtcbiAgICByZXZpdmVOZXN0ZWRPYmplY3RzKG9iaiwgZ2V0T2JqZWN0LCBwYXJzZXIpO1xuICB9XG5cbiAgT2JqZWN0LmVudHJpZXMobWV0YS5jdHgpLmZvckVhY2goKFtlbGVtZW50SUQsIGN0eE1ldGFdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBnZXRPYmplY3QoZWxlbWVudElEKSBhcyBFbGVtZW50O1xuICAgIGFzc2VydERlZmluZWQoZWwsIGByZXN1bWU6IGNhbnQgZmluZCBkb20gbm9kZSBmb3IgaWRgLCBlbGVtZW50SUQpO1xuICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuICAgIGNvbnN0IHFvYmogPSBjdHhNZXRhLnI7XG4gICAgY29uc3Qgc2VxID0gY3R4TWV0YS5zO1xuICAgIGNvbnN0IGhvc3QgPSBjdHhNZXRhLmg7XG4gICAgY29uc3QgY29udGV4dHMgPSBjdHhNZXRhLmM7XG4gICAgY29uc3Qgd2F0Y2hlcyA9IGN0eE1ldGEudztcblxuICAgIGlmIChxb2JqKSB7XG4gICAgICBjdHguJHJlZk1hcCQucHVzaCguLi5xb2JqLnNwbGl0KCcgJykubWFwKChwYXJ0KSA9PiBnZXRPYmplY3QocGFydCkpKTtcbiAgICB9XG4gICAgaWYgKHNlcSkge1xuICAgICAgY3R4LiRzZXEkID0gc2VxLnNwbGl0KCcgJykubWFwKChwYXJ0KSA9PiBnZXRPYmplY3QocGFydCkpO1xuICAgIH1cbiAgICBpZiAod2F0Y2hlcykge1xuICAgICAgY3R4LiR3YXRjaGVzJCA9IHdhdGNoZXMuc3BsaXQoJyAnKS5tYXAoKHBhcnQpID0+IGdldE9iamVjdChwYXJ0KSk7XG4gICAgfVxuICAgIGlmIChjb250ZXh0cykge1xuICAgICAgY29udGV4dHMuc3BsaXQoJyAnKS5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gcGFydC5zcGxpdCgnPScpO1xuICAgICAgICBpZiAoIWN0eC4kY29udGV4dHMkKSB7XG4gICAgICAgICAgY3R4LiRjb250ZXh0cyQgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LiRjb250ZXh0cyQuc2V0KGtleSwgZ2V0T2JqZWN0KHZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBSZXN0b3JlIHNlcXVlbmNlIHNjb3BpbmdcbiAgICBpZiAoaG9zdCkge1xuICAgICAgY29uc3QgW3Byb3BzLCByZW5kZXJRcmxdID0gaG9zdC5zcGxpdCgnICcpO1xuICAgICAgYXNzZXJ0RGVmaW5lZChwcm9wcywgYHJlc3VtZTogcHJvcHMgbWlzc2luZyBpbiBob3N0IG1ldGFkYXRhYCwgaG9zdCk7XG4gICAgICBhc3NlcnREZWZpbmVkKHJlbmRlclFybCwgYHJlc3VtZTogcmVuZGVyUVJMIG1pc3NpbmcgaW4gaG9zdCBtZXRhZGF0YWAsIGhvc3QpO1xuICAgICAgY3R4LiRwcm9wcyQgPSBnZXRPYmplY3QocHJvcHMpO1xuICAgICAgY3R4LiRyZW5kZXJRcmwkID0gZ2V0T2JqZWN0KHJlbmRlclFybCk7XG4gICAgfVxuICB9KTtcblxuICBkaXJlY3RTZXRBdHRyaWJ1dGUoY29udGFpbmVyRWwsIFFDb250YWluZXJBdHRyLCAncmVzdW1lZCcpO1xuICBsb2dEZWJ1ZygnQ29udGFpbmVyIHJlc3VtZWQnKTtcbiAgZW1pdEV2ZW50KGNvbnRhaW5lckVsLCAncXJlc3VtZScsIHVuZGVmaW5lZCwgdHJ1ZSk7XG59O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNuYXBzaG90TWV0YVZhbHVlIHtcbiAgcj86IHN0cmluZzsgLy8gcTpvYmpcbiAgdz86IHN0cmluZzsgLy8gcTp3YXRjaGVzXG4gIHM/OiBzdHJpbmc7IC8vIHE6c2VxXG4gIGg/OiBzdHJpbmc7IC8vIHE6aG9zdFxuICBjPzogc3RyaW5nOyAvLyBxOmNvbnRleHRcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgU25hcHNob3RNZXRhID0gUmVjb3JkPHN0cmluZywgU25hcHNob3RNZXRhVmFsdWU+O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNuYXBzaG90U3RhdGUge1xuICBjdHg6IFNuYXBzaG90TWV0YTtcbiAgb2JqczogYW55W107XG4gIHN1YnM6IGFueVtdO1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNuYXBzaG90TGlzdGVuZXIge1xuICBrZXk6IHN0cmluZztcbiAgcXJsOiBRUkw8YW55PjtcbiAgZWw6IEVsZW1lbnQ7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU25hcHNob3RSZXN1bHQge1xuICBzdGF0ZTogU25hcHNob3RTdGF0ZTtcbiAgbGlzdGVuZXJzOiBTbmFwc2hvdExpc3RlbmVyW107XG4gIG9ianM6IGFueVtdO1xuICBtb2RlOiAncmVuZGVyJyB8ICdsaXN0ZW5lcnMnIHwgJ3N0YXRpYyc7XG4gIHBlbmRpbmdDb250ZW50OiBQcm9taXNlPHN0cmluZz5bXTtcbn1cblxuZXhwb3J0IGNvbnN0IHBhdXNlRnJvbUNvbnRhaW5lciA9IGFzeW5jIChjb250YWluZXJFbDogRWxlbWVudCk6IFByb21pc2U8U25hcHNob3RSZXN1bHQ+ID0+IHtcbiAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBnZXRDb250YWluZXJTdGF0ZShjb250YWluZXJFbCk7XG4gIGNvbnN0IGNvbnRleHRzID0gZ2V0Tm9kZXNJblNjb3BlKGNvbnRhaW5lckVsLCBoYXNRSWQpLm1hcCh0cnlHZXRDb250ZXh0KSBhcyBRQ29udGV4dFtdO1xuICByZXR1cm4gX3BhdXNlRnJvbUNvbnRleHRzKGNvbnRleHRzLCBjb250YWluZXJTdGF0ZSk7XG59O1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY29uc3QgX3BhdXNlRnJvbUNvbnRleHRzID0gYXN5bmMgKFxuICBlbGVtZW50czogUUNvbnRleHRbXSxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlXG4pOiBQcm9taXNlPFNuYXBzaG90UmVzdWx0PiA9PiB7XG4gIGNvbnN0IGVsZW1lbnRUb0luZGV4ID0gbmV3IE1hcDxRd2lrRWxlbWVudCwgc3RyaW5nIHwgbnVsbD4oKTtcbiAgY29uc3QgY29sbGVjdG9yID0gY3JlYXRlQ29sbGVjdG9yKGNvbnRhaW5lclN0YXRlKTtcbiAgY29uc3QgbGlzdGVuZXJzOiBTbmFwc2hvdExpc3RlbmVyW10gPSBbXTtcbiAgZm9yIChjb25zdCBjdHggb2YgZWxlbWVudHMpIHtcbiAgICBpZiAoY3R4LiRsaXN0ZW5lcnMkKSB7XG4gICAgICBjdHguJGxpc3RlbmVycyQuZm9yRWFjaCgocXJscywga2V5KSA9PiB7XG4gICAgICAgIHFybHMuZm9yRWFjaCgocXJsKSA9PiB7XG4gICAgICAgICAgbGlzdGVuZXJzLnB1c2goe1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgcXJsLFxuICAgICAgICAgICAgZWw6IGN0eC4kZWxlbWVudCQgYXMgRWxlbWVudCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB3YXRjaCBvZiBjdHguJHdhdGNoZXMkKSB7XG4gICAgICBjb2xsZWN0b3IuJHdhdGNoZXMkLnB1c2god2F0Y2gpO1xuICAgIH1cbiAgfVxuXG4gIC8vIE5vIGxpc3RlbmVycyBpbXBsaWVzIHN0YXRpYyBwYWdlXG4gIGlmIChsaXN0ZW5lcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiB7XG4gICAgICAgIGN0eDoge30sXG4gICAgICAgIG9ianM6IFtdLFxuICAgICAgICBzdWJzOiBbXSxcbiAgICAgIH0sXG4gICAgICBvYmpzOiBbXSxcbiAgICAgIGxpc3RlbmVyczogW10sXG4gICAgICBwZW5kaW5nQ29udGVudDogW10sXG4gICAgICBtb2RlOiAnc3RhdGljJyxcbiAgICB9O1xuICB9XG5cbiAgLy8gTGlzdGVuZXJzIGJlY29tZXMgdGhlIGFwcCByb290c1xuICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGxpc3RlbmVycykge1xuICAgIGFzc2VydFFybChsaXN0ZW5lci5xcmwpO1xuICAgIGNvbnN0IGNhcHR1cmVkID0gbGlzdGVuZXIucXJsLiRjYXB0dXJlUmVmJDtcbiAgICBpZiAoY2FwdHVyZWQpIHtcbiAgICAgIGZvciAoY29uc3Qgb2JqIG9mIGNhcHR1cmVkKSB7XG4gICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3RvciwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGN0eCA9IHRyeUdldENvbnRleHQobGlzdGVuZXIuZWwpITtcbiAgICBmb3IgKGNvbnN0IG9iaiBvZiBjdHguJHJlZk1hcCQpIHtcbiAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3RvciwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYXQgdGhpcyBwb2ludCBhbnkgY29tcG9uZW50IGNhbiByZW5kZXIsIHdlIG5lZWQgdG8gY2FwdHVyZSBDb250ZXh0IGFuZCBQcm9wc1xuICBjb25zdCBjYW5SZW5kZXIgPSBjb2xsZWN0b3IuJGVsZW1lbnRzJC5sZW5ndGggPiAwO1xuICBpZiAoY2FuUmVuZGVyKSB7XG4gICAgZm9yIChjb25zdCBjdHggb2YgZWxlbWVudHMpIHtcbiAgICAgIGF3YWl0IGNvbGxlY3RQcm9wcyhjdHguJGVsZW1lbnQkLCBjdHguJHByb3BzJCwgY29sbGVjdG9yKTtcblxuICAgICAgaWYgKGN0eC4kY29udGV4dHMkKSB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBjdHguJGNvbnRleHRzJC52YWx1ZXMoKSkge1xuICAgICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShpdGVtLCBjb2xsZWN0b3IsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENvbnZlcnQgb2JqU2V0IHRvIGFycmF5XG4gIGNvbnN0IG9ianMgPSBBcnJheS5mcm9tKG5ldyBTZXQoY29sbGVjdG9yLiRvYmpNYXAkLnZhbHVlcygpKSk7XG5cbiAgY29uc3Qgb2JqVG9JZCA9IG5ldyBNYXA8YW55LCBudW1iZXI+KCk7XG5cbiAgY29uc3QgZ2V0RWxlbWVudElEID0gKGVsOiBRd2lrRWxlbWVudCk6IHN0cmluZyB8IG51bGwgPT4ge1xuICAgIGxldCBpZCA9IGVsZW1lbnRUb0luZGV4LmdldChlbCk7XG4gICAgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChlbC5pc0Nvbm5lY3RlZCkge1xuICAgICAgICBpZCA9IGdldFFJZChlbCk7XG4gICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ01pc3NpbmcgSUQnLCBlbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWQgPSBFTEVNRU5UX0lEX1BSRUZJWCArIGlkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBlbGVtZW50VG9JbmRleC5zZXQoZWwsIGlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkO1xuICB9O1xuXG4gIGNvbnN0IGdldE9iaklkID0gKG9iajogYW55KTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgbGV0IHN1ZmZpeCA9ICcnO1xuICAgIGlmIChpc011dGFibGUob2JqKSkge1xuICAgICAgb2JqID0gb2JqLnY7XG4gICAgICBzdWZmaXggPSAnJSc7XG4gICAgfVxuICAgIGlmIChpc1Byb21pc2Uob2JqKSkge1xuICAgICAgY29uc3QgeyB2YWx1ZSwgcmVzb2x2ZWQgfSA9IGdldFByb21pc2VWYWx1ZShvYmopO1xuICAgICAgb2JqID0gdmFsdWU7XG4gICAgICBpZiAocmVzb2x2ZWQpIHtcbiAgICAgICAgc3VmZml4ICs9ICd+JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN1ZmZpeCArPSAnXyc7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBnZXRQcm94eVRhcmdldChvYmopO1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBzdWZmaXggKz0gJyEnO1xuICAgICAgICBvYmogPSB0YXJnZXQ7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGFyZ2V0ICYmIGlzUXdpa0VsZW1lbnQob2JqKSkge1xuICAgICAgICBjb25zdCBlbElEID0gZ2V0RWxlbWVudElEKG9iaiBhcyBFbGVtZW50KTtcbiAgICAgICAgaWYgKGVsSUQpIHtcbiAgICAgICAgICByZXR1cm4gZWxJRCArIHN1ZmZpeDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbGxlY3Rvci4kb2JqTWFwJC5oYXMob2JqKSkge1xuICAgICAgY29uc3QgdmFsdWUgPSBjb2xsZWN0b3IuJG9iak1hcCQuZ2V0KG9iaik7XG4gICAgICBjb25zdCBpZCA9IG9ialRvSWQuZ2V0KHZhbHVlKTtcbiAgICAgIGFzc2VydFRydWUodHlwZW9mIGlkID09PSAnbnVtYmVyJywgJ0NhbiBub3QgZmluZCBJRCBmb3Igb2JqZWN0Jyk7XG4gICAgICByZXR1cm4gaW50VG9TdHIoaWQgYXMgYW55KSArIHN1ZmZpeDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgY29uc3QgbXVzdEdldE9iaklkID0gKG9iajogYW55KTogc3RyaW5nID0+IHtcbiAgICBjb25zdCBrZXkgPSBnZXRPYmpJZChvYmopO1xuICAgIGlmIChrZXkgPT09IG51bGwpIHtcbiAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfbWlzc2luZ09iamVjdElkLCBvYmopO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9O1xuXG4gIC8vIENvbXB1dGUgc3Vic2NyaXB0aW9uc1xuICBjb25zdCBzdWJzTWFwID0gbmV3IE1hcDxcbiAgICBhbnksXG4gICAgeyBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyIHwgJyQnOyBkYXRhOiBzdHJpbmdbXSB8IG51bWJlciB8IG51bGwgfVtdXG4gID4oKTtcbiAgb2Jqcy5mb3JFYWNoKChvYmopID0+IHtcbiAgICBjb25zdCBmbGFncyA9IGdldFByb3h5RmxhZ3MoY29udGFpbmVyU3RhdGUuJHByb3h5TWFwJC5nZXQob2JqKSk7XG4gICAgaWYgKGZsYWdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3Vic09iajogeyBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyIHwgJyQnOyBkYXRhOiBzdHJpbmdbXSB8IG51bWJlciB8IG51bGwgfVtdID0gW107XG4gICAgaWYgKGZsYWdzID4gMCkge1xuICAgICAgc3Vic09iai5wdXNoKHtcbiAgICAgICAgc3Vic2NyaWJlcjogJyQnLFxuICAgICAgICBkYXRhOiBmbGFncyxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBzdWJzID0gY29udGFpbmVyU3RhdGUuJHN1YnNNYW5hZ2VyJC4kdHJ5R2V0TG9jYWwkKG9iaik/LiRzdWJzJDtcbiAgICBpZiAoc3Vicykge1xuICAgICAgc3Vicy5mb3JFYWNoKChzZXQsIGtleSkgPT4ge1xuICAgICAgICBpZiAoaXNRd2lrRWxlbWVudChrZXkpKSB7XG4gICAgICAgICAgaWYgKCFjb2xsZWN0b3IuJGVsZW1lbnRzJC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN1YnNPYmoucHVzaCh7XG4gICAgICAgICAgc3Vic2NyaWJlcjoga2V5LFxuICAgICAgICAgIGRhdGE6IHNldCA/IEFycmF5LmZyb20oc2V0KSA6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzdWJzT2JqLmxlbmd0aCA+IDApIHtcbiAgICAgIHN1YnNNYXAuc2V0KG9iaiwgc3Vic09iaik7XG4gICAgfVxuICB9KTtcblxuICAvLyBTb3J0IG9iamVjdHM6IHRoZSBvbmVzIHdpdGggc3Vic2NyaXB0aW9ucyBnbyBmaXJzdFxuICBvYmpzLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBpc1Byb3h5QSA9IHN1YnNNYXAuaGFzKGEpID8gMCA6IDE7XG4gICAgY29uc3QgaXNQcm94eUIgPSBzdWJzTWFwLmhhcyhiKSA/IDAgOiAxO1xuICAgIHJldHVybiBpc1Byb3h5QSAtIGlzUHJveHlCO1xuICB9KTtcblxuICAvLyBHZW5lcmF0ZSBvYmplY3QgSUQgYnkgdXNpbmcgYSBtb25vdG9uaWMgY291bnRlclxuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGNvbnN0IG9iaiBvZiBvYmpzKSB7XG4gICAgb2JqVG9JZC5zZXQob2JqLCBjb3VudCk7XG4gICAgY291bnQrKztcbiAgfVxuXG4gIC8vIFNlcmlhbGl6ZSBvYmplY3Qgc3Vic2NyaXB0aW9uc1xuICBjb25zdCBzdWJzID0gb2Jqc1xuICAgIC5tYXAoKG9iaikgPT4ge1xuICAgICAgY29uc3Qgc3ViID0gc3Vic01hcC5nZXQob2JqKTtcbiAgICAgIGlmICghc3ViKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3Vic09iajogUmVjb3JkPHN0cmluZywgc3RyaW5nW10gfCBudW1iZXIgfCBudWxsPiA9IHt9O1xuICAgICAgc3ViLmZvckVhY2goKHsgc3Vic2NyaWJlciwgZGF0YSB9KSA9PiB7XG4gICAgICAgIGlmIChzdWJzY3JpYmVyID09PSAnJCcpIHtcbiAgICAgICAgICBzdWJzT2JqW3N1YnNjcmliZXJdID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBpZCA9IGdldE9iaklkKHN1YnNjcmliZXIpO1xuICAgICAgICAgIGlmIChpZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3Vic09ialtpZF0gPSBkYXRhO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc3Vic09iajtcbiAgICB9KVxuICAgIC5maWx0ZXIoaXNOb3ROdWxsYWJsZSk7XG5cbiAgLy8gU2VyaWFsaXplIG9iamVjdHNcbiAgY29uc3QgY29udmVydGVkT2JqcyA9IG9ianMubWFwKChvYmopID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHNlcmlhbGl6ZVZhbHVlKG9iaiwgZ2V0T2JqSWQsIGNvbnRhaW5lclN0YXRlKTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBzd2l0Y2ggKHR5cGVvZiBvYmopIHtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgcmV0dXJuIG9iai5tYXAobXVzdEdldE9iaklkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTZXJpYWxpemFibGVPYmplY3Qob2JqKSkge1xuICAgICAgICAgIGNvbnN0IG91dHB1dDogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9O1xuICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG9iaikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICBvdXRwdXRba2V5XSA9IG11c3RHZXRPYmpJZCh2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIHRocm93IHFFcnJvcihRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlLCBvYmopO1xuICB9KTtcblxuICBjb25zdCBtZXRhOiBTbmFwc2hvdE1ldGEgPSB7fTtcblxuICAvLyBXcml0ZSBiYWNrIHRvIHRoZSBkb21cbiAgZWxlbWVudHMuZm9yRWFjaCgoY3R4KSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGN0eC4kZWxlbWVudCQ7XG4gICAgYXNzZXJ0RGVmaW5lZChjdHgsIGBwYXVzZTogbWlzc2luZyBjb250ZXh0IGZvciBkb20gbm9kZWAsIG5vZGUpO1xuXG4gICAgY29uc3QgcmVmID0gY3R4LiRyZWZNYXAkO1xuICAgIGNvbnN0IHByb3BzID0gY3R4LiRwcm9wcyQ7XG4gICAgY29uc3QgY29udGV4dHMgPSBjdHguJGNvbnRleHRzJDtcbiAgICBjb25zdCB3YXRjaGVzID0gY3R4LiR3YXRjaGVzJDtcbiAgICBjb25zdCByZW5kZXJRcmwgPSBjdHguJHJlbmRlclFybCQ7XG4gICAgY29uc3Qgc2VxID0gY3R4LiRzZXEkO1xuICAgIGNvbnN0IG1ldGFWYWx1ZTogU25hcHNob3RNZXRhVmFsdWUgPSB7fTtcbiAgICBjb25zdCBlbGVtZW50Q2FwdHVyZWQgPSBjb2xsZWN0b3IuJGVsZW1lbnRzJC5pbmNsdWRlcyhub2RlKTtcblxuICAgIGxldCBhZGQgPSBmYWxzZTtcbiAgICBpZiAocmVmLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcmVmLm1hcChtdXN0R2V0T2JqSWQpLmpvaW4oJyAnKTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBtZXRhVmFsdWUuciA9IHZhbHVlO1xuICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjYW5SZW5kZXIpIHtcbiAgICAgIGlmIChlbGVtZW50Q2FwdHVyZWQgJiYgcHJvcHMpIHtcbiAgICAgICAgY29uc3Qgb2JqcyA9IFtwcm9wc107XG4gICAgICAgIGlmIChyZW5kZXJRcmwpIHtcbiAgICAgICAgICBvYmpzLnB1c2gocmVuZGVyUXJsKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ianMubWFwKG11c3RHZXRPYmpJZCkuam9pbignICcpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBtZXRhVmFsdWUuaCA9IHZhbHVlO1xuICAgICAgICAgIGFkZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHdhdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHdhdGNoZXMubWFwKGdldE9iaklkKS5maWx0ZXIoaXNOb3ROdWxsYWJsZSkuam9pbignICcpO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICBtZXRhVmFsdWUudyA9IHZhbHVlO1xuICAgICAgICAgIGFkZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnRDYXB0dXJlZCAmJiBzZXEubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNlcS5tYXAobXVzdEdldE9iaklkKS5qb2luKCcgJyk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIG1ldGFWYWx1ZS5zID0gdmFsdWU7XG4gICAgICAgICAgYWRkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY29udGV4dHMpIHtcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZENvbnRleHRzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICBjb250ZXh0cy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgc2VyaWFsaXplZENvbnRleHRzLnB1c2goYCR7a2V5fT0ke211c3RHZXRPYmpJZCh2YWx1ZSl9YCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHNlcmlhbGl6ZWRDb250ZXh0cy5qb2luKCcgJyk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIG1ldGFWYWx1ZS5jID0gdmFsdWU7XG4gICAgICAgICAgYWRkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhZGQpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJRCA9IGdldEVsZW1lbnRJRChub2RlKTtcbiAgICAgIGFzc2VydERlZmluZWQoZWxlbWVudElELCBgcGF1c2U6IGNhbiBub3QgZ2VuZXJhdGUgSUQgZm9yIGRvbSBub2RlYCwgbm9kZSk7XG4gICAgICBtZXRhW2VsZW1lbnRJRF0gPSBtZXRhVmFsdWU7XG4gICAgfVxuICB9KTtcblxuICBjb25zdCBwZW5kaW5nQ29udGVudDogUHJvbWlzZTxzdHJpbmc+W10gPSBbXTtcbiAgZm9yIChjb25zdCB3YXRjaCBvZiBjb2xsZWN0b3IuJHdhdGNoZXMkKSB7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIGlmICh3YXRjaC4kZmxhZ3MkICYgV2F0Y2hGbGFnc0lzRGlydHkpIHtcbiAgICAgICAgbG9nV2FybignU2VyaWFsaXppbmcgZGlydHkgd2F0Y2guIExvb2tzIGxpa2UgYW4gaW50ZXJuYWwgZXJyb3IuJyk7XG4gICAgICB9XG4gICAgICBpZiAoIWlzQ29ubmVjdGVkKHdhdGNoKSkge1xuICAgICAgICBsb2dXYXJuKCdTZXJpYWxpemluZyBkaXNjb25uZXRlZCB3YXRjaC4gTG9va3MgbGlrZSBhbiBpbnRlcm5hbCBlcnJvci4nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveVdhdGNoKHdhdGNoKTtcbiAgfVxuXG4gIC8vIFNhbml0eSBjaGVjayBvZiBzZXJpYWxpemVkIGVsZW1lbnRcbiAgaWYgKHFEZXYpIHtcbiAgICBlbGVtZW50VG9JbmRleC5mb3JFYWNoKCh2YWx1ZSwgZWwpID0+IHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgbG9nV2FybigndW5jb25uZWN0ZWQgZWxlbWVudCcsIGVsLm5vZGVOYW1lLCAnXFxuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHN0YXRlOiB7XG4gICAgICBjdHg6IG1ldGEsXG4gICAgICBvYmpzOiBjb252ZXJ0ZWRPYmpzLFxuICAgICAgc3VicyxcbiAgICB9LFxuICAgIHBlbmRpbmdDb250ZW50LFxuICAgIG9ianMsXG4gICAgbGlzdGVuZXJzLFxuICAgIG1vZGU6IGNhblJlbmRlciA/ICdyZW5kZXInIDogJ2xpc3RlbmVycycsXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UXdpa0pTT04gPSAocGFyZW50RWxtOiBFbGVtZW50KTogSFRNTFNjcmlwdEVsZW1lbnQgfCB1bmRlZmluZWQgPT4ge1xuICBsZXQgY2hpbGQgPSBwYXJlbnRFbG0ubGFzdEVsZW1lbnRDaGlsZDtcbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkLnRhZ05hbWUgPT09ICdTQ1JJUFQnICYmIGRpcmVjdEdldEF0dHJpYnV0ZShjaGlsZCwgJ3R5cGUnKSA9PT0gJ3F3aWsvanNvbicpIHtcbiAgICAgIHJldHVybiBjaGlsZCBhcyBIVE1MU2NyaXB0RWxlbWVudDtcbiAgICB9XG4gICAgY2hpbGQgPSBjaGlsZC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5jb25zdCBTSE9XX0VMRU1FTlQgPSAxO1xuY29uc3QgU0hPV19DT01NRU5UID0gMTI4O1xuY29uc3QgRklMVEVSX0FDQ0VQVCA9IDE7XG5jb25zdCBGSUxURVJfUkVKRUNUID0gMjtcbmNvbnN0IEZJTFRFUl9TS0lQID0gMztcblxuZXhwb3J0IGNvbnN0IGdldE5vZGVzSW5TY29wZSA9IChwYXJlbnQ6IEVsZW1lbnQsIHByZWRpY2F0ZTogKGVsOiBOb2RlKSA9PiBib29sZWFuKSA9PiB7XG4gIGNvbnN0IG5vZGVzOiBFbGVtZW50W10gPSBbXTtcbiAgaWYgKHByZWRpY2F0ZShwYXJlbnQpKSB7XG4gICAgbm9kZXMucHVzaChwYXJlbnQpO1xuICB9XG4gIGNvbnN0IHdhbGtlciA9IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIocGFyZW50LCBTSE9XX0VMRU1FTlQgfCBTSE9XX0NPTU1FTlQsIHtcbiAgICBhY2NlcHROb2RlKG5vZGUpIHtcbiAgICAgIGlmIChpc0NvbnRhaW5lcihub2RlKSkge1xuICAgICAgICByZXR1cm4gRklMVEVSX1JFSkVDVDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcmVkaWNhdGUobm9kZSkgPyBGSUxURVJfQUNDRVBUIDogRklMVEVSX1NLSVA7XG4gICAgfSxcbiAgfSk7XG4gIGNvbnN0IHBhcnM6IFF3aWtFbGVtZW50W10gPSBbXTtcbiAgbGV0IGN1cnJlbnROb2RlOiBOb2RlIHwgbnVsbCA9IG51bGw7XG4gIHdoaWxlICgoY3VycmVudE5vZGUgPSB3YWxrZXIubmV4dE5vZGUoKSkpIHtcbiAgICBwYXJzLnB1c2gocHJvY2Vzc1ZpcnR1YWxOb2RlcyhjdXJyZW50Tm9kZSkgYXMgRWxlbWVudCk7XG4gIH1cbiAgcmV0dXJuIHBhcnM7XG59O1xuXG5jb25zdCByZXZpdmVWYWx1ZXMgPSAoXG4gIG9ianM6IGFueVtdLFxuICBzdWJzOiBhbnlbXSxcbiAgZ2V0T2JqZWN0OiBHZXRPYmplY3QsXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSxcbiAgcGFyc2VyOiBQYXJzZXJcbikgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG9ianMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZSA9IG9ianNbaV07XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgb2Jqc1tpXSA9IHBhcnNlci5wcmVwYXJlKHZhbHVlKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBvYmpzW2ldO1xuICAgIGNvbnN0IHN1YiA9IHN1YnNbaV07XG4gICAgaWYgKHN1Yikge1xuICAgICAgY29uc3QgY29udmVydGVkID0gbmV3IE1hcCgpO1xuICAgICAgbGV0IGZsYWdzID0gMDtcbiAgICAgIE9iamVjdC5lbnRyaWVzKHN1YikuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgaWYgKGVudHJ5WzBdID09PSAnJCcpIHtcbiAgICAgICAgICBmbGFncyA9IGVudHJ5WzFdIGFzIG51bWJlcjtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWwgPSBnZXRPYmplY3QoZW50cnlbMF0pO1xuICAgICAgICBpZiAoIWVsKSB7XG4gICAgICAgICAgbG9nV2FybignUVdJSyBjYW4gbm90IHJldml2ZSBzdWJzY3JpcHRpb25zIGJlY2F1c2Ugb2YgbWlzc2luZyBlbGVtZW50IElEJywgZW50cnksIHZhbHVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2V0ID0gZW50cnlbMV0gPT09IG51bGwgPyBudWxsIDogKG5ldyBTZXQoZW50cnlbMV0gYXMgYW55KSBhcyBTZXQ8c3RyaW5nPik7XG4gICAgICAgIGNvbnZlcnRlZC5zZXQoZWwsIHNldCk7XG4gICAgICB9KTtcbiAgICAgIGNyZWF0ZVByb3h5KHZhbHVlLCBjb250YWluZXJTdGF0ZSwgZmxhZ3MsIGNvbnZlcnRlZCk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCByZXZpdmVOZXN0ZWRPYmplY3RzID0gKG9iajogYW55LCBnZXRPYmplY3Q6IEdldE9iamVjdCwgcGFyc2VyOiBQYXJzZXIpID0+IHtcbiAgaWYgKHBhcnNlci5maWxsKG9iaikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAob2JqICYmIHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgICAgICAgIG9ialtpXSA9IGdldE9iamVjdCh2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV2aXZlTmVzdGVkT2JqZWN0cyh2YWx1ZSwgZ2V0T2JqZWN0LCBwYXJzZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1NlcmlhbGl6YWJsZU9iamVjdChvYmopKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gZ2V0T2JqZWN0KHZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV2aXZlTmVzdGVkT2JqZWN0cyh2YWx1ZSwgZ2V0T2JqZWN0LCBwYXJzZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgT0JKRUNUX1RSQU5TRk9STVM6IFJlY29yZDxzdHJpbmcsIChvYmo6IGFueSwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiBhbnk+ID0ge1xuICAnISc6IChvYmo6IGFueSwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIGNvbnRhaW5lclN0YXRlLiRwcm94eU1hcCQuZ2V0KG9iaikgPz8gZ2V0T3JDcmVhdGVQcm94eShvYmosIGNvbnRhaW5lclN0YXRlKTtcbiAgfSxcbiAgJyUnOiAob2JqOiBhbnkpID0+IHtcbiAgICByZXR1cm4gbXV0YWJsZShvYmopO1xuICB9LFxuICAnfic6IChvYmo6IGFueSkgPT4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUob2JqKTtcbiAgfSxcbiAgXzogKG9iajogYW55KSA9PiB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG9iaik7XG4gIH0sXG59O1xuXG5jb25zdCBnZXRPYmplY3RJbXBsID0gKFxuICBpZDogc3RyaW5nLFxuICBlbGVtZW50czogTWFwPHN0cmluZywgUXdpa0VsZW1lbnQ+LFxuICBvYmpzOiBhbnlbXSxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlXG4pID0+IHtcbiAgYXNzZXJ0VHJ1ZShcbiAgICB0eXBlb2YgaWQgPT09ICdzdHJpbmcnICYmIGlkLmxlbmd0aCA+IDAsXG4gICAgJ3Jlc3VtZTogaWQgbXVzdCBiZSBhbiBub24tZW1wdHkgc3RyaW5nLCBnb3Q6JyxcbiAgICBpZFxuICApO1xuXG4gIGlmIChpZC5zdGFydHNXaXRoKEVMRU1FTlRfSURfUFJFRklYKSkge1xuICAgIGFzc2VydFRydWUoZWxlbWVudHMuaGFzKGlkKSwgYG1pc3NpbmcgZWxlbWVudCBmb3IgaWQ6YCwgaWQpO1xuICAgIHJldHVybiBlbGVtZW50cy5nZXQoaWQpO1xuICB9XG4gIGNvbnN0IGluZGV4ID0gc3RyVG9JbnQoaWQpO1xuICBhc3NlcnRUcnVlKG9ianMubGVuZ3RoID4gaW5kZXgsICdyZXN1bWU6IGluZGV4IGlzIG91dCBvZiBib3VuZHMnLCBpZCk7XG4gIGxldCBvYmogPSBvYmpzW2luZGV4XTtcbiAgZm9yIChsZXQgaSA9IGlkLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgY29kZSA9IGlkW2ldO1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IE9CSkVDVF9UUkFOU0ZPUk1TW2NvZGVdO1xuICAgIGlmICghdHJhbnNmb3JtKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgb2JqID0gdHJhbnNmb3JtKG9iaiwgY29udGFpbmVyU3RhdGUpO1xuICB9XG4gIHJldHVybiBvYmo7XG59O1xuXG5jb25zdCBjb2xsZWN0UHJvcHMgPSBhc3luYyAoZWw6IFF3aWtFbGVtZW50LCBwcm9wczogYW55LCBjb2xsZWN0b3I6IENvbGxlY3RvcikgPT4ge1xuICBjb25zdCBzdWJzID0gY29sbGVjdG9yLiRjb250YWluZXJTdGF0ZSQuJHN1YnNNYW5hZ2VyJC4kdHJ5R2V0TG9jYWwkKFxuICAgIGdldFByb3h5VGFyZ2V0KHByb3BzKVxuICApPy4kc3VicyQ7XG4gIGlmIChzdWJzICYmIHN1YnMuaGFzKGVsKSkge1xuICAgIC8vIFRoZSBob3N0IGVsZW1lbnQgcmVhZCB0aGUgcHJvcHNcbiAgICBhd2FpdCBjb2xsZWN0RWxlbWVudChlbCwgY29sbGVjdG9yKTtcbiAgfVxufTtcblxuZXhwb3J0IGludGVyZmFjZSBDb2xsZWN0b3Ige1xuICAkc2VlbiQ6IFNldDxhbnk+O1xuICAkc2VlbkxlYWtzJDogU2V0PGFueT47XG4gICRvYmpNYXAkOiBNYXA8YW55LCBhbnk+O1xuICAkZWxlbWVudHMkOiBRd2lrRWxlbWVudFtdO1xuICAkd2F0Y2hlcyQ6IFN1YnNjcmliZXJEZXNjcmlwdG9yW107XG4gICRjb250YWluZXJTdGF0ZSQ6IENvbnRhaW5lclN0YXRlO1xufVxuXG5jb25zdCBjcmVhdGVDb2xsZWN0b3IgPSAoY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKTogQ29sbGVjdG9yID0+IHtcbiAgcmV0dXJuIHtcbiAgICAkc2VlbiQ6IG5ldyBTZXQoKSxcbiAgICAkc2VlbkxlYWtzJDogbmV3IFNldCgpLFxuICAgICRvYmpNYXAkOiBuZXcgTWFwKCksXG4gICAgJGVsZW1lbnRzJDogW10sXG4gICAgJHdhdGNoZXMkOiBbXSxcbiAgICAkY29udGFpbmVyU3RhdGUkOiBjb250YWluZXJTdGF0ZSxcbiAgfTtcbn07XG5cbmNvbnN0IGNvbGxlY3RFbGVtZW50ID0gYXN5bmMgKGVsOiBRd2lrRWxlbWVudCwgY29sbGVjdG9yOiBDb2xsZWN0b3IpID0+IHtcbiAgaWYgKGNvbGxlY3Rvci4kZWxlbWVudHMkLmluY2x1ZGVzKGVsKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBjdHggPSB0cnlHZXRDb250ZXh0KGVsKTtcbiAgaWYgKGN0eCkge1xuICAgIGNvbGxlY3Rvci4kZWxlbWVudHMkLnB1c2goZWwpO1xuICAgIGlmIChjdHguJHByb3BzJCkge1xuICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKGN0eC4kcHJvcHMkLCBjb2xsZWN0b3IsIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKGN0eC4kcmVuZGVyUXJsJCkge1xuICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKGN0eC4kcmVuZGVyUXJsJCwgY29sbGVjdG9yLCBmYWxzZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qgb2JqIG9mIGN0eC4kc2VxJCkge1xuICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKG9iaiwgY29sbGVjdG9yLCBmYWxzZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qgb2JqIG9mIGN0eC4kd2F0Y2hlcyQpIHtcbiAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3RvciwgZmFsc2UpO1xuICAgIH1cblxuICAgIGlmIChjdHguJGNvbnRleHRzJCkge1xuICAgICAgZm9yIChjb25zdCBvYmogb2YgY3R4LiRjb250ZXh0cyQudmFsdWVzKCkpIHtcbiAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKG9iaiwgY29sbGVjdG9yLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZXNjYXBlVGV4dCA9IChzdHI6IHN0cmluZykgPT4ge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLzwoXFwvP3NjcmlwdCkvZywgJ1xcXFx4M0MkMScpO1xufTtcblxuZXhwb3J0IGNvbnN0IHVuZXNjYXBlVGV4dCA9IChzdHI6IHN0cmluZykgPT4ge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcXFx4M0MoXFwvP3NjcmlwdCkvZywgJzwkMScpO1xufTtcblxuY29uc3QgY29sbGVjdFN1YnNjcmlwdGlvbnMgPSBhc3luYyAodGFyZ2V0OiBhbnksIGNvbGxlY3RvcjogQ29sbGVjdG9yKSA9PiB7XG4gIGNvbnN0IHN1YnMgPSBjb2xsZWN0b3IuJGNvbnRhaW5lclN0YXRlJC4kc3Vic01hbmFnZXIkLiR0cnlHZXRMb2NhbCQodGFyZ2V0KT8uJHN1YnMkO1xuICBpZiAoc3Vicykge1xuICAgIGlmIChjb2xsZWN0b3IuJHNlZW4kLmhhcyhzdWJzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb2xsZWN0b3IuJHNlZW4kLmFkZChzdWJzKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBBcnJheS5mcm9tKHN1YnMua2V5cygpKSkge1xuICAgICAgaWYgKGlzVmlydHVhbEVsZW1lbnQoa2V5KSkge1xuICAgICAgICBhd2FpdCBjb2xsZWN0RWxlbWVudChrZXksIGNvbGxlY3Rvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCBjb2xsZWN0VmFsdWUoa2V5LCBjb2xsZWN0b3IsIHRydWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuY29uc3QgUFJPTUlTRV9WQUxVRSA9IFN5bWJvbCgpO1xuXG5pbnRlcmZhY2UgUHJvbWlzZVZhbHVlIHtcbiAgcmVzb2x2ZWQ6IGJvb2xlYW47XG4gIHZhbHVlOiBhbnk7XG59XG5jb25zdCByZXNvbHZlUHJvbWlzZSA9IChwcm9taXNlOiBQcm9taXNlPGFueT4pID0+IHtcbiAgcmV0dXJuIHByb21pc2UudGhlbihcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHY6IFByb21pc2VWYWx1ZSA9IHtcbiAgICAgICAgcmVzb2x2ZWQ6IHRydWUsXG4gICAgICAgIHZhbHVlLFxuICAgICAgfTtcbiAgICAgIChwcm9taXNlIGFzIGFueSlbUFJPTUlTRV9WQUxVRV0gPSB2O1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB2OiBQcm9taXNlVmFsdWUgPSB7XG4gICAgICAgIHJlc29sdmVkOiBmYWxzZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICB9O1xuICAgICAgKHByb21pc2UgYXMgYW55KVtQUk9NSVNFX1ZBTFVFXSA9IHY7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICApO1xufTtcblxuY29uc3QgZ2V0UHJvbWlzZVZhbHVlID0gKHByb21pc2U6IFByb21pc2U8YW55Pik6IFByb21pc2VWYWx1ZSA9PiB7XG4gIGFzc2VydFRydWUoUFJPTUlTRV9WQUxVRSBpbiBwcm9taXNlLCAncGF1c2U6IHByb21pc2Ugd2FzIG5vdCByZXNvbHZlZCBwcmV2aW91c2x5JywgcHJvbWlzZSk7XG4gIHJldHVybiAocHJvbWlzZSBhcyBhbnkpW1BST01JU0VfVkFMVUVdO1xufTtcblxuY29uc3QgY29sbGVjdFZhbHVlID0gYXN5bmMgKG9iajogYW55LCBjb2xsZWN0b3I6IENvbGxlY3RvciwgbGVha3M6IGJvb2xlYW4pID0+IHtcbiAgY29uc3QgaW5wdXQgPSBvYmo7XG4gIGNvbnN0IHNlZW4gPSBsZWFrcyA/IGNvbGxlY3Rvci4kc2VlbkxlYWtzJCA6IGNvbGxlY3Rvci4kc2VlbiQ7XG4gIGlmIChzZWVuLmhhcyhvYmopKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlZW4uYWRkKG9iaik7XG5cbiAgaWYgKCFzaG91bGRTZXJpYWxpemUob2JqKSB8fCBvYmogPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbGxlY3Rvci4kb2JqTWFwJC5zZXQob2JqLCB1bmRlZmluZWQpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChvYmogIT0gbnVsbCkge1xuICAgIC8vIEhhbmRsZSBRUkxcbiAgICBpZiAoaXNRcmwob2JqKSkge1xuICAgICAgY29sbGVjdG9yLiRvYmpNYXAkLnNldChvYmosIG9iaik7XG4gICAgICBpZiAob2JqLiRjYXB0dXJlUmVmJCkge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygb2JqLiRjYXB0dXJlUmVmJCkge1xuICAgICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShpdGVtLCBjb2xsZWN0b3IsIGxlYWtzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBPYmpldHNcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vIEhhbmRsZSBwcm9taXNlc1xuICAgICAgaWYgKGlzUHJvbWlzZShvYmopKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcmVzb2x2ZVByb21pc2Uob2JqKTtcbiAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKHZhbHVlLCBjb2xsZWN0b3IsIGxlYWtzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXJnZXQgPSBnZXRQcm94eVRhcmdldChvYmopO1xuXG4gICAgICAvLyBIYW5kbGUgZG9tIG5vZGVzXG4gICAgICBpZiAoIXRhcmdldCAmJiBpc05vZGUob2JqKSkge1xuICAgICAgICBpZiAoaXNEb2N1bWVudChvYmopKSB7XG4gICAgICAgICAgY29sbGVjdG9yLiRvYmpNYXAkLnNldChvYmosIG9iaik7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzUXdpa0VsZW1lbnQob2JqKSkge1xuICAgICAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlLCBvYmopO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgcHJveHkgY29sbGVjdCBzdWJzY3JpcHRpb25zXG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIGlmIChsZWFrcykge1xuICAgICAgICAgIGF3YWl0IGNvbGxlY3RTdWJzY3JpcHRpb25zKHRhcmdldCwgY29sbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBvYmogPSB0YXJnZXQ7XG4gICAgICAgIGlmIChzZWVuLmhhcyhvYmopKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNlZW4uYWRkKG9iaik7XG5cbiAgICAgICAgaWYgKGlzUmVzb3VyY2VSZXR1cm4ob2JqKSkge1xuICAgICAgICAgIGNvbGxlY3Rvci4kb2JqTWFwJC5zZXQodGFyZ2V0LCB0YXJnZXQpO1xuICAgICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmoucHJvbWlzZSwgY29sbGVjdG9yLCBsZWFrcyk7XG4gICAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKG9iai5yZXNvbHZlZCwgY29sbGVjdG9yLCBsZWFrcyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbGxlY3Rvci4kb2JqTWFwJC5zZXQob2JqLCBvYmopO1xuICAgICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShpbnB1dFtpXSwgY29sbGVjdG9yLCBsZWFrcyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBhd2FpdCBjb2xsZWN0VmFsdWUoaW5wdXRba2V5XSwgY29sbGVjdG9yLCBsZWFrcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGNvbGxlY3Rvci4kb2JqTWFwJC5zZXQob2JqLCBvYmopO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29udGFpbmVyID0gKGVsOiBOb2RlKSA9PiB7XG4gIHJldHVybiBpc0VsZW1lbnQoZWwpICYmIGVsLmhhc0F0dHJpYnV0ZShRQ29udGFpbmVyQXR0cik7XG59O1xuXG5jb25zdCBoYXNRSWQgPSAoZWw6IE5vZGUpID0+IHtcbiAgY29uc3Qgbm9kZSA9IHByb2Nlc3NWaXJ0dWFsTm9kZXMoZWwpO1xuICBpZiAoaXNRd2lrRWxlbWVudChub2RlKSkge1xuICAgIHJldHVybiBub2RlLmhhc0F0dHJpYnV0ZShFTEVNRU5UX0lEKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgaW50VG9TdHIgPSAobnU6IG51bWJlcikgPT4ge1xuICByZXR1cm4gbnUudG9TdHJpbmcoMzYpO1xufTtcblxuZXhwb3J0IGNvbnN0IHN0clRvSW50ID0gKG51OiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHBhcnNlSW50KG51LCAzNik7XG59O1xuIl19","import { getProxyTarget, noSerialize, unwrapProxy } from '../object/q-object';\nimport { getContext } from '../props/props';\nimport { newInvokeContext, invoke } from './use-core';\nimport { logError, logErrorAndStop } from '../util/log';\nimport { delay, safeCall, then } from '../util/promises';\nimport { getDocument } from '../util/dom';\nimport { isFunction, isObject } from '../util/types';\nimport { isServer } from '../platform/platform';\nimport { implicit$FirstArg } from '../util/implicit_dollar';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { assertQrl, createQRL } from '../import/qrl-class';\nimport { codeToText, qError, QError_canNotMountUseServerMount, QError_trackUseStore, } from '../error/error';\nimport { useOn } from './use-on';\nimport { intToStr, strToInt } from '../object/store';\nimport { _hW } from '../render/dom/notify-render';\nimport { useSequentialScope } from './use-sequential-scope';\nexport const WatchFlagsIsEffect = 1 << 0;\nexport const WatchFlagsIsWatch = 1 << 1;\nexport const WatchFlagsIsDirty = 1 << 2;\nexport const WatchFlagsIsCleanup = 1 << 3;\nexport const WatchFlagsIsResource = 1 << 4;\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs, use the\n * `obs` function to wrap property reads. This creates subscriptions that will trigger the\n * `watchFn` to rerun.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$(({ track }) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$(({ track }) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <div>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </div>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport const useWatchQrl = (qrl, opts) => {\n    const { get, set, ctx, i } = useSequentialScope();\n    if (!get) {\n        assertQrl(qrl);\n        const el = ctx.$hostElement$;\n        const containerState = ctx.$renderCtx$.$containerState$;\n        const watch = new Watch(WatchFlagsIsDirty | WatchFlagsIsWatch, i, el, qrl, undefined);\n        set(true);\n        getContext(el).$watches$.push(watch);\n        const previousWait = ctx.$waitOn$.slice();\n        ctx.$waitOn$.push(Promise.all(previousWait).then(() => runSubscriber(watch, containerState)));\n        const isServer = containerState.$platform$.isServer;\n        if (isServer) {\n            useRunWatch(watch, opts?.eagerness);\n        }\n    }\n};\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs, use the\n * `obs` function to wrap property reads. This creates subscriptions that will trigger the\n * `watchFn` to rerun.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$(({ track }) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$(({ track }) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <div>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </div>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport const useWatch$ = /*#__PURE__*/ implicit$FirstArg(useWatchQrl);\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <div>{store.count}</div>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useClientEffectQrl = (qrl, opts) => {\n    const { get, set, i, ctx } = useSequentialScope();\n    if (!get) {\n        assertQrl(qrl);\n        const el = ctx.$hostElement$;\n        const watch = new Watch(WatchFlagsIsEffect, i, el, qrl, undefined);\n        set(true);\n        getContext(el).$watches$.push(watch);\n        useRunWatch(watch, opts?.eagerness ?? 'visible');\n        const doc = ctx.$doc$;\n        if (doc['qO']) {\n            doc['qO'].observe(el);\n        }\n    }\n};\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <div>{store.count}</div>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useClientEffect$ = /*#__PURE__*/ implicit$FirstArg(useClientEffectQrl);\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook that runs only in the server when the component is first\n * mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <div>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </div>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @see `useMount`\n * @public\n */\n// </docs>\nexport const useServerMountQrl = (mountQrl) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return;\n    }\n    if (isServer(ctx.$doc$)) {\n        ctx.$waitOn$.push(mountQrl());\n        set(true);\n    }\n    else {\n        throw qError(QError_canNotMountUseServerMount, ctx.$hostElement$);\n    }\n};\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook that runs only in the server when the component is first\n * mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <div>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </div>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @see `useMount`\n * @public\n */\n// </docs>\nexport const useServerMount$ = /*#__PURE__*/ implicit$FirstArg(useServerMountQrl);\n// <docs markdown=\"../readme.md#useMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useMount instead)\n/**\n * Register a server mount hook that runs only in the server when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     temp: 0,\n *   });\n *\n *   useMount$(async () => {\n *     // This code will run once whenever a component is mounted in the server, or in the client\n *     const res = await fetch('weather-api.example');\n *     const json = (await res.json()) as any;\n *     store.temp = json.temp;\n *   });\n *\n *   return (\n *     <div>\n *       <p>The temperature is: ${store.temp}</p>\n *     </div>\n *   );\n * });\n * ```\n *\n * @see `useServerMount`\n * @public\n */\n// </docs>\nexport const useMountQrl = (mountQrl) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return;\n    }\n    ctx.$waitOn$.push(mountQrl());\n    set(true);\n};\n// <docs markdown=\"../readme.md#useMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useMount instead)\n/**\n * Register a server mount hook that runs only in the server when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     temp: 0,\n *   });\n *\n *   useMount$(async () => {\n *     // This code will run once whenever a component is mounted in the server, or in the client\n *     const res = await fetch('weather-api.example');\n *     const json = (await res.json()) as any;\n *     store.temp = json.temp;\n *   });\n *\n *   return (\n *     <div>\n *       <p>The temperature is: ${store.temp}</p>\n *     </div>\n *   );\n * });\n * ```\n *\n * @see `useServerMount`\n * @public\n */\n// </docs>\nexport const useMount$ = /*#__PURE__*/ implicit$FirstArg(useMountQrl);\nexport const isResourceWatch = (watch) => {\n    return !!watch.$resource$;\n};\nexport const runSubscriber = async (watch, containerState) => {\n    assertEqual(!!(watch.$flags$ & WatchFlagsIsDirty), true, 'Resource is not dirty', watch);\n    if (isResourceWatch(watch)) {\n        await runResource(watch, containerState);\n    }\n    else {\n        await runWatch(watch, containerState);\n    }\n};\nexport const runResource = (watch, containerState, waitOn) => {\n    watch.$flags$ &= ~WatchFlagsIsDirty;\n    cleanupWatch(watch);\n    const el = watch.$el$;\n    const doc = getDocument(el);\n    const invokationContext = newInvokeContext(doc, el, undefined, 'WatchEvent');\n    const { $subsManager$: subsManager } = containerState;\n    const watchFn = watch.$qrl$.$invokeFn$(el, invokationContext, () => {\n        subsManager.$clearSub$(watch);\n    });\n    const cleanups = [];\n    const resource = watch.$resource$;\n    assertDefined(resource, 'useResource: when running a resource, \"watch.r\" must be a defined.', watch);\n    const track = (obj, prop) => {\n        const target = getProxyTarget(obj);\n        if (target) {\n            const manager = subsManager.$getLocal$(target);\n            manager.$addSub$(watch, prop);\n        }\n        else {\n            logErrorAndStop(codeToText(QError_trackUseStore), obj);\n        }\n        if (prop) {\n            return obj[prop];\n        }\n        else {\n            return obj;\n        }\n    };\n    const resourceTarget = unwrapProxy(resource);\n    const opts = {\n        track,\n        cleanup(callback) {\n            cleanups.push(callback);\n        },\n        previous: resourceTarget.resolved,\n    };\n    let resolve;\n    let reject;\n    let done = false;\n    const setState = (resolved, value) => {\n        if (!done) {\n            done = true;\n            if (resolved) {\n                done = true;\n                resource.state = 'resolved';\n                resource.resolved = value;\n                resource.error = undefined;\n                resolve(value);\n            }\n            else {\n                done = true;\n                resource.state = 'rejected';\n                resource.resolved = undefined;\n                resource.error = value;\n                reject(value);\n            }\n            return true;\n        }\n        return false;\n    };\n    // Execute mutation inside empty invokation\n    invoke(invokationContext, () => {\n        resource.state = 'pending';\n        resource.resolved = undefined;\n        resource.promise = new Promise((r, re) => {\n            resolve = r;\n            reject = re;\n        });\n    });\n    watch.$destroy$ = noSerialize(() => {\n        cleanups.forEach((fn) => fn());\n    });\n    const promise = safeCall(() => then(waitOn, () => watchFn(opts)), (value) => {\n        setState(true, value);\n    }, (reason) => {\n        setState(false, reason);\n    });\n    const timeout = resourceTarget.timeout;\n    if (timeout) {\n        return Promise.race([\n            promise,\n            delay(timeout).then(() => {\n                if (setState(false, 'timeout')) {\n                    cleanupWatch(watch);\n                }\n            }),\n        ]);\n    }\n    return promise;\n};\nexport const runWatch = (watch, containerState) => {\n    watch.$flags$ &= ~WatchFlagsIsDirty;\n    cleanupWatch(watch);\n    const el = watch.$el$;\n    const doc = getDocument(el);\n    const invokationContext = newInvokeContext(doc, el, undefined, 'WatchEvent');\n    const { $subsManager$: subsManager } = containerState;\n    const watchFn = watch.$qrl$.$invokeFn$(el, invokationContext, () => {\n        subsManager.$clearSub$(watch);\n    });\n    const track = (obj, prop) => {\n        const target = getProxyTarget(obj);\n        if (target) {\n            const manager = subsManager.$getLocal$(target);\n            manager.$addSub$(watch, prop);\n        }\n        else {\n            logErrorAndStop(codeToText(QError_trackUseStore), obj);\n        }\n        if (prop) {\n            return obj[prop];\n        }\n        else {\n            return obj;\n        }\n    };\n    const cleanups = [];\n    watch.$destroy$ = noSerialize(() => {\n        cleanups.forEach((fn) => fn());\n    });\n    const opts = {\n        track,\n        cleanup(callback) {\n            cleanups.push(callback);\n        },\n    };\n    return safeCall(() => watchFn(opts), (returnValue) => {\n        if (isFunction(returnValue)) {\n            cleanups.push(returnValue);\n        }\n    }, (reason) => {\n        logError(reason);\n    });\n};\nexport const cleanupWatch = (watch) => {\n    const destroy = watch.$destroy$;\n    if (destroy) {\n        watch.$destroy$ = undefined;\n        try {\n            destroy();\n        }\n        catch (err) {\n            logError(err);\n        }\n    }\n};\nexport const destroyWatch = (watch) => {\n    if (watch.$flags$ & WatchFlagsIsCleanup) {\n        watch.$flags$ &= ~WatchFlagsIsCleanup;\n        const cleanup = watch.$qrl$.$invokeFn$(watch.$el$);\n        cleanup();\n    }\n    else {\n        cleanupWatch(watch);\n    }\n};\nconst useRunWatch = (watch, eagerness) => {\n    if (eagerness === 'load') {\n        useOn('qinit', getWatchHandlerQrl(watch));\n    }\n    else if (eagerness === 'visible') {\n        useOn('qvisible', getWatchHandlerQrl(watch));\n    }\n};\nconst getWatchHandlerQrl = (watch) => {\n    const watchQrl = watch.$qrl$;\n    const watchHandler = createQRL(watchQrl.$chunk$, '_hW', _hW, null, null, [watch], watchQrl.$symbol$);\n    return watchHandler;\n};\nexport const isWatchCleanup = (obj) => {\n    return isSubscriberDescriptor(obj) && !!(obj.$flags$ & WatchFlagsIsCleanup);\n};\nexport const isSubscriberDescriptor = (obj) => {\n    return isObject(obj) && obj instanceof Watch;\n};\nexport const serializeWatch = (watch, getObjId) => {\n    let value = `${intToStr(watch.$flags$)} ${intToStr(watch.$index$)} ${getObjId(watch.$qrl$)} ${getObjId(watch.$el$)}`;\n    if (isResourceWatch(watch)) {\n        value += ` ${getObjId(watch.$resource$)}`;\n    }\n    return value;\n};\nexport const parseWatch = (data) => {\n    const [flags, index, qrl, el, resource] = data.split(' ');\n    return new Watch(strToInt(flags), strToInt(index), el, qrl, resource);\n};\nexport class Watch {\n    constructor($flags$, $index$, $el$, $qrl$, $resource$) {\n        this.$flags$ = $flags$;\n        this.$index$ = $index$;\n        this.$el$ = $el$;\n        this.$qrl$ = $qrl$;\n        this.$resource$ = $resource$;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXdhdGNoLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2Utd2F0Y2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQWUsV0FBVyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDM0YsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDdEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxlQUFlLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDeEQsT0FBTyxFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDekQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBa0IsTUFBTSxlQUFlLENBQUM7QUFDckUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVELE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFOUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQWUsTUFBTSxxQkFBcUIsQ0FBQztBQUN4RSxPQUFPLEVBQ0wsVUFBVSxFQUNWLE1BQU0sRUFDTixnQ0FBZ0MsRUFDaEMsb0JBQW9CLEdBQ3JCLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUNqQyxPQUFPLEVBQVksUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9ELE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUNsRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUc1RCxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3pDLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDeEMsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN4QyxNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzFDLE1BQU0sQ0FBQyxNQUFNLG9CQUFvQixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFnSzNDLDBDQUEwQztBQUMxQyx5Q0FBeUM7QUFDekMsdUNBQXVDO0FBQ3ZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F5REc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsR0FBaUIsRUFBRSxJQUFzQixFQUFRLEVBQUU7SUFDN0UsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLGtCQUFrQixFQUFXLENBQUM7SUFDM0QsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNSLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNmLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7UUFDN0IsTUFBTSxjQUFjLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQztRQUN4RCxNQUFNLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN0RixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDVixVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNyQyxNQUFNLFlBQVksR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQyxLQUFLLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzlGLE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO1FBQ3BELElBQUksUUFBUSxFQUFFO1lBQ1osV0FBVyxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDckM7S0FDRjtBQUNILENBQUMsQ0FBQztBQUVGLDBDQUEwQztBQUMxQyx5Q0FBeUM7QUFDekMsdUNBQXVDO0FBQ3ZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F5REc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUV0RSxpREFBaUQ7QUFDakQseUNBQXlDO0FBQ3pDLDhDQUE4QztBQUM5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXNCRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEdBQWlCLEVBQUUsSUFBdUIsRUFBUSxFQUFFO0lBQ3JGLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBVyxDQUFDO0lBQzNELElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDUixTQUFTLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDZixNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO1FBQzdCLE1BQU0sS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLGtCQUFrQixFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ25FLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNWLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsSUFBSSxFQUFFLFNBQVMsSUFBSSxTQUFTLENBQUMsQ0FBQztRQUNqRCxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsS0FBWSxDQUFDO1FBQzdCLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2IsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztTQUN2QjtLQUNGO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsaURBQWlEO0FBQ2pELHlDQUF5QztBQUN6Qyw4Q0FBOEM7QUFDOUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FzQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsYUFBYSxDQUFDLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDLENBQUM7QUFFcEYsZ0RBQWdEO0FBQ2hELHlDQUF5QztBQUN6Qyw2Q0FBNkM7QUFDN0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW9DRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFJLFFBQXlCLEVBQVEsRUFBRTtJQUN0RSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBVyxDQUFDO0lBQ3hELElBQUksR0FBRyxFQUFFO1FBQ1AsT0FBTztLQUNSO0lBQ0QsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQ3ZCLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDOUIsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ1g7U0FBTTtRQUNMLE1BQU0sTUFBTSxDQUFDLGdDQUFnQyxFQUFFLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztLQUNuRTtBQUNILENBQUMsQ0FBQztBQUVGLGdEQUFnRDtBQUNoRCx5Q0FBeUM7QUFDekMsNkNBQTZDO0FBQzdDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FvQ0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBRWxGLDBDQUEwQztBQUMxQyx5Q0FBeUM7QUFDekMsdUNBQXVDO0FBQ3ZDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBNEJHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFJLFFBQXlCLEVBQVEsRUFBRTtJQUNoRSxNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBVyxDQUFDO0lBQ3hELElBQUksR0FBRyxFQUFFO1FBQ1AsT0FBTztLQUNSO0lBQ0QsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztJQUM5QixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDWixDQUFDLENBQUM7QUFFRiwwQ0FBMEM7QUFDMUMseUNBQXlDO0FBQ3pDLHVDQUF1QztBQUN2Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTRCRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsYUFBYSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBVXRFLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLEtBQTJCLEVBQW9DLEVBQUU7SUFDL0YsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQztBQUM1QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsS0FBSyxFQUNoQyxLQUEyQixFQUMzQixjQUE4QixFQUM5QixFQUFFO0lBQ0YsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsaUJBQWlCLENBQUMsRUFBRSxJQUFJLEVBQUUsdUJBQXVCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDekYsSUFBSSxlQUFlLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDMUIsTUFBTSxXQUFXLENBQUMsS0FBSyxFQUFFLGNBQWMsQ0FBQyxDQUFDO0tBQzFDO1NBQU07UUFDTCxNQUFNLFFBQVEsQ0FBQyxLQUFLLEVBQUUsY0FBYyxDQUFDLENBQUM7S0FDdkM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FDekIsS0FBNEIsRUFDNUIsY0FBOEIsRUFDOUIsTUFBcUIsRUFDQyxFQUFFO0lBQ3hCLEtBQUssQ0FBQyxPQUFPLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztJQUNwQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFcEIsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQztJQUN0QixNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDNUIsTUFBTSxpQkFBaUIsR0FBRyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUM3RSxNQUFNLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxHQUFHLGNBQWMsQ0FBQztJQUN0RCxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLEVBQUUsaUJBQWlCLEVBQUUsR0FBRyxFQUFFO1FBQ2pFLFdBQVcsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEMsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLFFBQVEsR0FBbUIsRUFBRSxDQUFDO0lBQ3BDLE1BQU0sUUFBUSxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUM7SUFDbEMsYUFBYSxDQUNYLFFBQVEsRUFDUixvRUFBb0UsRUFDcEUsS0FBSyxDQUNOLENBQUM7SUFFRixNQUFNLEtBQUssR0FBWSxDQUFDLEdBQVEsRUFBRSxJQUFhLEVBQUUsRUFBRTtRQUNqRCxNQUFNLE1BQU0sR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbkMsSUFBSSxNQUFNLEVBQUU7WUFDVixNQUFNLE9BQU8sR0FBRyxXQUFXLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQy9DLE9BQU8sQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQy9CO2FBQU07WUFDTCxlQUFlLENBQUMsVUFBVSxDQUFDLG9CQUFvQixDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7U0FDeEQ7UUFDRCxJQUFJLElBQUksRUFBRTtZQUNSLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ2xCO2FBQU07WUFDTCxPQUFPLEdBQUcsQ0FBQztTQUNaO0lBQ0gsQ0FBQyxDQUFDO0lBQ0YsTUFBTSxjQUFjLEdBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzdDLE1BQU0sSUFBSSxHQUFtQjtRQUMzQixLQUFLO1FBQ0wsT0FBTyxDQUFDLFFBQVE7WUFDZCxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFCLENBQUM7UUFDRCxRQUFRLEVBQUUsY0FBYyxDQUFDLFFBQVE7S0FDbEMsQ0FBQztJQUVGLElBQUksT0FBdUIsQ0FBQztJQUM1QixJQUFJLE1BQXdCLENBQUM7SUFDN0IsSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDO0lBRWpCLE1BQU0sUUFBUSxHQUFHLENBQUMsUUFBaUIsRUFBRSxLQUFVLEVBQUUsRUFBRTtRQUNqRCxJQUFJLENBQUMsSUFBSSxFQUFFO1lBQ1QsSUFBSSxHQUFHLElBQUksQ0FBQztZQUNaLElBQUksUUFBUSxFQUFFO2dCQUNaLElBQUksR0FBRyxJQUFJLENBQUM7Z0JBQ1osUUFBUSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUM7Z0JBQzVCLFFBQVEsQ0FBQyxRQUFRLEdBQUcsS0FBSyxDQUFDO2dCQUMxQixRQUFRLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztnQkFDM0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ2hCO2lCQUFNO2dCQUNMLElBQUksR0FBRyxJQUFJLENBQUM7Z0JBQ1osUUFBUSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUM7Z0JBQzVCLFFBQVEsQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDO2dCQUM5QixRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztnQkFDdkIsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO2FBQ2Y7WUFDRCxPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDLENBQUM7SUFFRiwyQ0FBMkM7SUFDM0MsTUFBTSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRTtRQUM3QixRQUFRLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztRQUMzQixRQUFRLENBQUMsUUFBUSxHQUFHLFNBQWdCLENBQUM7UUFDckMsUUFBUSxDQUFDLE9BQU8sR0FBRyxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRTtZQUN2QyxPQUFPLEdBQUcsQ0FBQyxDQUFDO1lBQ1osTUFBTSxHQUFHLEVBQUUsQ0FBQztRQUNkLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxLQUFLLENBQUMsU0FBUyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUU7UUFDakMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNqQyxDQUFDLENBQUMsQ0FBQztJQUVILE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FDdEIsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsRUFDdkMsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUNSLFFBQVEsQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEIsQ0FBQyxFQUNELENBQUMsTUFBTSxFQUFFLEVBQUU7UUFDVCxRQUFRLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzFCLENBQUMsQ0FDRixDQUFDO0lBRUYsTUFBTSxPQUFPLEdBQUcsY0FBYyxDQUFDLE9BQU8sQ0FBQztJQUN2QyxJQUFJLE9BQU8sRUFBRTtRQUNYLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQztZQUNsQixPQUFPO1lBQ1AsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7Z0JBQ3ZCLElBQUksUUFBUSxDQUFDLEtBQUssRUFBRSxTQUFTLENBQUMsRUFBRTtvQkFDOUIsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUNyQjtZQUNILENBQUMsQ0FBQztTQUNILENBQUMsQ0FBQztLQUNKO0lBQ0QsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQ3RCLEtBQXNCLEVBQ3RCLGNBQThCLEVBQ1IsRUFBRTtJQUN4QixLQUFLLENBQUMsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUM7SUFFcEMsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BCLE1BQU0sRUFBRSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUM7SUFDdEIsTUFBTSxHQUFHLEdBQUcsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzVCLE1BQU0saUJBQWlCLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLEVBQUUsRUFBRSxTQUFTLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDN0UsTUFBTSxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsR0FBRyxjQUFjLENBQUM7SUFDdEQsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsRUFBRSxFQUFFLGlCQUFpQixFQUFFLEdBQUcsRUFBRTtRQUNqRSxXQUFXLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLENBQUMsQ0FBWSxDQUFDO0lBQ2QsTUFBTSxLQUFLLEdBQVksQ0FBQyxHQUFRLEVBQUUsSUFBYSxFQUFFLEVBQUU7UUFDakQsTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ25DLElBQUksTUFBTSxFQUFFO1lBQ1YsTUFBTSxPQUFPLEdBQUcsV0FBVyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUMvQyxPQUFPLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztTQUMvQjthQUFNO1lBQ0wsZUFBZSxDQUFDLFVBQVUsQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxJQUFJLEVBQUU7WUFDUixPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNsQjthQUFNO1lBQ0wsT0FBTyxHQUFHLENBQUM7U0FDWjtJQUNILENBQUMsQ0FBQztJQUNGLE1BQU0sUUFBUSxHQUFtQixFQUFFLENBQUM7SUFDcEMsS0FBSyxDQUFDLFNBQVMsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFO1FBQ2pDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDakMsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLElBQUksR0FBYTtRQUNyQixLQUFLO1FBQ0wsT0FBTyxDQUFDLFFBQVE7WUFDZCxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzFCLENBQUM7S0FDRixDQUFDO0lBQ0YsT0FBTyxRQUFRLENBQ2IsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUNuQixDQUFDLFdBQVcsRUFBRSxFQUFFO1FBQ2QsSUFBSSxVQUFVLENBQUMsV0FBVyxDQUFDLEVBQUU7WUFDM0IsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUM1QjtJQUNILENBQUMsRUFDRCxDQUFDLE1BQU0sRUFBRSxFQUFFO1FBQ1QsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ25CLENBQUMsQ0FDRixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQUMsS0FBMkIsRUFBRSxFQUFFO0lBQzFELE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxTQUFTLENBQUM7SUFDaEMsSUFBSSxPQUFPLEVBQUU7UUFDWCxLQUFLLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJO1lBQ0YsT0FBTyxFQUFFLENBQUM7U0FDWDtRQUFDLE9BQU8sR0FBRyxFQUFFO1lBQ1osUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2Y7S0FDRjtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLEtBQTJCLEVBQUUsRUFBRTtJQUMxRCxJQUFJLEtBQUssQ0FBQyxPQUFPLEdBQUcsbUJBQW1CLEVBQUU7UUFDdkMsS0FBSyxDQUFDLE9BQU8sSUFBSSxDQUFDLG1CQUFtQixDQUFDO1FBQ3RDLE1BQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsRCxPQUFlLEVBQUUsQ0FBQztLQUNwQjtTQUFNO1FBQ0wsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQ3JCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxLQUEyQixFQUFFLFNBQXVDLEVBQUUsRUFBRTtJQUMzRixJQUFJLFNBQVMsS0FBSyxNQUFNLEVBQUU7UUFDeEIsS0FBSyxDQUFDLE9BQU8sRUFBRSxrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0tBQzNDO1NBQU0sSUFBSSxTQUFTLEtBQUssU0FBUyxFQUFFO1FBQ2xDLEtBQUssQ0FBQyxVQUFVLEVBQUUsa0JBQWtCLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztLQUM5QztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sa0JBQWtCLEdBQUcsQ0FBQyxLQUEyQixFQUFFLEVBQUU7SUFDekQsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQztJQUM3QixNQUFNLFlBQVksR0FBRyxTQUFTLENBQzVCLFFBQVEsQ0FBQyxPQUFPLEVBQ2hCLEtBQUssRUFDTCxHQUFHLEVBQ0gsSUFBSSxFQUNKLElBQUksRUFDSixDQUFDLEtBQUssQ0FBQyxFQUNQLFFBQVEsQ0FBQyxRQUFRLENBQ2xCLENBQUM7SUFDRixPQUFPLFlBQVksQ0FBQztBQUN0QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFRLEVBQTBCLEVBQUU7SUFDakUsT0FBTyxzQkFBc0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLG1CQUFtQixDQUFDLENBQUM7QUFDOUUsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcsQ0FBQyxHQUFRLEVBQStCLEVBQUU7SUFDOUUsT0FBTyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxZQUFZLEtBQUssQ0FBQztBQUMvQyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxLQUEyQixFQUFFLFFBQWtCLEVBQUUsRUFBRTtJQUNoRixJQUFJLEtBQUssR0FBRyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxRQUFRLENBQzNFLEtBQUssQ0FBQyxLQUFLLENBQ1osSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDNUIsSUFBSSxlQUFlLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDMUIsS0FBSyxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO0tBQzNDO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFZLEVBQUUsRUFBRTtJQUN6QyxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUQsT0FBTyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQVMsRUFBRSxHQUFVLEVBQUUsUUFBZSxDQUFDLENBQUM7QUFDN0YsQ0FBQyxDQUFDO0FBRUYsTUFBTSxPQUFPLEtBQUs7SUFDaEIsWUFDUyxPQUFlLEVBQ2YsT0FBZSxFQUNmLElBQWlCLEVBQ2pCLEtBQXVCLEVBQ3ZCLFVBQTJDO1FBSjNDLFlBQU8sR0FBUCxPQUFPLENBQVE7UUFDZixZQUFPLEdBQVAsT0FBTyxDQUFRO1FBQ2YsU0FBSSxHQUFKLElBQUksQ0FBYTtRQUNqQixVQUFLLEdBQUwsS0FBSyxDQUFrQjtRQUN2QixlQUFVLEdBQVYsVUFBVSxDQUFpQztJQUNqRCxDQUFDO0NBQ0wiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRQcm94eVRhcmdldCwgbm9TZXJpYWxpemUsIE5vU2VyaWFsaXplLCB1bndyYXBQcm94eSB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgbmV3SW52b2tlQ29udGV4dCwgaW52b2tlIH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyBsb2dFcnJvciwgbG9nRXJyb3JBbmRTdG9wIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgZGVsYXksIHNhZmVDYWxsLCB0aGVuIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgaXNTZXJ2ZXIgfSBmcm9tICcuLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBpbXBsaWNpdCRGaXJzdEFyZyB9IGZyb20gJy4uL3V0aWwvaW1wbGljaXRfZG9sbGFyJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGFzc2VydFFybCwgY3JlYXRlUVJMLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHtcbiAgY29kZVRvVGV4dCxcbiAgcUVycm9yLFxuICBRRXJyb3JfY2FuTm90TW91bnRVc2VTZXJ2ZXJNb3VudCxcbiAgUUVycm9yX3RyYWNrVXNlU3RvcmUsXG59IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IHVzZU9uIH0gZnJvbSAnLi91c2Utb24nO1xuaW1wb3J0IHsgR2V0T2JqSUQsIGludFRvU3RyLCBzdHJUb0ludCB9IGZyb20gJy4uL29iamVjdC9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lclN0YXRlIH0gZnJvbSAnLi4vcmVuZGVyL2NvbnRhaW5lcic7XG5pbXBvcnQgeyBfaFcgfSBmcm9tICcuLi9yZW5kZXIvZG9tL25vdGlmeS1yZW5kZXInO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc2VxdWVudGlhbC1zY29wZSc7XG5pbXBvcnQgdHlwZSB7IFF3aWtFbGVtZW50LCBWaXJ0dWFsRWxlbWVudCB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcblxuZXhwb3J0IGNvbnN0IFdhdGNoRmxhZ3NJc0VmZmVjdCA9IDEgPDwgMDtcbmV4cG9ydCBjb25zdCBXYXRjaEZsYWdzSXNXYXRjaCA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBXYXRjaEZsYWdzSXNEaXJ0eSA9IDEgPDwgMjtcbmV4cG9ydCBjb25zdCBXYXRjaEZsYWdzSXNDbGVhbnVwID0gMSA8PCAzO1xuZXhwb3J0IGNvbnN0IFdhdGNoRmxhZ3NJc1Jlc291cmNlID0gMSA8PCA0O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNUcmFja2VyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI1RyYWNrZXIgaW5zdGVhZClcbi8qKlxuICogVXNlZCB0byBzaWduYWwgdG8gUXdpayB3aGljaCBzdGF0ZSBzaG91bGQgYmUgd2F0Y2hlZCBmb3IgY2hhbmdlcy5cbiAqXG4gKiBUaGUgYFRyYWNrZXJgIGlzIHBhc3NlZCBpbnRvIHRoZSBgd2F0Y2hGbmAgb2YgYHVzZVdhdGNoYC4gSXQgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCB0byB3cmFwXG4gKiBzdGF0ZSBvYmplY3RzIGluIGEgcmVhZCBwcm94eSB3aGljaCBzaWduYWxzIHRvIFF3aWsgd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgd2F0Y2hlZCBmb3JcbiAqIGNoYW5nZXMuIEEgY2hhbmdlIHRvIGFueSBvZiB0aGUgcHJvcGVydGllcyBjYXVzZXMgdGhlIGB3YXRjaEZuYCB0byByZXJ1bi5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGhlIGBvYnNgIHBhc3NlZCBpbnRvIHRoZSBgd2F0Y2hGbmAgaXMgdXNlZCB0byBtYXJrIGBzdGF0ZS5jb3VudGAgYXMgYSBwcm9wZXJ0eSBvZiBpbnRlcmVzdC5cbiAqIEFueSBjaGFuZ2VzIHRvIHRoZSBgc3RhdGUuY291bnRgIHByb3BlcnR5IHdpbGwgY2F1c2UgdGhlIGB3YXRjaEZuYCB0byByZXJ1bi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHsgY291bnQ6IDAsIGRvdWJsZUNvdW50OiAwIH0pO1xuICogICB1c2VXYXRjaCQoKHsgdHJhY2sgfSkgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soc3RvcmUsICdjb3VudCcpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiBzdG9yZS5jb3VudCsrfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVdhdGNoYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBUcmFja2VyIHtcbiAgPFQgZXh0ZW5kcyB7fT4ob2JqOiBUKTogVDtcbiAgPFQgZXh0ZW5kcyB7fSwgQiBleHRlbmRzIGtleW9mIFQ+KG9iajogVCwgcHJvcDogQik6IFRbQl07XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFdhdGNoQ3R4IHtcbiAgdHJhY2s6IFRyYWNrZXI7XG4gIGNsZWFudXAoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZUN0eDxUPiB7XG4gIHRyYWNrOiBUcmFja2VyO1xuICBjbGVhbnVwKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZDtcbiAgcHJldmlvdXM6IFQgfCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBXYXRjaEZuID0gKGN0eDogV2F0Y2hDdHgpID0+IFZhbHVlT3JQcm9taXNlPHZvaWQgfCAoKCkgPT4gdm9pZCk+O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUmVzb3VyY2VGbjxUPiA9IChjdHg6IFJlc291cmNlQ3R4PFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIE1vdW50Rm48VD4gPSAoKSA9PiBWYWx1ZU9yUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFJlc291cmNlUmV0dXJuPFQ+ID0gUmVzb3VyY2VQZW5kaW5nPFQ+IHwgUmVzb3VyY2VSZXNvbHZlZDxUPiB8IFJlc291cmNlUmVqZWN0ZWQ8VD47XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlUGVuZGluZzxUPiB7XG4gIF9fYnJhbmQ6ICdyZXNvdXJjZSc7XG4gIHN0YXRlOiAncGVuZGluZyc7XG5cbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgcmVzb2x2ZWQ6IHVuZGVmaW5lZDtcbiAgZXJyb3I6IHVuZGVmaW5lZDtcbiAgdGltZW91dD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VSZXNvbHZlZDxUPiB7XG4gIF9fYnJhbmQ6ICdyZXNvdXJjZSc7XG4gIHN0YXRlOiAncmVzb2x2ZWQnO1xuXG4gIHByb21pc2U6IFByb21pc2U8VD47XG4gIHJlc29sdmVkOiBUO1xuICBlcnJvcjogdW5kZWZpbmVkO1xuICB0aW1lb3V0PzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVJlamVjdGVkPFQ+IHtcbiAgX19icmFuZDogJ3Jlc291cmNlJztcbiAgc3RhdGU6ICdyZWplY3RlZCc7XG5cbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgcmVzb2x2ZWQ6IHVuZGVmaW5lZDtcbiAgZXJyb3I6IGFueTtcbiAgdGltZW91dD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXNjcmlwdG9yQmFzZTxUID0gYW55LCBCID0gdW5kZWZpbmVkPiB7XG4gICRxcmwkOiBRUkxJbnRlcm5hbDxUPjtcbiAgJGVsJDogUXdpa0VsZW1lbnQ7XG4gICRmbGFncyQ6IG51bWJlcjtcbiAgJGluZGV4JDogbnVtYmVyO1xuICAkZGVzdHJveSQ/OiBOb1NlcmlhbGl6ZTwoKSA9PiB2b2lkPjtcbiAgJHJlc291cmNlJDogQjtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEVhZ2VybmVzc09wdGlvbnMgPSAndmlzaWJsZScgfCAnbG9hZCc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZUVmZmVjdE9wdGlvbnMge1xuICAvKipcbiAgICogLSBgdmlzaWJsZWA6IHJ1biB0aGUgZWZmZWN0IHdoZW4gdGhlIGVsZW1lbnQgaXMgdmlzaWJsZS5cbiAgICogLSBgbG9hZGA6IGVhZ2VybHkgcnVuIHRoZSBlZmZlY3Qgd2hlbiB0aGUgYXBwbGljYXRpb24gcmVzdW1lcy5cbiAgICovXG4gIGVhZ2VybmVzcz86IEVhZ2VybmVzc09wdGlvbnM7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZVdhdGNoT3B0aW9ucyB7XG4gIC8qKlxuICAgKiAtIGB2aXNpYmxlYDogcnVuIHRoZSBlZmZlY3Qgd2hlbiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlLlxuICAgKiAtIGBsb2FkYDogZWFnZXJseSBydW4gdGhlIGVmZmVjdCB3aGVuIHRoZSBhcHBsaWNhdGlvbiByZXN1bWVzLlxuICAgKi9cbiAgZWFnZXJuZXNzPzogRWFnZXJuZXNzT3B0aW9ucztcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlV2F0Y2hcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlV2F0Y2ggaW5zdGVhZClcbi8qKlxuICogUmVydW5zIHRoZSBgd2F0Y2hGbmAgd2hlbiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBVc2UgYHVzZVdhdGNoYCB0byBvYnNlcnZlIGNoYW5nZXMgb24gYSBzZXQgb2YgaW5wdXRzLCBhbmQgdGhlbiByZS1leGVjdXRlIHRoZSBgd2F0Y2hGbmAgd2hlblxuICogdGhvc2UgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBUaGUgYHdhdGNoRm5gIG9ubHkgZXhlY3V0ZXMgaWYgdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuIFRvIG9ic2VydmUgdGhlIGlucHV0cywgdXNlIHRoZVxuICogYG9ic2AgZnVuY3Rpb24gdG8gd3JhcCBwcm9wZXJ0eSByZWFkcy4gVGhpcyBjcmVhdGVzIHN1YnNjcmlwdGlvbnMgdGhhdCB3aWxsIHRyaWdnZXIgdGhlXG4gKiBgd2F0Y2hGbmAgdG8gcmVydW4uXG4gKlxuICogQHNlZSBgVHJhY2tlcmBcbiAqXG4gKiBAcHVibGljXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBgdXNlV2F0Y2hgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gb2JzZXJ2ZSB0aGUgYHN0YXRlLmNvdW50YCBwcm9wZXJ0eS4gQW55IGNoYW5nZXMgdG8gdGhlXG4gKiBgc3RhdGUuY291bnRgIGNhdXNlIHRoZSBgd2F0Y2hGbmAgdG8gZXhlY3V0ZSB3aGljaCBpbiB0dXJuIHVwZGF0ZXMgdGhlIGBzdGF0ZS5kb3VibGVDb3VudGAgdG9cbiAqIHRoZSBkb3VibGUgb2YgYHN0YXRlLmNvdW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgICBkb3VibGVDb3VudDogMCxcbiAqICAgICBkZWJvdW5jZWQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRG91YmxlIGNvdW50IHdhdGNoXG4gKiAgIHVzZVdhdGNoJCgoeyB0cmFjayB9KSA9PiB7XG4gKiAgICAgY29uc3QgY291bnQgPSB0cmFjayhzdG9yZSwgJ2NvdW50Jyk7XG4gKiAgICAgc3RvcmUuZG91YmxlQ291bnQgPSAyICogY291bnQ7XG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRGVib3VuY2VyIHdhdGNoXG4gKiAgIHVzZVdhdGNoJCgoeyB0cmFjayB9KSA9PiB7XG4gKiAgICAgY29uc3QgZG91YmxlQ291bnQgPSB0cmFjayhzdG9yZSwgJ2RvdWJsZUNvdW50Jyk7XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmRlYm91bmNlZCA9IGRvdWJsZUNvdW50O1xuICogICAgIH0sIDIwMDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8ZGl2PlxuICogICAgICAgICB7c3RvcmUuY291bnR9IC8ge3N0b3JlLmRvdWJsZUNvdW50fVxuICogICAgICAgPC9kaXY+XG4gKiAgICAgICA8ZGl2PntzdG9yZS5kZWJvdW5jZWR9PC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3YXRjaCAtIEZ1bmN0aW9uIHdoaWNoIHNob3VsZCBiZSByZS1leGVjdXRlZCB3aGVuIGNoYW5nZXMgdG8gdGhlIGlucHV0cyBhcmUgZGV0ZWN0ZWRcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVdhdGNoUXJsID0gKHFybDogUVJMPFdhdGNoRm4+LCBvcHRzPzogVXNlV2F0Y2hPcHRpb25zKTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCwgaSB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPGJvb2xlYW4+KCk7XG4gIGlmICghZ2V0KSB7XG4gICAgYXNzZXJ0UXJsKHFybCk7XG4gICAgY29uc3QgZWwgPSBjdHguJGhvc3RFbGVtZW50JDtcbiAgICBjb25zdCBjb250YWluZXJTdGF0ZSA9IGN0eC4kcmVuZGVyQ3R4JC4kY29udGFpbmVyU3RhdGUkO1xuICAgIGNvbnN0IHdhdGNoID0gbmV3IFdhdGNoKFdhdGNoRmxhZ3NJc0RpcnR5IHwgV2F0Y2hGbGFnc0lzV2F0Y2gsIGksIGVsLCBxcmwsIHVuZGVmaW5lZCk7XG4gICAgc2V0KHRydWUpO1xuICAgIGdldENvbnRleHQoZWwpLiR3YXRjaGVzJC5wdXNoKHdhdGNoKTtcbiAgICBjb25zdCBwcmV2aW91c1dhaXQgPSBjdHguJHdhaXRPbiQuc2xpY2UoKTtcbiAgICBjdHguJHdhaXRPbiQucHVzaChQcm9taXNlLmFsbChwcmV2aW91c1dhaXQpLnRoZW4oKCkgPT4gcnVuU3Vic2NyaWJlcih3YXRjaCwgY29udGFpbmVyU3RhdGUpKSk7XG4gICAgY29uc3QgaXNTZXJ2ZXIgPSBjb250YWluZXJTdGF0ZS4kcGxhdGZvcm0kLmlzU2VydmVyO1xuICAgIGlmIChpc1NlcnZlcikge1xuICAgICAgdXNlUnVuV2F0Y2god2F0Y2gsIG9wdHM/LmVhZ2VybmVzcyk7XG4gICAgfVxuICB9XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VXYXRjaFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VXYXRjaCBpbnN0ZWFkKVxuLyoqXG4gKiBSZXJ1bnMgdGhlIGB3YXRjaEZuYCB3aGVuIHRoZSBvYnNlcnZlZCBpbnB1dHMgY2hhbmdlLlxuICpcbiAqIFVzZSBgdXNlV2F0Y2hgIHRvIG9ic2VydmUgY2hhbmdlcyBvbiBhIHNldCBvZiBpbnB1dHMsIGFuZCB0aGVuIHJlLWV4ZWN1dGUgdGhlIGB3YXRjaEZuYCB3aGVuXG4gKiB0aG9zZSBpbnB1dHMgY2hhbmdlLlxuICpcbiAqIFRoZSBgd2F0Y2hGbmAgb25seSBleGVjdXRlcyBpZiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS4gVG8gb2JzZXJ2ZSB0aGUgaW5wdXRzLCB1c2UgdGhlXG4gKiBgb2JzYCBmdW5jdGlvbiB0byB3cmFwIHByb3BlcnR5IHJlYWRzLiBUaGlzIGNyZWF0ZXMgc3Vic2NyaXB0aW9ucyB0aGF0IHdpbGwgdHJpZ2dlciB0aGVcbiAqIGB3YXRjaEZuYCB0byByZXJ1bi5cbiAqXG4gKiBAc2VlIGBUcmFja2VyYFxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGhlIGB1c2VXYXRjaGAgZnVuY3Rpb24gaXMgdXNlZCB0byBvYnNlcnZlIHRoZSBgc3RhdGUuY291bnRgIHByb3BlcnR5LiBBbnkgY2hhbmdlcyB0byB0aGVcbiAqIGBzdGF0ZS5jb3VudGAgY2F1c2UgdGhlIGB3YXRjaEZuYCB0byBleGVjdXRlIHdoaWNoIGluIHR1cm4gdXBkYXRlcyB0aGUgYHN0YXRlLmRvdWJsZUNvdW50YCB0b1xuICogdGhlIGRvdWJsZSBvZiBgc3RhdGUuY291bnRgLlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGNvdW50OiAwLFxuICogICAgIGRvdWJsZUNvdW50OiAwLFxuICogICAgIGRlYm91bmNlZDogMCxcbiAqICAgfSk7XG4gKlxuICogICAvLyBEb3VibGUgY291bnQgd2F0Y2hcbiAqICAgdXNlV2F0Y2gkKCh7IHRyYWNrIH0pID0+IHtcbiAqICAgICBjb25zdCBjb3VudCA9IHRyYWNrKHN0b3JlLCAnY291bnQnKTtcbiAqICAgICBzdG9yZS5kb3VibGVDb3VudCA9IDIgKiBjb3VudDtcbiAqICAgfSk7XG4gKlxuICogICAvLyBEZWJvdW5jZXIgd2F0Y2hcbiAqICAgdXNlV2F0Y2gkKCh7IHRyYWNrIH0pID0+IHtcbiAqICAgICBjb25zdCBkb3VibGVDb3VudCA9IHRyYWNrKHN0b3JlLCAnZG91YmxlQ291bnQnKTtcbiAqICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICogICAgICAgc3RvcmUuZGVib3VuY2VkID0gZG91YmxlQ291bnQ7XG4gKiAgICAgfSwgMjAwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxkaXY+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L2Rpdj5cbiAqICAgICAgIDxkaXY+e3N0b3JlLmRlYm91bmNlZH08L2Rpdj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHBhcmFtIHdhdGNoIC0gRnVuY3Rpb24gd2hpY2ggc2hvdWxkIGJlIHJlLWV4ZWN1dGVkIHdoZW4gY2hhbmdlcyB0byB0aGUgaW5wdXRzIGFyZSBkZXRlY3RlZFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlV2F0Y2gkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VXYXRjaFFybCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNsaWVudEVmZmVjdFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGllbnRFZmZlY3QgaW5zdGVhZClcbi8qKlxuICogYGBgdHN4XG4gKiBjb25zdCBUaW1lciA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VDbGllbnRFZmZlY3QkKCgpID0+IHtcbiAqICAgICAvLyBPbmx5IHJ1bnMgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICogICAgICAgc3RvcmUuY291bnQrKztcbiAqICAgICB9LCA1MDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiA8ZGl2PntzdG9yZS5jb3VudH08L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNsaWVudEVmZmVjdFFybCA9IChxcmw6IFFSTDxXYXRjaEZuPiwgb3B0cz86IFVzZUVmZmVjdE9wdGlvbnMpOiB2b2lkID0+IHtcbiAgY29uc3QgeyBnZXQsIHNldCwgaSwgY3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8Ym9vbGVhbj4oKTtcbiAgaWYgKCFnZXQpIHtcbiAgICBhc3NlcnRRcmwocXJsKTtcbiAgICBjb25zdCBlbCA9IGN0eC4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IHdhdGNoID0gbmV3IFdhdGNoKFdhdGNoRmxhZ3NJc0VmZmVjdCwgaSwgZWwsIHFybCwgdW5kZWZpbmVkKTtcbiAgICBzZXQodHJ1ZSk7XG4gICAgZ2V0Q29udGV4dChlbCkuJHdhdGNoZXMkLnB1c2god2F0Y2gpO1xuICAgIHVzZVJ1bldhdGNoKHdhdGNoLCBvcHRzPy5lYWdlcm5lc3MgPz8gJ3Zpc2libGUnKTtcbiAgICBjb25zdCBkb2MgPSBjdHguJGRvYyQgYXMgYW55O1xuICAgIGlmIChkb2NbJ3FPJ10pIHtcbiAgICAgIGRvY1sncU8nXS5vYnNlcnZlKGVsKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNsaWVudEVmZmVjdFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGllbnRFZmZlY3QgaW5zdGVhZClcbi8qKlxuICogYGBgdHN4XG4gKiBjb25zdCBUaW1lciA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VDbGllbnRFZmZlY3QkKCgpID0+IHtcbiAqICAgICAvLyBPbmx5IHJ1bnMgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICogICAgICAgc3RvcmUuY291bnQrKztcbiAqICAgICB9LCA1MDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiA8ZGl2PntzdG9yZS5jb3VudH08L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNsaWVudEVmZmVjdCQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZUNsaWVudEVmZmVjdFFybCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyJ3MgYSBzZXJ2ZXIgbW91bnQgaG9vayB0aGF0IHJ1bnMgb25seSBpbiB0aGUgc2VydmVyIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdFxuICogbW91bnRlZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgdXNlcnM6IFtdLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZVNlcnZlck1vdW50JChhc3luYyAoKSA9PiB7XG4gKiAgICAgLy8gVGhpcyBjb2RlIHdpbGwgT05MWSBydW4gb25jZSBpbiB0aGUgc2VydmVyLCB3aGVuIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZFxuICogICAgIHN0b3JlLnVzZXJzID0gYXdhaXQgZGIucmVxdWVzdFVzZXJzKCk7XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAge3N0b3JlLnVzZXJzLm1hcCgodXNlcikgPT4gKFxuICogICAgICAgICA8VXNlciB1c2VyPXt1c2VyfSAvPlxuICogICAgICAgKSl9XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBpbnRlcmZhY2UgVXNlciB7XG4gKiAgIG5hbWU6IHN0cmluZztcbiAqIH1cbiAqIGZ1bmN0aW9uIFVzZXIocHJvcHM6IHsgdXNlcjogVXNlciB9KSB7XG4gKiAgIHJldHVybiA8ZGl2Pk5hbWU6IHtwcm9wcy51c2VyLm5hbWV9PC9kaXY+O1xuICogfVxuICogYGBgXG4gKlxuICogQHNlZSBgdXNlTW91bnRgXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTZXJ2ZXJNb3VudFFybCA9IDxUPihtb3VudFFybDogUVJMPE1vdW50Rm48VD4+KTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPGJvb2xlYW4+KCk7XG4gIGlmIChnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzU2VydmVyKGN0eC4kZG9jJCkpIHtcbiAgICBjdHguJHdhaXRPbiQucHVzaChtb3VudFFybCgpKTtcbiAgICBzZXQodHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9jYW5Ob3RNb3VudFVzZVNlcnZlck1vdW50LCBjdHguJGhvc3RFbGVtZW50JCk7XG4gIH1cbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyJ3MgYSBzZXJ2ZXIgbW91bnQgaG9vayB0aGF0IHJ1bnMgb25seSBpbiB0aGUgc2VydmVyIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdFxuICogbW91bnRlZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgdXNlcnM6IFtdLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZVNlcnZlck1vdW50JChhc3luYyAoKSA9PiB7XG4gKiAgICAgLy8gVGhpcyBjb2RlIHdpbGwgT05MWSBydW4gb25jZSBpbiB0aGUgc2VydmVyLCB3aGVuIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZFxuICogICAgIHN0b3JlLnVzZXJzID0gYXdhaXQgZGIucmVxdWVzdFVzZXJzKCk7XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAge3N0b3JlLnVzZXJzLm1hcCgodXNlcikgPT4gKFxuICogICAgICAgICA8VXNlciB1c2VyPXt1c2VyfSAvPlxuICogICAgICAgKSl9XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBpbnRlcmZhY2UgVXNlciB7XG4gKiAgIG5hbWU6IHN0cmluZztcbiAqIH1cbiAqIGZ1bmN0aW9uIFVzZXIocHJvcHM6IHsgdXNlcjogVXNlciB9KSB7XG4gKiAgIHJldHVybiA8ZGl2Pk5hbWU6IHtwcm9wcy51c2VyLm5hbWV9PC9kaXY+O1xuICogfVxuICogYGBgXG4gKlxuICogQHNlZSBgdXNlTW91bnRgXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTZXJ2ZXJNb3VudCQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZVNlcnZlck1vdW50UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlTW91bnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlTW91bnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBzZXJ2ZXIgbW91bnQgaG9vayB0aGF0IHJ1bnMgb25seSBpbiB0aGUgc2VydmVyIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdCBtb3VudGVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB0ZW1wOiAwLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZU1vdW50JChhc3luYyAoKSA9PiB7XG4gKiAgICAgLy8gVGhpcyBjb2RlIHdpbGwgcnVuIG9uY2Ugd2hlbmV2ZXIgYSBjb21wb25lbnQgaXMgbW91bnRlZCBpbiB0aGUgc2VydmVyLCBvciBpbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ3dlYXRoZXItYXBpLmV4YW1wbGUnKTtcbiAqICAgICBjb25zdCBqc29uID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIGFueTtcbiAqICAgICBzdG9yZS50ZW1wID0ganNvbi50ZW1wO1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxwPlRoZSB0ZW1wZXJhdHVyZSBpczogJHtzdG9yZS50ZW1wfTwvcD5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU2VydmVyTW91bnRgXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VNb3VudFFybCA9IDxUPihtb3VudFFybDogUVJMPE1vdW50Rm48VD4+KTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPGJvb2xlYW4+KCk7XG4gIGlmIChnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY3R4LiR3YWl0T24kLnB1c2gobW91bnRRcmwoKSk7XG4gIHNldCh0cnVlKTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZU1vdW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZU1vdW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgc2VydmVyIG1vdW50IGhvb2sgdGhhdCBydW5zIG9ubHkgaW4gdGhlIHNlcnZlciB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3QgbW91bnRlZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgdGVtcDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VNb3VudCQoYXN5bmMgKCkgPT4ge1xuICogICAgIC8vIFRoaXMgY29kZSB3aWxsIHJ1biBvbmNlIHdoZW5ldmVyIGEgY29tcG9uZW50IGlzIG1vdW50ZWQgaW4gdGhlIHNlcnZlciwgb3IgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCd3ZWF0aGVyLWFwaS5leGFtcGxlJyk7XG4gKiAgICAgY29uc3QganNvbiA9IChhd2FpdCByZXMuanNvbigpKSBhcyBhbnk7XG4gKiAgICAgc3RvcmUudGVtcCA9IGpzb24udGVtcDtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8cD5UaGUgdGVtcGVyYXR1cmUgaXM6ICR7c3RvcmUudGVtcH08L3A+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVNlcnZlck1vdW50YFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlTW91bnQkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VNb3VudFFybCk7XG5cbmV4cG9ydCB0eXBlIFN1YnNjcmliZXIgPSBTdWJzY3JpYmVyRGVzY3JpcHRvciB8IFZpcnR1YWxFbGVtZW50IHwgRWxlbWVudDtcblxuZXhwb3J0IHR5cGUgV2F0Y2hEZXNjcmlwdG9yID0gRGVzY3JpcHRvckJhc2U8V2F0Y2hGbj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VEZXNjcmlwdG9yPFQ+IGV4dGVuZHMgRGVzY3JpcHRvckJhc2U8UmVzb3VyY2VGbjxUPiwgUmVzb3VyY2VSZXR1cm48VD4+IHt9XG5cbmV4cG9ydCB0eXBlIFN1YnNjcmliZXJEZXNjcmlwdG9yID0gV2F0Y2hEZXNjcmlwdG9yIHwgUmVzb3VyY2VEZXNjcmlwdG9yPGFueT47XG5cbmV4cG9ydCBjb25zdCBpc1Jlc291cmNlV2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yKTogd2F0Y2ggaXMgUmVzb3VyY2VEZXNjcmlwdG9yPGFueT4gPT4ge1xuICByZXR1cm4gISF3YXRjaC4kcmVzb3VyY2UkO1xufTtcblxuZXhwb3J0IGNvbnN0IHJ1blN1YnNjcmliZXIgPSBhc3luYyAoXG4gIHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvcixcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlXG4pID0+IHtcbiAgYXNzZXJ0RXF1YWwoISEod2F0Y2guJGZsYWdzJCAmIFdhdGNoRmxhZ3NJc0RpcnR5KSwgdHJ1ZSwgJ1Jlc291cmNlIGlzIG5vdCBkaXJ0eScsIHdhdGNoKTtcbiAgaWYgKGlzUmVzb3VyY2VXYXRjaCh3YXRjaCkpIHtcbiAgICBhd2FpdCBydW5SZXNvdXJjZSh3YXRjaCwgY29udGFpbmVyU3RhdGUpO1xuICB9IGVsc2Uge1xuICAgIGF3YWl0IHJ1bldhdGNoKHdhdGNoLCBjb250YWluZXJTdGF0ZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBydW5SZXNvdXJjZSA9IDxUPihcbiAgd2F0Y2g6IFJlc291cmNlRGVzY3JpcHRvcjxUPixcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICB3YWl0T24/OiBQcm9taXNlPGFueT5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgd2F0Y2guJGZsYWdzJCAmPSB+V2F0Y2hGbGFnc0lzRGlydHk7XG4gIGNsZWFudXBXYXRjaCh3YXRjaCk7XG5cbiAgY29uc3QgZWwgPSB3YXRjaC4kZWwkO1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChlbCk7XG4gIGNvbnN0IGludm9rYXRpb25Db250ZXh0ID0gbmV3SW52b2tlQ29udGV4dChkb2MsIGVsLCB1bmRlZmluZWQsICdXYXRjaEV2ZW50Jyk7XG4gIGNvbnN0IHsgJHN1YnNNYW5hZ2VyJDogc3Vic01hbmFnZXIgfSA9IGNvbnRhaW5lclN0YXRlO1xuICBjb25zdCB3YXRjaEZuID0gd2F0Y2guJHFybCQuJGludm9rZUZuJChlbCwgaW52b2thdGlvbkNvbnRleHQsICgpID0+IHtcbiAgICBzdWJzTWFuYWdlci4kY2xlYXJTdWIkKHdhdGNoKTtcbiAgfSk7XG5cbiAgY29uc3QgY2xlYW51cHM6ICgoKSA9PiB2b2lkKVtdID0gW107XG4gIGNvbnN0IHJlc291cmNlID0gd2F0Y2guJHJlc291cmNlJDtcbiAgYXNzZXJ0RGVmaW5lZChcbiAgICByZXNvdXJjZSxcbiAgICAndXNlUmVzb3VyY2U6IHdoZW4gcnVubmluZyBhIHJlc291cmNlLCBcIndhdGNoLnJcIiBtdXN0IGJlIGEgZGVmaW5lZC4nLFxuICAgIHdhdGNoXG4gICk7XG5cbiAgY29uc3QgdHJhY2s6IFRyYWNrZXIgPSAob2JqOiBhbnksIHByb3A/OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBnZXRQcm94eVRhcmdldChvYmopO1xuICAgIGlmICh0YXJnZXQpIHtcbiAgICAgIGNvbnN0IG1hbmFnZXIgPSBzdWJzTWFuYWdlci4kZ2V0TG9jYWwkKHRhcmdldCk7XG4gICAgICBtYW5hZ2VyLiRhZGRTdWIkKHdhdGNoLCBwcm9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9nRXJyb3JBbmRTdG9wKGNvZGVUb1RleHQoUUVycm9yX3RyYWNrVXNlU3RvcmUpLCBvYmopO1xuICAgIH1cbiAgICBpZiAocHJvcCkge1xuICAgICAgcmV0dXJuIG9ialtwcm9wXTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHJlc291cmNlVGFyZ2V0ID0gdW53cmFwUHJveHkocmVzb3VyY2UpO1xuICBjb25zdCBvcHRzOiBSZXNvdXJjZUN0eDxUPiA9IHtcbiAgICB0cmFjayxcbiAgICBjbGVhbnVwKGNhbGxiYWNrKSB7XG4gICAgICBjbGVhbnVwcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHByZXZpb3VzOiByZXNvdXJjZVRhcmdldC5yZXNvbHZlZCxcbiAgfTtcblxuICBsZXQgcmVzb2x2ZTogKHY6IFQpID0+IHZvaWQ7XG4gIGxldCByZWplY3Q6ICh2OiBhbnkpID0+IHZvaWQ7XG4gIGxldCBkb25lID0gZmFsc2U7XG5cbiAgY29uc3Qgc2V0U3RhdGUgPSAocmVzb2x2ZWQ6IGJvb2xlYW4sIHZhbHVlOiBhbnkpID0+IHtcbiAgICBpZiAoIWRvbmUpIHtcbiAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgaWYgKHJlc29sdmVkKSB7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXNvdXJjZS5zdGF0ZSA9ICdyZXNvbHZlZCc7XG4gICAgICAgIHJlc291cmNlLnJlc29sdmVkID0gdmFsdWU7XG4gICAgICAgIHJlc291cmNlLmVycm9yID0gdW5kZWZpbmVkO1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICByZXNvdXJjZS5zdGF0ZSA9ICdyZWplY3RlZCc7XG4gICAgICAgIHJlc291cmNlLnJlc29sdmVkID0gdW5kZWZpbmVkO1xuICAgICAgICByZXNvdXJjZS5lcnJvciA9IHZhbHVlO1xuICAgICAgICByZWplY3QodmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBFeGVjdXRlIG11dGF0aW9uIGluc2lkZSBlbXB0eSBpbnZva2F0aW9uXG4gIGludm9rZShpbnZva2F0aW9uQ29udGV4dCwgKCkgPT4ge1xuICAgIHJlc291cmNlLnN0YXRlID0gJ3BlbmRpbmcnO1xuICAgIHJlc291cmNlLnJlc29sdmVkID0gdW5kZWZpbmVkIGFzIGFueTtcbiAgICByZXNvdXJjZS5wcm9taXNlID0gbmV3IFByb21pc2UoKHIsIHJlKSA9PiB7XG4gICAgICByZXNvbHZlID0gcjtcbiAgICAgIHJlamVjdCA9IHJlO1xuICAgIH0pO1xuICB9KTtcblxuICB3YXRjaC4kZGVzdHJveSQgPSBub1NlcmlhbGl6ZSgoKSA9PiB7XG4gICAgY2xlYW51cHMuZm9yRWFjaCgoZm4pID0+IGZuKCkpO1xuICB9KTtcblxuICBjb25zdCBwcm9taXNlID0gc2FmZUNhbGwoXG4gICAgKCkgPT4gdGhlbih3YWl0T24sICgpID0+IHdhdGNoRm4ob3B0cykpLFxuICAgICh2YWx1ZSkgPT4ge1xuICAgICAgc2V0U3RhdGUodHJ1ZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgKHJlYXNvbikgPT4ge1xuICAgICAgc2V0U3RhdGUoZmFsc2UsIHJlYXNvbik7XG4gICAgfVxuICApO1xuXG4gIGNvbnN0IHRpbWVvdXQgPSByZXNvdXJjZVRhcmdldC50aW1lb3V0O1xuICBpZiAodGltZW91dCkge1xuICAgIHJldHVybiBQcm9taXNlLnJhY2UoW1xuICAgICAgcHJvbWlzZSxcbiAgICAgIGRlbGF5KHRpbWVvdXQpLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoc2V0U3RhdGUoZmFsc2UsICd0aW1lb3V0JykpIHtcbiAgICAgICAgICBjbGVhbnVwV2F0Y2god2F0Y2gpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICBdKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBydW5XYXRjaCA9IChcbiAgd2F0Y2g6IFdhdGNoRGVzY3JpcHRvcixcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlXG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIHdhdGNoLiRmbGFncyQgJj0gfldhdGNoRmxhZ3NJc0RpcnR5O1xuXG4gIGNsZWFudXBXYXRjaCh3YXRjaCk7XG4gIGNvbnN0IGVsID0gd2F0Y2guJGVsJDtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZWwpO1xuICBjb25zdCBpbnZva2F0aW9uQ29udGV4dCA9IG5ld0ludm9rZUNvbnRleHQoZG9jLCBlbCwgdW5kZWZpbmVkLCAnV2F0Y2hFdmVudCcpO1xuICBjb25zdCB7ICRzdWJzTWFuYWdlciQ6IHN1YnNNYW5hZ2VyIH0gPSBjb250YWluZXJTdGF0ZTtcbiAgY29uc3Qgd2F0Y2hGbiA9IHdhdGNoLiRxcmwkLiRpbnZva2VGbiQoZWwsIGludm9rYXRpb25Db250ZXh0LCAoKSA9PiB7XG4gICAgc3Vic01hbmFnZXIuJGNsZWFyU3ViJCh3YXRjaCk7XG4gIH0pIGFzIFdhdGNoRm47XG4gIGNvbnN0IHRyYWNrOiBUcmFja2VyID0gKG9iajogYW55LCBwcm9wPzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0UHJveHlUYXJnZXQob2JqKTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBjb25zdCBtYW5hZ2VyID0gc3Vic01hbmFnZXIuJGdldExvY2FsJCh0YXJnZXQpO1xuICAgICAgbWFuYWdlci4kYWRkU3ViJCh3YXRjaCwgcHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ0Vycm9yQW5kU3RvcChjb2RlVG9UZXh0KFFFcnJvcl90cmFja1VzZVN0b3JlKSwgb2JqKTtcbiAgICB9XG4gICAgaWYgKHByb3ApIHtcbiAgICAgIHJldHVybiBvYmpbcHJvcF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICB9O1xuICBjb25zdCBjbGVhbnVwczogKCgpID0+IHZvaWQpW10gPSBbXTtcbiAgd2F0Y2guJGRlc3Ryb3kkID0gbm9TZXJpYWxpemUoKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgfSk7XG5cbiAgY29uc3Qgb3B0czogV2F0Y2hDdHggPSB7XG4gICAgdHJhY2ssXG4gICAgY2xlYW51cChjYWxsYmFjaykge1xuICAgICAgY2xlYW51cHMucHVzaChjYWxsYmFjayk7XG4gICAgfSxcbiAgfTtcbiAgcmV0dXJuIHNhZmVDYWxsKFxuICAgICgpID0+IHdhdGNoRm4ob3B0cyksXG4gICAgKHJldHVyblZhbHVlKSA9PiB7XG4gICAgICBpZiAoaXNGdW5jdGlvbihyZXR1cm5WYWx1ZSkpIHtcbiAgICAgICAgY2xlYW51cHMucHVzaChyZXR1cm5WYWx1ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICAocmVhc29uKSA9PiB7XG4gICAgICBsb2dFcnJvcihyZWFzb24pO1xuICAgIH1cbiAgKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjbGVhbnVwV2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yKSA9PiB7XG4gIGNvbnN0IGRlc3Ryb3kgPSB3YXRjaC4kZGVzdHJveSQ7XG4gIGlmIChkZXN0cm95KSB7XG4gICAgd2F0Y2guJGRlc3Ryb3kkID0gdW5kZWZpbmVkO1xuICAgIHRyeSB7XG4gICAgICBkZXN0cm95KCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBsb2dFcnJvcihlcnIpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGRlc3Ryb3lXYXRjaCA9ICh3YXRjaDogU3Vic2NyaWJlckRlc2NyaXB0b3IpID0+IHtcbiAgaWYgKHdhdGNoLiRmbGFncyQgJiBXYXRjaEZsYWdzSXNDbGVhbnVwKSB7XG4gICAgd2F0Y2guJGZsYWdzJCAmPSB+V2F0Y2hGbGFnc0lzQ2xlYW51cDtcbiAgICBjb25zdCBjbGVhbnVwID0gd2F0Y2guJHFybCQuJGludm9rZUZuJCh3YXRjaC4kZWwkKTtcbiAgICAoY2xlYW51cCBhcyBhbnkpKCk7XG4gIH0gZWxzZSB7XG4gICAgY2xlYW51cFdhdGNoKHdhdGNoKTtcbiAgfVxufTtcblxuY29uc3QgdXNlUnVuV2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yLCBlYWdlcm5lc3M6IEVhZ2VybmVzc09wdGlvbnMgfCB1bmRlZmluZWQpID0+IHtcbiAgaWYgKGVhZ2VybmVzcyA9PT0gJ2xvYWQnKSB7XG4gICAgdXNlT24oJ3Fpbml0JywgZ2V0V2F0Y2hIYW5kbGVyUXJsKHdhdGNoKSk7XG4gIH0gZWxzZSBpZiAoZWFnZXJuZXNzID09PSAndmlzaWJsZScpIHtcbiAgICB1c2VPbigncXZpc2libGUnLCBnZXRXYXRjaEhhbmRsZXJRcmwod2F0Y2gpKTtcbiAgfVxufTtcblxuY29uc3QgZ2V0V2F0Y2hIYW5kbGVyUXJsID0gKHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvcikgPT4ge1xuICBjb25zdCB3YXRjaFFybCA9IHdhdGNoLiRxcmwkO1xuICBjb25zdCB3YXRjaEhhbmRsZXIgPSBjcmVhdGVRUkwoXG4gICAgd2F0Y2hRcmwuJGNodW5rJCxcbiAgICAnX2hXJyxcbiAgICBfaFcsXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIFt3YXRjaF0sXG4gICAgd2F0Y2hRcmwuJHN5bWJvbCRcbiAgKTtcbiAgcmV0dXJuIHdhdGNoSGFuZGxlcjtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1dhdGNoQ2xlYW51cCA9IChvYmo6IGFueSk6IG9iaiBpcyBXYXRjaERlc2NyaXB0b3IgPT4ge1xuICByZXR1cm4gaXNTdWJzY3JpYmVyRGVzY3JpcHRvcihvYmopICYmICEhKG9iai4kZmxhZ3MkICYgV2F0Y2hGbGFnc0lzQ2xlYW51cCk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTdWJzY3JpYmVyRGVzY3JpcHRvciA9IChvYmo6IGFueSk6IG9iaiBpcyBTdWJzY3JpYmVyRGVzY3JpcHRvciA9PiB7XG4gIHJldHVybiBpc09iamVjdChvYmopICYmIG9iaiBpbnN0YW5jZW9mIFdhdGNoO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZVdhdGNoID0gKHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvciwgZ2V0T2JqSWQ6IEdldE9iaklEKSA9PiB7XG4gIGxldCB2YWx1ZSA9IGAke2ludFRvU3RyKHdhdGNoLiRmbGFncyQpfSAke2ludFRvU3RyKHdhdGNoLiRpbmRleCQpfSAke2dldE9iaklkKFxuICAgIHdhdGNoLiRxcmwkXG4gICl9ICR7Z2V0T2JqSWQod2F0Y2guJGVsJCl9YDtcbiAgaWYgKGlzUmVzb3VyY2VXYXRjaCh3YXRjaCkpIHtcbiAgICB2YWx1ZSArPSBgICR7Z2V0T2JqSWQod2F0Y2guJHJlc291cmNlJCl9YDtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3QgcGFyc2VXYXRjaCA9IChkYXRhOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgW2ZsYWdzLCBpbmRleCwgcXJsLCBlbCwgcmVzb3VyY2VdID0gZGF0YS5zcGxpdCgnICcpO1xuICByZXR1cm4gbmV3IFdhdGNoKHN0clRvSW50KGZsYWdzKSwgc3RyVG9JbnQoaW5kZXgpLCBlbCBhcyBhbnksIHFybCBhcyBhbnksIHJlc291cmNlIGFzIGFueSk7XG59O1xuXG5leHBvcnQgY2xhc3MgV2F0Y2ggaW1wbGVtZW50cyBEZXNjcmlwdG9yQmFzZTxhbnksIGFueT4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgJGZsYWdzJDogbnVtYmVyLFxuICAgIHB1YmxpYyAkaW5kZXgkOiBudW1iZXIsXG4gICAgcHVibGljICRlbCQ6IFF3aWtFbGVtZW50LFxuICAgIHB1YmxpYyAkcXJsJDogUVJMSW50ZXJuYWw8YW55PixcbiAgICBwdWJsaWMgJHJlc291cmNlJDogUmVzb3VyY2VSZXR1cm48YW55PiB8IHVuZGVmaW5lZFxuICApIHt9XG59XG5cbmV4cG9ydCB0eXBlIFJlc291cmNlUmV0dXJuSW50ZXJuYWw8VCA9IGFueT4gPSBSZXNvdXJjZVJldHVybjxUPiAmIHsgZGlydHk6IGJvb2xlYW4gfTtcbiJdfQ==","import { createProxy, getProxyTarget } from '../object/q-object';\nimport { getContext } from '../props/props';\nimport { $ } from '../import/qrl.public';\nimport { assertQrl } from '../import/qrl-class';\nimport { runResource, WatchFlagsIsDirty, WatchFlagsIsResource, Watch, } from './use-watch';\nimport { assertDefined } from '../assert/assert';\nimport { Fragment, jsx } from '../render/jsx/jsx-runtime';\nimport { qDev } from '../util/qdev';\nimport { isServer } from '../platform/platform';\nimport { getInvokeContext, useBindInvokeContext } from './use-core';\nimport { isObject } from '../util/types';\nimport { useSequentialScope } from './use-sequential-scope';\n/**\n * @public\n */\nexport const useResourceQrl = (qrl, opts) => {\n    const { get, set, i, ctx } = useSequentialScope();\n    if (get != null) {\n        return get;\n    }\n    assertQrl(qrl);\n    const containerState = ctx.$renderCtx$.$containerState$;\n    const resource = createResourceReturn(containerState, opts);\n    const el = ctx.$hostElement$;\n    const watch = new Watch(WatchFlagsIsDirty | WatchFlagsIsResource, i, el, qrl, resource);\n    const previousWait = Promise.all(ctx.$waitOn$.slice());\n    runResource(watch, containerState, previousWait);\n    getContext(el).$watches$.push(watch);\n    set(resource);\n    return resource;\n};\n/**\n * @public\n */\nexport const useResource$ = (generatorFn, opts) => {\n    return useResourceQrl($(generatorFn), opts);\n};\n/**\n * @public\n */\nexport const Resource = (props) => {\n    const isBrowser = !qDev || !useIsServer();\n    if (isBrowser) {\n        if (props.onRejected) {\n            props.resource.promise.catch(() => { });\n            if (props.resource.state === 'rejected') {\n                return props.onRejected(props.resource.error);\n            }\n        }\n        if (props.onPending) {\n            const state = props.resource.state;\n            if (state === 'pending') {\n                return props.onPending();\n            }\n            else if (state === 'resolved') {\n                return props.onResolved(props.resource.resolved);\n            }\n        }\n    }\n    const promise = props.resource.promise.then(useBindInvokeContext(props.onResolved), useBindInvokeContext(props.onRejected));\n    // if (isServer) {\n    //   const onPending = props.onPending;\n    //   if (props.ssrWait && onPending) {\n    //     promise = Promise.race([\n    //       delay(props.ssrWait).then(() => {\n    //         getInternalResource(props.resource).dirty = true;\n    //         return onPending();\n    //       }),\n    //       promise,\n    //     ]);\n    //   }\n    // }\n    // Resource path\n    return jsx(Fragment, {\n        children: promise,\n    });\n};\nexport const _createResourceReturn = (opts) => {\n    const resource = {\n        __brand: 'resource',\n        promise: undefined,\n        resolved: undefined,\n        error: undefined,\n        state: 'pending',\n        timeout: opts?.timeout,\n    };\n    return resource;\n};\nexport const createResourceReturn = (containerState, opts, initialPromise) => {\n    const result = _createResourceReturn(opts);\n    result.promise = initialPromise;\n    const resource = createProxy(result, containerState, 0, undefined);\n    return resource;\n};\nexport const useIsServer = () => {\n    const ctx = getInvokeContext();\n    assertDefined(ctx.$doc$, 'doc must be defined', ctx);\n    return isServer(ctx.$doc$);\n};\nexport const getInternalResource = (resource) => {\n    return getProxyTarget(resource);\n};\nexport const isResourceReturn = (obj) => {\n    return isObject(obj) && obj.__brand === 'resource';\n};\nexport const serializeResource = (resource, getObjId) => {\n    const state = resource.state;\n    if (state === 'resolved') {\n        return `0 ${getObjId(resource.resolved)}`;\n    }\n    else if (state === 'pending') {\n        return `1`;\n    }\n    else {\n        return `2 ${getObjId(resource.error)}`;\n    }\n};\nexport const parseResourceReturn = (data) => {\n    const [first, id] = data.split(' ');\n    const result = _createResourceReturn(undefined);\n    result.promise = Promise.resolve();\n    if (first === '0') {\n        result.state = 'resolved';\n        result.resolved = id;\n    }\n    else if (first === '1') {\n        result.state = 'pending';\n        result.promise = new Promise(() => { });\n    }\n    else if (first === '2') {\n        result.state = 'rejected';\n        result.error = id;\n    }\n    return result;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlc291cmNlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtcmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNqRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLENBQUMsRUFBTyxNQUFNLHNCQUFzQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNoRCxPQUFPLEVBSUwsV0FBVyxFQUNYLGlCQUFpQixFQUNqQixvQkFBb0IsRUFFcEIsS0FBSyxHQUNOLE1BQU0sYUFBYSxDQUFDO0FBQ3JCLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBRTFELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxvQkFBb0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUVwRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR3pDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBVTVEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQzVCLEdBQXVCLEVBQ3ZCLElBQXNCLEVBQ0gsRUFBRTtJQUNyQixNQUFNLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsa0JBQWtCLEVBQXFCLENBQUM7SUFDckUsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFF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QUFLLEdBQUcsVUFBVSxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxLQUFLLEdBQUcsRUFBUyxDQUFDO0tBQzFCO0lBQ0QsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUHJveHksIGdldFByb3h5VGFyZ2V0IH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyAkLCBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBhc3NlcnRRcmwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7XG4gIFJlc291cmNlUmV0dXJuLFxuICBSZXNvdXJjZURlc2NyaXB0b3IsXG4gIFJlc291cmNlRm4sXG4gIHJ1blJlc291cmNlLFxuICBXYXRjaEZsYWdzSXNEaXJ0eSxcbiAgV2F0Y2hGbGFnc0lzUmVzb3VyY2UsXG4gIFJlc291cmNlUmV0dXJuSW50ZXJuYWwsXG4gIFdhdGNoLFxufSBmcm9tICcuL3VzZS13YXRjaCc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBGcmFnbWVudCwganN4IH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGUgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgaXNTZXJ2ZXIgfSBmcm9tICcuLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBnZXRJbnZva2VDb250ZXh0LCB1c2VCaW5kSW52b2tlQ29udGV4dCB9IGZyb20gJy4vdXNlLWNvcmUnO1xuXG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBHZXRPYmpJRCB9IGZyb20gJy4uL29iamVjdC9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lclN0YXRlIH0gZnJvbSAnLi4vcmVuZGVyL2NvbnRhaW5lcic7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VPcHRpb25zIHtcbiAgLy8gVGltZW91dCBpbiBtaWxsaXNlY29uZHNcbiAgdGltZW91dD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VSZXNvdXJjZVFybCA9IDxUPihcbiAgcXJsOiBRUkw8UmVzb3VyY2VGbjxUPj4sXG4gIG9wdHM/OiBSZXNvdXJjZU9wdGlvbnNcbik6IFJlc291cmNlUmV0dXJuPFQ+ID0+IHtcbiAgY29uc3QgeyBnZXQsIHNldCwgaSwgY3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8UmVzb3VyY2VSZXR1cm48VD4+KCk7XG4gIGlmIChnZXQgIT0gbnVsbCkge1xuICAgIHJldHVybiBnZXQ7XG4gIH1cbiAgYXNzZXJ0UXJsKHFybCk7XG5cbiAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBjdHguJHJlbmRlckN0eCQuJGNvbnRhaW5lclN0YXRlJDtcbiAgY29uc3QgcmVzb3VyY2UgPSBjcmVhdGVSZXNvdXJjZVJldHVybjxUPihjb250YWluZXJTdGF0ZSwgb3B0cyk7XG4gIGNvbnN0IGVsID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IHdhdGNoID0gbmV3IFdhdGNoKFxuICAgIFdhdGNoRmxhZ3NJc0RpcnR5IHwgV2F0Y2hGbGFnc0lzUmVzb3VyY2UsXG4gICAgaSxcbiAgICBlbCxcbiAgICBxcmwsXG4gICAgcmVzb3VyY2VcbiAgKSBhcyBSZXNvdXJjZURlc2NyaXB0b3I8YW55PjtcbiAgY29uc3QgcHJldmlvdXNXYWl0ID0gUHJvbWlzZS5hbGwoY3R4LiR3YWl0T24kLnNsaWNlKCkpO1xuICBydW5SZXNvdXJjZSh3YXRjaCwgY29udGFpbmVyU3RhdGUsIHByZXZpb3VzV2FpdCk7XG4gIGdldENvbnRleHQoZWwpLiR3YXRjaGVzJC5wdXNoKHdhdGNoKTtcbiAgc2V0KHJlc291cmNlKTtcblxuICByZXR1cm4gcmVzb3VyY2U7XG59O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVJlc291cmNlJCA9IDxUPihcbiAgZ2VuZXJhdG9yRm46IFJlc291cmNlRm48VD4sXG4gIG9wdHM/OiBSZXNvdXJjZU9wdGlvbnNcbik6IFJlc291cmNlUmV0dXJuPFQ+ID0+IHtcbiAgcmV0dXJuIHVzZVJlc291cmNlUXJsPFQ+KCQoZ2VuZXJhdG9yRm4pLCBvcHRzKTtcbn07XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlUHJvcHM8VD4ge1xuICByZXNvdXJjZTogUmVzb3VyY2VSZXR1cm48VD47XG4gIG9uUmVzb2x2ZWQ6ICh2YWx1ZTogVCkgPT4gSlNYTm9kZTtcbiAgb25QZW5kaW5nPzogKCkgPT4gSlNYTm9kZTtcbiAgb25SZWplY3RlZD86IChyZWFzb246IGFueSkgPT4gSlNYTm9kZTtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBSZXNvdXJjZSA9IDxUPihwcm9wczogUmVzb3VyY2VQcm9wczxUPik6IEpTWE5vZGUgPT4ge1xuICBjb25zdCBpc0Jyb3dzZXIgPSAhcURldiB8fCAhdXNlSXNTZXJ2ZXIoKTtcbiAgaWYgKGlzQnJvd3Nlcikge1xuICAgIGlmIChwcm9wcy5vblJlamVjdGVkKSB7XG4gICAgICBwcm9wcy5yZXNvdXJjZS5wcm9taXNlLmNhdGNoKCgpID0+IHt9KTtcbiAgICAgIGlmIChwcm9wcy5yZXNvdXJjZS5zdGF0ZSA9PT0gJ3JlamVjdGVkJykge1xuICAgICAgICByZXR1cm4gcHJvcHMub25SZWplY3RlZChwcm9wcy5yZXNvdXJjZS5lcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9wcy5vblBlbmRpbmcpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gcHJvcHMucmVzb3VyY2Uuc3RhdGU7XG4gICAgICBpZiAoc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgICAgICByZXR1cm4gcHJvcHMub25QZW5kaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlID09PSAncmVzb2x2ZWQnKSB7XG4gICAgICAgIHJldHVybiBwcm9wcy5vblJlc29sdmVkKHByb3BzLnJlc291cmNlLnJlc29sdmVkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBwcm9taXNlOiBhbnkgPSBwcm9wcy5yZXNvdXJjZS5wcm9taXNlLnRoZW4oXG4gICAgdXNlQmluZEludm9rZUNvbnRleHQocHJvcHMub25SZXNvbHZlZCksXG4gICAgdXNlQmluZEludm9rZUNvbnRleHQocHJvcHMub25SZWplY3RlZClcbiAgKTtcbiAgLy8gaWYgKGlzU2VydmVyKSB7XG4gIC8vICAgY29uc3Qgb25QZW5kaW5nID0gcHJvcHMub25QZW5kaW5nO1xuICAvLyAgIGlmIChwcm9wcy5zc3JXYWl0ICYmIG9uUGVuZGluZykge1xuICAvLyAgICAgcHJvbWlzZSA9IFByb21pc2UucmFjZShbXG4gIC8vICAgICAgIGRlbGF5KHByb3BzLnNzcldhaXQpLnRoZW4oKCkgPT4ge1xuICAvLyAgICAgICAgIGdldEludGVybmFsUmVzb3VyY2UocHJvcHMucmVzb3VyY2UpLmRpcnR5ID0gdHJ1ZTtcbiAgLy8gICAgICAgICByZXR1cm4gb25QZW5kaW5nKCk7XG4gIC8vICAgICAgIH0pLFxuICAvLyAgICAgICBwcm9taXNlLFxuICAvLyAgICAgXSk7XG4gIC8vICAgfVxuICAvLyB9XG5cbiAgLy8gUmVzb3VyY2UgcGF0aFxuICByZXR1cm4ganN4KEZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IHByb21pc2UsXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IF9jcmVhdGVSZXNvdXJjZVJldHVybiA9IDxUPihvcHRzPzogUmVzb3VyY2VPcHRpb25zKTogUmVzb3VyY2VSZXR1cm48VD4gPT4ge1xuICBjb25zdCByZXNvdXJjZTogUmVzb3VyY2VSZXR1cm48VD4gPSB7XG4gICAgX19icmFuZDogJ3Jlc291cmNlJyxcbiAgICBwcm9taXNlOiB1bmRlZmluZWQgYXMgbmV2ZXIsXG4gICAgcmVzb2x2ZWQ6IHVuZGVmaW5lZCBhcyBuZXZlcixcbiAgICBlcnJvcjogdW5kZWZpbmVkIGFzIG5ldmVyLFxuICAgIHN0YXRlOiAncGVuZGluZycsXG4gICAgdGltZW91dDogb3B0cz8udGltZW91dCxcbiAgfTtcbiAgcmV0dXJuIHJlc291cmNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlc291cmNlUmV0dXJuID0gPFQ+KFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gIG9wdHM/OiBSZXNvdXJjZU9wdGlvbnMsXG4gIGluaXRpYWxQcm9taXNlPzogUHJvbWlzZTxUPlxuKTogUmVzb3VyY2VSZXR1cm48VD4gPT4ge1xuICBjb25zdCByZXN1bHQgPSBfY3JlYXRlUmVzb3VyY2VSZXR1cm48VD4ob3B0cyk7XG4gIHJlc3VsdC5wcm9taXNlID0gaW5pdGlhbFByb21pc2UgYXMgYW55O1xuICBjb25zdCByZXNvdXJjZSA9IGNyZWF0ZVByb3h5KHJlc3VsdCwgY29udGFpbmVyU3RhdGUsIDAsIHVuZGVmaW5lZCk7XG4gIHJldHVybiByZXNvdXJjZTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VJc1NlcnZlciA9ICgpID0+IHtcbiAgY29uc3QgY3R4ID0gZ2V0SW52b2tlQ29udGV4dCgpO1xuICBhc3NlcnREZWZpbmVkKGN0eC4kZG9jJCwgJ2RvYyBtdXN0IGJlIGRlZmluZWQnLCBjdHgpO1xuICByZXR1cm4gaXNTZXJ2ZXIoY3R4LiRkb2MkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRJbnRlcm5hbFJlc291cmNlID0gPFQ+KHJlc291cmNlOiBSZXNvdXJjZVJldHVybjxUPik6IFJlc291cmNlUmV0dXJuSW50ZXJuYWw8VD4gPT4ge1xuICByZXR1cm4gZ2V0UHJveHlUYXJnZXQocmVzb3VyY2UpIGFzIGFueTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1Jlc291cmNlUmV0dXJuID0gKG9iajogYW55KTogb2JqIGlzIFJlc291cmNlUmV0dXJuPGFueT4gPT4ge1xuICByZXR1cm4gaXNPYmplY3Qob2JqKSAmJiBvYmouX19icmFuZCA9PT0gJ3Jlc291cmNlJztcbn07XG5cbmV4cG9ydCBjb25zdCBzZXJpYWxpemVSZXNvdXJjZSA9IChyZXNvdXJjZTogUmVzb3VyY2VSZXR1cm48YW55PiwgZ2V0T2JqSWQ6IEdldE9iaklEKSA9PiB7XG4gIGNvbnN0IHN0YXRlID0gcmVzb3VyY2Uuc3RhdGU7XG4gIGlmIChzdGF0ZSA9PT0gJ3Jlc29sdmVkJykge1xuICAgIHJldHVybiBgMCAke2dldE9iaklkKHJlc291cmNlLnJlc29sdmVkKX1gO1xuICB9IGVsc2UgaWYgKHN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICByZXR1cm4gYDFgO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBgMiAke2dldE9iaklkKHJlc291cmNlLmVycm9yKX1gO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcGFyc2VSZXNvdXJjZVJldHVybiA9IDxUPihkYXRhOiBzdHJpbmcpOiBSZXNvdXJjZVJldHVybjxUPiA9PiB7XG4gIGNvbnN0IFtmaXJzdCwgaWRdID0gZGF0YS5zcGxpdCgnICcpO1xuICBjb25zdCByZXN1bHQgPSBfY3JlYXRlUmVzb3VyY2VSZXR1cm48VD4odW5kZWZpbmVkKTtcbiAgcmVzdWx0LnByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKSBhcyBhbnk7XG4gIGlmIChmaXJzdCA9PT0gJzAnKSB7XG4gICAgcmVzdWx0LnN0YXRlID0gJ3Jlc29sdmVkJztcbiAgICByZXN1bHQucmVzb2x2ZWQgPSBpZCBhcyBhbnk7XG4gIH0gZWxzZSBpZiAoZmlyc3QgPT09ICcxJykge1xuICAgIHJlc3VsdC5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICByZXN1bHQucHJvbWlzZSA9IG5ldyBQcm9taXNlKCgpID0+IHt9KTtcbiAgfSBlbHNlIGlmIChmaXJzdCA9PT0gJzInKSB7XG4gICAgcmVzdWx0LnN0YXRlID0gJ3JlamVjdGVkJztcbiAgICByZXN1bHQuZXJyb3IgPSBpZCBhcyBhbnk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iXX0=","import { componentQrl, isQwikComponent } from '../component/component.public';\nimport { parseQRL, stringifyQRL } from '../import/qrl';\nimport { isQrl } from '../import/qrl-class';\nimport { isResourceReturn, parseResourceReturn, serializeResource } from '../use/use-resource';\nimport { isSubscriberDescriptor, parseWatch, serializeWatch, } from '../use/use-watch';\nimport { isDocument } from '../util/element';\nconst UndefinedSerializer = {\n    test: (obj) => obj === undefined,\n    prepare: () => undefined,\n};\nconst QRLSerializer = {\n    test: (v) => isQrl(v),\n    serialize: (obj, getObjId, containerState) => {\n        return stringifyQRL(obj, {\n            $platform$: containerState.$platform$,\n            $getObjId$: getObjId,\n        });\n    },\n    prepare: (data, containerState) => {\n        return parseQRL(data, containerState.$containerEl$);\n    },\n    fill: (qrl, getObject) => {\n        if (qrl.$capture$ && qrl.$capture$.length > 0) {\n            qrl.$captureRef$ = qrl.$capture$.map(getObject);\n            qrl.$capture$ = null;\n        }\n    },\n};\nconst ErrorSerializer = {\n    test: (v) => v instanceof Error,\n    serialize: (obj) => {\n        return obj.message;\n    },\n    prepare: (text) => {\n        const err = new Error(text);\n        err.stack = undefined;\n        return err;\n    },\n};\nconst DocumentSerializer = {\n    test: (v) => isDocument(v),\n    prepare: (_, _c, doc) => {\n        return doc;\n    },\n};\nconst ResourceSerializer = {\n    test: (v) => isResourceReturn(v),\n    serialize: (obj, getObjId) => {\n        return serializeResource(obj, getObjId);\n    },\n    prepare: (data) => {\n        return parseResourceReturn(data);\n    },\n    fill: (resource, getObject) => {\n        if (resource.state === 'resolved') {\n            resource.resolved = getObject(resource.resolved);\n            resource.promise = Promise.resolve(resource.resolved);\n        }\n        else if (resource.state === 'rejected') {\n            const p = Promise.reject(resource.error);\n            p.catch(() => null);\n            resource.error = getObject(resource.error);\n            resource.promise = p;\n        }\n    },\n};\nconst WatchSerializer = {\n    test: (v) => isSubscriberDescriptor(v),\n    serialize: (obj, getObjId) => serializeWatch(obj, getObjId),\n    prepare: (data) => parseWatch(data),\n    fill: (watch, getObject) => {\n        watch.$el$ = getObject(watch.$el$);\n        watch.$qrl$ = getObject(watch.$qrl$);\n        if (watch.$resource$) {\n            watch.$resource$ = getObject(watch.$resource$);\n        }\n    },\n};\nconst URLSerializer = {\n    test: (v) => v instanceof URL,\n    serialize: (obj) => obj.href,\n    prepare: (data) => new URL(data),\n};\nconst DateSerializer = {\n    test: (v) => v instanceof Date,\n    serialize: (obj) => obj.toISOString(),\n    prepare: (data) => new Date(data),\n};\nconst RegexSerializer = {\n    test: (v) => v instanceof RegExp,\n    serialize: (obj) => `${obj.flags} ${obj.source}`,\n    prepare: (data) => {\n        const space = data.indexOf(' ');\n        const source = data.slice(space + 1);\n        const flags = data.slice(0, space);\n        return new RegExp(source, flags);\n    },\n};\nexport const SERIALIZABLE_STATE = Symbol('serializable-data');\nconst ComponentSerializer = {\n    test: (obj) => isQwikComponent(obj),\n    serialize: (obj, getObjId, containerState) => {\n        const [qrl] = obj[SERIALIZABLE_STATE];\n        return stringifyQRL(qrl, {\n            $platform$: containerState.$platform$,\n            $getObjId$: getObjId,\n        });\n    },\n    prepare: (data, containerState) => {\n        const optionsIndex = data.indexOf('{');\n        const qrlString = optionsIndex == -1 ? data : data.slice(0, optionsIndex);\n        const qrl = parseQRL(qrlString, containerState.$containerEl$);\n        return componentQrl(qrl);\n    },\n    fill: (component, getObject) => {\n        const [qrl] = component[SERIALIZABLE_STATE];\n        if (qrl.$capture$ && qrl.$capture$.length > 0) {\n            qrl.$captureRef$ = qrl.$capture$.map(getObject);\n            qrl.$capture$ = null;\n        }\n    },\n};\nconst PureFunctionSerializer = {\n    test: (obj) => typeof obj === 'function' && obj.__qwik_serializable__ !== undefined,\n    serialize: (obj) => {\n        return obj.toString();\n    },\n    prepare: (data) => {\n        const fn = new Function('return ' + data)();\n        fn.__qwik_serializable__ = true;\n        return fn;\n    },\n    fill: undefined,\n};\nconst serializers = [\n    UndefinedSerializer,\n    QRLSerializer,\n    DocumentSerializer,\n    ResourceSerializer,\n    WatchSerializer,\n    URLSerializer,\n    RegexSerializer,\n    DateSerializer,\n    ComponentSerializer,\n    PureFunctionSerializer,\n    ErrorSerializer,\n];\nexport const canSerialize = (obj) => {\n    for (const s of serializers) {\n        if (s.test(obj)) {\n            return true;\n        }\n    }\n    return false;\n};\nexport const serializeValue = (obj, getObjID, containerState) => {\n    for (let i = 0; i < serializers.length; i++) {\n        const s = serializers[i];\n        if (s.test(obj)) {\n            let value = String.fromCharCode(i);\n            if (s.serialize) {\n                value += s.serialize(obj, getObjID, containerState);\n            }\n            return value;\n        }\n    }\n    return undefined;\n};\nexport const createParser = (getObject, containerState, doc) => {\n    const map = new Map();\n    return {\n        prepare(data) {\n            for (let i = 0; i < serializers.length; i++) {\n                const s = serializers[i];\n                const prefix = String.fromCodePoint(i);\n                if (data.startsWith(prefix)) {\n                    const value = s.prepare(data.slice(prefix.length), containerState, doc);\n                    if (s.fill) {\n                        map.set(value, s);\n                    }\n                    return value;\n                }\n            }\n            return data;\n        },\n        fill(obj) {\n            const serializer = map.get(obj);\n            if (serializer) {\n                serializer.fill(obj, getObject, containerState);\n                return true;\n            }\n            return false;\n        },\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplcnMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3NlcmlhbGl6ZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBYSxZQUFZLEVBQUUsZUFBZSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDekYsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkQsT0FBTyxFQUFFLEtBQUssRUFBZSxNQUFNLHFCQUFxQixDQUFDO0FBR3pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxtQkFBbUIsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQy9GLE9BQU8sRUFDTCxzQkFBc0IsRUFDdEIsVUFBVSxFQUVWLGNBQWMsR0FFZixNQUFNLGtCQUFrQixDQUFDO0FBQzFCLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQXNCN0MsTUFBTSxtQkFBbUIsR0FBMEI7SUFDakQsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssU0FBUztJQUNoQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsU0FBUztDQUN6QixDQUFDO0FBRUYsTUFBTSxhQUFhLEdBQTRCO0lBQzdDLElBQUksRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNyQixTQUFTLEVBQUUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxFQUFFO1FBQzNDLE9BQU8sWUFBWSxDQUFDLEdBQUcsRUFBRTtZQUN2QixVQUFVLEVBQUUsY0FBYyxDQUFDLFVBQVU7WUFDckMsVUFBVSxFQUFFLFFBQVE7U0FDckIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELE9BQU8sRUFBRSxDQUFDLElBQUksRUFBRSxjQUFjLEVBQUUsRUFBRTtRQUNoQyxPQUFPLFFBQVEsQ0FB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LENBQUMsR0FBRyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO2dCQUMzQyxNQUFNLENBQUMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZDLElBQUksSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsRUFBRTtvQkFDM0IsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxjQUFjLEVBQUUsR0FBRyxDQUFDLENBQUM7b0JBQ3hFLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRTt3QkFDVixHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztxQkFDbkI7b0JBQ0QsT0FBTyxLQUFLLENBQUM7aUJBQ2Q7YUFDRjtZQUNELE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQztRQUNELElBQUksQ0FBQyxHQUFRO1lBQ1gsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNoQyxJQUFJLFVBQVUsRUFBRTtnQkFDZCxVQUFVLENBQUMsSUFBSyxDQUFDLEdBQUcsRUFBRSxTQUFTLEVBQUUsY0FBYyxDQUFDLENBQUM7Z0JBQ2pELE9BQU8sSUFBSSxDQUFDO2FBQ2I7WUFDRCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBjb21wb25lbnRRcmwsIGlzUXdpa0NvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudC9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IHBhcnNlUVJMLCBzdHJpbmdpZnlRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IGlzUXJsLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lclN0YXRlIH0gZnJvbSAnLi4vcmVuZGVyL2NvbnRhaW5lcic7XG5pbXBvcnQgeyBpc1Jlc291cmNlUmV0dXJuLCBwYXJzZVJlc291cmNlUmV0dXJuLCBzZXJpYWxpemVSZXNvdXJjZSB9IGZyb20gJy4uL3VzZS91c2UtcmVzb3VyY2UnO1xuaW1wb3J0IHtcbiAgaXNTdWJzY3JpYmVyRGVzY3JpcHRvcixcbiAgcGFyc2VXYXRjaCxcbiAgUmVzb3VyY2VSZXR1cm4sXG4gIHNlcmlhbGl6ZVdhdGNoLFxuICBTdWJzY3JpYmVyRGVzY3JpcHRvcixcbn0gZnJvbSAnLi4vdXNlL3VzZS13YXRjaCc7XG5pbXBvcnQgeyBpc0RvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB0eXBlIHsgR2V0T2JqZWN0LCBHZXRPYmpJRCB9IGZyb20gJy4vc3RvcmUnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6ZXI8VD4ge1xuICAvKipcbiAgICogUmV0dXJuIHRydWUgaWYgdGhpcyBzZXJpYWxpemVyIGNhbiBzZXJpYWxpemUgdGhlIGdpdmVuIG9iamVjdC5cbiAgICovXG4gIHRlc3Q6IChvYmo6IGFueSkgPT4gYm9vbGVhbjtcbiAgLyoqXG4gICAqIENvbnZlcnQgdGhlIG9iamVjdCB0byBhIHN0cmluZy5cbiAgICovXG4gIHNlcmlhbGl6ZT86IChvYmo6IFQsIGdldE9iaklEOiBHZXRPYmpJRCwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZXNlcmlhbGl6ZSB0aGUgb2JqZWN0LlxuICAgKi9cbiAgcHJlcGFyZTogKGRhdGE6IHN0cmluZywgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLCBkb2M6IERvY3VtZW50KSA9PiBUO1xuICAvKipcbiAgICogU2Vjb25kIHBhc3MgdG8gZmlsbCBpbiB0aGUgb2JqZWN0LlxuICAgKi9cbiAgZmlsbD86IChvYmo6IFQsIGdldE9iamVjdDogR2V0T2JqZWN0LCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHZvaWQ7XG59XG5cbmNvbnN0IFVuZGVmaW5lZFNlcmlhbGl6ZXI6IFNlcmlhbGl6ZXI8dW5kZWZpbmVkPiA9IHtcbiAgdGVzdDogKG9iaikgPT4gb2JqID09PSB1bmRlZmluZWQsXG4gIHByZXBhcmU6ICgpID0+IHVuZGVmaW5lZCxcbn07XG5cbmNvbnN0IFFSTFNlcmlhbGl6ZXI6IFNlcmlhbGl6ZXI8UVJMSW50ZXJuYWw+ID0ge1xuICB0ZXN0OiAodikgPT4gaXNRcmwodiksXG4gIHNlcmlhbGl6ZTogKG9iaiwgZ2V0T2JqSWQsIGNvbnRhaW5lclN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVFSTChvYmosIHtcbiAgICAgICRwbGF0Zm9ybSQ6IGNvbnRhaW5lclN0YXRlLiRwbGF0Zm9ybSQsXG4gICAgICAkZ2V0T2JqSWQkOiBnZXRPYmpJZCxcbiAgICB9KTtcbiAgfSxcbiAgcHJlcGFyZTogKGRhdGEsIGNvbnRhaW5lclN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHBhcnNlUVJMKGRhdGEsIGNvbnRhaW5lclN0YXRlLiRjb250YWluZXJFbCQpO1xuICB9LFxuICBmaWxsOiAocXJsLCBnZXRPYmplY3QpID0+IHtcbiAgICBpZiAocXJsLiRjYXB0dXJlJCAmJiBxcmwuJGNhcHR1cmUkLmxlbmd0aCA+IDApIHtcbiAgICAgIHFybC4kY2FwdHVyZVJlZiQgPSBxcmwuJGNhcHR1cmUkLm1hcChnZXRPYmplY3QpO1xuICAgICAgcXJsLiRjYXB0dXJlJCA9IG51bGw7XG4gICAgfVxuICB9LFxufTtcblxuY29uc3QgRXJyb3JTZXJpYWxpemVyOiBTZXJpYWxpemVyPEVycm9yPiA9IHtcbiAgdGVzdDogKHYpID0+IHYgaW5zdGFuY2VvZiBFcnJvcixcbiAgc2VyaWFsaXplOiAob2JqKSA9PiB7XG4gICAgcmV0dXJuIG9iai5tZXNzYWdlO1xuICB9LFxuICBwcmVwYXJlOiAodGV4dCkgPT4ge1xuICAgIGNvbnN0IGVyciA9IG5ldyBFcnJvcih0ZXh0KTtcbiAgICBlcnIuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGVycjtcbiAgfSxcbn07XG5cbmNvbnN0IERvY3VtZW50U2VyaWFsaXplcjogU2VyaWFsaXplcjxEb2N1bWVudD4gPSB7XG4gIHRlc3Q6ICh2KSA9PiBpc0RvY3VtZW50KHYpLFxuICBwcmVwYXJlOiAoXywgX2MsIGRvYykgPT4ge1xuICAgIHJldHVybiBkb2M7XG4gIH0sXG59O1xuXG5jb25zdCBSZXNvdXJjZVNlcmlhbGl6ZXI6IFNlcmlhbGl6ZXI8UmVzb3VyY2VSZXR1cm48YW55Pj4gPSB7XG4gIHRlc3Q6ICh2KSA9PiBpc1Jlc291cmNlUmV0dXJuKHYpLFxuICBzZXJpYWxpemU6IChvYmosIGdldE9iaklkKSA9PiB7XG4gICAgcmV0dXJuIHNlcmlhbGl6ZVJlc291cmNlKG9iaiwgZ2V0T2JqSWQpO1xuICB9LFxuICBwcmVwYXJlOiAoZGF0YSkgPT4ge1xuICAgIHJldHVybiBwYXJzZVJlc291cmNlUmV0dXJuKGRhdGEpO1xuICB9LFxuICBmaWxsOiAocmVzb3VyY2UsIGdldE9iamVjdCkgPT4ge1xuICAgIGlmIChyZXNvdXJjZS5zdGF0ZSA9PT0gJ3Jlc29sdmVkJykge1xuICAgICAgcmVzb3VyY2UucmVzb2x2ZWQgPSBnZXRPYmplY3QocmVzb3VyY2UucmVzb2x2ZWQpO1xuICAgICAgcmVzb3VyY2UucHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShyZXNvdXJjZS5yZXNvbHZlZCk7XG4gICAgfSBlbHNlIGlmIChyZXNvdXJjZS5zdGF0ZSA9PT0gJ3JlamVjdGVkJykge1xuICAgICAgY29uc3QgcCA9IFByb21pc2UucmVqZWN0KHJlc291cmNlLmVycm9yKTtcbiAgICAgIHAuY2F0Y2goKCkgPT4gbnVsbCk7XG4gICAgICByZXNvdXJjZS5lcnJvciA9IGdldE9iamVjdChyZXNvdXJjZS5lcnJvcik7XG4gICAgICByZXNvdXJjZS5wcm9taXNlID0gcDtcbiAgICB9XG4gIH0sXG59O1xuXG5jb25zdCBXYXRjaFNlcmlhbGl6ZXI6IFNlcmlhbGl6ZXI8U3Vic2NyaWJlckRlc2NyaXB0b3I+ID0ge1xuICB0ZXN0OiAodikgPT4gaXNTdWJzY3JpYmVyRGVzY3JpcHRvcih2KSxcbiAgc2VyaWFsaXplOiAob2JqLCBnZXRPYmpJZCkgPT4gc2VyaWFsaXplV2F0Y2gob2JqLCBnZXRPYmpJZCksXG4gIHByZXBhcmU6IChkYXRhKSA9PiBwYXJzZVdhdGNoKGRhdGEpIGFzIGFueSxcbiAgZmlsbDogKHdhdGNoLCBnZXRPYmplY3QpID0+IHtcbiAgICB3YXRjaC4kZWwkID0gZ2V0T2JqZWN0KHdhdGNoLiRlbCQgYXMgYW55KTtcbiAgICB3YXRjaC4kcXJsJCA9IGdldE9iamVjdCh3YXRjaC4kcXJsJCBhcyBhbnkpO1xuICAgIGlmICh3YXRjaC4kcmVzb3VyY2UkKSB7XG4gICAgICB3YXRjaC4kcmVzb3VyY2UkID0gZ2V0T2JqZWN0KHdhdGNoLiRyZXNvdXJjZSQgYXMgYW55KTtcbiAgICB9XG4gIH0sXG59O1xuXG5jb25zdCBVUkxTZXJpYWxpemVyOiBTZXJpYWxpemVyPFVSTD4gPSB7XG4gIHRlc3Q6ICh2KSA9PiB2IGluc3RhbmNlb2YgVVJMLFxuICBzZXJpYWxpemU6IChvYmopID0+IG9iai5ocmVmLFxuICBwcmVwYXJlOiAoZGF0YSkgPT4gbmV3IFVSTChkYXRhKSxcbn07XG5cbmNvbnN0IERhdGVTZXJpYWxpemVyOiBTZXJpYWxpemVyPERhdGU+ID0ge1xuICB0ZXN0OiAodikgPT4gdiBpbnN0YW5jZW9mIERhdGUsXG4gIHNlcmlhbGl6ZTogKG9iaikgPT4gb2JqLnRvSVNPU3RyaW5nKCksXG4gIHByZXBhcmU6IChkYXRhKSA9PiBuZXcgRGF0ZShkYXRhKSxcbn07XG5cbmNvbnN0IFJlZ2V4U2VyaWFsaXplcjogU2VyaWFsaXplcjxSZWdFeHA+ID0ge1xuICB0ZXN0OiAodikgPT4gdiBpbnN0YW5jZW9mIFJlZ0V4cCxcbiAgc2VyaWFsaXplOiAob2JqKSA9PiBgJHtvYmouZmxhZ3N9ICR7b2JqLnNvdXJjZX1gLFxuICBwcmVwYXJlOiAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHNwYWNlID0gZGF0YS5pbmRleE9mKCcgJyk7XG4gICAgY29uc3Qgc291cmNlID0gZGF0YS5zbGljZShzcGFjZSArIDEpO1xuICAgIGNvbnN0IGZsYWdzID0gZGF0YS5zbGljZSgwLCBzcGFjZSk7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoc291cmNlLCBmbGFncyk7XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgU0VSSUFMSVpBQkxFX1NUQVRFID0gU3ltYm9sKCdzZXJpYWxpemFibGUtZGF0YScpO1xuY29uc3QgQ29tcG9uZW50U2VyaWFsaXplcjogU2VyaWFsaXplcjxDb21wb25lbnQ8YW55Pj4gPSB7XG4gIHRlc3Q6IChvYmopID0+IGlzUXdpa0NvbXBvbmVudChvYmopLFxuICBzZXJpYWxpemU6IChvYmosIGdldE9iaklkLCBjb250YWluZXJTdGF0ZSkgPT4ge1xuICAgIGNvbnN0IFtxcmxdOiBbUVJMSW50ZXJuYWxdID0gKG9iaiBhcyBhbnkpW1NFUklBTElaQUJMRV9TVEFURV07XG4gICAgcmV0dXJuIHN0cmluZ2lmeVFSTChxcmwsIHtcbiAgICAgICRwbGF0Zm9ybSQ6IGNvbnRhaW5lclN0YXRlLiRwbGF0Zm9ybSQsXG4gICAgICAkZ2V0T2JqSWQkOiBnZXRPYmpJZCxcbiAgICB9KTtcbiAgfSxcbiAgcHJlcGFyZTogKGRhdGEsIGNvbnRhaW5lclN0YXRlKSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uc0luZGV4ID0gZGF0YS5pbmRleE9mKCd7Jyk7XG4gICAgY29uc3QgcXJsU3RyaW5nID0gb3B0aW9uc0luZGV4ID09IC0xID8gZGF0YSA6IGRhdGEuc2xpY2UoMCwgb3B0aW9uc0luZGV4KTtcbiAgICBjb25zdCBxcmw6IFFSTDxhbnk+ID0gcGFyc2VRUkwocXJsU3RyaW5nLCBjb250YWluZXJTdGF0ZS4kY29udGFpbmVyRWwkKTtcbiAgICByZXR1cm4gY29tcG9uZW50UXJsKHFybCk7XG4gIH0sXG4gIGZpbGw6IChjb21wb25lbnQsIGdldE9iamVjdCkgPT4ge1xuICAgIGNvbnN0IFtxcmxdOiBbUVJMSW50ZXJuYWxdID0gKGNvbXBvbmVudCBhcyBhbnkpW1NFUklBTElaQUJMRV9TVEFURV07XG4gICAgaWYgKHFybC4kY2FwdHVyZSQgJiYgcXJsLiRjYXB0dXJlJC5sZW5ndGggPiAwKSB7XG4gICAgICBxcmwuJGNhcHR1cmVSZWYkID0gcXJsLiRjYXB0dXJlJC5tYXAoZ2V0T2JqZWN0KTtcbiAgICAgIHFybC4kY2FwdHVyZSQgPSBudWxsO1xuICAgIH1cbiAgfSxcbn07XG5cbmNvbnN0IFB1cmVGdW5jdGlvblNlcmlhbGl6ZXI6IFNlcmlhbGl6ZXI8RnVuY3Rpb24+ID0ge1xuICB0ZXN0OiAob2JqKSA9PiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nICYmIG9iai5fX3F3aWtfc2VyaWFsaXphYmxlX18gIT09IHVuZGVmaW5lZCxcbiAgc2VyaWFsaXplOiAob2JqKSA9PiB7XG4gICAgcmV0dXJuIG9iai50b1N0cmluZygpO1xuICB9LFxuICBwcmVwYXJlOiAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IGZuID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gJyArIGRhdGEpKCk7XG4gICAgZm4uX19xd2lrX3NlcmlhbGl6YWJsZV9fID0gdHJ1ZTtcbiAgICByZXR1cm4gZm47XG4gIH0sXG4gIGZpbGw6IHVuZGVmaW5lZCxcbn07XG5cbmNvbnN0IHNlcmlhbGl6ZXJzOiBTZXJpYWxpemVyPGFueT5bXSA9IFtcbiAgVW5kZWZpbmVkU2VyaWFsaXplcixcbiAgUVJMU2VyaWFsaXplcixcbiAgRG9jdW1lbnRTZXJpYWxpemVyLFxuICBSZXNvdXJjZVNlcmlhbGl6ZXIsXG4gIFdhdGNoU2VyaWFsaXplcixcbiAgVVJMU2VyaWFsaXplcixcbiAgUmVnZXhTZXJpYWxpemVyLFxuICBEYXRlU2VyaWFsaXplcixcbiAgQ29tcG9uZW50U2VyaWFsaXplcixcbiAgUHVyZUZ1bmN0aW9uU2VyaWFsaXplcixcbiAgRXJyb3JTZXJpYWxpemVyLFxuXTtcblxuZXhwb3J0IGNvbnN0IGNhblNlcmlhbGl6ZSA9IChvYmo6IGFueSk6IGJvb2xlYW4gPT4ge1xuICBmb3IgKGNvbnN0IHMgb2Ygc2VyaWFsaXplcnMpIHtcbiAgICBpZiAocy50ZXN0KG9iaikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VyaWFsaXplVmFsdWUgPSAob2JqOiBhbnksIGdldE9iaklEOiBHZXRPYmpJRCwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2VyaWFsaXplcnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzID0gc2VyaWFsaXplcnNbaV07XG4gICAgaWYgKHMudGVzdChvYmopKSB7XG4gICAgICBsZXQgdmFsdWUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpO1xuICAgICAgaWYgKHMuc2VyaWFsaXplKSB7XG4gICAgICAgIHZhbHVlICs9IHMuc2VyaWFsaXplKG9iaiwgZ2V0T2JqSUQsIGNvbnRhaW5lclN0YXRlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGFyc2VyIHtcbiAgcHJlcGFyZShkYXRhOiBzdHJpbmcpOiBhbnk7XG4gIGZpbGwob2JqOiBhbnkpOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlUGFyc2VyID0gKFxuICBnZXRPYmplY3Q6IEdldE9iamVjdCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBkb2M6IERvY3VtZW50XG4pOiBQYXJzZXIgPT4ge1xuICBjb25zdCBtYXAgPSBuZXcgTWFwPGFueSwgU2VyaWFsaXplcjxhbnk+PigpO1xuICByZXR1cm4ge1xuICAgIHByZXBhcmUoZGF0YTogc3RyaW5nKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcmlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHMgPSBzZXJpYWxpemVyc1tpXTtcbiAgICAgICAgY29uc3QgcHJlZml4ID0gU3RyaW5nLmZyb21Db2RlUG9pbnQoaSk7XG4gICAgICAgIGlmIChkYXRhLnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gcy5wcmVwYXJlKGRhdGEuc2xpY2UocHJlZml4Lmxlbmd0aCksIGNvbnRhaW5lclN0YXRlLCBkb2MpO1xuICAgICAgICAgIGlmIChzLmZpbGwpIHtcbiAgICAgICAgICAgIG1hcC5zZXQodmFsdWUsIHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG4gICAgZmlsbChvYmo6IGFueSkge1xuICAgICAgY29uc3Qgc2VyaWFsaXplciA9IG1hcC5nZXQob2JqKTtcbiAgICAgIGlmIChzZXJpYWxpemVyKSB7XG4gICAgICAgIHNlcmlhbGl6ZXIuZmlsbCEob2JqLCBnZXRPYmplY3QsIGNvbnRhaW5lclN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfTtcbn07XG4iXX0=","import { assertEqual, assertTrue } from '../assert/assert';\nimport { qError, QError_immutableProps, QError_onlyLiteralWrapped, QError_onlyObjectWrapped, QError_verifySerializable, } from '../error/error';\nimport { isQrl } from '../import/qrl-class';\nimport { tryGetInvokeContext } from '../use/use-core';\nimport { isDocument, isNode, isQwikElement } from '../util/element';\nimport { logWarn } from '../util/log';\nimport { qDev } from '../util/qdev';\nimport { tryGetContext } from '../props/props';\nimport { RenderEvent } from '../util/markers';\nimport { isArray, isFunction, isObject, isSerializableObject } from '../util/types';\nimport { isPromise } from '../util/promises';\nimport { canSerialize } from './serializers';\nexport const QObjectRecursive = 1 << 0;\nexport const QObjectImmutable = 1 << 1;\n/**\n * Creates a proxy that notifies of any writes.\n */\nexport const getOrCreateProxy = (target, containerState, flags = 0) => {\n    const proxy = containerState.$proxyMap$.get(target);\n    if (proxy) {\n        return proxy;\n    }\n    return createProxy(target, containerState, flags, undefined);\n};\nexport const createProxy = (target, containerState, flags, subs) => {\n    assertEqual(unwrapProxy(target), target, 'Unexpected proxy at this location', target);\n    assertTrue(!containerState.$proxyMap$.has(target), 'Proxy was already created', target);\n    if (!isObject(target)) {\n        throw qError(QError_onlyObjectWrapped, target);\n    }\n    if (target.constructor !== Object && !isArray(target)) {\n        throw qError(QError_onlyLiteralWrapped, target);\n    }\n    const manager = containerState.$subsManager$.$getLocal$(target, subs);\n    const proxy = new Proxy(target, new ReadWriteProxyHandler(containerState, manager, flags));\n    containerState.$proxyMap$.set(target, proxy);\n    return proxy;\n};\nconst QOjectTargetSymbol = Symbol();\nconst QOjectFlagsSymbol = Symbol();\nclass ReadWriteProxyHandler {\n    constructor($containerState$, $manager$, $flags$) {\n        this.$containerState$ = $containerState$;\n        this.$manager$ = $manager$;\n        this.$flags$ = $flags$;\n    }\n    get(target, prop) {\n        if (typeof prop === 'symbol') {\n            if (prop === QOjectTargetSymbol)\n                return target;\n            if (prop === QOjectFlagsSymbol)\n                return this.$flags$;\n            return target[prop];\n        }\n        let subscriber;\n        const invokeCtx = tryGetInvokeContext();\n        const recursive = (this.$flags$ & QObjectRecursive) !== 0;\n        const immutable = (this.$flags$ & QObjectImmutable) !== 0;\n        if (invokeCtx) {\n            subscriber = invokeCtx.$subscriber$;\n        }\n        let value = target[prop];\n        if (isMutable(value)) {\n            value = value.v;\n        }\n        else if (immutable) {\n            subscriber = null;\n        }\n        if (subscriber) {\n            const isA = isArray(target);\n            this.$manager$.$addSub$(subscriber, isA ? undefined : prop);\n        }\n        return recursive ? wrap(value, this.$containerState$) : value;\n    }\n    set(target, prop, newValue) {\n        if (typeof prop === 'symbol') {\n            target[prop] = newValue;\n            return true;\n        }\n        const immutable = (this.$flags$ & QObjectImmutable) !== 0;\n        if (immutable) {\n            throw qError(QError_immutableProps);\n        }\n        const recursive = (this.$flags$ & QObjectRecursive) !== 0;\n        const unwrappedNewValue = recursive ? unwrapProxy(newValue) : newValue;\n        if (qDev) {\n            verifySerializable(unwrappedNewValue);\n            const invokeCtx = tryGetInvokeContext();\n            if (invokeCtx && invokeCtx.$event$ === RenderEvent) {\n                logWarn('State mutation inside render function. Move mutation to useWatch(), useClientEffect() or useServerMount()', invokeCtx.$hostElement$, prop);\n            }\n        }\n        const isA = isArray(target);\n        if (isA) {\n            target[prop] = unwrappedNewValue;\n            this.$manager$.$notifySubs$();\n            return true;\n        }\n        const oldValue = target[prop];\n        if (oldValue !== unwrappedNewValue) {\n            target[prop] = unwrappedNewValue;\n            this.$manager$.$notifySubs$(prop);\n        }\n        return true;\n    }\n    has(target, property) {\n        if (property === QOjectTargetSymbol)\n            return true;\n        if (property === QOjectFlagsSymbol)\n            return true;\n        return Object.prototype.hasOwnProperty.call(target, property);\n    }\n    ownKeys(target) {\n        let subscriber = null;\n        const invokeCtx = tryGetInvokeContext();\n        if (invokeCtx) {\n            subscriber = invokeCtx.$subscriber$;\n        }\n        if (subscriber) {\n            this.$manager$.$addSub$(subscriber);\n        }\n        return Object.getOwnPropertyNames(target);\n    }\n}\nconst wrap = (value, containerState) => {\n    if (isQrl(value)) {\n        return value;\n    }\n    if (isObject(value)) {\n        if (Object.isFrozen(value)) {\n            return value;\n        }\n        const nakedValue = unwrapProxy(value);\n        if (nakedValue !== value) {\n            // already a proxy return;\n            return value;\n        }\n        if (isNode(nakedValue)) {\n            return value;\n        }\n        if (!shouldSerialize(nakedValue)) {\n            return value;\n        }\n        if (qDev) {\n            verifySerializable(value);\n        }\n        const proxy = containerState.$proxyMap$.get(value);\n        return proxy ? proxy : getOrCreateProxy(value, containerState, QObjectRecursive);\n    }\n    else {\n        return value;\n    }\n};\nexport const verifySerializable = (value) => {\n    const seen = new Set();\n    return _verifySerializable(value, seen);\n};\nconst _verifySerializable = (value, seen) => {\n    const unwrapped = unwrapProxy(value);\n    if (unwrapped == null) {\n        return value;\n    }\n    if (shouldSerialize(unwrapped)) {\n        if (seen.has(unwrapped)) {\n            return value;\n        }\n        seen.add(unwrapped);\n        if (canSerialize(unwrapped)) {\n            return value;\n        }\n        switch (typeof unwrapped) {\n            case 'object':\n                if (isPromise(unwrapped))\n                    return value;\n                if (isQwikElement(unwrapped))\n                    return value;\n                if (isDocument(unwrapped))\n                    return value;\n                if (isArray(unwrapped)) {\n                    for (const item of unwrapped) {\n                        _verifySerializable(item, seen);\n                    }\n                    return value;\n                }\n                if (isSerializableObject(unwrapped)) {\n                    for (const item of Object.values(unwrapped)) {\n                        _verifySerializable(item, seen);\n                    }\n                    return value;\n                }\n                break;\n            case 'boolean':\n            case 'string':\n            case 'number':\n                return value;\n        }\n        throw qError(QError_verifySerializable, unwrapped);\n    }\n    return value;\n};\nconst noSerializeSet = /*#__PURE__*/ new WeakSet();\nexport const shouldSerialize = (obj) => {\n    if (isObject(obj) || isFunction(obj)) {\n        return !noSerializeSet.has(obj);\n    }\n    return true;\n};\n// <docs markdown=\"../readme.md#noSerialize\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#noSerialize instead)\n/**\n * Marks a property on a store as non-serializable.\n *\n * At times it is necessary to store values on a store that are non-serializable. Normally this\n * is a runtime error as Store wants to eagerly report when a non-serializable property is\n * assigned to it.\n *\n * You can use `noSerialize()` to mark a value as non-serializable. The value is persisted in the\n * Store but does not survive serialization. The implication is that when your application is\n * resumed, the value of this object will be `undefined`. You will be responsible for recovering\n * from this.\n *\n * See: [noSerialize Tutorial](http://qwik.builder.io/tutorial/store/no-serialize)\n *\n * @public\n */\n// </docs>\nexport const noSerialize = (input) => {\n    if (input != null) {\n        noSerializeSet.add(input);\n    }\n    return input;\n};\nexport const immutable = (input) => {\n    return Object.freeze(input);\n};\n// <docs markdown=\"../readme.md#mutable\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#mutable instead)\n/**\n * Mark property as mutable.\n *\n * Qwik assumes that all bindings in components are immutable by default. This is done for two\n * reasons:\n *\n * 1. JSX does not allow Qwik runtime to know if a binding is static or mutable.\n *    `<Example valueA={123} valueB={exp}>` At runtime there is no way to know if `valueA` is\n * immutable.\n * 2. If Qwik assumes that properties are immutable, then it can do a better job data-shaking the\n * amount of code that needs to be serialized to the client.\n *\n * Because Qwik assumes that bindings are immutable by default, it needs a way for a developer to\n * let it know that binding is mutable. `mutable()` function serves that purpose.\n * `<Example valueA={123} valueB={mutable(exp)}>`. In this case, the Qwik runtime can correctly\n * recognize that the `Example` props are mutable and need to be serialized.\n *\n * See: [Mutable Props Tutorial](http://qwik.builder.io/tutorial/props/mutable) for an example\n *\n * @alpha\n */\n// </docs>\nexport const mutable = (v) => {\n    return {\n        [MUTABLE]: true,\n        v,\n    };\n};\nexport const isConnected = (sub) => {\n    if (isQwikElement(sub)) {\n        return !!tryGetContext(sub) || sub.isConnected;\n    }\n    else {\n        return isConnected(sub.$el$);\n    }\n};\nconst MUTABLE = Symbol('mutable');\nexport const isMutable = (v) => {\n    return isObject(v) && v[MUTABLE] === true;\n};\n/**\n * @alpha\n */\nexport const unwrapProxy = (proxy) => {\n    return getProxyTarget(proxy) ?? proxy;\n};\nexport const getProxyTarget = (obj) => {\n    if (isObject(obj)) {\n        return obj[QOjectTargetSymbol];\n    }\n    return undefined;\n};\nexport const getProxyFlags = (obj) => {\n    if (isObject(obj)) {\n        return obj[QOjectFlagsSymbol];\n    }\n    return undefined;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicS1vYmplY3QuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3Etb2JqZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDM0QsT0FBTyxFQUNMLE1BQU0sRUFDTixxQkFBcUIsRUFDckIseUJBQXlCLEVBQ3pCLHdCQUF3QixFQUN4Qix5QkFBeUIsR0FDMUIsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDNUMsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDcEUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN0QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDOUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBTTdDLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUV2Qzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixH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QztBQUVGLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUEwQixHQUFNLEVBQXNCLEVBQUU7SUFDbkYsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDakIsT0FBUSxHQUFXLENBQUMsaUJBQWlCLENBQUMsQ0FBQztLQUN4QztJQUNELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydEVxdWFsLCBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQge1xuICBxRXJyb3IsXG4gIFFFcnJvcl9pbW11dGFibGVQcm9wcyxcbiAgUUVycm9yX29ubHlMaXRlcmFsV3JhcHBlZCxcbiAgUUVycm9yX29ubHlPYmplY3RXcmFwcGVkLFxuICBRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlLFxufSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBpc1FybCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgdHJ5R2V0SW52b2tlQ29udGV4dCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBpc0RvY3VtZW50LCBpc05vZGUsIGlzUXdpa0VsZW1lbnQgfSBmcm9tICcuLi91dGlsL2VsZW1lbnQnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgdHJ5R2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IFJlbmRlckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1NlcmlhbGl6YWJsZU9iamVjdCB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBjYW5TZXJpYWxpemUgfSBmcm9tICcuL3NlcmlhbGl6ZXJzJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyU3RhdGUsIExvY2FsU3Vic2NyaXB0aW9uTWFuYWdlciB9IGZyb20gJy4uL3JlbmRlci9jb250YWluZXInO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vdXNlL3VzZS13YXRjaCc7XG5cbmV4cG9ydCB0eXBlIFFPYmplY3Q8VCBleHRlbmRzIHt9PiA9IFQgJiB7IF9fYnJhbmRfXzogJ1FPYmplY3QnIH07XG5cbmV4cG9ydCBjb25zdCBRT2JqZWN0UmVjdXJzaXZlID0gMSA8PCAwO1xuZXhwb3J0IGNvbnN0IFFPYmplY3RJbW11dGFibGUgPSAxIDw8IDE7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHByb3h5IHRoYXQgbm90aWZpZXMgb2YgYW55IHdyaXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldE9yQ3JlYXRlUHJveHkgPSA8VCBleHRlbmRzIG9iamVjdD4oXG4gIHRhcmdldDogVCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBmbGFncyA9IDBcbik6IFQgPT4ge1xuICBjb25zdCBwcm94eSA9IGNvbnRhaW5lclN0YXRlLiRwcm94eU1hcCQuZ2V0KHRhcmdldCk7XG4gIGlmIChwcm94eSkge1xuICAgIHJldHVybiBwcm94eTtcbiAgfVxuICByZXR1cm4gY3JlYXRlUHJveHkodGFyZ2V0LCBjb250YWluZXJTdGF0ZSwgZmxhZ3MsIHVuZGVmaW5lZCk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUHJveHkgPSA8VCBleHRlbmRzIG9iamVjdD4oXG4gIHRhcmdldDogVCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBmbGFnczogbnVtYmVyLFxuICBzdWJzPzogTWFwPEVsZW1lbnQsIFNldDxzdHJpbmc+PlxuKTogVCA9PiB7XG4gIGFzc2VydEVxdWFsKHVud3JhcFByb3h5KHRhcmdldCksIHRhcmdldCwgJ1VuZXhwZWN0ZWQgcHJveHkgYXQgdGhpcyBsb2NhdGlvbicsIHRhcmdldCk7XG4gIGFzc2VydFRydWUoIWNvbnRhaW5lclN0YXRlLiRwcm94eU1hcCQuaGFzKHRhcmdldCksICdQcm94eSB3YXMgYWxyZWFkeSBjcmVhdGVkJywgdGFyZ2V0KTtcblxuICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX29ubHlPYmplY3RXcmFwcGVkLCB0YXJnZXQpO1xuICB9XG4gIGlmICh0YXJnZXQuY29uc3RydWN0b3IgIT09IE9iamVjdCAmJiAhaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9vbmx5TGl0ZXJhbFdyYXBwZWQsIHRhcmdldCk7XG4gIH1cblxuICBjb25zdCBtYW5hZ2VyID0gY29udGFpbmVyU3RhdGUuJHN1YnNNYW5hZ2VyJC4kZ2V0TG9jYWwkKHRhcmdldCwgc3Vicyk7XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KFxuICAgIHRhcmdldCxcbiAgICBuZXcgUmVhZFdyaXRlUHJveHlIYW5kbGVyKGNvbnRhaW5lclN0YXRlLCBtYW5hZ2VyLCBmbGFncylcbiAgKSBhcyBhbnkgYXMgVDtcbiAgY29udGFpbmVyU3RhdGUuJHByb3h5TWFwJC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gIHJldHVybiBwcm94eTtcbn07XG5cbmNvbnN0IFFPamVjdFRhcmdldFN5bWJvbCA9IFN5bWJvbCgpO1xuY29uc3QgUU9qZWN0RmxhZ3NTeW1ib2wgPSBTeW1ib2woKTtcblxuZXhwb3J0IHR5cGUgVGFyZ2V0VHlwZSA9IFJlY29yZDxzdHJpbmcgfCBzeW1ib2wsIGFueT47XG5cbmNsYXNzIFJlYWRXcml0ZVByb3h5SGFuZGxlciBpbXBsZW1lbnRzIFByb3h5SGFuZGxlcjxUYXJnZXRUeXBlPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgJGNvbnRhaW5lclN0YXRlJDogQ29udGFpbmVyU3RhdGUsXG4gICAgcHJpdmF0ZSAkbWFuYWdlciQ6IExvY2FsU3Vic2NyaXB0aW9uTWFuYWdlcixcbiAgICBwcml2YXRlICRmbGFncyQ6IG51bWJlclxuICApIHt9XG5cbiAgZ2V0KHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYW55IHtcbiAgICBpZiAodHlwZW9mIHByb3AgPT09ICdzeW1ib2wnKSB7XG4gICAgICBpZiAocHJvcCA9PT0gUU9qZWN0VGFyZ2V0U3ltYm9sKSByZXR1cm4gdGFyZ2V0O1xuICAgICAgaWYgKHByb3AgPT09IFFPamVjdEZsYWdzU3ltYm9sKSByZXR1cm4gdGhpcy4kZmxhZ3MkO1xuICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICB9XG4gICAgbGV0IHN1YnNjcmliZXI6IFN1YnNjcmliZXIgfCB1bmRlZmluZWQgfCBudWxsO1xuICAgIGNvbnN0IGludm9rZUN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgICBjb25zdCByZWN1cnNpdmUgPSAodGhpcy4kZmxhZ3MkICYgUU9iamVjdFJlY3Vyc2l2ZSkgIT09IDA7XG4gICAgY29uc3QgaW1tdXRhYmxlID0gKHRoaXMuJGZsYWdzJCAmIFFPYmplY3RJbW11dGFibGUpICE9PSAwO1xuICAgIGlmIChpbnZva2VDdHgpIHtcbiAgICAgIHN1YnNjcmliZXIgPSBpbnZva2VDdHguJHN1YnNjcmliZXIkO1xuICAgIH1cbiAgICBsZXQgdmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKGlzTXV0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudjtcbiAgICB9IGVsc2UgaWYgKGltbXV0YWJsZSkge1xuICAgICAgc3Vic2NyaWJlciA9IG51bGw7XG4gICAgfVxuICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICBjb25zdCBpc0EgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgICB0aGlzLiRtYW5hZ2VyJC4kYWRkU3ViJChzdWJzY3JpYmVyLCBpc0EgPyB1bmRlZmluZWQgOiBwcm9wKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlY3Vyc2l2ZSA/IHdyYXAodmFsdWUsIHRoaXMuJGNvbnRhaW5lclN0YXRlJCkgOiB2YWx1ZTtcbiAgfVxuXG4gIHNldCh0YXJnZXQ6IFRhcmdldFR5cGUsIHByb3A6IHN0cmluZyB8IHN5bWJvbCwgbmV3VmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHRhcmdldFtwcm9wXSA9IG5ld1ZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGltbXV0YWJsZSA9ICh0aGlzLiRmbGFncyQgJiBRT2JqZWN0SW1tdXRhYmxlKSAhPT0gMDtcbiAgICBpZiAoaW1tdXRhYmxlKSB7XG4gICAgICB0aHJvdyBxRXJyb3IoUUVycm9yX2ltbXV0YWJsZVByb3BzKTtcbiAgICB9XG4gICAgY29uc3QgcmVjdXJzaXZlID0gKHRoaXMuJGZsYWdzJCAmIFFPYmplY3RSZWN1cnNpdmUpICE9PSAwO1xuICAgIGNvbnN0IHVud3JhcHBlZE5ld1ZhbHVlID0gcmVjdXJzaXZlID8gdW53cmFwUHJveHkobmV3VmFsdWUpIDogbmV3VmFsdWU7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIHZlcmlmeVNlcmlhbGl6YWJsZSh1bndyYXBwZWROZXdWYWx1ZSk7XG4gICAgICBjb25zdCBpbnZva2VDdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgICBpZiAoaW52b2tlQ3R4ICYmIGludm9rZUN0eC4kZXZlbnQkID09PSBSZW5kZXJFdmVudCkge1xuICAgICAgICBsb2dXYXJuKFxuICAgICAgICAgICdTdGF0ZSBtdXRhdGlvbiBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9uLiBNb3ZlIG11dGF0aW9uIHRvIHVzZVdhdGNoKCksIHVzZUNsaWVudEVmZmVjdCgpIG9yIHVzZVNlcnZlck1vdW50KCknLFxuICAgICAgICAgIGludm9rZUN0eC4kaG9zdEVsZW1lbnQkLFxuICAgICAgICAgIHByb3BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXNBID0gaXNBcnJheSh0YXJnZXQpO1xuICAgIGlmIChpc0EpIHtcbiAgICAgIHRhcmdldFtwcm9wIGFzIGFueV0gPSB1bndyYXBwZWROZXdWYWx1ZTtcbiAgICAgIHRoaXMuJG1hbmFnZXIkLiRub3RpZnlTdWJzJCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKG9sZFZhbHVlICE9PSB1bndyYXBwZWROZXdWYWx1ZSkge1xuICAgICAgdGFyZ2V0W3Byb3BdID0gdW53cmFwcGVkTmV3VmFsdWU7XG4gICAgICB0aGlzLiRtYW5hZ2VyJC4kbm90aWZ5U3VicyQocHJvcCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaGFzKHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcGVydHk6IHN0cmluZyB8IHN5bWJvbCkge1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gUU9qZWN0VGFyZ2V0U3ltYm9sKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocHJvcGVydHkgPT09IFFPamVjdEZsYWdzU3ltYm9sKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gIH1cblxuICBvd25LZXlzKHRhcmdldDogVGFyZ2V0VHlwZSk6IEFycmF5TGlrZTxzdHJpbmcgfCBzeW1ib2w+IHtcbiAgICBsZXQgc3Vic2NyaWJlcjogU3Vic2NyaWJlciB8IG51bGwgfCB1bmRlZmluZWQgPSBudWxsO1xuICAgIGNvbnN0IGludm9rZUN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgICBpZiAoaW52b2tlQ3R4KSB7XG4gICAgICBzdWJzY3JpYmVyID0gaW52b2tlQ3R4LiRzdWJzY3JpYmVyJDtcbiAgICB9XG4gICAgaWYgKHN1YnNjcmliZXIpIHtcbiAgICAgIHRoaXMuJG1hbmFnZXIkLiRhZGRTdWIkKHN1YnNjcmliZXIpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfVxufVxuXG5jb25zdCB3cmFwID0gPFQ+KHZhbHVlOiBULCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpOiBUID0+IHtcbiAgaWYgKGlzUXJsKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgaWYgKE9iamVjdC5pc0Zyb3plbih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgbmFrZWRWYWx1ZSA9IHVud3JhcFByb3h5KHZhbHVlKTtcbiAgICBpZiAobmFrZWRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIC8vIGFscmVhZHkgYSBwcm94eSByZXR1cm47XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc05vZGUobmFrZWRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKCFzaG91bGRTZXJpYWxpemUobmFrZWRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIHZlcmlmeVNlcmlhbGl6YWJsZTxUPih2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHByb3h5ID0gY29udGFpbmVyU3RhdGUuJHByb3h5TWFwJC5nZXQodmFsdWUpO1xuICAgIHJldHVybiBwcm94eSA/IHByb3h5IDogZ2V0T3JDcmVhdGVQcm94eSh2YWx1ZSBhcyBhbnksIGNvbnRhaW5lclN0YXRlLCBRT2JqZWN0UmVjdXJzaXZlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlTZXJpYWxpemFibGUgPSA8VD4odmFsdWU6IFQpOiBUID0+IHtcbiAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoKTtcbiAgcmV0dXJuIF92ZXJpZnlTZXJpYWxpemFibGUodmFsdWUsIHNlZW4pO1xufTtcblxuY29uc3QgX3ZlcmlmeVNlcmlhbGl6YWJsZSA9IDxUPih2YWx1ZTogVCwgc2VlbjogU2V0PGFueT4pOiBUID0+IHtcbiAgY29uc3QgdW53cmFwcGVkID0gdW53cmFwUHJveHkodmFsdWUpO1xuICBpZiAodW53cmFwcGVkID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHNob3VsZFNlcmlhbGl6ZSh1bndyYXBwZWQpKSB7XG4gICAgaWYgKHNlZW4uaGFzKHVud3JhcHBlZCkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc2Vlbi5hZGQodW53cmFwcGVkKTtcbiAgICBpZiAoY2FuU2VyaWFsaXplKHVud3JhcHBlZCkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlb2YgdW53cmFwcGVkKSB7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoaXNQcm9taXNlKHVud3JhcHBlZCkpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgaWYgKGlzUXdpa0VsZW1lbnQodW53cmFwcGVkKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICBpZiAoaXNEb2N1bWVudCh1bndyYXBwZWQpKSByZXR1cm4gdmFsdWU7XG5cbiAgICAgICAgaWYgKGlzQXJyYXkodW53cmFwcGVkKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB1bndyYXBwZWQpIHtcbiAgICAgICAgICAgIF92ZXJpZnlTZXJpYWxpemFibGUoaXRlbSwgc2Vlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTZXJpYWxpemFibGVPYmplY3QodW53cmFwcGVkKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBPYmplY3QudmFsdWVzKHVud3JhcHBlZCkpIHtcbiAgICAgICAgICAgIF92ZXJpZnlTZXJpYWxpemFibGUoaXRlbSwgc2Vlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl92ZXJpZnlTZXJpYWxpemFibGUsIHVud3JhcHBlZCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IG5vU2VyaWFsaXplU2V0ID0gLyojX19QVVJFX18qLyBuZXcgV2Vha1NldDxhbnk+KCk7XG5cbmV4cG9ydCBjb25zdCBzaG91bGRTZXJpYWxpemUgPSAob2JqOiBhbnkpOiBib29sZWFuID0+IHtcbiAgaWYgKGlzT2JqZWN0KG9iaikgfHwgaXNGdW5jdGlvbihvYmopKSB7XG4gICAgcmV0dXJuICFub1NlcmlhbGl6ZVNldC5oYXMob2JqKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBOb1NlcmlhbGl6ZTxUPiA9IChUICYgeyBfX25vX3NlcmlhbGl6ZV9fOiB0cnVlIH0pIHwgdW5kZWZpbmVkO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNub1NlcmlhbGl6ZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNub1NlcmlhbGl6ZSBpbnN0ZWFkKVxuLyoqXG4gKiBNYXJrcyBhIHByb3BlcnR5IG9uIGEgc3RvcmUgYXMgbm9uLXNlcmlhbGl6YWJsZS5cbiAqXG4gKiBBdCB0aW1lcyBpdCBpcyBuZWNlc3NhcnkgdG8gc3RvcmUgdmFsdWVzIG9uIGEgc3RvcmUgdGhhdCBhcmUgbm9uLXNlcmlhbGl6YWJsZS4gTm9ybWFsbHkgdGhpc1xuICogaXMgYSBydW50aW1lIGVycm9yIGFzIFN0b3JlIHdhbnRzIHRvIGVhZ2VybHkgcmVwb3J0IHdoZW4gYSBub24tc2VyaWFsaXphYmxlIHByb3BlcnR5IGlzXG4gKiBhc3NpZ25lZCB0byBpdC5cbiAqXG4gKiBZb3UgY2FuIHVzZSBgbm9TZXJpYWxpemUoKWAgdG8gbWFyayBhIHZhbHVlIGFzIG5vbi1zZXJpYWxpemFibGUuIFRoZSB2YWx1ZSBpcyBwZXJzaXN0ZWQgaW4gdGhlXG4gKiBTdG9yZSBidXQgZG9lcyBub3Qgc3Vydml2ZSBzZXJpYWxpemF0aW9uLiBUaGUgaW1wbGljYXRpb24gaXMgdGhhdCB3aGVuIHlvdXIgYXBwbGljYXRpb24gaXNcbiAqIHJlc3VtZWQsIHRoZSB2YWx1ZSBvZiB0aGlzIG9iamVjdCB3aWxsIGJlIGB1bmRlZmluZWRgLiBZb3Ugd2lsbCBiZSByZXNwb25zaWJsZSBmb3IgcmVjb3ZlcmluZ1xuICogZnJvbSB0aGlzLlxuICpcbiAqIFNlZTogW25vU2VyaWFsaXplIFR1dG9yaWFsXShodHRwOi8vcXdpay5idWlsZGVyLmlvL3R1dG9yaWFsL3N0b3JlL25vLXNlcmlhbGl6ZSlcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBub1NlcmlhbGl6ZSA9IDxUIGV4dGVuZHMgb2JqZWN0IHwgdW5kZWZpbmVkPihpbnB1dDogVCk6IE5vU2VyaWFsaXplPFQ+ID0+IHtcbiAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICBub1NlcmlhbGl6ZVNldC5hZGQoaW5wdXQpO1xuICB9XG4gIHJldHVybiBpbnB1dCBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgaW1tdXRhYmxlID0gPFQgZXh0ZW5kcyB7fT4oaW5wdXQ6IFQpOiBSZWFkb25seTxUPiA9PiB7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKGlucHV0KTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI211dGFibGVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjbXV0YWJsZSBpbnN0ZWFkKVxuLyoqXG4gKiBNYXJrIHByb3BlcnR5IGFzIG11dGFibGUuXG4gKlxuICogUXdpayBhc3N1bWVzIHRoYXQgYWxsIGJpbmRpbmdzIGluIGNvbXBvbmVudHMgYXJlIGltbXV0YWJsZSBieSBkZWZhdWx0LiBUaGlzIGlzIGRvbmUgZm9yIHR3b1xuICogcmVhc29uczpcbiAqXG4gKiAxLiBKU1ggZG9lcyBub3QgYWxsb3cgUXdpayBydW50aW1lIHRvIGtub3cgaWYgYSBiaW5kaW5nIGlzIHN0YXRpYyBvciBtdXRhYmxlLlxuICogICAgYDxFeGFtcGxlIHZhbHVlQT17MTIzfSB2YWx1ZUI9e2V4cH0+YCBBdCBydW50aW1lIHRoZXJlIGlzIG5vIHdheSB0byBrbm93IGlmIGB2YWx1ZUFgIGlzXG4gKiBpbW11dGFibGUuXG4gKiAyLiBJZiBRd2lrIGFzc3VtZXMgdGhhdCBwcm9wZXJ0aWVzIGFyZSBpbW11dGFibGUsIHRoZW4gaXQgY2FuIGRvIGEgYmV0dGVyIGpvYiBkYXRhLXNoYWtpbmcgdGhlXG4gKiBhbW91bnQgb2YgY29kZSB0aGF0IG5lZWRzIHRvIGJlIHNlcmlhbGl6ZWQgdG8gdGhlIGNsaWVudC5cbiAqXG4gKiBCZWNhdXNlIFF3aWsgYXNzdW1lcyB0aGF0IGJpbmRpbmdzIGFyZSBpbW11dGFibGUgYnkgZGVmYXVsdCwgaXQgbmVlZHMgYSB3YXkgZm9yIGEgZGV2ZWxvcGVyIHRvXG4gKiBsZXQgaXQga25vdyB0aGF0IGJpbmRpbmcgaXMgbXV0YWJsZS4gYG11dGFibGUoKWAgZnVuY3Rpb24gc2VydmVzIHRoYXQgcHVycG9zZS5cbiAqIGA8RXhhbXBsZSB2YWx1ZUE9ezEyM30gdmFsdWVCPXttdXRhYmxlKGV4cCl9PmAuIEluIHRoaXMgY2FzZSwgdGhlIFF3aWsgcnVudGltZSBjYW4gY29ycmVjdGx5XG4gKiByZWNvZ25pemUgdGhhdCB0aGUgYEV4YW1wbGVgIHByb3BzIGFyZSBtdXRhYmxlIGFuZCBuZWVkIHRvIGJlIHNlcmlhbGl6ZWQuXG4gKlxuICogU2VlOiBbTXV0YWJsZSBQcm9wcyBUdXRvcmlhbF0oaHR0cDovL3F3aWsuYnVpbGRlci5pby90dXRvcmlhbC9wcm9wcy9tdXRhYmxlKSBmb3IgYW4gZXhhbXBsZVxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgbXV0YWJsZSA9IDxUPih2OiBUKTogTXV0YWJsZVdyYXBwZXI8VD4gPT4ge1xuICByZXR1cm4ge1xuICAgIFtNVVRBQkxFXTogdHJ1ZSxcbiAgICB2LFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29ubmVjdGVkID0gKHN1YjogU3Vic2NyaWJlcik6IGJvb2xlYW4gPT4ge1xuICBpZiAoaXNRd2lrRWxlbWVudChzdWIpKSB7XG4gICAgcmV0dXJuICEhdHJ5R2V0Q29udGV4dChzdWIpIHx8IHN1Yi5pc0Nvbm5lY3RlZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaXNDb25uZWN0ZWQoc3ViLiRlbCQpO1xuICB9XG59O1xuXG5jb25zdCBNVVRBQkxFID0gU3ltYm9sKCdtdXRhYmxlJyk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI011dGFibGVXcmFwcGVyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI011dGFibGVXcmFwcGVyIGluc3RlYWQpXG4vKipcbiAqIEEgbWFya2VyIG9iamVjdCByZXR1cm5lZCBieSBgbXV0YWJsZSgpYCB0byBpZGVudGlmeSB0aGF0IHRoZSBiaW5kaW5nIGlzIG11dGFibGUuXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBpbnRlcmZhY2UgTXV0YWJsZVdyYXBwZXI8VD4ge1xuICAvKipcbiAgICogQSBtYXJrZXIgc3ltYm9sLlxuICAgKi9cbiAgW01VVEFCTEVdOiB0cnVlO1xuICAvKipcbiAgICogTXV0YWJsZSB2YWx1ZS5cbiAgICovXG4gIHY6IFQ7XG59XG5cbmV4cG9ydCBjb25zdCBpc011dGFibGUgPSAodjogYW55KTogdiBpcyBNdXRhYmxlV3JhcHBlcjxhbnk+ID0+IHtcbiAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHZbTVVUQUJMRV0gPT09IHRydWU7XG59O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgdW53cmFwUHJveHkgPSA8VD4ocHJveHk6IFQpOiBUID0+IHtcbiAgcmV0dXJuIGdldFByb3h5VGFyZ2V0PFQ+KHByb3h5KSA/PyBwcm94eTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcm94eVRhcmdldCA9IDxUID0gUmVjb3JkPHN0cmluZywgYW55Pj4ob2JqOiBUKTogVCB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgcmV0dXJuIChvYmogYXMgYW55KVtRT2plY3RUYXJnZXRTeW1ib2xdO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UHJveHlGbGFncyA9IDxUID0gUmVjb3JkPHN0cmluZywgYW55Pj4ob2JqOiBUKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKGlzT2JqZWN0KG9iaikpIHtcbiAgICByZXR1cm4gKG9iaiBhcyBhbnkpW1FPamVjdEZsYWdzU3ltYm9sXTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbiJdfQ==","import { createProxy, getProxyTarget, isMutable, mutable, QObjectImmutable, } from '../object/q-object';\nimport { resumeContainer } from '../object/store';\nimport { QContainerAttr } from '../util/markers';\nimport { destroyWatch } from '../use/use-watch';\nimport { pauseContainer } from '../object/store';\nimport { qDev } from '../util/qdev';\nimport { logError } from '../util/log';\nimport { isQrl } from '../import/qrl-class';\nimport { directGetAttribute } from '../render/fast-calls';\nimport { assertDefined } from '../assert/assert';\nimport { codeToText, QError_immutableJsxProps } from '../error/error';\nimport { getContainer } from '../use/use-core';\nimport { getContainerState } from '../render/container';\nconst Q_CTX = '__ctx__';\nexport const resumeIfNeeded = (containerEl) => {\n    const isResumed = directGetAttribute(containerEl, QContainerAttr);\n    if (isResumed === 'paused') {\n        resumeContainer(containerEl);\n        if (qDev) {\n            appendQwikDevTools(containerEl);\n        }\n    }\n};\nexport const appendQwikDevTools = (containerEl) => {\n    containerEl['qwik'] = {\n        pause: () => pauseContainer(containerEl),\n        state: getContainerState(containerEl),\n    };\n};\nexport const tryGetContext = (element) => {\n    return element[Q_CTX];\n};\nexport const getContext = (element) => {\n    let ctx = tryGetContext(element);\n    if (!ctx) {\n        element[Q_CTX] = ctx = {\n            $dirty$: false,\n            $mounted$: false,\n            $id$: '',\n            $element$: element,\n            $cache$: null,\n            $refMap$: [],\n            $seq$: [],\n            $watches$: [],\n            $scopeIds$: null,\n            $appendStyles$: null,\n            $props$: null,\n            $renderQrl$: null,\n            $component$: null,\n            $listeners$: null,\n            $contexts$: null,\n        };\n    }\n    return ctx;\n};\nexport const cleanupContext = (ctx, subsManager) => {\n    const el = ctx.$element$;\n    ctx.$watches$.forEach((watch) => {\n        subsManager.$clearSub$(watch);\n        destroyWatch(watch);\n    });\n    if (ctx.$renderQrl$) {\n        subsManager.$clearSub$(el);\n    }\n    ctx.$component$ = null;\n    ctx.$renderQrl$ = null;\n    ctx.$seq$.length = 0;\n    ctx.$watches$.length = 0;\n    ctx.$dirty$ = false;\n    el[Q_CTX] = undefined;\n};\nconst PREFIXES = ['document:on', 'window:on', 'on'];\nconst SCOPED = ['on-document', 'on-window', 'on'];\nexport const normalizeOnProp = (prop) => {\n    let scope = 'on';\n    for (let i = 0; i < PREFIXES.length; i++) {\n        const prefix = PREFIXES[i];\n        if (prop.startsWith(prefix)) {\n            scope = SCOPED[i];\n            prop = prop.slice(prefix.length);\n        }\n    }\n    if (prop.startsWith('-')) {\n        prop = prop.slice(1);\n    }\n    else {\n        prop = prop.toLowerCase();\n    }\n    return `${scope}:${prop}`;\n};\nexport const createProps = (target, containerState) => {\n    return createProxy(target, containerState, QObjectImmutable);\n};\nexport const getPropsMutator = (ctx, containerState) => {\n    let props = ctx.$props$;\n    if (!ctx.$props$) {\n        ctx.$props$ = props = createProps({}, containerState);\n    }\n    const target = getProxyTarget(props);\n    assertDefined(target, `props have to be a proxy, but it is not`, props);\n    const manager = containerState.$subsManager$.$getLocal$(target);\n    return {\n        set(prop, value) {\n            const didSet = prop in target;\n            let oldValue = target[prop];\n            let mut = false;\n            if (isMutable(oldValue)) {\n                oldValue = oldValue.v;\n            }\n            if (containerState.$mutableProps$) {\n                mut = true;\n                if (isMutable(value)) {\n                    value = value.v;\n                    target[prop] = value;\n                }\n                else {\n                    target[prop] = mutable(value);\n                }\n            }\n            else {\n                target[prop] = value;\n                if (isMutable(value)) {\n                    value = value.v;\n                    mut = true;\n                }\n            }\n            if (oldValue !== value) {\n                if (qDev) {\n                    if (didSet && !mut && !isQrl(value)) {\n                        const displayName = ctx.$renderQrl$?.getSymbol() ?? ctx.$element$.localName;\n                        logError(codeToText(QError_immutableJsxProps), `If you need to change a value of a passed in prop, please wrap the prop with \"mutable()\" <${displayName} ${prop}={mutable(...)}>`, '\\n - Component:', displayName, '\\n - Prop:', prop, '\\n - Old value:', oldValue, '\\n - New value:', value);\n                    }\n                }\n                manager.$notifySubs$(prop);\n            }\n        },\n    };\n};\n/**\n * @internal\n */\nexport const _useMutableProps = (element, mutable) => {\n    const ctx = getContainer(element);\n    getContainerState(ctx).$mutableProps$ = mutable;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFdBQVcsRUFDWCxjQUFjLEVBQ2QsU0FBUyxFQUNULE9BQU8sRUFDUCxnQkFBZ0IsR0FDakIsTUFBTSxvQkFBb0IsQ0FBQztBQUM1QixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbEQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRWpELE9BQU8sRUFBRSxZQUFZLEVBQXdCLE1BQU0sa0JBQWtCLENBQUM7QUFDdEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQUUsS0FBSyxFQUFlLE1BQU0scUJBQXFCLENBQUM7QUFDekQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDMUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxVQUFVLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUV0RSxPQUFPLEVBQUUsWUFBWSxFQUFlLE1BQU0saUJBQWlCLENBQUM7QUFDNUQsT0FBTyxFQUFrQixpQkFBaUIsRUFBdUIsTUFBTSxxQkFBcUIsQ0FBQztBQUk3RixNQUFNLEtBQUssR0FBRyxTQUFTLENBQUM7QUFFeEIsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsV0FBb0IsRUFBUSxFQUFFO0lBQzNELE1BQU0sU0FBUyxHQUFHLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsQ0FBQztJQUNsRSxJQUFJLFNBQVMsS0FBSyxRQUFRLEVBQUU7UUFDMUIsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzdCLElBQUksSUFBSSxFQUFFO1lBQ1Isa0JBQWtCLENBQUMsV0FBVyxDQUFDLENBQUM7U0FDakM7S0FDRjtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLENBQUMsV0FBb0IsRUFBRSxFQUFFO0lBQ3hELFdBQW1CLENBQUMsTUFBTSxDQUFDLEdBQUc7UUFDN0IsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDLGNBQWMsQ0FBQyxXQUFXLENBQUM7UUFDeEMsS0FBSyxFQUFFLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztLQUN0QyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBOEJGLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUFDLE9BQW9CLEVBQXdCLEVBQUU7SUFDMUUsT0FBUSxPQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDakMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsT0FBaUMsRUFBWSxFQUFFO0lBQ3hFLElBQUksR0FBRyxHQUFHLGFBQWEsQ0FBQyxPQUFPLENBQUUsQ0FBQztJQUNsQyxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ1AsT0FBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRztZQUM5QixPQUFPLEVBQUUsS0FBSztZQUNkLFNBQVMsRUFBRSxLQUFLO1lBQ2hCLElBQUksRUFBRSxFQUFFO1lBQ1IsU0FBUyxFQUFFLE9BQU87WUFDbEIsT0FBTyxFQUFFLElBQUk7WUFDYixRQUFRLEVBQUUsRUFBRTtZQUNaLEtBQUssRUFBRSxFQUFFO1lBQ1QsU0FBUyxFQUFFLEVBQUU7WUFDYixVQUFVLEVBQUUsSUFBSTtZQUNoQixjQUFjLEVBQUUsSUFBSTtZQUNwQixPQUFPLEVBQUUsSUFBSTtZQUNiLFdBQVcsRUFBRSxJQUFJO1lBQ2pCLFdBQVcsRUFBRSxJQUFJO1lBQ2pCLFdBQVcsRUFBRSxJQUFJO1lBQ2pCLFVBQVUsRUFBRSxJQUFJO1NBQ2pCLENBQUM7S0FDSDtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQUMsR0FBYSxFQUFFLFdBQWdDLEVBQUUsRUFBRTtJQUNoRixNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDO0lBQ3pCLEdBQUcsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxFQUFFLEVBQUU7UUFDOUIsV0FBVyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5QixZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEIsQ0FBQyxDQUFDLENBQUM7SUFDSCxJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUU7UUFDbkIsV0FBVyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztLQUM1QjtJQUNELEdBQUcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0lBQ3ZCLEdBQUcsQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDO0lBQ3ZCLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNyQixHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDekIsR0FBRyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7SUFFbkIsRUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLFNBQVMsQ0FBQztBQUNqQyxDQUFDLENBQUM7QUFFRixNQUFNLFFBQVEsR0FBRyxDQUFDLGFBQWEsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDcEQsTUFBTSxNQUFNLEdBQUcsQ0FBQyxhQUFhLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBRWxELE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLElBQVksRUFBRSxFQUFFO0lBQzlDLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQztJQUNqQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN4QyxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDM0IsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO1lBQzNCLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEIsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ2xDO0tBQ0Y7SUFDRCxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDeEIsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDdEI7U0FBTTtRQUNMLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7S0FDM0I7SUFDRCxPQUFPLEdBQUcsS0FBSyxJQUFJLElBQUksRUFBRSxDQUFDO0FBQzVCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLE1BQVcsRUFBRSxjQUE4QixFQUFFLEVBQUU7SUFDekUsT0FBTyxXQUFXLENBQUMsTUFBTSxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO0FBQy9ELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLEdBQWEsRUFBRSxjQUE4QixFQUFFLEVBQUU7SUFDL0UsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztJQUN4QixJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRTtRQUNoQixHQUFHLENBQUMsT0FBTyxHQUFHLEtBQUssR0FBRyxXQUFXLENBQUMsRUFBRSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0tBQ3ZEO0lBQ0QsTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLGFBQWEsQ0FBQyxNQUFNLEVBQUUseUNBQXlDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEUsTUFBTSxPQUFPLEdBQUcsY0FBYyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFaEUsT0FBTztRQUNMLEdBQUcsQ0FBQyxJQUFZLEVBQUUsS0FBVTtZQUMxQixNQUFNLE1BQU0sR0FBRyxJQUFJLElBQUksTUFBTSxDQUFDO1lBQzlCLElBQUksUUFBUSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM1QixJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUM7WUFDaEIsSUFBSSxTQUFTLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQ3ZCLFFBQVEsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDO2FBQ3ZCO1lBQ0QsSUFBSSxjQUFjLENBQUMsY0FBYyxFQUFFO2dCQUNqQyxHQUFHLEdBQUcsSUFBSSxDQUFDO2dCQUNYLElBQUksU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFO29CQUNwQixLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDaEIsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQztpQkFDdEI7cUJBQU07b0JBQ0wsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDL0I7YUFDRjtpQkFBTTtnQkFDTCxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDO2dCQUNyQixJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtvQkFDcEIsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUM7b0JBQ2hCLEdBQUcsR0FBRyxJQUFJLENBQUM7aUJBQ1o7YUFDRjtZQUNELElBQUksUUFBUSxLQUFLLEtBQUssRUFBRTtnQkFDdEIsSUFBSSxJQUFJLEVBQUU7b0JBQ1IsSUFBSSxNQUFNLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUU7d0JBQ25DLE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQyxXQUFXLEVBQUUsU0FBUyxFQUFFLElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUM7d0JBQzVFLFFBQVEsQ0FDTixVQUFVLENBQUMsd0JBQXdCLENBQUMsRUFDcEMsNkZBQTZGLFdBQVcsSUFBSSxJQUFJLGtCQUFrQixFQUNsSSxpQkFBaUIsRUFDakIsV0FBVyxFQUNYLFlBQVksRUFDWixJQUFJLEVBQ0osaUJBQWlCLEVBQ2pCLFFBQVEsRUFDUixpQkFBaUIsRUFDakIsS0FBSyxDQUNOLENBQUM7cUJBQ0g7aUJBQ0Y7Z0JBQ0QsT0FBTyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUM1QjtRQUNILENBQUM7S0FDRixDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLE9BQWdCLEVBQUUsT0FBZ0IsRUFBRSxFQUFFO0lBQ3JFLE1BQU0sR0FBRyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNsQyxpQkFBaUIsQ0FBQyxHQUFJLENBQUMsQ0FBQyxjQUFjLEdBQUcsT0FBTyxDQUFDO0FBQ25ELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIGNyZWF0ZVByb3h5LFxuICBnZXRQcm94eVRhcmdldCxcbiAgaXNNdXRhYmxlLFxuICBtdXRhYmxlLFxuICBRT2JqZWN0SW1tdXRhYmxlLFxufSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgcmVzdW1lQ29udGFpbmVyIH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlJztcbmltcG9ydCB7IFFDb250YWluZXJBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB0eXBlIHsgT25SZW5kZXJGbiB9IGZyb20gJy4uL2NvbXBvbmVudC9jb21wb25lbnQucHVibGljJztcbmltcG9ydCB7IGRlc3Ryb3lXYXRjaCwgU3Vic2NyaWJlckRlc2NyaXB0b3IgfSBmcm9tICcuLi91c2UvdXNlLXdhdGNoJztcbmltcG9ydCB7IHBhdXNlQ29udGFpbmVyIH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBpc1FybCwgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IGRpcmVjdEdldEF0dHJpYnV0ZSB9IGZyb20gJy4uL3JlbmRlci9mYXN0LWNhbGxzJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IGNvZGVUb1RleHQsIFFFcnJvcl9pbW11dGFibGVKc3hQcm9wcyB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgZ2V0Q29udGFpbmVyLCBTdHlsZUFwcGVuZCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBDb250YWluZXJTdGF0ZSwgZ2V0Q29udGFpbmVyU3RhdGUsIFN1YnNjcmlwdGlvbk1hbmFnZXIgfSBmcm9tICcuLi9yZW5kZXIvY29udGFpbmVyJztcbmltcG9ydCB0eXBlIHsgUHJvY2Vzc2VkSlNYTm9kZSB9IGZyb20gJy4uL3JlbmRlci9kb20vcmVuZGVyLWRvbSc7XG5pbXBvcnQgdHlwZSB7IFF3aWtFbGVtZW50LCBWaXJ0dWFsRWxlbWVudCB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcblxuY29uc3QgUV9DVFggPSAnX19jdHhfXyc7XG5cbmV4cG9ydCBjb25zdCByZXN1bWVJZk5lZWRlZCA9IChjb250YWluZXJFbDogRWxlbWVudCk6IHZvaWQgPT4ge1xuICBjb25zdCBpc1Jlc3VtZWQgPSBkaXJlY3RHZXRBdHRyaWJ1dGUoY29udGFpbmVyRWwsIFFDb250YWluZXJBdHRyKTtcbiAgaWYgKGlzUmVzdW1lZCA9PT0gJ3BhdXNlZCcpIHtcbiAgICByZXN1bWVDb250YWluZXIoY29udGFpbmVyRWwpO1xuICAgIGlmIChxRGV2KSB7XG4gICAgICBhcHBlbmRRd2lrRGV2VG9vbHMoY29udGFpbmVyRWwpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGFwcGVuZFF3aWtEZXZUb29scyA9IChjb250YWluZXJFbDogRWxlbWVudCkgPT4ge1xuICAoY29udGFpbmVyRWwgYXMgYW55KVsncXdpayddID0ge1xuICAgIHBhdXNlOiAoKSA9PiBwYXVzZUNvbnRhaW5lcihjb250YWluZXJFbCksXG4gICAgc3RhdGU6IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKSxcbiAgfTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUUNvbnRleHRFdmVudHMge1xuICBbZXZlbnROYW1lOiBzdHJpbmddOiBRUkwgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50Q3R4IHtcbiAgJGN0eCQ6IFFDb250ZXh0O1xuICAkc2xvdHMkOiBQcm9jZXNzZWRKU1hOb2RlW107XG4gICRhdHRhY2hlZExpc3RlbmVycyQ6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUUNvbnRleHQge1xuICAkZWxlbWVudCQ6IFF3aWtFbGVtZW50O1xuICAkcmVmTWFwJDogYW55W107XG4gICRkaXJ0eSQ6IGJvb2xlYW47XG4gICRpZCQ6IHN0cmluZztcbiAgJG1vdW50ZWQkOiBib29sZWFuO1xuICAkY2FjaGUkOiBNYXA8c3RyaW5nLCBhbnk+IHwgbnVsbDtcbiAgJHByb3BzJDogUmVjb3JkPHN0cmluZywgYW55PiB8IG51bGw7XG4gICRyZW5kZXJRcmwkOiBRUkxJbnRlcm5hbDxPblJlbmRlckZuPGFueT4+IHwgbnVsbDtcbiAgJGNvbXBvbmVudCQ6IENvbXBvbmVudEN0eCB8IG51bGw7XG4gICRsaXN0ZW5lcnMkOiBNYXA8c3RyaW5nLCBRUkxJbnRlcm5hbDxhbnk+W10+IHwgbnVsbDtcbiAgJHNlcSQ6IGFueVtdO1xuICAkd2F0Y2hlcyQ6IFN1YnNjcmliZXJEZXNjcmlwdG9yW107XG4gICRjb250ZXh0cyQ6IE1hcDxzdHJpbmcsIGFueT4gfCBudWxsO1xuICAkYXBwZW5kU3R5bGVzJDogU3R5bGVBcHBlbmRbXSB8IG51bGw7XG4gICRzY29wZUlkcyQ6IHN0cmluZ1tdIHwgbnVsbDtcbn1cblxuZXhwb3J0IGNvbnN0IHRyeUdldENvbnRleHQgPSAoZWxlbWVudDogUXdpa0VsZW1lbnQpOiBRQ29udGV4dCB8IHVuZGVmaW5lZCA9PiB7XG4gIHJldHVybiAoZWxlbWVudCBhcyBhbnkpW1FfQ1RYXTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDb250ZXh0ID0gKGVsZW1lbnQ6IEVsZW1lbnQgfCBWaXJ0dWFsRWxlbWVudCk6IFFDb250ZXh0ID0+IHtcbiAgbGV0IGN0eCA9IHRyeUdldENvbnRleHQoZWxlbWVudCkhO1xuICBpZiAoIWN0eCkge1xuICAgIChlbGVtZW50IGFzIGFueSlbUV9DVFhdID0gY3R4ID0ge1xuICAgICAgJGRpcnR5JDogZmFsc2UsXG4gICAgICAkbW91bnRlZCQ6IGZhbHNlLFxuICAgICAgJGlkJDogJycsXG4gICAgICAkZWxlbWVudCQ6IGVsZW1lbnQsXG4gICAgICAkY2FjaGUkOiBudWxsLFxuICAgICAgJHJlZk1hcCQ6IFtdLFxuICAgICAgJHNlcSQ6IFtdLFxuICAgICAgJHdhdGNoZXMkOiBbXSxcbiAgICAgICRzY29wZUlkcyQ6IG51bGwsXG4gICAgICAkYXBwZW5kU3R5bGVzJDogbnVsbCxcbiAgICAgICRwcm9wcyQ6IG51bGwsXG4gICAgICAkcmVuZGVyUXJsJDogbnVsbCxcbiAgICAgICRjb21wb25lbnQkOiBudWxsLFxuICAgICAgJGxpc3RlbmVycyQ6IG51bGwsXG4gICAgICAkY29udGV4dHMkOiBudWxsLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn07XG5cbmV4cG9ydCBjb25zdCBjbGVhbnVwQ29udGV4dCA9IChjdHg6IFFDb250ZXh0LCBzdWJzTWFuYWdlcjogU3Vic2NyaXB0aW9uTWFuYWdlcikgPT4ge1xuICBjb25zdCBlbCA9IGN0eC4kZWxlbWVudCQ7XG4gIGN0eC4kd2F0Y2hlcyQuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICBzdWJzTWFuYWdlci4kY2xlYXJTdWIkKHdhdGNoKTtcbiAgICBkZXN0cm95V2F0Y2god2F0Y2gpO1xuICB9KTtcbiAgaWYgKGN0eC4kcmVuZGVyUXJsJCkge1xuICAgIHN1YnNNYW5hZ2VyLiRjbGVhclN1YiQoZWwpO1xuICB9XG4gIGN0eC4kY29tcG9uZW50JCA9IG51bGw7XG4gIGN0eC4kcmVuZGVyUXJsJCA9IG51bGw7XG4gIGN0eC4kc2VxJC5sZW5ndGggPSAwO1xuICBjdHguJHdhdGNoZXMkLmxlbmd0aCA9IDA7XG4gIGN0eC4kZGlydHkkID0gZmFsc2U7XG5cbiAgKGVsIGFzIGFueSlbUV9DVFhdID0gdW5kZWZpbmVkO1xufTtcblxuY29uc3QgUFJFRklYRVMgPSBbJ2RvY3VtZW50Om9uJywgJ3dpbmRvdzpvbicsICdvbiddO1xuY29uc3QgU0NPUEVEID0gWydvbi1kb2N1bWVudCcsICdvbi13aW5kb3cnLCAnb24nXTtcblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZU9uUHJvcCA9IChwcm9wOiBzdHJpbmcpID0+IHtcbiAgbGV0IHNjb3BlID0gJ29uJztcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBQUkVGSVhFUy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHByZWZpeCA9IFBSRUZJWEVTW2ldO1xuICAgIGlmIChwcm9wLnN0YXJ0c1dpdGgocHJlZml4KSkge1xuICAgICAgc2NvcGUgPSBTQ09QRURbaV07XG4gICAgICBwcm9wID0gcHJvcC5zbGljZShwcmVmaXgubGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgaWYgKHByb3Auc3RhcnRzV2l0aCgnLScpKSB7XG4gICAgcHJvcCA9IHByb3Auc2xpY2UoMSk7XG4gIH0gZWxzZSB7XG4gICAgcHJvcCA9IHByb3AudG9Mb3dlckNhc2UoKTtcbiAgfVxuICByZXR1cm4gYCR7c2NvcGV9OiR7cHJvcH1gO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVByb3BzID0gKHRhcmdldDogYW55LCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHtcbiAgcmV0dXJuIGNyZWF0ZVByb3h5KHRhcmdldCwgY29udGFpbmVyU3RhdGUsIFFPYmplY3RJbW11dGFibGUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFByb3BzTXV0YXRvciA9IChjdHg6IFFDb250ZXh0LCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHtcbiAgbGV0IHByb3BzID0gY3R4LiRwcm9wcyQ7XG4gIGlmICghY3R4LiRwcm9wcyQpIHtcbiAgICBjdHguJHByb3BzJCA9IHByb3BzID0gY3JlYXRlUHJvcHMoe30sIGNvbnRhaW5lclN0YXRlKTtcbiAgfVxuICBjb25zdCB0YXJnZXQgPSBnZXRQcm94eVRhcmdldChwcm9wcyk7XG4gIGFzc2VydERlZmluZWQodGFyZ2V0LCBgcHJvcHMgaGF2ZSB0byBiZSBhIHByb3h5LCBidXQgaXQgaXMgbm90YCwgcHJvcHMpO1xuICBjb25zdCBtYW5hZ2VyID0gY29udGFpbmVyU3RhdGUuJHN1YnNNYW5hZ2VyJC4kZ2V0TG9jYWwkKHRhcmdldCk7XG5cbiAgcmV0dXJuIHtcbiAgICBzZXQocHJvcDogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICBjb25zdCBkaWRTZXQgPSBwcm9wIGluIHRhcmdldDtcbiAgICAgIGxldCBvbGRWYWx1ZSA9IHRhcmdldFtwcm9wXTtcbiAgICAgIGxldCBtdXQgPSBmYWxzZTtcbiAgICAgIGlmIChpc011dGFibGUob2xkVmFsdWUpKSB7XG4gICAgICAgIG9sZFZhbHVlID0gb2xkVmFsdWUudjtcbiAgICAgIH1cbiAgICAgIGlmIChjb250YWluZXJTdGF0ZS4kbXV0YWJsZVByb3BzJCkge1xuICAgICAgICBtdXQgPSB0cnVlO1xuICAgICAgICBpZiAoaXNNdXRhYmxlKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUudjtcbiAgICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBtdXRhYmxlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgIGlmIChpc011dGFibGUodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS52O1xuICAgICAgICAgIG11dCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChvbGRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgaWYgKHFEZXYpIHtcbiAgICAgICAgICBpZiAoZGlkU2V0ICYmICFtdXQgJiYgIWlzUXJsKHZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGlzcGxheU5hbWUgPSBjdHguJHJlbmRlclFybCQ/LmdldFN5bWJvbCgpID8/IGN0eC4kZWxlbWVudCQubG9jYWxOYW1lO1xuICAgICAgICAgICAgbG9nRXJyb3IoXG4gICAgICAgICAgICAgIGNvZGVUb1RleHQoUUVycm9yX2ltbXV0YWJsZUpzeFByb3BzKSxcbiAgICAgICAgICAgICAgYElmIHlvdSBuZWVkIHRvIGNoYW5nZSBhIHZhbHVlIG9mIGEgcGFzc2VkIGluIHByb3AsIHBsZWFzZSB3cmFwIHRoZSBwcm9wIHdpdGggXCJtdXRhYmxlKClcIiA8JHtkaXNwbGF5TmFtZX0gJHtwcm9wfT17bXV0YWJsZSguLi4pfT5gLFxuICAgICAgICAgICAgICAnXFxuIC0gQ29tcG9uZW50OicsXG4gICAgICAgICAgICAgIGRpc3BsYXlOYW1lLFxuICAgICAgICAgICAgICAnXFxuIC0gUHJvcDonLFxuICAgICAgICAgICAgICBwcm9wLFxuICAgICAgICAgICAgICAnXFxuIC0gT2xkIHZhbHVlOicsXG4gICAgICAgICAgICAgIG9sZFZhbHVlLFxuICAgICAgICAgICAgICAnXFxuIC0gTmV3IHZhbHVlOicsXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYW5hZ2VyLiRub3RpZnlTdWJzJChwcm9wKTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xufTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IF91c2VNdXRhYmxlUHJvcHMgPSAoZWxlbWVudDogRWxlbWVudCwgbXV0YWJsZTogYm9vbGVhbikgPT4ge1xuICBjb25zdCBjdHggPSBnZXRDb250YWluZXIoZWxlbWVudCk7XG4gIGdldENvbnRhaW5lclN0YXRlKGN0eCEpLiRtdXRhYmxlUHJvcHMkID0gbXV0YWJsZTtcbn07XG4iXX0=","import { tryGetContext } from '../props/props';\nimport { isElement } from './element';\nimport { qDev } from './qdev';\nconst STYLE = qDev\n    ? `background: #564CE0; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`\n    : '';\nexport const logError = (message, ...optionalParams) => {\n    const err = message instanceof Error ? message : new Error(message);\n    // eslint-disable-next-line no-console\n    console.error('%cQWIK ERROR', STYLE, err.message, ...printParams(optionalParams), err.stack);\n    return err;\n};\nexport const logErrorAndStop = (message, ...optionalParams) => {\n    const err = logError(message, ...optionalParams);\n    // eslint-disable-next-line no-debugger\n    debugger;\n    return err;\n};\nexport const logWarn = (message, ...optionalParams) => {\n    // eslint-disable-next-line no-console\n    if (qDev) {\n        console.warn('%cQWIK WARN', STYLE, message, ...printParams(optionalParams));\n    }\n};\nexport const logDebug = (message, ...optionalParams) => {\n    if (qDev) {\n        // eslint-disable-next-line no-console\n        console.debug('%cQWIK', STYLE, message, ...printParams(optionalParams));\n    }\n};\nconst printParams = (optionalParams) => {\n    if (qDev) {\n        return optionalParams.map((p) => {\n            if (isElement(p)) {\n                return printElement(p);\n            }\n            return p;\n        });\n    }\n    return optionalParams;\n};\nconst printElement = (el) => {\n    const ctx = tryGetContext(el);\n    const isServer = /*#__PURE__*/ (() => typeof process !== 'undefined' && !!process.versions && !!process.versions.node)();\n    return {\n        tagName: el.tagName,\n        renderQRL: ctx?.$renderQrl$?.getSymbol(),\n        element: isServer ? undefined : el,\n        ctx: isServer ? undefined : ctx,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFOUIsTUFBTSxLQUFLLEdBQUcsSUFBSTtJQUNoQixDQUFDLENBQUMsNEZBQTRGO0lBQzlGLENBQUMsQ0FBQyxFQUFFLENBQUM7QUFFUCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDbEUsTUFBTSxHQUFHLEdBQUcsT0FBTyxZQUFZLEtBQUssQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUNwRSxzQ0FBc0M7SUFDdEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxjQUFjLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxXQUFXLENBQUMsY0FBYyxDQUFDLEVBQUUsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzdGLE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ3pFLE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztJQUNqRCx1Q0FBdUM7SUFDdkMsUUFBUSxDQUFDO0lBQ1QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxPQUFhLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDakUsc0NBQXNDO0lBQ3RDLElBQUksSUFBSSxFQUFFO1FBQ1IsT0FBTyxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0tBQzdFO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBZ0IsRUFBRSxHQUFHLGNBQXFCLEVBQUUsRUFBRTtJQUNyRSxJQUFJLElBQUksRUFBRTtRQUNSLHNDQUFzQztRQUN0QyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEdBQUcsV0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7S0FDekU7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLFdBQVcsR0FBRyxDQUFDLGNBQXFCLEVBQUUsRUFBRTtJQUM1QyxJQUFJLElBQUksRUFBRTtRQUNSLE9BQU8sY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO1lBQzlCLElBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUNoQixPQUFPLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUN4QjtZQUNELE9BQU8sQ0FBQyxDQUFDO1FBQ1gsQ0FBQyxDQUFDLENBQUM7S0FDSjtJQUNELE9BQU8sY0FBYyxDQUFDO0FBQ3hCLENBQUMsQ0FBQztBQUVGLE1BQU0sWUFBWSxHQUFHLENBQUMsRUFBVyxFQUFFLEVBQUU7SUFDbkMsTUFBTSxHQUFHLEdBQUcsYUFBYSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzlCLE1BQU0sUUFBUSxHQUFZLGFBQWEsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUM1QyxPQUFPLE9BQU8sS0FBSyxXQUFXLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztJQUVyRixPQUFPO1FBQ0wsT0FBTyxFQUFFLEVBQUUsQ0FBQyxPQUFPO1FBQ25CLFNBQVMsRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRTtRQUN4QyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDbEMsR0FBRyxFQUFFLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHO0tBQ2hDLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0cnlHZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi9lbGVtZW50JztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuL3FkZXYnO1xuXG5jb25zdCBTVFlMRSA9IHFEZXZcbiAgPyBgYmFja2dyb3VuZDogIzU2NENFMDsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAycHggM3B4OyBib3JkZXItcmFkaXVzOiAycHg7IGZvbnQtc2l6ZTogMC44ZW07YFxuICA6ICcnO1xuXG5leHBvcnQgY29uc3QgbG9nRXJyb3IgPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGNvbnN0IGVyciA9IG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvciA/IG1lc3NhZ2UgOiBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUuZXJyb3IoJyVjUVdJSyBFUlJPUicsIFNUWUxFLCBlcnIubWVzc2FnZSwgLi4ucHJpbnRQYXJhbXMob3B0aW9uYWxQYXJhbXMpLCBlcnIuc3RhY2spO1xuICByZXR1cm4gZXJyO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvZ0Vycm9yQW5kU3RvcCA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgY29uc3QgZXJyID0gbG9nRXJyb3IobWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXJcbiAgZGVidWdnZXI7XG4gIHJldHVybiBlcnI7XG59O1xuXG5leHBvcnQgY29uc3QgbG9nV2FybiA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgaWYgKHFEZXYpIHtcbiAgICBjb25zb2xlLndhcm4oJyVjUVdJSyBXQVJOJywgU1RZTEUsIG1lc3NhZ2UsIC4uLnByaW50UGFyYW1zKG9wdGlvbmFsUGFyYW1zKSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBsb2dEZWJ1ZyA9IChtZXNzYWdlPzogc3RyaW5nLCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUuZGVidWcoJyVjUVdJSycsIFNUWUxFLCBtZXNzYWdlLCAuLi5wcmludFBhcmFtcyhvcHRpb25hbFBhcmFtcykpO1xuICB9XG59O1xuXG5jb25zdCBwcmludFBhcmFtcyA9IChvcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICByZXR1cm4gb3B0aW9uYWxQYXJhbXMubWFwKChwKSA9PiB7XG4gICAgICBpZiAoaXNFbGVtZW50KHApKSB7XG4gICAgICAgIHJldHVybiBwcmludEVsZW1lbnQocCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcDtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3B0aW9uYWxQYXJhbXM7XG59O1xuXG5jb25zdCBwcmludEVsZW1lbnQgPSAoZWw6IEVsZW1lbnQpID0+IHtcbiAgY29uc3QgY3R4ID0gdHJ5R2V0Q29udGV4dChlbCk7XG4gIGNvbnN0IGlzU2VydmVyOiBib29sZWFuID0gLyojX19QVVJFX18qLyAoKCkgPT5cbiAgICB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgISFwcm9jZXNzLnZlcnNpb25zICYmICEhcHJvY2Vzcy52ZXJzaW9ucy5ub2RlKSgpO1xuXG4gIHJldHVybiB7XG4gICAgdGFnTmFtZTogZWwudGFnTmFtZSxcbiAgICByZW5kZXJRUkw6IGN0eD8uJHJlbmRlclFybCQ/LmdldFN5bWJvbCgpLFxuICAgIGVsZW1lbnQ6IGlzU2VydmVyID8gdW5kZWZpbmVkIDogZWwsXG4gICAgY3R4OiBpc1NlcnZlciA/IHVuZGVmaW5lZCA6IGN0eCxcbiAgfTtcbn07XG4iXX0=","import { logErrorAndStop } from '../util/log';\nimport { qDev } from '../util/qdev';\nexport const QError_stringifyClassOrStyle = 0;\nexport const QError_cannotSerializeNode = 1; // 'Can not serialize a HTML Node that is not an Element'\nexport const QError_runtimeQrlNoElement = 2; // `Q-ERROR: '${qrl}' is runtime but no instance found on element.`\nexport const QError_verifySerializable = 3; // 'Only primitive and object literals can be serialized', value,\nexport const QError_errorWhileRendering = 4; // Crash while rendering\nexport const QError_cannotRenderOverExistingContainer = 5; //'You can render over a existing q:container. Skipping render().'\nexport const QError_setProperty = 6; //'Set property'\nexport const QError_qrlOrError = 7;\nexport const QError_onlyObjectWrapped = 8;\nexport const QError_onlyLiteralWrapped = 9;\nexport const QError_qrlIsNotFunction = 10;\nexport const QError_dynamicImportFailed = 11;\nexport const QError_unknownTypeArgument = 12;\nexport const QError_notFoundContext = 13;\nexport const QError_useMethodOutsideContext = 14;\nexport const QError_missingRenderCtx = 15;\nexport const QError_missingDoc = 16;\nexport const QError_immutableProps = 17;\nexport const QError_hostCanOnlyBeAtRoot = 18;\nexport const QError_immutableJsxProps = 19;\nexport const QError_useInvokeContext = 20;\nexport const QError_containerAlreadyPaused = 21;\nexport const QError_canNotMountUseServerMount = 22;\nexport const QError_rootNodeMustBeHTML = 23;\nexport const QError_strictHTMLChildren = 24;\nexport const QError_invalidJsxNodeType = 25;\nexport const QError_trackUseStore = 26;\nexport const QError_missingObjectId = 27;\nexport const QError_invalidContext = 28;\nexport const qError = (code, ...parts) => {\n    const text = codeToText(code);\n    return logErrorAndStop(text, ...parts);\n};\nexport const codeToText = (code) => {\n    if (qDev) {\n        const MAP = [\n            'Error while serializing class attribute',\n            'Can not serialize a HTML Node that is not an Element',\n            'Rruntime but no instance found on element.',\n            'Only primitive and object literals can be serialized',\n            'Crash while rendering',\n            'You can render over a existing q:container. Skipping render().',\n            'Set property',\n            \"Only function's and 'string's are supported.\",\n            \"Only objects can be wrapped in 'QObject'\",\n            `Only objects literals can be wrapped in 'QObject'`,\n            'QRL is not a function',\n            'Dynamic import not found',\n            'Unknown type argument',\n            'not found state for useContext',\n            \"Invoking 'use*()' method outside of invocation context.\",\n            'Cant access renderCtx for existing context',\n            'Cant access document for existing context',\n            'props are inmutable',\n            '<div> component can only be used at the root of a Qwik component$()',\n            'Props are immutable by default.',\n            'use- method must be called only at the root level of a component$()',\n            'Container is already paused. Skipping',\n            'Components using useServerMount() can only be mounted in the server, if you need your component to be mounted in the client, use \"useMount$()\" instead',\n            'When rendering directly on top of Document, the root node must be a <html>',\n            'A <html> node must have 2 children. The first one <head> and the second one a <body>',\n            'Invalid JSXNode type. It must be either a function or a string. Found:',\n            'Tracking value changes can only be done to useStore() objects and component props',\n            'Missing Object ID for captured object',\n            'The provided Context reference is not a valid context created by createContext()', // 27\n        ];\n        return `Code(${code}): ${MAP[code] ?? ''}`;\n    }\n    else {\n        return `Code(${code})`;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvZXJyb3IvZXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUM5QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sQ0FBQyxNQUFNLDRCQUE0QixHQUFHLENBQUMsQ0FBQztBQUM5QyxNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxDQUFDLENBQUMsQ0FBQyx5REFBeUQ7QUFDdEcsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsQ0FBQyxDQUFDLENBQUMsbUVBQW1FO0FBQ2hILE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLENBQUMsQ0FBQyxDQUFDLGlFQUFpRTtBQUM3RyxNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxDQUFDLENBQUMsQ0FBQyx3QkFBd0I7QUFDckUsTUFBTSxDQUFDLE1BQU0sd0NBQXdDLEdBQUcsQ0FBQyxDQUFDLENBQUMsa0VBQWtFO0FBQzdILE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtBQUNyRCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7QUFDbkMsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUcsQ0FBQyxDQUFDO0FBQzFDLE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLENBQUMsQ0FBQztBQUMzQyxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxFQUFFLENBQUM7QUFDMUMsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsRUFBRSxDQUFDO0FBQzdDLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLEVBQUUsQ0FBQztBQUM3QyxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxFQUFFLENBQUM7QUFDekMsTUFBTSxDQUFDLE1BQU0sOEJBQThCLEdBQUcsRUFBRSxDQUFDO0FBQ2pELE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUFHLEVBQUUsQ0FBQztBQUMxQyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUM7QUFDcEMsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsRUFBRSxDQUFDO0FBQ3hDLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLEVBQUUsQ0FBQztBQUM3QyxNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxFQUFFLENBQUM7QUFDM0MsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsRUFBRSxDQUFDO0FBQzFDLE1BQU0sQ0FBQyxNQUFNLDZCQUE2QixHQUFHLEVBQUUsQ0FBQztBQUNoRCxNQUFNLENBQUMsTUFBTSxnQ0FBZ0MsR0FBRyxFQUFFLENBQUM7QUFDbkQsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsRUFBRSxDQUFDO0FBQzVDLE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLEVBQUUsQ0FBQztBQUM1QyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxFQUFFLENBQUM7QUFDNUMsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsRUFBRSxDQUFDO0FBQ3ZDLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLEVBQUUsQ0FBQztBQUN6QyxNQUFNLENBQUMsTUFBTSxxQkFBcUIsR0FBRyxFQUFFLENBQUM7QUFFeEMsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUMsSUFBWSxFQUFFLEdBQUcsS0FBWSxFQUFTLEVBQUU7SUFDN0QsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlCLE9BQU8sZUFBZSxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0FBQ3pDLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxDQUFDLElBQVksRUFBVSxFQUFFO0lBQ2pELElBQUksSUFBSSxFQUFFO1FBQ1IsTUFBTSxHQUFHLEdBQUc7WUFDVix5Q0FBeUM7WUFDekMsc0RBQXNEO1lBQ3RELDRDQUE0QztZQUM1QyxzREFBc0Q7WUFDdEQsdUJBQXVCO1lBQ3ZCLGdFQUFnRTtZQUNoRSxjQUFjO1lBQ2QsOENBQThDO1lBQzlDLDBDQUEwQztZQUMxQyxtREFBbUQ7WUFDbkQsdUJBQXVCO1lBQ3ZCLDBCQUEwQjtZQUMxQix1QkFBdUI7WUFDdkIsZ0NBQWdDO1lBQ2hDLHlEQUF5RDtZQUN6RCw0Q0FBNEM7WUFDNUMsMkNBQTJDO1lBQzNDLHFCQUFxQjtZQUNyQixxRUFBcUU7WUFDckUsaUNBQWlDO1lBQ2pDLHFFQUFxRTtZQUNyRSx1Q0FBdUM7WUFDdkMsd0pBQXdKO1lBQ3hKLDRFQUE0RTtZQUM1RSxzRkFBc0Y7WUFDdEYsd0VBQXdFO1lBQ3hFLG1GQUFtRjtZQUNuRix1Q0FBdUM7WUFDdkMsa0ZBQWtGLEVBQUUsS0FBSztTQUMxRixDQUFDO1FBQ0YsT0FBTyxRQUFRLElBQUksTUFBTSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUM7S0FDNUM7U0FBTTtRQUNMLE9BQU8sUUFBUSxJQUFJLEdBQUcsQ0FBQztLQUN4QjtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvZ0Vycm9yQW5kU3RvcCB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuXG5leHBvcnQgY29uc3QgUUVycm9yX3N0cmluZ2lmeUNsYXNzT3JTdHlsZSA9IDA7XG5leHBvcnQgY29uc3QgUUVycm9yX2Nhbm5vdFNlcmlhbGl6ZU5vZGUgPSAxOyAvLyAnQ2FuIG5vdCBzZXJpYWxpemUgYSBIVE1MIE5vZGUgdGhhdCBpcyBub3QgYW4gRWxlbWVudCdcbmV4cG9ydCBjb25zdCBRRXJyb3JfcnVudGltZVFybE5vRWxlbWVudCA9IDI7IC8vIGBRLUVSUk9SOiAnJHtxcmx9JyBpcyBydW50aW1lIGJ1dCBubyBpbnN0YW5jZSBmb3VuZCBvbiBlbGVtZW50LmBcbmV4cG9ydCBjb25zdCBRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlID0gMzsgLy8gJ09ubHkgcHJpbWl0aXZlIGFuZCBvYmplY3QgbGl0ZXJhbHMgY2FuIGJlIHNlcmlhbGl6ZWQnLCB2YWx1ZSxcbmV4cG9ydCBjb25zdCBRRXJyb3JfZXJyb3JXaGlsZVJlbmRlcmluZyA9IDQ7IC8vIENyYXNoIHdoaWxlIHJlbmRlcmluZ1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9jYW5ub3RSZW5kZXJPdmVyRXhpc3RpbmdDb250YWluZXIgPSA1OyAvLydZb3UgY2FuIHJlbmRlciBvdmVyIGEgZXhpc3RpbmcgcTpjb250YWluZXIuIFNraXBwaW5nIHJlbmRlcigpLidcbmV4cG9ydCBjb25zdCBRRXJyb3Jfc2V0UHJvcGVydHkgPSA2OyAvLydTZXQgcHJvcGVydHknXG5leHBvcnQgY29uc3QgUUVycm9yX3FybE9yRXJyb3IgPSA3O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9vbmx5T2JqZWN0V3JhcHBlZCA9IDg7XG5leHBvcnQgY29uc3QgUUVycm9yX29ubHlMaXRlcmFsV3JhcHBlZCA9IDk7XG5leHBvcnQgY29uc3QgUUVycm9yX3FybElzTm90RnVuY3Rpb24gPSAxMDtcbmV4cG9ydCBjb25zdCBRRXJyb3JfZHluYW1pY0ltcG9ydEZhaWxlZCA9IDExO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl91bmtub3duVHlwZUFyZ3VtZW50ID0gMTI7XG5leHBvcnQgY29uc3QgUUVycm9yX25vdEZvdW5kQ29udGV4dCA9IDEzO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl91c2VNZXRob2RPdXRzaWRlQ29udGV4dCA9IDE0O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9taXNzaW5nUmVuZGVyQ3R4ID0gMTU7XG5leHBvcnQgY29uc3QgUUVycm9yX21pc3NpbmdEb2MgPSAxNjtcbmV4cG9ydCBjb25zdCBRRXJyb3JfaW1tdXRhYmxlUHJvcHMgPSAxNztcbmV4cG9ydCBjb25zdCBRRXJyb3JfaG9zdENhbk9ubHlCZUF0Um9vdCA9IDE4O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9pbW11dGFibGVKc3hQcm9wcyA9IDE5O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl91c2VJbnZva2VDb250ZXh0ID0gMjA7XG5leHBvcnQgY29uc3QgUUVycm9yX2NvbnRhaW5lckFscmVhZHlQYXVzZWQgPSAyMTtcbmV4cG9ydCBjb25zdCBRRXJyb3JfY2FuTm90TW91bnRVc2VTZXJ2ZXJNb3VudCA9IDIyO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9yb290Tm9kZU11c3RCZUhUTUwgPSAyMztcbmV4cG9ydCBjb25zdCBRRXJyb3Jfc3RyaWN0SFRNTENoaWxkcmVuID0gMjQ7XG5leHBvcnQgY29uc3QgUUVycm9yX2ludmFsaWRKc3hOb2RlVHlwZSA9IDI1O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl90cmFja1VzZVN0b3JlID0gMjY7XG5leHBvcnQgY29uc3QgUUVycm9yX21pc3NpbmdPYmplY3RJZCA9IDI3O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9pbnZhbGlkQ29udGV4dCA9IDI4O1xuXG5leHBvcnQgY29uc3QgcUVycm9yID0gKGNvZGU6IG51bWJlciwgLi4ucGFydHM6IGFueVtdKTogRXJyb3IgPT4ge1xuICBjb25zdCB0ZXh0ID0gY29kZVRvVGV4dChjb2RlKTtcbiAgcmV0dXJuIGxvZ0Vycm9yQW5kU3RvcCh0ZXh0LCAuLi5wYXJ0cyk7XG59O1xuXG5leHBvcnQgY29uc3QgY29kZVRvVGV4dCA9IChjb2RlOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICBpZiAocURldikge1xuICAgIGNvbnN0IE1BUCA9IFtcbiAgICAgICdFcnJvciB3aGlsZSBzZXJpYWxpemluZyBjbGFzcyBhdHRyaWJ1dGUnLCAvLyAwXG4gICAgICAnQ2FuIG5vdCBzZXJpYWxpemUgYSBIVE1MIE5vZGUgdGhhdCBpcyBub3QgYW4gRWxlbWVudCcsIC8vIDFcbiAgICAgICdScnVudGltZSBidXQgbm8gaW5zdGFuY2UgZm91bmQgb24gZWxlbWVudC4nLCAvLyAyXG4gICAgICAnT25seSBwcmltaXRpdmUgYW5kIG9iamVjdCBsaXRlcmFscyBjYW4gYmUgc2VyaWFsaXplZCcsIC8vIDNcbiAgICAgICdDcmFzaCB3aGlsZSByZW5kZXJpbmcnLCAvLyA0XG4gICAgICAnWW91IGNhbiByZW5kZXIgb3ZlciBhIGV4aXN0aW5nIHE6Y29udGFpbmVyLiBTa2lwcGluZyByZW5kZXIoKS4nLCAvLyA1XG4gICAgICAnU2V0IHByb3BlcnR5JywgLy8gNlxuICAgICAgXCJPbmx5IGZ1bmN0aW9uJ3MgYW5kICdzdHJpbmcncyBhcmUgc3VwcG9ydGVkLlwiLCAvLyA3XG4gICAgICBcIk9ubHkgb2JqZWN0cyBjYW4gYmUgd3JhcHBlZCBpbiAnUU9iamVjdCdcIiwgLy8gOFxuICAgICAgYE9ubHkgb2JqZWN0cyBsaXRlcmFscyBjYW4gYmUgd3JhcHBlZCBpbiAnUU9iamVjdCdgLCAvLyA5XG4gICAgICAnUVJMIGlzIG5vdCBhIGZ1bmN0aW9uJywgLy8gMTBcbiAgICAgICdEeW5hbWljIGltcG9ydCBub3QgZm91bmQnLCAvLyAxMVxuICAgICAgJ1Vua25vd24gdHlwZSBhcmd1bWVudCcsIC8vIDEyXG4gICAgICAnbm90IGZvdW5kIHN0YXRlIGZvciB1c2VDb250ZXh0JywgLy8gMTNcbiAgICAgIFwiSW52b2tpbmcgJ3VzZSooKScgbWV0aG9kIG91dHNpZGUgb2YgaW52b2NhdGlvbiBjb250ZXh0LlwiLCAvLyAxNFxuICAgICAgJ0NhbnQgYWNjZXNzIHJlbmRlckN0eCBmb3IgZXhpc3RpbmcgY29udGV4dCcsIC8vIDE1XG4gICAgICAnQ2FudCBhY2Nlc3MgZG9jdW1lbnQgZm9yIGV4aXN0aW5nIGNvbnRleHQnLCAvLyAxNlxuICAgICAgJ3Byb3BzIGFyZSBpbm11dGFibGUnLCAvLyAxN1xuICAgICAgJzxkaXY+IGNvbXBvbmVudCBjYW4gb25seSBiZSB1c2VkIGF0IHRoZSByb290IG9mIGEgUXdpayBjb21wb25lbnQkKCknLCAvLyAxOFxuICAgICAgJ1Byb3BzIGFyZSBpbW11dGFibGUgYnkgZGVmYXVsdC4nLCAvLyAxOVxuICAgICAgJ3VzZS0gbWV0aG9kIG11c3QgYmUgY2FsbGVkIG9ubHkgYXQgdGhlIHJvb3QgbGV2ZWwgb2YgYSBjb21wb25lbnQkKCknLCAvLyAyMFxuICAgICAgJ0NvbnRhaW5lciBpcyBhbHJlYWR5IHBhdXNlZC4gU2tpcHBpbmcnLCAvLyAyMVxuICAgICAgJ0NvbXBvbmVudHMgdXNpbmcgdXNlU2VydmVyTW91bnQoKSBjYW4gb25seSBiZSBtb3VudGVkIGluIHRoZSBzZXJ2ZXIsIGlmIHlvdSBuZWVkIHlvdXIgY29tcG9uZW50IHRvIGJlIG1vdW50ZWQgaW4gdGhlIGNsaWVudCwgdXNlIFwidXNlTW91bnQkKClcIiBpbnN0ZWFkJywgLy8gMjJcbiAgICAgICdXaGVuIHJlbmRlcmluZyBkaXJlY3RseSBvbiB0b3Agb2YgRG9jdW1lbnQsIHRoZSByb290IG5vZGUgbXVzdCBiZSBhIDxodG1sPicsIC8vIDIzXG4gICAgICAnQSA8aHRtbD4gbm9kZSBtdXN0IGhhdmUgMiBjaGlsZHJlbi4gVGhlIGZpcnN0IG9uZSA8aGVhZD4gYW5kIHRoZSBzZWNvbmQgb25lIGEgPGJvZHk+JywgLy8gMjRcbiAgICAgICdJbnZhbGlkIEpTWE5vZGUgdHlwZS4gSXQgbXVzdCBiZSBlaXRoZXIgYSBmdW5jdGlvbiBvciBhIHN0cmluZy4gRm91bmQ6JywgLy8gMjVcbiAgICAgICdUcmFja2luZyB2YWx1ZSBjaGFuZ2VzIGNhbiBvbmx5IGJlIGRvbmUgdG8gdXNlU3RvcmUoKSBvYmplY3RzIGFuZCBjb21wb25lbnQgcHJvcHMnLCAvLyAyNlxuICAgICAgJ01pc3NpbmcgT2JqZWN0IElEIGZvciBjYXB0dXJlZCBvYmplY3QnLCAvLyAyN1xuICAgICAgJ1RoZSBwcm92aWRlZCBDb250ZXh0IHJlZmVyZW5jZSBpcyBub3QgYSB2YWxpZCBjb250ZXh0IGNyZWF0ZWQgYnkgY3JlYXRlQ29udGV4dCgpJywgLy8gMjdcbiAgICBdO1xuICAgIHJldHVybiBgQ29kZSgke2NvZGV9KTogJHtNQVBbY29kZV0gPz8gJyd9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYENvZGUoJHtjb2RlfSlgO1xuICB9XG59O1xuIl19","import { qError, QError_qrlIsNotFunction } from '../error/error';\nimport { verifySerializable } from '../object/q-object';\nimport { getPlatform } from '../platform/platform';\nimport { newInvokeContext, invoke } from '../use/use-core';\nimport { then } from '../util/promises';\nimport { qDev } from '../util/qdev';\nimport { isFunction } from '../util/types';\nimport { stringifyQRL } from './qrl';\nexport const isQrl = (value) => {\n    return typeof value === 'function' && typeof value.getSymbol === 'function';\n};\nexport const createQRL = (chunk, symbol, symbolRef, symbolFn, capture, captureRef, refSymbol) => {\n    if (qDev) {\n        verifySerializable(captureRef);\n    }\n    let cachedEl;\n    const setContainer = (el) => {\n        if (!cachedEl) {\n            cachedEl = el;\n        }\n    };\n    const resolve = async (el) => {\n        if (el) {\n            setContainer(el);\n        }\n        if (symbolRef) {\n            return symbolRef;\n        }\n        if (symbolFn) {\n            return (symbolRef = symbolFn().then((module) => (symbolRef = module[symbol])));\n        }\n        else {\n            if (!cachedEl) {\n                throw new Error(`QRL '${chunk}#${symbol || 'default'}' does not have an attached container`);\n            }\n            const symbol2 = getPlatform(cachedEl).importSymbol(cachedEl, chunk, symbol);\n            return (symbolRef = then(symbol2, (ref) => {\n                return (symbolRef = ref);\n            }));\n        }\n    };\n    const resolveLazy = (el) => {\n        return isFunction(symbolRef) ? symbolRef : resolve(el);\n    };\n    const invokeFn = (el, currentCtx, beforeFn) => {\n        return ((...args) => {\n            const fn = resolveLazy(el);\n            return then(fn, (fn) => {\n                if (isFunction(fn)) {\n                    const baseContext = currentCtx ?? newInvokeContext();\n                    const context = {\n                        ...baseContext,\n                        $qrl$: QRL,\n                    };\n                    if (beforeFn) {\n                        beforeFn();\n                    }\n                    return invoke(context, fn, ...args);\n                }\n                throw qError(QError_qrlIsNotFunction);\n            });\n        });\n    };\n    const invokeQRL = async function (...args) {\n        const fn = invokeFn();\n        const result = await fn(...args);\n        return result;\n    };\n    const QRL = invokeQRL;\n    const methods = {\n        getSymbol: () => refSymbol ?? symbol,\n        getHash: () => getSymbolHash(refSymbol ?? symbol),\n        resolve,\n        $resolveLazy$: resolveLazy,\n        $setContainer$: setContainer,\n        $chunk$: chunk,\n        $symbol$: symbol,\n        $refSymbol$: refSymbol,\n        $invokeFn$: invokeFn,\n        $capture$: capture,\n        $captureRef$: captureRef,\n        $copy$() {\n            return createQRL(chunk, symbol, symbolRef, symbolFn, null, qrl.$captureRef$, refSymbol);\n        },\n        $serialize$(options) {\n            return stringifyQRL(QRL, options);\n        },\n    };\n    const qrl = Object.assign(invokeQRL, methods);\n    return qrl;\n};\nexport const getSymbolHash = (symbolName) => {\n    const index = symbolName.lastIndexOf('_');\n    if (index > -1) {\n        return symbolName.slice(index + 1);\n    }\n    return symbolName;\n};\nexport const isSameQRL = (a, b) => {\n    return a.getHash() === b.getHash();\n};\nexport function assertQrl(qrl) {\n    if (qDev) {\n        if (!isQrl(qrl)) {\n            throw new Error('Not a QRL');\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLWNsYXNzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwtY2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUVuRCxPQUFPLEVBQWlCLGdCQUFnQixFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxVQUFVLEVBQWtCLE1BQU0sZUFBZSxDQUFDO0FBQzNELE9BQU8sRUFBdUIsWUFBWSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBRzFELE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLEtBQVUsRUFBd0IsRUFBRTtJQUN4RCxPQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsSUFBSSxPQUFPLEtBQUssQ0FBQyxTQUFTLEtBQUssVUFBVSxDQUFDO0FBQzlFLENBQUMsQ0FBQztBQXNCRixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsS0FBYSxFQUNiLE1BQWMsRUFDZCxTQUFzQyxFQUN0QyxRQUFxRCxFQUNyRCxPQUF3QixFQUN4QixVQUF3QixFQUN4QixTQUF3QixFQUNMLEVBQUU7SUFDckIsSUFBSSxJQUFJLEVBQUU7UUFDUixrQkFBa0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUNoQztJQUVELElBQUksUUFBaUMsQ0FBQztJQUV0QyxNQUFNLFlBQVksR0FBRyxDQUFDLEVBQWUsRUFBRSxFQUFFO1FBQ3ZDLElBQUksQ0FBQyxRQUFR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QUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDZixNQUFNLElBQUksS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzlCO0tBQ0Y7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfcXJsSXNOb3RGdW5jdGlvbiB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IHZlcmlmeVNlcmlhbGl6YWJsZSB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBnZXRQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB0eXBlIHsgUXdpa0VsZW1lbnQgfSBmcm9tICcuLi9yZW5kZXIvZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5pbXBvcnQgeyBJbnZva2VDb250ZXh0LCBuZXdJbnZva2VDb250ZXh0LCBpbnZva2UgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgdGhlbiB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uLCBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgUVJMU2VyaWFsaXplT3B0aW9ucywgc3RyaW5naWZ5UVJMIH0gZnJvbSAnLi9xcmwnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuL3FybC5wdWJsaWMnO1xuXG5leHBvcnQgY29uc3QgaXNRcmwgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIFFSTEludGVybmFsID0+IHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuZ2V0U3ltYm9sID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBRUkxJbnRlcm5hbE1ldGhvZHM8VFlQRT4ge1xuICByZWFkb25seSAkY2h1bmskOiBzdHJpbmc7XG4gIHJlYWRvbmx5ICRzeW1ib2wkOiBzdHJpbmc7XG4gIHJlYWRvbmx5ICRyZWZTeW1ib2wkOiBzdHJpbmcgfCBudWxsO1xuICAkY2FwdHVyZSQ6IHN0cmluZ1tdIHwgbnVsbDtcbiAgJGNhcHR1cmVSZWYkOiBhbnlbXSB8IG51bGw7XG5cbiAgcmVzb2x2ZShlbD86IFF3aWtFbGVtZW50KTogUHJvbWlzZTxUWVBFPjtcbiAgZ2V0U3ltYm9sKCk6IHN0cmluZztcbiAgZ2V0SGFzaCgpOiBzdHJpbmc7XG5cbiAgJHNldENvbnRhaW5lciQoZWw6IFF3aWtFbGVtZW50KTogdm9pZDtcbiAgJHJlc29sdmVMYXp5JChlbDogUXdpa0VsZW1lbnQpOiB2b2lkO1xuICAkaW52b2tlRm4kKGVsPzogUXdpa0VsZW1lbnQsIGN1cnJlbnRDdHg/OiBJbnZva2VDb250ZXh0LCBiZWZvcmVGbj86ICgpID0+IHZvaWQpOiBhbnk7XG4gICRjb3B5JCgpOiBRUkxJbnRlcm5hbDxUWVBFPjtcbiAgJHNlcmlhbGl6ZSQob3B0aW9ucz86IFFSTFNlcmlhbGl6ZU9wdGlvbnMpOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUVJMSW50ZXJuYWw8VFlQRSA9IGFueT4gZXh0ZW5kcyBRUkw8VFlQRT4sIFFSTEludGVybmFsTWV0aG9kczxUWVBFPiB7fVxuXG5leHBvcnQgY29uc3QgY3JlYXRlUVJMID0gPFRZUEU+KFxuICBjaHVuazogc3RyaW5nLFxuICBzeW1ib2w6IHN0cmluZyxcbiAgc3ltYm9sUmVmOiBudWxsIHwgVmFsdWVPclByb21pc2U8VFlQRT4sXG4gIHN5bWJvbEZuOiBudWxsIHwgKCgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgYW55Pj4pLFxuICBjYXB0dXJlOiBudWxsIHwgc3RyaW5nW10sXG4gIGNhcHR1cmVSZWY6IGFueVtdIHwgbnVsbCxcbiAgcmVmU3ltYm9sOiBzdHJpbmcgfCBudWxsXG4pOiBRUkxJbnRlcm5hbDxUWVBFPiA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgdmVyaWZ5U2VyaWFsaXphYmxlKGNhcHR1cmVSZWYpO1xuICB9XG5cbiAgbGV0IGNhY2hlZEVsOiBRd2lrRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICBjb25zdCBzZXRDb250YWluZXIgPSAoZWw6IFF3aWtFbGVtZW50KSA9PiB7XG4gICAgaWYgKCFjYWNoZWRFbCkge1xuICAgICAgY2FjaGVkRWwgPSBlbDtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVzb2x2ZSA9IGFzeW5jIChlbD86IFF3aWtFbGVtZW50KTogUHJvbWlzZTxUWVBFPiA9PiB7XG4gICAgaWYgKGVsKSB7XG4gICAgICBzZXRDb250YWluZXIoZWwpO1xuICAgIH1cbiAgICBpZiAoc3ltYm9sUmVmKSB7XG4gICAgICByZXR1cm4gc3ltYm9sUmVmO1xuICAgIH1cbiAgICBpZiAoc3ltYm9sRm4pIHtcbiAgICAgIHJldHVybiAoc3ltYm9sUmVmID0gc3ltYm9sRm4oKS50aGVuKChtb2R1bGUpID0+IChzeW1ib2xSZWYgPSBtb2R1bGVbc3ltYm9sXSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjYWNoZWRFbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYFFSTCAnJHtjaHVua30jJHtzeW1ib2wgfHwgJ2RlZmF1bHQnfScgZG9lcyBub3QgaGF2ZSBhbiBhdHRhY2hlZCBjb250YWluZXJgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBzeW1ib2wyID0gZ2V0UGxhdGZvcm0oY2FjaGVkRWwpLmltcG9ydFN5bWJvbChjYWNoZWRFbCwgY2h1bmssIHN5bWJvbCk7XG4gICAgICByZXR1cm4gKHN5bWJvbFJlZiA9IHRoZW4oc3ltYm9sMiwgKHJlZikgPT4ge1xuICAgICAgICByZXR1cm4gKHN5bWJvbFJlZiA9IHJlZik7XG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlc29sdmVMYXp5ID0gKGVsPzogUXdpa0VsZW1lbnQpOiBWYWx1ZU9yUHJvbWlzZTxUWVBFPiA9PiB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oc3ltYm9sUmVmKSA/IHN5bWJvbFJlZiA6IHJlc29sdmUoZWwpO1xuICB9O1xuXG4gIGNvbnN0IGludm9rZUZuID0gKGVsPzogUXdpa0VsZW1lbnQsIGN1cnJlbnRDdHg/OiBJbnZva2VDb250ZXh0LCBiZWZvcmVGbj86ICgpID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gKCguLi5hcmdzOiBhbnlbXSk6IGFueSA9PiB7XG4gICAgICBjb25zdCBmbiA9IHJlc29sdmVMYXp5KGVsKSBhcyBUWVBFO1xuICAgICAgcmV0dXJuIHRoZW4oZm4sIChmbikgPT4ge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgICBjb25zdCBiYXNlQ29udGV4dCA9IGN1cnJlbnRDdHggPz8gbmV3SW52b2tlQ29udGV4dCgpO1xuICAgICAgICAgIGNvbnN0IGNvbnRleHQ6IEludm9rZUNvbnRleHQgPSB7XG4gICAgICAgICAgICAuLi5iYXNlQ29udGV4dCxcbiAgICAgICAgICAgICRxcmwkOiBRUkwgYXMgUVJMSW50ZXJuYWw8YW55PixcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmIChiZWZvcmVGbikge1xuICAgICAgICAgICAgYmVmb3JlRm4oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGludm9rZShjb250ZXh0LCBmbiBhcyBhbnksIC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfcXJsSXNOb3RGdW5jdGlvbik7XG4gICAgICB9KTtcbiAgICB9KSBhcyBhbnk7XG4gIH07XG5cbiAgY29uc3QgaW52b2tlUVJMID0gYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xuICAgIGNvbnN0IGZuID0gaW52b2tlRm4oKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmbiguLi5hcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIGNvbnN0IFFSTDogUVJMSW50ZXJuYWw8VFlQRT4gPSBpbnZva2VRUkwgYXMgYW55O1xuICBjb25zdCBtZXRob2RzOiBRUkxJbnRlcm5hbE1ldGhvZHM8VFlQRT4gPSB7XG4gICAgZ2V0U3ltYm9sOiAoKSA9PiByZWZTeW1ib2wgPz8gc3ltYm9sLFxuICAgIGdldEhhc2g6ICgpID0+IGdldFN5bWJvbEhhc2gocmVmU3ltYm9sID8/IHN5bWJvbCksXG4gICAgcmVzb2x2ZSxcbiAgICAkcmVzb2x2ZUxhenkkOiByZXNvbHZlTGF6eSxcbiAgICAkc2V0Q29udGFpbmVyJDogc2V0Q29udGFpbmVyLFxuICAgICRjaHVuayQ6IGNodW5rLFxuICAgICRzeW1ib2wkOiBzeW1ib2wsXG4gICAgJHJlZlN5bWJvbCQ6IHJlZlN5bWJvbCxcbiAgICAkaW52b2tlRm4kOiBpbnZva2VGbixcblxuICAgICRjYXB0dXJlJDogY2FwdHVyZSxcbiAgICAkY2FwdHVyZVJlZiQ6IGNhcHR1cmVSZWYsXG5cbiAgICAkY29weSQoKTogUVJMSW50ZXJuYWw8VFlQRT4ge1xuICAgICAgcmV0dXJuIGNyZWF0ZVFSTDxUWVBFPihjaHVuaywgc3ltYm9sLCBzeW1ib2xSZWYsIHN5bWJvbEZuLCBudWxsLCBxcmwuJGNhcHR1cmVSZWYkLCByZWZTeW1ib2wpO1xuICAgIH0sXG4gICAgJHNlcmlhbGl6ZSQob3B0aW9ucz86IFFSTFNlcmlhbGl6ZU9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBzdHJpbmdpZnlRUkwoUVJMLCBvcHRpb25zKTtcbiAgICB9LFxuICB9O1xuICBjb25zdCBxcmwgPSBPYmplY3QuYXNzaWduKGludm9rZVFSTCwgbWV0aG9kcyk7XG4gIHJldHVybiBxcmwgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFN5bWJvbEhhc2ggPSAoc3ltYm9sTmFtZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGluZGV4ID0gc3ltYm9sTmFtZS5sYXN0SW5kZXhPZignXycpO1xuICBpZiAoaW5kZXggPiAtMSkge1xuICAgIHJldHVybiBzeW1ib2xOYW1lLnNsaWNlKGluZGV4ICsgMSk7XG4gIH1cbiAgcmV0dXJuIHN5bWJvbE5hbWU7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTYW1lUVJMID0gKGE6IFFSTEludGVybmFsPGFueT4sIGI6IFFSTEludGVybmFsPGFueT4pOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGEuZ2V0SGFzaCgpID09PSBiLmdldEhhc2goKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRRcmw8VD4ocXJsOiBRUkw8VD4pOiBhc3NlcnRzIHFybCBpcyBRUkxJbnRlcm5hbDxUPiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKCFpc1FybChxcmwpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIFFSTCcpO1xuICAgIH1cbiAgfVxufVxuIl19","import { EMPTY_ARRAY } from '../util/flyweight';\nimport { assertQrl, createQRL } from './qrl-class';\nimport { isFunction, isString } from '../util/types';\nimport { getDocument } from '../util/dom';\nimport { logError } from '../util/log';\nimport { tryGetInvokeContext } from '../use/use-core';\nimport { codeToText, qError, QError_dynamicImportFailed, QError_runtimeQrlNoElement, QError_unknownTypeArgument, } from '../error/error';\nimport { qTest } from '../util/qdev';\nimport { getPlatform } from '../platform/platform';\nlet runtimeSymbolId = 0;\nconst RUNTIME_QRL = '/runtimeQRL';\nconst INLINED_QRL = '/inlinedQRL';\n// https://regexr.com/68v72\nconst EXTRACT_IMPORT_PATH = /\\(\\s*(['\"])([^\\1]+)\\1\\s*\\)/;\n// https://regexr.com/690ds\nconst EXTRACT_SELF_IMPORT = /Promise\\s*\\.\\s*resolve/;\n// https://regexr.com/6a83h\nconst EXTRACT_FILE_NAME = /[\\\\/(]([\\w\\d.\\-_]+\\.(js|ts)x?):/;\n// <docs markdown=\"../readme.md#qrl\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#qrl instead)\n/**\n * Used by Qwik Optimizer to point to lazy-loaded resources.\n *\n * This function should be used by the Qwik Optimizer only. The function should not be directly\n * referred to in the source code of the application.\n *\n * @see `QRL`, `$(...)`\n *\n * @param chunkOrFn - Chunk name (or function which is stringified to extract chunk name)\n * @param symbol - Symbol to lazy load\n * @param lexicalScopeCapture - a set of lexically scoped variables to capture.\n * @alpha\n */\n// </docs>\nexport const qrl = (chunkOrFn, symbol, lexicalScopeCapture = EMPTY_ARRAY) => {\n    let chunk;\n    let symbolFn = null;\n    if (isString(chunkOrFn)) {\n        chunk = chunkOrFn;\n    }\n    else if (isFunction(chunkOrFn)) {\n        symbolFn = chunkOrFn;\n        let match;\n        const srcCode = String(chunkOrFn);\n        if ((match = srcCode.match(EXTRACT_IMPORT_PATH)) && match[2]) {\n            chunk = match[2];\n        }\n        else if ((match = srcCode.match(EXTRACT_SELF_IMPORT))) {\n            const ref = 'QWIK-SELF';\n            const frames = new Error(ref).stack.split('\\n');\n            const start = frames.findIndex((f) => f.includes(ref));\n            const frame = frames[start + 2];\n            match = frame.match(EXTRACT_FILE_NAME);\n            if (!match) {\n                chunk = 'main';\n            }\n            else {\n                chunk = match[1];\n            }\n        }\n        else {\n            throw qError(QError_dynamicImportFailed, srcCode);\n        }\n    }\n    else {\n        throw qError(QError_unknownTypeArgument, chunkOrFn);\n    }\n    // Unwrap subscribers\n    const qrl = createQRL(chunk, symbol, null, symbolFn, null, lexicalScopeCapture, null);\n    const ctx = tryGetInvokeContext();\n    if (ctx && ctx.$element$) {\n        qrl.$setContainer$(ctx.$element$);\n    }\n    return qrl;\n};\nexport const runtimeQrl = (symbol, lexicalScopeCapture = EMPTY_ARRAY) => {\n    return createQRL(RUNTIME_QRL, 's' + runtimeSymbolId++, symbol, null, null, lexicalScopeCapture, null);\n};\n/**\n * @alpha\n */\nexport const inlinedQrl = (symbol, symbolName, lexicalScopeCapture = EMPTY_ARRAY) => {\n    // Unwrap subscribers\n    return createQRL(INLINED_QRL, symbolName, symbol, null, null, lexicalScopeCapture, null);\n};\nexport const stringifyQRL = (qrl, opts = {}) => {\n    assertQrl(qrl);\n    let symbol = qrl.$symbol$;\n    let chunk = qrl.$chunk$;\n    const refSymbol = qrl.$refSymbol$ ?? symbol;\n    const platform = opts.$platform$;\n    const element = opts.$element$;\n    if (platform) {\n        const result = platform.chunkForSymbol(refSymbol);\n        if (result) {\n            chunk = result[1];\n            if (!qrl.$refSymbol$) {\n                symbol = result[0];\n            }\n        }\n    }\n    if (chunk.startsWith('./')) {\n        chunk = chunk.slice(2);\n    }\n    const parts = [chunk];\n    if (symbol && symbol !== 'default') {\n        if (chunk === RUNTIME_QRL && qTest) {\n            symbol = '_';\n        }\n        parts.push('#', symbol);\n    }\n    const capture = qrl.$capture$;\n    const captureRef = qrl.$captureRef$;\n    if (opts.$getObjId$) {\n        if (captureRef && captureRef.length) {\n            const capture = captureRef.map(opts.$getObjId$);\n            parts.push(`[${capture.join(' ')}]`);\n        }\n    }\n    else if (opts.$addRefMap$) {\n        if (captureRef && captureRef.length) {\n            const capture = captureRef.map(opts.$addRefMap$);\n            parts.push(`[${capture.join(' ')}]`);\n        }\n    }\n    else if (capture && capture.length > 0) {\n        parts.push(`[${capture.join(' ')}]`);\n    }\n    const qrlString = parts.join('');\n    if (qrl.$chunk$ === RUNTIME_QRL && element) {\n        const qrls = element.__qrls__ || (element.__qrls__ = new Set());\n        qrls.add(qrl);\n    }\n    return qrlString;\n};\nexport const serializeQRLs = (existingQRLs, ctx) => {\n    const opts = {\n        $platform$: getPlatform(ctx.$element$),\n        $element$: ctx.$element$,\n        $addRefMap$: (obj) => addToArray(ctx.$refMap$, obj),\n    };\n    return existingQRLs.map((qrl) => stringifyQRL(qrl, opts)).join('\\n');\n};\nexport const qrlToUrl = (element, qrl) => {\n    return new URL(stringifyQRL(qrl), getDocument(element).baseURI);\n};\n/**\n * `./chunk#symbol[captures]\n */\nexport const parseQRL = (qrl, el) => {\n    const endIdx = qrl.length;\n    const hashIdx = indexOf(qrl, 0, '#');\n    const captureIdx = indexOf(qrl, hashIdx, '[');\n    const chunkEndIdx = Math.min(hashIdx, captureIdx);\n    const chunk = qrl.substring(0, chunkEndIdx);\n    const symbolStartIdx = hashIdx == endIdx ? hashIdx : hashIdx + 1;\n    const symbolEndIdx = captureIdx;\n    const symbol = symbolStartIdx == symbolEndIdx ? 'default' : qrl.substring(symbolStartIdx, symbolEndIdx);\n    const captureStartIdx = captureIdx;\n    const captureEndIdx = endIdx;\n    const capture = captureStartIdx === captureEndIdx\n        ? EMPTY_ARRAY\n        : qrl.substring(captureStartIdx + 1, captureEndIdx - 1).split(' ');\n    if (chunk === RUNTIME_QRL) {\n        logError(codeToText(QError_runtimeQrlNoElement), qrl);\n    }\n    const iQrl = createQRL(chunk, symbol, null, null, capture, null, null);\n    if (el) {\n        iQrl.$setContainer$(el);\n    }\n    return iQrl;\n};\nconst indexOf = (text, startIdx, char) => {\n    const endIdx = text.length;\n    const charIdx = text.indexOf(char, startIdx == endIdx ? 0 : startIdx);\n    return charIdx == -1 ? endIdx : charIdx;\n};\nconst addToArray = (array, obj) => {\n    const index = array.indexOf(obj);\n    if (index === -1) {\n        array.push(obj);\n        return array.length - 1;\n    }\n    return index;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWhELE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFlLE1BQU0sYUFBYSxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN0RCxPQUFPLEVBQ0wsVUFBVSxFQUNWLE1BQU0sRUFDTiwwQkFBMEIsRUFDMUIsMEJBQTBCLEVBQzFCLDBCQUEwQixHQUMzQixNQUFNLGdCQUFnQixDQUFDO0FBQ3hCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDckMsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBSW5ELElBQUksZUFBZSxHQUFHLENBQUMsQ0FBQztBQUN4QixNQUFNLFdBQVcsR0FBRyxhQUFhLENBQUM7QUFDbEMsTUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDO0FBRWxDLDJCQUEyQjtBQUMzQixNQUFNLG1CQUFtQixHQUFHLDRCQUE0QixDQUFDO0FBRXpELDJCQUEyQjtBQUMzQixNQUFNLG1CQUFtQixHQUFHLHdCQUF3QixDQUFDO0FBRXJELDJCQUEyQjtBQUMzQixNQUFNLGlCQUFpQixHQUFHLGlDQUFpQyxDQUFDO0FBRTVELHFDQUFxQztBQUNyQyx5Q0FBeUM7QUFDekMsa0NBQWtDO0FBQ2xDOzs7Ozs7Ozs7Ozs7R0FZRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxHQUFH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TyxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLFFBQVEsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdEUsT0FBTyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQzFDLENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVSxHQUFHLENBQUMsS0FBWSxFQUFFLEdBQVEsRUFBRSxFQUFFO0lBQzVDLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakMsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7UUFDaEIsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoQixPQUFPLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0tBQ3pCO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uL3V0aWwvZmx5d2VpZ2h0JztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi9xcmwucHVibGljJztcbmltcG9ydCB7IGFzc2VydFFybCwgY3JlYXRlUVJMLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4vcXJsLWNsYXNzJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGlzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvcmVQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3R5cGVzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyB0cnlHZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7XG4gIGNvZGVUb1RleHQsXG4gIHFFcnJvcixcbiAgUUVycm9yX2R5bmFtaWNJbXBvcnRGYWlsZWQsXG4gIFFFcnJvcl9ydW50aW1lUXJsTm9FbGVtZW50LFxuICBRRXJyb3JfdW5rbm93blR5cGVBcmd1bWVudCxcbn0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgcVRlc3QgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgZ2V0UGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgdHlwZSB7IFF3aWtFbGVtZW50IH0gZnJvbSAnLi4vcmVuZGVyL2RvbS92aXJ0dWFsLWVsZW1lbnQnO1xuaW1wb3J0IHR5cGUgeyBRQ29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcblxubGV0IHJ1bnRpbWVTeW1ib2xJZCA9IDA7XG5jb25zdCBSVU5USU1FX1FSTCA9ICcvcnVudGltZVFSTCc7XG5jb25zdCBJTkxJTkVEX1FSTCA9ICcvaW5saW5lZFFSTCc7XG5cbi8vIGh0dHBzOi8vcmVnZXhyLmNvbS82OHY3MlxuY29uc3QgRVhUUkFDVF9JTVBPUlRfUEFUSCA9IC9cXChcXHMqKFsnXCJdKShbXlxcMV0rKVxcMVxccypcXCkvO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNjkwZHNcbmNvbnN0IEVYVFJBQ1RfU0VMRl9JTVBPUlQgPSAvUHJvbWlzZVxccypcXC5cXHMqcmVzb2x2ZS87XG5cbi8vIGh0dHBzOi8vcmVnZXhyLmNvbS82YTgzaFxuY29uc3QgRVhUUkFDVF9GSUxFX05BTUUgPSAvW1xcXFwvKF0oW1xcd1xcZC5cXC1fXStcXC4oanN8dHMpeD8pOi87XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3FybFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNxcmwgaW5zdGVhZClcbi8qKlxuICogVXNlZCBieSBRd2lrIE9wdGltaXplciB0byBwb2ludCB0byBsYXp5LWxvYWRlZCByZXNvdXJjZXMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgdXNlZCBieSB0aGUgUXdpayBPcHRpbWl6ZXIgb25seS4gVGhlIGZ1bmN0aW9uIHNob3VsZCBub3QgYmUgZGlyZWN0bHlcbiAqIHJlZmVycmVkIHRvIGluIHRoZSBzb3VyY2UgY29kZSBvZiB0aGUgYXBwbGljYXRpb24uXG4gKlxuICogQHNlZSBgUVJMYCwgYCQoLi4uKWBcbiAqXG4gKiBAcGFyYW0gY2h1bmtPckZuIC0gQ2h1bmsgbmFtZSAob3IgZnVuY3Rpb24gd2hpY2ggaXMgc3RyaW5naWZpZWQgdG8gZXh0cmFjdCBjaHVuayBuYW1lKVxuICogQHBhcmFtIHN5bWJvbCAtIFN5bWJvbCB0byBsYXp5IGxvYWRcbiAqIEBwYXJhbSBsZXhpY2FsU2NvcGVDYXB0dXJlIC0gYSBzZXQgb2YgbGV4aWNhbGx5IHNjb3BlZCB2YXJpYWJsZXMgdG8gY2FwdHVyZS5cbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgcXJsID0gPFQgPSBhbnk+KFxuICBjaHVua09yRm46IHN0cmluZyB8ICgoKSA9PiBQcm9taXNlPGFueT4pLFxuICBzeW1ib2w6IHN0cmluZyxcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+ID0+IHtcbiAgbGV0IGNodW5rOiBzdHJpbmc7XG4gIGxldCBzeW1ib2xGbjogbnVsbCB8ICgoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT4+KSA9IG51bGw7XG4gIGlmIChpc1N0cmluZyhjaHVua09yRm4pKSB7XG4gICAgY2h1bmsgPSBjaHVua09yRm47XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihjaHVua09yRm4pKSB7XG4gICAgc3ltYm9sRm4gPSBjaHVua09yRm47XG4gICAgbGV0IG1hdGNoOiBSZWdFeHBNYXRjaEFycmF5IHwgbnVsbDtcbiAgICBjb25zdCBzcmNDb2RlID0gU3RyaW5nKGNodW5rT3JGbik7XG4gICAgaWYgKChtYXRjaCA9IHNyY0NvZGUubWF0Y2goRVhUUkFDVF9JTVBPUlRfUEFUSCkpICYmIG1hdGNoWzJdKSB7XG4gICAgICBjaHVuayA9IG1hdGNoWzJdO1xuICAgIH0gZWxzZSBpZiAoKG1hdGNoID0gc3JjQ29kZS5tYXRjaChFWFRSQUNUX1NFTEZfSU1QT1JUKSkpIHtcbiAgICAgIGNvbnN0IHJlZiA9ICdRV0lLLVNFTEYnO1xuICAgICAgY29uc3QgZnJhbWVzID0gbmV3IEVycm9yKHJlZikuc3RhY2shLnNwbGl0KCdcXG4nKTtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gZnJhbWVzLmZpbmRJbmRleCgoZikgPT4gZi5pbmNsdWRlcyhyZWYpKTtcbiAgICAgIGNvbnN0IGZyYW1lID0gZnJhbWVzW3N0YXJ0ICsgMl07XG4gICAgICBtYXRjaCA9IGZyYW1lLm1hdGNoKEVYVFJBQ1RfRklMRV9OQU1FKTtcbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgY2h1bmsgPSAnbWFpbic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaHVuayA9IG1hdGNoWzFdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBxRXJyb3IoUUVycm9yX2R5bmFtaWNJbXBvcnRGYWlsZWQsIHNyY0NvZGUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3Vua25vd25UeXBlQXJndW1lbnQsIGNodW5rT3JGbik7XG4gIH1cblxuICAvLyBVbndyYXAgc3Vic2NyaWJlcnNcbiAgY29uc3QgcXJsID0gY3JlYXRlUVJMPFQ+KGNodW5rLCBzeW1ib2wsIG51bGwsIHN5bWJvbEZuLCBudWxsLCBsZXhpY2FsU2NvcGVDYXB0dXJlLCBudWxsKTtcbiAgY29uc3QgY3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICBpZiAoY3R4ICYmIGN0eC4kZWxlbWVudCQpIHtcbiAgICBxcmwuJHNldENvbnRhaW5lciQoY3R4LiRlbGVtZW50JCk7XG4gIH1cbiAgcmV0dXJuIHFybCBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgcnVudGltZVFybCA9IDxUPihcbiAgc3ltYm9sOiBULFxuICBsZXhpY2FsU2NvcGVDYXB0dXJlOiBhbnlbXSA9IEVNUFRZX0FSUkFZXG4pOiBRUkxJbnRlcm5hbDxUPiA9PiB7XG4gIHJldHVybiBjcmVhdGVRUkw8VD4oXG4gICAgUlVOVElNRV9RUkwsXG4gICAgJ3MnICsgcnVudGltZVN5bWJvbElkKyssXG4gICAgc3ltYm9sLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBsZXhpY2FsU2NvcGVDYXB0dXJlLFxuICAgIG51bGxcbiAgKTtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCBpbmxpbmVkUXJsID0gPFQ+KFxuICBzeW1ib2w6IFQsXG4gIHN5bWJvbE5hbWU6IHN0cmluZyxcbiAgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+ID0+IHtcbiAgLy8gVW53cmFwIHN1YnNjcmliZXJzXG4gIHJldHVybiBjcmVhdGVRUkw8VD4oSU5MSU5FRF9RUkwsIHN5bWJvbE5hbWUsIHN5bWJvbCwgbnVsbCwgbnVsbCwgbGV4aWNhbFNjb3BlQ2FwdHVyZSwgbnVsbCk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFFSTFNlcmlhbGl6ZU9wdGlvbnMge1xuICAkcGxhdGZvcm0kPzogQ29yZVBsYXRmb3JtO1xuICAkZWxlbWVudCQ/OiBRd2lrRWxlbWVudDtcbiAgJGdldE9iaklkJD86IChvYmo6IGFueSkgPT4gc3RyaW5nIHwgbnVsbDtcbiAgJGFkZFJlZk1hcCQ/OiAob2JqOiBhbnkpID0+IG51bWJlcjtcbn1cblxuZXhwb3J0IGNvbnN0IHN0cmluZ2lmeVFSTCA9IChxcmw6IFFSTEludGVybmFsLCBvcHRzOiBRUkxTZXJpYWxpemVPcHRpb25zID0ge30pID0+IHtcbiAgYXNzZXJ0UXJsKHFybCk7XG4gIGxldCBzeW1ib2wgPSBxcmwuJHN5bWJvbCQ7XG4gIGxldCBjaHVuayA9IHFybC4kY2h1bmskO1xuICBjb25zdCByZWZTeW1ib2wgPSBxcmwuJHJlZlN5bWJvbCQgPz8gc3ltYm9sO1xuICBjb25zdCBwbGF0Zm9ybSA9IG9wdHMuJHBsYXRmb3JtJDtcbiAgY29uc3QgZWxlbWVudCA9IG9wdHMuJGVsZW1lbnQkO1xuICBpZiAocGxhdGZvcm0pIHtcbiAgICBjb25zdCByZXN1bHQgPSBwbGF0Zm9ybS5jaHVua0ZvclN5bWJvbChyZWZTeW1ib2wpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGNodW5rID0gcmVzdWx0WzFdO1xuICAgICAgaWYgKCFxcmwuJHJlZlN5bWJvbCQpIHtcbiAgICAgICAgc3ltYm9sID0gcmVzdWx0WzBdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoY2h1bmsuc3RhcnRzV2l0aCgnLi8nKSkge1xuICAgIGNodW5rID0gY2h1bmsuc2xpY2UoMik7XG4gIH1cbiAgY29uc3QgcGFydHM6IHN0cmluZ1tdID0gW2NodW5rXTtcbiAgaWYgKHN5bWJvbCAmJiBzeW1ib2wgIT09ICdkZWZhdWx0Jykge1xuICAgIGlmIChjaHVuayA9PT0gUlVOVElNRV9RUkwgJiYgcVRlc3QpIHtcbiAgICAgIHN5bWJvbCA9ICdfJztcbiAgICB9XG4gICAgcGFydHMucHVzaCgnIycsIHN5bWJvbCk7XG4gIH1cbiAgY29uc3QgY2FwdHVyZSA9IHFybC4kY2FwdHVyZSQ7XG4gIGNvbnN0IGNhcHR1cmVSZWYgPSBxcmwuJGNhcHR1cmVSZWYkO1xuICBpZiAob3B0cy4kZ2V0T2JqSWQkKSB7XG4gICAgaWYgKGNhcHR1cmVSZWYgJiYgY2FwdHVyZVJlZi5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNhcHR1cmUgPSBjYXB0dXJlUmVmLm1hcChvcHRzLiRnZXRPYmpJZCQpO1xuICAgICAgcGFydHMucHVzaChgWyR7Y2FwdHVyZS5qb2luKCcgJyl9XWApO1xuICAgIH1cbiAgfSBlbHNlIGlmIChvcHRzLiRhZGRSZWZNYXAkKSB7XG4gICAgaWYgKGNhcHR1cmVSZWYgJiYgY2FwdHVyZVJlZi5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGNhcHR1cmUgPSBjYXB0dXJlUmVmLm1hcChvcHRzLiRhZGRSZWZNYXAkKTtcbiAgICAgIHBhcnRzLnB1c2goYFske2NhcHR1cmUuam9pbignICcpfV1gKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY2FwdHVyZSAmJiBjYXB0dXJlLmxlbmd0aCA+IDApIHtcbiAgICBwYXJ0cy5wdXNoKGBbJHtjYXB0dXJlLmpvaW4oJyAnKX1dYCk7XG4gIH1cbiAgY29uc3QgcXJsU3RyaW5nID0gcGFydHMuam9pbignJyk7XG4gIGlmIChxcmwuJGNodW5rJCA9PT0gUlVOVElNRV9RUkwgJiYgZWxlbWVudCkge1xuICAgIGNvbnN0IHFybHM6IFNldDxRUkw+ID0gKGVsZW1lbnQgYXMgYW55KS5fX3FybHNfXyB8fCAoKGVsZW1lbnQgYXMgYW55KS5fX3FybHNfXyA9IG5ldyBTZXQoKSk7XG4gICAgcXJscy5hZGQocXJsKTtcbiAgfVxuICByZXR1cm4gcXJsU3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZVFSTHMgPSAoZXhpc3RpbmdRUkxzOiBRUkxJbnRlcm5hbDxhbnk+W10sIGN0eDogUUNvbnRleHQpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBvcHRzOiBRUkxTZXJpYWxpemVPcHRpb25zID0ge1xuICAgICRwbGF0Zm9ybSQ6IGdldFBsYXRmb3JtKGN0eC4kZWxlbWVudCQpLFxuICAgICRlbGVtZW50JDogY3R4LiRlbGVtZW50JCxcbiAgICAkYWRkUmVmTWFwJDogKG9iaikgPT4gYWRkVG9BcnJheShjdHguJHJlZk1hcCQsIG9iaiksXG4gIH07XG4gIHJldHVybiBleGlzdGluZ1FSTHMubWFwKChxcmwpID0+IHN0cmluZ2lmeVFSTChxcmwsIG9wdHMpKS5qb2luKCdcXG4nKTtcbn07XG5cbmV4cG9ydCBjb25zdCBxcmxUb1VybCA9IChlbGVtZW50OiBFbGVtZW50LCBxcmw6IFFSTEludGVybmFsKTogVVJMID0+IHtcbiAgcmV0dXJuIG5ldyBVUkwoc3RyaW5naWZ5UVJMKHFybCksIGdldERvY3VtZW50KGVsZW1lbnQpLmJhc2VVUkkpO1xufTtcblxuLyoqXG4gKiBgLi9jaHVuayNzeW1ib2xbY2FwdHVyZXNdXG4gKi9cbmV4cG9ydCBjb25zdCBwYXJzZVFSTCA9IChxcmw6IHN0cmluZywgZWw/OiBRd2lrRWxlbWVudCk6IFFSTEludGVybmFsID0+IHtcbiAgY29uc3QgZW5kSWR4ID0gcXJsLmxlbmd0aDtcbiAgY29uc3QgaGFzaElkeCA9IGluZGV4T2YocXJsLCAwLCAnIycpO1xuICBjb25zdCBjYXB0dXJlSWR4ID0gaW5kZXhPZihxcmwsIGhhc2hJZHgsICdbJyk7XG5cbiAgY29uc3QgY2h1bmtFbmRJZHggPSBNYXRoLm1pbihoYXNoSWR4LCBjYXB0dXJlSWR4KTtcbiAgY29uc3QgY2h1bmsgPSBxcmwuc3Vic3RyaW5nKDAsIGNodW5rRW5kSWR4KTtcblxuICBjb25zdCBzeW1ib2xTdGFydElkeCA9IGhhc2hJZHggPT0gZW5kSWR4ID8gaGFzaElkeCA6IGhhc2hJZHggKyAxO1xuICBjb25zdCBzeW1ib2xFbmRJZHggPSBjYXB0dXJlSWR4O1xuICBjb25zdCBzeW1ib2wgPVxuICAgIHN5bWJvbFN0YXJ0SWR4ID09IHN5bWJvbEVuZElkeCA/ICdkZWZhdWx0JyA6IHFybC5zdWJzdHJpbmcoc3ltYm9sU3RhcnRJZHgsIHN5bWJvbEVuZElkeCk7XG5cbiAgY29uc3QgY2FwdHVyZVN0YXJ0SWR4ID0gY2FwdHVyZUlkeDtcbiAgY29uc3QgY2FwdHVyZUVuZElkeCA9IGVuZElkeDtcbiAgY29uc3QgY2FwdHVyZSA9XG4gICAgY2FwdHVyZVN0YXJ0SWR4ID09PSBjYXB0dXJlRW5kSWR4XG4gICAgICA/IEVNUFRZX0FSUkFZXG4gICAgICA6IHFybC5zdWJzdHJpbmcoY2FwdHVyZVN0YXJ0SWR4ICsgMSwgY2FwdHVyZUVuZElkeCAtIDEpLnNwbGl0KCcgJyk7XG5cbiAgaWYgKGNodW5rID09PSBSVU5USU1FX1FSTCkge1xuICAgIGxvZ0Vycm9yKGNvZGVUb1RleHQoUUVycm9yX3J1bnRpbWVRcmxOb0VsZW1lbnQpLCBxcmwpO1xuICB9XG4gIGNvbnN0IGlRcmwgPSBjcmVhdGVRUkw8YW55PihjaHVuaywgc3ltYm9sLCBudWxsLCBudWxsLCBjYXB0dXJlLCBudWxsLCBudWxsKTtcbiAgaWYgKGVsKSB7XG4gICAgaVFybC4kc2V0Q29udGFpbmVyJChlbCk7XG4gIH1cbiAgcmV0dXJuIGlRcmw7XG59O1xuXG5jb25zdCBpbmRleE9mID0gKHRleHQ6IHN0cmluZywgc3RhcnRJZHg6IG51bWJlciwgY2hhcjogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGVuZElkeCA9IHRleHQubGVuZ3RoO1xuICBjb25zdCBjaGFySWR4ID0gdGV4dC5pbmRleE9mKGNoYXIsIHN0YXJ0SWR4ID09IGVuZElkeCA/IDAgOiBzdGFydElkeCk7XG4gIHJldHVybiBjaGFySWR4ID09IC0xID8gZW5kSWR4IDogY2hhcklkeDtcbn07XG5cbmNvbnN0IGFkZFRvQXJyYXkgPSAoYXJyYXk6IGFueVtdLCBvYmo6IGFueSkgPT4ge1xuICBjb25zdCBpbmRleCA9IGFycmF5LmluZGV4T2Yob2JqKTtcbiAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgIGFycmF5LnB1c2gob2JqKTtcbiAgICByZXR1cm4gYXJyYXkubGVuZ3RoIC0gMTtcbiAgfVxuICByZXR1cm4gaW5kZXg7XG59O1xuIl19","import { runtimeQrl } from './qrl';\n// <docs markdown=\"../readme.md#$\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#$ instead)\n/**\n * Qwik Optimizer marker function.\n *\n * Use `$(...)` to tell Qwik Optimizer to extract the expression in `$(...)` into a lazy-loadable\n * resource referenced by `QRL`.\n *\n * @see `implicit$FirstArg` for additional `____$(...)` rules.\n *\n * In this example, `$(...)` is used to capture the callback function of `onmousemove` into a\n * lazy-loadable reference. This allows the code to refer to the function without actually\n * loading the function. In this example, the callback function does not get loaded until\n * `mousemove` event fires.\n *\n * ```tsx\n * useOnDocument(\n *   'mousemove',\n *   $((event) => console.log('mousemove', event))\n * );\n * ```\n *\n * In this code, the Qwik Optimizer detects `$(...)` and transforms the code into:\n *\n * ```tsx\n * // FILE: <current file>\n * useOnDocument('mousemove', qrl('./chunk-abc.js', 'onMousemove'));\n *\n * // FILE: chunk-abc.js\n * export const onMousemove = () => console.log('mousemove');\n * ```\n *\n * ## Special Rules\n *\n * The Qwik Optimizer places special rules on functions that can be lazy-loaded.\n *\n * 1. The expression of the `$(expression)` function must be importable by the system.\n * (expression shows up in `import` or has `export`)\n * 2. If inlined function, then all lexically captured values must be:\n *    - importable (vars show up in `import`s or `export`s)\n *    - const (The capturing process differs from JS capturing in that writing to captured\n * variables does not update them, and therefore writes are forbidden. The best practice is that\n * all captured variables are constants.)\n *    - Must be runtime serializable.\n *\n * ```tsx\n * import { importedFn } from './import/example';\n * import { createContext, useContext, useContextProvider } from './use/use-context';\n * import { useRef } from './use/use-ref';\n *\n * export const greet = () => console.log('greet');\n * function topLevelFn() {}\n *\n * function myCode() {\n *   const store = useStore({});\n *   function localFn() {}\n *   // Valid Examples\n *   $(greet); // greet is importable\n *   $(importedFn); // importedFn is importable\n *   $(() => greet()); // greet is importable;\n *   $(() => importedFn()); // importedFn is importable\n *   $(() => console.log(store)); // store is serializable.\n *\n *   // Compile time errors\n *   $(topLevelFn); // ERROR: `topLevelFn` not importable\n *   $(() => topLevelFn()); // ERROR: `topLevelFn` not importable\n *\n *   // Runtime errors\n *   $(localFn); // ERROR: `localFn` fails serialization\n *   $(() => localFn()); // ERROR: `localFn` fails serialization\n * }\n *\n * ```\n *\n * @param expression - Expression which should be lazy loaded\n * @public\n */\n// </docs>\nexport const $ = (expression) => {\n    return runtimeQrl(expression);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9pbXBvcnQvcXJsLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBa0tuQyxtQ0FBbUM7QUFDbkMseUNBQXlDO0FBQ3pDLGdDQUFnQztBQUNoQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0EwRUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUksVUFBYSxFQUFVLEVBQUU7SUFDNUMsT0FBTyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDaEMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcbmltcG9ydCB7IHJ1bnRpbWVRcmwgfSBmcm9tICcuL3FybCc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI1FSTFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNRUkwgaW5zdGVhZClcbi8qKlxuICogVGhlIGBRUkxgIHR5cGUgcmVwcmVzZW50cyBhIGxhenktbG9hZGFibGUgQU5EIHNlcmlhbGl6YWJsZSByZXNvdXJjZS5cbiAqXG4gKiBRUkwgc3RhbmRzIGZvciBRd2lrIFVSTC5cbiAqXG4gKiBVc2UgYFFSTGAgd2hlbiB5b3Ugd2FudCB0byByZWZlciB0byBhIGxhenktbG9hZGVkIHJlc291cmNlLiBgUVJMYHMgYXJlIG1vc3Qgb2Z0ZW4gdXNlZCBmb3JcbiAqIGNvZGUgKGZ1bmN0aW9ucykgYnV0IGNhbiBhbHNvIGJlIHVzZWQgZm9yIG90aGVyIHJlc291cmNlcyBzdWNoIGFzIGBzdHJpbmdgcyBpbiB0aGUgY2FzZSBvZlxuICogc3R5bGVzLlxuICpcbiAqIGBRUkxgIGlzIGFuIG9wYXF1ZSB0b2tlbiB0aGF0IGlzIGdlbmVyYXRlZCBieSB0aGUgUXdpayBPcHRpbWl6ZXIuIChEbyBub3QgcmVseSBvbiBhbnlcbiAqIHByb3BlcnRpZXMgaW4gYFFSTGAgYXMgaXQgbWF5IGNoYW5nZSBiZXR3ZWVuIHZlcnNpb25zLilcbiAqXG4gKiAjIyBDcmVhdGluZyBgUVJMYCByZWZlcmVuY2VzXG4gKlxuICogQ3JlYXRpbmcgYFFSTGAgaXMgZG9uZSB1c2luZyBgJCguLi4pYCBmdW5jdGlvbi4gYCQoLi4uKWAgaXMgYSBzcGVjaWFsIG1hcmtlciBmb3IgdGhlIFF3aWtcbiAqIE9wdGltaXplciB0aGF0IG1hcmtzIHRoYXQgdGhlIGNvZGUgc2hvdWxkIGJlIGV4dHJhY3RlZCBpbnRvIGEgbGF6eS1sb2FkZWQgc3ltYm9sLlxuICpcbiAqIGBgYHRzeFxuICogdXNlT25Eb2N1bWVudChcbiAqICAgJ21vdXNlbW92ZScsXG4gKiAgICQoKGV2ZW50KSA9PiBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJywgZXZlbnQpKVxuICogKTtcbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjb2RlLCB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBhcyBzaG93biBiZWxvdzpcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiB1c2VPbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBxcmwoJy4vY2h1bmstYWJjLmpzJywgJ29uTW91c2Vtb3ZlJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IG9uTW91c2Vtb3ZlID0gKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpO1xuICogYGBgXG4gKlxuICogTk9URTogYHFybCguLi4pYCBpcyBhIHJlc3VsdCBvZiBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi4gWW91IHNob3VsZCBuZXZlciBoYXZlIHRvIGludm9rZVxuICogdGhpcyBmdW5jdGlvbiBkaXJlY3RseSBpbiB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgYHFybCguLi4pYCBmdW5jdGlvbiBzaG91bGQgYmUgaW52b2tlZCBvbmx5XG4gKiBhZnRlciB0aGUgUXdpayBPcHRpbWl6ZXIgdHJhbnNmb3JtYXRpb24uXG4gKlxuICogIyMgVXNpbmcgYFFSTGBzXG4gKlxuICogVXNlIGBRUkxgIHR5cGUgaW4geW91ciBhcHBsaWNhdGlvbiB3aGVuIHlvdSB3YW50IHRvIGdldCBhIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGFcbiAqIHJlc291cmNlIChtb3N0IGxpa2VseSBhIGZ1bmN0aW9uKS5cbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEV4YW1wbGUgb2YgZGVjbGFyaW5nIGEgY3VzdG9tIGZ1bmN0aW9ucyB3aGljaCB0YWtlcyBjYWxsYmFjayBhcyBRUkwuXG4gKiBleHBvcnQgZnVuY3Rpb24gdXNlTXlGdW5jdGlvbihjYWxsYmFjazogUVJMPCgpID0+IHZvaWQ+KSB7XG4gKiAgIGRvRXh0cmFTdHVmZigpO1xuICogICAvLyBUaGUgY2FsbGJhY2sgcGFzc2VkIHRvIGBvbkRvY3VtZW50YCByZXF1aXJlcyBgUVJMYC5cbiAqICAgdXNlT25Eb2N1bWVudCgnbW91c2Vtb3ZlJywgY2FsbGJhY2spO1xuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGV4YW1wbGUsIHRoZSB3YXkgdG8gdGhpbmsgYWJvdXQgdGhlIGNvZGUgaXMgdGhhdCB5b3UgYXJlIG5vdCBhc2tpbmcgZm9yIGFcbiAqIGNhbGxiYWNrIGZ1bmN0aW9uIGJ1dCByYXRoZXIgYSByZWZlcmVuY2UgdG8gYSBsYXp5LWxvYWRhYmxlIGNhbGxiYWNrIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHksXG4gKiB0aGUgZnVuY3Rpb24gbG9hZGluZyBzaG91bGQgYmUgZGVsYXllZCB1bnRpbCBpdCBpcyBhY3R1YWxseSBuZWVkZWQuIEluIHRoZSBhYm92ZSBleGFtcGxlLCB0aGVcbiAqIGZ1bmN0aW9uIHdvdWxkIG5vdCBsb2FkIHVudGlsIGFmdGVyIGEgYG1vdXNlbW92ZWAgZXZlbnQgb24gYGRvY3VtZW50YCBmaXJlcy5cbiAqXG4gKiAjIyBSZXNvbHZpbmcgYFFSTGAgcmVmZXJlbmNlc1xuICpcbiAqIEF0IHRpbWVzIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmVzb2x2ZSBhIGBRUkxgIHJlZmVyZW5jZSB0byB0aGUgYWN0dWFsIHZhbHVlLiBUaGlzIGNhbiBiZVxuICogcGVyZm9ybWVkIHVzaW5nIGBRUkwucmVzb2x2ZSguLilgIGZ1bmN0aW9uLlxuICpcbiAqIGBgYHRzeFxuICogLy8gQXNzdW1lIHlvdSBoYXZlIFFSTCByZWZlcmVuY2UgdG8gYSBncmVldCBmdW5jdGlvblxuICogY29uc3QgbGF6eUdyZWV0OiBRUkw8KCkgPT4gdm9pZD4gPSAkKCgpID0+IGNvbnNvbGUubG9nKCdIZWxsbyBXb3JsZCEnKSk7XG4gKlxuICogLy8gVXNlIGBxcmxJbXBvcnRgIHRvIGxvYWQgLyByZXNvbHZlIHRoZSByZWZlcmVuY2UuXG4gKiBjb25zdCBncmVldDogKCkgPT4gdm9pZCA9IGF3YWl0IGxhenlHcmVldC5yZXNvbHZlKCk7XG4gKlxuICogLy8gIEludm9rZSBpdFxuICogZ3JlZXQoKTtcbiAqIGBgYFxuICpcbiAqIE5PVEU6IGBlbGVtZW50YCBpcyBuZWVkZWQgYmVjYXVzZSBgUVJMYHMgYXJlIHJlbGF0aXZlIGFuZCBuZWVkIGEgYmFzZSBsb2NhdGlvbiB0byByZXNvbHZlXG4gKiBhZ2FpbnN0LiBUaGUgYmFzZSBsb2NhdGlvbiBpcyBlbmNvZGVkIGluIHRoZSBIVE1MIGluIHRoZSBmb3JtIG9mIGA8ZGl2IHE6YmFzZT1cIi91cmxcIj5gLlxuICpcbiAqICMjIFF1ZXN0aW9uOiBXaHkgbm90IGp1c3QgdXNlIGBpbXBvcnQoKWA/XG4gKlxuICogQXQgZmlyc3QgZ2xhbmNlLCBgUVJMYCBzZXJ2ZXMgdGhlIHNhbWUgcHVycG9zZSBhcyBgaW1wb3J0KClgLiBIb3dldmVyLCB0aGVyZSBhcmUgdGhyZWUgc3VidGxlXG4gKiBkaWZmZXJlbmNlcyB0aGF0IG5lZWQgdG8gYmUgdGFrZW4gaW50byBhY2NvdW50LlxuICpcbiAqIDEuIGBRUkxgcyBtdXN0IGJlIHNlcmlhbGl6YWJsZSBpbnRvIEhUTUwuXG4gKiAyLiBgUVJMYHMgbXVzdCBiZSByZXNvbHZlZCBieSBmcmFtZXdvcmsgcmVsYXRpdmUgdG8gYHE6YmFzZWAuXG4gKiAzLiBgUVJMYHMgbXVzdCBiZSBhYmxlIHRvIGNhcHR1cmUgbGV4aWNhbGx5IHNjb3BlZCB2YXJpYWJsZXMuXG4gKiA0LiBgUVJMYHMgZW5jYXBzdWxhdGUgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBydW5uaW5nIHdpdGggYW5kIHdpdGhvdXQgUXdpayBPcHRpbWl6ZXIuXG4gKiA1LiBgUVJMYHMgYWxsb3cgZXhwcmVzc2luZyBsYXp5LWxvYWRlZCBib3VuZGFyaWVzIHdpdGhvdXQgdGhpbmtpbmcgYWJvdXQgY2h1bmsgYW5kIHN5bWJvbFxuICogbmFtZXMuXG4gKlxuICogTGV0J3MgYXNzdW1lIHRoYXQgeW91IGludGVuZCB0byB3cml0ZSBjb2RlIHN1Y2ggYXMgdGhpczpcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiAoYXdhaXQgaW1wb3J0KCcuL2NodW5rLWFiYy5qcycpKS5vbkNsaWNrfT5cbiAqIGBgYFxuICpcbiAqIFRoZSBhYm92ZSBjb2RlIG5lZWRzIHRvIGJlIHNlcmlhbGl6ZWQgaW50byBET00gc3VjaCBhczpcbiAqXG4gKiBgYGBcbiAqIDxkaXYgcTpiYXNlPVwiL2J1aWxkL1wiPlxuICogICA8YnV0dG9uIG9uOmxpY2s9XCIuL2NodW5rLWFiYy5qcyNvbkNsaWNrXCI+Li4uPC9idXR0b24+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIDEuIE5vdGljZSB0aGVyZSBpcyBubyBlYXN5IHdheSB0byBleHRyYWN0IGNodW5rIChgLi9jaHVuay1hYmMuanNgKSBhbmQgc3ltYm9sIChgb25DbGlja2ApIGludG9cbiAqIEhUTUwuXG4gKiAyLiBOb3RpY2UgdGhhdCBldmVuIGlmIHlvdSBjb3VsZCBleHRyYWN0IGl0LCB0aGUgYGltcG9ydCgnLi9jaHVuay1hYmMuanMnKWAgd291bGQgYmVjb21lXG4gKiByZWxhdGl2ZSB0byB3aGVyZSB0aGUgYGltcG9ydCgpYCBmaWxlIGlzIGRlY2xhcmVkLiBCZWNhdXNlIGl0IGlzIG91ciBmcmFtZXdvcmsgZG9pbmcgdGhlIGxvYWQsXG4gKiB0aGUgYC4vY2h1bmstYWJjLmpzYCB3b3VsZCBiZWNvbWUgcmVsYXRpdmUgdG8gdGhlIGZyYW1ld29yayBmaWxlLiBUaGlzIGlzIG5vdCBjb3JyZWN0LCBhcyBpdFxuICogc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBvcmlnaW5hbCBmaWxlIGdlbmVyYXRlZCBieSB0aGUgYnVuZGxlci5cbiAqIDMuIE5leHQsIHRoZSBmcmFtZXdvcmsgbmVlZHMgdG8gcmVzb2x2ZSB0aGUgYC4vY2h1bmstYWJjLmpzYCBhbmQgbmVlZHMgYSBiYXNlIGxvY2F0aW9uIHRoYXQgaXNcbiAqIGVuY29kZWQgaW4gdGhlIEhUTUwuXG4gKiA0LiBUaGUgUVJMIG5lZWRzIHRvIGJlIGFibGUgdG8gY2FwdHVyZSBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcy4gKGBpbXBvcnQoKWAgb25seSBhbGxvd3NcbiAqIGxvYWRpbmcgdG9wLWxldmVsIHN5bWJvbHMgd2hpY2ggZG9uJ3QgY2FwdHVyZSB2YXJpYWJsZXMuKVxuICogNS4gQXMgYSBkZXZlbG9wZXIsIHlvdSBkb24ndCB3YW50IHRvIHRoaW5rIGFib3V0IGBpbXBvcnRgIGFuZCBuYW1pbmcgdGhlIGNodW5rcyBhbmQgc3ltYm9scy5cbiAqIFlvdSBqdXN0IHdhbnQgdG8gc2F5OiBcInRoaXMgc2hvdWxkIGJlIGxhenkuXCJcbiAqXG4gKiBUaGVzZSBhcmUgdGhlIG1haW4gcmVhc29ucyB3aHkgUXdpayBpbnRyb2R1Y2VzIGl0cyBvd24gY29uY2VwdCBvZiBgUVJMYC5cbiAqXG4gKiBAc2VlIGAkYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBRUkw8VFlQRSA9IGFueT4ge1xuICBfX2JyYW5kX19RUkxfXzogVFlQRTtcblxuICAvKipcbiAgICogUmVzb2x2ZSB0aGUgUVJMIG9mIGNsb3N1cmUgYW5kIGludm9rZSBpdC5cbiAgICogQHBhcmFtIGFyZ3MgLSBDbG91c3VyZSBhcmd1bWVudHMuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBjbG9zdXJlLlxuICAgKi9cbiAgKC4uLmFyZ3M6IFRZUEUgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgQVJHUykgPT4gYW55ID8gQVJHUyA6IG5ldmVyKTogUHJvbWlzZTxcbiAgICBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBpbmZlciBSRVRVUk4gPyBBd2FpdGVkPFJFVFVSTj4gOiBuZXZlclxuICA+O1xuXG4gIC8qKlxuICAgKiBSZXNvbHZlIHRoZSBRUkwgYW5kIHJldHVybiB0aGUgYWN0dWFsIHZhbHVlLlxuICAgKi9cbiAgcmVzb2x2ZShlbD86IFF3aWtFbGVtZW50KTogUHJvbWlzZTxUWVBFPjtcblxuICBnZXRTeW1ib2woKTogc3RyaW5nO1xuICBnZXRIYXNoKCk6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcEZuSW50ZXJmYWNlPEFSR1MgZXh0ZW5kcyBhbnlbXSwgUkVUPiB7XG4gICguLi5hcmdzOiBBUkdTKTogUHJvbWlzZTxSRVQ+O1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUHJvcEZ1bmN0aW9uPFQgZXh0ZW5kcyBGdW5jdGlvbj4gPSBUIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGluZmVyIFJFVFxuICA/IFByb3BGbkludGVyZmFjZTxBUkdTLCBSRVQ+XG4gIDogbmV2ZXI7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kIyRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjJCBpbnN0ZWFkKVxuLyoqXG4gKiBRd2lrIE9wdGltaXplciBtYXJrZXIgZnVuY3Rpb24uXG4gKlxuICogVXNlIGAkKC4uLilgIHRvIHRlbGwgUXdpayBPcHRpbWl6ZXIgdG8gZXh0cmFjdCB0aGUgZXhwcmVzc2lvbiBpbiBgJCguLi4pYCBpbnRvIGEgbGF6eS1sb2FkYWJsZVxuICogcmVzb3VyY2UgcmVmZXJlbmNlZCBieSBgUVJMYC5cbiAqXG4gKiBAc2VlIGBpbXBsaWNpdCRGaXJzdEFyZ2AgZm9yIGFkZGl0aW9uYWwgYF9fX18kKC4uLilgIHJ1bGVzLlxuICpcbiAqIEluIHRoaXMgZXhhbXBsZSwgYCQoLi4uKWAgaXMgdXNlZCB0byBjYXB0dXJlIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBvZiBgb25tb3VzZW1vdmVgIGludG8gYVxuICogbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UuIFRoaXMgYWxsb3dzIHRoZSBjb2RlIHRvIHJlZmVyIHRvIHRoZSBmdW5jdGlvbiB3aXRob3V0IGFjdHVhbGx5XG4gKiBsb2FkaW5nIHRoZSBmdW5jdGlvbi4gSW4gdGhpcyBleGFtcGxlLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZG9lcyBub3QgZ2V0IGxvYWRlZCB1bnRpbFxuICogYG1vdXNlbW92ZWAgZXZlbnQgZmlyZXMuXG4gKlxuICogYGBgdHN4XG4gKiB1c2VPbkRvY3VtZW50KFxuICogICAnbW91c2Vtb3ZlJyxcbiAqICAgJCgoZXZlbnQpID0+IGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnLCBldmVudCkpXG4gKiApO1xuICogYGBgXG4gKlxuICogSW4gdGhpcyBjb2RlLCB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBpbnRvOlxuICpcbiAqIGBgYHRzeFxuICogLy8gRklMRTogPGN1cnJlbnQgZmlsZT5cbiAqIHVzZU9uRG9jdW1lbnQoJ21vdXNlbW92ZScsIHFybCgnLi9jaHVuay1hYmMuanMnLCAnb25Nb3VzZW1vdmUnKSk7XG4gKlxuICogLy8gRklMRTogY2h1bmstYWJjLmpzXG4gKiBleHBvcnQgY29uc3Qgb25Nb3VzZW1vdmUgPSAoKSA9PiBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJyk7XG4gKiBgYGBcbiAqXG4gKiAjIyBTcGVjaWFsIFJ1bGVzXG4gKlxuICogVGhlIFF3aWsgT3B0aW1pemVyIHBsYWNlcyBzcGVjaWFsIHJ1bGVzIG9uIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBsYXp5LWxvYWRlZC5cbiAqXG4gKiAxLiBUaGUgZXhwcmVzc2lvbiBvZiB0aGUgYCQoZXhwcmVzc2lvbilgIGZ1bmN0aW9uIG11c3QgYmUgaW1wb3J0YWJsZSBieSB0aGUgc3lzdGVtLlxuICogKGV4cHJlc3Npb24gc2hvd3MgdXAgaW4gYGltcG9ydGAgb3IgaGFzIGBleHBvcnRgKVxuICogMi4gSWYgaW5saW5lZCBmdW5jdGlvbiwgdGhlbiBhbGwgbGV4aWNhbGx5IGNhcHR1cmVkIHZhbHVlcyBtdXN0IGJlOlxuICogICAgLSBpbXBvcnRhYmxlICh2YXJzIHNob3cgdXAgaW4gYGltcG9ydGBzIG9yIGBleHBvcnRgcylcbiAqICAgIC0gY29uc3QgKFRoZSBjYXB0dXJpbmcgcHJvY2VzcyBkaWZmZXJzIGZyb20gSlMgY2FwdHVyaW5nIGluIHRoYXQgd3JpdGluZyB0byBjYXB0dXJlZFxuICogdmFyaWFibGVzIGRvZXMgbm90IHVwZGF0ZSB0aGVtLCBhbmQgdGhlcmVmb3JlIHdyaXRlcyBhcmUgZm9yYmlkZGVuLiBUaGUgYmVzdCBwcmFjdGljZSBpcyB0aGF0XG4gKiBhbGwgY2FwdHVyZWQgdmFyaWFibGVzIGFyZSBjb25zdGFudHMuKVxuICogICAgLSBNdXN0IGJlIHJ1bnRpbWUgc2VyaWFsaXphYmxlLlxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHsgaW1wb3J0ZWRGbiB9IGZyb20gJy4vaW1wb3J0L2V4YW1wbGUnO1xuICogaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlQ29udGV4dFByb3ZpZGVyIH0gZnJvbSAnLi91c2UvdXNlLWNvbnRleHQnO1xuICogaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAnLi91c2UvdXNlLXJlZic7XG4gKlxuICogZXhwb3J0IGNvbnN0IGdyZWV0ID0gKCkgPT4gY29uc29sZS5sb2coJ2dyZWV0Jyk7XG4gKiBmdW5jdGlvbiB0b3BMZXZlbEZuKCkge31cbiAqXG4gKiBmdW5jdGlvbiBteUNvZGUoKSB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe30pO1xuICogICBmdW5jdGlvbiBsb2NhbEZuKCkge31cbiAqICAgLy8gVmFsaWQgRXhhbXBsZXNcbiAqICAgJChncmVldCk7IC8vIGdyZWV0IGlzIGltcG9ydGFibGVcbiAqICAgJChpbXBvcnRlZEZuKTsgLy8gaW1wb3J0ZWRGbiBpcyBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gZ3JlZXQoKSk7IC8vIGdyZWV0IGlzIGltcG9ydGFibGU7XG4gKiAgICQoKCkgPT4gaW1wb3J0ZWRGbigpKTsgLy8gaW1wb3J0ZWRGbiBpcyBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gY29uc29sZS5sb2coc3RvcmUpKTsgLy8gc3RvcmUgaXMgc2VyaWFsaXphYmxlLlxuICpcbiAqICAgLy8gQ29tcGlsZSB0aW1lIGVycm9yc1xuICogICAkKHRvcExldmVsRm4pOyAvLyBFUlJPUjogYHRvcExldmVsRm5gIG5vdCBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gdG9wTGV2ZWxGbigpKTsgLy8gRVJST1I6IGB0b3BMZXZlbEZuYCBub3QgaW1wb3J0YWJsZVxuICpcbiAqICAgLy8gUnVudGltZSBlcnJvcnNcbiAqICAgJChsb2NhbEZuKTsgLy8gRVJST1I6IGBsb2NhbEZuYCBmYWlscyBzZXJpYWxpemF0aW9uXG4gKiAgICQoKCkgPT4gbG9jYWxGbigpKTsgLy8gRVJST1I6IGBsb2NhbEZuYCBmYWlscyBzZXJpYWxpemF0aW9uXG4gKiB9XG4gKlxuICogYGBgXG4gKlxuICogQHBhcmFtIGV4cHJlc3Npb24gLSBFeHByZXNzaW9uIHdoaWNoIHNob3VsZCBiZSBsYXp5IGxvYWRlZFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgJCA9IDxUPihleHByZXNzaW9uOiBUKTogUVJMPFQ+ID0+IHtcbiAgcmV0dXJuIHJ1bnRpbWVRcmwoZXhwcmVzc2lvbik7XG59O1xuIl19","import { $ } from '../import/qrl.public';\nimport { OnRenderProp } from '../util/markers';\nimport { jsx } from '../render/jsx/jsx-runtime';\nimport { SERIALIZABLE_STATE } from '../object/serializers';\nimport { qTest } from '../util/qdev';\nimport { Virtual } from '../render/jsx/host.public';\n// const ELEMENTS_SKIP_KEY: JSXTagName[] = ['html', 'body', 'head'];\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`\n *\n * @public\n */\n// </docs>\nexport const componentQrl = (onRenderQrl) => {\n    // Return a QComponent Factory function.\n    function QwikComponent(props, key) {\n        const hash = qTest ? 'sX' : onRenderQrl.getHash();\n        const finalKey = hash + ':' + (key ? key : '');\n        return jsx(Virtual, { [OnRenderProp]: onRenderQrl, ...props }, finalKey);\n    }\n    QwikComponent[SERIALIZABLE_STATE] = [onRenderQrl];\n    return QwikComponent;\n};\nexport const isQwikComponent = (component) => {\n    return typeof component == 'function' && component[SERIALIZABLE_STATE] !== undefined;\n};\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`\n *\n * @public\n */\n// </docs>\nexport const component$ = (onMount) => {\n    return componentQrl($(onMount));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvY29tcG9uZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsQ0FBQyxFQUFPLE1BQU0sc0JBQXNCLENBQUM7QUFFOUMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRy9DLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUVoRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3JDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQXFEcEQsb0VBQW9FO0FBRXBFLDJDQUEyQztBQUMzQyx5Q0FBeUM7QUFDekMsd0NBQXdDO0FBQ3hDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBaURHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUMxQixXQUFtQyxFQUNqQixFQUFFO0lBQ3BCLHdDQUF3QztJQUN4QyxTQUFTLGFBQWEsQ0FBQyxLQUF5QixFQUFFLEdBQVk7UUFDNUQsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNsRCxNQUFNLFFBQVEsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9DLE9BQU8sR0FBRyxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLEVBQUUsV0FBVyxFQUFFLEdBQUcsS0FBSyxFQUFFLEVBQUUsUUFBUSxDQUFRLENBQUM7SUFDbEYsQ0FBQztJQUNBLGFBQXFCLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzNELE9BQU8sYUFBYSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLFNBQWMsRUFBK0IsRUFBRTtJQUM3RSxPQUFPLE9BQU8sU0FBUyxJQUFJLFVBQVUsSUFBSSxTQUFTLENBQUMsa0JBQWtCLENBQUMsS0FBSyxTQUFTLENBQUM7QUFDdkYsQ0FBQyxDQUFDO0FBRUYsMkNBQTJDO0FBQzNDLHlDQUF5QztBQUN6Qyx3Q0FBd0M7QUFDeEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpREc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQW1CLE9BQTBCLEVBQW9CLEVBQUU7SUFDM0YsT0FBTyxZQUFZLENBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDekMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgJCwgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBPblJlbmRlclByb3AgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHR5cGUgeyBDb21wb25lbnRCYXNlUHJvcHMgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4uL3JlbmRlci9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsganN4IH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IE11dGFibGVXcmFwcGVyIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IFNFUklBTElaQUJMRV9TVEFURSB9IGZyb20gJy4uL29iamVjdC9zZXJpYWxpemVycyc7XG5pbXBvcnQgeyBxVGVzdCB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBWaXJ0dWFsIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9ob3N0LnB1YmxpYyc7XG5cbi8qKlxuICogSW5mZXJzIGBQcm9wc2AgZnJvbSB0aGUgY29tcG9uZW50LlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cG9ydCBjb25zdCBPdGhlckNvbXBvbmVudCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICByZXR1cm4gJCgoKSA9PiA8Q291bnRlciB2YWx1ZT17MTAwfSAvPik7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IHR5cGUgUHJvcHNPZjxDT01QIGV4dGVuZHMgQ29tcG9uZW50PGFueT4+ID0gQ09NUCBleHRlbmRzIENvbXBvbmVudDxpbmZlciBQUk9QUz5cbiAgPyBOb25OdWxsYWJsZTxQUk9QUz5cbiAgOiBuZXZlcjtcblxuLyoqXG4gKiBUeXBlIHJlcHJlc2VudGluZyB0aGUgUXdpayBjb21wb25lbnQuXG4gKlxuICogYENvbXBvbmVudGAgaXMgdGhlIHR5cGUgcmV0dXJuZWQgYnkgaW52b2tpbmcgYGNvbXBvbmVudCRgLlxuICpcbiAqIGBgYFxuICogaW50ZXJmYWNlIE15Q29tcG9uZW50UHJvcHMge1xuICogICBzb21lUHJvcDogc3RyaW5nO1xuICogfVxuICogY29uc3QgTXlDb21wb25lbnQ6IENvbXBvbmVudDxNeUNvbXBvbmVudFByb3BzPiA9IGNvbXBvbmVudCQoKHByb3BzOiBNeUNvbXBvbmVudFByb3BzKSA9PiB7XG4gKiAgIHJldHVybiA8c3Bhbj57cHJvcHMuc29tZVByb3B9PC9zcGFuPjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBDb21wb25lbnQ8UFJPUFMgZXh0ZW5kcyB7fT4gPSBGdW5jdGlvbkNvbXBvbmVudDxQdWJsaWNQcm9wczxQUk9QUz4+O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUHVibGljUHJvcHM8UFJPUFMgZXh0ZW5kcyB7fT4gPSBNdXRhYmxlUHJvcHM8UFJPUFM+ICYgQ29tcG9uZW50QmFzZVByb3BzO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgTXV0YWJsZVByb3BzPFBST1BTIGV4dGVuZHMge30+ID0ge1xuICBbSyBpbiBrZXlvZiBQUk9QU106IFBST1BTW0tdIHwgTXV0YWJsZVdyYXBwZXI8UFJPUFNbS10+O1xufTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyPFQ+ID0gUVJMPCh2YWx1ZTogVCkgPT4gYW55PjtcblxuLy8gY29uc3QgRUxFTUVOVFNfU0tJUF9LRVk6IEpTWFRhZ05hbWVbXSA9IFsnaHRtbCcsICdib2R5JywgJ2hlYWQnXTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjY29tcG9uZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI2NvbXBvbmVudCBpbnN0ZWFkKVxuLyoqXG4gKiBEZWNsYXJlIGEgUXdpayBjb21wb25lbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgVUkuXG4gKlxuICogVXNlIGBjb21wb25lbnQkYCB0byBkZWNsYXJlIGEgUXdpayBjb21wb25lbnQuIEEgUXdpayBjb21wb25lbnQgaXMgYSBzcGVjaWFsIGtpbmQgb2YgY29tcG9uZW50XG4gKiB0aGF0IGFsbG93cyB0aGUgUXdpayBmcmFtZXdvcmsgdG8gbGF6eSBsb2FkIGFuZCBleGVjdXRlIHRoZSBjb21wb25lbnQgaW5kZXBlbmRlbnRseSBvZiBvdGhlclxuICogUXdpayBjb21wb25lbnRzIGFzIHdlbGwgYXMgbGF6eSBsb2FkIHRoZSBjb21wb25lbnQncyBsaWZlLWN5Y2xlIGhvb2tzIGFuZCBldmVudCBoYW5kbGVycy5cbiAqXG4gKiBTaWRlIG5vdGU6IFlvdSBjYW4gYWxzbyBkZWNsYXJlIHJlZ3VsYXIgKHN0YW5kYXJkIEpTWCkgY29tcG9uZW50cyB0aGF0IHdpbGwgaGF2ZSBzdGFuZGFyZFxuICogc3luY2hyb25vdXMgYmVoYXZpb3IuXG4gKlxuICogUXdpayBjb21wb25lbnQgaXMgYSBmYWNhZGUgdGhhdCBkZXNjcmliZXMgaG93IHRoZSBjb21wb25lbnQgc2hvdWxkIGJlIHVzZWQgd2l0aG91dCBmb3JjaW5nIHRoZVxuICogaW1wbGVtZW50YXRpb24gb2YgdGhlIGNvbXBvbmVudCB0byBiZSBlYWdlcmx5IGxvYWRlZC4gQSBtaW5pbXVtIFF3aWsgZGVmaW5pdGlvbiBjb25zaXN0cyBvZjpcbiAqXG4gKiAjIyMgRXhhbXBsZTpcbiAqXG4gKiBBbiBleGFtcGxlIHNob3dpbmcgaG93IHRvIGNyZWF0ZSBhIGNvdW50ZXIgY29tcG9uZW50OlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGludGVyZmFjZSBDb3VudGVyUHJvcHMge1xuICogICBpbml0aWFsVmFsdWU/OiBudW1iZXI7XG4gKiAgIHN0ZXA/OiBudW1iZXI7XG4gKiB9XG4gKiBleHBvcnQgY29uc3QgQ291bnRlciA9IGNvbXBvbmVudCQoKHByb3BzOiBDb3VudGVyUHJvcHMpID0+IHtcbiAqICAgY29uc3Qgc3RhdGUgPSB1c2VTdG9yZSh7IGNvdW50OiBwcm9wcy5pbml0aWFsVmFsdWUgfHwgMCB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+e3N0YXRlLmNvdW50fTwvc3Bhbj5cbiAqICAgICAgIDxidXR0b24gb25DbGljayQ9eygpID0+IChzdGF0ZS5jb3VudCArPSBwcm9wcy5zdGVwIHx8IDEpfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIC0gYGNvbXBvbmVudCRgIGlzIGhvdyBhIGNvbXBvbmVudCBnZXRzIGRlY2xhcmVkLlxuICogLSBgeyB2YWx1ZT86IG51bWJlcjsgc3RlcD86IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHVibGljIChwcm9wcykgaW50ZXJmYWNlIG9mIHRoZSBjb21wb25lbnQuXG4gKiAtIGB7IGNvdW50OiBudW1iZXIgfWAgZGVjbGFyZXMgdGhlIHByaXZhdGUgKHN0YXRlKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBUaGUgYWJvdmUgY2FuIHRoZW4gYmUgdXNlZCBsaWtlIHNvOlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGNvbnN0IE90aGVyQ29tcG9uZW50ID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHJldHVybiA8Q291bnRlciBpbml0aWFsVmFsdWU9ezEwMH0gLz47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFNlZSBhbHNvOiBgY29tcG9uZW50YCwgYHVzZUNsZWFudXBgLCBgb25SZXN1bWVgLCBgb25QYXVzZWAsIGB1c2VPbmAsIGB1c2VPbkRvY3VtZW50YCxcbiAqIGB1c2VPbldpbmRvd2AsIGB1c2VTdHlsZXNgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgY29tcG9uZW50UXJsID0gPFBST1BTIGV4dGVuZHMge30+KFxuICBvblJlbmRlclFybDogUVJMPE9uUmVuZGVyRm48UFJPUFM+PlxuKTogQ29tcG9uZW50PFBST1BTPiA9PiB7XG4gIC8vIFJldHVybiBhIFFDb21wb25lbnQgRmFjdG9yeSBmdW5jdGlvbi5cbiAgZnVuY3Rpb24gUXdpa0NvbXBvbmVudChwcm9wczogUHVibGljUHJvcHM8UFJPUFM+LCBrZXk/OiBzdHJpbmcpOiBKU1hOb2RlPFBST1BTPiB7XG4gICAgY29uc3QgaGFzaCA9IHFUZXN0ID8gJ3NYJyA6IG9uUmVuZGVyUXJsLmdldEhhc2goKTtcbiAgICBjb25zdCBmaW5hbEtleSA9IGhhc2ggKyAnOicgKyAoa2V5ID8ga2V5IDogJycpO1xuICAgIHJldHVybiBqc3goVmlydHVhbCwgeyBbT25SZW5kZXJQcm9wXTogb25SZW5kZXJRcmwsIC4uLnByb3BzIH0sIGZpbmFsS2V5KSBhcyBhbnk7XG4gIH1cbiAgKFF3aWtDb21wb25lbnQgYXMgYW55KVtTRVJJQUxJWkFCTEVfU1RBVEVdID0gW29uUmVuZGVyUXJsXTtcbiAgcmV0dXJuIFF3aWtDb21wb25lbnQ7XG59O1xuXG5leHBvcnQgY29uc3QgaXNRd2lrQ29tcG9uZW50ID0gKGNvbXBvbmVudDogYW55KTogY29tcG9uZW50IGlzIENvbXBvbmVudDxhbnk+ID0+IHtcbiAgcmV0dXJuIHR5cGVvZiBjb21wb25lbnQgPT0gJ2Z1bmN0aW9uJyAmJiBjb21wb25lbnRbU0VSSUFMSVpBQkxFX1NUQVRFXSAhPT0gdW5kZWZpbmVkO1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjY29tcG9uZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI2NvbXBvbmVudCBpbnN0ZWFkKVxuLyoqXG4gKiBEZWNsYXJlIGEgUXdpayBjb21wb25lbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgVUkuXG4gKlxuICogVXNlIGBjb21wb25lbnQkYCB0byBkZWNsYXJlIGEgUXdpayBjb21wb25lbnQuIEEgUXdpayBjb21wb25lbnQgaXMgYSBzcGVjaWFsIGtpbmQgb2YgY29tcG9uZW50XG4gKiB0aGF0IGFsbG93cyB0aGUgUXdpayBmcmFtZXdvcmsgdG8gbGF6eSBsb2FkIGFuZCBleGVjdXRlIHRoZSBjb21wb25lbnQgaW5kZXBlbmRlbnRseSBvZiBvdGhlclxuICogUXdpayBjb21wb25lbnRzIGFzIHdlbGwgYXMgbGF6eSBsb2FkIHRoZSBjb21wb25lbnQncyBsaWZlLWN5Y2xlIGhvb2tzIGFuZCBldmVudCBoYW5kbGVycy5cbiAqXG4gKiBTaWRlIG5vdGU6IFlvdSBjYW4gYWxzbyBkZWNsYXJlIHJlZ3VsYXIgKHN0YW5kYXJkIEpTWCkgY29tcG9uZW50cyB0aGF0IHdpbGwgaGF2ZSBzdGFuZGFyZFxuICogc3luY2hyb25vdXMgYmVoYXZpb3IuXG4gKlxuICogUXdpayBjb21wb25lbnQgaXMgYSBmYWNhZGUgdGhhdCBkZXNjcmliZXMgaG93IHRoZSBjb21wb25lbnQgc2hvdWxkIGJlIHVzZWQgd2l0aG91dCBmb3JjaW5nIHRoZVxuICogaW1wbGVtZW50YXRpb24gb2YgdGhlIGNvbXBvbmVudCB0byBiZSBlYWdlcmx5IGxvYWRlZC4gQSBtaW5pbXVtIFF3aWsgZGVmaW5pdGlvbiBjb25zaXN0cyBvZjpcbiAqXG4gKiAjIyMgRXhhbXBsZTpcbiAqXG4gKiBBbiBleGFtcGxlIHNob3dpbmcgaG93IHRvIGNyZWF0ZSBhIGNvdW50ZXIgY29tcG9uZW50OlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGludGVyZmFjZSBDb3VudGVyUHJvcHMge1xuICogICBpbml0aWFsVmFsdWU/OiBudW1iZXI7XG4gKiAgIHN0ZXA/OiBudW1iZXI7XG4gKiB9XG4gKiBleHBvcnQgY29uc3QgQ291bnRlciA9IGNvbXBvbmVudCQoKHByb3BzOiBDb3VudGVyUHJvcHMpID0+IHtcbiAqICAgY29uc3Qgc3RhdGUgPSB1c2VTdG9yZSh7IGNvdW50OiBwcm9wcy5pbml0aWFsVmFsdWUgfHwgMCB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+e3N0YXRlLmNvdW50fTwvc3Bhbj5cbiAqICAgICAgIDxidXR0b24gb25DbGljayQ9eygpID0+IChzdGF0ZS5jb3VudCArPSBwcm9wcy5zdGVwIHx8IDEpfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIC0gYGNvbXBvbmVudCRgIGlzIGhvdyBhIGNvbXBvbmVudCBnZXRzIGRlY2xhcmVkLlxuICogLSBgeyB2YWx1ZT86IG51bWJlcjsgc3RlcD86IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHVibGljIChwcm9wcykgaW50ZXJmYWNlIG9mIHRoZSBjb21wb25lbnQuXG4gKiAtIGB7IGNvdW50OiBudW1iZXIgfWAgZGVjbGFyZXMgdGhlIHByaXZhdGUgKHN0YXRlKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBUaGUgYWJvdmUgY2FuIHRoZW4gYmUgdXNlZCBsaWtlIHNvOlxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGNvbnN0IE90aGVyQ29tcG9uZW50ID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHJldHVybiA8Q291bnRlciBpbml0aWFsVmFsdWU9ezEwMH0gLz47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFNlZSBhbHNvOiBgY29tcG9uZW50YCwgYHVzZUNsZWFudXBgLCBgb25SZXN1bWVgLCBgb25QYXVzZWAsIGB1c2VPbmAsIGB1c2VPbkRvY3VtZW50YCxcbiAqIGB1c2VPbldpbmRvd2AsIGB1c2VTdHlsZXNgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgY29tcG9uZW50JCA9IDxQUk9QUyBleHRlbmRzIHt9Pihvbk1vdW50OiBPblJlbmRlckZuPFBST1BTPik6IENvbXBvbmVudDxQUk9QUz4gPT4ge1xuICByZXR1cm4gY29tcG9uZW50UXJsPFBST1BTPigkKG9uTW91bnQpKTtcbn07XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBPblJlbmRlckZuPFBST1BTPiA9IChwcm9wczogUFJPUFMpID0+IEpTWE5vZGU8YW55PiB8IG51bGwgfCAoKCkgPT4gSlNYTm9kZTxhbnk+KTtcblxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJGYWN0b3J5T3V0cHV0PFBST1BTPiB7XG4gIHJlbmRlclFSTDogUVJMPE9uUmVuZGVyRm48UFJPUFM+PjtcbiAgd2FpdE9uOiBhbnlbXTtcbn1cbiJdfQ==","/* eslint-disable */\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { JSXNodeImpl } from './jsx-runtime';\nimport { isArray } from '../../util/types';\nexport const flattenArray = (array, dst) => {\n    // Yes this function is just Array.flat, but we need to run on old versions of Node.\n    if (!dst)\n        dst = [];\n    for (const item of array) {\n        if (isArray(item)) {\n            flattenArray(item, dst);\n        }\n        else {\n            dst.push(item);\n        }\n    }\n    return dst;\n};\n/**\n * @public\n */\nexport function h(type, props, ...children) {\n    // Using legacy h() jsx transform and morphing it\n    // so it can use the modern vdom structure\n    // https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html\n    // https://www.typescriptlang.org/tsconfig#jsxImportSource\n    const normalizedProps = {\n        children: arguments.length > 2 ? flattenArray(children) : EMPTY_ARRAY,\n    };\n    let key;\n    let i;\n    for (i in props) {\n        if (i == 'key')\n            key = props[i];\n        else\n            normalizedProps[i] = props[i];\n    }\n    return new JSXNodeImpl(type, normalizedProps, key);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvanN4L2ZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRzVDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUUzQyxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBSSxLQUFrQixFQUFFLEdBQVMsRUFBTyxFQUFFO0lBQ3BFLG9GQUFvRjtJQUNwRixJQUFJLENBQUMsR0FBRztRQUFFLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDbkIsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLEVBQUU7UUFDeEIsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakIsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN6QjthQUFNO1lBQ0wsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNoQjtLQUNGO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sVUFBVSxDQUFDLENBQ2YsSUFBVSxFQUNWLEtBQW1CLEVBQ25CLEdBQUcsUUFBZTtJQUVsQixpREFBaUQ7SUFDakQsMENBQTBDO0lBQzFDLDZFQUE2RTtJQUM3RSwwREFBMEQ7SUFFMUQsTUFBTSxlQUFlLEdBQVE7UUFDM0IsUUFBUSxFQUFFLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVc7S0FDdEUsQ0FBQztJQUVGLElBQUksR0FBUSxDQUFDO0lBQ2IsSUFBSSxDQUFNLENBQUM7SUFFWCxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7UUFDZixJQUFJLENBQUMsSUFBSSxLQUFLO1lBQUUsR0FBRyxHQUFJLEtBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBQ25ELGVBQWUsQ0FBQyxDQUFDLENBQUMsR0FBSSxLQUE2QixDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzdEO0lBRUQsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3JELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi8uLi91dGlsL2ZseXdlaWdodCc7XG5pbXBvcnQgeyBKU1hOb2RlSW1wbCB9IGZyb20gJy4vanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBRd2lrSlNYIH0gZnJvbSAnLi90eXBlcy9qc3gtcXdpayc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hOb2RlIH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vLi4vdXRpbC90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBmbGF0dGVuQXJyYXkgPSA8VD4oYXJyYXk6IChUIHwgVFtdKVtdLCBkc3Q/OiBUW10pOiBUW10gPT4ge1xuICAvLyBZZXMgdGhpcyBmdW5jdGlvbiBpcyBqdXN0IEFycmF5LmZsYXQsIGJ1dCB3ZSBuZWVkIHRvIHJ1biBvbiBvbGQgdmVyc2lvbnMgb2YgTm9kZS5cbiAgaWYgKCFkc3QpIGRzdCA9IFtdO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyYXkpIHtcbiAgICBpZiAoaXNBcnJheShpdGVtKSkge1xuICAgICAgZmxhdHRlbkFycmF5KGl0ZW0sIGRzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZHN0O1xufTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoPFRZUEUgZXh0ZW5kcyBzdHJpbmcgfCBGdW5jdGlvbkNvbXBvbmVudDxQUk9QUz4sIFBST1BTIGV4dGVuZHMge30gPSB7fT4oXG4gIHR5cGU6IFRZUEUsXG4gIHByb3BzOiBQUk9QUyB8IG51bGwsXG4gIC4uLmNoaWxkcmVuOiBhbnlbXVxuKTogSlNYTm9kZTxUWVBFPiB7XG4gIC8vIFVzaW5nIGxlZ2FjeSBoKCkganN4IHRyYW5zZm9ybSBhbmQgbW9ycGhpbmcgaXRcbiAgLy8gc28gaXQgY2FuIHVzZSB0aGUgbW9kZXJuIHZkb20gc3RydWN0dXJlXG4gIC8vIGh0dHBzOi8vcmVhY3Rqcy5vcmcvYmxvZy8yMDIwLzA5LzIyL2ludHJvZHVjaW5nLXRoZS1uZXctanN4LXRyYW5zZm9ybS5odG1sXG4gIC8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy90c2NvbmZpZyNqc3hJbXBvcnRTb3VyY2VcblxuICBjb25zdCBub3JtYWxpemVkUHJvcHM6IGFueSA9IHtcbiAgICBjaGlsZHJlbjogYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBmbGF0dGVuQXJyYXkoY2hpbGRyZW4pIDogRU1QVFlfQVJSQVksXG4gIH07XG5cbiAgbGV0IGtleTogYW55O1xuICBsZXQgaTogYW55O1xuXG4gIGZvciAoaSBpbiBwcm9wcykge1xuICAgIGlmIChpID09ICdrZXknKSBrZXkgPSAocHJvcHMgYXMgUmVjb3JkPHN0cmluZywgYW55PilbaV07XG4gICAgZWxzZSBub3JtYWxpemVkUHJvcHNbaV0gPSAocHJvcHMgYXMgUmVjb3JkPHN0cmluZywgYW55PilbaV07XG4gIH1cblxuICByZXR1cm4gbmV3IEpTWE5vZGVJbXBsKHR5cGUsIG5vcm1hbGl6ZWRQcm9wcywga2V5KTtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBoIHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogYW55KTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBOb2RlLCBkYXRhOiBhbnkpOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHR5cGU6IGFueSwgdGV4dDogc3RyaW5nKTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBhbnksIGNoaWxkcmVuOiBBcnJheTxhbnk+KTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBhbnksIGRhdGE6IGFueSwgdGV4dDogc3RyaW5nKTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaChcbiAgICB0eXBlOiBhbnksXG4gICAgZGF0YTogYW55LFxuICAgIGNoaWxkcmVuOiBBcnJheTxKU1hOb2RlPGFueT4gfCB1bmRlZmluZWQgfCBudWxsPlxuICApOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHNlbDogYW55LCBkYXRhOiBhbnkgfCBudWxsLCBjaGlsZHJlbjogSlNYTm9kZTxhbnk+KTogSlNYTm9kZTxhbnk+O1xuXG4gIGV4cG9ydCBuYW1lc3BhY2UgSlNYIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEVsZW1lbnQgZXh0ZW5kcyBRd2lrSlNYLkVsZW1lbnQge31cbiAgICBleHBvcnQgaW50ZXJmYWNlIEludHJpbnNpY0F0dHJpYnV0ZXMgZXh0ZW5kcyBRd2lrSlNYLkludHJpbnNpY0F0dHJpYnV0ZXMge31cbiAgICBleHBvcnQgaW50ZXJmYWNlIEludHJpbnNpY0VsZW1lbnRzIGV4dGVuZHMgUXdpa0pTWC5JbnRyaW5zaWNFbGVtZW50cyB7fVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudENoaWxkcmVuQXR0cmlidXRlIHtcbiAgICAgIGNoaWxkcmVuPzogYW55O1xuICAgIH1cbiAgfVxufVxuIl19","import { QSlotName } from '../../util/markers';\nimport { Virtual } from './host.public';\nimport { jsx } from './jsx-runtime';\n/**\n * @public\n */\nexport const Slot = (props) => {\n    const name = props.name ?? '';\n    return jsx(Virtual, {\n        [QSlotName]: name,\n    }, name);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xvdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9zbG90LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDL0MsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4QyxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR3BDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUVaLENBQUMsS0FBSyxFQUFFLEVBQUU7SUFDYixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUM5QixPQUFPLEdBQUcsQ0FDUixPQUFPLEVBQ1A7UUFDRSxDQUFDLFNBQVMsQ0FBQyxFQUFFLElBQUk7S0FDbEIsRUFDRCxJQUFJLENBQ0wsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFFTbG90TmFtZSB9IGZyb20gJy4uLy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBWaXJ0dWFsIH0gZnJvbSAnLi9ob3N0LnB1YmxpYyc7XG5pbXBvcnQgeyBqc3ggfSBmcm9tICcuL2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBTbG90OiBGdW5jdGlvbkNvbXBvbmVudDx7XG4gIG5hbWU/OiBzdHJpbmc7XG59PiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBuYW1lID0gcHJvcHMubmFtZSA/PyAnJztcbiAgcmV0dXJuIGpzeChcbiAgICBWaXJ0dWFsLFxuICAgIHtcbiAgICAgIFtRU2xvdE5hbWVdOiBuYW1lLFxuICAgIH0sXG4gICAgbmFtZVxuICApO1xufTtcbiJdfQ==","/**\n * QWIK_VERSION\n * @public\n */\nexport const version = globalThis.QWIK_VERSION;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS92ZXJzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBSSxVQUFrQixDQUFDLFlBQXNCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFFXSUtfVkVSU0lPTlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IChnbG9iYWxUaGlzIGFzIGFueSkuUVdJS19WRVJTSU9OIGFzIHN0cmluZztcbiJdfQ==","import { isDocument } from '../../util/element';\nimport { executeContext, printRenderStats } from './visitor';\nimport { isJSXNode, jsx } from '../jsx/jsx-runtime';\nimport { visitJsxNode } from './visitor';\nimport { getDocument } from '../../util/dom';\nimport { qDev } from '../../util/qdev';\nimport { version } from '../../version';\nimport { QContainerAttr } from '../../util/markers';\nimport { logWarn } from '../../util/log';\nimport { appendQwikDevTools } from '../../props/props';\nimport { qError, QError_cannotRenderOverExistingContainer } from '../../error/error';\nimport { directSetAttribute } from '../fast-calls';\nimport { processData } from './render-dom';\nimport { getContainerState } from '../container';\nimport { postRendering } from './notify-render';\nimport { createRenderContext } from '../execute-component';\n/**\n * Render JSX.\n *\n * Use this method to render JSX. This function does reconciling which means\n * it always tries to reuse what is already in the DOM (rather then destroy and\n * recreate content.)\n *\n * @param parent - Element which will act as a parent to `jsxNode`. When\n *     possible the rendering will try to reuse existing nodes.\n * @param jsxNode - JSX to render\n * @alpha\n */\nexport const render = async (parent, jsxNode, opts) => {\n    // If input is not JSX, convert it\n    if (!isJSXNode(jsxNode)) {\n        jsxNode = jsx(jsxNode, null);\n    }\n    const doc = getDocument(parent);\n    const containerEl = getElement(parent);\n    if (qDev && containerEl.hasAttribute(QContainerAttr)) {\n        throw qError(QError_cannotRenderOverExistingContainer, containerEl);\n    }\n    injectQContainer(containerEl);\n    const containerState = getContainerState(containerEl);\n    const envData = opts?.envData;\n    if (envData) {\n        Object.assign(containerState.$envData$, envData);\n    }\n    containerState.$hostsRendering$ = new Set();\n    containerState.$renderPromise$ = renderRoot(containerEl, jsxNode, doc, containerState, containerEl);\n    const renderCtx = await containerState.$renderPromise$;\n    const allowRerender = opts?.allowRerender ?? true;\n    if (allowRerender) {\n        await postRendering(containerState, renderCtx);\n    }\n    else {\n        containerState.$hostsRendering$ = undefined;\n        containerState.$renderPromise$ = undefined;\n        const next = containerState.$hostsNext$.size +\n            containerState.$hostsStaging$.size +\n            containerState.$watchNext$.size +\n            containerState.$watchStaging$.size;\n        if (next > 0) {\n            logWarn('State changed and a rerender is required, skipping');\n        }\n    }\n};\nconst renderRoot = async (parent, jsxNode, doc, containerState, containerEl) => {\n    const ctx = createRenderContext(doc, containerState);\n    ctx.$roots$.push(parent);\n    const processedNodes = await processData(jsxNode);\n    await visitJsxNode(ctx, parent, processedNodes, 0);\n    executeContext(ctx);\n    if (qDev) {\n        appendQwikDevTools(containerEl);\n        printRenderStats(ctx);\n    }\n    return ctx;\n};\nexport const getElement = (docOrElm) => {\n    return isDocument(docOrElm) ? docOrElm.documentElement : docOrElm;\n};\nexport const injectQContainer = (containerEl) => {\n    directSetAttribute(containerEl, 'q:version', version || '');\n    directSetAttribute(containerEl, QContainerAttr, 'resumed');\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZG9tL3JlbmRlci5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDN0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUVwRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ3pDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4QyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDcEQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxNQUFNLEVBQUUsd0NBQXdDLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNyRixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUMzQyxPQUFPLEVBQWtCLGlCQUFpQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQVUzRDs7Ozs7Ozs7Ozs7R0FXRztBQUNILE1BQU0sQ0FBQyxN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QUMsQ0FBQyxRQUFRLENBQUM7QUFDcEUsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxXQUFvQixFQUFFLEVBQUU7SUFDdkQsa0JBQWtCLENBQUMsV0FBVyxFQUFFLFdBQVcsRUFBRSxPQUFPLElBQUksRUFBRSxDQUFDLENBQUM7SUFDNUQsa0JBQWtCLENBQUMsV0FBVyxFQUFFLGNBQWMsRUFBRSxTQUFTLENBQUMsQ0FBQztBQUM3RCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RvY3VtZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IGV4ZWN1dGVDb250ZXh0LCBwcmludFJlbmRlclN0YXRzIH0gZnJvbSAnLi92aXNpdG9yJztcbmltcG9ydCB7IGlzSlNYTm9kZSwganN4IH0gZnJvbSAnLi4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSwgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICcuLi9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgdmlzaXRKc3hOb2RlIH0gZnJvbSAnLi92aXNpdG9yJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uLy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vLi4vdmVyc2lvbic7XG5pbXBvcnQgeyBRQ29udGFpbmVyQXR0ciB9IGZyb20gJy4uLy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBsb2dXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgYXBwZW5kUXdpa0RldlRvb2xzIH0gZnJvbSAnLi4vLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfY2Fubm90UmVuZGVyT3ZlckV4aXN0aW5nQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgZGlyZWN0U2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vZmFzdC1jYWxscyc7XG5pbXBvcnQgeyBwcm9jZXNzRGF0YSB9IGZyb20gJy4vcmVuZGVyLWRvbSc7XG5pbXBvcnQgeyBDb250YWluZXJTdGF0ZSwgZ2V0Q29udGFpbmVyU3RhdGUgfSBmcm9tICcuLi9jb250YWluZXInO1xuaW1wb3J0IHsgcG9zdFJlbmRlcmluZyB9IGZyb20gJy4vbm90aWZ5LXJlbmRlcic7XG5pbXBvcnQgeyBjcmVhdGVSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vZXhlY3V0ZS1jb21wb25lbnQnO1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlck9wdGlvbnMge1xuICBhbGxvd1JlcmVuZGVyPzogYm9vbGVhbjtcbiAgZW52RGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG59XG5cbi8qKlxuICogUmVuZGVyIEpTWC5cbiAqXG4gKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVuZGVyIEpTWC4gVGhpcyBmdW5jdGlvbiBkb2VzIHJlY29uY2lsaW5nIHdoaWNoIG1lYW5zXG4gKiBpdCBhbHdheXMgdHJpZXMgdG8gcmV1c2Ugd2hhdCBpcyBhbHJlYWR5IGluIHRoZSBET00gKHJhdGhlciB0aGVuIGRlc3Ryb3kgYW5kXG4gKiByZWNyZWF0ZSBjb250ZW50LilcbiAqXG4gKiBAcGFyYW0gcGFyZW50IC0gRWxlbWVudCB3aGljaCB3aWxsIGFjdCBhcyBhIHBhcmVudCB0byBganN4Tm9kZWAuIFdoZW5cbiAqICAgICBwb3NzaWJsZSB0aGUgcmVuZGVyaW5nIHdpbGwgdHJ5IHRvIHJldXNlIGV4aXN0aW5nIG5vZGVzLlxuICogQHBhcmFtIGpzeE5vZGUgLSBKU1ggdG8gcmVuZGVyXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlciA9IGFzeW5jIChcbiAgcGFyZW50OiBFbGVtZW50IHwgRG9jdW1lbnQsXG4gIGpzeE5vZGU6IEpTWE5vZGU8dW5rbm93bj4gfCBGdW5jdGlvbkNvbXBvbmVudDxhbnk+LFxuICBvcHRzPzogUmVuZGVyT3B0aW9uc1xuKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIC8vIElmIGlucHV0IGlzIG5vdCBKU1gsIGNvbnZlcnQgaXRcbiAgaWYgKCFpc0pTWE5vZGUoanN4Tm9kZSkpIHtcbiAgICBqc3hOb2RlID0ganN4KGpzeE5vZGUsIG51bGwpO1xuICB9XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KHBhcmVudCk7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0RWxlbWVudChwYXJlbnQpO1xuICBpZiAocURldiAmJiBjb250YWluZXJFbC5oYXNBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIpKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9jYW5ub3RSZW5kZXJPdmVyRXhpc3RpbmdDb250YWluZXIsIGNvbnRhaW5lckVsKTtcbiAgfVxuICBpbmplY3RRQ29udGFpbmVyKGNvbnRhaW5lckVsKTtcblxuICBjb25zdCBjb250YWluZXJTdGF0ZSA9IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKTtcbiAgY29uc3QgZW52RGF0YSA9IG9wdHM/LmVudkRhdGE7XG4gIGlmIChlbnZEYXRhKSB7XG4gICAgT2JqZWN0LmFzc2lnbihjb250YWluZXJTdGF0ZS4kZW52RGF0YSQsIGVudkRhdGEpO1xuICB9XG4gIGNvbnRhaW5lclN0YXRlLiRob3N0c1JlbmRlcmluZyQgPSBuZXcgU2V0KCk7XG4gIGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJCA9IHJlbmRlclJvb3QoXG4gICAgY29udGFpbmVyRWwsXG4gICAganN4Tm9kZSxcbiAgICBkb2MsXG4gICAgY29udGFpbmVyU3RhdGUsXG4gICAgY29udGFpbmVyRWxcbiAgKTtcblxuICBjb25zdCByZW5kZXJDdHggPSBhd2FpdCBjb250YWluZXJTdGF0ZS4kcmVuZGVyUHJvbWlzZSQ7XG4gIGNvbnN0IGFsbG93UmVyZW5kZXIgPSBvcHRzPy5hbGxvd1JlcmVuZGVyID8/IHRydWU7XG4gIGlmIChhbGxvd1JlcmVuZGVyKSB7XG4gICAgYXdhaXQgcG9zdFJlbmRlcmluZyhjb250YWluZXJTdGF0ZSwgcmVuZGVyQ3R4KTtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXJTdGF0ZS4kaG9zdHNSZW5kZXJpbmckID0gdW5kZWZpbmVkO1xuICAgIGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJCA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IG5leHQgPVxuICAgICAgY29udGFpbmVyU3RhdGUuJGhvc3RzTmV4dCQuc2l6ZSArXG4gICAgICBjb250YWluZXJTdGF0ZS4kaG9zdHNTdGFnaW5nJC5zaXplICtcbiAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLnNpemUgK1xuICAgICAgY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuc2l6ZTtcbiAgICBpZiAobmV4dCA+IDApIHtcbiAgICAgIGxvZ1dhcm4oJ1N0YXRlIGNoYW5nZWQgYW5kIGEgcmVyZW5kZXIgaXMgcmVxdWlyZWQsIHNraXBwaW5nJyk7XG4gICAgfVxuICB9XG59O1xuXG5jb25zdCByZW5kZXJSb290ID0gYXN5bmMgKFxuICBwYXJlbnQ6IEVsZW1lbnQsXG4gIGpzeE5vZGU6IEpTWE5vZGU8dW5rbm93bj4gfCBGdW5jdGlvbkNvbXBvbmVudDxhbnk+LFxuICBkb2M6IERvY3VtZW50LFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gIGNvbnRhaW5lckVsOiBFbGVtZW50XG4pID0+IHtcbiAgY29uc3QgY3R4ID0gY3JlYXRlUmVuZGVyQ29udGV4dChkb2MsIGNvbnRhaW5lclN0YXRlKTtcbiAgY3R4LiRyb290cyQucHVzaChwYXJlbnQgYXMgRWxlbWVudCk7XG5cbiAgY29uc3QgcHJvY2Vzc2VkTm9kZXMgPSBhd2FpdCBwcm9jZXNzRGF0YShqc3hOb2RlKTtcbiAgYXdhaXQgdmlzaXRKc3hOb2RlKGN0eCwgcGFyZW50IGFzIEVsZW1lbnQsIHByb2Nlc3NlZE5vZGVzLCAwKTtcblxuICBleGVjdXRlQ29udGV4dChjdHgpO1xuXG4gIGlmIChxRGV2KSB7XG4gICAgYXBwZW5kUXdpa0RldlRvb2xzKGNvbnRhaW5lckVsKTtcbiAgICBwcmludFJlbmRlclN0YXRzKGN0eCk7XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50ID0gKGRvY09yRWxtOiBEb2N1bWVudCB8IEVsZW1lbnQpOiBFbGVtZW50ID0+IHtcbiAgcmV0dXJuIGlzRG9jdW1lbnQoZG9jT3JFbG0pID8gZG9jT3JFbG0uZG9jdW1lbnRFbGVtZW50IDogZG9jT3JFbG07XG59O1xuXG5leHBvcnQgY29uc3QgaW5qZWN0UUNvbnRhaW5lciA9IChjb250YWluZXJFbDogRWxlbWVudCkgPT4ge1xuICBkaXJlY3RTZXRBdHRyaWJ1dGUoY29udGFpbmVyRWwsICdxOnZlcnNpb24nLCB2ZXJzaW9uIHx8ICcnKTtcbiAgZGlyZWN0U2V0QXR0cmlidXRlKGNvbnRhaW5lckVsLCBRQ29udGFpbmVyQXR0ciwgJ3Jlc3VtZWQnKTtcbn07XG4iXX0=","import { isNotNullable, isPromise, then } from '../../util/promises';\nimport { newInvokeContext, invoke } from '../../use/use-core';\nimport { isJSXNode, jsx } from '../jsx/jsx-runtime';\nimport { isArray, isFunction, isString } from '../../util/types';\nimport { getContext, getPropsMutator, normalizeOnProp } from '../../props/props';\nimport { ALLOWS_PROPS, copyRenderContext, createRenderContext, executeComponent, getNextIndex, joinClasses, stringifyStyle, } from '../execute-component';\nimport { ELEMENT_ID, OnRenderProp, QScopedStyle, QSlot, QSlotName, QSlotRef, QStyle, } from '../../util/markers';\nimport { SSRComment, Virtual } from '../jsx/host.public';\nimport { logWarn } from '../../util/log';\nimport { addQRLListener, isOnProp } from '../../props/props-on';\nimport { version } from '../../version';\nimport { fromCamelToKebabCase } from '../../util/case';\nimport { serializeQRLs } from '../../import/qrl';\nimport { getContainerState } from '../container';\nimport { assertDefined } from '../../assert/assert';\nimport { serializeSStyle, styleHost } from '../../component/qrl-styles';\nimport { serializeVirtualAttributes } from '../dom/virtual-element';\nconst IS_HOST = 1 << 0;\nconst IS_HEAD = 1 << 1;\nconst IS_RAW_CONTENT = 1 << 2;\n/**\n * @alpha\n */\nexport const renderSSR = async (doc, node, opts) => {\n    const root = opts.containerTagName;\n    const containerEl = doc.createElement(root);\n    const containerState = getContainerState(containerEl);\n    const rctx = createRenderContext(doc, containerState);\n    const ssrCtx = {\n        rctx,\n        $contexts$: [],\n        projectedChildren: undefined,\n        projectedContext: undefined,\n        hostCtx: undefined,\n        invocationContext: undefined,\n        headNodes: [],\n    };\n    const beforeContent = opts.beforeContent;\n    const beforeClose = opts.beforeClose;\n    if (beforeContent) {\n        ssrCtx.headNodes.push(...beforeContent);\n    }\n    const containerAttributes = {\n        'q:container': 'paused',\n        'q:version': version ?? 'dev',\n        'q:render': 'ssr',\n    };\n    if (opts.base) {\n        containerAttributes['q:base'] = opts.base;\n    }\n    if (opts.url) {\n        containerState.$envData$['url'] = opts.url;\n    }\n    if (opts.envData) {\n        Object.assign(containerState.$envData$, opts.envData);\n    }\n    if (root === 'html') {\n        node = jsx(root, {\n            ...containerAttributes,\n            children: [node],\n        });\n    }\n    else {\n        node = jsx(root, {\n            ...containerAttributes,\n            children: [...ssrCtx.headNodes, node],\n        });\n    }\n    await renderNode(node, ssrCtx, opts.stream, 0, (stream) => {\n        const result = beforeClose?.(ssrCtx.$contexts$, containerState);\n        if (result) {\n            return processData(result, ssrCtx, stream, 0, undefined);\n        }\n    });\n};\nexport const renderNodeFunction = (node, ssrCtx, stream, flags, beforeClose) => {\n    if (node.type === SSRComment) {\n        stream.write(`<!--${node.props.data ?? ''}-->`);\n        return;\n    }\n    if (node.type === Virtual) {\n        const elCtx = getContext(ssrCtx.rctx.$doc$.createElement(':virtual'));\n        return renderNodeVirtual(node, elCtx, undefined, ssrCtx, stream, flags, beforeClose);\n    }\n    const res = ssrCtx.invocationContext\n        ? invoke(ssrCtx.invocationContext, () => node.type(node.props, node.key))\n        : node.type(node.props, node.key);\n    return processData(res, ssrCtx, stream, flags, beforeClose);\n};\nexport const renderNodeVirtual = (node, elCtx, extraNodes, ssrCtx, stream, flags, beforeClose) => {\n    const props = node.props;\n    const renderQrl = props[OnRenderProp];\n    if (renderQrl) {\n        elCtx.$renderQrl$ = renderQrl;\n        return renderSSRComponent(ssrCtx, stream, elCtx, node, flags, beforeClose);\n    }\n    const { children, ...attributes } = node.props;\n    const slotName = props[QSlotName];\n    const isSlot = typeof slotName === 'string';\n    if (isSlot) {\n        assertDefined(ssrCtx.hostCtx?.$id$, 'hostId must be defined for a slot');\n        attributes[QSlotRef] = ssrCtx.hostCtx.$id$;\n    }\n    const key = node.key != null ? String(node.key) : null;\n    if (key != null) {\n        attributes['q:key'] = key;\n    }\n    const url = new Map(Object.entries(attributes));\n    stream.write(`<!--qv ${serializeVirtualAttributes(url)}-->`);\n    if (extraNodes) {\n        for (const node of extraNodes) {\n            renderNodeElementSync(node.type, node.props, stream);\n        }\n    }\n    const promise = processData(props.children, ssrCtx, stream, flags);\n    return then(promise, () => {\n        // Fast path\n        if (!isSlot && !beforeClose) {\n            stream.write(CLOSE_VIRTUAL);\n            return;\n        }\n        let promise;\n        if (isSlot) {\n            const content = ssrCtx.projectedChildren?.[slotName];\n            if (content) {\n                ssrCtx.projectedChildren[slotName] = undefined;\n                promise = processData(content, ssrCtx.projectedContext, stream, flags);\n            }\n        }\n        // Inject before close\n        if (beforeClose) {\n            promise = then(promise, () => beforeClose(stream));\n        }\n        return then(promise, () => {\n            stream.write(CLOSE_VIRTUAL);\n        });\n    });\n};\nconst CLOSE_VIRTUAL = `<!--/qv-->`;\nexport const renderNodeElement = (node, extraAttributes, extraNodes, ssrCtx, stream, flags, beforeClose) => {\n    const key = node.key != null ? String(node.key) : null;\n    const props = node.props;\n    const textType = node.type;\n    const elCtx = getContext(ssrCtx.rctx.$doc$.createElement(node.type));\n    const hasRef = 'ref' in props;\n    const attributes = updateProperties(ssrCtx.rctx, elCtx, props);\n    const hostCtx = ssrCtx.hostCtx;\n    if (hostCtx) {\n        attributes['class'] = joinClasses(hostCtx.$scopeIds$, attributes['class']);\n        const cmp = hostCtx.$component$;\n        if (!cmp.$attachedListeners$) {\n            cmp.$attachedListeners$ = true;\n            hostCtx.$listeners$?.forEach((qrl, eventName) => {\n                addQRLListener(elCtx, eventName, qrl);\n            });\n        }\n    }\n    // Reset HOST flags\n    if (textType === 'head') {\n        flags |= IS_HEAD;\n    }\n    const hasEvents = elCtx.$listeners$;\n    const isHead = flags & IS_HEAD;\n    if (key != null) {\n        attributes['q:key'] = key;\n    }\n    if (hasRef || hasEvents) {\n        const newID = getNextIndex(ssrCtx.rctx);\n        attributes[ELEMENT_ID] = newID;\n        elCtx.$id$ = newID;\n        ssrCtx.$contexts$.push(elCtx);\n    }\n    if (isHead) {\n        attributes['q:head'] = '';\n    }\n    if (extraAttributes) {\n        Object.assign(attributes, extraAttributes);\n    }\n    if (elCtx.$listeners$) {\n        elCtx.$listeners$.forEach((value, key) => {\n            attributes[fromCamelToKebabCase(key)] = serializeQRLs(value, elCtx);\n        });\n    }\n    if (renderNodeElementSync(textType, attributes, stream)) {\n        return;\n    }\n    if (textType !== 'head') {\n        flags &= ~IS_HEAD;\n    }\n    if (hasRawContent[textType]) {\n        flags |= IS_RAW_CONTENT;\n    }\n    else {\n        flags &= ~IS_RAW_CONTENT;\n    }\n    if (extraNodes) {\n        for (const node of extraNodes) {\n            renderNodeElementSync(node.type, node.props, stream);\n        }\n    }\n    const promise = processData(props.children, ssrCtx, stream, flags);\n    return then(promise, () => {\n        // If head inject base styles\n        if (textType === 'head') {\n            ssrCtx.headNodes.forEach((node) => {\n                renderNodeElementSync(node.type, node.props, stream);\n            });\n        }\n        // Fast path\n        if (!beforeClose) {\n            stream.write(`</${textType}>`);\n            return;\n        }\n        // Inject before close\n        return then(beforeClose(stream), () => {\n            stream.write(`</${textType}>`);\n        });\n    });\n};\nexport const renderNodeElementSync = (tagName, attributes, stream) => {\n    stream.write(`<${tagName}`);\n    Object.entries(attributes).forEach(([key, value]) => {\n        if (key !== 'dangerouslySetInnerHTML' && key !== 'children') {\n            if (key === 'class' && !value) {\n                return;\n            }\n            const chunk = value === '' ? ` ${key}` : ` ${key}=\"${escapeAttr(value)}\"`;\n            stream.write(chunk);\n        }\n    });\n    stream.write(`>`);\n    const empty = !!emptyElements[tagName];\n    if (empty) {\n        return true;\n    }\n    // Render innerHTML\n    const innerHTML = attributes.dangerouslySetInnerHTML;\n    if (innerHTML) {\n        stream.write(innerHTML);\n        stream.write(`</${tagName}>`);\n        return true;\n    }\n    return false;\n};\nexport const mergeChildren = (a, b) => {\n    const output = [];\n    if (a) {\n        if (isArray(a)) {\n            output.push(...a);\n        }\n        else {\n            output.push(a);\n        }\n    }\n    if (b) {\n        if (isArray(b)) {\n            output.push(...b);\n        }\n        else {\n            output.push(b);\n        }\n    }\n    return output;\n};\nexport const renderSSRComponent = (ssrCtx, stream, elCtx, node, flags, beforeClose) => {\n    const attributes = updateComponentProperties(ssrCtx.rctx, elCtx, node.props);\n    return then(executeComponent(ssrCtx.rctx, elCtx), (res) => {\n        if (!res) {\n            console.error('not rendered');\n            return;\n        }\n        const hostElement = elCtx.$element$;\n        const newCtx = res.rctx;\n        let children = node.props.children;\n        if (children) {\n            if (isArray(children)) {\n                if (children.filter(isNotNullable).length === 0) {\n                    children = undefined;\n                }\n            }\n            else {\n                children = [children];\n            }\n        }\n        const invocationContext = newInvokeContext(newCtx.$doc$, hostElement, undefined);\n        invocationContext.$subscriber$ = hostElement;\n        invocationContext.$renderCtx$ = newCtx;\n        const projectedContext = {\n            ...ssrCtx,\n            rctx: copyRenderContext(newCtx),\n        };\n        const newSSrContext = {\n            ...ssrCtx,\n            projectedChildren: splitProjectedChildren(children, ssrCtx),\n            projectedContext,\n            rctx: newCtx,\n            invocationContext,\n        };\n        const extraNodes = [];\n        const styleClasses = [];\n        if (elCtx.$appendStyles$) {\n            for (const style of elCtx.$appendStyles$) {\n                extraNodes.push(jsx('style', {\n                    [QStyle]: style.styleId,\n                    dangerouslySetInnerHTML: style.content,\n                }));\n            }\n        }\n        if (elCtx.$scopeIds$) {\n            for (const styleId of elCtx.$scopeIds$) {\n                styleClasses.push(styleHost(styleId));\n            }\n            const value = serializeSStyle(elCtx.$scopeIds$);\n            if (value) {\n                attributes[QScopedStyle] = value;\n            }\n        }\n        const newID = getNextIndex(ssrCtx.rctx);\n        attributes[ELEMENT_ID] = newID;\n        elCtx.$id$ = newID;\n        ssrCtx.$contexts$.push(elCtx);\n        const processedNode = jsx(node.type, {\n            ...attributes,\n            children: res.node,\n        }, node.key);\n        flags |= IS_HOST;\n        newSSrContext.hostCtx = elCtx;\n        return renderNodeVirtual(processedNode, elCtx, extraNodes, newSSrContext, stream, flags, (stream) => {\n            return then(renderQTemplates(newSSrContext, stream), () => {\n                return beforeClose?.(stream);\n            });\n        });\n    });\n};\nconst renderQTemplates = (ssrContext, stream) => {\n    const projectedChildren = ssrContext.projectedChildren;\n    if (projectedChildren) {\n        const nodes = Object.keys(projectedChildren).map((slotName) => {\n            const value = projectedChildren[slotName];\n            if (value) {\n                return jsx('q:template', {\n                    [QSlot]: slotName,\n                    hidden: '',\n                    'aria-hidden': 'true',\n                    children: value,\n                });\n            }\n        });\n        return processData(nodes, ssrContext, stream, 0, undefined);\n    }\n};\nconst splitProjectedChildren = (children, ssrCtx) => {\n    const flatChildren = flatVirtualChildren(children, ssrCtx);\n    if (flatChildren === null) {\n        return undefined;\n    }\n    const slotMap = {};\n    for (const child of flatChildren) {\n        let slotName = '';\n        if (isJSXNode(child)) {\n            slotName = child.props[QSlot] ?? '';\n        }\n        let array = slotMap[slotName];\n        if (!array) {\n            slotMap[slotName] = array = [];\n        }\n        array.push(child);\n    }\n    return slotMap;\n};\nexport const renderNode = (node, ssrCtx, stream, flags, beforeClose) => {\n    if (typeof node.type === 'string') {\n        return renderNodeElement(node, undefined, undefined, ssrCtx, stream, flags, beforeClose);\n    }\n    else {\n        return renderNodeFunction(node, ssrCtx, stream, flags, beforeClose);\n    }\n};\nexport const processData = (node, ssrCtx, stream, flags, beforeClose) => {\n    if (node == null || typeof node === 'boolean') {\n        return;\n    }\n    if (isJSXNode(node)) {\n        return renderNode(node, ssrCtx, stream, flags, beforeClose);\n    }\n    else if (isPromise(node)) {\n        return node.then((node) => processData(node, ssrCtx, stream, flags, beforeClose));\n    }\n    else if (isArray(node)) {\n        node = _flatVirtualChildren(node, ssrCtx);\n        return walkChildren(node, ssrCtx, stream, flags);\n    }\n    else if (isString(node) || typeof node === 'number') {\n        if ((flags & IS_RAW_CONTENT) !== 0) {\n            stream.write(String(node));\n        }\n        else {\n            stream.write(escape(String(node)));\n        }\n    }\n    else {\n        logWarn('A unsupported value was passed to the JSX, skipping render. Value:', node);\n    }\n};\nfunction walkChildren(children, ssrContext, stream, flags) {\n    if (children == null) {\n        return;\n    }\n    if (!isArray(children)) {\n        return processData(children, ssrContext, stream, flags);\n    }\n    if (children.length === 1) {\n        return processData(children[0], ssrContext, stream, flags);\n    }\n    if (children.length === 0) {\n        return;\n    }\n    let currentIndex = 0;\n    const buffers = [];\n    return children.reduce((prevPromise, child, index) => {\n        const buffer = [];\n        buffers.push(buffer);\n        const localStream = {\n            write(chunk) {\n                if (currentIndex === index) {\n                    stream.write(chunk);\n                }\n                else {\n                    buffer.push(chunk);\n                }\n            },\n        };\n        return then(processData(child, ssrContext, localStream, flags), () => {\n            return then(prevPromise, () => {\n                currentIndex++;\n                if (buffers.length > currentIndex) {\n                    buffers[currentIndex].forEach((chunk) => stream.write(chunk));\n                }\n            });\n        });\n    }, undefined);\n}\nexport const flatVirtualChildren = (children, ssrCtx) => {\n    if (children == null) {\n        return null;\n    }\n    const result = _flatVirtualChildren(children, ssrCtx);\n    const nodes = isArray(result) ? result : [result];\n    if (nodes.length === 0) {\n        return null;\n    }\n    return nodes;\n};\nexport const _flatVirtualChildren = (children, ssrCtx) => {\n    if (children == null) {\n        return null;\n    }\n    if (isArray(children)) {\n        return children.flatMap((c) => _flatVirtualChildren(c, ssrCtx));\n    }\n    else if (isJSXNode(children) &&\n        isFunction(children.type) &&\n        children.type !== SSRComment &&\n        children.type !== Virtual) {\n        const fn = children.type;\n        const res = ssrCtx.invocationContext\n            ? invoke(ssrCtx.invocationContext, () => fn(children.props, children.key))\n            : fn(children.props, children.key);\n        return flatVirtualChildren(res, ssrCtx);\n    }\n    return children;\n};\nconst updateProperties = (rctx, ctx, expectProps) => {\n    const attributes = {};\n    if (!expectProps) {\n        return attributes;\n    }\n    const keys = Object.keys(expectProps);\n    if (keys.length === 0) {\n        return attributes;\n    }\n    const elm = ctx.$element$;\n    for (const key of keys) {\n        if (key === 'children' || key === OnRenderProp) {\n            continue;\n        }\n        const newValue = expectProps[key];\n        if (key === 'ref') {\n            newValue.current = elm;\n            continue;\n        }\n        // Early exit if value didnt change\n        // Check of data- or aria-\n        if (key.startsWith('data-') || key.startsWith('aria-')) {\n            attributes[key] = newValue;\n            continue;\n        }\n        if (isOnProp(key)) {\n            const attributeName = normalizeOnProp(key.slice(0, -1));\n            addQRLListener(ctx, attributeName, newValue);\n            continue;\n        }\n        // Check if its an exception\n        setProperty(attributes, key, newValue);\n    }\n    return attributes;\n};\nconst updateComponentProperties = (rctx, ctx, expectProps) => {\n    const attributes = {};\n    if (!expectProps) {\n        return attributes;\n    }\n    const keys = Object.keys(expectProps);\n    if (keys.length === 0) {\n        return attributes;\n    }\n    const qwikProps = getPropsMutator(ctx, rctx.$containerState$);\n    for (const key of keys) {\n        if (key === 'children' || key === OnRenderProp) {\n            continue;\n        }\n        const newValue = expectProps[key];\n        const skipProperty = ALLOWS_PROPS.includes(key);\n        if (!skipProperty) {\n            // Qwik props\n            qwikProps.set(key, newValue);\n            continue;\n        }\n        setProperty(attributes, key, newValue);\n    }\n    return attributes;\n};\nfunction setProperty(attributes, prop, value) {\n    if (value != null && value !== false) {\n        prop = processPropKey(prop);\n        const attrValue = processPropValue(prop, value, attributes[prop]);\n        if (attrValue !== null) {\n            attributes[prop] = attrValue;\n        }\n    }\n}\nfunction processPropKey(prop) {\n    if (prop === 'className') {\n        return 'class';\n    }\n    return prop;\n}\nfunction processPropValue(prop, value, prevValue) {\n    if (prop === 'class') {\n        const str = joinClasses(value, prevValue);\n        return str === '' ? null : str;\n    }\n    if (prop === 'style') {\n        return stringifyStyle(value);\n    }\n    if (value === false || value == null) {\n        return null;\n    }\n    if (value === true) {\n        return '';\n    }\n    return String(value);\n}\nconst hasRawContent = {\n    style: true,\n    script: true,\n};\nconst emptyElements = {\n    area: true,\n    base: true,\n    basefont: true,\n    bgsound: true,\n    br: true,\n    col: true,\n    embed: true,\n    frame: true,\n    hr: true,\n    img: true,\n    input: true,\n    keygen: true,\n    link: true,\n    meta: true,\n    param: true,\n    source: true,\n    track: true,\n    wbr: true,\n};\nexport const escape = (s) => {\n    return s.replace(/[&<>\\u00A0]/g, (c) => {\n        switch (c) {\n            case '&':\n                return '&amp;';\n            case '<':\n                return '&lt;';\n            case '>':\n                return '&gt;';\n            case '\\u00A0':\n                return '&nbsp;';\n            default:\n                return '';\n        }\n    });\n};\nexport const escapeAttr = (s) => {\n    const toEscape = /[&\"\\u00A0]/g;\n    if (!toEscape.test(s)) {\n        // nothing to do, fast path\n        return s;\n    }\n    else {\n        return s.replace(toEscape, (c) => {\n            switch (c) {\n                case '&':\n                    return '&amp;';\n                case '\"':\n                    return '&quot;';\n                case '\\u00A0':\n                    return '&nbsp;';\n                default:\n                    return '';\n            }\n        });\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLXNzci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvc3NyL3JlbmRlci1zc3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDckUsT0FBTyxFQUFpQixnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUM3RSxPQUFPLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBa0IsTUFBTSxrQkFBa0IsQ0FBQztBQUNqRixPQUFPLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQVksTUFBTSxtQkFBbUIsQ0FBQztBQUUzRixPQUFPLEVBQ0wsWUFBWSxFQUNaLGlCQUFpQixFQUNqQixtQkFBbUIsRUFDbkIsZ0JBQWdCLEVBQ2hCLFlBQVksRUFDWixXQUFXLEVBQ1gsY0FBYyxHQUNmLE1BQU0sc0JBQXNCLENBQUM7QUFDOUIsT0FBTyxFQUNMLFVBQVUsRUFDVixZQUFZLEVBQ1osWUFBWSxFQUNaLEtBQUssRUFDTCxTQUFTLEVBQ1QsUUFBUSxFQUNSLE1BQU0sR0FDUCxNQUFNLG9CQUFvQixDQUFDO0FBQzVCLE9BQU8sRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDekQsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxjQUFjLEVBQUUsUUFBUSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDaEUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4QyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFrQixpQkFBaUIsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUVqRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDcEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUV4RSxPQUFPLEVBQUUsMEJBQTBCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQWdDcEUsTUFBTSxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2QixNQUFNLE9BQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLE1BQU0sY0FBYyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFFOUI7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsS0FBSyxFQUFFLEdBQWEsRUFBRSxJQUFhLEVBQUUsSUFBc0IsRUFBRSxFQUFFO0lBQ3RGLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUNuQyxNQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVDLE1BQU0sY0FBYyxHQUFHLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3RELE1BQU0sSUFBSSxHQUFHLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxjQUFjLENBQUMsQ0FBQztJQUN0RCxNQUFNLE1BQU0sR0FBZTtRQUN6QixJQUFJO1FBQ0osVUFBVSxFQUFFLEVBQUU7UUFDZCxpQkFBaUIsRUFBRSxTQUFTO1FBQzVCLGdCQUFnQixFQUFFLFNBQVM7UUFDM0IsT0FBTyxFQUFFLFNBQVM7UUFDbEIsaUJBQWlCLEVBQUUsU0FBUztRQUM1QixTQUFTLEVBQUUsRUFBRTtLQUNkLENBQUM7SUFDRixNQUFNLGFBQWEsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQ3pDLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7SUFDckMsSUFBSSxhQUFhLEVBQUU7UUFDakIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsR0FBRyxhQUFhLENBQUMsQ0FBQztLQUN6QztJQUNELE1BQU0sbUJBQW1CLEdBQTJCO1FBQ2xELGFBQWEsRUFBRSxRQUFRO1FBQ3ZCLFdBQVcsRUFBRSxPQUFPLElBQUksS0FBSztRQUM3QixVQUFVLEVBQUUsS0FBSztLQUNsQixDQUFDO0lBQ0YsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFFO1FBQ2IsbUJBQW1CLENBQUMsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztLQUMzQztJQUNELElBQUksSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNaLGNBQWMsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQztLQUM1QztJQUNELElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtRQUNoQixNQUFNLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQ3ZEO0lBRUQsSUFBSSxJQUFJLEtBQUssTUFBTSxFQUFFO1FBQ25CLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxFQUFFO1lBQ2YsR0FBRyxtQkFBbUI7WUFDdEIsUUFBUSxFQUFFLENBQUMsSUFBSSxDQUFDO1NBQ2pCLENBQUMsQ0FBQztLQUNKO1NBQU07UUFDTCxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksRUFBRTtZQUNmLEdBQUcsbUJBQW1CO1lBQ3RCLFFBQVEsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUM7U0FDdEMsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxNQUFNLFVBQVUsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLEVBQUU7UUFDeEQsTUFBTSxNQUFNLEdBQUcsV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUNoRSxJQUFJLE1BQU0sRUFBRTtZQUNWLE9BQU8sV0FBVyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQztTQUMxRDtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsQ0FDaEMsSUFBa0IsRUFDbEIsTUFBa0IsRUFDbEIsTUFBb0IsRUFDcEIsS0FBYSxFQUNiLFdBQTRELEVBQzVELEVBQUU7SUFDRixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssVUFBVSxFQUFFO1FBQzVCLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ2hELE9BQU87S0FDUjtJQUNELElBQUksSUFBSSxDQUFDLElBQUksS0FBSyxPQUFPLEVBQUU7UUFDekIsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBQ3RFLE9BQU8saUJBQWlCLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7S0FDdEY7SUFDRCxNQUFNLEdBQUcsR0FBRyxNQUFNLENBQUMsaUJBQWlCO1FBQ2xDLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDekUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEMsT0FBTyxXQUFXLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQzlELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQy9CLElBQTZCLEVBQzdCLEtBQWUsRUFDZixVQUF5QyxFQUN6QyxNQUFrQixFQUNsQixNQUFvQixFQUNwQixLQUFhLEVBQ2IsV0FBNEQsRUFDNUQsRUFBRTtJQUNGLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDekIsTUFBTSxTQUFTLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3RDLElBQUksU0FBUyxFQUFFO1FBQ2IsS0FBSyxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUM7UUFDOUIsT0FBTyxrQkFBa0IsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0tBQzVFO0lBQ0QsTUFBTSxFQUFFLFFBQVEsRUFBRSxHQUFHLFVBQVUsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFFL0MsTUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2xDLE1BQU0sTUFBTSxHQUFHLE9BQU8sUUFBUSxLQUFLLFFBQVEsQ0FBQztJQUM1QyxJQUFJLE1BQU0sRUFBRTtRQUNWLGFBQWEsQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxtQ0FBbUMsQ0FBQyxDQUFDO1FBQ3pFLFVBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztLQUM1QztJQUVELE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDdkQsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO1FBQ2YsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQztLQUMzQjtJQUNELE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztJQUNoRCxNQUFNLENBQUMsS0FBSyxDQUFDLFVBQVUsMEJBQTBCLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRTdELElBQUksVUFBVSxFQUFFO1FBQ2QsS0FBSyxNQUFNLElBQUksSUFBSSxVQUFVLEVBQUU7WUFDN0IscUJBQXFCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQ3REO0tBQ0Y7SUFDRCxNQUFNLE9BQU8sR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25FLE9BQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDeEIsWUFBWTtRQUNaLElBQUksQ0FBQyxNQUFNLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDM0IsTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUM1QixPQUFPO1NBQ1I7UUFFRCxJQUFJLE9BQTZCLENBQUM7UUFDbEMsSUFBSSxNQUFNLEVBQUU7WUFDVixNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNyRCxJQUFJLE9BQU8sRUFBRTtnQkFDWCxNQUFNLENBQUMsaUJBQWtCLENBQUMsUUFBUSxDQUFDLEdBQUcsU0FBUyxDQUFDO2dCQUNoRCxPQUFPLEdBQUcsV0FBVyxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsZ0JBQWlCLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO2FBQ3pFO1NBQ0Y7UUFDRCxzQkFBc0I7UUFDdEIsSUFBSSxXQUFXLEVBQUU7WUFDZixPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztTQUNwRDtRQUVELE9BQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7WUFDeEIsTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUM5QixDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxhQUFhLEdBQUcsWUFBWSxDQUFDO0FBRW5DLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQy9CLElBQXFCLEVBQ3JCLGVBQStELEVBQy9ELFVBQXlDLEVBQ3pDLE1BQWtCLEVBQ2xCLE1BQW9CLEVBQ3BCLEtBQWEsRUFDYixXQUE0RCxFQUN0QyxFQUFFO0lBQ3hCLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDdkQsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUN6QixNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzNCLE1BQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDckUsTUFBTSxNQUFNLEdBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQztJQUM5QixNQUFNLFVBQVUsR0FBRyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztJQUMvRCxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO0lBQy9CLElBQUksT0FBTyxFQUFFO1FBQ1gsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLFdBQVcsQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1FBQzNFLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxXQUFZLENBQUM7UUFDakMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRTtZQUM1QixHQUFHLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDO1lBQy9CLE9BQU8sQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxFQUFFO2dCQUM5QyxjQUFjLENBQUMsS0FBSyxFQUFFLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQztZQUN4QyxDQUFDLENBQUMsQ0FBQztTQUNKO0tBQ0Y7SUFFRCxtQkFBbUI7SUFDbkIsSUFBSSxRQUFRLEtBQUssTUFBTSxFQUFFO1FBQ3ZCLEtBQUssSUFBSSxPQUFPLENBQUM7S0FDbEI7SUFFRCxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsV0FBVyxDQUFDO0lBQ3BDLE1BQU0sTUFBTSxHQUFHLEtBQUssR0FBRyxPQUFPLENBQUM7SUFFL0IsSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO1FBQ2YsVUFBVSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQztLQUMzQjtJQUNELElBQUksTUFBTSxJQUFJLFNBQVMsRUFBRTtRQUN2QixNQUFNLEtBQUssR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3hDLFVBQVUsQ0FBQyxVQUFVLENBQUMsR0FBRyxLQUFLLENBQUM7UUFDL0IsS0FBSyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUM7UUFDbkIsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDL0I7SUFDRCxJQUFJLE1BQU0sRUFBRTtRQUNWLFVBQVUsQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDM0I7SUFDRCxJQUFJLGVBQWUsRUFBRTtRQUNuQixNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxlQUFlLENBQUMsQ0FBQztLQUM1QztJQUNELElBQUksS0FBSyxDQUFDLFdBQVcsRUFBRTtRQUNyQixLQUFLLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRTtZQUN2QyxVQUFVLENBQUMsb0JBQW9CLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxhQUFhLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQ3RFLENBQUMsQ0FBQyxDQUFDO0tBQ0o7SUFDRCxJQUFJLHFCQUFxQixDQUFDLFFBQVEsRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLEVBQUU7UUFDdkQsT0FBTztLQUNSO0lBRUQsSUFBSSxRQUFRLEtBQUssTUFBTSxFQUFFO1FBQ3ZCLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQztLQUNuQjtJQUNELElBQUksYUFBYSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBQzNCLEtBQUssSUFBSSxjQUFjLENBQUM7S0FDekI7U0FBTTtRQUNMLEtBQUssSUFBSSxDQUFDLGNBQWMsQ0FBQztLQUMxQjtJQUVELElBQUksVUFBVSxFQUFFO1FBQ2QsS0FBSyxNQUFNLElBQUksSUFBSSxVQUFVLEVBQUU7WUFDN0IscUJBQXFCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQ3REO0tBQ0Y7SUFDRCxNQUFNLE9BQU8sR0FBRyxXQUFXLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25FLE9BQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUU7UUFDeEIsNkJBQTZCO1FBQzdCLElBQUksUUFBUSxLQUFLLE1BQU0sRUFBRTtZQUN2QixNQUFNLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO2dCQUNoQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7WUFDdkQsQ0FBQyxDQUFDLENBQUM7U0FDSjtRQUNELFlBQVk7UUFDWixJQUFJLENBQUMsV0FBVyxFQUFFO1lBQ2hCLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1lBQy9CLE9BQU87U0FDUjtRQUVELHNCQUFzQjtRQUN0QixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxFQUFFO1lBQ3BDLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxRQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxxQkFBcUIsR0FBRyxDQUNuQyxPQUFlLEVBQ2YsVUFBa0MsRUFDbEMsTUFBb0IsRUFDWCxFQUFFO0lBQ1gsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFDNUIsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxFQUFFO1FBQ2xELElBQUksR0FBRyxLQUFLLHlCQUF5QixJQUFJLEdBQUcsS0FBSyxVQUFVLEVBQUU7WUFDM0QsSUFBSSxHQUFHLEtBQUssT0FBTyxJQUFJLENBQUMsS0FBSyxFQUFFO2dCQUM3QixPQUFPO2FBQ1I7WUFDRCxNQUFNLEtBQUssR0FBRyxLQUFLLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsS0FBSyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQztZQUMxRSxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3JCO0lBQ0gsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2xCLE1BQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdkMsSUFBSSxLQUFLLEVBQUU7UUFDVCxPQUFPLElBQUksQ0FBQztLQUNiO0lBRUQsbUJBQW1CO0lBQ25CLE1BQU0sU0FBUyxHQUFHLFVBQVUsQ0FBQyx1QkFBdUIsQ0FBQztJQUNyRCxJQUFJLFNBQVMsRUFBRTtRQUNiLE1BQU0sQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDeEIsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLE9BQU8sR0FBRyxDQUFDLENBQUM7UUFDOUIsT0FBTyxJQUFJLENBQUM7S0FDYjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsQ0FBTSxFQUFFLENBQU0sRUFBUyxFQUFFO0lBQ3JELE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQztJQUNsQixJQUFJLENBQUMsRUFBRTtRQUNMLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ2QsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ25CO2FBQU07WUFDTCxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hCO0tBQ0Y7SUFDRCxJQUFJLENBQUMsRUFBRTtRQUNMLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBQ2QsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ25CO2FBQU07WUFDTCxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2hCO0tBQ0Y7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUNoQyxNQUFrQixFQUNsQixNQUFvQixFQUNwQixLQUFlLEVBQ2YsSUFBNkIsRUFDN0IsS0FBYSxFQUNiLFdBQTRELEVBQ3RDLEVBQUU7SUFDeEIsTUFBTSxVQUFVLEdBQTJCLHlCQUF5QixDQUNsRSxNQUFNLENBQUMsSUFBSSxFQUNYLEtBQUssRUFDTCxJQUFJLENBQUMsS0FBSyxDQUNYLENBQUM7SUFDRixPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUU7UUFDeEQsSUFBSSxDQUFDLEdBQUcsRUFBRTtZQUNSLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUM7WUFDOUIsT0FBTztTQUNSO1FBRUQsTUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQztRQUNwQyxNQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBQ3hCLElBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO1FBQ25DLElBQUksUUFBUSxFQUFFO1lBQ1osSUFBSSxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUU7Z0JBQ3JCLElBQUksUUFBUSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO29CQUMvQyxRQUFRLEdBQUcsU0FBUyxDQUFDO2lCQUN0QjthQUNGO2lCQUFNO2dCQUNMLFFBQVEsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3ZCO1NBQ0Y7UUFDRCxNQUFNLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQ2pGLGlCQUFpQixDQUFDLFlBQVksR0FBRyxXQUFXLENBQUM7UUFDN0MsaUJBQWlCLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQztRQUN2QyxNQUFNLGdCQUFnQixHQUFlO1lBQ25DLEdBQUcsTUFBTTtZQUNULElBQUksRUFBRSxpQkFBaUIsQ0FBQyxNQUFNLENBQUM7U0FDaEMsQ0FBQztRQUNGLE1BQU0sYUFBYSxHQUFlO1lBQ2hDLEdBQUcsTUFBTTtZQUNULGlCQUFpQixFQUFFLHNCQUFzQixDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7WUFDM0QsZ0JBQWdCO1lBQ2hCLElBQUksRUFBRSxNQUFNO1lBQ1osaUJBQWlCO1NBQ2xCLENBQUM7UUFFRixNQUFNLFVBQVUsR0FBRyxFQUFFLENBQUM7UUFDdEIsTUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLElBQUksS0FBSyxDQUFDLGNBQWMsRUFBRTtZQUN4QixLQUFLLE1BQU0sS0FBSyxJQUFJLEtBQUssQ0FBQyxjQUFjLEVBQUU7Z0JBQ3hDLFVBQVcsQ0FBQyxJQUFJLENBQ2QsR0FBRyxDQUFDLE9BQU8sRUFBRTtvQkFDWCxDQUFDLE1BQU0sQ0FBQyxFQUFFLEtBQUssQ0FBQyxPQUFPO29CQUN2Qix1QkFBdUIsRUFBRSxLQUFLLENBQUMsT0FBTztpQkFDdkMsQ0FBQyxDQUNILENBQUM7YUFDSDtTQUNGO1FBQ0QsSUFBSSxLQUFLLENBQUMsVUFBVSxFQUFFO1lBQ3BCLEtBQUssTUFBTSxPQUFPLElBQUksS0FBSyxDQUFDLFVBQVUsRUFBRTtnQkFDdEMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQzthQUN2QztZQUNELE1BQU0sS0FBSyxHQUFHLGVBQWUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDaEQsSUFBSSxLQUFLLEVBQUU7Z0JBQ1QsVUFBVSxDQUFDLFlBQVksQ0FBQyxHQUFHLEtBQUssQ0FBQzthQUNsQztTQUNGO1FBQ0QsTUFBTSxLQUFLLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QyxVQUFVLENBQUMsVUFBVSxDQUFDLEdBQUcsS0FBSyxDQUFDO1FBQy9CLEtBQUssQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDO1FBQ25CLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRTlCLE1BQU0sYUFBYSxHQUFHLEdBQUcsQ0FDdkIsSUFBSSxDQUFDLElBQUksRUFDVDtZQUNFLEdBQUcsVUFBVTtZQUNiLFFBQVEsRUFBRSxHQUFHLENBQUMsSUFBSTtTQUNuQixFQUNELElBQUksQ0FBQyxHQUFHLENBQ1QsQ0FBQztRQUVGLEtBQUssSUFBSSxPQUFPLENBQUM7UUFDakIsYUFBYSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFFOUIsT0FBTyxpQkFBaUIsQ0FDdEIsYUFBYSxFQUNiLEtBQUssRUFDTCxVQUFVLEVBQ1YsYUFBYSxFQUNiLE1BQU0sRUFDTixLQUFLLEVBQ0wsQ0FBQyxNQUFNLEVBQUUsRUFBRTtZQUNULE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsRUFBRSxNQUFNLENBQUMsRUFBRSxHQUFHLEVBQUU7Z0JBQ3hELE9BQU8sV0FBVyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDL0IsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQ0YsQ0FBQztJQUNKLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxnQkFBZ0IsR0FBRyxDQUFDLFVBQXNCLEVBQUUsTUFBb0IsRUFBRSxFQUFFO0lBQ3hFLE1BQU0saUJBQWlCLEdBQUcsVUFBVSxDQUFDLGlCQUFpQixDQUFDO0lBQ3ZELElBQUksaUJBQWlCLEVBQUU7UUFDckIsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQzVELE1BQU0sS0FBSyxHQUFHLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzFDLElBQUksS0FBSyxFQUFFO2dCQUNULE9BQU8sR0FBRyxDQUFDLFlBQVksRUFBRTtvQkFDdkIsQ0FBQyxLQUFLLENBQUMsRUFBRSxRQUFRO29CQUNqQixNQUFNLEVBQUUsRUFBRTtvQkFDVixhQUFhLEVBQUUsTUFBTTtvQkFDckIsUUFBUSxFQUFFLEtBQUs7aUJBQ2hCLENBQUMsQ0FBQzthQUNKO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDSCxPQUFPLFdBQVcsQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7S0FDN0Q7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLHNCQUFzQixHQUFHLENBQUMsUUFBYSxFQUFFLE1BQWtCLEVBQUUsRUFBRTtJQUNuRSxNQUFNLFlBQVksR0FBRyxtQkFBbUIsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDM0QsSUFBSSxZQUFZLEtBQUssSUFBSSxFQUFFO1FBQ3pCLE9BQU8sU0FBUyxDQUFDO0tBQ2xCO0lBQ0QsTUFBTSxPQUFPLEdBQTBCLEVBQUUsQ0FBQztJQUUxQyxLQUFLLE1BQU0sS0FBSyxJQUFJLFlBQVksRUFBRTtRQUNoQyxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUM7UUFDbEIsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDcEIsUUFBUSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ3JDO1FBQ0QsSUFBSSxLQUFLLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDVixPQUFPLENBQUMsUUFBUSxDQUFDLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQztTQUNoQztRQUNELEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDbkI7SUFDRCxPQUFPLE9BQU8sQ0FBQztBQUNqQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FDeEIsSUFBa0IsRUFDbEIsTUFBa0IsRUFDbEIsTUFBb0IsRUFDcEIsS0FBYSxFQUNiLFdBQTRELEVBQzVELEVBQUU7SUFDRixJQUFJLE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7UUFDakMsT0FBTyxpQkFBaUIsQ0FBQyxJQUFXLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztLQUNqRztTQUFNO1FBQ0wsT0FBTyxrQkFBa0IsQ0FBQyxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsV0FBVyxDQUFDLENBQUM7S0FDckU7QUFDSCxDQUFDLENBQUM7QUFDRixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FDekIsSUFBUyxFQUNULE1BQWtCLEVBQ2xCLE1BQW9CLEVBQ3BCLEtBQWEsRUFDYixXQUE0RCxFQUN0QyxFQUFFO0lBQ3hCLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxPQUFPLElBQUksS0FBSyxTQUFTLEVBQUU7UUFDN0MsT0FBTztLQUNSO0lBQ0QsSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDbkIsT0FBTyxVQUFVLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0tBQzdEO1NBQU0sSUFBSSxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDMUIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUM7S0FDbkY7U0FBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUN4QixJQUFJLEdBQUcsb0JBQW9CLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBQzFDLE9BQU8sWUFBWSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQ2xEO1NBQU0sSUFBSSxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxFQUFFO1FBQ3JELElBQUksQ0FBQyxLQUFLLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUFFO1lBQ2xDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDNUI7YUFBTTtZQUNMLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDcEM7S0FDRjtTQUFNO1FBQ0wsT0FBTyxDQUFDLG9FQUFvRSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ3JGO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsU0FBUyxZQUFZLENBQ25CLFFBQWEsRUFDYixVQUFzQixFQUN0QixNQUFvQixFQUNwQixLQUFhO0lBRWIsSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFO1FBQ3BCLE9BQU87S0FDUjtJQUNELElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLEVBQUU7UUFDdEIsT0FBTyxXQUFXLENBQUMsUUFBUSxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDekQ7SUFDRCxJQUFJLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQ3pCLE9BQU8sV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQzVEO0lBQ0QsSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUN6QixPQUFPO0tBQ1I7SUFFRCxJQUFJLFlBQVksR0FBRyxDQUFDLENBQUM7SUFDckIsTUFBTSxPQUFPLEdBQWUsRUFBRSxDQUFDO0lBQy9CLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDbkQsTUFBTSxNQUFNLEdBQWEsRUFBRSxDQUFDO1FBQzVCLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckIsTUFBTSxXQUFXLEdBQWlCO1lBQ2hDLEtBQUssQ0FBQyxLQUFLO2dCQUNULElBQUksWUFBWSxLQUFLLEtBQUssRUFBRTtvQkFDMUIsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDckI7cUJBQU07b0JBQ0wsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztpQkFDcEI7WUFDSCxDQUFDO1NBQ0YsQ0FBQztRQUNGLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxLQUFLLENBQUMsRUFBRSxHQUFHLEVBQUU7WUFDbkUsT0FBTyxJQUFJLENBQUMsV0FBVyxFQUFFLEdBQUcsRUFBRTtnQkFDNUIsWUFBWSxFQUFFLENBQUM7Z0JBQ2YsSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLFlBQVksRUFBRTtvQkFDakMsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2lCQUMvRDtZQUNILENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7QUFDaEIsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLENBQUMsUUFBYSxFQUFFLE1BQWtCLEVBQWdCLEVBQUU7SUFDckYsSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFO1FBQ3BCLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxNQUFNLE1BQU0sR0FBRyxvQkFBb0IsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdEQsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEQsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtRQUN0QixPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLFFBQWEsRUFBRSxNQUFrQixFQUFPLEVBQUU7SUFDN0UsSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFO1FBQ3BCLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxJQUFJLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtRQUNyQixPQUFPLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLG9CQUFvQixDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0tBQ2pFO1NBQU0sSUFDTCxTQUFTLENBQUMsUUFBUSxDQUFDO1FBQ25CLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ3pCLFFBQVEsQ0FBQyxJQUFJLEtBQUssVUFBVTtRQUM1QixRQUFRLENBQUMsSUFBSSxLQUFLLE9BQU8sRUFDekI7UUFDQSxNQUFNLEVBQUUsR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQ3pCLE1BQU0sR0FBRyxHQUFHLE1BQU0sQ0FBQyxpQkFBaUI7WUFDbEMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzFFLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDckMsT0FBTyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDekM7SUFDRCxPQUFPLFFBQVEsQ0FBQztBQUNsQixDQUFDLENBQUM7QUFFRixNQUFNLGdCQUFnQixHQUFHLENBQ3ZCLElBQW1CLEVBQ25CLEdBQWEsRUFDYixXQUF1QyxFQUN2QyxFQUFFO0lBQ0YsTUFBTSxVQUFVLEdBQTJCLEVBQUUsQ0FBQztJQUM5QyxJQUFJLENBQUMsV0FBVyxFQUFFO1FBQ2hCLE9BQU8sVUFBVSxDQUFDO0tBQ25CO0lBQ0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN0QyxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLE9BQU8sVUFBVSxDQUFDO0tBQ25CO0lBQ0QsTUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQztJQUMxQixLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtRQUN0QixJQUFJLEdBQUcsS0FBSyxVQUFVLElBQUksR0FBRyxLQUFLLFlBQVksRUFBRTtZQUM5QyxTQUFTO1NBQ1Y7UUFDRCxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEMsSUFBSSxHQUFHLEtBQUssS0FBSyxFQUFFO1lBQ2hCLFFBQXlCLENBQUMsT0FBTyxHQUFHLEdBQWMsQ0FBQztZQUNwRCxTQUFTO1NBQ1Y7UUFFRCxtQ0FBbUM7UUFDbkMsMEJBQTBCO1FBQzFCLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ3RELFVBQVUsQ0FBQyxHQUFHLENBQUMsR0FBRyxRQUFRLENBQUM7WUFDM0IsU0FBUztTQUNWO1FBRUQsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUU7WUFDakIsTUFBTSxhQUFhLEdBQUcsZUFBZSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN4RCxjQUFjLENBQUMsR0FBRyxFQUFFLGFBQWEsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUM3QyxTQUFTO1NBQ1Y7UUFFRCw0QkFBNEI7UUFDNUIsV0FBVyxDQUFDLFVBQVUsRUFBRSxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FDeEM7SUFDRCxPQUFPLFVBQVUsQ0FBQztBQUNwQixDQUFDLENBQUM7QUFFRixNQUFNLHlCQUF5QixHQUFHLENBQ2hDLElBQW1CLEVBQ25CLEdBQWEsRUFDYixXQUF1QyxFQUN2QyxFQUFFO0lBQ0YsTUFBTSxVQUFVLEdBQTJCLEVBQUUsQ0FBQztJQUM5QyxJQUFJLENBQUMsV0FBVyxFQUFFO1FBQ2hCLE9BQU8sVUFBVSxDQUFDO0tBQ25CO0lBQ0QsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN0QyxJQUFJLElBQUksQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1FBQ3JCLE9BQU8sVUFBVSxDQUFDO0tBQ25CO0lBQ0QsTUFBTSxTQUFTLEdBQUcsZUFBZSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUM5RCxLQUFLLE1BQU0sR0FBRyxJQUFJLElBQUksRUFBRTtRQUN0QixJQUFJLEdBQUcsS0FBSyxVQUFVLElBQUksR0FBRyxLQUFLLFlBQVksRUFBRTtZQUM5QyxTQUFTO1NBQ1Y7UUFDRCxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFbEMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQ2pCLGFBQWE7WUFDYixTQUFTLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUM3QixTQUFTO1NBQ1Y7UUFDRCxXQUFXLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztLQUN4QztJQUNELE9BQU8sVUFBVSxDQUFDO0FBQ3BCLENBQUMsQ0FBQztBQUVGLFNBQVMsV0FBVyxDQUFDLFVBQWtDLEVBQUUsSUFBWSxFQUFFLEtBQVU7SUFDL0UsSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssS0FBSyxLQUFLLEVBQUU7UUFDcEMsSUFBSSxHQUFHLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM1QixNQUFNLFNBQVMsR0FBRyxnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksU0FBUyxLQUFLLElBQUksRUFBRTtZQUN0QixVQUFVLENBQUMsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDO1NBQzlCO0tBQ0Y7QUFDSCxDQUFDO0FBRUQsU0FBUyxjQUFjLENBQUMsSUFBWTtJQUNsQyxJQUFJLElBQUksS0FBSyxXQUFXLEVBQUU7UUFDeEIsT0FBTyxPQUFPLENBQUM7S0FDaEI7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUM7QUFFRCxTQUFTLGdCQUFnQixDQUFDLElBQVksRUFBRSxLQUFVLEVBQUUsU0FBNkI7SUFDL0UsSUFBSSxJQUFJLEtBQUssT0FBTyxFQUFFO1FBQ3BCLE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDMUMsT0FBTyxHQUFHLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztLQUNoQztJQUNELElBQUksSUFBSSxLQUFLLE9BQU8sRUFBRTtRQUNwQixPQUFPLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztLQUM5QjtJQUNELElBQUksS0FBSyxLQUFLLEtBQUssSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO1FBQ3BDLE9BQU8sSUFBSSxDQUFDO0tBQ2I7SUFDRCxJQUFJLEtBQUssS0FBSyxJQUFJLEVBQUU7UUFDbEIsT0FBTyxFQUFFLENBQUM7S0FDWDtJQUNELE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3ZCLENBQUM7QUFFRCxNQUFNLGFBQWEsR0FBcUM7SUFDdEQsS0FBSyxFQUFFLElBQUk7SUFDWCxNQUFNLEVBQUUsSUFBSTtDQUNiLENBQUM7QUFFRixNQUFNLGFBQWEsR0FBcUM7SUFDdEQsSUFBSSxFQUFFLElBQUk7SUFDVixJQUFJLEVBQUUsSUFBSTtJQUNWLFFBQVEsRUFBRSxJQUFJO0lBQ2QsT0FBTyxFQUFFLElBQUk7SUFDYixFQUFFLEVBQUUsSUFBSTtJQUNSLEdBQUcsRUFBRSxJQUFJO0lBQ1QsS0FBSyxFQUFFLElBQUk7SUFDWCxLQUFLLEVBQUUsSUFBSTtJQUNYLEVBQUUsRUFBRSxJQUFJO0lBQ1IsR0FBRyxFQUFFLElBQUk7SUFDVCxLQUFLLEVBQUUsSUFBSTtJQUNYLE1BQU0sRUFBRSxJQUFJO0lBQ1osSUFBSSxFQUFFLElBQUk7SUFDVixJQUFJLEVBQUUsSUFBSTtJQUNWLEtBQUssRUFBRSxJQUFJO0lBQ1gsTUFBTSxFQUFFLElBQUk7SUFDWixLQUFLLEVBQUUsSUFBSTtJQUNYLEdBQUcsRUFBRSxJQUFJO0NBQ1YsQ0FBQztBQVNGLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQVMsRUFBRSxFQUFFO0lBQ2xDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxjQUFjLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtRQUNyQyxRQUFRLENBQUMsRUFBRTtZQUNULEtBQUssR0FBRztnQkFDTixPQUFPLE9BQU8sQ0FBQztZQUNqQixLQUFLLEdBQUc7Z0JBQ04sT0FBTyxNQUFNLENBQUM7WUFDaEIsS0FBSyxHQUFHO2dCQUNOLE9BQU8sTUFBTSxDQUFDO1lBQ2hCLEtBQUssUUFBUTtnQkFDWCxPQUFPLFFBQVEsQ0FBQztZQUNsQjtnQkFDRSxPQUFPLEVBQUUsQ0FBQztTQUNiO0lBQ0gsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxDQUFTLEVBQUUsRUFBRTtJQUN0QyxNQUFNLFFBQVEsR0FBRyxhQUFhLENBQUM7SUFDL0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDckIsMkJBQTJCO1FBQzNCLE9BQU8sQ0FBQyxDQUFDO0tBQ1Y7U0FBTTtRQUNMLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUMvQixRQUFRLENBQUMsRUFBRTtnQkFDVCxLQUFLLEdBQUc7b0JBQ04sT0FBTyxPQUFPLENBQUM7Z0JBQ2pCLEtBQUssR0FBRztvQkFDTixPQUFPLFFBQVEsQ0FBQztnQkFDbEIsS0FBSyxRQUFRO29CQUNYLE9BQU8sUUFBUSxDQUFDO2dCQUNsQjtvQkFDRSxPQUFPLEVBQUUsQ0FBQzthQUNiO1FBQ0gsQ0FBQyxDQUFDLENBQUM7S0FDSjtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTm90TnVsbGFibGUsIGlzUHJvbWlzZSwgdGhlbiB9IGZyb20gJy4uLy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgSW52b2tlQ29udGV4dCwgbmV3SW52b2tlQ29udGV4dCwgaW52b2tlIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGlzSlNYTm9kZSwganN4IH0gZnJvbSAnLi4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uLy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCwgZ2V0UHJvcHNNdXRhdG9yLCBub3JtYWxpemVPblByb3AsIFFDb250ZXh0IH0gZnJvbSAnLi4vLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlIH0gZnJvbSAnLi4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7XG4gIEFMTE9XU19QUk9QUyxcbiAgY29weVJlbmRlckNvbnRleHQsXG4gIGNyZWF0ZVJlbmRlckNvbnRleHQsXG4gIGV4ZWN1dGVDb21wb25lbnQsXG4gIGdldE5leHRJbmRleCxcbiAgam9pbkNsYXNzZXMsXG4gIHN0cmluZ2lmeVN0eWxlLFxufSBmcm9tICcuLi9leGVjdXRlLWNvbXBvbmVudCc7XG5pbXBvcnQge1xuICBFTEVNRU5UX0lELFxuICBPblJlbmRlclByb3AsXG4gIFFTY29wZWRTdHlsZSxcbiAgUVNsb3QsXG4gIFFTbG90TmFtZSxcbiAgUVNsb3RSZWYsXG4gIFFTdHlsZSxcbn0gZnJvbSAnLi4vLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IFNTUkNvbW1lbnQsIFZpcnR1YWwgfSBmcm9tICcuLi9qc3gvaG9zdC5wdWJsaWMnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IGFkZFFSTExpc3RlbmVyLCBpc09uUHJvcCB9IGZyb20gJy4uLy4uL3Byb3BzL3Byb3BzLW9uJztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi8uLi92ZXJzaW9uJztcbmltcG9ydCB7IGZyb21DYW1lbFRvS2ViYWJDYXNlIH0gZnJvbSAnLi4vLi4vdXRpbC9jYXNlJztcbmltcG9ydCB7IHNlcmlhbGl6ZVFSTHMgfSBmcm9tICcuLi8uLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IENvbnRhaW5lclN0YXRlLCBnZXRDb250YWluZXJTdGF0ZSB9IGZyb20gJy4uL2NvbnRhaW5lcic7XG5pbXBvcnQgdHlwZSB7IFJlbmRlckNvbnRleHQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBzZXJpYWxpemVTU3R5bGUsIHN0eWxlSG9zdCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudC9xcmwtc3R5bGVzJztcbmltcG9ydCB0eXBlIHsgUmVmIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1yZWYnO1xuaW1wb3J0IHsgc2VyaWFsaXplVmlydHVhbEF0dHJpYnV0ZXMgfSBmcm9tICcuLi9kb20vdmlydHVhbC1lbGVtZW50JztcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtV3JpdGVyID0ge1xuICB3cml0ZTogKGNodW5rOiBzdHJpbmcpID0+IHZvaWQgfCBib29sZWFuIHwgUHJvbWlzZTx2b2lkPiB8IFByb21pc2U8Ym9vbGVhbj47XG59O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclNTUk9wdGlvbnMge1xuICBjb250YWluZXJUYWdOYW1lOiBzdHJpbmc7XG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyO1xuICBiYXNlPzogc3RyaW5nO1xuICBlbnZEYXRhPzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgdXJsPzogc3RyaW5nO1xuICBiZWZvcmVDb250ZW50PzogSlNYTm9kZVtdO1xuICBiZWZvcmVDbG9zZT86IChjb250ZXh0czogUUNvbnRleHRbXSwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiBQcm9taXNlPEpTWE5vZGU+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNTUkNvbnRleHQge1xuICByY3R4OiBSZW5kZXJDb250ZXh0O1xuICBwcm9qZWN0ZWRDaGlsZHJlbjogUmVjb3JkPHN0cmluZywgYW55W10gfCB1bmRlZmluZWQ+IHwgdW5kZWZpbmVkO1xuICBwcm9qZWN0ZWRDb250ZXh0OiBTU1JDb250ZXh0IHwgdW5kZWZpbmVkO1xuICBob3N0Q3R4OiBRQ29udGV4dCB8IHVuZGVmaW5lZDtcbiAgaW52b2NhdGlvbkNvbnRleHQ/OiBJbnZva2VDb250ZXh0IHwgdW5kZWZpbmVkO1xuICAkY29udGV4dHMkOiBRQ29udGV4dFtdO1xuICBoZWFkTm9kZXM6IEpTWE5vZGVbXTtcbn1cblxuY29uc3QgSVNfSE9TVCA9IDEgPDwgMDtcbmNvbnN0IElTX0hFQUQgPSAxIDw8IDE7XG5jb25zdCBJU19SQVdfQ09OVEVOVCA9IDEgPDwgMjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbmRlclNTUiA9IGFzeW5jIChkb2M6IERvY3VtZW50LCBub2RlOiBKU1hOb2RlLCBvcHRzOiBSZW5kZXJTU1JPcHRpb25zKSA9PiB7XG4gIGNvbnN0IHJvb3QgPSBvcHRzLmNvbnRhaW5lclRhZ05hbWU7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZG9jLmNyZWF0ZUVsZW1lbnQocm9vdCk7XG4gIGNvbnN0IGNvbnRhaW5lclN0YXRlID0gZ2V0Q29udGFpbmVyU3RhdGUoY29udGFpbmVyRWwpO1xuICBjb25zdCByY3R4ID0gY3JlYXRlUmVuZGVyQ29udGV4dChkb2MsIGNvbnRhaW5lclN0YXRlKTtcbiAgY29uc3Qgc3NyQ3R4OiBTU1JDb250ZXh0ID0ge1xuICAgIHJjdHgsXG4gICAgJGNvbnRleHRzJDogW10sXG4gICAgcHJvamVjdGVkQ2hpbGRyZW46IHVuZGVmaW5lZCxcbiAgICBwcm9qZWN0ZWRDb250ZXh0OiB1bmRlZmluZWQsXG4gICAgaG9zdEN0eDogdW5kZWZpbmVkLFxuICAgIGludm9jYXRpb25Db250ZXh0OiB1bmRlZmluZWQsXG4gICAgaGVhZE5vZGVzOiBbXSxcbiAgfTtcbiAgY29uc3QgYmVmb3JlQ29udGVudCA9IG9wdHMuYmVmb3JlQ29udGVudDtcbiAgY29uc3QgYmVmb3JlQ2xvc2UgPSBvcHRzLmJlZm9yZUNsb3NlO1xuICBpZiAoYmVmb3JlQ29udGVudCkge1xuICAgIHNzckN0eC5oZWFkTm9kZXMucHVzaCguLi5iZWZvcmVDb250ZW50KTtcbiAgfVxuICBjb25zdCBjb250YWluZXJBdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICdxOmNvbnRhaW5lcic6ICdwYXVzZWQnLFxuICAgICdxOnZlcnNpb24nOiB2ZXJzaW9uID8/ICdkZXYnLFxuICAgICdxOnJlbmRlcic6ICdzc3InLFxuICB9O1xuICBpZiAob3B0cy5iYXNlKSB7XG4gICAgY29udGFpbmVyQXR0cmlidXRlc1sncTpiYXNlJ10gPSBvcHRzLmJhc2U7XG4gIH1cbiAgaWYgKG9wdHMudXJsKSB7XG4gICAgY29udGFpbmVyU3RhdGUuJGVudkRhdGEkWyd1cmwnXSA9IG9wdHMudXJsO1xuICB9XG4gIGlmIChvcHRzLmVudkRhdGEpIHtcbiAgICBPYmplY3QuYXNzaWduKGNvbnRhaW5lclN0YXRlLiRlbnZEYXRhJCwgb3B0cy5lbnZEYXRhKTtcbiAgfVxuXG4gIGlmIChyb290ID09PSAnaHRtbCcpIHtcbiAgICBub2RlID0ganN4KHJvb3QsIHtcbiAgICAgIC4uLmNvbnRhaW5lckF0dHJpYnV0ZXMsXG4gICAgICBjaGlsZHJlbjogW25vZGVdLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG5vZGUgPSBqc3gocm9vdCwge1xuICAgICAgLi4uY29udGFpbmVyQXR0cmlidXRlcyxcbiAgICAgIGNoaWxkcmVuOiBbLi4uc3NyQ3R4LmhlYWROb2Rlcywgbm9kZV0sXG4gICAgfSk7XG4gIH1cbiAgYXdhaXQgcmVuZGVyTm9kZShub2RlLCBzc3JDdHgsIG9wdHMuc3RyZWFtLCAwLCAoc3RyZWFtKSA9PiB7XG4gICAgY29uc3QgcmVzdWx0ID0gYmVmb3JlQ2xvc2U/Lihzc3JDdHguJGNvbnRleHRzJCwgY29udGFpbmVyU3RhdGUpO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHJldHVybiBwcm9jZXNzRGF0YShyZXN1bHQsIHNzckN0eCwgc3RyZWFtLCAwLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyTm9kZUZ1bmN0aW9uID0gKFxuICBub2RlOiBKU1hOb2RlPGFueT4sXG4gIHNzckN0eDogU1NSQ29udGV4dCxcbiAgc3RyZWFtOiBTdHJlYW1Xcml0ZXIsXG4gIGZsYWdzOiBudW1iZXIsXG4gIGJlZm9yZUNsb3NlPzogKHN0cmVhbTogU3RyZWFtV3JpdGVyKSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkPlxuKSA9PiB7XG4gIGlmIChub2RlLnR5cGUgPT09IFNTUkNvbW1lbnQpIHtcbiAgICBzdHJlYW0ud3JpdGUoYDwhLS0ke25vZGUucHJvcHMuZGF0YSA/PyAnJ30tLT5gKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG5vZGUudHlwZSA9PT0gVmlydHVhbCkge1xuICAgIGNvbnN0IGVsQ3R4ID0gZ2V0Q29udGV4dChzc3JDdHgucmN0eC4kZG9jJC5jcmVhdGVFbGVtZW50KCc6dmlydHVhbCcpKTtcbiAgICByZXR1cm4gcmVuZGVyTm9kZVZpcnR1YWwobm9kZSwgZWxDdHgsIHVuZGVmaW5lZCwgc3NyQ3R4LCBzdHJlYW0sIGZsYWdzLCBiZWZvcmVDbG9zZSk7XG4gIH1cbiAgY29uc3QgcmVzID0gc3NyQ3R4Lmludm9jYXRpb25Db250ZXh0XG4gICAgPyBpbnZva2Uoc3NyQ3R4Lmludm9jYXRpb25Db250ZXh0LCAoKSA9PiBub2RlLnR5cGUobm9kZS5wcm9wcywgbm9kZS5rZXkpKVxuICAgIDogbm9kZS50eXBlKG5vZGUucHJvcHMsIG5vZGUua2V5KTtcbiAgcmV0dXJuIHByb2Nlc3NEYXRhKHJlcywgc3NyQ3R4LCBzdHJlYW0sIGZsYWdzLCBiZWZvcmVDbG9zZSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyTm9kZVZpcnR1YWwgPSAoXG4gIG5vZGU6IEpTWE5vZGU8dHlwZW9mIFZpcnR1YWw+LFxuICBlbEN0eDogUUNvbnRleHQsXG4gIGV4dHJhTm9kZXM6IEpTWE5vZGU8c3RyaW5nPltdIHwgdW5kZWZpbmVkLFxuICBzc3JDdHg6IFNTUkNvbnRleHQsXG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyLFxuICBmbGFnczogbnVtYmVyLFxuICBiZWZvcmVDbG9zZT86IChzdHJlYW06IFN0cmVhbVdyaXRlcikgPT4gVmFsdWVPclByb21pc2U8dm9pZD5cbikgPT4ge1xuICBjb25zdCBwcm9wcyA9IG5vZGUucHJvcHM7XG4gIGNvbnN0IHJlbmRlclFybCA9IHByb3BzW09uUmVuZGVyUHJvcF07XG4gIGlmIChyZW5kZXJRcmwpIHtcbiAgICBlbEN0eC4kcmVuZGVyUXJsJCA9IHJlbmRlclFybDtcbiAgICByZXR1cm4gcmVuZGVyU1NSQ29tcG9uZW50KHNzckN0eCwgc3RyZWFtLCBlbEN0eCwgbm9kZSwgZmxhZ3MsIGJlZm9yZUNsb3NlKTtcbiAgfVxuICBjb25zdCB7IGNoaWxkcmVuLCAuLi5hdHRyaWJ1dGVzIH0gPSBub2RlLnByb3BzO1xuXG4gIGNvbnN0IHNsb3ROYW1lID0gcHJvcHNbUVNsb3ROYW1lXTtcbiAgY29uc3QgaXNTbG90ID0gdHlwZW9mIHNsb3ROYW1lID09PSAnc3RyaW5nJztcbiAgaWYgKGlzU2xvdCkge1xuICAgIGFzc2VydERlZmluZWQoc3NyQ3R4Lmhvc3RDdHg/LiRpZCQsICdob3N0SWQgbXVzdCBiZSBkZWZpbmVkIGZvciBhIHNsb3QnKTtcbiAgICBhdHRyaWJ1dGVzW1FTbG90UmVmXSA9IHNzckN0eC5ob3N0Q3R4LiRpZCQ7XG4gIH1cblxuICBjb25zdCBrZXkgPSBub2RlLmtleSAhPSBudWxsID8gU3RyaW5nKG5vZGUua2V5KSA6IG51bGw7XG4gIGlmIChrZXkgIT0gbnVsbCkge1xuICAgIGF0dHJpYnV0ZXNbJ3E6a2V5J10gPSBrZXk7XG4gIH1cbiAgY29uc3QgdXJsID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSk7XG4gIHN0cmVhbS53cml0ZShgPCEtLXF2ICR7c2VyaWFsaXplVmlydHVhbEF0dHJpYnV0ZXModXJsKX0tLT5gKTtcblxuICBpZiAoZXh0cmFOb2Rlcykge1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBleHRyYU5vZGVzKSB7XG4gICAgICByZW5kZXJOb2RlRWxlbWVudFN5bmMobm9kZS50eXBlLCBub2RlLnByb3BzLCBzdHJlYW0pO1xuICAgIH1cbiAgfVxuICBjb25zdCBwcm9taXNlID0gcHJvY2Vzc0RhdGEocHJvcHMuY2hpbGRyZW4sIHNzckN0eCwgc3RyZWFtLCBmbGFncyk7XG4gIHJldHVybiB0aGVuKHByb21pc2UsICgpID0+IHtcbiAgICAvLyBGYXN0IHBhdGhcbiAgICBpZiAoIWlzU2xvdCAmJiAhYmVmb3JlQ2xvc2UpIHtcbiAgICAgIHN0cmVhbS53cml0ZShDTE9TRV9WSVJUVUFMKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcHJvbWlzZTogVmFsdWVPclByb21pc2U8dm9pZD47XG4gICAgaWYgKGlzU2xvdCkge1xuICAgICAgY29uc3QgY29udGVudCA9IHNzckN0eC5wcm9qZWN0ZWRDaGlsZHJlbj8uW3Nsb3ROYW1lXTtcbiAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgIHNzckN0eC5wcm9qZWN0ZWRDaGlsZHJlbiFbc2xvdE5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICBwcm9taXNlID0gcHJvY2Vzc0RhdGEoY29udGVudCwgc3NyQ3R4LnByb2plY3RlZENvbnRleHQhLCBzdHJlYW0sIGZsYWdzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSW5qZWN0IGJlZm9yZSBjbG9zZVxuICAgIGlmIChiZWZvcmVDbG9zZSkge1xuICAgICAgcHJvbWlzZSA9IHRoZW4ocHJvbWlzZSwgKCkgPT4gYmVmb3JlQ2xvc2Uoc3RyZWFtKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoZW4ocHJvbWlzZSwgKCkgPT4ge1xuICAgICAgc3RyZWFtLndyaXRlKENMT1NFX1ZJUlRVQUwpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmNvbnN0IENMT1NFX1ZJUlRVQUwgPSBgPCEtLS9xdi0tPmA7XG5cbmV4cG9ydCBjb25zdCByZW5kZXJOb2RlRWxlbWVudCA9IChcbiAgbm9kZTogSlNYTm9kZTxzdHJpbmc+LFxuICBleHRyYUF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQsXG4gIGV4dHJhTm9kZXM6IEpTWE5vZGU8c3RyaW5nPltdIHwgdW5kZWZpbmVkLFxuICBzc3JDdHg6IFNTUkNvbnRleHQsXG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyLFxuICBmbGFnczogbnVtYmVyLFxuICBiZWZvcmVDbG9zZT86IChzdHJlYW06IFN0cmVhbVdyaXRlcikgPT4gVmFsdWVPclByb21pc2U8dm9pZD5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc3Qga2V5ID0gbm9kZS5rZXkgIT0gbnVsbCA/IFN0cmluZyhub2RlLmtleSkgOiBudWxsO1xuICBjb25zdCBwcm9wcyA9IG5vZGUucHJvcHM7XG4gIGNvbnN0IHRleHRUeXBlID0gbm9kZS50eXBlO1xuICBjb25zdCBlbEN0eCA9IGdldENvbnRleHQoc3NyQ3R4LnJjdHguJGRvYyQuY3JlYXRlRWxlbWVudChub2RlLnR5cGUpKTtcbiAgY29uc3QgaGFzUmVmID0gJ3JlZicgaW4gcHJvcHM7XG4gIGNvbnN0IGF0dHJpYnV0ZXMgPSB1cGRhdGVQcm9wZXJ0aWVzKHNzckN0eC5yY3R4LCBlbEN0eCwgcHJvcHMpO1xuICBjb25zdCBob3N0Q3R4ID0gc3NyQ3R4Lmhvc3RDdHg7XG4gIGlmIChob3N0Q3R4KSB7XG4gICAgYXR0cmlidXRlc1snY2xhc3MnXSA9IGpvaW5DbGFzc2VzKGhvc3RDdHguJHNjb3BlSWRzJCwgYXR0cmlidXRlc1snY2xhc3MnXSk7XG4gICAgY29uc3QgY21wID0gaG9zdEN0eC4kY29tcG9uZW50JCE7XG4gICAgaWYgKCFjbXAuJGF0dGFjaGVkTGlzdGVuZXJzJCkge1xuICAgICAgY21wLiRhdHRhY2hlZExpc3RlbmVycyQgPSB0cnVlO1xuICAgICAgaG9zdEN0eC4kbGlzdGVuZXJzJD8uZm9yRWFjaCgocXJsLCBldmVudE5hbWUpID0+IHtcbiAgICAgICAgYWRkUVJMTGlzdGVuZXIoZWxDdHgsIGV2ZW50TmFtZSwgcXJsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlc2V0IEhPU1QgZmxhZ3NcbiAgaWYgKHRleHRUeXBlID09PSAnaGVhZCcpIHtcbiAgICBmbGFncyB8PSBJU19IRUFEO1xuICB9XG5cbiAgY29uc3QgaGFzRXZlbnRzID0gZWxDdHguJGxpc3RlbmVycyQ7XG4gIGNvbnN0IGlzSGVhZCA9IGZsYWdzICYgSVNfSEVBRDtcblxuICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICBhdHRyaWJ1dGVzWydxOmtleSddID0ga2V5O1xuICB9XG4gIGlmIChoYXNSZWYgfHwgaGFzRXZlbnRzKSB7XG4gICAgY29uc3QgbmV3SUQgPSBnZXROZXh0SW5kZXgoc3NyQ3R4LnJjdHgpO1xuICAgIGF0dHJpYnV0ZXNbRUxFTUVOVF9JRF0gPSBuZXdJRDtcbiAgICBlbEN0eC4kaWQkID0gbmV3SUQ7XG4gICAgc3NyQ3R4LiRjb250ZXh0cyQucHVzaChlbEN0eCk7XG4gIH1cbiAgaWYgKGlzSGVhZCkge1xuICAgIGF0dHJpYnV0ZXNbJ3E6aGVhZCddID0gJyc7XG4gIH1cbiAgaWYgKGV4dHJhQXR0cmlidXRlcykge1xuICAgIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcywgZXh0cmFBdHRyaWJ1dGVzKTtcbiAgfVxuICBpZiAoZWxDdHguJGxpc3RlbmVycyQpIHtcbiAgICBlbEN0eC4kbGlzdGVuZXJzJC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICBhdHRyaWJ1dGVzW2Zyb21DYW1lbFRvS2ViYWJDYXNlKGtleSldID0gc2VyaWFsaXplUVJMcyh2YWx1ZSwgZWxDdHgpO1xuICAgIH0pO1xuICB9XG4gIGlmIChyZW5kZXJOb2RlRWxlbWVudFN5bmModGV4dFR5cGUsIGF0dHJpYnV0ZXMsIHN0cmVhbSkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGV4dFR5cGUgIT09ICdoZWFkJykge1xuICAgIGZsYWdzICY9IH5JU19IRUFEO1xuICB9XG4gIGlmIChoYXNSYXdDb250ZW50W3RleHRUeXBlXSkge1xuICAgIGZsYWdzIHw9IElTX1JBV19DT05URU5UO1xuICB9IGVsc2Uge1xuICAgIGZsYWdzICY9IH5JU19SQVdfQ09OVEVOVDtcbiAgfVxuXG4gIGlmIChleHRyYU5vZGVzKSB7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIGV4dHJhTm9kZXMpIHtcbiAgICAgIHJlbmRlck5vZGVFbGVtZW50U3luYyhub2RlLnR5cGUsIG5vZGUucHJvcHMsIHN0cmVhbSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHByb21pc2UgPSBwcm9jZXNzRGF0YShwcm9wcy5jaGlsZHJlbiwgc3NyQ3R4LCBzdHJlYW0sIGZsYWdzKTtcbiAgcmV0dXJuIHRoZW4ocHJvbWlzZSwgKCkgPT4ge1xuICAgIC8vIElmIGhlYWQgaW5qZWN0IGJhc2Ugc3R5bGVzXG4gICAgaWYgKHRleHRUeXBlID09PSAnaGVhZCcpIHtcbiAgICAgIHNzckN0eC5oZWFkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT4ge1xuICAgICAgICByZW5kZXJOb2RlRWxlbWVudFN5bmMobm9kZS50eXBlLCBub2RlLnByb3BzLCBzdHJlYW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIEZhc3QgcGF0aFxuICAgIGlmICghYmVmb3JlQ2xvc2UpIHtcbiAgICAgIHN0cmVhbS53cml0ZShgPC8ke3RleHRUeXBlfT5gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJbmplY3QgYmVmb3JlIGNsb3NlXG4gICAgcmV0dXJuIHRoZW4oYmVmb3JlQ2xvc2Uoc3RyZWFtKSwgKCkgPT4ge1xuICAgICAgc3RyZWFtLndyaXRlKGA8LyR7dGV4dFR5cGV9PmApO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJOb2RlRWxlbWVudFN5bmMgPSAoXG4gIHRhZ05hbWU6IHN0cmluZyxcbiAgYXR0cmlidXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcbiAgc3RyZWFtOiBTdHJlYW1Xcml0ZXJcbik6IGJvb2xlYW4gPT4ge1xuICBzdHJlYW0ud3JpdGUoYDwke3RhZ05hbWV9YCk7XG4gIE9iamVjdC5lbnRyaWVzKGF0dHJpYnV0ZXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIGlmIChrZXkgIT09ICdkYW5nZXJvdXNseVNldElubmVySFRNTCcgJiYga2V5ICE9PSAnY2hpbGRyZW4nKSB7XG4gICAgICBpZiAoa2V5ID09PSAnY2xhc3MnICYmICF2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBjaHVuayA9IHZhbHVlID09PSAnJyA/IGAgJHtrZXl9YCA6IGAgJHtrZXl9PVwiJHtlc2NhcGVBdHRyKHZhbHVlKX1cImA7XG4gICAgICBzdHJlYW0ud3JpdGUoY2h1bmspO1xuICAgIH1cbiAgfSk7XG5cbiAgc3RyZWFtLndyaXRlKGA+YCk7XG4gIGNvbnN0IGVtcHR5ID0gISFlbXB0eUVsZW1lbnRzW3RhZ05hbWVdO1xuICBpZiAoZW1wdHkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIFJlbmRlciBpbm5lckhUTUxcbiAgY29uc3QgaW5uZXJIVE1MID0gYXR0cmlidXRlcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcbiAgaWYgKGlubmVySFRNTCkge1xuICAgIHN0cmVhbS53cml0ZShpbm5lckhUTUwpO1xuICAgIHN0cmVhbS53cml0ZShgPC8ke3RhZ05hbWV9PmApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn07XG5cbmV4cG9ydCBjb25zdCBtZXJnZUNoaWxkcmVuID0gKGE6IGFueSwgYjogYW55KTogYW55W10gPT4ge1xuICBjb25zdCBvdXRwdXQgPSBbXTtcbiAgaWYgKGEpIHtcbiAgICBpZiAoaXNBcnJheShhKSkge1xuICAgICAgb3V0cHV0LnB1c2goLi4uYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKGEpO1xuICAgIH1cbiAgfVxuICBpZiAoYikge1xuICAgIGlmIChpc0FycmF5KGIpKSB7XG4gICAgICBvdXRwdXQucHVzaCguLi5iKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goYik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyU1NSQ29tcG9uZW50ID0gKFxuICBzc3JDdHg6IFNTUkNvbnRleHQsXG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyLFxuICBlbEN0eDogUUNvbnRleHQsXG4gIG5vZGU6IEpTWE5vZGU8dHlwZW9mIFZpcnR1YWw+LFxuICBmbGFnczogbnVtYmVyLFxuICBiZWZvcmVDbG9zZT86IChzdHJlYW06IFN0cmVhbVdyaXRlcikgPT4gVmFsdWVPclByb21pc2U8dm9pZD5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc3QgYXR0cmlidXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHVwZGF0ZUNvbXBvbmVudFByb3BlcnRpZXMoXG4gICAgc3NyQ3R4LnJjdHgsXG4gICAgZWxDdHgsXG4gICAgbm9kZS5wcm9wc1xuICApO1xuICByZXR1cm4gdGhlbihleGVjdXRlQ29tcG9uZW50KHNzckN0eC5yY3R4LCBlbEN0eCksIChyZXMpID0+IHtcbiAgICBpZiAoIXJlcykge1xuICAgICAgY29uc29sZS5lcnJvcignbm90IHJlbmRlcmVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaG9zdEVsZW1lbnQgPSBlbEN0eC4kZWxlbWVudCQ7XG4gICAgY29uc3QgbmV3Q3R4ID0gcmVzLnJjdHg7XG4gICAgbGV0IGNoaWxkcmVuID0gbm9kZS5wcm9wcy5jaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICBpZiAoY2hpbGRyZW4uZmlsdGVyKGlzTm90TnVsbGFibGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGludm9jYXRpb25Db250ZXh0ID0gbmV3SW52b2tlQ29udGV4dChuZXdDdHguJGRvYyQsIGhvc3RFbGVtZW50LCB1bmRlZmluZWQpO1xuICAgIGludm9jYXRpb25Db250ZXh0LiRzdWJzY3JpYmVyJCA9IGhvc3RFbGVtZW50O1xuICAgIGludm9jYXRpb25Db250ZXh0LiRyZW5kZXJDdHgkID0gbmV3Q3R4O1xuICAgIGNvbnN0IHByb2plY3RlZENvbnRleHQ6IFNTUkNvbnRleHQgPSB7XG4gICAgICAuLi5zc3JDdHgsXG4gICAgICByY3R4OiBjb3B5UmVuZGVyQ29udGV4dChuZXdDdHgpLFxuICAgIH07XG4gICAgY29uc3QgbmV3U1NyQ29udGV4dDogU1NSQ29udGV4dCA9IHtcbiAgICAgIC4uLnNzckN0eCxcbiAgICAgIHByb2plY3RlZENoaWxkcmVuOiBzcGxpdFByb2plY3RlZENoaWxkcmVuKGNoaWxkcmVuLCBzc3JDdHgpLFxuICAgICAgcHJvamVjdGVkQ29udGV4dCxcbiAgICAgIHJjdHg6IG5ld0N0eCxcbiAgICAgIGludm9jYXRpb25Db250ZXh0LFxuICAgIH07XG5cbiAgICBjb25zdCBleHRyYU5vZGVzID0gW107XG4gICAgY29uc3Qgc3R5bGVDbGFzc2VzID0gW107XG4gICAgaWYgKGVsQ3R4LiRhcHBlbmRTdHlsZXMkKSB7XG4gICAgICBmb3IgKGNvbnN0IHN0eWxlIG9mIGVsQ3R4LiRhcHBlbmRTdHlsZXMkKSB7XG4gICAgICAgIGV4dHJhTm9kZXMhLnB1c2goXG4gICAgICAgICAganN4KCdzdHlsZScsIHtcbiAgICAgICAgICAgIFtRU3R5bGVdOiBzdHlsZS5zdHlsZUlkLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHN0eWxlLmNvbnRlbnQsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVsQ3R4LiRzY29wZUlkcyQpIHtcbiAgICAgIGZvciAoY29uc3Qgc3R5bGVJZCBvZiBlbEN0eC4kc2NvcGVJZHMkKSB7XG4gICAgICAgIHN0eWxlQ2xhc3Nlcy5wdXNoKHN0eWxlSG9zdChzdHlsZUlkKSk7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IHNlcmlhbGl6ZVNTdHlsZShlbEN0eC4kc2NvcGVJZHMkKTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBhdHRyaWJ1dGVzW1FTY29wZWRTdHlsZV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV3SUQgPSBnZXROZXh0SW5kZXgoc3NyQ3R4LnJjdHgpO1xuICAgIGF0dHJpYnV0ZXNbRUxFTUVOVF9JRF0gPSBuZXdJRDtcbiAgICBlbEN0eC4kaWQkID0gbmV3SUQ7XG4gICAgc3NyQ3R4LiRjb250ZXh0cyQucHVzaChlbEN0eCk7XG5cbiAgICBjb25zdCBwcm9jZXNzZWROb2RlID0ganN4KFxuICAgICAgbm9kZS50eXBlLFxuICAgICAge1xuICAgICAgICAuLi5hdHRyaWJ1dGVzLFxuICAgICAgICBjaGlsZHJlbjogcmVzLm5vZGUsXG4gICAgICB9LFxuICAgICAgbm9kZS5rZXlcbiAgICApO1xuXG4gICAgZmxhZ3MgfD0gSVNfSE9TVDtcbiAgICBuZXdTU3JDb250ZXh0Lmhvc3RDdHggPSBlbEN0eDtcblxuICAgIHJldHVybiByZW5kZXJOb2RlVmlydHVhbChcbiAgICAgIHByb2Nlc3NlZE5vZGUsXG4gICAgICBlbEN0eCxcbiAgICAgIGV4dHJhTm9kZXMsXG4gICAgICBuZXdTU3JDb250ZXh0LFxuICAgICAgc3RyZWFtLFxuICAgICAgZmxhZ3MsXG4gICAgICAoc3RyZWFtKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGVuKHJlbmRlclFUZW1wbGF0ZXMobmV3U1NyQ29udGV4dCwgc3RyZWFtKSwgKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBiZWZvcmVDbG9zZT8uKHN0cmVhbSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xufTtcblxuY29uc3QgcmVuZGVyUVRlbXBsYXRlcyA9IChzc3JDb250ZXh0OiBTU1JDb250ZXh0LCBzdHJlYW06IFN0cmVhbVdyaXRlcikgPT4ge1xuICBjb25zdCBwcm9qZWN0ZWRDaGlsZHJlbiA9IHNzckNvbnRleHQucHJvamVjdGVkQ2hpbGRyZW47XG4gIGlmIChwcm9qZWN0ZWRDaGlsZHJlbikge1xuICAgIGNvbnN0IG5vZGVzID0gT2JqZWN0LmtleXMocHJvamVjdGVkQ2hpbGRyZW4pLm1hcCgoc2xvdE5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcHJvamVjdGVkQ2hpbGRyZW5bc2xvdE5hbWVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBqc3goJ3E6dGVtcGxhdGUnLCB7XG4gICAgICAgICAgW1FTbG90XTogc2xvdE5hbWUsXG4gICAgICAgICAgaGlkZGVuOiAnJyxcbiAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgICAgICAgY2hpbGRyZW46IHZhbHVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcHJvY2Vzc0RhdGEobm9kZXMsIHNzckNvbnRleHQsIHN0cmVhbSwgMCwgdW5kZWZpbmVkKTtcbiAgfVxufTtcblxuY29uc3Qgc3BsaXRQcm9qZWN0ZWRDaGlsZHJlbiA9IChjaGlsZHJlbjogYW55LCBzc3JDdHg6IFNTUkNvbnRleHQpID0+IHtcbiAgY29uc3QgZmxhdENoaWxkcmVuID0gZmxhdFZpcnR1YWxDaGlsZHJlbihjaGlsZHJlbiwgc3NyQ3R4KTtcbiAgaWYgKGZsYXRDaGlsZHJlbiA9PT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3Qgc2xvdE1hcDogUmVjb3JkPHN0cmluZywgYW55W10+ID0ge307XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBmbGF0Q2hpbGRyZW4pIHtcbiAgICBsZXQgc2xvdE5hbWUgPSAnJztcbiAgICBpZiAoaXNKU1hOb2RlKGNoaWxkKSkge1xuICAgICAgc2xvdE5hbWUgPSBjaGlsZC5wcm9wc1tRU2xvdF0gPz8gJyc7XG4gICAgfVxuICAgIGxldCBhcnJheSA9IHNsb3RNYXBbc2xvdE5hbWVdO1xuICAgIGlmICghYXJyYXkpIHtcbiAgICAgIHNsb3RNYXBbc2xvdE5hbWVdID0gYXJyYXkgPSBbXTtcbiAgICB9XG4gICAgYXJyYXkucHVzaChjaGlsZCk7XG4gIH1cbiAgcmV0dXJuIHNsb3RNYXA7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyTm9kZSA9IChcbiAgbm9kZTogSlNYTm9kZTxhbnk+LFxuICBzc3JDdHg6IFNTUkNvbnRleHQsXG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyLFxuICBmbGFnczogbnVtYmVyLFxuICBiZWZvcmVDbG9zZT86IChzdHJlYW06IFN0cmVhbVdyaXRlcikgPT4gVmFsdWVPclByb21pc2U8dm9pZD5cbikgPT4ge1xuICBpZiAodHlwZW9mIG5vZGUudHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcmVuZGVyTm9kZUVsZW1lbnQobm9kZSBhcyBhbnksIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBzc3JDdHgsIHN0cmVhbSwgZmxhZ3MsIGJlZm9yZUNsb3NlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVuZGVyTm9kZUZ1bmN0aW9uKG5vZGUsIHNzckN0eCwgc3RyZWFtLCBmbGFncywgYmVmb3JlQ2xvc2UpO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IHByb2Nlc3NEYXRhID0gKFxuICBub2RlOiBhbnksXG4gIHNzckN0eDogU1NSQ29udGV4dCxcbiAgc3RyZWFtOiBTdHJlYW1Xcml0ZXIsXG4gIGZsYWdzOiBudW1iZXIsXG4gIGJlZm9yZUNsb3NlPzogKHN0cmVhbTogU3RyZWFtV3JpdGVyKSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkPlxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICBpZiAobm9kZSA9PSBudWxsIHx8IHR5cGVvZiBub2RlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzSlNYTm9kZShub2RlKSkge1xuICAgIHJldHVybiByZW5kZXJOb2RlKG5vZGUsIHNzckN0eCwgc3RyZWFtLCBmbGFncywgYmVmb3JlQ2xvc2UpO1xuICB9IGVsc2UgaWYgKGlzUHJvbWlzZShub2RlKSkge1xuICAgIHJldHVybiBub2RlLnRoZW4oKG5vZGUpID0+IHByb2Nlc3NEYXRhKG5vZGUsIHNzckN0eCwgc3RyZWFtLCBmbGFncywgYmVmb3JlQ2xvc2UpKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KG5vZGUpKSB7XG4gICAgbm9kZSA9IF9mbGF0VmlydHVhbENoaWxkcmVuKG5vZGUsIHNzckN0eCk7XG4gICAgcmV0dXJuIHdhbGtDaGlsZHJlbihub2RlLCBzc3JDdHgsIHN0cmVhbSwgZmxhZ3MpO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKG5vZGUpIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xuICAgIGlmICgoZmxhZ3MgJiBJU19SQVdfQ09OVEVOVCkgIT09IDApIHtcbiAgICAgIHN0cmVhbS53cml0ZShTdHJpbmcobm9kZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJlYW0ud3JpdGUoZXNjYXBlKFN0cmluZyhub2RlKSkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsb2dXYXJuKCdBIHVuc3VwcG9ydGVkIHZhbHVlIHdhcyBwYXNzZWQgdG8gdGhlIEpTWCwgc2tpcHBpbmcgcmVuZGVyLiBWYWx1ZTonLCBub2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gd2Fsa0NoaWxkcmVuKFxuICBjaGlsZHJlbjogYW55LFxuICBzc3JDb250ZXh0OiBTU1JDb250ZXh0LFxuICBzdHJlYW06IFN0cmVhbVdyaXRlcixcbiAgZmxhZ3M6IG51bWJlclxuKTogVmFsdWVPclByb21pc2U8dm9pZD4ge1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NEYXRhKGNoaWxkcmVuLCBzc3JDb250ZXh0LCBzdHJlYW0sIGZsYWdzKTtcbiAgfVxuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NEYXRhKGNoaWxkcmVuWzBdLCBzc3JDb250ZXh0LCBzdHJlYW0sIGZsYWdzKTtcbiAgfVxuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XG4gIGNvbnN0IGJ1ZmZlcnM6IHN0cmluZ1tdW10gPSBbXTtcbiAgcmV0dXJuIGNoaWxkcmVuLnJlZHVjZSgocHJldlByb21pc2UsIGNoaWxkLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGJ1ZmZlcjogc3RyaW5nW10gPSBbXTtcbiAgICBidWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICBjb25zdCBsb2NhbFN0cmVhbTogU3RyZWFtV3JpdGVyID0ge1xuICAgICAgd3JpdGUoY2h1bmspIHtcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgICBzdHJlYW0ud3JpdGUoY2h1bmspO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1ZmZlci5wdXNoKGNodW5rKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiB0aGVuKHByb2Nlc3NEYXRhKGNoaWxkLCBzc3JDb250ZXh0LCBsb2NhbFN0cmVhbSwgZmxhZ3MpLCAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhlbihwcmV2UHJvbWlzZSwgKCkgPT4ge1xuICAgICAgICBjdXJyZW50SW5kZXgrKztcbiAgICAgICAgaWYgKGJ1ZmZlcnMubGVuZ3RoID4gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgYnVmZmVyc1tjdXJyZW50SW5kZXhdLmZvckVhY2goKGNodW5rKSA9PiBzdHJlYW0ud3JpdGUoY2h1bmspKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIHVuZGVmaW5lZCk7XG59XG5cbmV4cG9ydCBjb25zdCBmbGF0VmlydHVhbENoaWxkcmVuID0gKGNoaWxkcmVuOiBhbnksIHNzckN0eDogU1NSQ29udGV4dCk6IGFueVtdIHwgbnVsbCA9PiB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gX2ZsYXRWaXJ0dWFsQ2hpbGRyZW4oY2hpbGRyZW4sIHNzckN0eCk7XG4gIGNvbnN0IG5vZGVzID0gaXNBcnJheShyZXN1bHQpID8gcmVzdWx0IDogW3Jlc3VsdF07XG4gIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gbm9kZXM7XG59O1xuXG5leHBvcnQgY29uc3QgX2ZsYXRWaXJ0dWFsQ2hpbGRyZW4gPSAoY2hpbGRyZW46IGFueSwgc3NyQ3R4OiBTU1JDb250ZXh0KTogYW55ID0+IHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICByZXR1cm4gY2hpbGRyZW4uZmxhdE1hcCgoYykgPT4gX2ZsYXRWaXJ0dWFsQ2hpbGRyZW4oYywgc3NyQ3R4KSk7XG4gIH0gZWxzZSBpZiAoXG4gICAgaXNKU1hOb2RlKGNoaWxkcmVuKSAmJlxuICAgIGlzRnVuY3Rpb24oY2hpbGRyZW4udHlwZSkgJiZcbiAgICBjaGlsZHJlbi50eXBlICE9PSBTU1JDb21tZW50ICYmXG4gICAgY2hpbGRyZW4udHlwZSAhPT0gVmlydHVhbFxuICApIHtcbiAgICBjb25zdCBmbiA9IGNoaWxkcmVuLnR5cGU7XG4gICAgY29uc3QgcmVzID0gc3NyQ3R4Lmludm9jYXRpb25Db250ZXh0XG4gICAgICA/IGludm9rZShzc3JDdHguaW52b2NhdGlvbkNvbnRleHQsICgpID0+IGZuKGNoaWxkcmVuLnByb3BzLCBjaGlsZHJlbi5rZXkpKVxuICAgICAgOiBmbihjaGlsZHJlbi5wcm9wcywgY2hpbGRyZW4ua2V5KTtcbiAgICByZXR1cm4gZmxhdFZpcnR1YWxDaGlsZHJlbihyZXMsIHNzckN0eCk7XG4gIH1cbiAgcmV0dXJuIGNoaWxkcmVuO1xufTtcblxuY29uc3QgdXBkYXRlUHJvcGVydGllcyA9IChcbiAgcmN0eDogUmVuZGVyQ29udGV4dCxcbiAgY3R4OiBRQ29udGV4dCxcbiAgZXhwZWN0UHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsXG4pID0+IHtcbiAgY29uc3QgYXR0cmlidXRlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICBpZiAoIWV4cGVjdFByb3BzKSB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gIH1cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGV4cGVjdFByb3BzKTtcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG4gIH1cbiAgY29uc3QgZWxtID0gY3R4LiRlbGVtZW50JDtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIGlmIChrZXkgPT09ICdjaGlsZHJlbicgfHwga2V5ID09PSBPblJlbmRlclByb3ApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBuZXdWYWx1ZSA9IGV4cGVjdFByb3BzW2tleV07XG4gICAgaWYgKGtleSA9PT0gJ3JlZicpIHtcbiAgICAgIChuZXdWYWx1ZSBhcyBSZWY8RWxlbWVudD4pLmN1cnJlbnQgPSBlbG0gYXMgRWxlbWVudDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEVhcmx5IGV4aXQgaWYgdmFsdWUgZGlkbnQgY2hhbmdlXG4gICAgLy8gQ2hlY2sgb2YgZGF0YS0gb3IgYXJpYS1cbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgoJ2RhdGEtJykgfHwga2V5LnN0YXJ0c1dpdGgoJ2FyaWEtJykpIHtcbiAgICAgIGF0dHJpYnV0ZXNba2V5XSA9IG5ld1ZhbHVlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGlzT25Qcm9wKGtleSkpIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWUgPSBub3JtYWxpemVPblByb3Aoa2V5LnNsaWNlKDAsIC0xKSk7XG4gICAgICBhZGRRUkxMaXN0ZW5lcihjdHgsIGF0dHJpYnV0ZU5hbWUsIG5ld1ZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGl0cyBhbiBleGNlcHRpb25cbiAgICBzZXRQcm9wZXJ0eShhdHRyaWJ1dGVzLCBrZXksIG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gYXR0cmlidXRlcztcbn07XG5cbmNvbnN0IHVwZGF0ZUNvbXBvbmVudFByb3BlcnRpZXMgPSAoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGN0eDogUUNvbnRleHQsXG4gIGV4cGVjdFByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbFxuKSA9PiB7XG4gIGNvbnN0IGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgaWYgKCFleHBlY3RQcm9wcykge1xuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhleHBlY3RQcm9wcyk7XG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG4gIGNvbnN0IHF3aWtQcm9wcyA9IGdldFByb3BzTXV0YXRvcihjdHgsIHJjdHguJGNvbnRhaW5lclN0YXRlJCk7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBpZiAoa2V5ID09PSAnY2hpbGRyZW4nIHx8IGtleSA9PT0gT25SZW5kZXJQcm9wKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgbmV3VmFsdWUgPSBleHBlY3RQcm9wc1trZXldO1xuXG4gICAgY29uc3Qgc2tpcFByb3BlcnR5ID0gQUxMT1dTX1BST1BTLmluY2x1ZGVzKGtleSk7XG4gICAgaWYgKCFza2lwUHJvcGVydHkpIHtcbiAgICAgIC8vIFF3aWsgcHJvcHNcbiAgICAgIHF3aWtQcm9wcy5zZXQoa2V5LCBuZXdWYWx1ZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgc2V0UHJvcGVydHkoYXR0cmlidXRlcywga2V5LCBuZXdWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG5mdW5jdGlvbiBzZXRQcm9wZXJ0eShhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgcHJvcCA9IHByb2Nlc3NQcm9wS2V5KHByb3ApO1xuICAgIGNvbnN0IGF0dHJWYWx1ZSA9IHByb2Nlc3NQcm9wVmFsdWUocHJvcCwgdmFsdWUsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgIGlmIChhdHRyVmFsdWUgIT09IG51bGwpIHtcbiAgICAgIGF0dHJpYnV0ZXNbcHJvcF0gPSBhdHRyVmFsdWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NQcm9wS2V5KHByb3A6IHN0cmluZykge1xuICBpZiAocHJvcCA9PT0gJ2NsYXNzTmFtZScpIHtcbiAgICByZXR1cm4gJ2NsYXNzJztcbiAgfVxuICByZXR1cm4gcHJvcDtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1Byb3BWYWx1ZShwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnksIHByZXZWYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmIChwcm9wID09PSAnY2xhc3MnKSB7XG4gICAgY29uc3Qgc3RyID0gam9pbkNsYXNzZXModmFsdWUsIHByZXZWYWx1ZSk7XG4gICAgcmV0dXJuIHN0ciA9PT0gJycgPyBudWxsIDogc3RyO1xuICB9XG4gIGlmIChwcm9wID09PSAnc3R5bGUnKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVN0eWxlKHZhbHVlKTtcbiAgfVxuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG59XG5cbmNvbnN0IGhhc1Jhd0NvbnRlbnQ6IFJlY29yZDxzdHJpbmcsIHRydWUgfCB1bmRlZmluZWQ+ID0ge1xuICBzdHlsZTogdHJ1ZSxcbiAgc2NyaXB0OiB0cnVlLFxufTtcblxuY29uc3QgZW1wdHlFbGVtZW50czogUmVjb3JkPHN0cmluZywgdHJ1ZSB8IHVuZGVmaW5lZD4gPSB7XG4gIGFyZWE6IHRydWUsXG4gIGJhc2U6IHRydWUsXG4gIGJhc2Vmb250OiB0cnVlLFxuICBiZ3NvdW5kOiB0cnVlLFxuICBicjogdHJ1ZSxcbiAgY29sOiB0cnVlLFxuICBlbWJlZDogdHJ1ZSxcbiAgZnJhbWU6IHRydWUsXG4gIGhyOiB0cnVlLFxuICBpbWc6IHRydWUsXG4gIGlucHV0OiB0cnVlLFxuICBrZXlnZW46IHRydWUsXG4gIGxpbms6IHRydWUsXG4gIG1ldGE6IHRydWUsXG4gIHBhcmFtOiB0cnVlLFxuICBzb3VyY2U6IHRydWUsXG4gIHRyYWNrOiB0cnVlLFxuICB3YnI6IHRydWUsXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcnZlckRvY3VtZW50IHtcbiAgbm9kZVR5cGU6IDk7XG4gIHBhcmVudEVsZW1lbnQ6IG51bGw7XG4gIG93bmVyRG9jdW1lbnQ6IG51bGw7XG4gIGNyZWF0ZUVsZW1lbnQodGFnTmFtZTogc3RyaW5nKTogYW55O1xufVxuXG5leHBvcnQgY29uc3QgZXNjYXBlID0gKHM6IHN0cmluZykgPT4ge1xuICByZXR1cm4gcy5yZXBsYWNlKC9bJjw+XFx1MDBBMF0vZywgKGMpID0+IHtcbiAgICBzd2l0Y2ggKGMpIHtcbiAgICAgIGNhc2UgJyYnOlxuICAgICAgICByZXR1cm4gJyZhbXA7JztcbiAgICAgIGNhc2UgJzwnOlxuICAgICAgICByZXR1cm4gJyZsdDsnO1xuICAgICAgY2FzZSAnPic6XG4gICAgICAgIHJldHVybiAnJmd0Oyc7XG4gICAgICBjYXNlICdcXHUwMEEwJzpcbiAgICAgICAgcmV0dXJuICcmbmJzcDsnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZXNjYXBlQXR0ciA9IChzOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgdG9Fc2NhcGUgPSAvWyZcIlxcdTAwQTBdL2c7XG4gIGlmICghdG9Fc2NhcGUudGVzdChzKSkge1xuICAgIC8vIG5vdGhpbmcgdG8gZG8sIGZhc3QgcGF0aFxuICAgIHJldHVybiBzO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzLnJlcGxhY2UodG9Fc2NhcGUsIChjKSA9PiB7XG4gICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAnJic6XG4gICAgICAgICAgcmV0dXJuICcmYW1wOyc7XG4gICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICByZXR1cm4gJyZxdW90Oyc7XG4gICAgICAgIGNhc2UgJ1xcdTAwQTAnOlxuICAgICAgICAgIHJldHVybiAnJm5ic3A7JztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG4iXX0=","import { useInvokeContext } from './use-core';\n// <docs markdown=\"../readme.md#useDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useDocument instead)\n/**\n * Retrieves the document of the current element. It's important to use this method instead of\n * accessing `document` directly because during SSR, the global document might not exist.\n *\n * NOTE: `useDocument` method can only be used in the synchronous portion of the callback (before\n * any `await` statements.)\n *\n * @alpha\n */\n// </docs>\nexport const useDocument = () => {\n    const ctx = useInvokeContext();\n    return ctx.$doc$;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWRvY3VtZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLWRvY3VtZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFOUMsNkNBQTZDO0FBQzdDLHlDQUF5QztBQUN6QywwQ0FBMEM7QUFDMUM7Ozs7Ozs7O0dBUUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEdBQWEsRUFBRTtJQUN4QyxNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9CLE9BQU8sR0FBRyxDQUFDLEtBQUssQ0FBQztBQUNuQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZURvY3VtZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZURvY3VtZW50IGluc3RlYWQpXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgZG9jdW1lbnQgb2YgdGhlIGN1cnJlbnQgZWxlbWVudC4gSXQncyBpbXBvcnRhbnQgdG8gdXNlIHRoaXMgbWV0aG9kIGluc3RlYWQgb2ZcbiAqIGFjY2Vzc2luZyBgZG9jdW1lbnRgIGRpcmVjdGx5IGJlY2F1c2UgZHVyaW5nIFNTUiwgdGhlIGdsb2JhbCBkb2N1bWVudCBtaWdodCBub3QgZXhpc3QuXG4gKlxuICogTk9URTogYHVzZURvY3VtZW50YCBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBpbiB0aGUgc3luY2hyb25vdXMgcG9ydGlvbiBvZiB0aGUgY2FsbGJhY2sgKGJlZm9yZVxuICogYW55IGBhd2FpdGAgc3RhdGVtZW50cy4pXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VEb2N1bWVudCA9ICgpOiBEb2N1bWVudCA9PiB7XG4gIGNvbnN0IGN0eCA9IHVzZUludm9rZUNvbnRleHQoKTtcbiAgcmV0dXJuIGN0eC4kZG9jJDtcbn07XG4iXX0=","import { createProxy, QObjectRecursive } from '../object/q-object';\nimport { isFunction } from '../util/types';\nimport { useSequentialScope } from './use-sequential-scope';\n// <docs markdown=\"../readme.md#useStore\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStore instead)\n/**\n * Creates an object that Qwik can track across serializations.\n *\n * Use `useStore` to create a state for your application. The returned object is a proxy that has\n * a unique ID. The ID of the object is used in the `QRL`s to refer to the store.\n *\n * ## Example\n *\n * Example showing how `useStore` is used in Counter example to keep track of the count.\n *\n * ```tsx\n * const Stores = component$(() => {\n *   const counter = useCounter(1);\n *\n *   // Reactivity happens even for nested objects and arrays\n *   const userData = useStore({\n *     name: 'Manu',\n *     address: {\n *       address: '',\n *       city: '',\n *     },\n *     orgs: [],\n *   });\n *\n *   // useStore() can also accept a function to calculate the initial value\n *   const state = useStore(() => {\n *     return {\n *       value: expensiveInitialValue(),\n *     };\n *   });\n *\n *   return (\n *     <div>\n *       <div>Counter: {counter.value}</div>\n *       <Child userData={userData} state={state} />\n *     </div>\n *   );\n * });\n *\n * function useCounter(step: number) {\n *   // Multiple stores can be created in custom hooks for convenience and composability\n *   const counterStore = useStore({\n *     value: 0,\n *   });\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       counterStore.value += step;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *   return counterStore;\n * }\n * ```\n *\n * @public\n */\n// </docs>\nexport const useStore = (initialState, opts) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get != null) {\n        return get;\n    }\n    const value = isFunction(initialState) ? initialState() : initialState;\n    if (opts?.reactive === false) {\n        set(value);\n        return value;\n    }\n    else {\n        const containerState = ctx.$renderCtx$.$containerState$;\n        const recursive = opts?.recursive ?? false;\n        const flags = recursive ? QObjectRecursive : 0;\n        const newStore = createProxy(value, containerState, flags, undefined);\n        set(newStore);\n        return newStore;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0b3JlLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0b3JlLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDbkUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVU1RCwwQ0FBMEM7QUFDMUMseUNBQXlDO0FBQ3pDLHVDQUF1QztBQUN2Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTBERztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FDdEIsWUFBbUMsRUFDbkMsSUFBc0IsRUFDZixFQUFFO0lBQ1QsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsa0JBQWtCLEVBQVMsQ0FBQztJQUN0RCxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7UUFDZixPQUFPLEdBQUcsQ0FBQztLQUNaO0lBQ0QsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBRSxZQUF5QixFQUFFLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztJQUNyRixJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssS0FBSyxFQUFFO1FBQzVCLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNYLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7U0FBTTtRQUNMLE1BQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUM7UUFDeEQsTUFBTSxTQUFTLEdBQUcsSUFBSSxFQUFFLFNBQVMsSUFBSSxLQUFLLENBQUM7UUFDM0MsTUFBTSxLQUFLLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9DLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQyxLQUFLLEVBQUUsY0FBYyxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztRQUN0RSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDZCxPQUFPLFFBQVEsQ0FBQztLQUNqQjtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVByb3h5LCBRT2JqZWN0UmVjdXJzaXZlIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXNlcXVlbnRpYWwtc2NvcGUnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VTdG9yZU9wdGlvbnMge1xuICByZWN1cnNpdmU/OiBib29sZWFuO1xuICByZWFjdGl2ZT86IGJvb2xlYW47XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVN0b3JlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0b3JlIGluc3RlYWQpXG4vKipcbiAqIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgUXdpayBjYW4gdHJhY2sgYWNyb3NzIHNlcmlhbGl6YXRpb25zLlxuICpcbiAqIFVzZSBgdXNlU3RvcmVgIHRvIGNyZWF0ZSBhIHN0YXRlIGZvciB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgcmV0dXJuZWQgb2JqZWN0IGlzIGEgcHJveHkgdGhhdCBoYXNcbiAqIGEgdW5pcXVlIElELiBUaGUgSUQgb2YgdGhlIG9iamVjdCBpcyB1c2VkIGluIHRoZSBgUVJMYHMgdG8gcmVmZXIgdG8gdGhlIHN0b3JlLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBFeGFtcGxlIHNob3dpbmcgaG93IGB1c2VTdG9yZWAgaXMgdXNlZCBpbiBDb3VudGVyIGV4YW1wbGUgdG8ga2VlcCB0cmFjayBvZiB0aGUgY291bnQuXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBTdG9yZXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgY291bnRlciA9IHVzZUNvdW50ZXIoMSk7XG4gKlxuICogICAvLyBSZWFjdGl2aXR5IGhhcHBlbnMgZXZlbiBmb3IgbmVzdGVkIG9iamVjdHMgYW5kIGFycmF5c1xuICogICBjb25zdCB1c2VyRGF0YSA9IHVzZVN0b3JlKHtcbiAqICAgICBuYW1lOiAnTWFudScsXG4gKiAgICAgYWRkcmVzczoge1xuICogICAgICAgYWRkcmVzczogJycsXG4gKiAgICAgICBjaXR5OiAnJyxcbiAqICAgICB9LFxuICogICAgIG9yZ3M6IFtdLFxuICogICB9KTtcbiAqXG4gKiAgIC8vIHVzZVN0b3JlKCkgY2FuIGFsc28gYWNjZXB0IGEgZnVuY3Rpb24gdG8gY2FsY3VsYXRlIHRoZSBpbml0aWFsIHZhbHVlXG4gKiAgIGNvbnN0IHN0YXRlID0gdXNlU3RvcmUoKCkgPT4ge1xuICogICAgIHJldHVybiB7XG4gKiAgICAgICB2YWx1ZTogZXhwZW5zaXZlSW5pdGlhbFZhbHVlKCksXG4gKiAgICAgfTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8ZGl2PkNvdW50ZXI6IHtjb3VudGVyLnZhbHVlfTwvZGl2PlxuICogICAgICAgPENoaWxkIHVzZXJEYXRhPXt1c2VyRGF0YX0gc3RhdGU9e3N0YXRlfSAvPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKlxuICogZnVuY3Rpb24gdXNlQ291bnRlcihzdGVwOiBudW1iZXIpIHtcbiAqICAgLy8gTXVsdGlwbGUgc3RvcmVzIGNhbiBiZSBjcmVhdGVkIGluIGN1c3RvbSBob29rcyBmb3IgY29udmVuaWVuY2UgYW5kIGNvbXBvc2FiaWxpdHlcbiAqICAgY29uc3QgY291bnRlclN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIHZhbHVlOiAwLFxuICogICB9KTtcbiAqICAgdXNlQ2xpZW50RWZmZWN0JCgoKSA9PiB7XG4gKiAgICAgLy8gT25seSBydW5zIGluIHRoZSBjbGllbnRcbiAqICAgICBjb25zdCB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAqICAgICAgIGNvdW50ZXJTdG9yZS52YWx1ZSArPSBzdGVwO1xuICogICAgIH0sIDUwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gY291bnRlclN0b3JlO1xuICogfVxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU3RvcmUgPSA8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+KFxuICBpbml0aWFsU3RhdGU6IFNUQVRFIHwgKCgpID0+IFNUQVRFKSxcbiAgb3B0cz86IFVzZVN0b3JlT3B0aW9uc1xuKTogU1RBVEUgPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBjdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxTVEFURT4oKTtcbiAgaWYgKGdldCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGdldDtcbiAgfVxuICBjb25zdCB2YWx1ZSA9IGlzRnVuY3Rpb24oaW5pdGlhbFN0YXRlKSA/IChpbml0aWFsU3RhdGUgYXMgRnVuY3Rpb24pKCkgOiBpbml0aWFsU3RhdGU7XG4gIGlmIChvcHRzPy5yZWFjdGl2ZSA9PT0gZmFsc2UpIHtcbiAgICBzZXQodmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjb250YWluZXJTdGF0ZSA9IGN0eC4kcmVuZGVyQ3R4JC4kY29udGFpbmVyU3RhdGUkO1xuICAgIGNvbnN0IHJlY3Vyc2l2ZSA9IG9wdHM/LnJlY3Vyc2l2ZSA/PyBmYWxzZTtcbiAgICBjb25zdCBmbGFncyA9IHJlY3Vyc2l2ZSA/IFFPYmplY3RSZWN1cnNpdmUgOiAwO1xuICAgIGNvbnN0IG5ld1N0b3JlID0gY3JlYXRlUHJveHkodmFsdWUsIGNvbnRhaW5lclN0YXRlLCBmbGFncywgdW5kZWZpbmVkKTtcbiAgICBzZXQobmV3U3RvcmUpO1xuICAgIHJldHVybiBuZXdTdG9yZTtcbiAgfVxufTtcbiJdfQ==","import { useStore } from './use-store.public';\n// <docs markdown=\"../readme.md#useRef\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useRef instead)\n/**\n * It's a very thin wrapper around `useStore()`, including the proper type signature to be passed\n * to the `ref` property in JSX.\n *\n * ```tsx\n * export function useRef<T = Element>(current?: T): Ref<T> {\n *   return useStore({ current });\n * }\n * ```\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const input = useRef<HTMLInputElement>();\n *\n *   useClientEffect$(({ track }) => {\n *     const el = track(input, 'current')!;\n *     el.focus();\n *   });\n *\n *   return (\n *     <div>\n *       <input type=\"text\" ref={input} />\n *     </div>\n *   );\n * });\n *\n * ```\n *\n * @public\n */\n// </docs>\nexport const useRef = (current) => {\n    return useStore({ current });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlZi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXJlZi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFTOUMsd0NBQXdDO0FBQ3hDLHlDQUF5QztBQUN6QyxxQ0FBcUM7QUFDckM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0ErQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQThCLE9BQVcsRUFBVSxFQUFFO0lBQ3pFLE9BQU8sUUFBUSxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztBQUMvQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJy4vdXNlLXN0b3JlLnB1YmxpYyc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlZjxUPiB7XG4gIGN1cnJlbnQ6IFQgfCB1bmRlZmluZWQ7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVJlZlwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VSZWYgaW5zdGVhZClcbi8qKlxuICogSXQncyBhIHZlcnkgdGhpbiB3cmFwcGVyIGFyb3VuZCBgdXNlU3RvcmUoKWAsIGluY2x1ZGluZyB0aGUgcHJvcGVyIHR5cGUgc2lnbmF0dXJlIHRvIGJlIHBhc3NlZFxuICogdG8gdGhlIGByZWZgIHByb3BlcnR5IGluIEpTWC5cbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBmdW5jdGlvbiB1c2VSZWY8VCA9IEVsZW1lbnQ+KGN1cnJlbnQ/OiBUKTogUmVmPFQ+IHtcbiAqICAgcmV0dXJuIHVzZVN0b3JlKHsgY3VycmVudCB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBpbnB1dCA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PigpO1xuICpcbiAqICAgdXNlQ2xpZW50RWZmZWN0JCgoeyB0cmFjayB9KSA9PiB7XG4gKiAgICAgY29uc3QgZWwgPSB0cmFjayhpbnB1dCwgJ2N1cnJlbnQnKSE7XG4gKiAgICAgZWwuZm9jdXMoKTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiByZWY9e2lucHV0fSAvPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlUmVmID0gPFQgZXh0ZW5kcyBFbGVtZW50ID0gRWxlbWVudD4oY3VycmVudD86IFQpOiBSZWY8VD4gPT4ge1xuICByZXR1cm4gdXNlU3RvcmUoeyBjdXJyZW50IH0pO1xufTtcbiJdfQ==","import { fromCamelToKebabCase } from '../util/case';\nimport { getContext, tryGetContext } from '../props/props';\nimport { qError, QError_invalidContext, QError_notFoundContext } from '../error/error';\nimport { verifySerializable } from '../object/q-object';\nimport { qDev } from '../util/qdev';\nimport { isObject } from '../util/types';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { getVirtualElement, isComment, } from '../render/dom/virtual-element';\n// <docs markdown=\"../readme.md#createContext\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#createContext instead)\n/**\n * Create a context ID to be used in your application.\n *\n * Context is a way to pass stores to the child components without prop-drilling.\n *\n * Use `createContext()` to create a `Context`. `Context` is just a serializable identifier for\n * the context. It is not the context value itself. See `useContextProvider()` and `useContext()`\n * for the values. Qwik needs a serializable ID for the context so that the it can track context\n * providers and consumers in a way that survives resumability.\n *\n * ## Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContext<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n * @param name - The name of the context.\n * @public\n */\n// </docs>\nexport const createContext = (name) => {\n    return Object.freeze({\n        id: fromCamelToKebabCase(name),\n    });\n};\n// <docs markdown=\"../readme.md#useContextProvider\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useContextProvider instead)\n/**\n * Assign a value to a Context.\n *\n * Use `useContextProvider()` to assign a value to a context. The assignment happens in the\n * component's function. Once assign use `useContext()` in any child component to retrieve the\n * value.\n *\n * Context is a way to pass stores to the child components without prop-drilling.\n *\n * ## Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContext<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n * @param context - The context to assign a value to.\n * @param value - The value to assign to the context.\n * @public\n */\n// </docs>\nexport const useContextProvider = (context, newValue) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return;\n    }\n    if (qDev) {\n        validateContext(context);\n    }\n    const hostElement = ctx.$hostElement$;\n    const hostCtx = getContext(hostElement);\n    let contexts = hostCtx.$contexts$;\n    if (!contexts) {\n        hostCtx.$contexts$ = contexts = new Map();\n    }\n    if (qDev) {\n        verifySerializable(newValue);\n    }\n    contexts.set(context.id, newValue);\n    set(true);\n};\n// <docs markdown=\"../readme.md#useContext\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useContext instead)\n/**\n * Retrive Context value.\n *\n * Use `useContext()` to retrieve the value of context in a component. To retrieve a value a\n * parent component needs to invoke `useContextProvider()` to assign a value.\n *\n * ## Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContext<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n * @param context - The context to retrieve a value from.\n * @public\n */\n// </docs>\nexport const useContext = (context) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return get;\n    }\n    if (qDev) {\n        validateContext(context);\n    }\n    let hostElement = ctx.$hostElement$;\n    const contexts = ctx.$renderCtx$.$localStack$;\n    for (let i = contexts.length - 1; i >= 0; i--) {\n        const ctx = contexts[i];\n        hostElement = ctx.$element$;\n        if (ctx.$contexts$) {\n            const found = ctx.$contexts$.get(context.id);\n            if (found) {\n                set(found);\n                return found;\n            }\n        }\n    }\n    if (hostElement.closest) {\n        const value = queryContextFromDom(hostElement, context.id);\n        if (value !== undefined) {\n            set(value);\n            return value;\n        }\n    }\n    throw qError(QError_notFoundContext, context.id);\n};\nexport const queryContextFromDom = (hostElement, contextId) => {\n    let element = hostElement;\n    while (element) {\n        let node = element;\n        let virtual;\n        while (node && (virtual = findVirtual(node))) {\n            const contexts = tryGetContext(virtual)?.$contexts$;\n            if (contexts) {\n                if (contexts.has(contextId)) {\n                    return contexts.get(contextId);\n                }\n            }\n            node = virtual;\n        }\n        element = element.parentElement;\n    }\n    return undefined;\n};\nexport const findVirtual = (el) => {\n    let node = el;\n    let stack = 1;\n    while ((node = node.previousSibling)) {\n        if (isComment(node)) {\n            if (node.data === '/qv') {\n                stack++;\n            }\n            else if (node.data.startsWith('qv ')) {\n                stack--;\n                if (stack === 0) {\n                    return getVirtualElement(node);\n                }\n            }\n        }\n    }\n    return null;\n};\nexport const validateContext = (context) => {\n    if (!isObject(context) || typeof context.id !== 'string' || context.id.length === 0) {\n        throw qError(QError_invalidContext, context);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvbnRleHQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwRCxPQUFPLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzNELE9BQU8sRUFBRSxNQUFNLEVBQUUscUJBQXFCLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN2RixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDNUQsT0FBTyxFQUNMLGlCQUFpQixFQUNqQixTQUFTLEdBR1YsTUFBTSwrQkFBK0IsQ0FBQztBQWlFdkMsK0NBQStDO0FBQy9DLHlDQUF5QztBQUN6Qyw0Q0FBNEM7QUFDNUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWdERztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBdUIsSUFBWSxFQUFrQixFQUFFO0lBQ2xGLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNuQixFQUFFLEVBQUUsb0JBQW9CLENBQUMsSUFBSSxDQUFDO0tBQ3hCLENBQUMsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUVGLG9EQUFvRDtBQUNwRCx5Q0FBeUM7QUFDekMsaURBQWlEO0FBQ2pEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FnREc7QUFDSCxVQUFVO0FBQ1YsTUFB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QUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksT0FBTyxPQUFPLENBQUMsRUFBRSxLQUFLLFFBQVEsSUFBSSxPQUFPLENBQUMsRUFBRSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDbkYsTUFBTSxNQUFNLENBQUMscUJBQXFCLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDOUM7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSB9IGZyb20gJy4uL3V0aWwvY2FzZSc7XG5pbXBvcnQgeyBnZXRDb250ZXh0LCB0cnlHZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfaW52YWxpZENvbnRleHQsIFFFcnJvcl9ub3RGb3VuZENvbnRleHQgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyB2ZXJpZnlTZXJpYWxpemFibGUgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc2VxdWVudGlhbC1zY29wZSc7XG5pbXBvcnQge1xuICBnZXRWaXJ0dWFsRWxlbWVudCxcbiAgaXNDb21tZW50LFxuICBRd2lrRWxlbWVudCxcbiAgVmlydHVhbEVsZW1lbnQsXG59IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjQ29udGV4dFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNDb250ZXh0IGluc3RlYWQpXG4vKipcbiAqIENvbnRleHQgaXMgYSB0eXBlc2FmZSBJRCBmb3IgeW91ciBjb250ZXh0LlxuICpcbiAqIENvbnRleHQgaXMgYSB3YXkgdG8gcGFzcyBzdG9yZXMgdG8gdGhlIGNoaWxkIGNvbXBvbmVudHMgd2l0aG91dCBwcm9wLWRyaWxsaW5nLlxuICpcbiAqIFVzZSBgY3JlYXRlQ29udGV4dCgpYCB0byBjcmVhdGUgYSBgQ29udGV4dGAuIGBDb250ZXh0YCBpcyBqdXN0IGEgc2VyaWFsaXphYmxlIGlkZW50aWZpZXIgZm9yXG4gKiB0aGUgY29udGV4dC4gSXQgaXMgbm90IHRoZSBjb250ZXh0IHZhbHVlIGl0c2VsZi4gU2VlIGB1c2VDb250ZXh0UHJvdmlkZXIoKWAgYW5kIGB1c2VDb250ZXh0KClgXG4gKiBmb3IgdGhlIHZhbHVlcy4gUXdpayBuZWVkcyBhIHNlcmlhbGl6YWJsZSBJRCBmb3IgdGhlIGNvbnRleHQgc28gdGhhdCB0aGUgaXQgY2FuIHRyYWNrIGNvbnRleHRcbiAqIHByb3ZpZGVycyBhbmQgY29uc3VtZXJzIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgcmVzdW1hYmlsaXR5LlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIERlY2xhcmUgdGhlIENvbnRleHQgdHlwZS5cbiAqIGludGVyZmFjZSBUb2Rvc1N0b3JlIHtcbiAqICAgaXRlbXM6IHN0cmluZ1tdO1xuICogfVxuICogLy8gQ3JlYXRlIGEgQ29udGV4dCBJRCAobm8gZGF0YSBpcyBzYXZlZCBoZXJlLilcbiAqIC8vIFlvdSB3aWxsIHVzZSB0aGlzIElEIHRvIGJvdGggY3JlYXRlIGFuZCByZXRyaWV2ZSB0aGUgQ29udGV4dC5cbiAqIGV4cG9ydCBjb25zdCBUb2Rvc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRvZG9zU3RvcmU+KCdUb2RvcycpO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcHJvdmlkaW5nIGNvbnRleHQgdG8gY2hpbGQgY29tcG9uZW50cy5cbiAqIGV4cG9ydCBjb25zdCBBcHAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ29udGV4dFByb3ZpZGVyKFxuICogICAgIFRvZG9zQ29udGV4dCxcbiAqICAgICB1c2VTdG9yZTxUb2Rvc1N0b3JlPih7XG4gKiAgICAgICBpdGVtczogWydMZWFybiBRd2lrJywgJ0J1aWxkIFF3aWsgYXBwJywgJ1Byb2ZpdCddLFxuICogICAgIH0pXG4gKiAgICk7XG4gKlxuICogICByZXR1cm4gPEl0ZW1zIC8+O1xuICogfSk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiByZXRyaWV2aW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkIGJ5IGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCB0b2RvcyA9IHVzZUNvbnRleHQoVG9kb3NDb250ZXh0KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8dWw+XG4gKiAgICAgICB7dG9kb3MuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gKiAgICAgICAgIDxsaT57aXRlbX08L2xpPlxuICogICAgICAgKSl9XG4gKiAgICAgPC91bD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgaW50ZXJmYWNlIENvbnRleHQ8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+IHtcbiAgLyoqXG4gICAqIERlc2lnbi10aW1lIHByb3BlcnR5IHRvIHN0b3JlIHR5cGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb250ZXh0LlxuICAgKi9cbiAgcmVhZG9ubHkgX19icmFuZF9jb250ZXh0X3R5cGVfXzogU1RBVEU7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBJRCBmb3IgdGhlIGNvbnRleHQuXG4gICAqL1xuICByZWFkb25seSBpZDogc3RyaW5nO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNjcmVhdGVDb250ZXh0XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI2NyZWF0ZUNvbnRleHQgaW5zdGVhZClcbi8qKlxuICogQ3JlYXRlIGEgY29udGV4dCBJRCB0byBiZSB1c2VkIGluIHlvdXIgYXBwbGljYXRpb24uXG4gKlxuICogQ29udGV4dCBpcyBhIHdheSB0byBwYXNzIHN0b3JlcyB0byB0aGUgY2hpbGQgY29tcG9uZW50cyB3aXRob3V0IHByb3AtZHJpbGxpbmcuXG4gKlxuICogVXNlIGBjcmVhdGVDb250ZXh0KClgIHRvIGNyZWF0ZSBhIGBDb250ZXh0YC4gYENvbnRleHRgIGlzIGp1c3QgYSBzZXJpYWxpemFibGUgaWRlbnRpZmllciBmb3JcbiAqIHRoZSBjb250ZXh0LiBJdCBpcyBub3QgdGhlIGNvbnRleHQgdmFsdWUgaXRzZWxmLiBTZWUgYHVzZUNvbnRleHRQcm92aWRlcigpYCBhbmQgYHVzZUNvbnRleHQoKWBcbiAqIGZvciB0aGUgdmFsdWVzLiBRd2lrIG5lZWRzIGEgc2VyaWFsaXphYmxlIElEIGZvciB0aGUgY29udGV4dCBzbyB0aGF0IHRoZSBpdCBjYW4gdHJhY2sgY29udGV4dFxuICogcHJvdmlkZXJzIGFuZCBjb25zdW1lcnMgaW4gYSB3YXkgdGhhdCBzdXJ2aXZlcyByZXN1bWFiaWxpdHkuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogLy8gRGVjbGFyZSB0aGUgQ29udGV4dCB0eXBlLlxuICogaW50ZXJmYWNlIFRvZG9zU3RvcmUge1xuICogICBpdGVtczogc3RyaW5nW107XG4gKiB9XG4gKiAvLyBDcmVhdGUgYSBDb250ZXh0IElEIChubyBkYXRhIGlzIHNhdmVkIGhlcmUuKVxuICogLy8gWW91IHdpbGwgdXNlIHRoaXMgSUQgdG8gYm90aCBjcmVhdGUgYW5kIHJldHJpZXZlIHRoZSBDb250ZXh0LlxuICogZXhwb3J0IGNvbnN0IFRvZG9zQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VG9kb3NTdG9yZT4oJ1RvZG9zJyk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiBwcm92aWRpbmcgY29udGV4dCB0byBjaGlsZCBjb21wb25lbnRzLlxuICogZXhwb3J0IGNvbnN0IEFwcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDb250ZXh0UHJvdmlkZXIoXG4gKiAgICAgVG9kb3NDb250ZXh0LFxuICogICAgIHVzZVN0b3JlPFRvZG9zU3RvcmU+KHtcbiAqICAgICAgIGl0ZW1zOiBbJ0xlYXJuIFF3aWsnLCAnQnVpbGQgUXdpayBhcHAnLCAnUHJvZml0J10sXG4gKiAgICAgfSlcbiAqICAgKTtcbiAqXG4gKiAgIHJldHVybiA8SXRlbXMgLz47XG4gKiB9KTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHJldHJpZXZpbmcgdGhlIGNvbnRleHQgcHJvdmlkZWQgYnkgYSBwYXJlbnQgY29tcG9uZW50LlxuICogZXhwb3J0IGNvbnN0IEl0ZW1zID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHRvZG9zID0gdXNlQ29udGV4dChUb2Rvc0NvbnRleHQpO1xuICogICByZXR1cm4gKFxuICogICAgIDx1bD5cbiAqICAgICAgIHt0b2Rvcy5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAqICAgICAgICAgPGxpPntpdGVtfTwvbGk+XG4gKiAgICAgICApKX1cbiAqICAgICA8L3VsPlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjb250ZXh0LlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgY3JlYXRlQ29udGV4dCA9IDxTVEFURSBleHRlbmRzIG9iamVjdD4obmFtZTogc3RyaW5nKTogQ29udGV4dDxTVEFURT4gPT4ge1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgaWQ6IGZyb21DYW1lbFRvS2ViYWJDYXNlKG5hbWUpLFxuICB9IGFzIGFueSk7XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VDb250ZXh0UHJvdmlkZXJcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ29udGV4dFByb3ZpZGVyIGluc3RlYWQpXG4vKipcbiAqIEFzc2lnbiBhIHZhbHVlIHRvIGEgQ29udGV4dC5cbiAqXG4gKiBVc2UgYHVzZUNvbnRleHRQcm92aWRlcigpYCB0byBhc3NpZ24gYSB2YWx1ZSB0byBhIGNvbnRleHQuIFRoZSBhc3NpZ25tZW50IGhhcHBlbnMgaW4gdGhlXG4gKiBjb21wb25lbnQncyBmdW5jdGlvbi4gT25jZSBhc3NpZ24gdXNlIGB1c2VDb250ZXh0KClgIGluIGFueSBjaGlsZCBjb21wb25lbnQgdG8gcmV0cmlldmUgdGhlXG4gKiB2YWx1ZS5cbiAqXG4gKiBDb250ZXh0IGlzIGEgd2F5IHRvIHBhc3Mgc3RvcmVzIHRvIHRoZSBjaGlsZCBjb21wb25lbnRzIHdpdGhvdXQgcHJvcC1kcmlsbGluZy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiAvLyBEZWNsYXJlIHRoZSBDb250ZXh0IHR5cGUuXG4gKiBpbnRlcmZhY2UgVG9kb3NTdG9yZSB7XG4gKiAgIGl0ZW1zOiBzdHJpbmdbXTtcbiAqIH1cbiAqIC8vIENyZWF0ZSBhIENvbnRleHQgSUQgKG5vIGRhdGEgaXMgc2F2ZWQgaGVyZS4pXG4gKiAvLyBZb3Ugd2lsbCB1c2UgdGhpcyBJRCB0byBib3RoIGNyZWF0ZSBhbmQgcmV0cmlldmUgdGhlIENvbnRleHQuXG4gKiBleHBvcnQgY29uc3QgVG9kb3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUb2Rvc1N0b3JlPignVG9kb3MnKTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHByb3ZpZGluZyBjb250ZXh0IHRvIGNoaWxkIGNvbXBvbmVudHMuXG4gKiBleHBvcnQgY29uc3QgQXBwID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUNvbnRleHRQcm92aWRlcihcbiAqICAgICBUb2Rvc0NvbnRleHQsXG4gKiAgICAgdXNlU3RvcmU8VG9kb3NTdG9yZT4oe1xuICogICAgICAgaXRlbXM6IFsnTGVhcm4gUXdpaycsICdCdWlsZCBRd2lrIGFwcCcsICdQcm9maXQnXSxcbiAqICAgICB9KVxuICogICApO1xuICpcbiAqICAgcmV0dXJuIDxJdGVtcyAvPjtcbiAqIH0pO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcmV0cmlldmluZyB0aGUgY29udGV4dCBwcm92aWRlZCBieSBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBleHBvcnQgY29uc3QgSXRlbXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgdG9kb3MgPSB1c2VDb250ZXh0KFRvZG9zQ29udGV4dCk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPHVsPlxuICogICAgICAge3RvZG9zLml0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICogICAgICAgICA8bGk+e2l0ZW19PC9saT5cbiAqICAgICAgICkpfVxuICogICAgIDwvdWw+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGNvbnRleHQgdG8gYXNzaWduIGEgdmFsdWUgdG8uXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBjb250ZXh0LlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ29udGV4dFByb3ZpZGVyID0gPFNUQVRFIGV4dGVuZHMgb2JqZWN0PihcbiAgY29udGV4dDogQ29udGV4dDxTVEFURT4sXG4gIG5ld1ZhbHVlOiBTVEFURVxuKSA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPGJvb2xlYW4+KCk7XG4gIGlmIChnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHFEZXYpIHtcbiAgICB2YWxpZGF0ZUNvbnRleHQoY29udGV4dCk7XG4gIH1cbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBjdHguJGhvc3RFbGVtZW50JCE7XG4gIGNvbnN0IGhvc3RDdHggPSBnZXRDb250ZXh0KGhvc3RFbGVtZW50KTtcbiAgbGV0IGNvbnRleHRzID0gaG9zdEN0eC4kY29udGV4dHMkO1xuICBpZiAoIWNvbnRleHRzKSB7XG4gICAgaG9zdEN0eC4kY29udGV4dHMkID0gY29udGV4dHMgPSBuZXcgTWFwKCk7XG4gIH1cbiAgaWYgKHFEZXYpIHtcbiAgICB2ZXJpZnlTZXJpYWxpemFibGUobmV3VmFsdWUpO1xuICB9XG4gIGNvbnRleHRzLnNldChjb250ZXh0LmlkLCBuZXdWYWx1ZSk7XG4gIHNldCh0cnVlKTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNvbnRleHRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ29udGV4dCBpbnN0ZWFkKVxuLyoqXG4gKiBSZXRyaXZlIENvbnRleHQgdmFsdWUuXG4gKlxuICogVXNlIGB1c2VDb250ZXh0KClgIHRvIHJldHJpZXZlIHRoZSB2YWx1ZSBvZiBjb250ZXh0IGluIGEgY29tcG9uZW50LiBUbyByZXRyaWV2ZSBhIHZhbHVlIGFcbiAqIHBhcmVudCBjb21wb25lbnQgbmVlZHMgdG8gaW52b2tlIGB1c2VDb250ZXh0UHJvdmlkZXIoKWAgdG8gYXNzaWduIGEgdmFsdWUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogLy8gRGVjbGFyZSB0aGUgQ29udGV4dCB0eXBlLlxuICogaW50ZXJmYWNlIFRvZG9zU3RvcmUge1xuICogICBpdGVtczogc3RyaW5nW107XG4gKiB9XG4gKiAvLyBDcmVhdGUgYSBDb250ZXh0IElEIChubyBkYXRhIGlzIHNhdmVkIGhlcmUuKVxuICogLy8gWW91IHdpbGwgdXNlIHRoaXMgSUQgdG8gYm90aCBjcmVhdGUgYW5kIHJldHJpZXZlIHRoZSBDb250ZXh0LlxuICogZXhwb3J0IGNvbnN0IFRvZG9zQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VG9kb3NTdG9yZT4oJ1RvZG9zJyk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiBwcm92aWRpbmcgY29udGV4dCB0byBjaGlsZCBjb21wb25lbnRzLlxuICogZXhwb3J0IGNvbnN0IEFwcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDb250ZXh0UHJvdmlkZXIoXG4gKiAgICAgVG9kb3NDb250ZXh0LFxuICogICAgIHVzZVN0b3JlPFRvZG9zU3RvcmU+KHtcbiAqICAgICAgIGl0ZW1zOiBbJ0xlYXJuIFF3aWsnLCAnQnVpbGQgUXdpayBhcHAnLCAnUHJvZml0J10sXG4gKiAgICAgfSlcbiAqICAgKTtcbiAqXG4gKiAgIHJldHVybiA8SXRlbXMgLz47XG4gKiB9KTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHJldHJpZXZpbmcgdGhlIGNvbnRleHQgcHJvdmlkZWQgYnkgYSBwYXJlbnQgY29tcG9uZW50LlxuICogZXhwb3J0IGNvbnN0IEl0ZW1zID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHRvZG9zID0gdXNlQ29udGV4dChUb2Rvc0NvbnRleHQpO1xuICogICByZXR1cm4gKFxuICogICAgIDx1bD5cbiAqICAgICAgIHt0b2Rvcy5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAqICAgICAgICAgPGxpPntpdGVtfTwvbGk+XG4gKiAgICAgICApKX1cbiAqICAgICA8L3VsPlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKiBAcGFyYW0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIHJldHJpZXZlIGEgdmFsdWUgZnJvbS5cbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNvbnRleHQgPSA8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+KGNvbnRleHQ6IENvbnRleHQ8U1RBVEU+KTogU1RBVEUgPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBjdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxTVEFURT4oKTtcbiAgaWYgKGdldCkge1xuICAgIHJldHVybiBnZXQ7XG4gIH1cbiAgaWYgKHFEZXYpIHtcbiAgICB2YWxpZGF0ZUNvbnRleHQoY29udGV4dCk7XG4gIH1cblxuICBsZXQgaG9zdEVsZW1lbnQ6IFF3aWtFbGVtZW50ID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IGNvbnRleHRzID0gY3R4LiRyZW5kZXJDdHgkLiRsb2NhbFN0YWNrJDtcbiAgZm9yIChsZXQgaSA9IGNvbnRleHRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgY3R4ID0gY29udGV4dHNbaV07XG4gICAgaG9zdEVsZW1lbnQgPSBjdHguJGVsZW1lbnQkO1xuICAgIGlmIChjdHguJGNvbnRleHRzJCkge1xuICAgICAgY29uc3QgZm91bmQgPSBjdHguJGNvbnRleHRzJC5nZXQoY29udGV4dC5pZCk7XG4gICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgc2V0KGZvdW5kKTtcbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICgoaG9zdEVsZW1lbnQgYXMgYW55KS5jbG9zZXN0KSB7XG4gICAgY29uc3QgdmFsdWUgPSBxdWVyeUNvbnRleHRGcm9tRG9tKGhvc3RFbGVtZW50LCBjb250ZXh0LmlkKTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0KHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgdGhyb3cgcUVycm9yKFFFcnJvcl9ub3RGb3VuZENvbnRleHQsIGNvbnRleHQuaWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHF1ZXJ5Q29udGV4dEZyb21Eb20gPSAoaG9zdEVsZW1lbnQ6IFF3aWtFbGVtZW50LCBjb250ZXh0SWQ6IHN0cmluZykgPT4ge1xuICBsZXQgZWxlbWVudDogUXdpa0VsZW1lbnQgfCBudWxsID0gaG9zdEVsZW1lbnQ7XG4gIHdoaWxlIChlbGVtZW50KSB7XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGwgPSBlbGVtZW50O1xuICAgIGxldCB2aXJ0dWFsOiBWaXJ0dWFsRWxlbWVudCB8IG51bGw7XG4gICAgd2hpbGUgKG5vZGUgJiYgKHZpcnR1YWwgPSBmaW5kVmlydHVhbChub2RlKSkpIHtcbiAgICAgIGNvbnN0IGNvbnRleHRzID0gdHJ5R2V0Q29udGV4dCh2aXJ0dWFsKT8uJGNvbnRleHRzJDtcbiAgICAgIGlmIChjb250ZXh0cykge1xuICAgICAgICBpZiAoY29udGV4dHMuaGFzKGNvbnRleHRJZCkpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dHMuZ2V0KGNvbnRleHRJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSB2aXJ0dWFsO1xuICAgIH1cbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZmluZFZpcnR1YWwgPSAoZWw6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCkgPT4ge1xuICBsZXQgbm9kZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50IHwgbnVsbCA9IGVsO1xuICBsZXQgc3RhY2sgPSAxO1xuICB3aGlsZSAoKG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZykpIHtcbiAgICBpZiAoaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICBpZiAobm9kZS5kYXRhID09PSAnL3F2Jykge1xuICAgICAgICBzdGFjaysrO1xuICAgICAgfSBlbHNlIGlmIChub2RlLmRhdGEuc3RhcnRzV2l0aCgncXYgJykpIHtcbiAgICAgICAgc3RhY2stLTtcbiAgICAgICAgaWYgKHN0YWNrID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGdldFZpcnR1YWxFbGVtZW50KG5vZGUpITtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUNvbnRleHQgPSAoY29udGV4dDogQ29udGV4dDxhbnk+KSA9PiB7XG4gIGlmICghaXNPYmplY3QoY29udGV4dCkgfHwgdHlwZW9mIGNvbnRleHQuaWQgIT09ICdzdHJpbmcnIHx8IGNvbnRleHQuaWQubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9pbnZhbGlkQ29udGV4dCwgY29udGV4dCk7XG4gIH1cbn07XG4iXX0=","import { useInvokeContext } from './use-core';\n/**\n * @alpha\n */\nexport function useEnvData(key, defaultValue) {\n    const ctx = useInvokeContext();\n    return ctx.$renderCtx$.$containerState$.$envData$[key] ?? defaultValue;\n}\n/**\n * @alpha\n * @deprecated Please use `useEnvData` instead.\n */\nexport const useUserContext = useEnvData;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWVudi1kYXRhLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtZW52LWRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBWTlDOztHQUVHO0FBQ0gsTUFBTSxVQUFVLFVBQVUsQ0FBQyxHQUFXLEVBQUUsWUFBa0I7SUFDeEQsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQixPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLFlBQVksQ0FBQztBQUN6RSxDQUFDO0FBRUQ7OztHQUdHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLFVBQVUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUVudkRhdGE8VD4oa2V5OiBzdHJpbmcpOiBUIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlRW52RGF0YTxULCBCID0gVD4oa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogQik6IFQgfCBCO1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlRW52RGF0YShrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogYW55KSB7XG4gIGNvbnN0IGN0eCA9IHVzZUludm9rZUNvbnRleHQoKTtcbiAgcmV0dXJuIGN0eC4kcmVuZGVyQ3R4JC4kY29udGFpbmVyU3RhdGUkLiRlbnZEYXRhJFtrZXldID8/IGRlZmF1bHRWYWx1ZTtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2UgYHVzZUVudkRhdGFgIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VVc2VyQ29udGV4dCA9IHVzZUVudkRhdGE7XG4iXX0=","import { ComponentStylesPrefixContent } from '../util/markers';\nexport function scopeStylesheet(css, scopeId) {\n    const end = css.length;\n    const out = [];\n    const stack = [];\n    let idx = 0;\n    let lastIdx = idx;\n    let mode = MODE.selector;\n    let lastCh = 0;\n    while (idx < end) {\n        let ch = css.charCodeAt(idx++);\n        if (ch === CHAR.BACKSLASH) {\n            idx++;\n            ch = CHAR.A; // Pretend it's a letter\n        }\n        const arcs = STATE_MACHINE[mode];\n        for (let i = 0; i < arcs.length; i++) {\n            const [expectLastCh, expectCh, newMode] = arcs[i];\n            if (expectLastCh === lastCh ||\n                expectLastCh === CHAR.ANY ||\n                (expectLastCh === CHAR.IDENT && isIdent(lastCh))) {\n                if (expectCh === ch ||\n                    expectCh === CHAR.ANY ||\n                    (expectCh === CHAR.NOT_IDENT_AND_NOT_DOT && !isIdent(ch) && ch !== CHAR.DOT)) {\n                    if (newMode === MODE.EXIT) {\n                        mode = stack.pop() || MODE.selector;\n                    }\n                    else if (mode === newMode) {\n                        flush(idx - 1);\n                        out.push('.', ComponentStylesPrefixContent, scopeId);\n                    }\n                    else {\n                        stack.push(mode);\n                        mode = newMode;\n                    }\n                }\n            }\n        }\n        lastCh = ch;\n    }\n    flush(idx);\n    return out.join('');\n    function flush(idx) {\n        out.push(css.substring(lastIdx, idx));\n        lastIdx = idx;\n    }\n}\nfunction isIdent(ch) {\n    return ((ch >= CHAR._0 && ch <= CHAR._9) ||\n        (ch >= CHAR.A && ch <= CHAR.Z) ||\n        (ch >= CHAR.a && ch <= CHAR.z) ||\n        ch === CHAR.UNDERSCORE ||\n        ch === CHAR.DASH);\n}\nvar MODE;\n(function (MODE) {\n    MODE[MODE[\"selector\"] = 0] = \"selector\";\n    MODE[MODE[\"media\"] = 1] = \"media\";\n    MODE[MODE[\"body\"] = 2] = \"body\";\n    MODE[MODE[\"stringSingle\"] = 3] = \"stringSingle\";\n    MODE[MODE[\"stringDouble\"] = 4] = \"stringDouble\";\n    MODE[MODE[\"commentMultiline\"] = 5] = \"commentMultiline\";\n    MODE[MODE[\"EXIT\"] = 6] = \"EXIT\";\n})(MODE || (MODE = {}));\nvar CHAR;\n(function (CHAR) {\n    CHAR[CHAR[\"ANY\"] = 0] = \"ANY\";\n    CHAR[CHAR[\"IDENT\"] = 1] = \"IDENT\";\n    CHAR[CHAR[\"NOT_IDENT_AND_NOT_DOT\"] = 2] = \"NOT_IDENT_AND_NOT_DOT\";\n    CHAR[CHAR[\"SPACE\"] = 32] = \"SPACE\";\n    CHAR[CHAR[\"FORWARD_SLASH\"] = 47] = \"FORWARD_SLASH\";\n    CHAR[CHAR[\"DOUBLE_QUOTE\"] = 34] = \"DOUBLE_QUOTE\";\n    CHAR[CHAR[\"SINGLE_QUOTE\"] = 39] = \"SINGLE_QUOTE\";\n    CHAR[CHAR[\"STAR\"] = 42] = \"STAR\";\n    CHAR[CHAR[\"DASH\"] = 45] = \"DASH\";\n    CHAR[CHAR[\"DOT\"] = 46] = \"DOT\";\n    CHAR[CHAR[\"AT\"] = 64] = \"AT\";\n    CHAR[CHAR[\"A\"] = 65] = \"A\";\n    CHAR[CHAR[\"Z\"] = 90] = \"Z\";\n    CHAR[CHAR[\"_0\"] = 48] = \"_0\";\n    CHAR[CHAR[\"_9\"] = 57] = \"_9\";\n    CHAR[CHAR[\"BACKSLASH\"] = 92] = \"BACKSLASH\";\n    CHAR[CHAR[\"UNDERSCORE\"] = 95] = \"UNDERSCORE\";\n    CHAR[CHAR[\"a\"] = 97] = \"a\";\n    CHAR[CHAR[\"z\"] = 122] = \"z\";\n    CHAR[CHAR[\"OPEN_BRACE\"] = 123] = \"OPEN_BRACE\";\n    CHAR[CHAR[\"CLOSE_BRACE\"] = 125] = \"CLOSE_BRACE\";\n})(CHAR || (CHAR = {}));\nconst STATE_MACHINE = [\n    [\n        [CHAR.IDENT, CHAR.NOT_IDENT_AND_NOT_DOT, MODE.selector],\n        [CHAR.ANY, CHAR.AT, MODE.media],\n        [CHAR.ANY, CHAR.OPEN_BRACE, MODE.body],\n        [CHAR.FORWARD_SLASH, CHAR.STAR, MODE.commentMultiline],\n    ] /*selector*/,\n    [\n        [CHAR.ANY, CHAR.CLOSE_BRACE, MODE.EXIT],\n        [CHAR.FORWARD_SLASH, CHAR.STAR, MODE.commentMultiline],\n        [CHAR.ANY, CHAR.OPEN_BRACE, MODE.selector],\n        [CHAR.FORWARD_SLASH, CHAR.STAR, MODE.commentMultiline],\n    ] /*media*/,\n    [\n        [CHAR.ANY, CHAR.CLOSE_BRACE, MODE.EXIT],\n        [CHAR.ANY, CHAR.SINGLE_QUOTE, MODE.stringSingle],\n        [CHAR.ANY, CHAR.DOUBLE_QUOTE, MODE.stringDouble],\n        [CHAR.FORWARD_SLASH, CHAR.STAR, MODE.commentMultiline],\n    ] /*body*/,\n    [[CHAR.ANY, CHAR.SINGLE_QUOTE, MODE.EXIT]] /*stringSingle*/,\n    [[CHAR.ANY, CHAR.DOUBLE_QUOTE, MODE.EXIT]] /*stringDouble*/,\n    [[CHAR.STAR, CHAR.FORWARD_SLASH, MODE.EXIT]] /*commentMultiline*/,\n];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVkLXN0eWxlc2hlZXQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc3R5bGUvc2NvcGVkLXN0eWxlc2hlZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLDRCQUE0QixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0QsTUFBTSxVQUFVLGVBQWUsQ0FBQyxHQUFXLEVBQUUsT0FBZTtJQUMxRCxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDO0lBQ3ZCLE1BQU0sR0FBRyxHQUFhLEVBQUUsQ0FBQztJQUN6QixNQUFNLEtBQUssR0FBVyxFQUFFLENBQUM7SUFDekIsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBQ1osSUFBSSxPQUFPLEdBQUcsR0FBRyxDQUFDO0lBQ2xCLElBQUksSUFBSSxHQUFTLElBQUksQ0FBQyxRQUFlLENBQUM7SUFDdEMsSUFBSSxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ2YsT0FBTyxHQUFHLEdBQUcsR0FBRyxFQUFFO1FBQ2hCLElBQUksRUFBRSxHQUFHLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUMvQixJQUFJLEVBQUUsS0FBSyxJQUFJLENBQUMsU0FBUyxFQUFFO1lBQ3pCLEdBQUcsRUFBRSxDQUFDO1lBQ04sRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyx3QkFBd0I7U0FDdEM7UUFDRCxNQUFNLElBQUksR0FBRyxhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDcEMsTUFBTSxDQUFDLFlBQVksRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xELElBQ0UsWUFBWSxLQUFLLE1BQU07Z0JBQ3ZCLFlBQVksS0FBSyxJQUFJLENBQUMsR0FBRztnQkFDekIsQ0FBQyxZQUFZLEtBQUssSUFBSSxDQUFDLEtBQUssSUFBSSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsRUFDaEQ7Z0JBQ0EsSUFDRSxRQUFRLEtBQUssRUFBRTtvQkFDZixRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUc7b0JBQ3JCLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxxQkFBcUIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUM1RTtvQkFDQSxJQUFJLE9BQU8sS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFO3dCQUN6QixJQUFJLEdBQUcsS0FBSyxDQUFDLEdBQUcsRUFBRSxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUM7cUJBQ3JDO3lCQUFNLElBQUksSUFBSSxLQUFLLE9BQU8sRUFBRTt3QkFDM0IsS0FBSyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQzt3QkFDZixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSw0QkFBNEIsRUFBRSxPQUFPLENBQUMsQ0FBQztxQkFDdEQ7eUJBQU07d0JBQ0wsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQzt3QkFDakIsSUFBSSxHQUFHLE9BQU8sQ0FBQztxQkFDaEI7aUJBQ0Y7YUFDRjtTQUNGO1FBQ0QsTUFBTSxHQUFHLEVBQUUsQ0FBQztLQUNiO0lBQ0QsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ1gsT0FBTyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBRXBCLFNBQVMsS0FBSyxDQUFDLEdBQVc7UUFDeEIsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLE9BQU8sR0FBRyxHQUFHLENBQUM7SUFDaEIsQ0FBQztBQUNILENBQUM7QUFFRCxTQUFTLE9BQU8sQ0FBQyxFQUFVO0lBQ3pCLE9BQU8sQ0FDTCxDQUFDLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ2hDLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7UUFDOUIsQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztRQUM5QixFQUFFLEtBQUssSUFBSSxDQUFDLFVBQVU7UUFDdEIsRUFBRSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQ2pCLENBQUM7QUFDSixDQUFDO0FBRUQsSUFBVyxJQVFWO0FBUkQsV0FBVyxJQUFJO0lBQ2IsdUNBQVEsQ0FBQTtJQUNSLGlDQUFLLENBQUE7SUFDTCwrQkFBSSxDQUFBO0lBQ0osK0NBQVksQ0FBQTtJQUNaLCtDQUFZLENBQUE7SUFDWix1REFBZ0IsQ0FBQTtJQUNoQiwrQkFBSSxDQUFBO0FBQ04sQ0FBQyxFQVJVLElBQUksS0FBSixJQUFJLFFBUWQ7QUFFRCxJQUFXLElBc0JWO0FBdEJELFdBQVcsSUFBSTtJQUNiLDZCQUFPLENBQUE7SUFDUCxpQ0FBUyxDQUFBO0lBQ1QsaUVBQXlCLENBQUE7SUFDekIsa0NBQVUsQ0FBQTtJQUNWLGtEQUFrQixDQUFBO0lBQ2xCLGdEQUFpQixDQUFBO0lBQ2pCLGdEQUFpQixDQUFBO0lBQ2pCLGdDQUFTLENBQUE7SUFDVCxnQ0FBUyxDQUFBO0lBQ1QsOEJBQVEsQ0FBQTtJQUNSLDRCQUFPLENBQUE7SUFDUCwwQkFBTSxDQUFBO0lBQ04sMEJBQU0sQ0FBQTtJQUNOLDRCQUFPLENBQUE7SUFDUCw0QkFBTyxDQUFBO0lBQ1AsMENBQWMsQ0FBQTtJQUNkLDRDQUFlLENBQUE7SUFDZiwwQkFBTSxDQUFBO0lBQ04sMkJBQU8sQ0FBQTtJQUNQLDZDQUFnQixDQUFBO0lBQ2hCLCtDQUFpQixDQUFBO0FBQ25CLENBQUMsRUF0QlUsSUFBSSxLQUFKLElBQUksUUFzQmQ7QUFXRCxNQUFNLGFBQWEsR0FBaUI7SUFDbEM7UUFDRSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLHFCQUFxQixFQUFFLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDdkQsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUMvQixDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3RDLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztLQUN2RCxDQUFDLFlBQVk7SUFDZDtRQUNFLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdkMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDO1FBQ3RELENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDMUMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDO0tBQ3ZELENBQUMsU0FBUztJQUNYO1FBQ0UsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQztRQUN2QyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDO1FBQ2hELENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDaEQsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLGdCQUFnQixDQUFDO0tBQ3ZELENBQUMsUUFBUTtJQUNWLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsZ0JBQWdCO0lBQzNELENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsZ0JBQWdCO0lBQzNELENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsb0JBQW9CO0NBQ2xFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHNjb3BlU3R5bGVzaGVldChjc3M6IHN0cmluZywgc2NvcGVJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgZW5kID0gY3NzLmxlbmd0aDtcbiAgY29uc3Qgb3V0OiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCBzdGFjazogTU9ERVtdID0gW107XG4gIGxldCBpZHggPSAwO1xuICBsZXQgbGFzdElkeCA9IGlkeDtcbiAgbGV0IG1vZGU6IE1PREUgPSBNT0RFLnNlbGVjdG9yIGFzIGFueTtcbiAgbGV0IGxhc3RDaCA9IDA7XG4gIHdoaWxlIChpZHggPCBlbmQpIHtcbiAgICBsZXQgY2ggPSBjc3MuY2hhckNvZGVBdChpZHgrKyk7XG4gICAgaWYgKGNoID09PSBDSEFSLkJBQ0tTTEFTSCkge1xuICAgICAgaWR4Kys7XG4gICAgICBjaCA9IENIQVIuQTsgLy8gUHJldGVuZCBpdCdzIGEgbGV0dGVyXG4gICAgfVxuICAgIGNvbnN0IGFyY3MgPSBTVEFURV9NQUNISU5FW21vZGVdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJjcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgW2V4cGVjdExhc3RDaCwgZXhwZWN0Q2gsIG5ld01vZGVdID0gYXJjc1tpXTtcbiAgICAgIGlmIChcbiAgICAgICAgZXhwZWN0TGFzdENoID09PSBsYXN0Q2ggfHxcbiAgICAgICAgZXhwZWN0TGFzdENoID09PSBDSEFSLkFOWSB8fFxuICAgICAgICAoZXhwZWN0TGFzdENoID09PSBDSEFSLklERU5UICYmIGlzSWRlbnQobGFzdENoKSlcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZXhwZWN0Q2ggPT09IGNoIHx8XG4gICAgICAgICAgZXhwZWN0Q2ggPT09IENIQVIuQU5ZIHx8XG4gICAgICAgICAgKGV4cGVjdENoID09PSBDSEFSLk5PVF9JREVOVF9BTkRfTk9UX0RPVCAmJiAhaXNJZGVudChjaCkgJiYgY2ggIT09IENIQVIuRE9UKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAobmV3TW9kZSA9PT0gTU9ERS5FWElUKSB7XG4gICAgICAgICAgICBtb2RlID0gc3RhY2sucG9wKCkgfHwgTU9ERS5zZWxlY3RvcjtcbiAgICAgICAgICB9IGVsc2UgaWYgKG1vZGUgPT09IG5ld01vZGUpIHtcbiAgICAgICAgICAgIGZsdXNoKGlkeCAtIDEpO1xuICAgICAgICAgICAgb3V0LnB1c2goJy4nLCBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50LCBzY29wZUlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhY2sucHVzaChtb2RlKTtcbiAgICAgICAgICAgIG1vZGUgPSBuZXdNb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBsYXN0Q2ggPSBjaDtcbiAgfVxuICBmbHVzaChpZHgpO1xuICByZXR1cm4gb3V0LmpvaW4oJycpO1xuXG4gIGZ1bmN0aW9uIGZsdXNoKGlkeDogbnVtYmVyKSB7XG4gICAgb3V0LnB1c2goY3NzLnN1YnN0cmluZyhsYXN0SWR4LCBpZHgpKTtcbiAgICBsYXN0SWR4ID0gaWR4O1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzSWRlbnQoY2g6IG51bWJlcik6IGJvb2xlYW4ge1xuICByZXR1cm4gKFxuICAgIChjaCA+PSBDSEFSLl8wICYmIGNoIDw9IENIQVIuXzkpIHx8XG4gICAgKGNoID49IENIQVIuQSAmJiBjaCA8PSBDSEFSLlopIHx8XG4gICAgKGNoID49IENIQVIuYSAmJiBjaCA8PSBDSEFSLnopIHx8XG4gICAgY2ggPT09IENIQVIuVU5ERVJTQ09SRSB8fFxuICAgIGNoID09PSBDSEFSLkRBU0hcbiAgKTtcbn1cblxuY29uc3QgZW51bSBNT0RFIHtcbiAgc2VsZWN0b3IsIC8vIC5zZWxlY3RvciB7fVxuICBtZWRpYSwgLy8gLnNlbGVjdG9yIHt9XG4gIGJvZHksIC8vIC5zZWxlY3RvciB7Ym9keX1cbiAgc3RyaW5nU2luZ2xlLCAvLyAndGV4dCdcbiAgc3RyaW5nRG91YmxlLCAvLyAndGV4dCdcbiAgY29tbWVudE11bHRpbGluZSwgLy8gLyogLi4uICovXG4gIEVYSVQsIC8vIEV4aXQgdGhlIG1vZGUgKE5vdCBhIHJlYWwgbW9kZSlcbn1cblxuY29uc3QgZW51bSBDSEFSIHtcbiAgQU5ZID0gMCxcbiAgSURFTlQgPSAxLFxuICBOT1RfSURFTlRfQU5EX05PVF9ET1QgPSAyLFxuICBTUEFDRSA9IDMyLCAvLyBgIGAuY2hhckNvZGVBdCgwKTtcbiAgRk9SV0FSRF9TTEFTSCA9IDQ3LCAvLyBgL2AuY2hhckNvZGVBdCgwKTtcbiAgRE9VQkxFX1FVT1RFID0gMzQsIC8vIGBcImAuY2hhckNvZGVBdCgwKTtcbiAgU0lOR0xFX1FVT1RFID0gMzksIC8vIGAnYC5jaGFyQ29kZUF0KDApO1xuICBTVEFSID0gNDIsIC8vIGAqYC5jaGFyQ29kZUF0KDApO1xuICBEQVNIID0gNDUsIC8vIGAtYC5jaGFyQ29kZUF0KDApO1xuICBET1QgPSA0NiwgLy8gYC5gLmNoYXJDb2RlQXQoMCk7XG4gIEFUID0gNjQsIC8vIGBAYC5jaGFyQ29kZUF0KDApO1xuICBBID0gNjUsIC8vIGBBYC5jaGFyQ29kZUF0KDApO1xuICBaID0gOTAsIC8vIGBaYC5jaGFyQ29kZUF0KDApO1xuICBfMCA9IDQ4LCAvLyBgMGAuY2hhckNvZGVBdCgwKTtcbiAgXzkgPSA1NywgLy8gYDlgLmNoYXJDb2RlQXQoMCk7XG4gIEJBQ0tTTEFTSCA9IDkyLCAvLyBgXFxcXGAuY2hhckNvZGVBdCgwKTtcbiAgVU5ERVJTQ09SRSA9IDk1LCAvLyBgX2AuY2hhckNvZGVBdCgwKTtcbiAgYSA9IDk3LCAvLyBgYWAuY2hhckNvZGVBdCgwKTtcbiAgeiA9IDEyMiwgLy8gYHpgLmNoYXJDb2RlQXQoMCk7XG4gIE9QRU5fQlJBQ0UgPSAxMjMsIC8vIGB7YC5jaGFyQ29kZUF0KDApO1xuICBDTE9TRV9CUkFDRSA9IDEyNSwgLy8gYH1gLmNoYXJDb2RlQXQoMCk7XG59XG5cbnR5cGUgU3RhdGVBcmMgPSBbXG4gIC8vLyBJZiB0aGUgbGFzdCBjaGFyYWN0ZXIgaXMgdGhpczpcbiAgQ0hBUixcbiAgLy8vIElmIHRoZSBjdXJyZW50IGNoYXJhY3RlciBpcyB0aGlzOlxuICBDSEFSLFxuICAvLy8gVGhlbiB0cmFuc2l0aW9uIHRvIHRoaXMgc3RhdGU6XG4gIE1PREVcbl07XG5cbmNvbnN0IFNUQVRFX01BQ0hJTkU6IFN0YXRlQXJjW11bXSA9IFtcbiAgW1xuICAgIFtDSEFSLklERU5ULCBDSEFSLk5PVF9JREVOVF9BTkRfTk9UX0RPVCwgTU9ERS5zZWxlY3Rvcl0sXG4gICAgW0NIQVIuQU5ZLCBDSEFSLkFULCBNT0RFLm1lZGlhXSxcbiAgICBbQ0hBUi5BTlksIENIQVIuT1BFTl9CUkFDRSwgTU9ERS5ib2R5XSxcbiAgICBbQ0hBUi5GT1JXQVJEX1NMQVNILCBDSEFSLlNUQVIsIE1PREUuY29tbWVudE11bHRpbGluZV0sXG4gIF0gLypzZWxlY3RvciovLFxuICBbXG4gICAgW0NIQVIuQU5ZLCBDSEFSLkNMT1NFX0JSQUNFLCBNT0RFLkVYSVRdLFxuICAgIFtDSEFSLkZPUldBUkRfU0xBU0gsIENIQVIuU1RBUiwgTU9ERS5jb21tZW50TXVsdGlsaW5lXSxcbiAgICBbQ0hBUi5BTlksIENIQVIuT1BFTl9CUkFDRSwgTU9ERS5zZWxlY3Rvcl0sXG4gICAgW0NIQVIuRk9SV0FSRF9TTEFTSCwgQ0hBUi5TVEFSLCBNT0RFLmNvbW1lbnRNdWx0aWxpbmVdLFxuICBdIC8qbWVkaWEqLyxcbiAgW1xuICAgIFtDSEFSLkFOWSwgQ0hBUi5DTE9TRV9CUkFDRSwgTU9ERS5FWElUXSxcbiAgICBbQ0hBUi5BTlksIENIQVIuU0lOR0xFX1FVT1RFLCBNT0RFLnN0cmluZ1NpbmdsZV0sXG4gICAgW0NIQVIuQU5ZLCBDSEFSLkRPVUJMRV9RVU9URSwgTU9ERS5zdHJpbmdEb3VibGVdLFxuICAgIFtDSEFSLkZPUldBUkRfU0xBU0gsIENIQVIuU1RBUiwgTU9ERS5jb21tZW50TXVsdGlsaW5lXSxcbiAgXSAvKmJvZHkqLyxcbiAgW1tDSEFSLkFOWSwgQ0hBUi5TSU5HTEVfUVVPVEUsIE1PREUuRVhJVF1dIC8qc3RyaW5nU2luZ2xlKi8sXG4gIFtbQ0hBUi5BTlksIENIQVIuRE9VQkxFX1FVT1RFLCBNT0RFLkVYSVRdXSAvKnN0cmluZ0RvdWJsZSovLFxuICBbW0NIQVIuU1RBUiwgQ0hBUi5GT1JXQVJEX1NMQVNILCBNT0RFLkVYSVRdXSAvKmNvbW1lbnRNdWx0aWxpbmUqLyxcbl07XG4iXX0=","import { styleContent, styleKey } from '../component/qrl-styles';\nimport { implicit$FirstArg } from '../util/implicit_dollar';\nimport { scopeStylesheet } from '../style/scoped-stylesheet';\nimport { getContext } from '../props/props';\nimport { hasStyle } from '../render/execute-component';\nimport { useSequentialScope } from './use-sequential-scope';\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @see `useStylesScoped`\n *\n * @public\n */\n// </docs>\nexport const useStylesQrl = (styles) => {\n    _useStyles(styles, (str) => str, false);\n};\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @see `useStylesScoped`\n *\n * @public\n */\n// </docs>\nexport const useStyles$ = /*#__PURE__*/ implicit$FirstArg(useStylesQrl);\n// <docs markdown=\"../readme.md#useStylesScoped\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStylesScoped instead)\n/**\n * A lazy-loadable reference to a component's styles, that is scoped to the component.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import scoped from './code-block.css?inline';\n *\n * export const CmpScopedStyles = component$(() => {\n *   useStylesScoped$(scoped);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @see `useStyles`\n *\n * @alpha\n */\n// </docs>\nexport const useStylesScopedQrl = (styles) => {\n    _useStyles(styles, scopeStylesheet, true);\n};\n// <docs markdown=\"../readme.md#useStylesScoped\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStylesScoped instead)\n/**\n * A lazy-loadable reference to a component's styles, that is scoped to the component.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import scoped from './code-block.css?inline';\n *\n * export const CmpScopedStyles = component$(() => {\n *   useStylesScoped$(scoped);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @see `useStyles`\n *\n * @alpha\n */\n// </docs>\nexport const useStylesScoped$ = /*#__PURE__*/ implicit$FirstArg(useStylesScopedQrl);\nconst _useStyles = (styleQrl, transform, scoped) => {\n    const { get, set, ctx, i } = useSequentialScope();\n    if (get) {\n        return get;\n    }\n    const renderCtx = ctx.$renderCtx$;\n    const styleId = styleKey(styleQrl, i);\n    const hostElement = ctx.$hostElement$;\n    const containerState = renderCtx.$containerState$;\n    const elCtx = getContext(ctx.$hostElement$);\n    set(styleId);\n    if (!elCtx.$appendStyles$) {\n        elCtx.$appendStyles$ = [];\n    }\n    if (!elCtx.$scopeIds$) {\n        elCtx.$scopeIds$ = [];\n    }\n    if (scoped) {\n        elCtx.$scopeIds$.push(styleContent(styleId));\n    }\n    if (!hasStyle(containerState, styleId)) {\n        containerState.$styleIds$.add(styleId);\n        ctx.$waitOn$.push(styleQrl.resolve(hostElement).then((styleText) => {\n            elCtx.$appendStyles$.push({\n                styleId,\n                content: transform(styleText, styleId),\n            });\n        }));\n    }\n    return styleId;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRWpFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRTVELDJDQUEyQztBQUMzQyx5Q0FBeUM7QUFDekMsd0NBQXdDO0FBQ3hDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUJHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLE1BQW1CLEVBQVEsRUFBRTtJQUN4RCxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDMUMsQ0FBQyxDQUFDO0FBRUYsMkNBQTJDO0FBQzNDLHlDQUF5QztBQUN6Qyx3Q0FBd0M7QUFDeEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUV4RSxpREFBaUQ7QUFDakQseUNBQXlDO0FBQ3pDLDhDQUE4QztBQUM5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLE1BQW1CLEVBQVEsRUFBRTtJQUM5RCxVQUFVLENBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM1QyxDQUFDLENBQUM7QUFFRixpREFBaUQ7QUFDakQseUNBQXlDO0FBQ3pDLDhDQUE4QztBQUM5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxhQUFhLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUVwRixNQUFNLFVBQVUsR0FBRyxDQUNqQixRQUFxQixFQUNyQixTQUFtRCxFQUNuRCxNQUFlLEVBQ1AsRUFBRTtJQUNWLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxrQkFBa0IsRUFBVSxDQUFDO0lBQzFELElBQUksR0FBRyxFQUFFO1FBQ1AsT0FBTyxHQUFHLENBQUM7S0FDWjtJQUNELE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUM7SUFDbEMsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0QyxNQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO0lBQ3RDLE1BQU0sY0FBYyxHQUFHLFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQztJQUNsRCxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzVDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUViLElBQUksQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFO1FBQ3pCLEtBQUssQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO0tBQzNCO0lBQ0QsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUU7UUFDckIsS0FBSyxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7S0FDdkI7SUFDRCxJQUFJLE1BQU0sRUFBRTtRQUNWLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0tBQzlDO0lBQ0QsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLEVBQUU7UUFDdEMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDdkMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQ2YsUUFBUSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtZQUMvQyxLQUFLLENBQUMsY0FBZSxDQUFDLElBQUksQ0FBQztnQkFDekIsT0FBTztnQkFDUCxPQUFPLEVBQUUsU0FBUyxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUM7YUFDdkMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQyxDQUFDLENBQ0gsQ0FBQztLQUNIO0lBQ0QsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3R5bGVDb250ZW50LCBzdHlsZUtleSB9IGZyb20gJy4uL2NvbXBvbmVudC9xcmwtc3R5bGVzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgaW1wbGljaXQkRmlyc3RBcmcgfSBmcm9tICcuLi91dGlsL2ltcGxpY2l0X2RvbGxhcic7XG5pbXBvcnQgeyBzY29wZVN0eWxlc2hlZXQgfSBmcm9tICcuLi9zdHlsZS9zY29wZWQtc3R5bGVzaGVldCc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgaGFzU3R5bGUgfSBmcm9tICcuLi9yZW5kZXIvZXhlY3V0ZS1jb21wb25lbnQnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc2VxdWVudGlhbC1zY29wZSc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVN0eWxlc1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VTdHlsZXMgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIHN0eWxlcy5cbiAqXG4gKiBDb21wb25lbnQgc3R5bGVzIGFsbG93IFF3aWsgdG8gbGF6eSBsb2FkIHRoZSBzdHlsZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNvbXBvbmVudCBvbmx5IHdoZW5cbiAqIG5lZWRlZC4gKEFuZCBhdm9pZCBkb3VibGUgbG9hZGluZyBpdCBpbiBjYXNlIG9mIFNTUiBoeWRyYXRpb24uKVxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHN0eWxlcyBmcm9tICcuL2NvZGUtYmxvY2suY3NzP2lubGluZSc7XG4gKlxuICogZXhwb3J0IGNvbnN0IENtcFN0eWxlcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VTdHlsZXMkKHN0eWxlcyk7XG4gKlxuICogICByZXR1cm4gPGRpdj5Tb21lIHRleHQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVN0eWxlc1Njb3BlZGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXNRcmwgPSAoc3R5bGVzOiBRUkw8c3RyaW5nPik6IHZvaWQgPT4ge1xuICBfdXNlU3R5bGVzKHN0eWxlcywgKHN0cikgPT4gc3RyLCBmYWxzZSk7XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBzdHlsZXMuXG4gKlxuICogQ29tcG9uZW50IHN0eWxlcyBhbGxvdyBRd2lrIHRvIGxhenkgbG9hZCB0aGUgc3R5bGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb21wb25lbnQgb25seSB3aGVuXG4gKiBuZWVkZWQuIChBbmQgYXZvaWQgZG91YmxlIGxvYWRpbmcgaXQgaW4gY2FzZSBvZiBTU1IgaHlkcmF0aW9uLilcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9jb2RlLWJsb2NrLmNzcz9pbmxpbmUnO1xuICpcbiAqIGV4cG9ydCBjb25zdCBDbXBTdHlsZXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlU3R5bGVzJChzdHlsZXMpO1xuICpcbiAqICAgcmV0dXJuIDxkaXY+U29tZSB0ZXh0PC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGB1c2VTdHlsZXNTY29wZWRgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU3R5bGVzJCA9IC8qI19fUFVSRV9fKi8gaW1wbGljaXQkRmlyc3RBcmcodXNlU3R5bGVzUXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3R5bGVzU2NvcGVkXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0eWxlc1Njb3BlZCBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3Mgc3R5bGVzLCB0aGF0IGlzIHNjb3BlZCB0byB0aGUgY29tcG9uZW50LlxuICpcbiAqIENvbXBvbmVudCBzdHlsZXMgYWxsb3cgUXdpayB0byBsYXp5IGxvYWQgdGhlIHN0eWxlIGluZm9ybWF0aW9uIGZvciB0aGUgY29tcG9uZW50IG9ubHkgd2hlblxuICogbmVlZGVkLiAoQW5kIGF2b2lkIGRvdWJsZSBsb2FkaW5nIGl0IGluIGNhc2Ugb2YgU1NSIGh5ZHJhdGlvbi4pXG4gKlxuICogYGBgdHN4XG4gKiBpbXBvcnQgc2NvcGVkIGZyb20gJy4vY29kZS1ibG9jay5jc3M/aW5saW5lJztcbiAqXG4gKiBleHBvcnQgY29uc3QgQ21wU2NvcGVkU3R5bGVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVN0eWxlc1Njb3BlZCQoc2NvcGVkKTtcbiAqXG4gKiAgIHJldHVybiA8ZGl2PlNvbWUgdGV4dDwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU3R5bGVzYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU3R5bGVzU2NvcGVkUXJsID0gKHN0eWxlczogUVJMPHN0cmluZz4pOiB2b2lkID0+IHtcbiAgX3VzZVN0eWxlcyhzdHlsZXMsIHNjb3BlU3R5bGVzaGVldCwgdHJ1ZSk7XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTdHlsZXNTY29wZWRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3R5bGVzU2NvcGVkIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBzdHlsZXMsIHRoYXQgaXMgc2NvcGVkIHRvIHRoZSBjb21wb25lbnQuXG4gKlxuICogQ29tcG9uZW50IHN0eWxlcyBhbGxvdyBRd2lrIHRvIGxhenkgbG9hZCB0aGUgc3R5bGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb21wb25lbnQgb25seSB3aGVuXG4gKiBuZWVkZWQuIChBbmQgYXZvaWQgZG91YmxlIGxvYWRpbmcgaXQgaW4gY2FzZSBvZiBTU1IgaHlkcmF0aW9uLilcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCBzY29wZWQgZnJvbSAnLi9jb2RlLWJsb2NrLmNzcz9pbmxpbmUnO1xuICpcbiAqIGV4cG9ydCBjb25zdCBDbXBTY29wZWRTdHlsZXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlU3R5bGVzU2NvcGVkJChzY29wZWQpO1xuICpcbiAqICAgcmV0dXJuIDxkaXY+U29tZSB0ZXh0PC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGB1c2VTdHlsZXNgXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTdHlsZXNTY29wZWQkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VTdHlsZXNTY29wZWRRcmwpO1xuXG5jb25zdCBfdXNlU3R5bGVzID0gKFxuICBzdHlsZVFybDogUVJMPHN0cmluZz4sXG4gIHRyYW5zZm9ybTogKHN0cjogc3RyaW5nLCBzdHlsZUlkOiBzdHJpbmcpID0+IHN0cmluZyxcbiAgc2NvcGVkOiBib29sZWFuXG4pOiBzdHJpbmcgPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBjdHgsIGkgfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxzdHJpbmc+KCk7XG4gIGlmIChnZXQpIHtcbiAgICByZXR1cm4gZ2V0O1xuICB9XG4gIGNvbnN0IHJlbmRlckN0eCA9IGN0eC4kcmVuZGVyQ3R4JDtcbiAgY29uc3Qgc3R5bGVJZCA9IHN0eWxlS2V5KHN0eWxlUXJsLCBpKTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBjdHguJGhvc3RFbGVtZW50JDtcbiAgY29uc3QgY29udGFpbmVyU3RhdGUgPSByZW5kZXJDdHguJGNvbnRhaW5lclN0YXRlJDtcbiAgY29uc3QgZWxDdHggPSBnZXRDb250ZXh0KGN0eC4kaG9zdEVsZW1lbnQkKTtcbiAgc2V0KHN0eWxlSWQpO1xuXG4gIGlmICghZWxDdHguJGFwcGVuZFN0eWxlcyQpIHtcbiAgICBlbEN0eC4kYXBwZW5kU3R5bGVzJCA9IFtdO1xuICB9XG4gIGlmICghZWxDdHguJHNjb3BlSWRzJCkge1xuICAgIGVsQ3R4LiRzY29wZUlkcyQgPSBbXTtcbiAgfVxuICBpZiAoc2NvcGVkKSB7XG4gICAgZWxDdHguJHNjb3BlSWRzJC5wdXNoKHN0eWxlQ29udGVudChzdHlsZUlkKSk7XG4gIH1cbiAgaWYgKCFoYXNTdHlsZShjb250YWluZXJTdGF0ZSwgc3R5bGVJZCkpIHtcbiAgICBjb250YWluZXJTdGF0ZS4kc3R5bGVJZHMkLmFkZChzdHlsZUlkKTtcbiAgICBjdHguJHdhaXRPbiQucHVzaChcbiAgICAgIHN0eWxlUXJsLnJlc29sdmUoaG9zdEVsZW1lbnQpLnRoZW4oKHN0eWxlVGV4dCkgPT4ge1xuICAgICAgICBlbEN0eC4kYXBwZW5kU3R5bGVzJCEucHVzaCh7XG4gICAgICAgICAgc3R5bGVJZCxcbiAgICAgICAgICBjb250ZW50OiB0cmFuc2Zvcm0oc3R5bGVUZXh0LCBzdHlsZUlkKSxcbiAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHN0eWxlSWQ7XG59O1xuIl19"],"names":["processData","escape","SHOW_COMMENT","FILTER_ACCEPT","FILTER_REJECT","IS_HEAD","setProperty","updateComponentProperties","updateProperties"],"mappings":"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,CAAC,EAAE;IACvB,YAAY,GAAG,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;IAClC,SAAS;IACT,KAAK;IACL,EAAE;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,gBAAgB,iBAAiB,iBAAiB,CAAC,kBAAkB,EAAE;IACpF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,iBAAiB,GAAG,CAAC,QAAQ,KAAK;IAC/C,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,kBAAkB,EAAE,CAAC;IACnD,IAAI,IAAI,GAAG,EAAE;IACb,QAAQ,OAAO;IACf,KAAK;IACL,IAAI,IAAI,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;IAC7B,QAAQ,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;IACtC,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC;IAClB,KAAK;IACL,SAAS;IACT,QAAQ,MAAM,MAAM,CAAC,gCAAgC,EAAE,GAAG,CAAC,aAAa,CAAC,CAAC;IAC1E,KAAK;IACL,EAAE;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,eAAe,iBAAiB,iBAAiB,CAAC,iBAAiB,EAAE;IAClF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA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;IACA;IACA;AACY,UAAC,CAAC,GAAG,CAAC,UAAU,KAAK;IACjC,IAAI,OAAO,UAAU,CAAC,UAAU,CAAC,CAAC;IAClC;;IC5EA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;AACY,UAAC,YAAY,GAAG,CAAC,WAAW,KAAK;IAC7C;IACA,IAAI,SAAS,aAAa,CAAC,KAAK,EAAE,GAAG,EAAE;IACvC,QAAQ,MAAM,IAAI,GAAG,KAAK,GAAG,IAAI,GAAG,WAAW,CAAC,OAAO,EAAE,CAAC;IAC1D,QAAQ,MAAM,QAAQ,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;IACvD,QAAQ,OAAO,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC,YAAY,GAAG,WAAW,EAAE,GAAG,KAAK,EAAE,EAAE,QAAQ,CAAC,CAAC;IACjF,KAAK;IACL,IAAI,aAAa,CAAC,kBAAkB,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IACtD,IAAI,OAAO,aAAa,CAAC;IACzB,EAAE;IACK,MAAM,eAAe,GAAG,CAAC,SAAS,KAAK;IAC9C,IAAI,OAAO,OAAO,SAAS,IAAI,UAAU,IAAI,SAAS,CAAC,kBAAkB,CAAC,KAAK,SAAS,CAAC;IACzF,CAAC,CAAC;IACF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IA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"}