{"version":3,"file":"core.cjs","sources":["../tsc-out/src/core/util/qdev.js","../tsc-out/src/core/util/flyweight.js","../tsc-out/src/core/util/log.js","../tsc-out/src/core/assert/assert.js","../tsc-out/src/core/util/markers.js","../tsc-out/src/core/util/dom.js","../tsc-out/src/core/use/use-core.js","../tsc-out/src/core/util/array.js","../tsc-out/src/core/util/promises.js","../tsc-out/src/core/import/qrl-class.js","../tsc-out/src/core/platform/platform.js","../tsc-out/src/core/util/types.js","../tsc-out/src/core/error/stringify.js","../tsc-out/src/core/error/error.js","../tsc-out/src/core/util/element.js","../tsc-out/src/core/object/store.js","../tsc-out/src/core/props/props-obj-map.js","../tsc-out/src/core/json/q-json.js","../tsc-out/src/core/util/case.js","../tsc-out/src/core/util/stringify.js","../tsc-out/src/core/props/props-on.js","../tsc-out/src/core/props/props.js","../tsc-out/src/core/render/jsx/host.public.js","../tsc-out/src/core/import/qrl.public.js","../tsc-out/src/core/render/render.js","../tsc-out/src/core/util/hash_code.js","../tsc-out/src/core/component/qrl-styles.js","../tsc-out/src/core/render/jsx/jsx-runtime.js","../tsc-out/src/core/component/component-ctx.js","../tsc-out/src/core/render/cursor.js","../tsc-out/src/core/use/use-host-element.public.js","../tsc-out/src/core/use/use-document.public.js","../tsc-out/src/core/use/use-store.public.js","../tsc-out/src/core/watch/watch.public.js","../tsc-out/src/core/render/notify-render.js","../tsc-out/src/core/object/q-object.js","../tsc-out/src/core/use/use-subscriber.js","../tsc-out/src/core/import/qrl.js","../tsc-out/src/core/component/component.public.js","../tsc-out/src/core/object/store.public.js","../tsc-out/src/core/render/jsx/async.public.js","../tsc-out/src/core/render/jsx/factory.js","../tsc-out/src/core/render/jsx/slot.public.js","../tsc-out/src/core/version.js","../tsc-out/src/core/render/render.public.js","../tsc-out/src/core/use/use-url.public.js","../tsc-out/src/core/use/use-lexical-scope.public.js"],"sourcesContent":["/*@__PURE__*/ ((gbl) => {\n    // ensures unit tests have globalThis on Node10\n    // this will be removed from production builds\n    if (typeof globalThis === 'undefined') {\n        gbl.globalThis = gbl;\n    }\n})(typeof global !== 'undefined'\n    ? global\n    : typeof window !== 'undefined'\n        ? window\n        : typeof self !== 'undefined'\n            ? self\n            : {});\n// minification can replace the `globalThis.qDev` with `false`\n// which will remove all dev code within from the build\nexport const qDev = globalThis.qDev !== false;\nexport const qTest = globalThis.describe !== undefined;\nexport const qGlobal = globalThis;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWRldi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvdXRpbC9xZGV2LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGFBQWEsQ0FBQyxDQUFDLENBQUMsR0FBUSxFQUFFLEVBQUU7SUFDMUIsK0NBQStDO0lBQy9DLDhDQUE4QztJQUM5QyxJQUFJLE9BQU8sVUFBVSxLQUFLLFdBQVcsRUFBRTtRQUNyQyxHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztLQUN0QjtBQUNILENBQUMsQ0FBQyxDQUNBLE9BQU8sTUFBTSxLQUFLLFdBQVc7SUFDM0IsQ0FBQyxDQUFDLE1BQU07SUFDUixDQUFDLENBQUMsT0FBTyxNQUFNLEtBQUssV0FBVztRQUMvQixDQUFDLENBQUMsTUFBTTtRQUNSLENBQUMsQ0FBQyxPQUFPLElBQUksS0FBSyxXQUFXO1lBQzdCLENBQUMsQ0FBQyxJQUFJO1lBQ04sQ0FBQyxDQUFDLEVBQUUsQ0FDUCxDQUFDO0FBRUYsOERBQThEO0FBQzlELHVEQUF1RDtBQUN2RCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQUksVUFBa0IsQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDO0FBQ3ZELE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBSSxVQUFrQixDQUFDLFFBQVEsS0FBSyxTQUFTLENBQUM7QUFDaEUsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLFVBQWlCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKkBfX1BVUkVfXyovICgoZ2JsOiBhbnkpID0+IHtcbiAgLy8gZW5zdXJlcyB1bml0IHRlc3RzIGhhdmUgZ2xvYmFsVGhpcyBvbiBOb2RlMTBcbiAgLy8gdGhpcyB3aWxsIGJlIHJlbW92ZWQgZnJvbSBwcm9kdWN0aW9uIGJ1aWxkc1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZ2JsLmdsb2JhbFRoaXMgPSBnYmw7XG4gIH1cbn0pKFxuICB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJ1xuICAgID8gZ2xvYmFsXG4gICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgID8gd2luZG93XG4gICAgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHNlbGZcbiAgICA6IHt9XG4pO1xuXG4vLyBtaW5pZmljYXRpb24gY2FuIHJlcGxhY2UgdGhlIGBnbG9iYWxUaGlzLnFEZXZgIHdpdGggYGZhbHNlYFxuLy8gd2hpY2ggd2lsbCByZW1vdmUgYWxsIGRldiBjb2RlIHdpdGhpbiBmcm9tIHRoZSBidWlsZFxuZXhwb3J0IGNvbnN0IHFEZXYgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLnFEZXYgIT09IGZhbHNlO1xuZXhwb3J0IGNvbnN0IHFUZXN0ID0gKGdsb2JhbFRoaXMgYXMgYW55KS5kZXNjcmliZSAhPT0gdW5kZWZpbmVkO1xuZXhwb3J0IGNvbnN0IHFHbG9iYWwgPSBnbG9iYWxUaGlzIGFzIGFueTtcbiJdfQ==","import { qDev } from './qdev';\nexport const EMPTY_ARRAY = [];\nexport const EMPTY_OBJ = {};\nif (qDev) {\n    Object.freeze(EMPTY_ARRAY);\n    Object.freeze(EMPTY_OBJ);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmx5d2VpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS91dGlsL2ZseXdlaWdodC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRTlCLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxFQUFFLENBQUM7QUFDOUIsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLEVBQUUsQ0FBQztBQUU1QixJQUFJLElBQUksRUFBRTtJQUNSLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDM0IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztDQUMxQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHFEZXYgfSBmcm9tICcuL3FkZXYnO1xuXG5leHBvcnQgY29uc3QgRU1QVFlfQVJSQVkgPSBbXTtcbmV4cG9ydCBjb25zdCBFTVBUWV9PQkogPSB7fTtcblxuaWYgKHFEZXYpIHtcbiAgT2JqZWN0LmZyZWV6ZShFTVBUWV9BUlJBWSk7XG4gIE9iamVjdC5mcmVlemUoRU1QVFlfT0JKKTtcbn1cbiJdfQ==","import { qDev } from './qdev';\nconst STYLE = qDev\n    ? `background: #564CE0; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`\n    : '';\nexport const logError = (message, ...optionalParams) => {\n    // eslint-disable-next-line no-console\n    console.error('%cQWIK ERROR', STYLE, message, ...optionalParams);\n};\nexport const logWarn = (message, ...optionalParams) => {\n    // eslint-disable-next-line no-console\n    console.warn('%cQWIK WARN', STYLE, message, ...optionalParams);\n};\nexport const logDebug = (message, ...optionalParams) => {\n    if (qDev) {\n        // eslint-disable-next-line no-console\n        console.debug('%cQWIK', STYLE, message, ...optionalParams);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS91dGlsL2xvZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRTlCLE1BQU0sS0FBSyxHQUFHLElBQUk7SUFDaEIsQ0FBQyxDQUFDLDRGQUE0RjtJQUM5RixDQUFDLENBQUMsRUFBRSxDQUFDO0FBRVAsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ2xFLHNDQUFzQztJQUN0QyxPQUFPLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7QUFDbkUsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ2pFLHNDQUFzQztJQUN0QyxPQUFPLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7QUFDakUsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ2xFLElBQUksSUFBSSxFQUFFO1FBQ1Isc0NBQXNDO1FBQ3RDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxjQUFjLENBQUMsQ0FBQztLQUM1RDtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHFEZXYgfSBmcm9tICcuL3FkZXYnO1xuXG5jb25zdCBTVFlMRSA9IHFEZXZcbiAgPyBgYmFja2dyb3VuZDogIzU2NENFMDsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAycHggM3B4OyBib3JkZXItcmFkaXVzOiAycHg7IGZvbnQtc2l6ZTogMC44ZW07YFxuICA6ICcnO1xuXG5leHBvcnQgY29uc3QgbG9nRXJyb3IgPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUuZXJyb3IoJyVjUVdJSyBFUlJPUicsIFNUWUxFLCBtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG59O1xuXG5leHBvcnQgY29uc3QgbG9nV2FybiA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgY29uc29sZS53YXJuKCclY1FXSUsgV0FSTicsIFNUWUxFLCBtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG59O1xuXG5leHBvcnQgY29uc3QgbG9nRGVidWcgPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmRlYnVnKCclY1FXSUsnLCBTVFlMRSwgbWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICB9XG59O1xuIl19","import { logError } from '../util/log';\nimport { qDev } from '../util/qdev';\nexport function assertDefined(value, text) {\n    if (qDev) {\n        if (value != null)\n            return;\n        throw newError(text || 'Expected defined value.');\n    }\n}\nexport function assertNotPromise(value, text) {\n    if (qDev) {\n        if (!(value instanceof Promise))\n            return;\n        throw newError(text || 'Expected defined value.');\n    }\n}\nexport function assertDefinedAndNotPromise(value, text) {\n    if (qDev) {\n        assertDefined(value, text);\n        assertNotPromise(value, text);\n    }\n}\nexport function assertInstanceOf(value, type, text) {\n    if (qDev) {\n        if (value instanceof type)\n            return;\n        throw newError(text || `Expected value '${value}' to be instance of '${type}' but was '${typeOf(value)}'.`);\n    }\n}\nexport function assertString(value, text) {\n    if (qDev) {\n        if (typeof value === 'string')\n            return;\n        throw newError(text || `Expected value '${value}' to be 'string' but was '${typeOf(value)}'.`);\n    }\n}\nexport function assertNotEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 !== value2)\n            return;\n        throw newError(text || `Expected '${value1}' !== '${value2}'.`);\n    }\n}\nexport function assertEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 === value2)\n            return;\n        throw newError(text || `Expected '${value1}' === '${value2}'.`);\n    }\n}\nexport function assertLessOrEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 <= value2)\n            return;\n        throw newError(text || `Expected '${value1}' <= '${value2}'.`);\n    }\n}\nexport function assertLess(value1, value2, text) {\n    if (qDev) {\n        if (value1 < value2)\n            return;\n        throw newError(text || `Expected '${value1}' < '${value2}'.`);\n    }\n}\nexport function assertGreaterOrEqual(value1, value2, text) {\n    if (qDev) {\n        if (value1 >= value2)\n            return;\n        throw newError(text || `Expected '${value1}' >= '${value2}'.`);\n    }\n}\nexport function assertGreater(value1, value2, text) {\n    if (qDev) {\n        if (value1 > value2)\n            return;\n        throw newError(text || `Expected '${value1}' > '${value2}'.`);\n    }\n}\nfunction typeOf(value) {\n    if (value === null)\n        return 'null';\n    const type = typeof value;\n    if (type === 'object') {\n        return value?.constructor?.name || '<unknown>';\n    }\n    else {\n        return type;\n    }\n}\nfunction newError(text) {\n    debugger; // eslint-disable-line no-debugger\n    const error = new Error(text);\n    logError(error); // eslint-disable-line no-console\n    return error;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS9hc3NlcnQvYXNzZXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDdkMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUVwQyxNQUFNLFVBQVUsYUFBYSxDQUFDLEtBQVUsRUFBRSxJQUFhO0lBQ3JELElBQUksSUFBSSxFQUFFO1FBQ1IsSUFBSSxLQUFLLElBQUksSUFBSTtZQUFFLE9BQU87UUFDMUIsTUFBTSxRQUFRLENBQUMsSUFBSSxJQUFJLHlCQUF5QixDQUFDLENBQUM7S0FDbkQ7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUFDLEtBQVUsRUFBRSxJQUFhO0lBQ3hELElBQUksSUFBSSxFQUFFO1FBQ1IsSUFBSSxDQUFDLENBQUMsS0FBSyxZQUFZLE9BQU8sQ0FBQztZQUFFLE9BQU87UUFDeEMsTUFBTSxRQUFRLENBQUMsSUFBSSxJQUFJLHlCQUF5QixDQUFDLENBQUM7S0FDbkQ7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLDBCQUEwQixDQUFDLEtBQVUsRUFBRSxJQUFhO0lBQ2xFLElBQUksSUFBSSxFQUFFO1FBQ1IsYUFBYSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsQ0FBQztRQUMzQixnQkFBZ0IsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDL0I7QUFDSCxDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUFDLEtBQVUsRUFBRSxJQUFTLEVBQUUsSUFBYTtJQUNuRSxJQUFJLElBQUksRUFBRTtRQUNSLElBQUksS0FBSyxZQUFZLElBQUk7WUFBRSxPQUFPO1FBQ2xDLE1BQU0sUUFBUSxDQUNaLElBQUksSUFBSSxtQkFBbUIsS0FBSyx3QkFBd0IsSUFBSSxjQUFjLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUM1RixDQUFDO0tB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ZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREZWZpbmVkKHZhbHVlOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUgIT0gbnVsbCkgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKHRleHQgfHwgJ0V4cGVjdGVkIGRlZmluZWQgdmFsdWUuJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5vdFByb21pc2UodmFsdWU6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSkpIHJldHVybjtcbiAgICB0aHJvdyBuZXdFcnJvcih0ZXh0IHx8ICdFeHBlY3RlZCBkZWZpbmVkIHZhbHVlLicpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREZWZpbmVkQW5kTm90UHJvbWlzZSh2YWx1ZTogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh2YWx1ZSwgdGV4dCk7XG4gICAgYXNzZXJ0Tm90UHJvbWlzZSh2YWx1ZSwgdGV4dCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEluc3RhbmNlT2YodmFsdWU6IGFueSwgdHlwZTogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdHlwZSkgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKFxuICAgICAgdGV4dCB8fCBgRXhwZWN0ZWQgdmFsdWUgJyR7dmFsdWV9JyB0byBiZSBpbnN0YW5jZSBvZiAnJHt0eXBlfScgYnV0IHdhcyAnJHt0eXBlT2YodmFsdWUpfScuYFxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN0cmluZyh2YWx1ZTogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHJldHVybjtcbiAgICB0aHJvdyBuZXdFcnJvcih0ZXh0IHx8IGBFeHBlY3RlZCB2YWx1ZSAnJHt2YWx1ZX0nIHRvIGJlICdzdHJpbmcnIGJ1dCB3YXMgJyR7dHlwZU9mKHZhbHVlKX0nLmApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROb3RFcXVhbCh2YWx1ZTE6IGFueSwgdmFsdWUyOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUxICE9PSB2YWx1ZTIpIHJldHVybjtcbiAgICB0aHJvdyBuZXdFcnJvcih0ZXh0IHx8IGBFeHBlY3RlZCAnJHt2YWx1ZTF9JyAhPT0gJyR7dmFsdWUyfScuYCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEVxdWFsKHZhbHVlMTogYW55LCB2YWx1ZTI6IGFueSwgdGV4dD86IHN0cmluZykge1xuICBpZiAocURldikge1xuICAgIGlmICh2YWx1ZTEgPT09IHZhbHVlMikgcmV0dXJuO1xuICAgIHRocm93IG5ld0Vycm9yKHRleHQgfHwgYEV4cGVjdGVkICcke3ZhbHVlMX0nID09PSAnJHt2YWx1ZTJ9Jy5gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TGVzc09yRXF1YWwodmFsdWUxOiBhbnksIHZhbHVlMjogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA8PSB2YWx1ZTIpIHJldHVybjtcbiAgICB0aHJvdyBuZXdFcnJvcih0ZXh0IHx8IGBFeHBlY3RlZCAnJHt2YWx1ZTF9JyA8PSAnJHt2YWx1ZTJ9Jy5gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TGVzcyh2YWx1ZTE6IGFueSwgdmFsdWUyOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUxIDwgdmFsdWUyKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCBgRXhwZWN0ZWQgJyR7dmFsdWUxfScgPCAnJHt2YWx1ZTJ9Jy5gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0R3JlYXRlck9yRXF1YWwodmFsdWUxOiBhbnksIHZhbHVlMjogYW55LCB0ZXh0Pzogc3RyaW5nKSB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA+PSB2YWx1ZTIpIHJldHVybjtcbiAgICB0aHJvdyBuZXdFcnJvcih0ZXh0IHx8IGBFeHBlY3RlZCAnJHt2YWx1ZTF9JyA+PSAnJHt2YWx1ZTJ9Jy5gKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0R3JlYXRlcih2YWx1ZTE6IGFueSwgdmFsdWUyOiBhbnksIHRleHQ/OiBzdHJpbmcpIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUxID4gdmFsdWUyKSByZXR1cm47XG4gICAgdGhyb3cgbmV3RXJyb3IodGV4dCB8fCBgRXhwZWN0ZWQgJyR7dmFsdWUxfScgPiAnJHt2YWx1ZTJ9Jy5gKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0eXBlT2YodmFsdWU6IGFueSkge1xuICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnbnVsbCc7XG4gIGNvbnN0IHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiB2YWx1ZT8uY29uc3RydWN0b3I/Lm5hbWUgfHwgJzx1bmtub3duPic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbn1cblxuZnVuY3Rpb24gbmV3RXJyb3IodGV4dDogc3RyaW5nKSB7XG4gIGRlYnVnZ2VyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWRlYnVnZ2VyXG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHRleHQpO1xuICBsb2dFcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICByZXR1cm4gZXJyb3I7XG59XG4iXX0=","/**\n * State factory of the component.\n */\nexport const OnMount = 'on:q-mount';\n/**\n * State factory of the component.\n */\nexport const QHostAttr = 'q:host';\nexport const OnRenderProp = 'q:renderFn';\n/**\n * State factory of the component.\n */\nexport const OnRenderSelector = '[q\\\\:host]';\n/**\n * State factory of the component.\n */\nexport const OnUnmount = 'on:q-unmount';\n/**\n * State factory of the component.\n */\nexport const OnResume = 'on:q-resume';\n/**\n * Component Styles.\n */\nexport const ComponentScopedStyles = 'q:sstyle';\n/**\n * Unscoped Component Styles.\n */\nexport const ComponentUnscopedStyles = 'q:ustyle';\n/**\n * Component style host prefix\n */\nexport const ComponentStylesPrefixHost = '💎';\n/**\n * Component style content prefix\n */\nexport const ComponentStylesPrefixContent = '⭐️';\n/**\n * Prefix used to identify on listeners.\n */\nexport const EventPrefix = 'on:';\n/**\n * Attribute used to mark that an event listener is attached.\n */\nexport const EventAny = 'on:.';\n/**\n * Tag name used for projection.\n */\nexport const QSlot = 'Q:SLOT';\nexport const QSlotSelector = 'Q\\\\:SLOT';\n/**\n * `<some-element q:slot=\"...\">`\n */\nexport const QSlotAttr = 'q:slot';\nexport const QObjAttr = 'q:obj';\nexport const QSeqAttr = 'q:seq';\nexport const QContainerAttr = 'q:container';\nexport const QObjSelector = '[q\\\\:obj]';\nexport const QContainerSelector = '[q\\\\:container]';\nexport const RenderEvent = 'qRender';\n/**\n * `<q:slot name=\"...\">`\n */\nexport const QSlotName = 'name';\nexport const QSlotInertName = '\\u0000';\nexport const ELEMENT_ID = 'q:id';\nexport const ELEMENT_ID_SELECTOR = '[q\\\\:id]';\nexport const ELEMENT_ID_PREFIX = '#';\nexport const ELEMENT_ID_Q_PROPS_PREFIX = '&';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFya2Vycy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvdXRpbC9tYXJrZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLFlBQVksQ0FBQztBQUVwQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUM7QUFDbEMsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLFlBQVksQ0FBQztBQUV6Qzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLFlBQVksQ0FBQztBQUU3Qzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxjQUFjLENBQUM7QUFFeEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsYUFBYSxDQUFDO0FBRXRDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsVUFBVSxDQUFDO0FBRWhEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsVUFBVSxDQUFDO0FBRWxEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsSUFBSSxDQUFDO0FBRTlDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sNEJBQTRCLEdBQUcsSUFBSSxDQUFDO0FBRWpEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQztBQUVqQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUM7QUFFL0I7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDO0FBQzlCLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxVQUFVLENBQUM7QUFFeEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsUUFBUSxDQUFDO0FBRWxDLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUM7QUFFaEMsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQztBQUVoQyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsYUFBYSxDQUFDO0FBRTVDLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxXQUFXLENBQUM7QUFFeEMsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsaUJBQWlCLENBQUM7QUFFcEQsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLFNBQVMsQ0FBQztBQUNyQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxNQUFNLENBQUM7QUFDaEMsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQztBQUV2QyxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsTUFBTSxDQUFDO0FBQ2pDLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLFVBQVUsQ0FBQztBQUM5QyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxHQUFHLENBQUM7QUFDckMsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsR0FBRyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBTdGF0ZSBmYWN0b3J5IG9mIHRoZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBPbk1vdW50ID0gJ29uOnEtbW91bnQnO1xuXG4vKipcbiAqIFN0YXRlIGZhY3Rvcnkgb2YgdGhlIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IFFIb3N0QXR0ciA9ICdxOmhvc3QnO1xuZXhwb3J0IGNvbnN0IE9uUmVuZGVyUHJvcCA9ICdxOnJlbmRlckZuJztcblxuLyoqXG4gKiBTdGF0ZSBmYWN0b3J5IG9mIHRoZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBPblJlbmRlclNlbGVjdG9yID0gJ1txXFxcXDpob3N0XSc7XG5cbi8qKlxuICogU3RhdGUgZmFjdG9yeSBvZiB0aGUgY29tcG9uZW50LlxuICovXG5leHBvcnQgY29uc3QgT25Vbm1vdW50ID0gJ29uOnEtdW5tb3VudCc7XG5cbi8qKlxuICogU3RhdGUgZmFjdG9yeSBvZiB0aGUgY29tcG9uZW50LlxuICovXG5leHBvcnQgY29uc3QgT25SZXN1bWUgPSAnb246cS1yZXN1bWUnO1xuXG4vKipcbiAqIENvbXBvbmVudCBTdHlsZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTY29wZWRTdHlsZXMgPSAncTpzc3R5bGUnO1xuXG4vKipcbiAqIFVuc2NvcGVkIENvbXBvbmVudCBTdHlsZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRVbnNjb3BlZFN0eWxlcyA9ICdxOnVzdHlsZSc7XG5cbi8qKlxuICogQ29tcG9uZW50IHN0eWxlIGhvc3QgcHJlZml4XG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTdHlsZXNQcmVmaXhIb3N0ID0gJ/Cfko4nO1xuXG4vKipcbiAqIENvbXBvbmVudCBzdHlsZSBjb250ZW50IHByZWZpeFxuICovXG5leHBvcnQgY29uc3QgQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCA9ICfirZDvuI8nO1xuXG4vKipcbiAqIFByZWZpeCB1c2VkIHRvIGlkZW50aWZ5IG9uIGxpc3RlbmVycy5cbiAqL1xuZXhwb3J0IGNvbnN0IEV2ZW50UHJlZml4ID0gJ29uOic7XG5cbi8qKlxuICogQXR0cmlidXRlIHVzZWQgdG8gbWFyayB0aGF0IGFuIGV2ZW50IGxpc3RlbmVyIGlzIGF0dGFjaGVkLlxuICovXG5leHBvcnQgY29uc3QgRXZlbnRBbnkgPSAnb246Lic7XG5cbi8qKlxuICogVGFnIG5hbWUgdXNlZCBmb3IgcHJvamVjdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFFTbG90ID0gJ1E6U0xPVCc7XG5leHBvcnQgY29uc3QgUVNsb3RTZWxlY3RvciA9ICdRXFxcXDpTTE9UJztcblxuLyoqXG4gKiBgPHNvbWUtZWxlbWVudCBxOnNsb3Q9XCIuLi5cIj5gXG4gKi9cbmV4cG9ydCBjb25zdCBRU2xvdEF0dHIgPSAncTpzbG90JztcblxuZXhwb3J0IGNvbnN0IFFPYmpBdHRyID0gJ3E6b2JqJztcblxuZXhwb3J0IGNvbnN0IFFTZXFBdHRyID0gJ3E6c2VxJztcblxuZXhwb3J0IGNvbnN0IFFDb250YWluZXJBdHRyID0gJ3E6Y29udGFpbmVyJztcblxuZXhwb3J0IGNvbnN0IFFPYmpTZWxlY3RvciA9ICdbcVxcXFw6b2JqXSc7XG5cbmV4cG9ydCBjb25zdCBRQ29udGFpbmVyU2VsZWN0b3IgPSAnW3FcXFxcOmNvbnRhaW5lcl0nO1xuXG5leHBvcnQgY29uc3QgUmVuZGVyRXZlbnQgPSAncVJlbmRlcic7XG4vKipcbiAqIGA8cTpzbG90IG5hbWU9XCIuLi5cIj5gXG4gKi9cbmV4cG9ydCBjb25zdCBRU2xvdE5hbWUgPSAnbmFtZSc7XG5leHBvcnQgY29uc3QgUVNsb3RJbmVydE5hbWUgPSAnXFx1MDAwMCc7XG5cbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEID0gJ3E6aWQnO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSURfU0VMRUNUT1IgPSAnW3FcXFxcOmlkXSc7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JRF9QUkVGSVggPSAnIyc7XG5leHBvcnQgY29uc3QgRUxFTUVOVF9JRF9RX1BST1BTX1BSRUZJWCA9ICcmJztcbiJdfQ==","import { assertDefined } from '../assert/assert';\nexport function getDocument(node) {\n    if (typeof document !== 'undefined') {\n        return document;\n    }\n    if (node.nodeType === 9) {\n        return node;\n    }\n    let doc = node.ownerDocument;\n    while (doc && doc.nodeType !== 9) {\n        doc = doc.parentNode;\n    }\n    assertDefined(doc);\n    return doc;\n}\nexport function getParentElement(node) {\n    return node.parentElement || previousParent.get(node) || null;\n}\nexport const previousParent = new WeakMap();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS91dGlsL2RvbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFakQsTUFBTSxVQUFVLFdBQVcsQ0FBQyxJQUFVO0lBQ3BDLElBQUksT0FBTyxRQUFRLEtBQUssV0FBVyxFQUFFO1FBQ25DLE9BQU8sUUFBUSxDQUFDO0tBQ2pCO0lBQ0QsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtRQUN2QixPQUFPLElBQWdCLENBQUM7S0FDekI7SUFDRCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDO0lBQzdCLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO1FBQ2hDLEdBQUcsR0FBRyxHQUFHLENBQUMsVUFBaUIsQ0FBQztLQUM3QjtJQUNELGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNuQixPQUFPLEdBQUksQ0FBQztBQUNkLENBQUM7QUFFRCxNQUFNLFVBQVUsZ0JBQWdCLENBQUMsSUFBVTtJQUN6QyxPQUFPLElBQUksQ0FBQyxhQUFhLElBQUksY0FBYyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUM7QUFDaEUsQ0FBQztBQUVELE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxJQUFJLE9BQU8sRUFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldERvY3VtZW50KG5vZGU6IE5vZGUpOiBEb2N1bWVudCB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50O1xuICB9XG4gIGlmIChub2RlLm5vZGVUeXBlID09PSA5KSB7XG4gICAgcmV0dXJuIG5vZGUgYXMgRG9jdW1lbnQ7XG4gIH1cbiAgbGV0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgd2hpbGUgKGRvYyAmJiBkb2Mubm9kZVR5cGUgIT09IDkpIHtcbiAgICBkb2MgPSBkb2MucGFyZW50Tm9kZSBhcyBhbnk7XG4gIH1cbiAgYXNzZXJ0RGVmaW5lZChkb2MpO1xuICByZXR1cm4gZG9jITtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcmVudEVsZW1lbnQobm9kZTogTm9kZSk6IEVsZW1lbnQgfCBudWxsIHtcbiAgcmV0dXJuIG5vZGUucGFyZW50RWxlbWVudCB8fCBwcmV2aW91c1BhcmVudC5nZXQobm9kZSkgfHwgbnVsbDtcbn1cblxuZXhwb3J0IGNvbnN0IHByZXZpb3VzUGFyZW50ID0gbmV3IFdlYWtNYXA8Tm9kZSwgRWxlbWVudD4oKTtcbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { QContainerSelector, QHostAttr } from '../util/markers';\nimport { getDocument } from '../util/dom';\nexport const CONTAINER = Symbol('container');\nexport function isStyleTask(obj) {\n    return obj && typeof obj === 'object' && obj.type === 'style';\n}\nlet _context;\nexport function tryGetInvokeContext() {\n    if (!_context) {\n        const context = typeof document !== 'undefined' && document && document.__q_context__;\n        if (!context) {\n            return undefined;\n        }\n        if (Array.isArray(context)) {\n            const element = context[0];\n            const hostElement = getHostElement(element);\n            assertDefined(element);\n            return (document.__q_context__ = newInvokeContext(getDocument(element), hostElement, element, context[1], context[2]));\n        }\n        return context;\n    }\n    return _context;\n}\nexport function getInvokeContext() {\n    const ctx = tryGetInvokeContext();\n    if (!ctx) {\n        throw new Error(\"Q-ERROR: invoking 'use*()' method outside of invocation context.\");\n    }\n    return ctx;\n}\nexport function useInvoke(context, fn, ...args) {\n    const previousContext = _context;\n    let returnValue;\n    try {\n        _context = context;\n        returnValue = fn.apply(null, args);\n    }\n    finally {\n        const currentCtx = _context;\n        _context = previousContext;\n        if (currentCtx.waitOn && currentCtx.waitOn.length > 0) {\n            // eslint-disable-next-line no-unsafe-finally\n            return Promise.all(currentCtx.waitOn).then(() => returnValue);\n        }\n    }\n    return returnValue;\n}\nexport function newInvokeContext(doc, hostElement, element, event, url) {\n    return {\n        seq: 0,\n        doc,\n        hostElement,\n        element,\n        event: event,\n        url: url || null,\n        qrl: undefined,\n    };\n}\n/**\n * @private\n */\nexport function useWaitOn(promise) {\n    const ctx = getInvokeContext();\n    (ctx.waitOn || (ctx.waitOn = [])).push(promise);\n}\nexport function getHostElement(el) {\n    let foundSlot = false;\n    let node = el;\n    while (node) {\n        const isHost = node.hasAttribute(QHostAttr);\n        const isSlot = node.tagName === 'Q:SLOT';\n        if (isHost) {\n            if (!foundSlot) {\n                break;\n            }\n            else {\n                foundSlot = false;\n            }\n        }\n        if (isSlot) {\n            foundSlot = true;\n        }\n        node = node.parentElement;\n    }\n    return node;\n}\nexport function getContainer(el) {\n    let container = el[CONTAINER];\n    if (!container) {\n        container = el.closest(QContainerSelector);\n        el[CONTAINER] = container;\n    }\n    return container;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3VzZS91c2UtY29yZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFakQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2hFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFPMUMsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztBQVE3QyxNQUFNLFVBQVUsV0FBVyxDQUFDLEdBQVE7SUFDbEMsT0FBTyxHQUFHLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxJQUFJLEtBQUssT0FBTyxDQUFDO0FBQ2hFLENBQUM7QUFnQkQsSUFBSSxRQUFtQyxDQUFDO0FBRXhDLE1BQU0sVUFBVSxtQkFBbUI7SUFDakMsSUFBSSxDQUFDLFFBQVEsRUFBRTtRQUNiLE1BQU0sT0FBTyxHQUFHLE9BQU8sUUFBUSxLQUFLLFdBQVcsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLGFBQWEsQ0FBQztRQUN0RixJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ1osT0FBTyxTQUFTLENBQUM7U0FDbEI7UUFDRCxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7WUFDMUIsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzNCLE1BQU0sV0FBVyxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUUsQ0FBQztZQUM3QyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDdkIsT0FBTyxDQUFDLFFBQVEsQ0FBQyxhQUFhLEdBQUcsZ0JBQWdCLENBQy9DLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFDcEIsV0FBVyxFQUNYLE9BQU8sRUFDUCxPQUFPLENBQUMsQ0FB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QUFVLENBQUMsU0FBUyxDQUFDLEdBQUcsU0FBUyxDQUFDO0tBQ3BDO0lBQ0QsT0FBTyxTQUFTLENBQUM7QUFDbkIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgUHJvcHMgfSBmcm9tICcuLi9wcm9wcy9wcm9wcy5wdWJsaWMnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHR5cGUgeyBRd2lrRG9jdW1lbnQgfSBmcm9tICcuLi9kb2N1bWVudCc7XG5pbXBvcnQgeyBRQ29udGFpbmVyU2VsZWN0b3IsIFFIb3N0QXR0ciB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4nO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi91c2Utc3Vic2NyaWJlcic7XG5pbXBvcnQgdHlwZSB7IFdhdGNoRGVzY3JpcHRvciB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5cbmRlY2xhcmUgY29uc3QgZG9jdW1lbnQ6IFF3aWtEb2N1bWVudDtcblxuZXhwb3J0IGNvbnN0IENPTlRBSU5FUiA9IFN5bWJvbCgnY29udGFpbmVyJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3R5bGVBcHBlbmQge1xuICB0eXBlOiAnc3R5bGUnO1xuICBzdHlsZUlkOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3R5bGVUYXNrKG9iajogYW55KTogb2JqIGlzIFN0eWxlQXBwZW5kIHtcbiAgcmV0dXJuIG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmoudHlwZSA9PT0gJ3N0eWxlJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnZva2VDb250ZXh0IHtcbiAgdXJsOiBVUkwgfCBudWxsO1xuICBzZXE6IG51bWJlcjtcbiAgZG9jPzogRG9jdW1lbnQ7XG4gIGhvc3RFbGVtZW50PzogRWxlbWVudDtcbiAgZWxlbWVudD86IEVsZW1lbnQ7XG4gIGV2ZW50OiBhbnk7XG4gIHFybD86IFFSTDxhbnk+O1xuICB3YWl0T24/OiBWYWx1ZU9yUHJvbWlzZTxhbnk+W107XG4gIHByb3BzPzogUHJvcHM7XG4gIHN1YnNjcmliZXI/OiBTdWJzY3JpYmVyIHwgbnVsbDtcbiAgd2F0Y2g/OiBXYXRjaERlc2NyaXB0b3I7XG59XG5cbmxldCBfY29udGV4dDogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGZ1bmN0aW9uIHRyeUdldEludm9rZUNvbnRleHQoKTogSW52b2tlQ29udGV4dCB8IHVuZGVmaW5lZCB7XG4gIGlmICghX2NvbnRleHQpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5fX3FfY29udGV4dF9fO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY29udGV4dCkpIHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBjb250ZXh0WzBdO1xuICAgICAgY29uc3QgaG9zdEVsZW1lbnQgPSBnZXRIb3N0RWxlbWVudChlbGVtZW50KSE7XG4gICAgICBhc3NlcnREZWZpbmVkKGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIChkb2N1bWVudC5fX3FfY29udGV4dF9fID0gbmV3SW52b2tlQ29udGV4dChcbiAgICAgICAgZ2V0RG9jdW1lbnQoZWxlbWVudCksXG4gICAgICAgIGhvc3RFbGVtZW50LFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBjb250ZXh0WzFdLFxuICAgICAgICBjb250ZXh0WzJdXG4gICAgICApKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnRleHQgYXMgSW52b2tlQ29udGV4dDtcbiAgfVxuICByZXR1cm4gX2NvbnRleHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnZva2VDb250ZXh0KCk6IEludm9rZUNvbnRleHQge1xuICBjb25zdCBjdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gIGlmICghY3R4KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUS1FUlJPUjogaW52b2tpbmcgJ3VzZSooKScgbWV0aG9kIG91dHNpZGUgb2YgaW52b2NhdGlvbiBjb250ZXh0LlwiKTtcbiAgfVxuICByZXR1cm4gY3R4O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlSW52b2tlPEFSR1MgZXh0ZW5kcyBhbnlbXSA9IGFueVtdLCBSRVQgPSBhbnk+KFxuICBjb250ZXh0OiBJbnZva2VDb250ZXh0LFxuICBmbjogKC4uLmFyZ3M6IEFSR1MpID0+IFJFVCxcbiAgLi4uYXJnczogQVJHU1xuKTogVmFsdWVPclByb21pc2U8UkVUPiB7XG4gIGNvbnN0IHByZXZpb3VzQ29udGV4dCA9IF9jb250ZXh0O1xuICBsZXQgcmV0dXJuVmFsdWU6IFJFVDtcbiAgdHJ5IHtcbiAgICBfY29udGV4dCA9IGNvbnRleHQ7XG4gICAgcmV0dXJuVmFsdWUgPSBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBjb25zdCBjdXJyZW50Q3R4ID0gX2NvbnRleHQhO1xuICAgIF9jb250ZXh0ID0gcHJldmlvdXNDb250ZXh0O1xuICAgIGlmIChjdXJyZW50Q3R4LndhaXRPbiAmJiBjdXJyZW50Q3R4LndhaXRPbi5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5zYWZlLWZpbmFsbHlcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChjdXJyZW50Q3R4LndhaXRPbikudGhlbigoKSA9PiByZXR1cm5WYWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXR1cm5WYWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBuZXdJbnZva2VDb250ZXh0KFxuICBkb2M/OiBEb2N1bWVudCxcbiAgaG9zdEVsZW1lbnQ/OiBFbGVtZW50LFxuICBlbGVtZW50PzogRWxlbWVudCxcbiAgZXZlbnQ/OiBhbnksXG4gIHVybD86IFVSTFxuKTogSW52b2tlQ29udGV4dCB7XG4gIHJldHVybiB7XG4gICAgc2VxOiAwLFxuICAgIGRvYyxcbiAgICBob3N0RWxlbWVudCxcbiAgICBlbGVtZW50LFxuICAgIGV2ZW50OiBldmVudCxcbiAgICB1cmw6IHVybCB8fCBudWxsLFxuICAgIHFybDogdW5kZWZpbmVkLFxuICB9O1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VXYWl0T24ocHJvbWlzZTogVmFsdWVPclByb21pc2U8YW55Pik6IHZvaWQge1xuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIChjdHgud2FpdE9uIHx8IChjdHgud2FpdE9uID0gW10pKS5wdXNoKHByb21pc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0SG9zdEVsZW1lbnQoZWw6IEVsZW1lbnQpOiBFbGVtZW50IHwgbnVsbCB7XG4gIGxldCBmb3VuZFNsb3QgPSBmYWxzZTtcbiAgbGV0IG5vZGU6IEVsZW1lbnQgfCBudWxsID0gZWw7XG4gIHdoaWxlIChub2RlKSB7XG4gICAgY29uc3QgaXNIb3N0ID0gbm9kZS5oYXNBdHRyaWJ1dGUoUUhvc3RBdHRyKTtcbiAgICBjb25zdCBpc1Nsb3QgPSBub2RlLnRhZ05hbWUgPT09ICdROlNMT1QnO1xuICAgIGlmIChpc0hvc3QpIHtcbiAgICAgIGlmICghZm91bmRTbG90KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm91bmRTbG90ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc1Nsb3QpIHtcbiAgICAgIGZvdW5kU2xvdCA9IHRydWU7XG4gICAgfVxuICAgIG5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250YWluZXIoZWw6IEVsZW1lbnQpOiBFbGVtZW50IHwgbnVsbCB7XG4gIGxldCBjb250YWluZXIgPSAoZWwgYXMgYW55KVtDT05UQUlORVJdO1xuICBpZiAoIWNvbnRhaW5lcikge1xuICAgIGNvbnRhaW5lciA9IGVsLmNsb3Nlc3QoUUNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICAoZWwgYXMgYW55KVtDT05UQUlORVJdID0gY29udGFpbmVyO1xuICB9XG4gIHJldHVybiBjb250YWluZXI7XG59XG4iXX0=","export function flattenArray(array, dst) {\n    // Yes this function is just Array.flat, but we need to run on old versions of Node.\n    if (!dst)\n        dst = [];\n    for (const item of array) {\n        if (Array.isArray(item)) {\n            flattenArray(item, dst);\n        }\n        else {\n            dst.push(item);\n        }\n    }\n    return dst;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXkuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3V0aWwvYXJyYXkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxVQUFVLFlBQVksQ0FBSSxLQUFrQixFQUFFLEdBQVM7SUFDM0Qsb0ZBQW9GO0lBQ3BGLElBQUksQ0FBQyxHQUFHO1FBQUUsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNuQixLQUFLLE1BQU0sSUFBSSxJQUFJLEtBQUssRUFBRTtRQUN4QixJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDdkIsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN6QjthQUFNO1lBQ0wsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNoQjtLQUNGO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5BcnJheTxUPihhcnJheTogKFQgfCBUW10pW10sIGRzdD86IFRbXSk6IFRbXSB7XG4gIC8vIFllcyB0aGlzIGZ1bmN0aW9uIGlzIGp1c3QgQXJyYXkuZmxhdCwgYnV0IHdlIG5lZWQgdG8gcnVuIG9uIG9sZCB2ZXJzaW9ucyBvZiBOb2RlLlxuICBpZiAoIWRzdCkgZHN0ID0gW107XG4gIGZvciAoY29uc3QgaXRlbSBvZiBhcnJheSkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICBmbGF0dGVuQXJyYXkoaXRlbSwgZHN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZHN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkc3Q7XG59XG4iXX0=","import { flattenArray } from './array';\n/**\n * Converts a tree of Promises into a flat array of resolved promise values.\n *\n * @param tree - array of arrays of values or promises of values.\n * @returns a `Promise` of array of values.\n */\nexport function flattenPromiseTree(tree) {\n    return Promise.all(tree).then((values) => {\n        const flatArray = flattenArray(values);\n        for (let i = 0; i < flatArray.length; i++) {\n            if (isPromise(flatArray[i])) {\n                return flattenPromiseTree(flatArray);\n            }\n        }\n        return flatArray;\n    });\n}\nexport function isPromise(value) {\n    return value instanceof Promise;\n}\nexport const then = (promise, thenFn) => {\n    return isPromise(promise) ? promise.then(thenFn) : thenFn(promise);\n};\nexport const promiseAll = (promises) => {\n    const hasPromise = promises.some(isPromise);\n    if (hasPromise) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlzZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3V0aWwvcHJvbWlzZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUl2Qzs7Ozs7R0FLRztBQUNILE1BQU0sVUFBVSxrQkFBa0IsQ0FBSSxJQUFvQjtJQUN4RCxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBYSxFQUFFLEVBQUU7UUFDckQsTUFBTSxTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3ZDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ3pDLElBQUksU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dCQUMzQixPQUFPLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyxDQUFDO2FBQ3RDO1NBQ0Y7UUFDRCxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUFDLEtBQVU7SUFDbEMsT0FBTyxLQUFLLFlBQVksT0FBTyxDQUFDO0FBQ2xDLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FDbEIsT0FBMEIsRUFDMUIsTUFBOEMsRUFDM0IsRUFBRTtJQUNyQixPQUFPLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQWMsQ0FBQyxDQUFDO0FBQ25GLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxDQUFrQixRQUFXLEVBQXFCLEVBQUU7SUFDNUUsTUFBTSxVQUFVLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM1QyxJQUFJLFVBQVUsRUFBRTtRQUNkLE9BQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUM5QjtJQUNELE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IGZsYXR0ZW5BcnJheSB9IGZyb20gJy4vYXJyYXknO1xuXG5leHBvcnQgdHlwZSBQcm9taXNlVHJlZTxUPiA9IFQgfCBQcm9taXNlPFQ+IHwgUHJvbWlzZTxUW10+IHwgQXJyYXk8UHJvbWlzZVRyZWU8VD4+O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgdHJlZSBvZiBQcm9taXNlcyBpbnRvIGEgZmxhdCBhcnJheSBvZiByZXNvbHZlZCBwcm9taXNlIHZhbHVlcy5cbiAqXG4gKiBAcGFyYW0gdHJlZSAtIGFycmF5IG9mIGFycmF5cyBvZiB2YWx1ZXMgb3IgcHJvbWlzZXMgb2YgdmFsdWVzLlxuICogQHJldHVybnMgYSBgUHJvbWlzZWAgb2YgYXJyYXkgb2YgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlblByb21pc2VUcmVlPFQ+KHRyZWU6IFByb21pc2VUcmVlPFQ+KTogUHJvbWlzZTxUW10+IHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHRyZWUgYXMgVFtdKS50aGVuKCh2YWx1ZXM6IGFueVtdKSA9PiB7XG4gICAgY29uc3QgZmxhdEFycmF5ID0gZmxhdHRlbkFycmF5KHZhbHVlcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbGF0QXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChpc1Byb21pc2UoZmxhdEFycmF5W2ldKSkge1xuICAgICAgICByZXR1cm4gZmxhdHRlblByb21pc2VUcmVlKGZsYXRBcnJheSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmbGF0QXJyYXk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBQcm9taXNlPGFueT4ge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlO1xufVxuXG5leHBvcnQgY29uc3QgdGhlbiA9IDxULCBCPihcbiAgcHJvbWlzZTogVmFsdWVPclByb21pc2U8VD4sXG4gIHRoZW5GbjogKGFyZzogQXdhaXRlZDxUPikgPT4gVmFsdWVPclByb21pc2U8Qj5cbik6IFZhbHVlT3JQcm9taXNlPEI+ID0+IHtcbiAgcmV0dXJuIGlzUHJvbWlzZShwcm9taXNlKSA/IHByb21pc2UudGhlbih0aGVuRm4gYXMgYW55KSA6IHRoZW5Gbihwcm9taXNlIGFzIGFueSk7XG59O1xuXG5leHBvcnQgY29uc3QgcHJvbWlzZUFsbCA9IDxUIGV4dGVuZHMgYW55W10+KHByb21pc2VzOiBUKTogVmFsdWVPclByb21pc2U8VD4gPT4ge1xuICBjb25zdCBoYXNQcm9taXNlID0gcHJvbWlzZXMuc29tZShpc1Byb21pc2UpO1xuICBpZiAoaGFzUHJvbWlzZSkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2VzO1xufTtcbiJdfQ==","import { newInvokeContext, useInvoke } from '../use/use-core';\nimport { then } from '../util/promises';\nimport { qrlImport, stringifyQRL } from './qrl';\nexport function isQrl(value) {\n    return value instanceof QRLInternal;\n}\nclass QRL {\n    constructor(chunk, symbol, symbolRef, symbolFn, capture, captureRef) {\n        this.chunk = chunk;\n        this.symbol = symbol;\n        this.symbolRef = symbolRef;\n        this.symbolFn = symbolFn;\n        this.capture = capture;\n        this.captureRef = captureRef;\n        this.canonicalChunk = chunk.replace(FIND_EXT, '');\n    }\n    setContainer(el) {\n        if (!this.el) {\n            this.el = el;\n        }\n    }\n    async resolve(el) {\n        if (el) {\n            this.setContainer(el);\n        }\n        return qrlImport(this.el, this);\n    }\n    invokeFn(el, currentCtx) {\n        return ((...args) => {\n            const fn = (typeof this.symbolRef === 'function' ? this.symbolRef : this.resolve(el));\n            return then(fn, (fn) => {\n                if (typeof fn === 'function') {\n                    const baseContext = currentCtx ?? newInvokeContext();\n                    const context = {\n                        ...baseContext,\n                        qrl: this,\n                    };\n                    return useInvoke(context, fn, ...args);\n                }\n                throw new Error('QRL is not a function');\n            });\n        });\n    }\n    copy() {\n        return new QRLInternal(this.chunk, this.symbol, this.symbolRef, this.symbolFn, null, this.captureRef);\n    }\n    invoke(...args) {\n        const fn = this.invokeFn();\n        return fn(...args);\n    }\n    serialize(options) {\n        return stringifyQRL(this, options);\n    }\n}\nexport const QRLInternal = QRL;\n// https://regexr.com/6enjv\nconst FIND_EXT = /\\?[\\w=&]+$/;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLWNsYXNzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS9pbXBvcnQvcXJsLWNsYXNzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBaUIsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDN0UsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRXhDLE9BQU8sRUFBRSxTQUFTLEVBQXVCLFlBQVksRUFBRSxNQUFNLE9BQU8sQ0FBQztBQUdyRSxNQUFNLFVBQVUsS0FBSyxDQUFDLEtBQVU7SUFDOUIsT0FBTyxLQUFLLFlBQVksV0FBVyxDQUFDO0FBQ3RDLENBQUM7QUFFRCxNQUFNLEdBQUc7SUFLUCxZQUNTLEtBQWEsRUFDYixNQUFjLEVBQ2QsU0FBc0MsRUFDdEMsUUFBcUQsRUFDckQsT0FBd0IsRUFDeEIsVUFBd0I7UUFMeEIsVUFBSyxHQUFMLEtBQUssQ0FBUTtRQUNiLFdBQU0sR0FBTixNQUFNLENBQVE7UUFDZCxjQUFTLEdBQVQsU0FBUyxDQUE2QjtRQUN0QyxhQUFRLEdBQVIsUUFBUSxDQUE2QztRQUNyRCxZQUFPLEdBQVAsT0FBTyxDQUFpQjtRQUN4QixlQUFVLEdBQVYsVUFBVSxDQUFjO1FBRS9CLElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDcEQsQ0FBQztJQUVELFlBQVksQ0FBQyxFQUFXO1FBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFO1lBQ1osSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7U0FDZDtJQUNILENBQUM7SUFFRCxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQVk7UUFDeEIsSUFBSSxFQUFFLEVBQUU7WUFDTixJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1NBQ3ZCO1FBQ0QsT0FBTyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFXLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRUQsUUFBUSxDQUFDLEVBQVksRUFBRSxVQUEwQjtRQUMvQyxPQUFPLENBQUMsQ0FBQyxHQUFHLElBQVcsRUFBTyxFQUFFO1lBQzlCLE1BQU0sRUFBRSxHQUFHLENBQUMsT0FBTyxJQUFJLENBQUMsU0FBUyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBUyxDQUFDO1lBQzlGLE9BQU8sSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO2dCQUNyQixJQUFJLE9BQU8sRUFBRSxLQUFLLFVBQVUsRUFBRTtvQkFDNUIsTUFBTSxXQUFXLEdBQUcsVUFBVSxJQUFJLGdCQUFnQixFQUFFLENBQUM7b0JBQ3JELE1BQU0sT0FBTyxHQUFrQjt3QkFDN0IsR0FBRyxXQUFXO3dCQUNkLEdBQUcsRUFBRSxJQUFJO3FCQUNWLENBQUM7b0JBQ0YsT0FBTyxTQUFTLENBQUMsT0FBTyxFQUFFLEVBQVMsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDO2lCQUMvQztnQkFDRCxNQUFNLElBQUksS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUM7WUFDM0MsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQVEsQ0FBQztJQUNaLENBQUM7SUFFRCxJQUFJO1FBQ0YsT0FBTyxJQUFJLFdBQVcsQ0FDcEIsSUFBSSxDQUFDLEtBQUssRUFDVixJQUFJLENBQUMsTUFBTSxFQUNYLElBQUksQ0FBQyxTQUFTLEVBQ2QsSUFBSSxDQUFDLFFBQVEsRUFDYixJQUFJLEVBQ0osSUFBSSxDQUFDLFVBQVUsQ0FDaEIsQ0FBQztJQUNKLENBQUM7SUFFRCxNQUFNLENBQUMsR0FBRyxJQUE4RDtRQUN0RSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDM0IsT0FBTyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQVEsQ0FBQztJQUM1QixDQUFDO0lBRUQsU0FBUyxDQUFDLE9BQTZCO1FBQ3JDLE9BQU8sWUFBWSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNyQyxDQUFDO0NBQ0Y7QUFHRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQWUsR0FBRyxDQUFDO0FBRTNDLDJCQUEyQjtBQUMzQixNQUFNLFFBQVEsR0FBRyxZQUFZLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbnZva2VDb250ZXh0LCBuZXdJbnZva2VDb250ZXh0LCB1c2VJbnZva2UgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgdGhlbiB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgcXJsSW1wb3J0LCBRUkxTZXJpYWxpemVPcHRpb25zLCBzdHJpbmdpZnlRUkwgfSBmcm9tICcuL3FybCc7XG5pbXBvcnQgdHlwZSB7IFFSTCBhcyBJUVJMIH0gZnJvbSAnLi9xcmwucHVibGljJztcblxuZXhwb3J0IGZ1bmN0aW9uIGlzUXJsKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBRUkxJbnRlcm5hbCB7XG4gIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFFSTEludGVybmFsO1xufVxuXG5jbGFzcyBRUkw8VFlQRSA9IGFueT4gaW1wbGVtZW50cyBJUVJMPFRZUEU+IHtcbiAgX19icmFuZF9fUVJMX18hOiBUWVBFO1xuICBjYW5vbmljYWxDaHVuazogc3RyaW5nO1xuICBwcml2YXRlIGVsOiBFbGVtZW50IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBjaHVuazogc3RyaW5nLFxuICAgIHB1YmxpYyBzeW1ib2w6IHN0cmluZyxcbiAgICBwdWJsaWMgc3ltYm9sUmVmOiBudWxsIHwgVmFsdWVPclByb21pc2U8VFlQRT4sXG4gICAgcHVibGljIHN5bWJvbEZuOiBudWxsIHwgKCgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgYW55Pj4pLFxuICAgIHB1YmxpYyBjYXB0dXJlOiBudWxsIHwgc3RyaW5nW10sXG4gICAgcHVibGljIGNhcHR1cmVSZWY6IG51bGwgfCBhbnlbXVxuICApIHtcbiAgICB0aGlzLmNhbm9uaWNhbENodW5rID0gY2h1bmsucmVwbGFjZShGSU5EX0VYVCwgJycpO1xuICB9XG5cbiAgc2V0Q29udGFpbmVyKGVsOiBFbGVtZW50KSB7XG4gICAgaWYgKCF0aGlzLmVsKSB7XG4gICAgICB0aGlzLmVsID0gZWw7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgcmVzb2x2ZShlbD86IEVsZW1lbnQpOiBQcm9taXNlPFRZUEU+IHtcbiAgICBpZiAoZWwpIHtcbiAgICAgIHRoaXMuc2V0Q29udGFpbmVyKGVsKTtcbiAgICB9XG4gICAgcmV0dXJuIHFybEltcG9ydCh0aGlzLmVsLCB0aGlzIGFzIGFueSk7XG4gIH1cblxuICBpbnZva2VGbihlbD86IEVsZW1lbnQsIGN1cnJlbnRDdHg/OiBJbnZva2VDb250ZXh0KTogYW55IHtcbiAgICByZXR1cm4gKCguLi5hcmdzOiBhbnlbXSk6IGFueSA9PiB7XG4gICAgICBjb25zdCBmbiA9ICh0eXBlb2YgdGhpcy5zeW1ib2xSZWYgPT09ICdmdW5jdGlvbicgPyB0aGlzLnN5bWJvbFJlZiA6IHRoaXMucmVzb2x2ZShlbCkpIGFzIFRZUEU7XG4gICAgICByZXR1cm4gdGhlbihmbiwgKGZuKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBjb25zdCBiYXNlQ29udGV4dCA9IGN1cnJlbnRDdHggPz8gbmV3SW52b2tlQ29udGV4dCgpO1xuICAgICAgICAgIGNvbnN0IGNvbnRleHQ6IEludm9rZUNvbnRleHQgPSB7XG4gICAgICAgICAgICAuLi5iYXNlQ29udGV4dCxcbiAgICAgICAgICAgIHFybDogdGhpcyxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJldHVybiB1c2VJbnZva2UoY29udGV4dCwgZm4gYXMgYW55LCAuLi5hcmdzKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1FSTCBpcyBub3QgYSBmdW5jdGlvbicpO1xuICAgICAgfSk7XG4gICAgfSkgYXMgYW55O1xuICB9XG5cbiAgY29weSgpOiBRUkxJbnRlcm5hbDxUWVBFPiB7XG4gICAgcmV0dXJuIG5ldyBRUkxJbnRlcm5hbChcbiAgICAgIHRoaXMuY2h1bmssXG4gICAgICB0aGlzLnN5bWJvbCxcbiAgICAgIHRoaXMuc3ltYm9sUmVmLFxuICAgICAgdGhpcy5zeW1ib2xGbixcbiAgICAgIG51bGwsXG4gICAgICB0aGlzLmNhcHR1cmVSZWZcbiAgICApO1xuICB9XG5cbiAgaW52b2tlKC4uLmFyZ3M6IFRZUEUgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgQVJHUykgPT4gYW55ID8gQVJHUyA6IG5ldmVyKSB7XG4gICAgY29uc3QgZm4gPSB0aGlzLmludm9rZUZuKCk7XG4gICAgcmV0dXJuIGZuKC4uLmFyZ3MpIGFzIGFueTtcbiAgfVxuXG4gIHNlcmlhbGl6ZShvcHRpb25zPzogUVJMU2VyaWFsaXplT3B0aW9ucykge1xuICAgIHJldHVybiBzdHJpbmdpZnlRUkwodGhpcywgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUVJMSW50ZXJuYWw8VCA9IGFueT4gPSBRUkw8VD47XG5leHBvcnQgY29uc3QgUVJMSW50ZXJuYWw6IHR5cGVvZiBRUkwgPSBRUkw7XG5cbi8vIGh0dHBzOi8vcmVnZXhyLmNvbS82ZW5qdlxuY29uc3QgRklORF9FWFQgPSAvXFw/W1xcdz0mXSskLztcbiJdfQ==","import { getContainer } from '../use/use-core';\nimport { getDocument } from '../util/dom';\nexport const createPlatform = (doc) => {\n    const moduleCache = new Map();\n    return {\n        importSymbol(element, url, symbolName) {\n            const urlDoc = toUrl(doc, element, url).toString();\n            const urlCopy = new URL(urlDoc);\n            urlCopy.hash = '';\n            urlCopy.search = '';\n            const importURL = urlCopy.href;\n            const mod = moduleCache.get(importURL);\n            if (mod) {\n                return mod[symbolName];\n            }\n            return import(/* @vite-ignore */ importURL).then((mod) => {\n                moduleCache.set(importURL, mod);\n                return mod[symbolName];\n            });\n        },\n        raf: (fn) => {\n            return new Promise((resolve) => {\n                requestAnimationFrame(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        nextTick: (fn) => {\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        chunkForSymbol() {\n            return undefined;\n        },\n    };\n};\n/**\n * Convert relative base URI and relative URL into a fully qualified URL.\n *\n * @param base -`QRL`s are relative, and therefore they need a base for resolution.\n *    - `Element` use `base.ownerDocument.baseURI`\n *    - `Document` use `base.baseURI`\n *    - `string` use `base` as is\n *    - `QConfig` use `base.baseURI`\n * @param url - relative URL\n * @returns fully qualified URL.\n */\nexport function toUrl(doc, element, url) {\n    const containerEl = getContainer(element);\n    const base = new URL(containerEl?.getAttribute('q:base') ?? doc.baseURI, doc.baseURI);\n    return new URL(url, base);\n}\n/**\n * @public\n */\nexport const setPlatform = (doc, plt) => (doc[DocumentPlatform] = plt);\n/**\n * @public\n */\nexport const getPlatform = (docOrNode) => {\n    const doc = getDocument(docOrNode);\n    return doc[DocumentPlatform] || (doc[DocumentPlatform] = createPlatform(doc));\n};\nconst DocumentPlatform = /*@__PURE__*/ Symbol();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhdGZvcm0uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3BsYXRmb3JtL3BsYXRmb3JtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRzFDLE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxDQUFDLEdBQWEsRUFBZ0IsRUFBRTtJQUM1RCxNQUFNLFdBQVcsR0FBRyxJQUFJLEdBQUcsRUFBcUMsQ0FBQztJQUNqRSxPQUFPO1FBQ0wsWUFBWSxDQUFDLE9BQU8sRUFBRSxHQUFHLEVBQUUsVUFBVTtZQUNuQyxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUVuRCxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNoQyxPQUFPLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNsQixPQUFPLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztZQUNwQixNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQy9CLE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdkMsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDeEI7WUFDRCxPQUFPLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDdkQsV0FBVyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ2hDLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDO1lBQ3pCLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ1YsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUM3QixxQkFBcUIsQ0FBQyxHQUFHLEVBQUU7b0JBQ3pCLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNoQixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO1lBQ2YsT0FBTyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxFQUFFO2dCQUM3QixVQUFVLENBQUMsR0FBRyxFQUFFO29CQUNkLE9BQU8sQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO2dCQUNoQixDQUFDLENBQUMsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ0wsQ0FBQztRQUNELGNBQWM7WUFDWixPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDO0tBQ0YsQ0FBQztBQUNKLENBQUMsQ0FBQztBQUVGOzs7Ozs7Ozs7O0dBVUc7QUFDSCxNQUFNLFVBQVUsS0FBSyxDQUFDLEdBQWEsRUFBRSxPQUFnQixFQUFFLEdBQWlCO0lBQ3RFLE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQyxNQUFNLElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxXQUFXLEVBQUUsWUFBWSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RGLE9BQU8sSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzVCLENBQUM7QUFFRDs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLEdBQWEsRUFBRSxHQUFpQixFQUFFLEVBQUUsQ0FDOUQsQ0FBRSxHQUF3QixDQUFDLGdCQUFnQixDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7QUFFdEQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxTQUEwQixFQUFFLEVBQUU7SUFDeEQsTUFBTSxHQUFHLEdBQUcsV0FBVyxDQUFDLFNBQVMsQ0FBcUIsQ0FBQztJQUN2RCxPQUFPLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDaEYsQ0FBQyxDQUFDO0FBRUYsTUFBTSxnQkFBZ0IsR0FBRyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDb250YWluZXIgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgdHlwZSB7IENvcmVQbGF0Zm9ybSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUGxhdGZvcm0gPSAoZG9jOiBEb2N1bWVudCk6IENvcmVQbGF0Zm9ybSA9PiB7XG4gIGNvbnN0IG1vZHVsZUNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIHsgW3N5bWJvbDogc3RyaW5nXTogYW55IH0+KCk7XG4gIHJldHVybiB7XG4gICAgaW1wb3J0U3ltYm9sKGVsZW1lbnQsIHVybCwgc3ltYm9sTmFtZSkge1xuICAgICAgY29uc3QgdXJsRG9jID0gdG9VcmwoZG9jLCBlbGVtZW50LCB1cmwpLnRvU3RyaW5nKCk7XG5cbiAgICAgIGNvbnN0IHVybENvcHkgPSBuZXcgVVJMKHVybERvYyk7XG4gICAgICB1cmxDb3B5Lmhhc2ggPSAnJztcbiAgICAgIHVybENvcHkuc2VhcmNoID0gJyc7XG4gICAgICBjb25zdCBpbXBvcnRVUkwgPSB1cmxDb3B5LmhyZWY7XG4gICAgICBjb25zdCBtb2QgPSBtb2R1bGVDYWNoZS5nZXQoaW1wb3J0VVJMKTtcbiAgICAgIGlmIChtb2QpIHtcbiAgICAgICAgcmV0dXJuIG1vZFtzeW1ib2xOYW1lXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbXBvcnQoLyogQHZpdGUtaWdub3JlICovIGltcG9ydFVSTCkudGhlbigobW9kKSA9PiB7XG4gICAgICAgIG1vZHVsZUNhY2hlLnNldChpbXBvcnRVUkwsIG1vZCk7XG4gICAgICAgIHJldHVybiBtb2Rbc3ltYm9sTmFtZV07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHJhZjogKGZuKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGZuKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbmV4dFRpY2s6IChmbikgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaHVua0ZvclN5bWJvbCgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgfTtcbn07XG5cbi8qKlxuICogQ29udmVydCByZWxhdGl2ZSBiYXNlIFVSSSBhbmQgcmVsYXRpdmUgVVJMIGludG8gYSBmdWxseSBxdWFsaWZpZWQgVVJMLlxuICpcbiAqIEBwYXJhbSBiYXNlIC1gUVJMYHMgYXJlIHJlbGF0aXZlLCBhbmQgdGhlcmVmb3JlIHRoZXkgbmVlZCBhIGJhc2UgZm9yIHJlc29sdXRpb24uXG4gKiAgICAtIGBFbGVtZW50YCB1c2UgYGJhc2Uub3duZXJEb2N1bWVudC5iYXNlVVJJYFxuICogICAgLSBgRG9jdW1lbnRgIHVzZSBgYmFzZS5iYXNlVVJJYFxuICogICAgLSBgc3RyaW5nYCB1c2UgYGJhc2VgIGFzIGlzXG4gKiAgICAtIGBRQ29uZmlnYCB1c2UgYGJhc2UuYmFzZVVSSWBcbiAqIEBwYXJhbSB1cmwgLSByZWxhdGl2ZSBVUkxcbiAqIEByZXR1cm5zIGZ1bGx5IHF1YWxpZmllZCBVUkwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1VybChkb2M6IERvY3VtZW50LCBlbGVtZW50OiBFbGVtZW50LCB1cmw6IHN0cmluZyB8IFVSTCk6IFVSTCB7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0Q29udGFpbmVyKGVsZW1lbnQpO1xuICBjb25zdCBiYXNlID0gbmV3IFVSTChjb250YWluZXJFbD8uZ2V0QXR0cmlidXRlKCdxOmJhc2UnKSA/PyBkb2MuYmFzZVVSSSwgZG9jLmJhc2VVUkkpO1xuICByZXR1cm4gbmV3IFVSTCh1cmwsIGJhc2UpO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHNldFBsYXRmb3JtID0gKGRvYzogRG9jdW1lbnQsIHBsdDogQ29yZVBsYXRmb3JtKSA9PlxuICAoKGRvYyBhcyBQbGF0Zm9ybURvY3VtZW50KVtEb2N1bWVudFBsYXRmb3JtXSA9IHBsdCk7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgZ2V0UGxhdGZvcm0gPSAoZG9jT3JOb2RlOiBEb2N1bWVudCB8IE5vZGUpID0+IHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZG9jT3JOb2RlKSBhcyBQbGF0Zm9ybURvY3VtZW50O1xuICByZXR1cm4gZG9jW0RvY3VtZW50UGxhdGZvcm1dIHx8IChkb2NbRG9jdW1lbnRQbGF0Zm9ybV0gPSBjcmVhdGVQbGF0Zm9ybShkb2MpKTtcbn07XG5cbmNvbnN0IERvY3VtZW50UGxhdGZvcm0gPSAvKkBfX1BVUkVfXyovIFN5bWJvbCgpO1xuXG5pbnRlcmZhY2UgUGxhdGZvcm1Eb2N1bWVudCBleHRlbmRzIERvY3VtZW50IHtcbiAgW0RvY3VtZW50UGxhdGZvcm1dPzogQ29yZVBsYXRmb3JtO1xufVxuIl19","import { QHostAttr, QSlotAttr } from './markers';\n/**\n * Returns true if the `node` is `Element` and of the right `tagName`.\n *\n * @param node\n * @private\n */\nexport function isDomElementWithTagName(node, tagName) {\n    return isHtmlElement(node) && node.tagName.toUpperCase() == tagName.toUpperCase();\n}\n/**\n * @private\n */\nexport function isTemplateElement(node) {\n    return isDomElementWithTagName(node, 'template');\n}\n/**\n * @private\n */\nexport function isQSLotTemplateElement(node) {\n    return isTemplateElement(node) && node.hasAttribute(QSlotAttr);\n}\n/**\n * @private\n */\nexport function isComponentElement(node) {\n    return isHtmlElement(node) && node.hasAttribute(QHostAttr);\n}\n/**\n * @private\n */\nexport function isHtmlElement(node) {\n    return node ? node.nodeType === NodeType.ELEMENT_NODE : false;\n}\n/**\n * `Node.type` enumeration\n */\nexport var NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"ELEMENT_NODE\"] = 1] = \"ELEMENT_NODE\";\n    NodeType[NodeType[\"ATTRIBUTE_NODE\"] = 2] = \"ATTRIBUTE_NODE\";\n    NodeType[NodeType[\"TEXT_NODE\"] = 3] = \"TEXT_NODE\";\n    NodeType[NodeType[\"CDATA_SECTION_NODE\"] = 4] = \"CDATA_SECTION_NODE\";\n    NodeType[NodeType[\"PROCESSING_INSTRUCTION_NODE\"] = 7] = \"PROCESSING_INSTRUCTION_NODE\";\n    // document, such as <?xml-stylesheet … ?>.\n    NodeType[NodeType[\"COMMENT_NODE\"] = 8] = \"COMMENT_NODE\";\n    NodeType[NodeType[\"DOCUMENT_NODE\"] = 9] = \"DOCUMENT_NODE\";\n    NodeType[NodeType[\"DOCUMENT_TYPE_NODE\"] = 10] = \"DOCUMENT_TYPE_NODE\";\n    NodeType[NodeType[\"DOCUMENT_FRAGMENT_NODE\"] = 11] = \"DOCUMENT_FRAGMENT_NODE\";\n})(NodeType || (NodeType = {}));\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3V0aWwvdHlwZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFakQ7Ozs7O0dBS0c7QUFDSCxNQUFNLFVBQVUsdUJBQXVCLENBQ3JDLElBQTZCLEVBQzdCLE9BQWU7SUFFZixPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxJQUFJLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUNwRixDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsSUFBNkI7SUFDN0QsT0FBTyx1QkFBdUIsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDbkQsQ0FBQztBQUVEOztHQUVHO0FBQ0gsTUFBTSxVQUFVLHNCQUFzQixDQUFDLElBQTZCO0lBQ2xFLE9BQU8saUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNqRSxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsa0JBQWtCLENBQUMsSUFBNkI7SUFDOUQsT0FBTyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM3RCxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsYUFBYSxDQUFDLElBQVM7SUFDckMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ2hFLENBQUM7QUFRRDs7R0FFRztBQUNILE1BQU0sQ0FBTixJQUFrQixRQVdqQjtBQVhELFdBQWtCLFFBQVE7SUFDeEIsdURBQWdCLENBQUE7SUFDaEIsMkRBQWtCLENBQUE7SUFDbEIsaURBQWEsQ0FBQTtJQUNiLG1FQUFzQixDQUFBO0lBQ3RCLHFGQUErQixDQUFBO0lBQy9CLDJDQUEyQztJQUMzQyx1REFBZ0IsQ0FBQTtJQUNoQix5REFBaUIsQ0FBQTtJQUNqQixvRUFBdUIsQ0FBQTtJQUN2Qiw0RUFBMkIsQ0FBQTtBQUM3QixDQUFDLEVBWGlCLFFBQVEsS0FBUixRQUFRLFFBV3pCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUUhvc3RBdHRyLCBRU2xvdEF0dHIgfSBmcm9tICcuL21hcmtlcnMnO1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYG5vZGVgIGlzIGBFbGVtZW50YCBhbmQgb2YgdGhlIHJpZ2h0IGB0YWdOYW1lYC5cbiAqXG4gKiBAcGFyYW0gbm9kZVxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRG9tRWxlbWVudFdpdGhUYWdOYW1lKFxuICBub2RlOiBOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgdGFnTmFtZTogc3RyaW5nXG4pOiBub2RlIGlzIEVsZW1lbnQge1xuICByZXR1cm4gaXNIdG1sRWxlbWVudChub2RlKSAmJiBub2RlLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSB0YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVGVtcGxhdGVFbGVtZW50KG5vZGU6IE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkKTogbm9kZSBpcyBIVE1MVGVtcGxhdGVFbGVtZW50IHtcbiAgcmV0dXJuIGlzRG9tRWxlbWVudFdpdGhUYWdOYW1lKG5vZGUsICd0ZW1wbGF0ZScpO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1FTTG90VGVtcGxhdGVFbGVtZW50KG5vZGU6IE5vZGUgfCBudWxsIHwgdW5kZWZpbmVkKTogbm9kZSBpcyBIVE1MVGVtcGxhdGVFbGVtZW50IHtcbiAgcmV0dXJuIGlzVGVtcGxhdGVFbGVtZW50KG5vZGUpICYmIG5vZGUuaGFzQXR0cmlidXRlKFFTbG90QXR0cik7XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ29tcG9uZW50RWxlbWVudChub2RlOiBOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCk6IG5vZGUgaXMgSFRNTEVsZW1lbnQge1xuICByZXR1cm4gaXNIdG1sRWxlbWVudChub2RlKSAmJiBub2RlLmhhc0F0dHJpYnV0ZShRSG9zdEF0dHIpO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0h0bWxFbGVtZW50KG5vZGU6IGFueSk6IG5vZGUgaXMgRWxlbWVudCB7XG4gIHJldHVybiBub2RlID8gbm9kZS5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuRUxFTUVOVF9OT0RFIDogZmFsc2U7XG59XG5cbi8qKlxuICogVHlwZSByZXByZXNlbnRpbmcgYSB2YWx1ZSB3aGljaCBpcyBlaXRoZXIgcmVzb2x2ZSBvciBhIHByb21pc2UuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFZhbHVlT3JQcm9taXNlPFQ+ID0gVCB8IFByb21pc2U8VD47XG5cbi8qKlxuICogYE5vZGUudHlwZWAgZW51bWVyYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGVudW0gTm9kZVR5cGUge1xuICBFTEVNRU5UX05PREUgPSAxLCAvLyBBbiBFbGVtZW50IG5vZGUgbGlrZSA8cD4gb3IgPGRpdj4uXG4gIEFUVFJJQlVURV9OT0RFID0gMiwgLy8gQW4gQXR0cmlidXRlIG9mIGFuIEVsZW1lbnQuXG4gIFRFWFRfTk9ERSA9IDMsIC8vIFRoZSBhY3R1YWwgVGV4dCBpbnNpZGUgYW4gRWxlbWVudCBvciBBdHRyLlxuICBDREFUQV9TRUNUSU9OX05PREUgPSA0LCAvLyBBIENEQVRBU2VjdGlvbiwgc3VjaCBhcyA8IUNEQVRBW1sg4oCmIF1dPi5cbiAgUFJPQ0VTU0lOR19JTlNUUlVDVElPTl9OT0RFID0gNywgLy8gQSBQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gb2YgYW4gWE1MXG4gIC8vIGRvY3VtZW50LCBzdWNoIGFzIDw/eG1sLXN0eWxlc2hlZXQg4oCmID8+LlxuICBDT01NRU5UX05PREUgPSA4LCAvLyBBIENvbW1lbnQgbm9kZSwgc3VjaCBhcyA8IS0tIOKApiAtLT4uXG4gIERPQ1VNRU5UX05PREUgPSA5LCAvLyBBIERvY3VtZW50IG5vZGUuXG4gIERPQ1VNRU5UX1RZUEVfTk9ERSA9IDEwLCAvLyBBIERvY3VtZW50VHlwZSBub2RlLCBzdWNoIGFzIDwhRE9DVFlQRSBodG1sPi5cbiAgRE9DVU1FTlRfRlJBR01FTlRfTk9ERSA9IDExLCAvLyBBIERvY3VtZW50RnJhZ21lbnQgbm9kZS5cbn1cbiJdfQ==","import { isHtmlElement } from '../util/types';\nexport function stringifyDebug(value) {\n    if (value == null)\n        return String(value);\n    if (typeof value === 'function')\n        return value.name;\n    if (isHtmlElement(value))\n        return stringifyElement(value);\n    if (value instanceof URL)\n        return String(value);\n    if (typeof value === 'object')\n        return JSON.stringify(value, function (key, value) {\n            if (isHtmlElement(value))\n                return stringifyElement(value);\n            return value;\n        });\n    return String(value);\n}\nexport function stringifyElement(element) {\n    let html = '<' + element.localName;\n    const attributes = element.attributes;\n    const names = [];\n    for (let i = 0; i < attributes.length; i++) {\n        names.push(attributes[i].name);\n    }\n    names.sort();\n    for (let i = 0; i < names.length; i++) {\n        const name = names[i];\n        let value = element.getAttribute(name);\n        if (value?.startsWith('file:/')) {\n            value = value.replace(/(file:\\/\\/).*(\\/.*)$/, (all, protocol, file) => protocol + '...' + file);\n        }\n        html +=\n            ' ' + name + (value == null || value == '' ? '' : \"='\" + value.replace(\"'\", '&apos;') + \"'\");\n    }\n    return html + '>';\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5naWZ5LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS9lcnJvci9zdHJpbmdpZnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUU5QyxNQUFNLFVBQVUsY0FBYyxDQUFDLEtBQVU7SUFDdkMsSUFBSSxLQUFLLElBQUksSUFBSTtRQUFFLE9BQU8sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hDLElBQUksT0FBTyxLQUFLLEtBQUssVUFBVTtRQUFFLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQztJQUNuRCxJQUFJLGFBQWEsQ0FBQyxLQUFLLENBQUM7UUFBRSxPQUFPLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pELElBQUksS0FBSyxZQUFZLEdBQUc7UUFBRSxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMvQyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVE7UUFDM0IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxVQUFxQixHQUFXLEVBQUUsS0FBVTtZQUN2RSxJQUFJLGFBQWEsQ0FBQyxLQUFLLENBQUM7Z0JBQUUsT0FBTyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUN6RCxPQUFPLEtBQUssQ0FBQztRQUNmLENBQUMsQ0FBQyxDQUFDO0lBQ0wsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDdkIsQ0FBQztBQUVELE1BQU0sVUFBVSxnQkFBZ0IsQ0FBQyxPQUFnQjtJQUMvQyxJQUFJLElBQUksR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQztJQUNuQyxNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO0lBQ3RDLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztJQUNqQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUMxQyxLQUFLLENBQUMsSUFBSSxDQUFFLFVBQVUsQ0FBQyxDQUFDLENBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUMxQztJQUNELEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNiLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3JDLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QixJQUFJLEtBQUssR0FBRyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3ZDLElBQUksS0FBSyxFQUFFLFVBQVUsQ0FBQyxRQUFRLENBQUMsRUFBRTtZQUMvQixLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FDbkIsc0JBQXNCLEVBQ3RCLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLFFBQVEsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUNqRCxDQUFDO1NBQ0g7UUFDRCxJQUFJO1lBQ0YsR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEtBQUssSUFBSSxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDaEc7SUFDRCxPQUFPLElBQUksR0FBRyxHQUFHLENBQUM7QUFDcEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzSHRtbEVsZW1lbnQgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeURlYnVnKHZhbHVlOiBhbnkpOiBzdHJpbmcgfCBudWxsIHtcbiAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdmFsdWUubmFtZTtcbiAgaWYgKGlzSHRtbEVsZW1lbnQodmFsdWUpKSByZXR1cm4gc3RyaW5naWZ5RWxlbWVudCh2YWx1ZSk7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVSTCkgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgZnVuY3Rpb24gKHRoaXM6IGFueSwga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgICAgIGlmIChpc0h0bWxFbGVtZW50KHZhbHVlKSkgcmV0dXJuIHN0cmluZ2lmeUVsZW1lbnQodmFsdWUpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0pO1xuICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeUVsZW1lbnQoZWxlbWVudDogRWxlbWVudCk6IHN0cmluZyB7XG4gIGxldCBodG1sID0gJzwnICsgZWxlbWVudC5sb2NhbE5hbWU7XG4gIGNvbnN0IGF0dHJpYnV0ZXMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gIGNvbnN0IG5hbWVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgIG5hbWVzLnB1c2goKGF0dHJpYnV0ZXNbaV0gYXMgQXR0cikubmFtZSk7XG4gIH1cbiAgbmFtZXMuc29ydCgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbmFtZSA9IG5hbWVzW2ldO1xuICAgIGxldCB2YWx1ZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIGlmICh2YWx1ZT8uc3RhcnRzV2l0aCgnZmlsZTovJykpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcbiAgICAgICAgLyhmaWxlOlxcL1xcLykuKihcXC8uKikkLyxcbiAgICAgICAgKGFsbCwgcHJvdG9jb2wsIGZpbGUpID0+IHByb3RvY29sICsgJy4uLicgKyBmaWxlXG4gICAgICApO1xuICAgIH1cbiAgICBodG1sICs9XG4gICAgICAnICcgKyBuYW1lICsgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT0gJycgPyAnJyA6IFwiPSdcIiArIHZhbHVlLnJlcGxhY2UoXCInXCIsICcmYXBvczsnKSArIFwiJ1wiKTtcbiAgfVxuICByZXR1cm4gaHRtbCArICc+Jztcbn1cbiJdfQ==","import { stringifyDebug } from './stringify';\nimport { qDev } from '../util/qdev';\nexport var QError;\n(function (QError) {\n    // core 000-099\n    QError[QError[\"TODO\"] = 0] = \"TODO\";\n    QError[QError[\"Core_qConfigNotFound_path\"] = 1] = \"Core_qConfigNotFound_path\";\n    QError[QError[\"Core_unrecognizedStack_frame\"] = 2] = \"Core_unrecognizedStack_frame\";\n    QError[QError[\"Core_noAttribute_atr1_element\"] = 3] = \"Core_noAttribute_atr1_element\";\n    QError[QError[\"Core_noAttribute_atr1_attr2_element\"] = 4] = \"Core_noAttribute_atr1_attr2_element\";\n    QError[QError[\"Core_missingProperty_name_props\"] = 5] = \"Core_missingProperty_name_props\";\n    QError[QError[\"Core_missingExport_name_url_props\"] = 6] = \"Core_missingExport_name_url_props\";\n    // QRL 100-199\n    QError[QError[\"QRL_expectFunction_url_actual\"] = 100] = \"QRL_expectFunction_url_actual\";\n    // Injection 200-299\n    QError[QError[\"Injector_noHost_element\"] = 200] = \"Injector_noHost_element\";\n    QError[QError[\"Injector_expectedSpecificInjector_expected_actual\"] = 201] = \"Injector_expectedSpecificInjector_expected_actual\";\n    QError[QError[\"Injector_notElement_arg\"] = 202] = \"Injector_notElement_arg\";\n    QError[QError[\"Injector_wrongMethodThis_expected_actual\"] = 203] = \"Injector_wrongMethodThis_expected_actual\";\n    QError[QError[\"Injector_missingSerializedState_entityKey_element\"] = 204] = \"Injector_missingSerializedState_entityKey_element\";\n    QError[QError[\"Injector_notFound_element\"] = 206] = \"Injector_notFound_element\";\n    QError[QError[\"Injector_eventInjectorNotSerializable\"] = 207] = \"Injector_eventInjectorNotSerializable\";\n    // Entities 300-399\n    QError[QError[\"Entity_notValidKey_key\"] = 300] = \"Entity_notValidKey_key\";\n    QError[QError[\"Entity_keyAlreadyExists_key\"] = 301] = \"Entity_keyAlreadyExists_key\";\n    QError[QError[\"Entity_invalidAttribute_name\"] = 303] = \"Entity_invalidAttribute_name\";\n    QError[QError[\"Entity_missingExpandoOrState_attrName\"] = 304] = \"Entity_missingExpandoOrState_attrName\";\n    QError[QError[\"Entity_elementMissingEntityAttr_element_attr\"] = 305] = \"Entity_elementMissingEntityAttr_element_attr\";\n    QError[QError[\"Entity_noState_entity_props\"] = 306] = \"Entity_noState_entity_props\";\n    QError[QError[\"Entity_expected_obj\"] = 307] = \"Entity_expected_obj\";\n    QError[QError[\"Entity_overridesConstructor_entity\"] = 308] = \"Entity_overridesConstructor_entity\";\n    QError[QError[\"Entity_keyMissingParts_key_key\"] = 309] = \"Entity_keyMissingParts_key_key\";\n    QError[QError[\"Entity_no$type_entity\"] = 310] = \"Entity_no$type_entity\";\n    QError[QError[\"Entity_no$keyProps_entity\"] = 311] = \"Entity_no$keyProps_entity\";\n    QError[QError[\"Entity_no$qrl_entity\"] = 312] = \"Entity_no$qrl_entity\";\n    QError[QError[\"Entity_nameCollision_name_currentQrl_expectedQrl\"] = 313] = \"Entity_nameCollision_name_currentQrl_expectedQrl\";\n    QError[QError[\"Entity_keyTooManyParts_entity_parts_key\"] = 314] = \"Entity_keyTooManyParts_entity_parts_key\";\n    QError[QError[\"Entity_keyNameMismatch_key_name_entity_name\"] = 315] = \"Entity_keyNameMismatch_key_name_entity_name\";\n    QError[QError[\"Entity_stateMissingKey_state\"] = 316] = \"Entity_stateMissingKey_state\";\n    // Component 400-499\n    QError[QError[\"Component_bindNeedsKey\"] = 400] = \"Component_bindNeedsKey\";\n    QError[QError[\"Component_bindNeedsValue\"] = 401] = \"Component_bindNeedsValue\";\n    QError[QError[\"Component_needsState\"] = 402] = \"Component_needsState\";\n    QError[QError[\"Component_needsInjectionContext_constructor\"] = 403] = \"Component_needsInjectionContext_constructor\";\n    QError[QError[\"Component_noProperty_propName_props_host\"] = 404] = \"Component_noProperty_propName_props_host\";\n    QError[QError[\"Component_notFound_component\"] = 405] = \"Component_notFound_component\";\n    QError[QError[\"Component_doesNotMatch_component_actual\"] = 406] = \"Component_doesNotMatch_component_actual\";\n    QError[QError[\"Component_noState_component_props\"] = 408] = \"Component_noState_component_props\";\n    // Provider 500-599\n    QError[QError[\"Provider_unrecognizedFormat_value\"] = 500] = \"Provider_unrecognizedFormat_value\";\n    // Render 600-699\n    QError[QError[\"Render_unexpectedJSXNodeType_type\"] = 600] = \"Render_unexpectedJSXNodeType_type\";\n    QError[QError[\"Render_unsupportedFormat_obj_attr\"] = 601] = \"Render_unsupportedFormat_obj_attr\";\n    QError[QError[\"Render_expectingEntity_entity\"] = 602] = \"Render_expectingEntity_entity\";\n    QError[QError[\"Render_expectingEntityArray_obj\"] = 603] = \"Render_expectingEntityArray_obj\";\n    QError[QError[\"Render_expectingEntityOrComponent_obj\"] = 604] = \"Render_expectingEntityOrComponent_obj\";\n    QError[QError[\"Render_stateMachineStuck\"] = 699] = \"Render_stateMachineStuck\";\n    // Event\n    QError[QError[\"Event_emitEventRequiresName_url\"] = 700] = \"Event_emitEventRequiresName_url\";\n    QError[QError[\"Event_emitEventCouldNotFindListener_event_element\"] = 701] = \"Event_emitEventCouldNotFindListener_event_element\";\n})(QError || (QError = {}));\nexport function qError(code, ...args) {\n    if (qDev) {\n        const text = codeToText(code);\n        const parts = text.split('{}');\n        const error = parts\n            .map((value, index) => {\n            return value + (index === parts.length - 1 ? '' : stringifyDebug(args[index]));\n        })\n            .join('');\n        debugger; // eslint-disable-line no-debugger\n        return new Error(error);\n    }\n    else {\n        return new Error(`QError ` + code);\n    }\n}\nfunction codeToText(code) {\n    const area = {\n        0: 'ERROR',\n        1: 'QRL-ERROR',\n        2: 'INJECTOR-ERROR',\n        3: 'SERVICE-ERROR',\n        4: 'COMPONENT-ERROR',\n        5: 'PROVIDER-ERROR',\n        6: 'RENDER-ERROR',\n        7: 'EVENT-ERROR',\n    }[Math.floor(code / 100)];\n    const text = {\n        [QError.TODO]: '{}',\n        [QError.Core_qConfigNotFound_path]: \"QConfig not found in path '{}'.\",\n        [QError.Core_unrecognizedStack_frame]: \"Unrecognized stack format '{}'\",\n        [QError.Core_noAttribute_atr1_element]: \"Could not find entity state '{}' at '{}' or any of it's parents.\",\n        [QError.Core_noAttribute_atr1_attr2_element]: \"Could not find entity state '{}' ( or entity provider '{}') at '{}' or any of it's parents.\",\n        [QError.Core_missingProperty_name_props]: \"Missing property '{}' in props '{}'.\",\n        [QError.Core_missingExport_name_url_props]: \"Missing export '{}' from '{}'. Exported symbols are: {}\",\n        //////////////\n        [QError.QRL_expectFunction_url_actual]: \"QRL '${}' should point to function, was '{}'.\",\n        //////////////\n        [QError.Injector_noHost_element]: \"Can't find host element above '{}'.\",\n        [QError.Injector_expectedSpecificInjector_expected_actual]: \"Provider is expecting '{}' but got '{}'.\",\n        [QError.Injector_notElement_arg]: \"Expected 'Element' was '{}'.\",\n        [QError.Injector_wrongMethodThis_expected_actual]: \"Expected injection 'this' to be of type '{}', but was of type '{}'.\",\n        [QError.Injector_missingSerializedState_entityKey_element]: \"Entity key '{}' is found on '{}' but does not contain state. Was 'serializeState()' not run during dehydration?\",\n        [QError.Injector_notFound_element]: \"No injector can be found starting at '{}'.\",\n        [QError.Injector_eventInjectorNotSerializable]: 'EventInjector does not support serialization.',\n        //////////////\n        [QError.Entity_notValidKey_key]: \"Data key '{}' is not a valid key.\\n\" +\n            '  - Data key can only contain characters (preferably lowercase) or number\\n' +\n            '  - Data key is prefixed with entity name\\n' +\n            \"  - Data key is made up from parts that are separated with ':'.\",\n        [QError.Entity_keyAlreadyExists_key]: \"A entity with key '{}' already exists.\",\n        [QError.Entity_invalidAttribute_name]: \"'{}' is not a valid attribute. \" +\n            \"Attributes can only contain 'a-z' (lowercase), '0-9', '-' and '_'.\",\n        [QError.Entity_missingExpandoOrState_attrName]: \"Found '{}' but expando did not have entity and attribute did not have state.\",\n        [QError.Entity_elementMissingEntityAttr_element_attr]: \"Element '{}' is missing entity attribute definition '{}'.\",\n        [QError.Entity_noState_entity_props]: \"Unable to create state for entity '{}' with props '{}' because no state found and '$newState()' method was not defined on entity.\",\n        [QError.Entity_expected_obj]: \"'{}' is not an instance of 'Entity'.\",\n        [QError.Entity_overridesConstructor_entity]: \"'{}' overrides 'constructor' property preventing 'EntityType' retrieval.\",\n        [QError.Entity_no$keyProps_entity]: \"Entity '{}' does not define '$keyProps'.\",\n        [QError.Entity_no$type_entity]: \"Entity '{}' must have static '$type' property defining the name of the entity.\",\n        [QError.Entity_no$qrl_entity]: \"Entity '{}' must have static '$qrl' property defining the import location of the entity.\",\n        [QError.Entity_nameCollision_name_currentQrl_expectedQrl]: \"Name collision. Already have entity named '{}' with QRL '{}' but expected QRL '{}'.\",\n        [QError.Entity_keyMissingParts_key_key]: \"Entity key '{}' is missing values. Expecting '{}:someValue'.\",\n        [QError.Entity_keyTooManyParts_entity_parts_key]: \"Entity '{}' defines '$keyProps' as  '{}'. Actual key '{}' has more parts than entity defines.\",\n        [QError.Entity_keyNameMismatch_key_name_entity_name]: \"Key '{}' belongs to entity named '{}', but expected entity '{}' with name '{}'.\",\n        [QError.Entity_stateMissingKey_state]: \"Entity state is missing '$key'. Are you sure you passed in state? Got '{}'.\",\n        //////////////\n        [QError.Component_bindNeedsKey]: \"'bind:' must have an key. (Example: 'bind:key=\\\"propertyName\\\"').\",\n        [QError.Component_bindNeedsValue]: \"'bind:id' must have a property name. (Example: 'bind:key=\\\"propertyName\\\"').\",\n        [QError.Component_needsState]: \"Can't find state on host element.\",\n        [QError.Component_needsInjectionContext_constructor]: \"Components must be instantiated inside an injection context. Use '{}.new(...)' for creation.\",\n        [QError.Component_noProperty_propName_props_host]: \"Property '{}' not found in '{}' on component '{}'.\",\n        [QError.Component_notFound_component]: \"Unable to find '{}' component.\",\n        [QError.Component_doesNotMatch_component_actual]: \"Requesting component type '{}' does not match existing component instance '{}'.\",\n        [QError.Component_noState_component_props]: \"Unable to create state for component '{}' with props '{}' because no state found and '$newState()' method was not defined on component.\",\n        //////////////\n        [QError.Provider_unrecognizedFormat_value]: \"Unrecognized expression format '{}'.\",\n        //////////////\n        [QError.Render_unexpectedJSXNodeType_type]: 'Unexpected JSXNode<{}> type.',\n        [QError.Render_unsupportedFormat_obj_attr]: \"Value '{}' can't be written into '{}' attribute.\",\n        [QError.Render_expectingEntity_entity]: \"Expecting entity object, got '{}'.\",\n        [QError.Render_expectingEntityArray_obj]: \"Expecting array of entities, got '{}'.\",\n        [QError.Render_expectingEntityOrComponent_obj]: \"Expecting Entity or Component got '{}'.\",\n        [QError.Render_stateMachineStuck]: 'Render state machine did not advance.',\n        //////////////\n        [QError.Event_emitEventRequiresName_url]: \"Missing '$type' attribute in the '{}' url.\",\n        [QError.Event_emitEventCouldNotFindListener_event_element]: \"Re-emitting event '{}' but no listener found at '{}' or any of its parents.\",\n    }[code];\n    let textCode = '000' + code;\n    textCode = textCode.slice(-3);\n    return `${area}(Q-${textCode}): ${text}`;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL2Vycm9yL2Vycm9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDN0MsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUVwQyxNQUFNLENBQU4sSUFBa0IsTUF5RGpCO0FBekRELFdBQWtCLE1BQU07SUFDdEIsZUFBZTtJQUNmLG1DQUFRLENBQUE7SUFDUiw2RUFBNkIsQ0FBQTtJQUM3QixtRkFBZ0MsQ0FBQTtJQUNoQyxxRkFBaUMsQ0FBQTtJQUNqQyxpR0FBdUMsQ0FBQTtJQUN2Qyx5RkFBbUMsQ0FBQTtJQUNuQyw2RkFBcUMsQ0FBQTtJQUNyQyxjQUFjO0lBQ2QsdUZBQW1DLENBQUE7SUFDbkMsb0JBQW9CO0lBQ3BCLDJFQUE2QixDQUFBO0lBQzdCLCtIQUF1RCxDQUFBO0lBQ3ZELDJFQUE2QixDQUFBO0lBQzdCLDZHQUE4QyxDQUFBO0lBQzlDLCtIQUF1RCxDQUFBO0lBQ3ZELCtFQUErQixDQUFBO0lBQy9CLHVHQUEyQyxDQUFBO0lBQzNDLG1CQUFtQjtJQUNuQix5RUFBNEIsQ0FBQTtJQUM1QixtRkFBaUMsQ0FBQTtJQUNqQyxxRkFBa0MsQ0FBQTtJQUNsQyx1R0FBMkMsQ0FBQTtJQUMzQyxxSEFBa0QsQ0FBQTtJQUNsRCxtRkFBaUMsQ0FBQTtJQUNqQyxtRUFBeUIsQ0FBQTtJQUN6QixpR0FBd0MsQ0FBQTtJQUN4Qyx5RkFBb0MsQ0FBQTtJQUNwQyx1RUFBMkIsQ0FBQTtJQUMzQiwrRUFBK0IsQ0FBQTtJQUMvQixxRUFBMEIsQ0FBQTtJQUMxQiw2SEFBc0QsQ0FBQTtJQUN0RCwyR0FBNkMsQ0FBQTtJQUM3QyxtSEFBaUQsQ0FBQTtJQUNqRCxxRkFBa0MsQ0FBQTtJQUNsQyxvQkFBb0I7SUFDcEIseUVBQTRCLENBQUE7SUFDNUIsNkVBQThCLENBQUE7SUFDOUIscUVBQTBC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QUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QixPQUFPLEdBQUcsSUFBSSxNQUFNLFFBQVEsTUFBTSxJQUFJLEVBQUUsQ0FBQztBQUMzQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RyaW5naWZ5RGVidWcgfSBmcm9tICcuL3N0cmluZ2lmeSc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcblxuZXhwb3J0IGNvbnN0IGVudW0gUUVycm9yIHtcbiAgLy8gY29yZSAwMDAtMDk5XG4gIFRPRE8gPSAwLCAvLyBUZW1wb3JhcnkgSUQgdW50aWwgd2UgY3JlYXRlIGEgcHJvcHIgZXJyb3IgY29kZS5cbiAgQ29yZV9xQ29uZmlnTm90Rm91bmRfcGF0aCA9IDEsXG4gIENvcmVfdW5yZWNvZ25pemVkU3RhY2tfZnJhbWUgPSAyLFxuICBDb3JlX25vQXR0cmlidXRlX2F0cjFfZWxlbWVudCA9IDMsXG4gIENvcmVfbm9BdHRyaWJ1dGVfYXRyMV9hdHRyMl9lbGVtZW50ID0gNCxcbiAgQ29yZV9taXNzaW5nUHJvcGVydHlfbmFtZV9wcm9wcyA9IDUsXG4gIENvcmVfbWlzc2luZ0V4cG9ydF9uYW1lX3VybF9wcm9wcyA9IDYsXG4gIC8vIFFSTCAxMDAtMTk5XG4gIFFSTF9leHBlY3RGdW5jdGlvbl91cmxfYWN0dWFsID0gMTAwLFxuICAvLyBJbmplY3Rpb24gMjAwLTI5OVxuICBJbmplY3Rvcl9ub0hvc3RfZWxlbWVudCA9IDIwMCxcbiAgSW5qZWN0b3JfZXhwZWN0ZWRTcGVjaWZpY0luamVjdG9yX2V4cGVjdGVkX2FjdHVhbCA9IDIwMSxcbiAgSW5qZWN0b3Jfbm90RWxlbWVudF9hcmcgPSAyMDIsXG4gIEluamVjdG9yX3dyb25nTWV0aG9kVGhpc19leHBlY3RlZF9hY3R1YWwgPSAyMDMsXG4gIEluamVjdG9yX21pc3NpbmdTZXJpYWxpemVkU3RhdGVfZW50aXR5S2V5X2VsZW1lbnQgPSAyMDQsXG4gIEluamVjdG9yX25vdEZvdW5kX2VsZW1lbnQgPSAyMDYsXG4gIEluamVjdG9yX2V2ZW50SW5qZWN0b3JOb3RTZXJpYWxpemFibGUgPSAyMDcsXG4gIC8vIEVudGl0aWVzIDMwMC0zOTlcbiAgRW50aXR5X25vdFZhbGlkS2V5X2tleSA9IDMwMCxcbiAgRW50aXR5X2tleUFscmVhZHlFeGlzdHNfa2V5ID0gMzAxLFxuICBFbnRpdHlfaW52YWxpZEF0dHJpYnV0ZV9uYW1lID0gMzAzLFxuICBFbnRpdHlfbWlzc2luZ0V4cGFuZG9PclN0YXRlX2F0dHJOYW1lID0gMzA0LFxuICBFbnRpdHlfZWxlbWVudE1pc3NpbmdFbnRpdHlBdHRyX2VsZW1lbnRfYXR0ciA9IDMwNSxcbiAgRW50aXR5X25vU3RhdGVfZW50aXR5X3Byb3BzID0gMzA2LFxuICBFbnRpdHlfZXhwZWN0ZWRfb2JqID0gMzA3LFxuICBFbnRpdHlfb3ZlcnJpZGVzQ29uc3RydWN0b3JfZW50aXR5ID0gMzA4LFxuICBFbnRpdHlfa2V5TWlzc2luZ1BhcnRzX2tleV9rZXkgPSAzMDksXG4gIEVudGl0eV9ubyR0eXBlX2VudGl0eSA9IDMxMCxcbiAgRW50aXR5X25vJGtleVByb3BzX2VudGl0eSA9IDMxMSxcbiAgRW50aXR5X25vJHFybF9lbnRpdHkgPSAzMTIsXG4gIEVudGl0eV9uYW1lQ29sbGlzaW9uX25hbWVfY3VycmVudFFybF9leHBlY3RlZFFybCA9IDMxMyxcbiAgRW50aXR5X2tleVRvb01hbnlQYXJ0c19lbnRpdHlfcGFydHNfa2V5ID0gMzE0LFxuICBFbnRpdHlfa2V5TmFtZU1pc21hdGNoX2tleV9uYW1lX2VudGl0eV9uYW1lID0gMzE1LFxuICBFbnRpdHlfc3RhdGVNaXNzaW5nS2V5X3N0YXRlID0gMzE2LFxuICAvLyBDb21wb25lbnQgNDAwLTQ5OVxuICBDb21wb25lbnRfYmluZE5lZWRzS2V5ID0gNDAwLFxuICBDb21wb25lbnRfYmluZE5lZWRzVmFsdWUgPSA0MDEsXG4gIENvbXBvbmVudF9uZWVkc1N0YXRlID0gNDAyLFxuICBDb21wb25lbnRfbmVlZHNJbmplY3Rpb25Db250ZXh0X2NvbnN0cnVjdG9yID0gNDAzLFxuICBDb21wb25lbnRfbm9Qcm9wZXJ0eV9wcm9wTmFtZV9wcm9wc19ob3N0ID0gNDA0LFxuICBDb21wb25lbnRfbm90Rm91bmRfY29tcG9uZW50ID0gNDA1LFxuICBDb21wb25lbnRfZG9lc05vdE1hdGNoX2NvbXBvbmVudF9hY3R1YWwgPSA0MDYsXG4gIENvbXBvbmVudF9ub1N0YXRlX2NvbXBvbmVudF9wcm9wcyA9IDQwOCxcbiAgLy8gUHJvdmlkZXIgNTAwLTU5OVxuICBQcm92aWRlcl91bnJlY29nbml6ZWRGb3JtYXRfdmFsdWUgPSA1MDAsXG4gIC8vIFJlbmRlciA2MDAtNjk5XG4gIFJlbmRlcl91bmV4cGVjdGVkSlNYTm9kZVR5cGVfdHlwZSA9IDYwMCxcbiAgUmVuZGVyX3Vuc3VwcG9ydGVkRm9ybWF0X29ial9hdHRyID0gNjAxLFxuICBSZW5kZXJfZXhwZWN0aW5nRW50aXR5X2VudGl0eSA9IDYwMixcbiAgUmVuZGVyX2V4cGVjdGluZ0VudGl0eUFycmF5X29iaiA9IDYwMyxcbiAgUmVuZGVyX2V4cGVjdGluZ0VudGl0eU9yQ29tcG9uZW50X29iaiA9IDYwNCxcbiAgUmVuZGVyX3N0YXRlTWFjaGluZVN0dWNrID0gNjk5LFxuICAvLyBFdmVudFxuICBFdmVudF9lbWl0RXZlbnRSZXF1aXJlc05hbWVfdXJsID0gNzAwLFxuICBFdmVudF9lbWl0RXZlbnRDb3VsZE5vdEZpbmRMaXN0ZW5lcl9ldmVudF9lbGVtZW50ID0gNzAxLFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcUVycm9yKGNvZGU6IFFFcnJvciwgLi4uYXJnczogYW55W10pOiBFcnJvciB7XG4gIGlmIChxRGV2KSB7XG4gICAgY29uc3QgdGV4dCA9IGNvZGVUb1RleHQoY29kZSk7XG4gICAgY29uc3QgcGFydHMgPSB0ZXh0LnNwbGl0KCd7fScpO1xuICAgIGNvbnN0IGVycm9yID0gcGFydHNcbiAgICAgIC5tYXAoKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gdmFsdWUgKyAoaW5kZXggPT09IHBhcnRzLmxlbmd0aCAtIDEgPyAnJyA6IHN0cmluZ2lmeURlYnVnKGFyZ3NbaW5kZXhdKSk7XG4gICAgICB9KVxuICAgICAgLmpvaW4oJycpO1xuICAgIGRlYnVnZ2VyOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWRlYnVnZ2VyXG4gICAgcmV0dXJuIG5ldyBFcnJvcihlcnJvcik7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgUUVycm9yIGAgKyBjb2RlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb2RlVG9UZXh0KGNvZGU6IFFFcnJvcik6IHN0cmluZyB7XG4gIGNvbnN0IGFyZWEgPSB7XG4gICAgMDogJ0VSUk9SJyxcbiAgICAxOiAnUVJMLUVSUk9SJyxcbiAgICAyOiAnSU5KRUNUT1ItRVJST1InLFxuICAgIDM6ICdTRVJWSUNFLUVSUk9SJyxcbiAgICA0OiAnQ09NUE9ORU5ULUVSUk9SJyxcbiAgICA1OiAnUFJPVklERVItRVJST1InLFxuICAgIDY6ICdSRU5ERVItRVJST1InLFxuICAgIDc6ICdFVkVOVC1FUlJPUicsXG4gIH1bTWF0aC5mbG9vcihjb2RlIC8gMTAwKV07XG4gIGNvbnN0IHRleHQgPSB7XG4gICAgW1FFcnJvci5UT0RPXTogJ3t9JyxcbiAgICBbUUVycm9yLkNvcmVfcUNvbmZpZ05vdEZvdW5kX3BhdGhdOiBcIlFDb25maWcgbm90IGZvdW5kIGluIHBhdGggJ3t9Jy5cIixcbiAgICBbUUVycm9yLkNvcmVfdW5yZWNvZ25pemVkU3RhY2tfZnJhbWVdOiBcIlVucmVjb2duaXplZCBzdGFjayBmb3JtYXQgJ3t9J1wiLFxuICAgIFtRRXJyb3IuQ29yZV9ub0F0dHJpYnV0ZV9hdHIxX2VsZW1lbnRdOlxuICAgICAgXCJDb3VsZCBub3QgZmluZCBlbnRpdHkgc3RhdGUgJ3t9JyBhdCAne30nIG9yIGFueSBvZiBpdCdzIHBhcmVudHMuXCIsXG4gICAgW1FFcnJvci5Db3JlX25vQXR0cmlidXRlX2F0cjFfYXR0cjJfZWxlbWVudF06XG4gICAgICBcIkNvdWxkIG5vdCBmaW5kIGVudGl0eSBzdGF0ZSAne30nICggb3IgZW50aXR5IHByb3ZpZGVyICd7fScpIGF0ICd7fScgb3IgYW55IG9mIGl0J3MgcGFyZW50cy5cIixcbiAgICBbUUVycm9yLkNvcmVfbWlzc2luZ1Byb3BlcnR5X25hbWVfcHJvcHNdOiBcIk1pc3NpbmcgcHJvcGVydHkgJ3t9JyBpbiBwcm9wcyAne30nLlwiLFxuICAgIFtRRXJyb3IuQ29yZV9taXNzaW5nRXhwb3J0X25hbWVfdXJsX3Byb3BzXTpcbiAgICAgIFwiTWlzc2luZyBleHBvcnQgJ3t9JyBmcm9tICd7fScuIEV4cG9ydGVkIHN5bWJvbHMgYXJlOiB7fVwiLFxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgW1FFcnJvci5RUkxfZXhwZWN0RnVuY3Rpb25fdXJsX2FjdHVhbF06IFwiUVJMICcke30nIHNob3VsZCBwb2ludCB0byBmdW5jdGlvbiwgd2FzICd7fScuXCIsXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICBbUUVycm9yLkluamVjdG9yX25vSG9zdF9lbGVtZW50XTogXCJDYW4ndCBmaW5kIGhvc3QgZWxlbWVudCBhYm92ZSAne30nLlwiLFxuICAgIFtRRXJyb3IuSW5qZWN0b3JfZXhwZWN0ZWRTcGVjaWZpY0luamVjdG9yX2V4cGVjdGVkX2FjdHVhbF06XG4gICAgICBcIlByb3ZpZGVyIGlzIGV4cGVjdGluZyAne30nIGJ1dCBnb3QgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkluamVjdG9yX25vdEVsZW1lbnRfYXJnXTogXCJFeHBlY3RlZCAnRWxlbWVudCcgd2FzICd7fScuXCIsXG4gICAgW1FFcnJvci5JbmplY3Rvcl93cm9uZ01ldGhvZFRoaXNfZXhwZWN0ZWRfYWN0dWFsXTpcbiAgICAgIFwiRXhwZWN0ZWQgaW5qZWN0aW9uICd0aGlzJyB0byBiZSBvZiB0eXBlICd7fScsIGJ1dCB3YXMgb2YgdHlwZSAne30nLlwiLFxuICAgIFtRRXJyb3IuSW5qZWN0b3JfbWlzc2luZ1NlcmlhbGl6ZWRTdGF0ZV9lbnRpdHlLZXlfZWxlbWVudF06XG4gICAgICBcIkVudGl0eSBrZXkgJ3t9JyBpcyBmb3VuZCBvbiAne30nIGJ1dCBkb2VzIG5vdCBjb250YWluIHN0YXRlLiBXYXMgJ3NlcmlhbGl6ZVN0YXRlKCknIG5vdCBydW4gZHVyaW5nIGRlaHlkcmF0aW9uP1wiLFxuICAgIFtRRXJyb3IuSW5qZWN0b3Jfbm90Rm91bmRfZWxlbWVudF06IFwiTm8gaW5qZWN0b3IgY2FuIGJlIGZvdW5kIHN0YXJ0aW5nIGF0ICd7fScuXCIsXG4gICAgW1FFcnJvci5JbmplY3Rvcl9ldmVudEluamVjdG9yTm90U2VyaWFsaXphYmxlXTogJ0V2ZW50SW5qZWN0b3IgZG9lcyBub3Qgc3VwcG9ydCBzZXJpYWxpemF0aW9uLicsXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICBbUUVycm9yLkVudGl0eV9ub3RWYWxpZEtleV9rZXldOlxuICAgICAgXCJEYXRhIGtleSAne30nIGlzIG5vdCBhIHZhbGlkIGtleS5cXG5cIiArXG4gICAgICAnICAtIERhdGEga2V5IGNhbiBvbmx5IGNvbnRhaW4gY2hhcmFjdGVycyAocHJlZmVyYWJseSBsb3dlcmNhc2UpIG9yIG51bWJlclxcbicgK1xuICAgICAgJyAgLSBEYXRhIGtleSBpcyBwcmVmaXhlZCB3aXRoIGVudGl0eSBuYW1lXFxuJyArXG4gICAgICBcIiAgLSBEYXRhIGtleSBpcyBtYWRlIHVwIGZyb20gcGFydHMgdGhhdCBhcmUgc2VwYXJhdGVkIHdpdGggJzonLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X2tleUFscmVhZHlFeGlzdHNfa2V5XTogXCJBIGVudGl0eSB3aXRoIGtleSAne30nIGFscmVhZHkgZXhpc3RzLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X2ludmFsaWRBdHRyaWJ1dGVfbmFtZV06XG4gICAgICBcIid7fScgaXMgbm90IGEgdmFsaWQgYXR0cmlidXRlLiBcIiArXG4gICAgICBcIkF0dHJpYnV0ZXMgY2FuIG9ubHkgY29udGFpbiAnYS16JyAobG93ZXJjYXNlKSwgJzAtOScsICctJyBhbmQgJ18nLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X21pc3NpbmdFeHBhbmRvT3JTdGF0ZV9hdHRyTmFtZV06XG4gICAgICBcIkZvdW5kICd7fScgYnV0IGV4cGFuZG8gZGlkIG5vdCBoYXZlIGVudGl0eSBhbmQgYXR0cmlidXRlIGRpZCBub3QgaGF2ZSBzdGF0ZS5cIixcbiAgICBbUUVycm9yLkVudGl0eV9lbGVtZW50TWlzc2luZ0VudGl0eUF0dHJfZWxlbWVudF9hdHRyXTpcbiAgICAgIFwiRWxlbWVudCAne30nIGlzIG1pc3NpbmcgZW50aXR5IGF0dHJpYnV0ZSBkZWZpbml0aW9uICd7fScuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfbm9TdGF0ZV9lbnRpdHlfcHJvcHNdOlxuICAgICAgXCJVbmFibGUgdG8gY3JlYXRlIHN0YXRlIGZvciBlbnRpdHkgJ3t9JyB3aXRoIHByb3BzICd7fScgYmVjYXVzZSBubyBzdGF0ZSBmb3VuZCBhbmQgJyRuZXdTdGF0ZSgpJyBtZXRob2Qgd2FzIG5vdCBkZWZpbmVkIG9uIGVudGl0eS5cIixcbiAgICBbUUVycm9yLkVudGl0eV9leHBlY3RlZF9vYmpdOiBcIid7fScgaXMgbm90IGFuIGluc3RhbmNlIG9mICdFbnRpdHknLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X292ZXJyaWRlc0NvbnN0cnVjdG9yX2VudGl0eV06XG4gICAgICBcIid7fScgb3ZlcnJpZGVzICdjb25zdHJ1Y3RvcicgcHJvcGVydHkgcHJldmVudGluZyAnRW50aXR5VHlwZScgcmV0cmlldmFsLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X25vJGtleVByb3BzX2VudGl0eV06IFwiRW50aXR5ICd7fScgZG9lcyBub3QgZGVmaW5lICcka2V5UHJvcHMnLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X25vJHR5cGVfZW50aXR5XTpcbiAgICAgIFwiRW50aXR5ICd7fScgbXVzdCBoYXZlIHN0YXRpYyAnJHR5cGUnIHByb3BlcnR5IGRlZmluaW5nIHRoZSBuYW1lIG9mIHRoZSBlbnRpdHkuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfbm8kcXJsX2VudGl0eV06XG4gICAgICBcIkVudGl0eSAne30nIG11c3QgaGF2ZSBzdGF0aWMgJyRxcmwnIHByb3BlcnR5IGRlZmluaW5nIHRoZSBpbXBvcnQgbG9jYXRpb24gb2YgdGhlIGVudGl0eS5cIixcbiAgICBbUUVycm9yLkVudGl0eV9uYW1lQ29sbGlzaW9uX25hbWVfY3VycmVudFFybF9leHBlY3RlZFFybF06XG4gICAgICBcIk5hbWUgY29sbGlzaW9uLiBBbHJlYWR5IGhhdmUgZW50aXR5IG5hbWVkICd7fScgd2l0aCBRUkwgJ3t9JyBidXQgZXhwZWN0ZWQgUVJMICd7fScuXCIsXG4gICAgW1FFcnJvci5FbnRpdHlfa2V5TWlzc2luZ1BhcnRzX2tleV9rZXldOlxuICAgICAgXCJFbnRpdHkga2V5ICd7fScgaXMgbWlzc2luZyB2YWx1ZXMuIEV4cGVjdGluZyAne306c29tZVZhbHVlJy5cIixcbiAgICBbUUVycm9yLkVudGl0eV9rZXlUb29NYW55UGFydHNfZW50aXR5X3BhcnRzX2tleV06XG4gICAgICBcIkVudGl0eSAne30nIGRlZmluZXMgJyRrZXlQcm9wcycgYXMgICd7fScuIEFjdHVhbCBrZXkgJ3t9JyBoYXMgbW9yZSBwYXJ0cyB0aGFuIGVudGl0eSBkZWZpbmVzLlwiLFxuICAgIFtRRXJyb3IuRW50aXR5X2tleU5hbWVNaXNtYXRjaF9rZXlfbmFtZV9lbnRpdHlfbmFtZV06XG4gICAgICBcIktleSAne30nIGJlbG9uZ3MgdG8gZW50aXR5IG5hbWVkICd7fScsIGJ1dCBleHBlY3RlZCBlbnRpdHkgJ3t9JyB3aXRoIG5hbWUgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkVudGl0eV9zdGF0ZU1pc3NpbmdLZXlfc3RhdGVdOlxuICAgICAgXCJFbnRpdHkgc3RhdGUgaXMgbWlzc2luZyAnJGtleScuIEFyZSB5b3Ugc3VyZSB5b3UgcGFzc2VkIGluIHN0YXRlPyBHb3QgJ3t9Jy5cIixcbiAgICAvLy8vLy8vLy8vLy8vL1xuICAgIFtRRXJyb3IuQ29tcG9uZW50X2JpbmROZWVkc0tleV06XG4gICAgICBcIidiaW5kOicgbXVzdCBoYXZlIGFuIGtleS4gKEV4YW1wbGU6ICdiaW5kOmtleT1cXFwicHJvcGVydHlOYW1lXFxcIicpLlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X2JpbmROZWVkc1ZhbHVlXTpcbiAgICAgIFwiJ2JpbmQ6aWQnIG11c3QgaGF2ZSBhIHByb3BlcnR5IG5hbWUuIChFeGFtcGxlOiAnYmluZDprZXk9XFxcInByb3BlcnR5TmFtZVxcXCInKS5cIixcbiAgICBbUUVycm9yLkNvbXBvbmVudF9uZWVkc1N0YXRlXTogXCJDYW4ndCBmaW5kIHN0YXRlIG9uIGhvc3QgZWxlbWVudC5cIixcbiAgICBbUUVycm9yLkNvbXBvbmVudF9uZWVkc0luamVjdGlvbkNvbnRleHRfY29uc3RydWN0b3JdOlxuICAgICAgXCJDb21wb25lbnRzIG11c3QgYmUgaW5zdGFudGlhdGVkIGluc2lkZSBhbiBpbmplY3Rpb24gY29udGV4dC4gVXNlICd7fS5uZXcoLi4uKScgZm9yIGNyZWF0aW9uLlwiLFxuICAgIFtRRXJyb3IuQ29tcG9uZW50X25vUHJvcGVydHlfcHJvcE5hbWVfcHJvcHNfaG9zdF06XG4gICAgICBcIlByb3BlcnR5ICd7fScgbm90IGZvdW5kIGluICd7fScgb24gY29tcG9uZW50ICd7fScuXCIsXG4gICAgW1FFcnJvci5Db21wb25lbnRfbm90Rm91bmRfY29tcG9uZW50XTogXCJVbmFibGUgdG8gZmluZCAne30nIGNvbXBvbmVudC5cIixcbiAgICBbUUVycm9yLkNvbXBvbmVudF9kb2VzTm90TWF0Y2hfY29tcG9uZW50X2FjdHVhbF06XG4gICAgICBcIlJlcXVlc3RpbmcgY29tcG9uZW50IHR5cGUgJ3t9JyBkb2VzIG5vdCBtYXRjaCBleGlzdGluZyBjb21wb25lbnQgaW5zdGFuY2UgJ3t9Jy5cIixcbiAgICBbUUVycm9yLkNvbXBvbmVudF9ub1N0YXRlX2NvbXBvbmVudF9wcm9wc106XG4gICAgICBcIlVuYWJsZSB0byBjcmVhdGUgc3RhdGUgZm9yIGNvbXBvbmVudCAne30nIHdpdGggcHJvcHMgJ3t9JyBiZWNhdXNlIG5vIHN0YXRlIGZvdW5kIGFuZCAnJG5ld1N0YXRlKCknIG1ldGhvZCB3YXMgbm90IGRlZmluZWQgb24gY29tcG9uZW50LlwiLFxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgW1FFcnJvci5Qcm92aWRlcl91bnJlY29nbml6ZWRGb3JtYXRfdmFsdWVdOiBcIlVucmVjb2duaXplZCBleHByZXNzaW9uIGZvcm1hdCAne30nLlwiLFxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgW1FFcnJvci5SZW5kZXJfdW5leHBlY3RlZEpTWE5vZGVUeXBlX3R5cGVdOiAnVW5leHBlY3RlZCBKU1hOb2RlPHt9PiB0eXBlLicsXG4gICAgW1FFcnJvci5SZW5kZXJfdW5zdXBwb3J0ZWRGb3JtYXRfb2JqX2F0dHJdOiBcIlZhbHVlICd7fScgY2FuJ3QgYmUgd3JpdHRlbiBpbnRvICd7fScgYXR0cmlidXRlLlwiLFxuICAgIFtRRXJyb3IuUmVuZGVyX2V4cGVjdGluZ0VudGl0eV9lbnRpdHldOiBcIkV4cGVjdGluZyBlbnRpdHkgb2JqZWN0LCBnb3QgJ3t9Jy5cIixcbiAgICBbUUVycm9yLlJlbmRlcl9leHBlY3RpbmdFbnRpdHlBcnJheV9vYmpdOiBcIkV4cGVjdGluZyBhcnJheSBvZiBlbnRpdGllcywgZ290ICd7fScuXCIsXG4gICAgW1FFcnJvci5SZW5kZXJfZXhwZWN0aW5nRW50aXR5T3JDb21wb25lbnRfb2JqXTogXCJFeHBlY3RpbmcgRW50aXR5IG9yIENvbXBvbmVudCBnb3QgJ3t9Jy5cIixcbiAgICBbUUVycm9yLlJlbmRlcl9zdGF0ZU1hY2hpbmVTdHVja106ICdSZW5kZXIgc3RhdGUgbWFjaGluZSBkaWQgbm90IGFkdmFuY2UuJyxcbiAgICAvLy8vLy8vLy8vLy8vL1xuICAgIFtRRXJyb3IuRXZlbnRfZW1pdEV2ZW50UmVxdWlyZXNOYW1lX3VybF06IFwiTWlzc2luZyAnJHR5cGUnIGF0dHJpYnV0ZSBpbiB0aGUgJ3t9JyB1cmwuXCIsXG4gICAgW1FFcnJvci5FdmVudF9lbWl0RXZlbnRDb3VsZE5vdEZpbmRMaXN0ZW5lcl9ldmVudF9lbGVtZW50XTpcbiAgICAgIFwiUmUtZW1pdHRpbmcgZXZlbnQgJ3t9JyBidXQgbm8gbGlzdGVuZXIgZm91bmQgYXQgJ3t9JyBvciBhbnkgb2YgaXRzIHBhcmVudHMuXCIsXG4gIH1bY29kZV07XG4gIGxldCB0ZXh0Q29kZSA9ICcwMDAnICsgY29kZTtcbiAgdGV4dENvZGUgPSB0ZXh0Q29kZS5zbGljZSgtMyk7XG4gIHJldHVybiBgJHthcmVhfShRLSR7dGV4dENvZGV9KTogJHt0ZXh0fWA7XG59XG4iXX0=","import { NodeType } from './types';\nexport function isNode(value) {\n    return value && typeof value.nodeType == 'number';\n}\nexport function isDocument(value) {\n    return value && value.nodeType == NodeType.DOCUMENT_NODE;\n}\nexport function isElement(value) {\n    return isNode(value) && value.nodeType == NodeType.ELEMENT_NODE;\n}\nexport function isText(value) {\n    return isNode(value) && value.nodeType == NodeType.TEXT_NODE;\n}\nexport function isComment(value) {\n    return isNode(value) && value.nodeType == NodeType.COMMENT_NODE;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvdXRpbC9lbGVtZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFFbkMsTUFBTSxVQUFVLE1BQU0sQ0FBQyxLQUFVO0lBQy9CLE9BQU8sS0FBSyxJQUFJLE9BQU8sS0FBSyxDQUFDLFFBQVEsSUFBSSxRQUFRLENBQUM7QUFDcEQsQ0FBQztBQUNELE1BQU0sVUFBVSxVQUFVLENBQUMsS0FBVTtJQUNuQyxPQUFPLEtBQUssSUFBSSxLQUFLLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxhQUFhLENBQUM7QUFDM0QsQ0FBQztBQUNELE1BQU0sVUFBVSxTQUFTLENBQUMsS0FBVTtJQUNsQyxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxZQUFZLENBQUM7QUFDbEUsQ0FBQztBQUNELE1BQU0sVUFBVSxNQUFNLENBQUMsS0FBVTtJQUMvQixPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxTQUFTLENBQUM7QUFDL0QsQ0FBQztBQUNELE1BQU0sVUFBVSxTQUFTLENBQUMsS0FBVTtJQUNsQyxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsUUFBUSxJQUFJLFFBQVEsQ0FBQyxZQUFZLENBQUM7QUFDbEUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vZGVUeXBlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05vZGUodmFsdWU6IGFueSk6IHZhbHVlIGlzIE5vZGUge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm5vZGVUeXBlID09ICdudW1iZXInO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRG9jdW1lbnQodmFsdWU6IGFueSk6IHZhbHVlIGlzIERvY3VtZW50IHtcbiAgcmV0dXJuIHZhbHVlICYmIHZhbHVlLm5vZGVUeXBlID09IE5vZGVUeXBlLkRPQ1VNRU5UX05PREU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBIVE1MRWxlbWVudCB7XG4gIHJldHVybiBpc05vZGUodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09IE5vZGVUeXBlLkVMRU1FTlRfTk9ERTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1RleHQodmFsdWU6IGFueSk6IHZhbHVlIGlzIFRleHQge1xuICByZXR1cm4gaXNOb2RlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PSBOb2RlVHlwZS5URVhUX05PREU7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNDb21tZW50KHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBDb21tZW50IHtcbiAgcmV0dXJuIGlzTm9kZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT0gTm9kZVR5cGUuQ09NTUVOVF9OT0RFO1xufVxuIl19","import { getPlatform } from '../platform/platform';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { parseQRL, stringifyQRL } from '../import/qrl';\nimport { isQrl } from '../import/qrl-class';\nimport { getContext } from '../props/props';\nimport { getDocument } from '../util/dom';\nimport { isElement } from '../util/element';\nimport { logDebug, logError, logWarn } from '../util/log';\nimport { ELEMENT_ID, ELEMENT_ID_PREFIX, QContainerAttr, QHostAttr, QObjAttr, QSeqAttr, } from '../util/markers';\nimport { qDev } from '../util/qdev';\nimport { getProxyMap, QOjectSubsSymbol, QOjectTargetSymbol, shouldSerialize, _restoreQObject, } from './q-object';\nexport const UNDEFINED_PREFIX = '\\u0010';\nexport const QRL_PREFIX = '\\u0011';\nexport function resumeContainer(containerEl) {\n    if (!isContainer(containerEl)) {\n        logWarn('Skipping hydration because parent element is not q:container');\n        return;\n    }\n    const doc = getDocument(containerEl);\n    const isDocElement = containerEl === doc.documentElement;\n    const parentJSON = isDocElement ? doc.body : containerEl;\n    const script = getQwikJSON(parentJSON);\n    if (!script) {\n        logWarn('Skipping hydration qwik/json metadata was not found.');\n        return;\n    }\n    script.remove();\n    const map = getProxyMap(doc);\n    const meta = JSON.parse(script.textContent || '{}');\n    // Collect all elements\n    const elements = new Map();\n    getNodesInScope(containerEl, hasQId).forEach((el) => {\n        const id = el.getAttribute(ELEMENT_ID);\n        elements.set(ELEMENT_ID_PREFIX + id, el);\n    });\n    const getObject = (id) => {\n        return getObjectImpl(id, elements, meta.objs, map);\n    };\n    // Revive proxies with subscriptions into the proxymap\n    reviveValues(meta.objs, meta.subs, getObject, map, parentJSON);\n    // Rebuild target objects\n    for (const obj of meta.objs) {\n        reviveNestedObjects(obj, getObject);\n    }\n    // Walk all elements with q:obj and resume their state\n    getNodesInScope(containerEl, hasQObj).forEach((el) => {\n        const qobj = el.getAttribute(QObjAttr);\n        const seq = el.getAttribute(QSeqAttr);\n        const host = el.getAttribute(QHostAttr);\n        const ctx = getContext(el);\n        // Restore captured objets\n        qobj.split(' ').forEach((part) => {\n            if (part !== '') {\n                const obj = getObject(part);\n                ctx.refMap.add(obj);\n            }\n            else if (qDev) {\n                logError('QObj contains empty ref');\n            }\n        });\n        // Restore sequence scoping\n        ctx.seq = seq.split(' ').map((part) => strToInt(part));\n        if (host) {\n            const [props, renderQrl] = host.split(' ').map(strToInt);\n            assertDefined(props);\n            assertDefined(renderQrl);\n            ctx.props = ctx.refMap.get(props);\n            ctx.renderQrl = ctx.refMap.get(renderQrl);\n        }\n    });\n    containerEl.setAttribute(QContainerAttr, 'resumed');\n    logDebug('Container resumed');\n}\nexport function snapshotState(containerEl) {\n    const doc = getDocument(containerEl);\n    const proxyMap = getProxyMap(doc);\n    const objSet = new Set();\n    const platform = getPlatform(doc);\n    const elementToIndex = new Map();\n    // Collect all qObjected around the DOM\n    const elements = getNodesInScope(containerEl, hasQObj);\n    elements.forEach((node) => {\n        const props = getContext(node);\n        const qMap = props.refMap;\n        qMap.array.forEach((v) => {\n            collectValue(v, objSet);\n        });\n    });\n    // Convert objSet to array\n    const objs = Array.from(objSet);\n    objs.sort((a, b) => {\n        const isProxyA = proxyMap.has(a) ? 0 : 1;\n        const isProxyB = proxyMap.has(b) ? 0 : 1;\n        return isProxyA - isProxyB;\n    });\n    const objToId = new Map();\n    let count = 0;\n    for (const obj of objs) {\n        objToId.set(obj, count);\n        count++;\n    }\n    function getElementID(el) {\n        let id = elementToIndex.get(el);\n        if (id === undefined) {\n            if (el.isConnected) {\n                id = intToStr(elementToIndex.size);\n                el.setAttribute(ELEMENT_ID, id);\n                id = ELEMENT_ID_PREFIX + id;\n            }\n            else {\n                id = null;\n            }\n            elementToIndex.set(el, id);\n        }\n        return id;\n    }\n    function getObjId(obj) {\n        if (obj !== null && typeof obj === 'object') {\n            const target = obj[QOjectTargetSymbol];\n            const id = objToId.get(normalizeObj(target ?? obj));\n            if (id !== undefined) {\n                const proxySuffix = target ? '!' : '';\n                return intToStr(id) + proxySuffix;\n            }\n            if (!target && isElement(obj)) {\n                return getElementID(obj);\n            }\n        }\n        else {\n            const id = objToId.get(normalizeObj(obj));\n            if (id !== undefined) {\n                return intToStr(id);\n            }\n        }\n        return null;\n    }\n    const subs = objs\n        .map((obj) => {\n        const subs = proxyMap.get(obj)?.[QOjectSubsSymbol];\n        if (subs) {\n            return Object.fromEntries(Array.from(subs.entries()).map(([sub, set]) => {\n                const id = getObjId(sub);\n                if (id !== null) {\n                    return [id, Array.from(set)];\n                }\n                else {\n                    return [undefined, undefined];\n                }\n            }));\n        }\n        else {\n            return null;\n        }\n    })\n        .filter((a) => !!a);\n    const serialize = (value) => {\n        return getObjId(value) ?? value;\n    };\n    const qrlSerializeOptions = {\n        platform,\n        getObjId,\n    };\n    const convertedObjs = objs.map((obj) => {\n        if (Array.isArray(obj)) {\n            return obj.map(serialize);\n        }\n        else if (obj && typeof obj === 'object') {\n            if (isQrl(obj)) {\n                return QRL_PREFIX + stringifyQRL(obj, qrlSerializeOptions);\n            }\n            const output = {};\n            Object.entries(obj).forEach(([key, value]) => {\n                output[key] = serialize(value);\n            });\n            return output;\n        }\n        return obj;\n    });\n    // Write back to the dom\n    elements.forEach((node) => {\n        const ctx = getContext(node);\n        const props = ctx.props;\n        const renderQrl = ctx.renderQrl;\n        const attribute = ctx.refMap.array\n            .map((obj) => {\n            const id = getObjId(obj);\n            assertDefined(id);\n            return id;\n        })\n            .join(' ');\n        node.setAttribute(QObjAttr, attribute);\n        const seq = ctx.seq.map((index) => intToStr(index)).join(' ');\n        node.setAttribute(QSeqAttr, seq);\n        if (props) {\n            const objs = [props];\n            if (renderQrl) {\n                objs.push(renderQrl);\n            }\n            node.setAttribute(QHostAttr, objs.map((obj) => ctx.refMap.indexOf(obj)).join(' '));\n        }\n    });\n    // Sanity check of serialized element\n    if (qDev) {\n        elementToIndex.forEach((value, el) => {\n            if (getDocument(el) !== doc) {\n                logWarn('element from different document', value, el.tagName);\n            }\n            if (!value) {\n                logWarn('unconnected element', el.tagName, '\\n');\n            }\n        });\n    }\n    return {\n        objs: convertedObjs,\n        subs,\n    };\n}\nexport function getQwikJSON(parentElm) {\n    let child = parentElm.lastElementChild;\n    while (child) {\n        if (child.tagName === 'SCRIPT' && child.getAttribute('type') === 'qwik/json') {\n            return child;\n        }\n        child = child.previousElementSibling;\n    }\n    return undefined;\n}\nexport function getNodesInScope(parent, predicate) {\n    const nodes = [];\n    walkNodes(nodes, parent, predicate);\n    return nodes;\n}\nexport function walkNodes(nodes, parent, predicate) {\n    let child = parent.firstElementChild;\n    while (child) {\n        if (!isContainer(child)) {\n            if (predicate(child)) {\n                nodes.push(child);\n            }\n            walkNodes(nodes, child, predicate);\n        }\n        child = child.nextElementSibling;\n    }\n}\nfunction reviveValues(objs, subs, getObject, map, containerEl) {\n    for (let i = 0; i < objs.length; i++) {\n        const value = objs[i];\n        if (typeof value === 'string') {\n            if (value === UNDEFINED_PREFIX) {\n                objs[i] = undefined;\n            }\n            else if (value.startsWith(QRL_PREFIX)) {\n                objs[i] = parseQRL(value.slice(1), containerEl);\n            }\n        }\n        else {\n            const sub = subs[i];\n            if (sub) {\n                const converted = new Map();\n                Object.entries(sub).forEach((entry) => {\n                    const el = getObject(entry[0]);\n                    if (!el) {\n                        logWarn('QWIK can not revive subscriptions because of missing element ID', entry, value);\n                        return;\n                    }\n                    const set = new Set(entry[1]);\n                    converted.set(el, set);\n                });\n                _restoreQObject(value, map, converted);\n            }\n        }\n    }\n}\nfunction reviveNestedObjects(obj, getObject) {\n    if (obj && typeof obj == 'object') {\n        if (isQrl(obj)) {\n            if (obj.capture && obj.capture.length > 0) {\n                obj.captureRef = obj.capture.map(getObject);\n                obj.capture = null;\n            }\n            return;\n        }\n        else if (Array.isArray(obj)) {\n            for (let i = 0; i < obj.length; i++) {\n                const value = obj[i];\n                if (typeof value == 'string') {\n                    obj[i] = getObject(value);\n                }\n                else {\n                    reviveNestedObjects(value, getObject);\n                }\n            }\n        }\n        else if (Object.getPrototypeOf(obj) === Object.prototype) {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (typeof value == 'string') {\n                        obj[key] = getObject(value);\n                    }\n                    else {\n                        reviveNestedObjects(value, getObject);\n                    }\n                }\n            }\n        }\n    }\n}\nfunction getObjectImpl(id, elements, objs, map) {\n    if (id.startsWith(ELEMENT_ID_PREFIX)) {\n        assertEqual(elements.has(id), true);\n        return elements.get(id);\n    }\n    const index = strToInt(id);\n    assertEqual(objs.length > index, true);\n    const obj = objs[index];\n    const needsProxy = id.endsWith('!');\n    if (needsProxy) {\n        const finalObj = map.get(obj);\n        assertDefined(finalObj);\n        return finalObj;\n    }\n    return obj;\n}\nfunction normalizeObj(obj) {\n    if (obj === undefined || !shouldSerialize(obj)) {\n        return UNDEFINED_PREFIX;\n    }\n    if (obj && typeof obj === 'object') {\n        const value = obj[QOjectTargetSymbol] ?? obj;\n        return value;\n    }\n    return obj;\n}\nfunction collectValue(obj, seen) {\n    collectQObjects(obj, seen);\n    seen.add(normalizeObj(obj));\n}\nfunction collectQrl(obj, seen) {\n    seen.add(normalizeObj(obj));\n    if (obj.captureRef) {\n        obj.captureRef.forEach((obj) => collectValue(obj, seen));\n    }\n}\nfunction collectQObjects(obj, seen) {\n    if (obj != null) {\n        if (typeof obj === 'object') {\n            if (!obj[QOjectTargetSymbol] && isElement(obj)) {\n                return;\n            }\n            if (isQrl(obj)) {\n                collectQrl(obj, seen);\n                return;\n            }\n            obj = normalizeObj(obj);\n        }\n        if (typeof obj === 'object') {\n            if (seen.has(obj))\n                return;\n            seen.add(obj);\n            if (Array.isArray(obj)) {\n                for (let i = 0; i < obj.length; i++) {\n                    collectQObjects(obj[i], seen);\n                }\n            }\n            else {\n                for (const key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        collectQObjects(obj[key], seen);\n                    }\n                }\n            }\n        }\n        if (typeof obj === 'string') {\n            seen.add(obj);\n        }\n    }\n}\nexport function isProxy(obj) {\n    return obj !== null && typeof obj === 'object' && QOjectTargetSymbol in obj;\n}\nexport function isContainer(el) {\n    return el.hasAttribute(QContainerAttr);\n}\nfunction hasQObj(el) {\n    return el.hasAttribute(QObjAttr);\n}\nfunction hasQId(el) {\n    return el.hasAttribute(ELEMENT_ID);\n}\nexport const intToStr = (nu) => {\n    return nu.toString(36);\n};\nexport const strToInt = (nu) => {\n    return parseInt(nu, 36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL29iamVjdC9zdG9yZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsUUFBUSxFQUF1QixZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDNUUsT0FBTyxFQUFFLEtBQUssRUFBZSxNQUFNLHFCQUFxQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM1QyxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUQsT0FBTyxFQUNMLFVBQVUsRUFDVixpQkFBaUIsRUFDakIsY0FBYyxFQUNkLFNBQVMsRUFDVCxRQUFRLEVBQ1IsUUFBUSxHQUNULE1BQU0saUJBQWlCLENBQUM7QUFDekIsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwQyxPQUFPLEVBQ0wsV0FBVyxFQUVYLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIsZUFBZSxFQUNmLGVBQWUsR0FDaEIsTUFBTSxZQUFZLENBQUM7QUFVcEIsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFDO0FBQ3pDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUM7QUFFbkMsTUFBTSxVQUFVLGVBQWUsQ0FBQyxXQUFvQjtJQUNsRCxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxFQUFFO1FBQzdCLE9BQU8sQ0FBQyw4REFBOEQsQ0FBQyxD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QyxDQUFDO0FBQ3JDLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxFQUFVLEVBQUUsRUFBRTtJQUNyQyxPQUFPLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDekIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsRUFBVSxFQUFFLEVBQUU7SUFDckMsT0FBTyxRQUFRLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQzFCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IHBhcnNlUVJMLCBRUkxTZXJpYWxpemVPcHRpb25zLCBzdHJpbmdpZnlRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IGlzUXJsLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IGxvZ0RlYnVnLCBsb2dFcnJvciwgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7XG4gIEVMRU1FTlRfSUQsXG4gIEVMRU1FTlRfSURfUFJFRklYLFxuICBRQ29udGFpbmVyQXR0cixcbiAgUUhvc3RBdHRyLFxuICBRT2JqQXR0cixcbiAgUVNlcUF0dHIsXG59IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7XG4gIGdldFByb3h5TWFwLFxuICBPYmpUb1Byb3h5TWFwLFxuICBRT2plY3RTdWJzU3ltYm9sLFxuICBRT2plY3RUYXJnZXRTeW1ib2wsXG4gIHNob3VsZFNlcmlhbGl6ZSxcbiAgX3Jlc3RvcmVRT2JqZWN0LFxufSBmcm9tICcuL3Etb2JqZWN0JztcblxuZXhwb3J0IGludGVyZmFjZSBTdG9yZSB7XG4gIGRvYzogRG9jdW1lbnQ7XG4gIG9ianM6IFJlY29yZDxzdHJpbmcsIGFueT47XG59XG5cbmV4cG9ydCB0eXBlIEdldE9iamVjdCA9IChpZDogc3RyaW5nKSA9PiBhbnk7XG5leHBvcnQgdHlwZSBHZXRPYmpJRCA9IChvYmo6IGFueSkgPT4gc3RyaW5nIHwgbnVsbDtcblxuZXhwb3J0IGNvbnN0IFVOREVGSU5FRF9QUkVGSVggPSAnXFx1MDAxMCc7XG5leHBvcnQgY29uc3QgUVJMX1BSRUZJWCA9ICdcXHUwMDExJztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlc3VtZUNvbnRhaW5lcihjb250YWluZXJFbDogRWxlbWVudCkge1xuICBpZiAoIWlzQ29udGFpbmVyKGNvbnRhaW5lckVsKSkge1xuICAgIGxvZ1dhcm4oJ1NraXBwaW5nIGh5ZHJhdGlvbiBiZWNhdXNlIHBhcmVudCBlbGVtZW50IGlzIG5vdCBxOmNvbnRhaW5lcicpO1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChjb250YWluZXJFbCk7XG4gIGNvbnN0IGlzRG9jRWxlbWVudCA9IGNvbnRhaW5lckVsID09PSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICBjb25zdCBwYXJlbnRKU09OID0gaXNEb2NFbGVtZW50ID8gZG9jLmJvZHkgOiBjb250YWluZXJFbDtcbiAgY29uc3Qgc2NyaXB0ID0gZ2V0UXdpa0pTT04ocGFyZW50SlNPTik7XG4gIGlmICghc2NyaXB0KSB7XG4gICAgbG9nV2FybignU2tpcHBpbmcgaHlkcmF0aW9uIHF3aWsvanNvbiBtZXRhZGF0YSB3YXMgbm90IGZvdW5kLicpO1xuICAgIHJldHVybjtcbiAgfVxuICBzY3JpcHQucmVtb3ZlKCk7XG5cbiAgY29uc3QgbWFwID0gZ2V0UHJveHlNYXAoZG9jKTtcbiAgY29uc3QgbWV0YSA9IEpTT04ucGFyc2Uoc2NyaXB0LnRleHRDb250ZW50IHx8ICd7fScpIGFzIGFueTtcblxuICAvLyBDb2xsZWN0IGFsbCBlbGVtZW50c1xuICBjb25zdCBlbGVtZW50cyA9IG5ldyBNYXA8c3RyaW5nLCBFbGVtZW50PigpO1xuICBnZXROb2Rlc0luU2NvcGUoY29udGFpbmVyRWwsIGhhc1FJZCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICBjb25zdCBpZCA9IGVsLmdldEF0dHJpYnV0ZShFTEVNRU5UX0lEKSE7XG4gICAgZWxlbWVudHMuc2V0KEVMRU1FTlRfSURfUFJFRklYICsgaWQsIGVsKTtcbiAgfSk7XG5cbiAgY29uc3QgZ2V0T2JqZWN0OiBHZXRPYmplY3QgPSAoaWQpID0+IHtcbiAgICByZXR1cm4gZ2V0T2JqZWN0SW1wbChpZCwgZWxlbWVudHMsIG1ldGEub2JqcywgbWFwKTtcbiAgfTtcblxuICAvLyBSZXZpdmUgcHJveGllcyB3aXRoIHN1YnNjcmlwdGlvbnMgaW50byB0aGUgcHJveHltYXBcbiAgcmV2aXZlVmFsdWVzKG1ldGEub2JqcywgbWV0YS5zdWJzLCBnZXRPYmplY3QsIG1hcCwgcGFyZW50SlNPTik7XG5cbiAgLy8gUmVidWlsZCB0YXJnZXQgb2JqZWN0c1xuICBmb3IgKGNvbnN0IG9iaiBvZiBtZXRhLm9ianMpIHtcbiAgICByZXZpdmVOZXN0ZWRPYmplY3RzKG9iaiwgZ2V0T2JqZWN0KTtcbiAgfVxuXG4gIC8vIFdhbGsgYWxsIGVsZW1lbnRzIHdpdGggcTpvYmogYW5kIHJlc3VtZSB0aGVpciBzdGF0ZVxuICBnZXROb2Rlc0luU2NvcGUoY29udGFpbmVyRWwsIGhhc1FPYmopLmZvckVhY2goKGVsKSA9PiB7XG4gICAgY29uc3QgcW9iaiA9IGVsLmdldEF0dHJpYnV0ZShRT2JqQXR0cikhO1xuICAgIGNvbnN0IHNlcSA9IGVsLmdldEF0dHJpYnV0ZShRU2VxQXR0cikhO1xuICAgIGNvbnN0IGhvc3QgPSBlbC5nZXRBdHRyaWJ1dGUoUUhvc3RBdHRyKTtcbiAgICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsKTtcblxuICAgIC8vIFJlc3RvcmUgY2FwdHVyZWQgb2JqZXRzXG4gICAgcW9iai5zcGxpdCgnICcpLmZvckVhY2goKHBhcnQpID0+IHtcbiAgICAgIGlmIChwYXJ0ICE9PSAnJykge1xuICAgICAgICBjb25zdCBvYmogPSBnZXRPYmplY3QocGFydCk7XG4gICAgICAgIGN0eC5yZWZNYXAuYWRkKG9iaik7XG4gICAgICB9IGVsc2UgaWYgKHFEZXYpIHtcbiAgICAgICAgbG9nRXJyb3IoJ1FPYmogY29udGFpbnMgZW1wdHkgcmVmJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBSZXN0b3JlIHNlcXVlbmNlIHNjb3BpbmdcbiAgICBjdHguc2VxID0gc2VxLnNwbGl0KCcgJykubWFwKChwYXJ0KSA9PiBzdHJUb0ludChwYXJ0KSk7XG5cbiAgICBpZiAoaG9zdCkge1xuICAgICAgY29uc3QgW3Byb3BzLCByZW5kZXJRcmxdID0gaG9zdC5zcGxpdCgnICcpLm1hcChzdHJUb0ludCk7XG4gICAgICBhc3NlcnREZWZpbmVkKHByb3BzKTtcbiAgICAgIGFzc2VydERlZmluZWQocmVuZGVyUXJsKTtcbiAgICAgIGN0eC5wcm9wcyA9IGN0eC5yZWZNYXAuZ2V0KHByb3BzKTtcbiAgICAgIGN0eC5yZW5kZXJRcmwgPSBjdHgucmVmTWFwLmdldChyZW5kZXJRcmwpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnRhaW5lckVsLnNldEF0dHJpYnV0ZShRQ29udGFpbmVyQXR0ciwgJ3Jlc3VtZWQnKTtcbiAgbG9nRGVidWcoJ0NvbnRhaW5lciByZXN1bWVkJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbmFwc2hvdFN0YXRlKGNvbnRhaW5lckVsOiBFbGVtZW50KSB7XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KGNvbnRhaW5lckVsKTtcbiAgY29uc3QgcHJveHlNYXAgPSBnZXRQcm94eU1hcChkb2MpO1xuICBjb25zdCBvYmpTZXQgPSBuZXcgU2V0PGFueT4oKTtcbiAgY29uc3QgcGxhdGZvcm0gPSBnZXRQbGF0Zm9ybShkb2MpO1xuICBjb25zdCBlbGVtZW50VG9JbmRleCA9IG5ldyBNYXA8RWxlbWVudCwgc3RyaW5nIHwgbnVsbD4oKTtcblxuICAvLyBDb2xsZWN0IGFsbCBxT2JqZWN0ZWQgYXJvdW5kIHRoZSBET01cbiAgY29uc3QgZWxlbWVudHMgPSBnZXROb2Rlc0luU2NvcGUoY29udGFpbmVyRWwsIGhhc1FPYmopO1xuICBlbGVtZW50cy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgY29uc3QgcHJvcHMgPSBnZXRDb250ZXh0KG5vZGUpO1xuICAgIGNvbnN0IHFNYXAgPSBwcm9wcy5yZWZNYXA7XG4gICAgcU1hcC5hcnJheS5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICBjb2xsZWN0VmFsdWUodiwgb2JqU2V0KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gQ29udmVydCBvYmpTZXQgdG8gYXJyYXlcbiAgY29uc3Qgb2JqcyA9IEFycmF5LmZyb20ob2JqU2V0KTtcblxuICBvYmpzLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBpc1Byb3h5QSA9IHByb3h5TWFwLmhhcyhhKSA/IDAgOiAxO1xuICAgIGNvbnN0IGlzUHJveHlCID0gcHJveHlNYXAuaGFzKGIpID8gMCA6IDE7XG4gICAgcmV0dXJuIGlzUHJveHlBIC0gaXNQcm94eUI7XG4gIH0pO1xuXG4gIGNvbnN0IG9ialRvSWQgPSBuZXcgTWFwPGFueSwgbnVtYmVyPigpO1xuICBsZXQgY291bnQgPSAwO1xuICBmb3IgKGNvbnN0IG9iaiBvZiBvYmpzKSB7XG4gICAgb2JqVG9JZC5zZXQob2JqLCBjb3VudCk7XG4gICAgY291bnQrKztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRJRChlbDogRWxlbWVudCk6IHN0cmluZyB8IG51bGwge1xuICAgIGxldCBpZCA9IGVsZW1lbnRUb0luZGV4LmdldChlbCk7XG4gICAgaWYgKGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChlbC5pc0Nvbm5lY3RlZCkge1xuICAgICAgICBpZCA9IGludFRvU3RyKGVsZW1lbnRUb0luZGV4LnNpemUpO1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoRUxFTUVOVF9JRCwgaWQpO1xuICAgICAgICBpZCA9IEVMRU1FTlRfSURfUFJFRklYICsgaWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBlbGVtZW50VG9JbmRleC5zZXQoZWwsIGlkKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0T2JqSWQob2JqOiBhbnkpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBvYmpbUU9qZWN0VGFyZ2V0U3ltYm9sXTtcbiAgICAgIGNvbnN0IGlkID0gb2JqVG9JZC5nZXQobm9ybWFsaXplT2JqKHRhcmdldCA/PyBvYmopKTtcbiAgICAgIGlmIChpZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHByb3h5U3VmZml4ID0gdGFyZ2V0ID8gJyEnIDogJyc7XG4gICAgICAgIHJldHVybiBpbnRUb1N0cihpZCkgKyBwcm94eVN1ZmZpeDtcbiAgICAgIH1cbiAgICAgIGlmICghdGFyZ2V0ICYmIGlzRWxlbWVudChvYmopKSB7XG4gICAgICAgIHJldHVybiBnZXRFbGVtZW50SUQob2JqKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaWQgPSBvYmpUb0lkLmdldChub3JtYWxpemVPYmoob2JqKSk7XG4gICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaW50VG9TdHIoaWQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHN1YnMgPSBvYmpzXG4gICAgLm1hcCgob2JqKSA9PiB7XG4gICAgICBjb25zdCBzdWJzID0gcHJveHlNYXAuZ2V0KG9iaik/LltRT2plY3RTdWJzU3ltYm9sXSBhcyBNYXA8RWxlbWVudCwgU2V0PHN0cmluZz4+O1xuICAgICAgaWYgKHN1YnMpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICAgICAgICBBcnJheS5mcm9tKHN1YnMuZW50cmllcygpKS5tYXAoKFtzdWIsIHNldF0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gZ2V0T2JqSWQoc3ViKTtcbiAgICAgICAgICAgIGlmIChpZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm4gW2lkLCBBcnJheS5mcm9tKHNldCldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIHVuZGVmaW5lZF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pXG4gICAgLmZpbHRlcigoYSkgPT4gISFhKTtcblxuICBjb25zdCBzZXJpYWxpemUgPSAodmFsdWU6IGFueSkgPT4ge1xuICAgIHJldHVybiBnZXRPYmpJZCh2YWx1ZSkgPz8gdmFsdWU7XG4gIH07XG5cbiAgY29uc3QgcXJsU2VyaWFsaXplT3B0aW9uczogUVJMU2VyaWFsaXplT3B0aW9ucyA9IHtcbiAgICBwbGF0Zm9ybSxcbiAgICBnZXRPYmpJZCxcbiAgfTtcblxuICBjb25zdCBjb252ZXJ0ZWRPYmpzID0gb2Jqcy5tYXAoKG9iaikgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHJldHVybiBvYmoubWFwKHNlcmlhbGl6ZSk7XG4gICAgfSBlbHNlIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChpc1FybChvYmopKSB7XG4gICAgICAgIHJldHVybiBRUkxfUFJFRklYICsgc3RyaW5naWZ5UVJMKG9iaiwgcXJsU2VyaWFsaXplT3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBjb25zdCBvdXRwdXQ6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKG9iaikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIG91dHB1dFtrZXldID0gc2VyaWFsaXplKHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfSk7XG5cbiAgLy8gV3JpdGUgYmFjayB0byB0aGUgZG9tXG4gIGVsZW1lbnRzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICBjb25zdCBjdHggPSBnZXRDb250ZXh0KG5vZGUpO1xuICAgIGNvbnN0IHByb3BzID0gY3R4LnByb3BzO1xuICAgIGNvbnN0IHJlbmRlclFybCA9IGN0eC5yZW5kZXJRcmw7XG4gICAgY29uc3QgYXR0cmlidXRlID0gY3R4LnJlZk1hcC5hcnJheVxuICAgICAgLm1hcCgob2JqKSA9PiB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0T2JqSWQob2JqKTtcbiAgICAgICAgYXNzZXJ0RGVmaW5lZChpZCk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICAgIH0pXG4gICAgICAuam9pbignICcpO1xuICAgIG5vZGUuc2V0QXR0cmlidXRlKFFPYmpBdHRyLCBhdHRyaWJ1dGUpO1xuXG4gICAgY29uc3Qgc2VxID0gY3R4LnNlcS5tYXAoKGluZGV4KSA9PiBpbnRUb1N0cihpbmRleCkpLmpvaW4oJyAnKTtcbiAgICBub2RlLnNldEF0dHJpYnV0ZShRU2VxQXR0ciwgc2VxKTtcblxuICAgIGlmIChwcm9wcykge1xuICAgICAgY29uc3Qgb2JqcyA9IFtwcm9wc107XG4gICAgICBpZiAocmVuZGVyUXJsKSB7XG4gICAgICAgIG9ianMucHVzaChyZW5kZXJRcmwpO1xuICAgICAgfVxuICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoUUhvc3RBdHRyLCBvYmpzLm1hcCgob2JqKSA9PiBjdHgucmVmTWFwLmluZGV4T2Yob2JqKSkuam9pbignICcpKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNhbml0eSBjaGVjayBvZiBzZXJpYWxpemVkIGVsZW1lbnRcbiAgaWYgKHFEZXYpIHtcbiAgICBlbGVtZW50VG9JbmRleC5mb3JFYWNoKCh2YWx1ZSwgZWwpID0+IHtcbiAgICAgIGlmIChnZXREb2N1bWVudChlbCkgIT09IGRvYykge1xuICAgICAgICBsb2dXYXJuKCdlbGVtZW50IGZyb20gZGlmZmVyZW50IGRvY3VtZW50JywgdmFsdWUsIGVsLnRhZ05hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICBsb2dXYXJuKCd1bmNvbm5lY3RlZCBlbGVtZW50JywgZWwudGFnTmFtZSwgJ1xcbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiB7XG4gICAgb2JqczogY29udmVydGVkT2JqcyxcbiAgICBzdWJzLFxuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXdpa0pTT04ocGFyZW50RWxtOiBFbGVtZW50KTogSFRNTFNjcmlwdEVsZW1lbnQgfCB1bmRlZmluZWQge1xuICBsZXQgY2hpbGQgPSBwYXJlbnRFbG0ubGFzdEVsZW1lbnRDaGlsZDtcbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkLnRhZ05hbWUgPT09ICdTQ1JJUFQnICYmIGNoaWxkLmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncXdpay9qc29uJykge1xuICAgICAgcmV0dXJuIGNoaWxkIGFzIEhUTUxTY3JpcHRFbGVtZW50O1xuICAgIH1cbiAgICBjaGlsZCA9IGNoaWxkLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldE5vZGVzSW5TY29wZShwYXJlbnQ6IEVsZW1lbnQsIHByZWRpY2F0ZTogKGVsOiBFbGVtZW50KSA9PiBib29sZWFuKSB7XG4gIGNvbnN0IG5vZGVzOiBFbGVtZW50W10gPSBbXTtcbiAgd2Fsa05vZGVzKG5vZGVzLCBwYXJlbnQsIHByZWRpY2F0ZSk7XG4gIHJldHVybiBub2Rlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdhbGtOb2Rlcyhub2RlczogRWxlbWVudFtdLCBwYXJlbnQ6IEVsZW1lbnQsIHByZWRpY2F0ZTogKGVsOiBFbGVtZW50KSA9PiBib29sZWFuKSB7XG4gIGxldCBjaGlsZCA9IHBhcmVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgd2hpbGUgKGNoaWxkKSB7XG4gICAgaWYgKCFpc0NvbnRhaW5lcihjaGlsZCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoY2hpbGQpKSB7XG4gICAgICAgIG5vZGVzLnB1c2goY2hpbGQpO1xuICAgICAgfVxuICAgICAgd2Fsa05vZGVzKG5vZGVzLCBjaGlsZCwgcHJlZGljYXRlKTtcbiAgICB9XG4gICAgY2hpbGQgPSBjaGlsZC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmV2aXZlVmFsdWVzKFxuICBvYmpzOiBhbnlbXSxcbiAgc3ViczogYW55W10sXG4gIGdldE9iamVjdDogR2V0T2JqZWN0LFxuICBtYXA6IE9ialRvUHJveHlNYXAsXG4gIGNvbnRhaW5lckVsOiBFbGVtZW50XG4pIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmpzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgdmFsdWUgPSBvYmpzW2ldO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAodmFsdWUgPT09IFVOREVGSU5FRF9QUkVGSVgpIHtcbiAgICAgICAgb2Jqc1tpXSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUuc3RhcnRzV2l0aChRUkxfUFJFRklYKSkge1xuICAgICAgICBvYmpzW2ldID0gcGFyc2VRUkwodmFsdWUuc2xpY2UoMSksIGNvbnRhaW5lckVsKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3ViID0gc3Vic1tpXTtcbiAgICAgIGlmIChzdWIpIHtcbiAgICAgICAgY29uc3QgY29udmVydGVkID0gbmV3IE1hcCgpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhzdWIpLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgZWwgPSBnZXRPYmplY3QoZW50cnlbMF0pO1xuICAgICAgICAgIGlmICghZWwpIHtcbiAgICAgICAgICAgIGxvZ1dhcm4oXG4gICAgICAgICAgICAgICdRV0lLIGNhbiBub3QgcmV2aXZlIHN1YnNjcmlwdGlvbnMgYmVjYXVzZSBvZiBtaXNzaW5nIGVsZW1lbnQgSUQnLFxuICAgICAgICAgICAgICBlbnRyeSxcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHNldCA9IG5ldyBTZXQoZW50cnlbMV0gYXMgYW55KSBhcyBTZXQ8c3RyaW5nPjtcbiAgICAgICAgICBjb252ZXJ0ZWQuc2V0KGVsLCBzZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgX3Jlc3RvcmVRT2JqZWN0KHZhbHVlLCBtYXAsIGNvbnZlcnRlZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJldml2ZU5lc3RlZE9iamVjdHMob2JqOiBhbnksIGdldE9iamVjdDogR2V0T2JqZWN0KSB7XG4gIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PSAnb2JqZWN0Jykge1xuICAgIGlmIChpc1FybChvYmopKSB7XG4gICAgICBpZiAob2JqLmNhcHR1cmUgJiYgb2JqLmNhcHR1cmUubGVuZ3RoID4gMCkge1xuICAgICAgICBvYmouY2FwdHVyZVJlZiA9IG9iai5jYXB0dXJlLm1hcChnZXRPYmplY3QpO1xuICAgICAgICBvYmouY2FwdHVyZSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2ldO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgb2JqW2ldID0gZ2V0T2JqZWN0KHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXZpdmVOZXN0ZWRPYmplY3RzKHZhbHVlLCBnZXRPYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IGdldE9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldml2ZU5lc3RlZE9iamVjdHModmFsdWUsIGdldE9iamVjdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldE9iamVjdEltcGwoXG4gIGlkOiBzdHJpbmcsXG4gIGVsZW1lbnRzOiBNYXA8c3RyaW5nLCBFbGVtZW50PixcbiAgb2JqczogYW55W10sXG4gIG1hcDogT2JqVG9Qcm94eU1hcFxuKSB7XG4gIGlmIChpZC5zdGFydHNXaXRoKEVMRU1FTlRfSURfUFJFRklYKSkge1xuICAgIGFzc2VydEVxdWFsKGVsZW1lbnRzLmhhcyhpZCksIHRydWUpO1xuICAgIHJldHVybiBlbGVtZW50cy5nZXQoaWQpO1xuICB9XG4gIGNvbnN0IGluZGV4ID0gc3RyVG9JbnQoaWQpO1xuICBhc3NlcnRFcXVhbChvYmpzLmxlbmd0aCA+IGluZGV4LCB0cnVlKTtcbiAgY29uc3Qgb2JqID0gb2Jqc1tpbmRleF07XG4gIGNvbnN0IG5lZWRzUHJveHkgPSBpZC5lbmRzV2l0aCgnIScpO1xuICBpZiAobmVlZHNQcm94eSkge1xuICAgIGNvbnN0IGZpbmFsT2JqID0gbWFwLmdldChvYmopO1xuICAgIGFzc2VydERlZmluZWQoZmluYWxPYmopO1xuICAgIHJldHVybiBmaW5hbE9iajtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVPYmoob2JqOiBhbnkpIHtcbiAgaWYgKG9iaiA9PT0gdW5kZWZpbmVkIHx8ICFzaG91bGRTZXJpYWxpemUob2JqKSkge1xuICAgIHJldHVybiBVTkRFRklORURfUFJFRklYO1xuICB9XG4gIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCB2YWx1ZSA9IG9ialtRT2plY3RUYXJnZXRTeW1ib2xdID8/IG9iajtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gY29sbGVjdFZhbHVlKG9iajogUVJMSW50ZXJuYWwsIHNlZW46IFNldDxhbnk+KSB7XG4gIGNvbGxlY3RRT2JqZWN0cyhvYmosIHNlZW4pO1xuICBzZWVuLmFkZChub3JtYWxpemVPYmoob2JqKSk7XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RRcmwob2JqOiBRUkxJbnRlcm5hbCwgc2VlbjogU2V0PGFueT4pIHtcbiAgc2Vlbi5hZGQobm9ybWFsaXplT2JqKG9iaikpO1xuICBpZiAob2JqLmNhcHR1cmVSZWYpIHtcbiAgICBvYmouY2FwdHVyZVJlZi5mb3JFYWNoKChvYmopID0+IGNvbGxlY3RWYWx1ZShvYmosIHNlZW4pKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb2xsZWN0UU9iamVjdHMob2JqOiBhbnksIHNlZW46IFNldDxhbnk+KSB7XG4gIGlmIChvYmogIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKCFvYmpbUU9qZWN0VGFyZ2V0U3ltYm9sXSAmJiBpc0VsZW1lbnQob2JqKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoaXNRcmwob2JqKSkge1xuICAgICAgICBjb2xsZWN0UXJsKG9iaiwgc2Vlbik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9iaiA9IG5vcm1hbGl6ZU9iaihvYmopO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChzZWVuLmhhcyhvYmopKSByZXR1cm47XG4gICAgICBzZWVuLmFkZChvYmopO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29sbGVjdFFPYmplY3RzKG9ialtpXSwgc2Vlbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICBjb2xsZWN0UU9iamVjdHMob2JqW2tleV0sIHNlZW4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHNlZW4uYWRkKG9iaik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb3h5KG9iajogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiBvYmogIT09IG51bGwgJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgUU9qZWN0VGFyZ2V0U3ltYm9sIGluIG9iajtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQ29udGFpbmVyKGVsOiBFbGVtZW50KSB7XG4gIHJldHVybiBlbC5oYXNBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIpO1xufVxuXG5mdW5jdGlvbiBoYXNRT2JqKGVsOiBFbGVtZW50KSB7XG4gIHJldHVybiBlbC5oYXNBdHRyaWJ1dGUoUU9iakF0dHIpO1xufVxuXG5mdW5jdGlvbiBoYXNRSWQoZWw6IEVsZW1lbnQpIHtcbiAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZShFTEVNRU5UX0lEKTtcbn1cblxuZXhwb3J0IGNvbnN0IGludFRvU3RyID0gKG51OiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIG51LnRvU3RyaW5nKDM2KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdHJUb0ludCA9IChudTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBwYXJzZUludChudSwgMzYpO1xufTtcbiJdfQ==","import { QObjAttr } from '../util/markers';\nexport function newQObjectMap(element) {\n    const array = [];\n    let added = element.hasAttribute(QObjAttr);\n    return {\n        array,\n        get(index) {\n            return array[index];\n        },\n        indexOf(obj) {\n            const index = array.indexOf(obj);\n            return index === -1 ? undefined : index;\n        },\n        add(object) {\n            const index = array.indexOf(object);\n            if (index === -1) {\n                array.push(object);\n                if (!added) {\n                    element.setAttribute(QObjAttr, '');\n                    added = true;\n                }\n                return array.length - 1;\n            }\n            return index;\n        },\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb2JqLW1hcC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvcHJvcHMvcHJvcHMtb2JqLW1hcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFTM0MsTUFBTSxVQUFVLGFBQWEsQ0FBQyxPQUFnQjtJQUM1QyxNQUFNLEtBQUssR0FBbUIsRUFBRSxDQUFDO0lBQ2pDLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7SUFFM0MsT0FBTztRQUNMLEtBQUs7UUFDTCxHQUFHLENBQUMsS0FBYTtZQUNmLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RCLENBQUM7UUFDRCxPQUFPLENBQUMsR0FBVztZQUNqQixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2pDLE9BQU8sS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUMxQyxDQUFDO1FBQ0QsR0FBRyxDQUFDLE1BQW9CO1lBQ3RCLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDcEMsSUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7Z0JBQ2hCLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ25CLElBQUksQ0FBQyxLQUFLLEVBQUU7b0JBQ1YsT0FBTyxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7b0JBQ25DLEtBQUssR0FBRyxJQUFJLENBQUM7aUJBQ2Q7Z0JBQ0QsT0FBTyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQzthQUN6QjtZQUNELE9BQU8sS0FBSyxDQUFDO1FBQ2YsQ0FBQztLQUNZLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUU9iamVjdCB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBRT2JqQXR0ciB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUU9iamVjdE1hcCB7XG4gIGFkZChxT2JqZWN0OiBRT2JqZWN0PGFueT4pOiBudW1iZXI7XG4gIGdldChpbmRleDogbnVtYmVyKTogUU9iamVjdDxhbnk+IHwgdW5kZWZpbmVkO1xuICBpbmRleE9mKG9iamVjdDogUU9iamVjdDxhbnk+KTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICBhcnJheTogUU9iamVjdDxhbnk+W107XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBuZXdRT2JqZWN0TWFwKGVsZW1lbnQ6IEVsZW1lbnQpOiBRT2JqZWN0TWFwIHtcbiAgY29uc3QgYXJyYXk6IFFPYmplY3Q8YW55PltdID0gW107XG4gIGxldCBhZGRlZCA9IGVsZW1lbnQuaGFzQXR0cmlidXRlKFFPYmpBdHRyKTtcblxuICByZXR1cm4ge1xuICAgIGFycmF5LFxuICAgIGdldChpbmRleDogbnVtYmVyKTogUU9iamVjdDxhbnk+IHwgdW5kZWZpbmVkIHtcbiAgICAgIHJldHVybiBhcnJheVtpbmRleF07XG4gICAgfSxcbiAgICBpbmRleE9mKG9iajogc3RyaW5nKTogbnVtYmVyIHwgdW5kZWZpbmVkIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihvYmopO1xuICAgICAgcmV0dXJuIGluZGV4ID09PSAtMSA/IHVuZGVmaW5lZCA6IGluZGV4O1xuICAgIH0sXG4gICAgYWRkKG9iamVjdDogUU9iamVjdDxhbnk+KSB7XG4gICAgICBjb25zdCBpbmRleCA9IGFycmF5LmluZGV4T2Yob2JqZWN0KTtcbiAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgYXJyYXkucHVzaChvYmplY3QpO1xuICAgICAgICBpZiAoIWFkZGVkKSB7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoUU9iakF0dHIsICcnKTtcbiAgICAgICAgICBhZGRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfSxcbiAgfSBhcyBRT2JqZWN0TWFwO1xufVxuIl19","// TODO(misko): need full object parsing /serializing\nimport { assertEqual } from '../assert/assert';\nexport function qDeflate(obj, hostCtx) {\n    return String(hostCtx.refMap.add(obj));\n}\nexport function qInflate(ref, hostCtx) {\n    const int = parseInt(ref, 10);\n    const obj = hostCtx.refMap.get(int);\n    assertEqual(hostCtx.refMap.array.length > int, true);\n    return obj;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicS1qc29uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS9qc29uL3EtanNvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxxREFBcUQ7QUFDckQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRy9DLE1BQU0sVUFBVSxRQUFRLENBQUMsR0FBUSxFQUFFLE9BQWlCO0lBQ2xELE9BQU8sTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDekMsQ0FBQztBQUVELE1BQU0sVUFBVSxRQUFRLENBQUMsR0FBVyxFQUFFLE9BQWlCO0lBQ3JELE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDOUIsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDckQsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gVE9ETyhtaXNrbyk6IG5lZWQgZnVsbCBvYmplY3QgcGFyc2luZyAvc2VyaWFsaXppbmdcbmltcG9ydCB7IGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgdHlwZSB7IFFDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcURlZmxhdGUob2JqOiBhbnksIGhvc3RDdHg6IFFDb250ZXh0KTogc3RyaW5nIHtcbiAgcmV0dXJuIFN0cmluZyhob3N0Q3R4LnJlZk1hcC5hZGQob2JqKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxSW5mbGF0ZShyZWY6IHN0cmluZywgaG9zdEN0eDogUUNvbnRleHQpOiBhbnkge1xuICBjb25zdCBpbnQgPSBwYXJzZUludChyZWYsIDEwKTtcbiAgY29uc3Qgb2JqID0gaG9zdEN0eC5yZWZNYXAuZ2V0KGludCk7XG4gIGFzc2VydEVxdWFsKGhvc3RDdHgucmVmTWFwLmFycmF5Lmxlbmd0aCA+IGludCwgdHJ1ZSk7XG4gIHJldHVybiBvYmo7XG59XG4iXX0=","export function fromCamelToKebabCase(text) {\n    return text.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\nexport function fromKebabToCamelCase(text) {\n    return text.replace(/-./g, (x) => x[1].toUpperCase());\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FzZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvdXRpbC9jYXNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxvQkFBb0IsQ0FBQyxJQUFZO0lBQy9DLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxpQkFBaUIsRUFBRSxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUNoRSxDQUFDO0FBRUQsTUFBTSxVQUFVLG9CQUFvQixDQUFDLElBQVk7SUFDL0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDeEQsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC8oW2Etel0pKFtBLVpdKS9nLCAnJDEtJDInKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZnJvbUtlYmFiVG9DYW1lbENhc2UodGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIHRleHQucmVwbGFjZSgvLS4vZywgKHgpID0+IHhbMV0udG9VcHBlckNhc2UoKSk7XG59XG4iXX0=","export function stringify(value) {\n    return value == null ? null : String(value);\n}\nexport function debugStringify(value) {\n    if (value != null && typeof value == 'object') {\n        return String(value.constructor.name) + '\\n' + safeJSONStringify(value);\n    }\n    return String(value);\n}\nfunction safeJSONStringify(value) {\n    try {\n        return JSON.stringify(value, null, '  ');\n    }\n    catch (e) {\n        return String(e);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RyaW5naWZ5LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS91dGlsL3N0cmluZ2lmeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsU0FBUyxDQUFDLEtBQVU7SUFDbEMsT0FBTyxLQUFLLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUM5QyxDQUFDO0FBRUQsTUFBTSxVQUFVLGNBQWMsQ0FBQyxLQUFVO0lBQ3ZDLElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxPQUFPLEtBQUssSUFBSSxRQUFRLEVBQUU7UUFDN0MsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsaUJBQWlCLENBQUMsS0FBSyxDQUFDLENBQUM7S0FDekU7SUFDRCxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN2QixDQUFDO0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxLQUFVO0lBQ25DLElBQUk7UUFDRixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztLQUMxQztJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDbEI7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ2lmeSh2YWx1ZTogYW55KTogc3RyaW5nIHwgbnVsbCB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IFN0cmluZyh2YWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z1N0cmluZ2lmeSh2YWx1ZTogYW55KTogc3RyaW5nIHtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIFN0cmluZyh2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lKSArICdcXG4nICsgc2FmZUpTT05TdHJpbmdpZnkodmFsdWUpO1xuICB9XG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBzYWZlSlNPTlN0cmluZ2lmeSh2YWx1ZTogYW55KSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlLCBudWxsLCAnICAnKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBTdHJpbmcoZSk7XG4gIH1cbn1cbiJdfQ==","import { getPlatform } from '../platform/platform';\nimport { QError, qError } from '../error/error';\nimport { parseQRL, qrlImport, stringifyQRL } from '../import/qrl';\nimport { isQrl } from '../import/qrl-class';\nimport { qDeflate } from '../json/q-json';\nimport { getInvokeContext, useInvoke } from '../use/use-core';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { EMPTY_ARRAY } from '../util/flyweight';\nimport { isPromise } from '../util/promises';\nimport { debugStringify } from '../util/stringify';\nimport { getDocument } from '../util/dom';\nimport { setAttribute } from '../render/cursor';\nimport { emitEvent } from '../util/event';\nconst ON_PROP_REGEX = /^on([A-Z]|-.).*Qrl$/;\nconst ON$_PROP_REGEX = /^on([A-Z]|-.).*\\$$/;\nexport function isOnProp(prop) {\n    return ON_PROP_REGEX.test(prop);\n}\nexport function isOn$Prop(prop) {\n    return ON$_PROP_REGEX.test(prop);\n}\nexport function qPropReadQRL(ctx, prop) {\n    const existingQRLs = getExistingQRLs(ctx, prop);\n    if (existingQRLs.length === 0) {\n        return null;\n    }\n    return () => {\n        const context = getInvokeContext();\n        const qrls = getExistingQRLs(ctx, prop);\n        return Promise.all(qrls.map(async (qrlOrPromise) => {\n            const qrl = await qrlOrPromise;\n            if (!qrl.symbolRef) {\n                qrl.symbolRef = await qrlImport(ctx.element, qrl);\n            }\n            context.qrl = qrl;\n            emitEvent(ctx.element, 'qSymbol', { name: qrl.symbol }, true);\n            return useInvoke(context, qrl.symbolRef);\n        }));\n    };\n}\nexport function qPropWriteQRL(rctx, ctx, prop, value) {\n    if (!value) {\n        return;\n    }\n    if (typeof value == 'string') {\n        value = parseQRL(value, ctx.element);\n    }\n    const existingQRLs = getExistingQRLs(ctx, prop);\n    if (Array.isArray(value)) {\n        value.forEach((value) => qPropWriteQRL(rctx, ctx, prop, value));\n    }\n    else if (isQrl(value)) {\n        const cp = value.copy();\n        cp.setContainer(ctx.element);\n        const capture = cp.capture;\n        if (capture == null) {\n            // we need to serialize the lexical scope references\n            const captureRef = cp.captureRef;\n            cp.capture =\n                captureRef && captureRef.length ? captureRef.map((ref) => qDeflate(ref, ctx)) : EMPTY_ARRAY;\n        }\n        // Important we modify the array as it is cached.\n        for (let i = 0; i < existingQRLs.length; i++) {\n            const qrl = existingQRLs[i];\n            if (!isPromise(qrl) && qrl.canonicalChunk === cp.canonicalChunk && qrl.symbol === cp.symbol) {\n                existingQRLs.splice(i, 1);\n                i--;\n            }\n        }\n        existingQRLs.push(cp);\n    }\n    else if (isPromise(value)) {\n        const writePromise = value.then((qrl) => {\n            existingQRLs.splice(existingQRLs.indexOf(writePromise), 1);\n            qPropWriteQRL(rctx, ctx, prop, qrl);\n            return qrl;\n        });\n        existingQRLs.push(writePromise);\n    }\n    else {\n        // TODO(misko): Test/better text\n        throw qError(QError.TODO, `Not QRLInternal: prop: ${prop}; value: ` + value);\n    }\n    const kebabProp = fromCamelToKebabCase(prop);\n    const newValue = serializeQRLs(existingQRLs, ctx);\n    if (ctx.element.getAttribute(kebabProp) !== newValue) {\n        if (rctx) {\n            setAttribute(rctx, ctx.element, kebabProp, newValue);\n        }\n        else {\n            ctx.element.setAttribute(kebabProp, newValue);\n        }\n    }\n}\nexport function closureRefError(ref) {\n    return new Error(`QWIK-ERROR: A closure can only lexically capture 'QObject' and 'QProp' const references. Got: ` +\n        debugStringify(ref));\n}\nfunction getExistingQRLs(ctx, prop) {\n    const key = 'event:' + prop;\n    let parts = ctx.cache.get(key);\n    if (!parts) {\n        const attrName = fromCamelToKebabCase(prop);\n        parts = [];\n        (ctx.element.getAttribute(attrName) || '').split('\\n').forEach((qrl) => {\n            if (qrl) {\n                parts.push(parseQRL(qrl, ctx.element));\n            }\n        });\n        ctx.cache.set(key, parts);\n    }\n    return parts;\n}\nfunction serializeQRLs(existingQRLs, ctx) {\n    const platform = getPlatform(getDocument(ctx.element));\n    const element = ctx.element;\n    const opts = {\n        platform,\n        element,\n    };\n    return existingQRLs\n        .map((qrl) => (isPromise(qrl) ? '' : stringifyQRL(qrl, opts)))\n        .filter((v) => !!v)\n        .join('\\n');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb24uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3Byb3BzL3Byb3BzLW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNsRSxPQUFPLEVBQUUsS0FBSyxFQUFlLE1BQU0scUJBQXFCLENBQUM7QUFDekQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzFDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxTQUFTLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM5RCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFHbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQWlCLFlBQVksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQy9ELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFMUMsTUFBTSxhQUFhLEdBQUcscUJBQXFCLENBQUM7QUFDNUMsTUFBTSxjQUFjLEdBQUcsb0JBQW9CLENBQUM7QUFFNUMsTUFBTSxVQUFVLFFBQVEsQ0FBQyxJQUFZO0lBQ25DLE9BQU8sYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNsQyxDQUFDO0FBRUQsTUFBTSxVQUFVLFNBQVMsQ0FBQyxJQUFZO0lBQ3BD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QUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztJQUN2RCxNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDO0lBQzVCLE1BQU0sSUFBSSxHQUFHO1FBQ1gsUUFBUTtRQUNSLE9BQU87S0FDUixDQUFDO0lBQ0YsT0FBTyxZQUFZO1NBQ2hCLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQzdELE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUNsQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDaEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgUUVycm9yLCBxRXJyb3IgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBwYXJzZVFSTCwgcXJsSW1wb3J0LCBzdHJpbmdpZnlRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IGlzUXJsLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgcURlZmxhdGUgfSBmcm9tICcuLi9qc29uL3EtanNvbic7XG5pbXBvcnQgeyBnZXRJbnZva2VDb250ZXh0LCB1c2VJbnZva2UgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgZnJvbUNhbWVsVG9LZWJhYkNhc2UgfSBmcm9tICcuLi91dGlsL2Nhc2UnO1xuaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi91dGlsL2ZseXdlaWdodCc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IGRlYnVnU3RyaW5naWZ5IH0gZnJvbSAnLi4vdXRpbC9zdHJpbmdpZnknO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBRQ29udGV4dCB9IGZyb20gJy4vcHJvcHMnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBSZW5kZXJDb250ZXh0LCBzZXRBdHRyaWJ1dGUgfSBmcm9tICcuLi9yZW5kZXIvY3Vyc29yJztcbmltcG9ydCB7IGVtaXRFdmVudCB9IGZyb20gJy4uL3V0aWwvZXZlbnQnO1xuXG5jb25zdCBPTl9QUk9QX1JFR0VYID0gL15vbihbQS1aXXwtLikuKlFybCQvO1xuY29uc3QgT04kX1BST1BfUkVHRVggPSAvXm9uKFtBLVpdfC0uKS4qXFwkJC87XG5cbmV4cG9ydCBmdW5jdGlvbiBpc09uUHJvcChwcm9wOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIE9OX1BST1BfUkVHRVgudGVzdChwcm9wKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT24kUHJvcChwcm9wOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgcmV0dXJuIE9OJF9QUk9QX1JFR0VYLnRlc3QocHJvcCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxUHJvcFJlYWRRUkwoXG4gIGN0eDogUUNvbnRleHQsXG4gIHByb3A6IHN0cmluZ1xuKTogKChldmVudDogRXZlbnQpID0+IFByb21pc2U8YW55W10+KSB8IG51bGwge1xuICBjb25zdCBleGlzdGluZ1FSTHMgPSBnZXRFeGlzdGluZ1FSTHMoY3R4LCBwcm9wKTtcbiAgaWYgKGV4aXN0aW5nUVJMcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gICAgY29uc3QgcXJscyA9IGdldEV4aXN0aW5nUVJMcyhjdHgsIHByb3ApO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIHFybHMubWFwKGFzeW5jIChxcmxPclByb21pc2UpID0+IHtcbiAgICAgICAgY29uc3QgcXJsID0gYXdhaXQgcXJsT3JQcm9taXNlO1xuICAgICAgICBpZiAoIXFybC5zeW1ib2xSZWYpIHtcbiAgICAgICAgICBxcmwuc3ltYm9sUmVmID0gYXdhaXQgcXJsSW1wb3J0KGN0eC5lbGVtZW50LCBxcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5xcmwgPSBxcmw7XG4gICAgICAgIGVtaXRFdmVudChjdHguZWxlbWVudCwgJ3FTeW1ib2wnLCB7IG5hbWU6IHFybC5zeW1ib2wgfSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB1c2VJbnZva2UoY29udGV4dCwgcXJsLnN5bWJvbFJlZik7XG4gICAgICB9KVxuICAgICk7XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxUHJvcFdyaXRlUVJMKFxuICByY3R4OiBSZW5kZXJDb250ZXh0IHwgdW5kZWZpbmVkLFxuICBjdHg6IFFDb250ZXh0LFxuICBwcm9wOiBzdHJpbmcsXG4gIHZhbHVlOiBhbnlcbikge1xuICBpZiAoIXZhbHVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICB2YWx1ZSA9IHBhcnNlUVJMKHZhbHVlLCBjdHguZWxlbWVudCk7XG4gIH1cbiAgY29uc3QgZXhpc3RpbmdRUkxzID0gZ2V0RXhpc3RpbmdRUkxzKGN0eCwgcHJvcCk7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHZhbHVlLmZvckVhY2goKHZhbHVlKSA9PiBxUHJvcFdyaXRlUVJMKHJjdHgsIGN0eCwgcHJvcCwgdmFsdWUpKTtcbiAgfSBlbHNlIGlmIChpc1FybCh2YWx1ZSkpIHtcbiAgICBjb25zdCBjcCA9IHZhbHVlLmNvcHkoKTtcbiAgICBjcC5zZXRDb250YWluZXIoY3R4LmVsZW1lbnQpO1xuICAgIGNvbnN0IGNhcHR1cmUgPSBjcC5jYXB0dXJlO1xuICAgIGlmIChjYXB0dXJlID09IG51bGwpIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gc2VyaWFsaXplIHRoZSBsZXhpY2FsIHNjb3BlIHJlZmVyZW5jZXNcbiAgICAgIGNvbnN0IGNhcHR1cmVSZWYgPSBjcC5jYXB0dXJlUmVmO1xuICAgICAgY3AuY2FwdHVyZSA9XG4gICAgICAgIGNhcHR1cmVSZWYgJiYgY2FwdHVyZVJlZi5sZW5ndGggPyBjYXB0dXJlUmVmLm1hcCgocmVmKSA9PiBxRGVmbGF0ZShyZWYsIGN0eCkpIDogRU1QVFlfQVJSQVk7XG4gICAgfVxuXG4gICAgLy8gSW1wb3J0YW50IHdlIG1vZGlmeSB0aGUgYXJyYXkgYXMgaXQgaXMgY2FjaGVkLlxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXhpc3RpbmdRUkxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBxcmwgPSBleGlzdGluZ1FSTHNbaV07XG4gICAgICBpZiAoIWlzUHJvbWlzZShxcmwpICYmIHFybC5jYW5vbmljYWxDaHVuayA9PT0gY3AuY2Fub25pY2FsQ2h1bmsgJiYgcXJsLnN5bWJvbCA9PT0gY3Auc3ltYm9sKSB7XG4gICAgICAgIGV4aXN0aW5nUVJMcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICB9XG4gICAgZXhpc3RpbmdRUkxzLnB1c2goY3ApO1xuICB9IGVsc2UgaWYgKGlzUHJvbWlzZSh2YWx1ZSkpIHtcbiAgICBjb25zdCB3cml0ZVByb21pc2UgPSB2YWx1ZS50aGVuKChxcmw6IFFSTEludGVybmFsKSA9PiB7XG4gICAgICBleGlzdGluZ1FSTHMuc3BsaWNlKGV4aXN0aW5nUVJMcy5pbmRleE9mKHdyaXRlUHJvbWlzZSksIDEpO1xuICAgICAgcVByb3BXcml0ZVFSTChyY3R4LCBjdHgsIHByb3AsIHFybCk7XG4gICAgICByZXR1cm4gcXJsO1xuICAgIH0pO1xuICAgIGV4aXN0aW5nUVJMcy5wdXNoKHdyaXRlUHJvbWlzZSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gVE9ETyhtaXNrbyk6IFRlc3QvYmV0dGVyIHRleHRcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yLlRPRE8sIGBOb3QgUVJMSW50ZXJuYWw6IHByb3A6ICR7cHJvcH07IHZhbHVlOiBgICsgdmFsdWUpO1xuICB9XG4gIGNvbnN0IGtlYmFiUHJvcCA9IGZyb21DYW1lbFRvS2ViYWJDYXNlKHByb3ApO1xuICBjb25zdCBuZXdWYWx1ZSA9IHNlcmlhbGl6ZVFSTHMoZXhpc3RpbmdRUkxzLCBjdHgpO1xuICBpZiAoY3R4LmVsZW1lbnQuZ2V0QXR0cmlidXRlKGtlYmFiUHJvcCkgIT09IG5ld1ZhbHVlKSB7XG4gICAgaWYgKHJjdHgpIHtcbiAgICAgIHNldEF0dHJpYnV0ZShyY3R4LCBjdHguZWxlbWVudCwga2ViYWJQcm9wLCBuZXdWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN0eC5lbGVtZW50LnNldEF0dHJpYnV0ZShrZWJhYlByb3AsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNsb3N1cmVSZWZFcnJvcihyZWY6IGFueSkge1xuICByZXR1cm4gbmV3IEVycm9yKFxuICAgIGBRV0lLLUVSUk9SOiBBIGNsb3N1cmUgY2FuIG9ubHkgbGV4aWNhbGx5IGNhcHR1cmUgJ1FPYmplY3QnIGFuZCAnUVByb3AnIGNvbnN0IHJlZmVyZW5jZXMuIEdvdDogYCArXG4gICAgICBkZWJ1Z1N0cmluZ2lmeShyZWYpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdldEV4aXN0aW5nUVJMcyhjdHg6IFFDb250ZXh0LCBwcm9wOiBzdHJpbmcpOiBWYWx1ZU9yUHJvbWlzZTxRUkxJbnRlcm5hbD5bXSB7XG4gIGNvbnN0IGtleSA9ICdldmVudDonICsgcHJvcDtcbiAgbGV0IHBhcnRzID0gY3R4LmNhY2hlLmdldChrZXkpIGFzIFFSTEludGVybmFsW107XG4gIGlmICghcGFydHMpIHtcbiAgICBjb25zdCBhdHRyTmFtZSA9IGZyb21DYW1lbFRvS2ViYWJDYXNlKHByb3ApO1xuICAgIHBhcnRzID0gW107XG4gICAgKGN0eC5lbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyTmFtZSkgfHwgJycpLnNwbGl0KCdcXG4nKS5mb3JFYWNoKChxcmwpID0+IHtcbiAgICAgIGlmIChxcmwpIHtcbiAgICAgICAgcGFydHMucHVzaChwYXJzZVFSTChxcmwsIGN0eC5lbGVtZW50KSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY3R4LmNhY2hlLnNldChrZXksIHBhcnRzKTtcbiAgfVxuICByZXR1cm4gcGFydHM7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVFSTHMoZXhpc3RpbmdRUkxzOiBWYWx1ZU9yUHJvbWlzZTxRUkxJbnRlcm5hbD5bXSwgY3R4OiBRQ29udGV4dCk6IHN0cmluZyB7XG4gIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oZ2V0RG9jdW1lbnQoY3R4LmVsZW1lbnQpKTtcbiAgY29uc3QgZWxlbWVudCA9IGN0eC5lbGVtZW50O1xuICBjb25zdCBvcHRzID0ge1xuICAgIHBsYXRmb3JtLFxuICAgIGVsZW1lbnQsXG4gIH07XG4gIHJldHVybiBleGlzdGluZ1FSTHNcbiAgICAubWFwKChxcmwpID0+IChpc1Byb21pc2UocXJsKSA/ICcnIDogc3RyaW5naWZ5UVJMKHFybCwgb3B0cykpKVxuICAgIC5maWx0ZXIoKHYpID0+ICEhdilcbiAgICAuam9pbignXFxuJyk7XG59XG4iXX0=","import { QError, qError } from '../error/error';\nimport { getProxyMap, readWriteProxy } from '../object/q-object';\nimport { resumeContainer } from '../object/store';\nimport { getDocument } from '../util/dom';\nimport { newQObjectMap } from './props-obj-map';\nimport { qPropWriteQRL, qPropReadQRL } from './props-on';\nimport { QContainerAttr } from '../util/markers';\nError.stackTraceLimit = 9999;\nconst Q_CTX = '__ctx__';\nexport function resumeIfNeeded(containerEl) {\n    const isResumed = containerEl.getAttribute(QContainerAttr);\n    if (isResumed === 'paused') {\n        resumeContainer(containerEl);\n    }\n}\nexport function getContext(element) {\n    let ctx = element[Q_CTX];\n    if (!ctx) {\n        const cache = new Map();\n        element[Q_CTX] = ctx = {\n            element,\n            cache,\n            refMap: newQObjectMap(element),\n            dirty: false,\n            seq: [],\n            props: undefined,\n            renderQrl: undefined,\n            component: undefined,\n        };\n    }\n    return ctx;\n}\nconst PREFIXES = ['onWindow', 'onWindow', 'on'];\nexport function normalizeOnProp(prop) {\n    let scope = 'on';\n    for (const prefix of PREFIXES) {\n        if (prop.startsWith(prefix)) {\n            scope = prefix;\n            prop = prop.slice(prefix.length);\n        }\n    }\n    if (prop.startsWith('-')) {\n        prop = prop.slice(1);\n    }\n    else {\n        prop = prop.toLowerCase();\n    }\n    return `${scope}:${prop}`;\n}\nexport function setEvent(rctx, ctx, prop, value) {\n    qPropWriteQRL(rctx, ctx, normalizeOnProp(prop), value);\n}\nexport function getEvent(ctx, prop) {\n    return qPropReadQRL(ctx, normalizeOnProp(prop));\n}\nexport function getProps(ctx) {\n    if (!ctx.props) {\n        ctx.props = readWriteProxy({}, getProxyMap(getDocument(ctx.element)));\n        ctx.refMap.add(ctx.props);\n    }\n    return ctx.props;\n}\n/**\n * Turn an `Array` or object literal into a `class` or `style`\n *\n * @param obj `string`, `Array` or object literal\n * @param isClass `true` if expecting `class` output\n * @returns `string`\n */\nexport function stringifyClassOrStyle(obj, isClass) {\n    if (obj == null)\n        return '';\n    if (typeof obj == 'object') {\n        let text = '';\n        let sep = '';\n        if (Array.isArray(obj)) {\n            if (!isClass) {\n                throw qError(QError.Render_unsupportedFormat_obj_attr, obj, 'style');\n            }\n            for (let i = 0; i < obj.length; i++) {\n                text += sep + obj[i];\n                sep = ' ';\n            }\n        }\n        else {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    text += isClass ? (value ? sep + key : '') : sep + key + ':' + value;\n                    sep = isClass ? ' ' : ';';\n                }\n            }\n        }\n        return text;\n    }\n    return String(obj);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3Byb3BzL3Byb3BzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDaEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNqRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFbEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsYUFBYSxFQUFjLE1BQU0saUJBQWlCLENBQUM7QUFDNUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxZQUFZLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFDekQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBSWpELEtBQUssQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO0FBRTdCLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQztBQUV4QixNQUFNLFVBQVUsY0FBYyxDQUFDLFdBQW9CO0lBQ2pELE1BQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxZQUFZLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDM0QsSUFBSSxTQUFTLEtBQUssUUFBUSxFQUFFO1FBQzFCLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQztLQUM5QjtBQUNILENBQUM7QUF5QkQsTUFBTSxVQUFVLFVBQVUsQ0FBQyxPQUFnQjtJQUN6QyxJQUFJLEdBQUcsR0FBYyxPQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUMsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNSLE1BQU0sS0FBSyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7UUFDdkIsT0FBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRztZQUM5QixPQUFPO1lBQ1AsS0FBSztZQUNMLE1BQU0sRUFBRSxhQUFhLENBQUMs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Q0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEVBQUU7b0JBQ2xELE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDdkIsSUFBSSxJQUFJLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUM7b0JBQ3JFLEdBQUcsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO2lCQUMzQjthQUNGO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDckIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4uL3JlbmRlci9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgUUVycm9yLCBxRXJyb3IgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBnZXRQcm94eU1hcCwgcmVhZFdyaXRlUHJveHkgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgcmVzdW1lQ29udGFpbmVyIH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyQ29udGV4dCB9IGZyb20gJy4uL3JlbmRlci9jdXJzb3InO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBuZXdRT2JqZWN0TWFwLCBRT2JqZWN0TWFwIH0gZnJvbSAnLi9wcm9wcy1vYmotbWFwJztcbmltcG9ydCB7IHFQcm9wV3JpdGVRUkwsIHFQcm9wUmVhZFFSTCB9IGZyb20gJy4vcHJvcHMtb24nO1xuaW1wb3J0IHsgUUNvbnRhaW5lckF0dHIgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgdHlwZSB7IE9uUmVuZGVyRm4gfSBmcm9tICcuLi9jb21wb25lbnQvY29tcG9uZW50LnB1YmxpYyc7XG5cbkVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IDk5OTk7XG5cbmNvbnN0IFFfQ1RYID0gJ19fY3R4X18nO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzdW1lSWZOZWVkZWQoY29udGFpbmVyRWw6IEVsZW1lbnQpOiB2b2lkIHtcbiAgY29uc3QgaXNSZXN1bWVkID0gY29udGFpbmVyRWwuZ2V0QXR0cmlidXRlKFFDb250YWluZXJBdHRyKTtcbiAgaWYgKGlzUmVzdW1lZCA9PT0gJ3BhdXNlZCcpIHtcbiAgICByZXN1bWVDb250YWluZXIoY29udGFpbmVyRWwpO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUUNvbnRleHRFdmVudHMge1xuICBbZXZlbnROYW1lOiBzdHJpbmddOiBRUkwgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50Q3R4IHtcbiAgaG9zdEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICBzdHlsZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHN0eWxlQ2xhc3M6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc3R5bGVIb3N0Q2xhc3M6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgc2xvdHM6IEpTWE5vZGVbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRQ29udGV4dCB7XG4gIGNhY2hlOiBNYXA8c3RyaW5nLCBhbnk+O1xuICByZWZNYXA6IFFPYmplY3RNYXA7XG4gIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gIGRpcnR5OiBib29sZWFuO1xuICBwcm9wczogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZDtcbiAgcmVuZGVyUXJsOiBRUkw8T25SZW5kZXJGbjxhbnk+PiB8IHVuZGVmaW5lZDtcbiAgc2VxOiBudW1iZXJbXTtcbiAgY29tcG9uZW50OiBDb21wb25lbnRDdHggfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb250ZXh0KGVsZW1lbnQ6IEVsZW1lbnQpOiBRQ29udGV4dCB7XG4gIGxldCBjdHg6IFFDb250ZXh0ID0gKGVsZW1lbnQgYXMgYW55KVtRX0NUWF07XG4gIGlmICghY3R4KSB7XG4gICAgY29uc3QgY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgKGVsZW1lbnQgYXMgYW55KVtRX0NUWF0gPSBjdHggPSB7XG4gICAgICBlbGVtZW50LFxuICAgICAgY2FjaGUsXG4gICAgICByZWZNYXA6IG5ld1FPYmplY3RNYXAoZWxlbWVudCksXG4gICAgICBkaXJ0eTogZmFsc2UsXG4gICAgICBzZXE6IFtdLFxuICAgICAgcHJvcHM6IHVuZGVmaW5lZCxcbiAgICAgIHJlbmRlclFybDogdW5kZWZpbmVkLFxuICAgICAgY29tcG9uZW50OiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gY3R4O1xufVxuXG5jb25zdCBQUkVGSVhFUyA9IFsnb25XaW5kb3cnLCAnb25XaW5kb3cnLCAnb24nXTtcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVPblByb3AocHJvcDogc3RyaW5nKSB7XG4gIGxldCBzY29wZSA9ICdvbic7XG4gIGZvciAoY29uc3QgcHJlZml4IG9mIFBSRUZJWEVTKSB7XG4gICAgaWYgKHByb3Auc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICBzY29wZSA9IHByZWZpeDtcbiAgICAgIHByb3AgPSBwcm9wLnNsaWNlKHByZWZpeC5sZW5ndGgpO1xuICAgIH1cbiAgfVxuICBpZiAocHJvcC5zdGFydHNXaXRoKCctJykpIHtcbiAgICBwcm9wID0gcHJvcC5zbGljZSgxKTtcbiAgfSBlbHNlIHtcbiAgICBwcm9wID0gcHJvcC50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIHJldHVybiBgJHtzY29wZX06JHtwcm9wfWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRFdmVudChyY3R4OiBSZW5kZXJDb250ZXh0LCBjdHg6IFFDb250ZXh0LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgcVByb3BXcml0ZVFSTChyY3R4LCBjdHgsIG5vcm1hbGl6ZU9uUHJvcChwcm9wKSwgdmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnQoY3R4OiBRQ29udGV4dCwgcHJvcDogc3RyaW5nKTogYW55IHtcbiAgcmV0dXJuIHFQcm9wUmVhZFFSTChjdHgsIG5vcm1hbGl6ZU9uUHJvcChwcm9wKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wcyhjdHg6IFFDb250ZXh0KSB7XG4gIGlmICghY3R4LnByb3BzKSB7XG4gICAgY3R4LnByb3BzID0gcmVhZFdyaXRlUHJveHkoe30sIGdldFByb3h5TWFwKGdldERvY3VtZW50KGN0eC5lbGVtZW50KSkpO1xuICAgIGN0eC5yZWZNYXAuYWRkKGN0eC5wcm9wcyk7XG4gIH1cbiAgcmV0dXJuIGN0eC5wcm9wcyE7XG59XG5cbi8qKlxuICogVHVybiBhbiBgQXJyYXlgIG9yIG9iamVjdCBsaXRlcmFsIGludG8gYSBgY2xhc3NgIG9yIGBzdHlsZWBcbiAqXG4gKiBAcGFyYW0gb2JqIGBzdHJpbmdgLCBgQXJyYXlgIG9yIG9iamVjdCBsaXRlcmFsXG4gKiBAcGFyYW0gaXNDbGFzcyBgdHJ1ZWAgaWYgZXhwZWN0aW5nIGBjbGFzc2Agb3V0cHV0XG4gKiBAcmV0dXJucyBgc3RyaW5nYFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaW5naWZ5Q2xhc3NPclN0eWxlKG9iajogYW55LCBpc0NsYXNzOiBib29sZWFuKTogc3RyaW5nIHtcbiAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gJyc7XG4gIGlmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnKSB7XG4gICAgbGV0IHRleHQgPSAnJztcbiAgICBsZXQgc2VwID0gJyc7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgaWYgKCFpc0NsYXNzKSB7XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3IuUmVuZGVyX3Vuc3VwcG9ydGVkRm9ybWF0X29ial9hdHRyLCBvYmosICdzdHlsZScpO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGV4dCArPSBzZXAgKyBvYmpbaV07XG4gICAgICAgIHNlcCA9ICcgJztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgICB0ZXh0ICs9IGlzQ2xhc3MgPyAodmFsdWUgPyBzZXAgKyBrZXkgOiAnJykgOiBzZXAgKyBrZXkgKyAnOicgKyB2YWx1ZTtcbiAgICAgICAgICBzZXAgPSBpc0NsYXNzID8gJyAnIDogJzsnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIHJldHVybiBTdHJpbmcob2JqKTtcbn1cbiJdfQ==","/**\n * Place at the root of the component View to allow binding of attributes on the Host element.\n *\n * ```\n * <Host someAttr={someExpr} someAttrStatic=\"value\">\n *   View content implementation.\n * </Host>\n * ```\n *\n * Qwik requires that components have [docs/HOST_ELEMENTS.ts] so that it is possible to have\n * asynchronous loading point. Host element is not owned by the component. At times it is\n * desirable for the component to render additional attributes on the host element. `<Host>`\n * servers that purpose.\n * @public\n */\nexport const Host = { __brand__: 'host' };\n/**\n * @public\n */\nexport const SkipRerender = { __brand__: 'skip' };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9zdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3JlbmRlci9qc3gvaG9zdC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBR0E7Ozs7Ozs7Ozs7Ozs7O0dBY0c7QUFDSCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQW1ELEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBUyxDQUFDO0FBRWpHOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUEwQixFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQVMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSFRNTEF0dHJpYnV0ZXMgfSBmcm9tICcuL3R5cGVzL2pzeC1nZW5lcmF0ZWQnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuXG4vKipcbiAqIFBsYWNlIGF0IHRoZSByb290IG9mIHRoZSBjb21wb25lbnQgVmlldyB0byBhbGxvdyBiaW5kaW5nIG9mIGF0dHJpYnV0ZXMgb24gdGhlIEhvc3QgZWxlbWVudC5cbiAqXG4gKiBgYGBcbiAqIDxIb3N0IHNvbWVBdHRyPXtzb21lRXhwcn0gc29tZUF0dHJTdGF0aWM9XCJ2YWx1ZVwiPlxuICogICBWaWV3IGNvbnRlbnQgaW1wbGVtZW50YXRpb24uXG4gKiA8L0hvc3Q+XG4gKiBgYGBcbiAqXG4gKiBRd2lrIHJlcXVpcmVzIHRoYXQgY29tcG9uZW50cyBoYXZlIFtkb2NzL0hPU1RfRUxFTUVOVFMudHNdIHNvIHRoYXQgaXQgaXMgcG9zc2libGUgdG8gaGF2ZVxuICogYXN5bmNocm9ub3VzIGxvYWRpbmcgcG9pbnQuIEhvc3QgZWxlbWVudCBpcyBub3Qgb3duZWQgYnkgdGhlIGNvbXBvbmVudC4gQXQgdGltZXMgaXQgaXNcbiAqIGRlc2lyYWJsZSBmb3IgdGhlIGNvbXBvbmVudCB0byByZW5kZXIgYWRkaXRpb25hbCBhdHRyaWJ1dGVzIG9uIHRoZSBob3N0IGVsZW1lbnQuIGA8SG9zdD5gXG4gKiBzZXJ2ZXJzIHRoYXQgcHVycG9zZS5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IEhvc3Q6IEZ1bmN0aW9uQ29tcG9uZW50PEhUTUxBdHRyaWJ1dGVzPEhUTUxFbGVtZW50Pj4gPSB7IF9fYnJhbmRfXzogJ2hvc3QnIH0gYXMgYW55O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNraXBSZXJlbmRlcjogRnVuY3Rpb25Db21wb25lbnQ8e30+ID0geyBfX2JyYW5kX186ICdza2lwJyB9IGFzIGFueTtcbiJdfQ==","import { runtimeQrl } from './qrl';\n// <docs markdown=\"https://hackmd.io/m5DzCi5MTa26LuUj5t3HpQ#$\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fm5DzCi5MTa26LuUj5t3HpQ%3Fboth#$ instead)\n/**\n * Qwik Optimizer marker function.\n *\n * Use `$(...)` to tell Qwik Optimizer to extract the expression in `$(...)` into a lazy-loadable\n * resource referenced by `QRL`.\n *\n * See: `implicit$FirstArg` for additional `____$(...)` rules.\n *\n * In this example `$(...)` is used to capture the callback function of `onmousemove` into\n * lazy-loadable reference. This allows the code to refer to the function without actually\n * loading the function. In this example, the callback function does not get loaded until\n * `mousemove` event fires.\n *\n * ```typescript\n * onDocument(\n *   'mousemove',\n *   $(() => console.log('mousemove'))\n * );\n * ```\n *\n * In this code the Qwik Optimizer detects `$(...)` and transforms the code into:\n *\n * ```typescript\n * // FILE: <current file>\n * onDocument('mousemove', qrl('./chunk-abc.js', 'onMousemove'));\n *\n * // FILE: chunk-abc.js\n * export const onMousemove = () => console.log('mousemove');\n * ```\n *\n * ## Special Rules\n *\n * The Qwik Optimizer places special rules on functions that can be lazy-loaded.\n *\n * 1. The expression of the `$(expression)` function must be importable by the system.\n * (expression shows up in `import` or has `export`)\n * 2. If inlined function then all lexically captured values must be:\n *    - importable (vars shows up in `import` or has `export`)\n *    - const (The capturing process differs from JS capturing in that writing to captured\n * variables does not update them, and therefore writes are forbidden. The best practice is that\n * all captured variables are constants.)\n *    - Must be runtime serializable.\n *\n * ```typescript\n * import { importedFn } from './example';\n *\n * export const greet = () => console.log('greet');\n * function topLevelFn() {}\n *\n * function myCode() {\n *   const store = useStore({});\n *   function localFn() {}\n *   // Valid Examples\n *   $(greet); // greet is importable\n *   $(importedFn); // importedFn is importable\n *   $(() => greet()); // greet is importable;\n *   $(() => importedFn()); // importedFn is importable\n *   $(() => console.log(store)); // store is serializable.\n *\n *   // Compile time errors\n *   $(topLevelFn); // ERROR: `topLevelFn` not importable\n *   $(() => topLevelFn()); // ERROR: `topLevelFn` not importable\n *\n *   // Runtime errors\n *   $(localFn); // ERROR: `localFn` fails serialization\n *   $(() => localFn()); // ERROR: `localFn` fails serialization\n * }\n *\n * ```\n *\n * @param expression - Expression which should be lazy loaded\n * @public\n */\n// </docs>\nexport function $(expression) {\n    return runtimeQrl(expression);\n}\n// <docs markdown=\"https://hackmd.io/m5DzCi5MTa26LuUj5t3HpQ#implicit$FirstArg\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fm5DzCi5MTa26LuUj5t3HpQ%3Fboth#implicit$FirstArg instead)\n/**\n * Create a `____$(...)` convenience method from `___(...)`.\n *\n * It is very common for functions to take a lazy-loadable resource as a first argument. For this\n * reason, the Qwik Optimizer automatically extracts the first argument from any function which\n * ends in `$`.\n *\n * This means that `foo$(arg0)` and `foo($(arg0))` are equivalent with respect to Qwik Optimizer.\n * The former is just a shorthand for the latter.\n *\n * For example these function call are equivalent:\n *\n * - `component$(() => {...})` is same as `onRender($(() => {...}))`\n *\n * ```typescript\n * export function myApi(callback: QRL<() => void>): void {\n *   // ...\n * }\n *\n * export const myApi$ = implicit$FirstArg(myApi);\n * // type of myApi$: (callback: () => void): void\n *\n * // can be used as:\n * myApi$(() => console.log('callback'));\n *\n * // will be transpiled to:\n * // FILE: <current file>\n * myApi(qrl('./chunk-abc.js', 'callback'));\n *\n * // FILE: chunk-abc.js\n * export const callback = () => console.log('callback');\n * ```\n *\n * @param fn - function that should have its first argument automatically `$`.\n * @public\n */\n// </docs>\nexport function implicit$FirstArg(fn) {\n    return function (first, ...rest) {\n        return fn.call(null, $(first), ...rest);\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvaW1wb3J0L3FybC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE9BQU8sQ0FBQztBQW1KbkMsK0RBQStEO0FBQy9ELHlDQUF5QztBQUN6QywyRkFBMkY7QUFDM0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQXdFRztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsQ0FBQyxDQUFJLFVBQWE7SUFDaEMsT0FBTyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDaEMsQ0FBQztBQUVELCtFQUErRTtBQUMvRSx5Q0FBeUM7QUFDekMsMkdBQTJHO0FBQzNHOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1DRztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsaUJBQWlCLENBQy9CLEVBQTZDO0lBRTdDLE9BQU8sVUFBVSxLQUFZLEVBQUUsR0FBRyxJQUFVO1FBQzFDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLic7XG5pbXBvcnQgdHlwZSB7IEludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgcnVudGltZVFybCB9IGZyb20gJy4vcXJsJztcblxuLy8gPGRvY3MgbWFya2Rvd249XCJodHRwczovL2hhY2ttZC5pby9tNUR6Q2k1TVRhMjZMdVVqNXQzSHBRI1FSTFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRm01RHpDaTVNVGEyNkx1VWo1dDNIcFElM0Zib3RoI1FSTCBpbnN0ZWFkKVxuLyoqXG4gKiBUaGUgYFFSTGAgdHlwZSByZXByZXNlbnRzIGEgbGF6eS1sb2FkYWJsZSBBTkQgc2VyaWFsaXphYmxlIHJlc291cmNlLlxuICpcbiAqIFFSTCBzdGFuZHMgZm9yIFF3aWsgVVJMLlxuICpcbiAqIFVzZSBgUVJMYCB3aGVuIHlvdSB3YW50IHRvIHJlZmVyIHRvIGEgbGF6eS1sb2FkZWQgcmVzb3VyY2UuIGBRUkxgcyBhcmUgbW9zdCBvZnRlbiB1c2VkIGZvclxuICogY29kZSAoZnVuY3Rpb25zKSBidXQgY2FuIGFsc28gYmUgdXNlZCBmb3Igb3RoZXIgcmVzb3VyY2VzIHN1Y2ggYXMgYHN0cmluZ2BzIGluIHRoZSBjYXNlIG9mXG4gKiBzdHlsZXMuXG4gKlxuICogYFFSTGAgaXMgYW4gb3BhcXVlIHRva2VuIHRoYXQgaXMgZ2VuZXJhdGVkIGJ5IHRoZSBRd2lrIE9wdGltaXplci4gKERvIG5vdCByZWx5IG9uIGFueVxuICogcHJvcGVydGllcyBpbiBgUVJMYCBhcyBpdCBtYXkgY2hhbmdlIGJldHdlZW4gdmVyc2lvbnMuKVxuICpcbiAqICMjIENyZWF0aW5nIGBRUkxgIHJlZmVyZW5jZXNcbiAqXG4gKiBDcmVhdGluZyBgUVJMYCBpcyBkb25lIHVzaW5nIGAkKC4uLilgIGZ1bmN0aW9uLiBgJCguLi4pYCBpcyBhIHNwZWNpYWwgbWFya2VyIGZvciB0aGUgUXdpa1xuICogT3B0aW1pemVyIHRoYXQgbWFya3MgdGhhdCB0aGUgY29kZSBzaG91bGQgYmUgZXh0cmFjdGVkIGludG8gYSBsYXp5LWxvYWRlZCBzeW1ib2wuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogb25Eb2N1bWVudChcbiAqICAgJ21vdXNlbW92ZScsXG4gKiAgICQoKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpKVxuICogKTtcbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjb2RlIHRoZSBRd2lrIE9wdGltaXplciBkZXRlY3RzIGAkKC4uLilgIGFuZCB0cmFuc2Zvcm1zIHRoZSBjb2RlIGFzIHNob3duIGJlbG93OlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiBvbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBxcmwoJy4vY2h1bmstYWJjLmpzJywgJ29uTW91c2Vtb3ZlJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IG9uTW91c2Vtb3ZlID0gKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpO1xuICogYGBgXG4gKlxuICogTk9URTogYHFybCguLi4pYCBpcyBhIHJlc3VsdCBvZiBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi4gWW91IHNob3VsZCBuZXZlciBoYXZlIHRvIGludm9rZVxuICogdGhpcyBmdW5jdGlvbiBkaXJlY3RseSBpbiB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgYHFybCguLi4pYCBmdW5jdGlvbiBzaG91bGQgYmUgaW52b2tlZCBvbmx5XG4gKiBhZnRlciBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi5cbiAqXG4gKiAjIyBVc2luZyBgUVJMYHNcbiAqXG4gKiBVc2UgYFFSTGAgdHlwZSBpbiB5b3VyIGFwcGxpY2F0aW9uIHdoZW4geW91IHdhbnQgdG8gZ2V0IGEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYVxuICogcmVzb3VyY2UgKG1vc3QgbGlrZWx5IGEgZnVuY3Rpb24pLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIEV4YW1wbGUgb2YgZGVjbGFyaW5nIGEgY3VzdG9tIGZ1bmN0aW9ucyB3aGljaCB0YWtlcyBjYWxsYmFjayBhcyBRUkwuXG4gKiBleHBvcnQgZnVuY3Rpb24gdXNlTXlGdW5jdGlvbihjYWxsYmFjazogUVJMPCgpID0+IHZvaWQ+KSB7XG4gKiAgIGRvRXh0cmFTdHVmZigpO1xuICogICAvLyBUaGUgY2FsbGJhY2sgcGFzc2VkIHRvIGBvbkRvY3VtZW50YCByZXF1aXJlcyBgUVJMYC5cbiAqICAgb25Eb2N1bWVudCgnbW91c2Vtb3ZlJywgY2FsbGJhY2spO1xuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGV4YW1wbGUgdGhlIHdheSB0byB0aGluayBhYm91dCB0aGUgY29kZSBpcyB0aGF0IHlvdSBhcmUgbm90IGFza2luZyBmb3IgYSBjYWxsYmFja1xuICogZnVuY3Rpb24sIGJ1dCByYXRoZXIgYSByZWZlcmVuY2UgdG8gYSBsYXp5LWxvYWRhYmxlIGNhbGxiYWNrIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHkgdGhlXG4gKiBmdW5jdGlvbiBsb2FkaW5nIHNob3VsZCBiZSBkZWxheWVkIHVudGlsIGl0IGlzIGFjdHVhbGx5IG5lZWRlZC4gSW4gdGhlIGFib3ZlIGV4YW1wbGUgdGhlXG4gKiBmdW5jdGlvbiB3b3VsZCBub3QgbG9hZCB1bnRpbCBhZnRlciBhIGBtb3VzZW1vdmVgIGV2ZW50IG9uIGBkb2N1bWVudGAgZmlyZXMuXG4gKlxuICogIyMgUmVzb2x2aW5nIGBRUkxgIHJlZmVyZW5jZXNcbiAqXG4gKiBBdCB0aW1lcyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHJlc29sdmUgYSBgUVJMYCByZWZlcmVuY2UgdG8gdGhlIGFjdHVhbCB2YWx1ZS4gVGhpcyBjYW4gYmVcbiAqIHBlcmZvcm1lZCB1c2luZyBgcXJsSW1wb3J0KC4uKWAgZnVuY3Rpb24uXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gQXNzdW1lIHlvdSBoYXZlIFFSTCByZWZlcmVuY2UgdG8gYSBncmVldCBmdW5jdGlvblxuICogY29uc3QgbGF6eUdyZWV0OiBRUkw8KCkgPT4gdm9pZD4gPSAkKCgpID0+IGNvbnNvbGUubG9nKCdIZWxsbyBXb3JsZCEnKSk7XG4gKlxuICogLy8gVXNlIGBxcmxJbXBvcnRgIHRvIGxvYWQgLyByZXNvbHZlIHRoZSByZWZlcmVuY2UuXG4gKiBjb25zdCBncmVldDogKCkgPT4gdm9pZCA9IGF3YWl0IHFybEltcG9ydChlbGVtZW50LCBsYXp5R3JlZXQpO1xuICpcbiAqIC8vICBJbnZva2UgaXRcbiAqIGdyZWV0KCk7XG4gKiBgYGBcbiAqXG4gKiBOT1RFOiBgZWxlbWVudGAgaXMgbmVlZGVkIGJlY2F1c2UgYFFSTGBzIGFyZSByZWxhdGl2ZSBhbmQgbmVlZCBhIGJhc2UgbG9jYXRpb24gdG8gcmVzb2x2ZVxuICogYWdhaW5zdC4gVGhlIGJhc2UgbG9jYXRpb24gaXMgZW5jb2RlZCBpbiB0aGUgSFRNTCBpbiB0aGUgZm9ybSBvZiBgPGRpdiBxOmJhc2U9XCIvdXJsXCI+YC5cbiAqXG4gKiAjIyBRdWVzdGlvbjogV2h5IG5vdCBqdXN0IHVzZSBgaW1wb3J0KClgP1xuICpcbiAqIEF0IGZpcnN0IGdsYW5jZSBgUVJMYCBzZXJ2ZXMgdGhlIHNhbWUgcHVycG9zZSBhcyBgaW1wb3J0KClgLiBIb3dldmVyLCB0aGVyZSBhcmUgdGhyZWUgc3VidGxlXG4gKiBkaWZmZXJlbmNlcyB0aGF0IG5lZWQgdG8gYmUgdGFrZW4gaW50byBhY2NvdW50LlxuICpcbiAqIDEuIGBRUkxgcyBtdXN0IGJlIHNlcmlhbGl6YWJsZSBpbnRvIEhUTUwuXG4gKiAyLiBgUVJMYHMgbXVzdCBiZSByZXNvbHZlZCBieSBmcmFtZXdvcmsgcmVsYXRpdmUgdG8gYHE6YmFzZWAuXG4gKiAzLiBgUVJMYHMgbXVzdCBiZSBhYmxlIHRvIGNhcHR1cmUgbGV4aWNhbGx5IHNjb3BlZCB2YXJpYWJsZXMuXG4gKiA0LiBgUVJMYHMgZW5jYXBzdWxhdGUgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBydW5uaW5nIHdpdGggYW5kIHdpdGhvdXQgUXdpayBPcHRpbWl6ZXIuXG4gKiA1LiBgUVJMYHMgYWxsb3cgZXhwcmVzc2luZyBsYXp5LWxvYWRlZCBib3VuZGFyaWVzIHdpdGhvdXQgdGhpbmtpbmcgYWJvdXQgY2h1bmsgYW5kIHN5bWJvbFxuICogbmFtZXMuXG4gKlxuICogTGV0J3MgYXNzdW1lIHRoYXQgeW91IGludGVuZCB0byB3cml0ZSBjb2RlIHN1Y2ggYXMgdGhpczpcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiAoYXdhaXQgaW1wb3J0KCcuL2NodW5rLWFiYy5qcycpKS5vbkNsaWNrfT5cbiAqIGBgYFxuICpcbiAqIFRoZSBhYm92ZSBjb2RlIG5lZWRzIHRvIGJlIHNlcmlhbGl6ZWQgaW50byBET00gc3VjaCBhczpcbiAqXG4gKiBgYGBcbiAqIDxkaXYgcTpiYXNlPVwiL2J1aWxkL1wiPlxuICogICA8YnV0dG9uIG9uQ2xpY2s9XCIuL2NodW5rLWFiYy5qcyNvbkNsaWNrXCI+Li4uPC9idXR0b24+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIDEuIE5vdGljZSB0aGVyZSBpcyBubyBlYXN5IHdheSB0byBleHRyYWN0IGNodW5rIChgLi9jaHVuay1hYmMuanNgKSBhbmQgc3ltYm9sIChgb25DbGlja2ApIGludG9cbiAqIEhUTUwuXG4gKiAyLiBOb3RpY2UgdGhhdCBldmVuIGlmIHlvdSBjb3VsZCBleHRyYWN0IGl0LCB0aGUgYGltcG9ydCgnLi9jaHVuay1hYmMuanMnKWAgd291bGQgYmVjb21lXG4gKiByZWxhdGl2ZSB0byB3aGVyZSB0aGUgYGltcG9ydCgpYCBmaWxlIGlzIGRlY2xhcmVkLiBCZWNhdXNlIGl0IGlzIG91ciBmcmFtZXdvcmsgZG9pbmcgdGhlIGxvYWQsXG4gKiB0aGUgYC4vY2h1bmstYWJjLmpzYCB3b3VsZCBiZWNvbWUgcmVsYXRpdmUgdG8gdGhlIGZyYW1ld29yayBmaWxlLiBUaGlzIGlzIG5vdCBjb3JyZWN0LCBhcyBpdFxuICogc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBvcmlnaW5hbCBmaWxlIGdlbmVyYXRlZCBieSB0aGUgYnVuZGxlci5cbiAqIDMuIE5leHQgdGhlIGZyYW1ld29yayBuZWVkcyB0byByZXNvbHZlIHRoZSBgLi9jaHVuay1hYmMuanNgIGFuZCBuZWVkcyBhIGJhc2UgbG9jYXRpb24gdGhhdCBpc1xuICogZW5jb2RlZCBpbiB0aGUgSFRNTC5cbiAqIDQuIFRoZSBRUkwgbmVlZHMgdG8gYmUgYWJsZSB0byBjYXB0dXJlIGxleGljYWxseSBzY29wZWQgdmFyaWFibGVzLiAoYGltcG9ydCgpYCBvbmx5IGFsbG93c1xuICogbG9hZGluZyB0b3AtbGV2ZWwgc3ltYm9scyB3aGljaCBkb24ndCBjYXB0dXJlIHZhcmlhYmxlcy4pXG4gKiA1LiBBcyBhIGRldmVsb3BlciB5b3UgZG9uJ3Qgd2FudCB0byB0aGluayBhYm91dCBgaW1wb3J0YCBhbmQgbmFtaW5nIG9mIHRoZSBjaHVua3MgYW5kIHN5bWJvbHMuXG4gKiBZb3UganVzdCB3YW50IHRvIHNheSwgdGhpcyBzaG91bGQgYmUgbGF6eS5cbiAqXG4gKiBUaGVzZSBhcmUgdGhlIG1haW4gcmVhc29ucyB3aHkgUXdpayBpbnRyb2R1Y2VzIGl0cyBvd24gY29uY2VwdCBvZiBgUVJMYC5cbiAqXG4gKiBTZWU6IGAkYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBRUkw8VFlQRSA9IGFueT4ge1xuICBfX2JyYW5kX19RUkxfXzogVFlQRTtcbiAgcmVzb2x2ZShjb250YWluZXI/OiBFbGVtZW50KTogUHJvbWlzZTxUWVBFPjtcbiAgaW52b2tlKFxuICAgIC4uLmFyZ3M6IFRZUEUgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgQVJHUykgPT4gYW55ID8gQVJHUyA6IG5ldmVyXG4gICk6IFRZUEUgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGluZmVyIFJFVFVSTiA/IFZhbHVlT3JQcm9taXNlPFJFVFVSTj4gOiBuZXZlcjtcblxuICBpbnZva2VGbihcbiAgICBlbD86IEVsZW1lbnQsXG4gICAgY29udGV4dD86IEludm9rZUNvbnRleHRcbiAgKTogVFlQRSBleHRlbmRzICguLi5hcmdzOiBpbmZlciBBUkdTKSA9PiBpbmZlciBSRVRVUk5cbiAgICA/ICguLi5hcmdzOiBBUkdTKSA9PiBWYWx1ZU9yUHJvbWlzZTxSRVRVUk4+XG4gICAgOiBuZXZlcjtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlcjxUPiA9IFFSTDwodmFsdWU6IFQpID0+IGFueT47XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vbTVEekNpNU1UYTI2THVVajV0M0hwUSMkXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgaHR0cHM6Ly9oYWNrbWQuaW8vQHF3aWstZG9jcy9Ca3hwU3o4MFkvJTJGbTVEekNpNU1UYTI2THVVajV0M0hwUSUzRmJvdGgjJCBpbnN0ZWFkKVxuLyoqXG4gKiBRd2lrIE9wdGltaXplciBtYXJrZXIgZnVuY3Rpb24uXG4gKlxuICogVXNlIGAkKC4uLilgIHRvIHRlbGwgUXdpayBPcHRpbWl6ZXIgdG8gZXh0cmFjdCB0aGUgZXhwcmVzc2lvbiBpbiBgJCguLi4pYCBpbnRvIGEgbGF6eS1sb2FkYWJsZVxuICogcmVzb3VyY2UgcmVmZXJlbmNlZCBieSBgUVJMYC5cbiAqXG4gKiBTZWU6IGBpbXBsaWNpdCRGaXJzdEFyZ2AgZm9yIGFkZGl0aW9uYWwgYF9fX18kKC4uLilgIHJ1bGVzLlxuICpcbiAqIEluIHRoaXMgZXhhbXBsZSBgJCguLi4pYCBpcyB1c2VkIHRvIGNhcHR1cmUgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIG9mIGBvbm1vdXNlbW92ZWAgaW50b1xuICogbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UuIFRoaXMgYWxsb3dzIHRoZSBjb2RlIHRvIHJlZmVyIHRvIHRoZSBmdW5jdGlvbiB3aXRob3V0IGFjdHVhbGx5XG4gKiBsb2FkaW5nIHRoZSBmdW5jdGlvbi4gSW4gdGhpcyBleGFtcGxlLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZG9lcyBub3QgZ2V0IGxvYWRlZCB1bnRpbFxuICogYG1vdXNlbW92ZWAgZXZlbnQgZmlyZXMuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogb25Eb2N1bWVudChcbiAqICAgJ21vdXNlbW92ZScsXG4gKiAgICQoKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpKVxuICogKTtcbiAqIGBgYFxuICpcbiAqIEluIHRoaXMgY29kZSB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBpbnRvOlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiBvbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBxcmwoJy4vY2h1bmstYWJjLmpzJywgJ29uTW91c2Vtb3ZlJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IG9uTW91c2Vtb3ZlID0gKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpO1xuICogYGBgXG4gKlxuICogIyMgU3BlY2lhbCBSdWxlc1xuICpcbiAqIFRoZSBRd2lrIE9wdGltaXplciBwbGFjZXMgc3BlY2lhbCBydWxlcyBvbiBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgbGF6eS1sb2FkZWQuXG4gKlxuICogMS4gVGhlIGV4cHJlc3Npb24gb2YgdGhlIGAkKGV4cHJlc3Npb24pYCBmdW5jdGlvbiBtdXN0IGJlIGltcG9ydGFibGUgYnkgdGhlIHN5c3RlbS5cbiAqIChleHByZXNzaW9uIHNob3dzIHVwIGluIGBpbXBvcnRgIG9yIGhhcyBgZXhwb3J0YClcbiAqIDIuIElmIGlubGluZWQgZnVuY3Rpb24gdGhlbiBhbGwgbGV4aWNhbGx5IGNhcHR1cmVkIHZhbHVlcyBtdXN0IGJlOlxuICogICAgLSBpbXBvcnRhYmxlICh2YXJzIHNob3dzIHVwIGluIGBpbXBvcnRgIG9yIGhhcyBgZXhwb3J0YClcbiAqICAgIC0gY29uc3QgKFRoZSBjYXB0dXJpbmcgcHJvY2VzcyBkaWZmZXJzIGZyb20gSlMgY2FwdHVyaW5nIGluIHRoYXQgd3JpdGluZyB0byBjYXB0dXJlZFxuICogdmFyaWFibGVzIGRvZXMgbm90IHVwZGF0ZSB0aGVtLCBhbmQgdGhlcmVmb3JlIHdyaXRlcyBhcmUgZm9yYmlkZGVuLiBUaGUgYmVzdCBwcmFjdGljZSBpcyB0aGF0XG4gKiBhbGwgY2FwdHVyZWQgdmFyaWFibGVzIGFyZSBjb25zdGFudHMuKVxuICogICAgLSBNdXN0IGJlIHJ1bnRpbWUgc2VyaWFsaXphYmxlLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGltcG9ydCB7IGltcG9ydGVkRm4gfSBmcm9tICcuL2V4YW1wbGUnO1xuICpcbiAqIGV4cG9ydCBjb25zdCBncmVldCA9ICgpID0+IGNvbnNvbGUubG9nKCdncmVldCcpO1xuICogZnVuY3Rpb24gdG9wTGV2ZWxGbigpIHt9XG4gKlxuICogZnVuY3Rpb24gbXlDb2RlKCkge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHt9KTtcbiAqICAgZnVuY3Rpb24gbG9jYWxGbigpIHt9XG4gKiAgIC8vIFZhbGlkIEV4YW1wbGVzXG4gKiAgICQoZ3JlZXQpOyAvLyBncmVldCBpcyBpbXBvcnRhYmxlXG4gKiAgICQoaW1wb3J0ZWRGbik7IC8vIGltcG9ydGVkRm4gaXMgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IGdyZWV0KCkpOyAvLyBncmVldCBpcyBpbXBvcnRhYmxlO1xuICogICAkKCgpID0+IGltcG9ydGVkRm4oKSk7IC8vIGltcG9ydGVkRm4gaXMgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IGNvbnNvbGUubG9nKHN0b3JlKSk7IC8vIHN0b3JlIGlzIHNlcmlhbGl6YWJsZS5cbiAqXG4gKiAgIC8vIENvbXBpbGUgdGltZSBlcnJvcnNcbiAqICAgJCh0b3BMZXZlbEZuKTsgLy8gRVJST1I6IGB0b3BMZXZlbEZuYCBub3QgaW1wb3J0YWJsZVxuICogICAkKCgpID0+IHRvcExldmVsRm4oKSk7IC8vIEVSUk9SOiBgdG9wTGV2ZWxGbmAgbm90IGltcG9ydGFibGVcbiAqXG4gKiAgIC8vIFJ1bnRpbWUgZXJyb3JzXG4gKiAgICQobG9jYWxGbik7IC8vIEVSUk9SOiBgbG9jYWxGbmAgZmFpbHMgc2VyaWFsaXphdGlvblxuICogICAkKCgpID0+IGxvY2FsRm4oKSk7IC8vIEVSUk9SOiBgbG9jYWxGbmAgZmFpbHMgc2VyaWFsaXphdGlvblxuICogfVxuICpcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBleHByZXNzaW9uIC0gRXhwcmVzc2lvbiB3aGljaCBzaG91bGQgYmUgbGF6eSBsb2FkZWRcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uICQ8VD4oZXhwcmVzc2lvbjogVCk6IFFSTDxUPiB7XG4gIHJldHVybiBydW50aW1lUXJsKGV4cHJlc3Npb24pO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cImh0dHBzOi8vaGFja21kLmlvL201RHpDaTVNVGEyNkx1VWo1dDNIcFEjaW1wbGljaXQkRmlyc3RBcmdcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCBodHRwczovL2hhY2ttZC5pby9AcXdpay1kb2NzL0JreHBTejgwWS8lMkZtNUR6Q2k1TVRhMjZMdVVqNXQzSHBRJTNGYm90aCNpbXBsaWNpdCRGaXJzdEFyZyBpbnN0ZWFkKVxuLyoqXG4gKiBDcmVhdGUgYSBgX19fXyQoLi4uKWAgY29udmVuaWVuY2UgbWV0aG9kIGZyb20gYF9fXyguLi4pYC5cbiAqXG4gKiBJdCBpcyB2ZXJ5IGNvbW1vbiBmb3IgZnVuY3Rpb25zIHRvIHRha2UgYSBsYXp5LWxvYWRhYmxlIHJlc291cmNlIGFzIGEgZmlyc3QgYXJndW1lbnQuIEZvciB0aGlzXG4gKiByZWFzb24sIHRoZSBRd2lrIE9wdGltaXplciBhdXRvbWF0aWNhbGx5IGV4dHJhY3RzIHRoZSBmaXJzdCBhcmd1bWVudCBmcm9tIGFueSBmdW5jdGlvbiB3aGljaFxuICogZW5kcyBpbiBgJGAuXG4gKlxuICogVGhpcyBtZWFucyB0aGF0IGBmb28kKGFyZzApYCBhbmQgYGZvbygkKGFyZzApKWAgYXJlIGVxdWl2YWxlbnQgd2l0aCByZXNwZWN0IHRvIFF3aWsgT3B0aW1pemVyLlxuICogVGhlIGZvcm1lciBpcyBqdXN0IGEgc2hvcnRoYW5kIGZvciB0aGUgbGF0dGVyLlxuICpcbiAqIEZvciBleGFtcGxlIHRoZXNlIGZ1bmN0aW9uIGNhbGwgYXJlIGVxdWl2YWxlbnQ6XG4gKlxuICogLSBgY29tcG9uZW50JCgoKSA9PiB7Li4ufSlgIGlzIHNhbWUgYXMgYG9uUmVuZGVyKCQoKCkgPT4gey4uLn0pKWBcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBvcnQgZnVuY3Rpb24gbXlBcGkoY2FsbGJhY2s6IFFSTDwoKSA9PiB2b2lkPik6IHZvaWQge1xuICogICAvLyAuLi5cbiAqIH1cbiAqXG4gKiBleHBvcnQgY29uc3QgbXlBcGkkID0gaW1wbGljaXQkRmlyc3RBcmcobXlBcGkpO1xuICogLy8gdHlwZSBvZiBteUFwaSQ6IChjYWxsYmFjazogKCkgPT4gdm9pZCk6IHZvaWRcbiAqXG4gKiAvLyBjYW4gYmUgdXNlZCBhczpcbiAqIG15QXBpJCgoKSA9PiBjb25zb2xlLmxvZygnY2FsbGJhY2snKSk7XG4gKlxuICogLy8gd2lsbCBiZSB0cmFuc3BpbGVkIHRvOlxuICogLy8gRklMRTogPGN1cnJlbnQgZmlsZT5cbiAqIG15QXBpKHFybCgnLi9jaHVuay1hYmMuanMnLCAnY2FsbGJhY2snKSk7XG4gKlxuICogLy8gRklMRTogY2h1bmstYWJjLmpzXG4gKiBleHBvcnQgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiBjb25zb2xlLmxvZygnY2FsbGJhY2snKTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBmbiAtIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGhhdmUgaXRzIGZpcnN0IGFyZ3VtZW50IGF1dG9tYXRpY2FsbHkgYCRgLlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gaW1wbGljaXQkRmlyc3RBcmc8RklSU1QsIFJFU1QgZXh0ZW5kcyBhbnlbXSwgUkVUPihcbiAgZm46IChmaXJzdDogUVJMPEZJUlNUPiwgLi4ucmVzdDogUkVTVCkgPT4gUkVUXG4pOiAoZmlyc3Q6IEZJUlNULCAuLi5yZXN0OiBSRVNUKSA9PiBSRVQge1xuICByZXR1cm4gZnVuY3Rpb24gKGZpcnN0OiBGSVJTVCwgLi4ucmVzdDogUkVTVCk6IFJFVCB7XG4gICAgcmV0dXJuIGZuLmNhbGwobnVsbCwgJChmaXJzdCksIC4uLnJlc3QpO1xuICB9O1xufVxuIl19","import { Host } from '../render/jsx/host.public';\nimport { getContext } from '../props/props';\nimport { smartUpdateChildren, updateProperties } from './cursor';\nexport function visitJsxNode(ctx, elm, jsxNode, isSvg) {\n    if (jsxNode === undefined) {\n        return smartUpdateChildren(ctx, elm, [], 'root', isSvg);\n    }\n    if (Array.isArray(jsxNode)) {\n        return smartUpdateChildren(ctx, elm, jsxNode.flat(), 'root', isSvg);\n    }\n    else if (jsxNode.type === Host) {\n        updateProperties(ctx, getContext(elm), jsxNode.props, isSvg);\n        return smartUpdateChildren(ctx, elm, jsxNode.children || [], 'root', isSvg);\n    }\n    else {\n        return smartUpdateChildren(ctx, elm, [jsxNode], 'root', isSvg);\n    }\n}\nexport function whileResolvingRender(...args) {\n    throw new Error('Function not implemented.' + args);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS9yZW5kZXIvcmVuZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFNUMsT0FBTyxFQUFpQixtQkFBbUIsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUloRixNQUFNLFVBQVUsWUFBWSxDQUMxQixHQUFrQixFQUNsQixHQUFZLEVBQ1osT0FBd0MsRUFDeEMsS0FBYztJQUVkLElBQUksT0FBTyxLQUFLLFNBQVMsRUFBRTtRQUN6QixPQUFPLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUN6RDtJQUNELElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtRQUMxQixPQUFPLG1CQUFtQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLElBQUksRUFBRSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNyRTtTQUFNLElBQUksT0FBTyxDQUFDLElBQUksS0FBSyxJQUFJLEVBQUU7UUFDaEMsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzdELE9BQU8sbUJBQW1CLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxPQUFPLENBQUMsUUFBUSxJQUFJLEVBQUUsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FDN0U7U0FBTTtRQUNMLE9BQU8sbUJBQW1CLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNoRTtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsb0JBQW9CLENBQ2xDLEdBQUcsSUFBdUQ7SUFFMUQsTUFBTSxJQUFJLEtBQUssQ0FBQywyQkFBMkIsR0FBRyxJQUFJLENBQUMsQ0FBQztBQUN0RCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSG9zdCB9IGZyb20gJy4uL3JlbmRlci9qc3gvaG9zdC5wdWJsaWMnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IFJlbmRlckNvbnRleHQsIHNtYXJ0VXBkYXRlQ2hpbGRyZW4sIHVwZGF0ZVByb3BlcnRpZXMgfSBmcm9tICcuL2N1cnNvcic7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGUgfSBmcm9tICcuL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5leHBvcnQgdHlwZSBDb21wb25lbnRSZW5kZXJRdWV1ZSA9IFByb21pc2U8SFRNTEVsZW1lbnRbXT5bXTtcblxuZXhwb3J0IGZ1bmN0aW9uIHZpc2l0SnN4Tm9kZShcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBlbG06IEVsZW1lbnQsXG4gIGpzeE5vZGU6IEpTWE5vZGUgfCBKU1hOb2RlW10gfCB1bmRlZmluZWQsXG4gIGlzU3ZnOiBib29sZWFuXG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChqc3hOb2RlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihjdHgsIGVsbSwgW10sICdyb290JywgaXNTdmcpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGpzeE5vZGUpKSB7XG4gICAgcmV0dXJuIHNtYXJ0VXBkYXRlQ2hpbGRyZW4oY3R4LCBlbG0sIGpzeE5vZGUuZmxhdCgpLCAncm9vdCcsIGlzU3ZnKTtcbiAgfSBlbHNlIGlmIChqc3hOb2RlLnR5cGUgPT09IEhvc3QpIHtcbiAgICB1cGRhdGVQcm9wZXJ0aWVzKGN0eCwgZ2V0Q29udGV4dChlbG0pLCBqc3hOb2RlLnByb3BzLCBpc1N2Zyk7XG4gICAgcmV0dXJuIHNtYXJ0VXBkYXRlQ2hpbGRyZW4oY3R4LCBlbG0sIGpzeE5vZGUuY2hpbGRyZW4gfHwgW10sICdyb290JywgaXNTdmcpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzbWFydFVwZGF0ZUNoaWxkcmVuKGN0eCwgZWxtLCBbanN4Tm9kZV0sICdyb290JywgaXNTdmcpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3aGlsZVJlc29sdmluZ1JlbmRlcjxBUkdTIGV4dGVuZHMgYW55W10sIFJFVD4oXG4gIC4uLmFyZ3M6IFsuLi5BUkdTLCAoLi4uYXJnczogUmVzb2x2ZWRWYWx1ZXM8QVJHUz4pID0+IFJFVF1cbik6IFJFVCB7XG4gIHRocm93IG5ldyBFcnJvcignRnVuY3Rpb24gbm90IGltcGxlbWVudGVkLicgKyBhcmdzKTtcbn1cblxuZXhwb3J0IHR5cGUgUmVzb2x2ZWRWYWx1ZXM8QVJHUyBleHRlbmRzIGFueVtdPiA9IHtcbiAgW0sgaW4ga2V5b2YgQVJHU106IEFSR1NbS10gZXh0ZW5kcyBWYWx1ZU9yUHJvbWlzZTxpbmZlciBVPiA/IFUgOiBBUkdTW0tdO1xufTtcbiJdfQ==","export function hashCode(text, hash = 0) {\n    if (text.length === 0)\n        return hash;\n    for (let i = 0; i < text.length; i++) {\n        const chr = text.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return Number(Math.abs(hash)).toString(36);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzaF9jb2RlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS91dGlsL2hhc2hfY29kZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFVBQVUsUUFBUSxDQUFDLElBQVksRUFBRSxPQUFlLENBQUM7SUFDckQsSUFBSSxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUM7UUFBRSxPQUFPLElBQUksQ0FBQztJQUNuQyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNwQyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQy9CLElBQUksR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDO1FBQ2hDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQywyQkFBMkI7S0FDdkM7SUFDRCxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQzdDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaGFzaENvZGUodGV4dDogc3RyaW5nLCBoYXNoOiBudW1iZXIgPSAwKSB7XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGhhc2g7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNociA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hyO1xuICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gIH1cbiAgcmV0dXJuIE51bWJlcihNYXRoLmFicyhoYXNoKSkudG9TdHJpbmcoMzYpO1xufVxuIl19","import { ComponentStylesPrefixContent, ComponentStylesPrefixHost } from '../util/markers';\nimport { hashCode } from '../util/hash_code';\nexport function styleKey(qStyles) {\n    return qStyles && String(hashCode(qStyles.symbol));\n}\nexport function styleHost(styleId) {\n    return styleId && ComponentStylesPrefixHost + styleId;\n}\nexport function styleContent(styleId) {\n    return styleId && ComponentStylesPrefixContent + styleId;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvY29tcG9uZW50L3FybC1zdHlsZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLDRCQUE0QixFQUFFLHlCQUF5QixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDMUYsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBTzdDLE1BQU0sVUFBVSxRQUFRLENBQUMsT0FBbUM7SUFDMUQsT0FBTyxPQUFPLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDO0FBT0QsTUFBTSxVQUFVLFNBQVMsQ0FBQyxPQUEyQjtJQUNuRCxPQUFPLE9BQU8sSUFBSSx5QkFBeUIsR0FBRyxPQUFPLENBQUM7QUFDeEQsQ0FBQztBQU9ELE1BQU0sVUFBVSxZQUFZLENBQUMsT0FBMkI7SUFDdEQsT0FBTyxPQUFPLElBQUksNEJBQTRCLEdBQUcsT0FBTyxDQUFDO0FBQzNELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFFSTEludGVybmFsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQgeyBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50LCBDb21wb25lbnRTdHlsZXNQcmVmaXhIb3N0IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGhhc2hDb2RlIH0gZnJvbSAnLi4vdXRpbC9oYXNoX2NvZGUnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlS2V5KHFTdHlsZXM6IFFSTEludGVybmFsPHN0cmluZz4pOiBzdHJpbmc7XG5leHBvcnQgZnVuY3Rpb24gc3R5bGVLZXkocVN0eWxlczogUVJMSW50ZXJuYWw8c3RyaW5nPiB8IG51bGwpOiBzdHJpbmcgfCBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlS2V5KHFTdHlsZXM6IFFSTEludGVybmFsPHN0cmluZz4gfCBudWxsKTogc3RyaW5nIHwgbnVsbCB7XG4gIHJldHVybiBxU3R5bGVzICYmIFN0cmluZyhoYXNoQ29kZShxU3R5bGVzLnN5bWJvbCkpO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlSG9zdChzdHlsZUlkOiBzdHJpbmcpOiBzdHJpbmc7XG5leHBvcnQgZnVuY3Rpb24gc3R5bGVIb3N0KHN0eWxlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUhvc3Qoc3R5bGVJZDogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgcmV0dXJuIHN0eWxlSWQgJiYgQ29tcG9uZW50U3R5bGVzUHJlZml4SG9zdCArIHN0eWxlSWQ7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gc3R5bGVDb250ZW50KHN0eWxlSWQ6IHN0cmluZyk6IHN0cmluZztcbmV4cG9ydCBmdW5jdGlvbiBzdHlsZUNvbnRlbnQoc3R5bGVJZDogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuZXhwb3J0IGZ1bmN0aW9uIHN0eWxlQ29udGVudChzdHlsZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICByZXR1cm4gc3R5bGVJZCAmJiBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50ICsgc3R5bGVJZDtcbn1cbiJdfQ==","import { qDev } from '../../util/qdev';\nimport { Host, SkipRerender } from './host.public';\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { logWarn } from '../../util/log';\n/**\n * @public\n */\nexport function jsx(type, props, key) {\n    return new JSXNodeImpl(type, props, key);\n}\nexport class JSXNodeImpl {\n    constructor(type, props, key = null) {\n        this.type = type;\n        this.props = props;\n        this.children = EMPTY_ARRAY;\n        this.text = undefined;\n        this.key = null;\n        if (key != null) {\n            this.key = String(key);\n        }\n        if (props) {\n            const children = processNode(props.children);\n            if (children !== undefined) {\n                if (Array.isArray(children)) {\n                    this.children = children;\n                }\n                else {\n                    this.children = [children];\n                }\n            }\n        }\n    }\n}\nexport function processNode(node) {\n    if (node == null || typeof node === 'boolean') {\n        return undefined;\n    }\n    if (isJSXNode(node)) {\n        if (node.type === Host || node.type === SkipRerender) {\n            return node;\n        }\n        else if (typeof node.type === 'function') {\n            return processNode(node.type({ ...node.props, children: node.children }, node.key));\n        }\n        else {\n            return node;\n        }\n    }\n    else if (Array.isArray(node)) {\n        return node.flatMap(processNode).filter((e) => e != null);\n    }\n    else if (typeof node === 'string' || typeof node === 'number' || typeof node === 'boolean') {\n        const newNode = new JSXNodeImpl('#text', null, null);\n        newNode.text = String(node);\n        return newNode;\n    }\n    else {\n        logWarn('Unvalid node, skipping');\n        return undefined;\n    }\n}\nexport const isJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof JSXNodeImpl) {\n            return true;\n        }\n        if (n && typeof n === 'object' && n.constructor.name === JSXNodeImpl.name) {\n            throw new Error(`Duplicate implementations of \"JSXNodeImpl\" found`);\n        }\n        return false;\n    }\n    else {\n        return n instanceof JSXNodeImpl;\n    }\n};\n/**\n * @public\n */\nexport const Fragment = (props) => props.children;\nexport { jsx as jsxs, jsx as jsxDEV };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LXJ1bnRpbWUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3JlbmRlci9qc3gvanN4LXJ1bnRpbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFekM7O0dBRUc7QUFDSCxNQUFNLFVBQVUsR0FBRyxDQUNqQixJQUFPLEVBQ1AsS0FBWSxFQUNaLEdBQXFCO0lBRXJCLE9BQU8sSUFBSSxXQUFXLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQVEsQ0FBQztBQUNsRCxDQUFDO0FBRUQsTUFBTSxPQUFPLFdBQVc7SUFLdEIsWUFDUyxJQUFPLEVBQ1AsS0FBaUMsRUFDeEMsTUFBOEIsSUFBSTtRQUYzQixTQUFJLEdBQUosSUFBSSxDQUFHO1FBQ1AsVUFBSyxHQUFMLEtBQUssQ0FBNEI7UUFOMUMsYUFBUSxHQUFjLFdBQVcsQ0FBQztRQUNsQyxTQUFJLEdBQXdCLFNBQVMsQ0FBQztRQUN0QyxRQUFHLEdBQWtCLElBQUksQ0FBQztRQU94QixJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7WUFDZixJQUFJLENBQUMsR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN4QjtRQUNELElBQUksS0FBSyxFQUFFO1lBQ1QsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUM3QyxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUU7Z0JBQzFCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRTtvQkFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7aUJBQzFCO3FCQUFNO29CQUNMLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztpQkFDNUI7YUFDRjtTQUNGO0lBQ0gsQ0FBQztDQUNGO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FBQyxJQUFTO0lBQ25DLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxPQUFPLElBQUksS0FBSyxTQUFTLEVBQUU7UUFDN0MsT0FBTyxTQUFTLENBQUM7S0FDbEI7SUFDRCxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNuQixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssWUFBWSxFQUFFO1lBQ3BELE9BQU8sSUFBSSxDQUFDO1NBQ2I7YUFBTSxJQUFJLE9BQU8sSUFBSSxDQUFDLElBQUksS0FBSyxVQUFVLEVBQUU7WUFDMUMsT0FBTyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBRSxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1NBQ3JGO2FBQU07WUFDTCxPQUFPLElBQUksQ0FBQztTQUNiO0tBQ0Y7U0FBTSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDOUIsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBYyxDQUFDO0tBQ3hFO1NBQU0sSUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLElBQUksT0FBTyxJQUFJLEtBQUssUUFBUSxJQUFJLE9BQU8sSUFBSSxLQUFLLFNBQVMsRUFBRTtRQUM1RixNQUFNLE9BQU8sR0FBRyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBQ3JELE9BQU8sQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzVCLE9BQU8sT0FBTyxDQUFDO0tBQ2hCO1NBQU07UUFDTCxPQUFPLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUNsQyxPQUFPLFNBQVMsQ0FBQztLQUNsQjtBQUNILENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxDQUFNLEVBQXlCLEVBQUU7SUFDekQsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLENBQUMsWUFBWSxXQUFXLEVBQUU7WUFDNUIsT0FBTyxJQUFJLENBQUM7U0FDYjtRQUNELElBQUksQ0FBQyxJQUFJLE9BQU8sQ0FBQyxLQUFLLFFBQVEsSUFBSSxDQUFDLENBQUMsV0FBVyxDQUFDLElBQUksS0FBSyxXQUFXLENBQUMsSUFBSSxFQUFFO1lBQ3pFLE1BQU0sSUFBSSxLQUFLLENBQUMsa0RBQWtELENBQUMsQ0FBQztTQUNyRTtRQUNELE9BQU8sS0FBSyxDQUFDO0tBQ2Q7U0FBTTtRQUNMLE9BQU8sQ0FBQyxZQUFZLFdBQVcsQ0FBQztLQUNqQztBQUNILENBQUMsQ0FBQztBQUVGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUEwQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQWUsQ0FBQztBQUloRyxPQUFPLEVBQUUsR0FBRyxJQUFJLElBQUksRUFBRSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hOb2RlIH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgdHlwZSB7IFF3aWtKU1ggfSBmcm9tICcuL3R5cGVzL2pzeC1xd2lrJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi8uLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgSG9zdCwgU2tpcFJlcmVuZGVyIH0gZnJvbSAnLi9ob3N0LnB1YmxpYyc7XG5pbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uLy4uL3V0aWwvZmx5d2VpZ2h0JztcbmltcG9ydCB7IGxvZ1dhcm4gfSBmcm9tICcuLi8uLi91dGlsL2xvZyc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgZnVuY3Rpb24ganN4PFQgZXh0ZW5kcyBzdHJpbmcgfCBGdW5jdGlvbkNvbXBvbmVudDxQUk9QUz4sIFBST1BTPihcbiAgdHlwZTogVCxcbiAgcHJvcHM6IFBST1BTLFxuICBrZXk/OiBzdHJpbmcgfCBudW1iZXJcbik6IEpTWE5vZGU8VD4ge1xuICByZXR1cm4gbmV3IEpTWE5vZGVJbXBsKHR5cGUsIHByb3BzLCBrZXkpIGFzIGFueTtcbn1cblxuZXhwb3J0IGNsYXNzIEpTWE5vZGVJbXBsPFQ+IGltcGxlbWVudHMgSlNYTm9kZTxUPiB7XG4gIGNoaWxkcmVuOiBKU1hOb2RlW10gPSBFTVBUWV9BUlJBWTtcbiAgdGV4dD86IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAga2V5OiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdHlwZTogVCxcbiAgICBwdWJsaWMgcHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsLFxuICAgIGtleTogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCA9IG51bGxcbiAgKSB7XG4gICAgaWYgKGtleSAhPSBudWxsKSB7XG4gICAgICB0aGlzLmtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cbiAgICBpZiAocHJvcHMpIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gcHJvY2Vzc05vZGUocHJvcHMuY2hpbGRyZW4pO1xuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbY2hpbGRyZW5dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwcm9jZXNzTm9kZShub2RlOiBhbnkpOiBKU1hOb2RlW10gfCBKU1hOb2RlIHwgdW5kZWZpbmVkIHtcbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCB0eXBlb2Ygbm9kZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICBpZiAoaXNKU1hOb2RlKG5vZGUpKSB7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gSG9zdCB8fCBub2RlLnR5cGUgPT09IFNraXBSZXJlbmRlcikge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZS50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gcHJvY2Vzc05vZGUobm9kZS50eXBlKHsgLi4ubm9kZS5wcm9wcywgY2hpbGRyZW46IG5vZGUuY2hpbGRyZW4gfSwgbm9kZS5rZXkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZS5mbGF0TWFwKHByb2Nlc3NOb2RlKS5maWx0ZXIoKGUpID0+IGUgIT0gbnVsbCkgYXMgSlNYTm9kZVtdO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBub2RlID09PSAnc3RyaW5nJyB8fCB0eXBlb2Ygbm9kZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIG5vZGUgPT09ICdib29sZWFuJykge1xuICAgIGNvbnN0IG5ld05vZGUgPSBuZXcgSlNYTm9kZUltcGwoJyN0ZXh0JywgbnVsbCwgbnVsbCk7XG4gICAgbmV3Tm9kZS50ZXh0ID0gU3RyaW5nKG5vZGUpO1xuICAgIHJldHVybiBuZXdOb2RlO1xuICB9IGVsc2Uge1xuICAgIGxvZ1dhcm4oJ1VudmFsaWQgbm9kZSwgc2tpcHBpbmcnKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBpc0pTWE5vZGUgPSAobjogYW55KTogbiBpcyBKU1hOb2RlPHVua25vd24+ID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAobiBpbnN0YW5jZW9mIEpTWE5vZGVJbXBsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKG4gJiYgdHlwZW9mIG4gPT09ICdvYmplY3QnICYmIG4uY29uc3RydWN0b3IubmFtZSA9PT0gSlNYTm9kZUltcGwubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgaW1wbGVtZW50YXRpb25zIG9mIFwiSlNYTm9kZUltcGxcIiBmb3VuZGApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG4gaW5zdGFuY2VvZiBKU1hOb2RlSW1wbDtcbiAgfVxufTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBGcmFnbWVudDogRnVuY3Rpb25Db21wb25lbnQ8eyBjaGlsZHJlbj86IGFueSB9PiA9IChwcm9wcykgPT4gcHJvcHMuY2hpbGRyZW4gYXMgYW55O1xuXG5leHBvcnQgdHlwZSB7IFF3aWtKU1ggYXMgSlNYIH07XG5cbmV4cG9ydCB7IGpzeCBhcyBqc3hzLCBqc3ggYXMganN4REVWIH07XG4iXX0=","import { assertDefined } from '../assert/assert';\nimport { appendStyle } from '../render/cursor';\nimport { visitJsxNode } from '../render/render';\nimport { ComponentScopedStyles, QHostAttr, RenderEvent } from '../util/markers';\nimport { promiseAll, then } from '../util/promises';\nimport { styleContent, styleHost } from './qrl-styles';\nimport { isStyleTask, newInvokeContext } from '../use/use-core';\nimport { getProps } from '../props/props';\nimport { processNode } from '../render/jsx/jsx-runtime';\nimport { wrapSubscriber } from '../use/use-subscriber';\nimport { logDebug } from '../util/log';\nimport { removeSub } from '../object/q-object';\nexport const firstRenderComponent = (rctx, ctx) => {\n    ctx.element.setAttribute(QHostAttr, '');\n    return renderComponent(rctx, ctx);\n};\nexport const renderComponent = (rctx, ctx) => {\n    const hostElement = ctx.element;\n    const onRenderQRL = ctx.renderQrl;\n    assertDefined(onRenderQRL);\n    // Component is not dirty any more\n    ctx.dirty = false;\n    rctx.globalState.hostsStaging.delete(hostElement);\n    // Invoke render hook\n    const invocatinContext = newInvokeContext(rctx.doc, hostElement, hostElement, RenderEvent);\n    invocatinContext.subscriber = hostElement;\n    const waitOn = (invocatinContext.waitOn = []);\n    // Clean current subscription before render\n    ctx.refMap.array.forEach((obj) => {\n        removeSub(obj, hostElement);\n    });\n    const onRenderFn = onRenderQRL.invokeFn(rctx.containerEl, invocatinContext);\n    // Execution of the render function\n    const renderPromise = onRenderFn(wrapSubscriber(getProps(ctx), hostElement));\n    // Wait for results\n    return then(renderPromise, (jsxNode) => {\n        rctx.hostElements.add(hostElement);\n        const waitOnPromise = promiseAll(waitOn);\n        return then(waitOnPromise, (waitOnResolved) => {\n            waitOnResolved.forEach((task) => {\n                if (isStyleTask(task)) {\n                    appendStyle(rctx, hostElement, task);\n                }\n            });\n            if (ctx.dirty) {\n                logDebug('Dropping render. State changed during render.');\n                return renderComponent(rctx, ctx);\n            }\n            let componentCtx = ctx.component;\n            if (!componentCtx) {\n                componentCtx = ctx.component = {\n                    hostElement,\n                    slots: [],\n                    styleHostClass: undefined,\n                    styleClass: undefined,\n                    styleId: undefined,\n                };\n                const scopedStyleId = hostElement.getAttribute(ComponentScopedStyles) ?? undefined;\n                if (scopedStyleId) {\n                    componentCtx.styleId = scopedStyleId;\n                    componentCtx.styleHostClass = styleHost(scopedStyleId);\n                    componentCtx.styleClass = styleContent(scopedStyleId);\n                    hostElement.classList.add(componentCtx.styleHostClass);\n                }\n            }\n            componentCtx.slots = [];\n            const newCtx = {\n                ...rctx,\n                component: componentCtx,\n            };\n            return visitJsxNode(newCtx, hostElement, processNode(jsxNode), false);\n        });\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LWN0eC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvY29tcG9uZW50L2NvbXBvbmVudC1jdHgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxXQUFXLEVBQWlCLE1BQU0sa0JBQWtCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUN2RCxPQUFPLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDaEUsT0FBTyxFQUFFLFFBQVEsRUFBWSxNQUFNLGdCQUFnQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUN4RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdkQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUV2QyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFL0MsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxJQUFtQixFQUFFLEdBQWEsRUFBd0IsRUFBRTtJQUMvRixHQUFHLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEMsT0FBTyxlQUFlLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3BDLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLElBQW1CLEVBQUUsR0FBYSxFQUF3QixFQUFFO0lBQzFGLE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQyxPQUFzQixDQUFDO0lBQy9DLE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQyxTQUFVLENBQUM7SUFDbkMsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBRTNCLGtDQUFrQztJQUNsQyxHQUFHLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUNsQixJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUM7SUFFbEQscUJBQXFCO0lBQ3JCLE1BQU0sZ0JBQWdCLEdBQUcsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQzNGLGdCQUFnQixDQUFDLFVBQVUsR0FBRyxXQUFXLENBQUM7SUFDMUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLEdBQUcsRUFBVyxDQUFDLENBQUM7SUFFdkQsMkNBQTJDO0lBQzNDLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFO1FBQy9CLFNBQVMsQ0FBQyxHQUFHLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFDOUIsQ0FBQyxDQUFDLENBQUM7SUFDSCxNQUFNLFVBQVUsR0FBRyxXQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsZ0JBQWdCLENBQUMsQ0FBQztJQUU1RSxtQ0FBbUM7SUFDbkMsTUFBTSxhQUFhLEdBQUcsVUFBVSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQztJQUU3RSxtQkFBbUI7SUFDbkIsT0FBTyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUMsT0FBTyxFQUFFLEVBQUU7UUFDckMsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFbkMsTUFBTSxhQUFhLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3pDLE9BQU8sSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDLGNBQWMsRUFBRSxFQUFFO1lBQzVDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTtnQkFDOUIsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUU7b0JBQ3JCLFdBQVcsQ0FBQyxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDO2lCQUN0QztZQUNILENBQUMsQ0FBQyxDQUFDO1lBQ0gsSUFBSSxHQUFHLENBQUMsS0FBSyxFQUFFO2dCQUNiLFFBQVEsQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO2dCQUMxRCxPQUFPLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLENBQUM7YUFDbkM7WUFDRCxJQUFJLFlBQVksR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDO1lBQ2pDLElBQUksQ0FBQyxZQUFZLEVBQUU7Z0JBQ2pCLFlBQVksR0FBRyxHQUFHLENBQUMsU0FBUyxHQUFHO29CQUM3QixXQUFXO29CQUNYLEtBQUssRUFBRSxFQUFFO29CQUNULGNBQWMsRUFBRSxTQUFTO29CQUN6QixVQUFVLEVBQUUsU0FBUztvQkFDckIsT0FBTyxFQUFFLFNBQVM7aUJBQ25CLENBQUM7Z0JBQ0YsTUFBTSxhQUFhLEdBQUcsV0FBVyxDQUFDLFlBQVksQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLFNBQVMsQ0FBQztnQkFDbkYsSUFBSSxhQUFhLEVBQUU7b0JBQ2pCLFlBQVksQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFDO29CQUNyQyxZQUFZLENBQUMsY0FBYyxHQUFHLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztvQkFDdkQsWUFBWSxDQUFDLFVBQVUsR0FBRyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7b0JBQ3RELFdBQVcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxjQUFjLENBQUMsQ0FBQztpQkFDeEQ7YUFDRjtZQUNELFlBQVksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1lBRXhCLE1BQU0sTUFBTSxHQUFrQjtnQkFDNUIsR0FBRyxJQUFJO2dCQUNQLFNBQVMsRUFBRSxZQUFZO2FBQ3hCLENBQUM7WUFDRixPQUFPLFlBQVksQ0FBQyxNQUFNLEVBQUUsV0FBVyxFQUFFLFdBQVcsQ0FBQyxPQUFPLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN4RSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgYXBwZW5kU3R5bGUsIFJlbmRlckNvbnRleHQgfSBmcm9tICcuLi9yZW5kZXIvY3Vyc29yJztcbmltcG9ydCB7IHZpc2l0SnN4Tm9kZSB9IGZyb20gJy4uL3JlbmRlci9yZW5kZXInO1xuaW1wb3J0IHsgQ29tcG9uZW50U2NvcGVkU3R5bGVzLCBRSG9zdEF0dHIsIFJlbmRlckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IHByb21pc2VBbGwsIHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IHN0eWxlQ29udGVudCwgc3R5bGVIb3N0IH0gZnJvbSAnLi9xcmwtc3R5bGVzJztcbmltcG9ydCB7IGlzU3R5bGVUYXNrLCBuZXdJbnZva2VDb250ZXh0IH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGdldFByb3BzLCBRQ29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IHByb2Nlc3NOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyB3cmFwU3Vic2NyaWJlciB9IGZyb20gJy4uL3VzZS91c2Utc3Vic2NyaWJlcic7XG5pbXBvcnQgeyBsb2dEZWJ1ZyB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLic7XG5pbXBvcnQgeyByZW1vdmVTdWIgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuXG5leHBvcnQgY29uc3QgZmlyc3RSZW5kZXJDb21wb25lbnQgPSAocmN0eDogUmVuZGVyQ29udGV4dCwgY3R4OiBRQ29udGV4dCk6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY3R4LmVsZW1lbnQuc2V0QXR0cmlidXRlKFFIb3N0QXR0ciwgJycpO1xuICByZXR1cm4gcmVuZGVyQ29tcG9uZW50KHJjdHgsIGN0eCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyQ29tcG9uZW50ID0gKHJjdHg6IFJlbmRlckNvbnRleHQsIGN0eDogUUNvbnRleHQpOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gY3R4LmVsZW1lbnQgYXMgSFRNTEVsZW1lbnQ7XG4gIGNvbnN0IG9uUmVuZGVyUVJMID0gY3R4LnJlbmRlclFybCE7XG4gIGFzc2VydERlZmluZWQob25SZW5kZXJRUkwpO1xuXG4gIC8vIENvbXBvbmVudCBpcyBub3QgZGlydHkgYW55IG1vcmVcbiAgY3R4LmRpcnR5ID0gZmFsc2U7XG4gIHJjdHguZ2xvYmFsU3RhdGUuaG9zdHNTdGFnaW5nLmRlbGV0ZShob3N0RWxlbWVudCk7XG5cbiAgLy8gSW52b2tlIHJlbmRlciBob29rXG4gIGNvbnN0IGludm9jYXRpbkNvbnRleHQgPSBuZXdJbnZva2VDb250ZXh0KHJjdHguZG9jLCBob3N0RWxlbWVudCwgaG9zdEVsZW1lbnQsIFJlbmRlckV2ZW50KTtcbiAgaW52b2NhdGluQ29udGV4dC5zdWJzY3JpYmVyID0gaG9zdEVsZW1lbnQ7XG4gIGNvbnN0IHdhaXRPbiA9IChpbnZvY2F0aW5Db250ZXh0LndhaXRPbiA9IFtdIGFzIGFueVtdKTtcblxuICAvLyBDbGVhbiBjdXJyZW50IHN1YnNjcmlwdGlvbiBiZWZvcmUgcmVuZGVyXG4gIGN0eC5yZWZNYXAuYXJyYXkuZm9yRWFjaCgob2JqKSA9PiB7XG4gICAgcmVtb3ZlU3ViKG9iaiwgaG9zdEVsZW1lbnQpO1xuICB9KTtcbiAgY29uc3Qgb25SZW5kZXJGbiA9IG9uUmVuZGVyUVJMLmludm9rZUZuKHJjdHguY29udGFpbmVyRWwsIGludm9jYXRpbkNvbnRleHQpO1xuXG4gIC8vIEV4ZWN1dGlvbiBvZiB0aGUgcmVuZGVyIGZ1bmN0aW9uXG4gIGNvbnN0IHJlbmRlclByb21pc2UgPSBvblJlbmRlckZuKHdyYXBTdWJzY3JpYmVyKGdldFByb3BzKGN0eCksIGhvc3RFbGVtZW50KSk7XG5cbiAgLy8gV2FpdCBmb3IgcmVzdWx0c1xuICByZXR1cm4gdGhlbihyZW5kZXJQcm9taXNlLCAoanN4Tm9kZSkgPT4ge1xuICAgIHJjdHguaG9zdEVsZW1lbnRzLmFkZChob3N0RWxlbWVudCk7XG5cbiAgICBjb25zdCB3YWl0T25Qcm9taXNlID0gcHJvbWlzZUFsbCh3YWl0T24pO1xuICAgIHJldHVybiB0aGVuKHdhaXRPblByb21pc2UsICh3YWl0T25SZXNvbHZlZCkgPT4ge1xuICAgICAgd2FpdE9uUmVzb2x2ZWQuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICBpZiAoaXNTdHlsZVRhc2sodGFzaykpIHtcbiAgICAgICAgICBhcHBlbmRTdHlsZShyY3R4LCBob3N0RWxlbWVudCwgdGFzayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGN0eC5kaXJ0eSkge1xuICAgICAgICBsb2dEZWJ1ZygnRHJvcHBpbmcgcmVuZGVyLiBTdGF0ZSBjaGFuZ2VkIGR1cmluZyByZW5kZXIuJyk7XG4gICAgICAgIHJldHVybiByZW5kZXJDb21wb25lbnQocmN0eCwgY3R4KTtcbiAgICAgIH1cbiAgICAgIGxldCBjb21wb25lbnRDdHggPSBjdHguY29tcG9uZW50O1xuICAgICAgaWYgKCFjb21wb25lbnRDdHgpIHtcbiAgICAgICAgY29tcG9uZW50Q3R4ID0gY3R4LmNvbXBvbmVudCA9IHtcbiAgICAgICAgICBob3N0RWxlbWVudCxcbiAgICAgICAgICBzbG90czogW10sXG4gICAgICAgICAgc3R5bGVIb3N0Q2xhc3M6IHVuZGVmaW5lZCxcbiAgICAgICAgICBzdHlsZUNsYXNzOiB1bmRlZmluZWQsXG4gICAgICAgICAgc3R5bGVJZDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzY29wZWRTdHlsZUlkID0gaG9zdEVsZW1lbnQuZ2V0QXR0cmlidXRlKENvbXBvbmVudFNjb3BlZFN0eWxlcykgPz8gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoc2NvcGVkU3R5bGVJZCkge1xuICAgICAgICAgIGNvbXBvbmVudEN0eC5zdHlsZUlkID0gc2NvcGVkU3R5bGVJZDtcbiAgICAgICAgICBjb21wb25lbnRDdHguc3R5bGVIb3N0Q2xhc3MgPSBzdHlsZUhvc3Qoc2NvcGVkU3R5bGVJZCk7XG4gICAgICAgICAgY29tcG9uZW50Q3R4LnN0eWxlQ2xhc3MgPSBzdHlsZUNvbnRlbnQoc2NvcGVkU3R5bGVJZCk7XG4gICAgICAgICAgaG9zdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb21wb25lbnRDdHguc3R5bGVIb3N0Q2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb21wb25lbnRDdHguc2xvdHMgPSBbXTtcblxuICAgICAgY29uc3QgbmV3Q3R4OiBSZW5kZXJDb250ZXh0ID0ge1xuICAgICAgICAuLi5yY3R4LFxuICAgICAgICBjb21wb25lbnQ6IGNvbXBvbmVudEN0eCxcbiAgICAgIH07XG4gICAgICByZXR1cm4gdmlzaXRKc3hOb2RlKG5ld0N0eCwgaG9zdEVsZW1lbnQsIHByb2Nlc3NOb2RlKGpzeE5vZGUpLCBmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xufTtcbiJdfQ==","import { OnRenderProp, QSlotAttr } from '../util/markers';\nimport { getContext, getProps, setEvent } from '../props/props';\nimport { isOn$Prop, isOnProp } from '../props/props-on';\nimport { Host } from '../render/jsx/host.public';\nimport { $ } from '../import/qrl.public';\nimport { firstRenderComponent, renderComponent } from '../component/component-ctx';\nimport { promiseAll, then } from '../util/promises';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { NodeType } from '../util/types';\nimport { intToStr } from '../object/store';\nimport { EMPTY_ARRAY } from '../util/flyweight';\nimport { SkipRerender } from './jsx/host.public';\nimport { logDebug, logError, logWarn } from '../util/log';\nimport { qDev } from '../util/qdev';\nimport { qError, QError } from '../error/error';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { CONTAINER } from '../use/use-core';\nexport const SVG_NS = 'http://www.w3.org/2000/svg';\nexport function smartUpdateChildren(ctx, elm, ch, mode, isSvg) {\n    if (ch.length === 1 && ch[0].type === SkipRerender) {\n        if (elm.firstChild !== null) {\n            return;\n        }\n        ch = ch[0].children;\n    }\n    const oldCh = getChildren(elm, mode);\n    if (oldCh.length > 0 && ch.length > 0) {\n        return updateChildren(ctx, elm, oldCh, ch, isSvg);\n    }\n    else if (ch.length > 0) {\n        return addVnodes(ctx, elm, undefined, ch, 0, ch.length - 1, isSvg);\n    }\n    else if (oldCh.length > 0) {\n        return removeVnodes(ctx, elm, oldCh, 0, oldCh.length - 1);\n    }\n}\nexport function updateChildren(ctx, parentElm, oldCh, newCh, isSvg) {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx;\n    let idxInOld;\n    let elmToMove;\n    const results = [];\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            results.push(patchVnode(ctx, oldStartVnode, newStartVnode, isSvg));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            results.push(patchVnode(ctx, oldEndVnode, newEndVnode, isSvg));\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            // Vnode moved right\n            results.push(patchVnode(ctx, oldStartVnode, newEndVnode, isSvg));\n            insertBefore(ctx, parentElm, oldStartVnode, oldEndVnode.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            // Vnode moved left\n            results.push(patchVnode(ctx, oldEndVnode, newStartVnode, isSvg));\n            insertBefore(ctx, parentElm, oldEndVnode, oldStartVnode);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (oldKeyToIdx === undefined) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.key];\n            if (idxInOld === undefined) {\n                // New element\n                const newElm = createElm(ctx, newStartVnode, isSvg);\n                results.push(then(newElm, (newElm) => {\n                    insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                }));\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (elmToMove.nodeName !== newStartVnode.type) {\n                    const newElm = createElm(ctx, newStartVnode, isSvg);\n                    results.push(then(newElm, (newElm) => {\n                        insertBefore(ctx, parentElm, newElm, oldStartVnode);\n                    }));\n                }\n                else {\n                    results.push(patchVnode(ctx, elmToMove, newStartVnode, isSvg));\n                    oldCh[idxInOld] = undefined;\n                    insertBefore(ctx, parentElm, elmToMove, oldStartVnode);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (newStartIdx <= newEndIdx) {\n        const before = newCh[newEndIdx + 1] == null ? undefined : newCh[newEndIdx + 1].elm;\n        results.push(addVnodes(ctx, parentElm, before, newCh, newStartIdx, newEndIdx, isSvg));\n    }\n    let wait = promiseAll(results);\n    if (oldStartIdx <= oldEndIdx) {\n        wait = then(wait, () => {\n            removeVnodes(ctx, parentElm, oldCh, oldStartIdx, oldEndIdx);\n        });\n    }\n    return wait;\n}\nfunction isComponentNode(node) {\n    return node.props && OnRenderProp in node.props;\n}\nfunction getCh(elm) {\n    return Array.from(elm.childNodes).filter(isNode);\n}\nexport function getChildren(elm, mode) {\n    switch (mode) {\n        case 'default':\n            return getCh(elm);\n        case 'slot':\n            return getCh(elm).filter(isChildSlot);\n        case 'root':\n            return getCh(elm).filter(isChildComponent);\n        case 'fallback':\n            return getCh(elm).filter(isFallback);\n    }\n}\nexport function isNode(elm) {\n    return elm.nodeType === 1 || elm.nodeType === 3;\n}\nfunction isFallback(node) {\n    return node.nodeName === 'Q:FALLBACK';\n}\nfunction isChildSlot(node) {\n    return node.nodeName !== 'Q:FALLBACK' && isChildComponent(node);\n}\nfunction isSlotTemplate(node) {\n    return node.nodeName === 'TEMPLATE' && node.hasAttribute(QSlotAttr);\n}\nfunction isChildComponent(node) {\n    return node.nodeName !== 'TEMPLATE' || !node.hasAttribute(QSlotAttr);\n}\nfunction splitBy(input, condition) {\n    const output = {};\n    for (const item of input) {\n        const key = condition(item);\n        const array = output[key] ?? (output[key] = []);\n        array.push(item);\n    }\n    return output;\n}\nexport function patchVnode(rctx, elm, vnode, isSvg) {\n    rctx.perf.visited++;\n    vnode.elm = elm;\n    const tag = vnode.type;\n    if (tag === '#text') {\n        if (elm.data !== vnode.text) {\n            setProperty(rctx, elm, 'data', vnode.text);\n        }\n        return;\n    }\n    if (tag === Host || tag === SkipRerender) {\n        return;\n    }\n    if (!isSvg) {\n        isSvg = tag === 'svg';\n    }\n    let promise;\n    const props = vnode.props;\n    const ctx = getContext(elm);\n    const dirty = updateProperties(rctx, ctx, props, isSvg);\n    const isSlot = tag === 'q:slot';\n    if (isSvg && vnode.type === 'foreignObject') {\n        isSvg = false;\n    }\n    else if (isSlot) {\n        rctx.component.slots.push(vnode);\n    }\n    const isComponent = isComponentNode(vnode);\n    if (dirty) {\n        promise = renderComponent(rctx, ctx);\n    }\n    const ch = vnode.children;\n    if (isComponent) {\n        return then(promise, () => {\n            const slotMaps = getSlots(ctx.component, elm);\n            const splittedChidren = splitBy(ch, getSlotName);\n            const promises = [];\n            // Mark empty slots and remove content\n            Object.entries(slotMaps.slots).forEach(([key, slotEl]) => {\n                if (slotEl && !splittedChidren[key]) {\n                    const oldCh = getChildren(slotEl, 'slot');\n                    if (oldCh.length > 0) {\n                        removeVnodes(rctx, slotEl, oldCh, 0, oldCh.length - 1);\n                    }\n                }\n            });\n            // Render into slots\n            Object.entries(splittedChidren).forEach(([key, ch]) => {\n                const slotElm = getSlotElement(rctx, slotMaps, elm, key);\n                promises.push(smartUpdateChildren(rctx, slotElm, ch, 'slot', isSvg));\n            });\n            return then(promiseAll(promises), () => {\n                removeTemplates(rctx, slotMaps);\n            });\n        });\n    }\n    const setsInnerHTML = checkInnerHTML(props);\n    if (setsInnerHTML) {\n        if (qDev && ch.length > 0) {\n            logWarn('Node can not have children when innerHTML is set');\n        }\n        return;\n    }\n    return then(promise, () => {\n        const mode = isSlot ? 'fallback' : 'default';\n        return smartUpdateChildren(rctx, elm, ch, mode, isSvg);\n    });\n}\nfunction addVnodes(ctx, parentElm, before, vnodes, startIdx, endIdx, isSvg) {\n    const promises = [];\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = vnodes[startIdx];\n        assertDefined(ch);\n        promises.push(createElm(ctx, ch, isSvg));\n    }\n    return then(promiseAll(promises), (children) => {\n        for (const child of children) {\n            insertBefore(ctx, parentElm, child, before);\n        }\n    });\n}\nfunction removeVnodes(ctx, parentElm, nodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = nodes[startIdx];\n        assertDefined(ch);\n        removeNode(ctx, ch);\n    }\n}\nlet refCount = 0;\nconst RefSymbol = Symbol();\nfunction setSlotRef(ctx, hostElm, slotEl) {\n    let ref = hostElm[RefSymbol] ?? hostElm.getAttribute('q:sref');\n    if (ref === null) {\n        ref = intToStr(refCount++);\n        hostElm[RefSymbol] = ref;\n        setAttribute(ctx, hostElm, 'q:sref', ref);\n    }\n    slotEl.setAttribute('q:sref', ref);\n}\nfunction getSlotElement(ctx, slotMaps, parentEl, slotName) {\n    const slotEl = slotMaps.slots[slotName];\n    if (slotEl) {\n        return slotEl;\n    }\n    const templateEl = slotMaps.templates[slotName];\n    if (templateEl) {\n        return templateEl.content;\n    }\n    const template = createTemplate(ctx, slotName);\n    prepend(ctx, parentEl, template);\n    slotMaps.templates[slotName] = template;\n    return template.content;\n}\nfunction createTemplate(ctx, slotName) {\n    const template = createElement(ctx, 'template', false);\n    template.setAttribute(QSlotAttr, slotName);\n    return template;\n}\nfunction removeTemplates(ctx, slotMaps) {\n    Object.keys(slotMaps.templates).forEach((key) => {\n        const template = slotMaps.templates[key];\n        if (template && slotMaps.slots[key] !== undefined) {\n            removeNode(ctx, template);\n            slotMaps.templates[key] = undefined;\n        }\n    });\n}\nexport function resolveSlotProjection(ctx, hostElm, before, after) {\n    Object.entries(before.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !after.slots[key]) {\n            // Slot removed\n            // Move slot to template\n            const template = createTemplate(ctx, key);\n            const slotChildren = getChildren(slotEl, 'slot');\n            template.content.append(...slotChildren);\n            hostElm.insertBefore(template, hostElm.firstChild);\n            ctx.operations.push({\n                el: template,\n                operation: 'slot-to-template',\n                args: slotChildren,\n                fn: () => { },\n            });\n        }\n    });\n    Object.entries(after.slots).forEach(([key, slotEl]) => {\n        if (slotEl && !before.slots[key]) {\n            // Slot created\n            // Move template to slot\n            const template = before.templates[key];\n            if (template) {\n                slotEl.appendChild(template.content);\n                template.remove();\n                ctx.operations.push({\n                    el: slotEl,\n                    operation: 'template-to-slot',\n                    args: [template],\n                    fn: () => { },\n                });\n            }\n        }\n    });\n}\nfunction getSlotName(node) {\n    return node.props?.['q:slot'] ?? '';\n}\nfunction createElm(rctx, vnode, isSvg) {\n    rctx.perf.visited++;\n    const tag = vnode.type;\n    if (tag === '#text') {\n        return (vnode.elm = createTextNode(rctx, vnode.text));\n    }\n    if (!isSvg) {\n        isSvg = tag === 'svg';\n    }\n    const props = vnode.props;\n    const elm = (vnode.elm = createElement(rctx, tag, isSvg));\n    const isComponent = isComponentNode(vnode);\n    const ctx = getContext(elm);\n    setKey(elm, vnode.key);\n    updateProperties(rctx, ctx, props, isSvg);\n    if (isSvg && tag === 'foreignObject') {\n        isSvg = false;\n    }\n    const currentComponent = rctx.component;\n    if (currentComponent) {\n        const styleTag = currentComponent.styleClass;\n        if (styleTag) {\n            classlistAdd(rctx, elm, styleTag);\n        }\n        if (tag === 'q:slot') {\n            setSlotRef(rctx, currentComponent.hostElement, elm);\n            rctx.component.slots.push(vnode);\n        }\n    }\n    let wait;\n    if (isComponent) {\n        // Run mount hook\n        const renderQRL = props[OnRenderProp];\n        ctx.renderQrl = renderQRL;\n        ctx.refMap.add(renderQRL);\n        wait = firstRenderComponent(rctx, ctx);\n    }\n    else {\n        const setsInnerHTML = checkInnerHTML(props);\n        if (setsInnerHTML) {\n            if (qDev && vnode.children.length > 0) {\n                logWarn('Node can not have children when innerHTML is set');\n            }\n            return elm;\n        }\n    }\n    return then(wait, () => {\n        let children = vnode.children;\n        if (children.length > 0) {\n            if (children.length === 1 && children[0].type === SkipRerender) {\n                children = children[0].children;\n            }\n            const slotMap = isComponent ? getSlots(ctx.component, elm) : undefined;\n            const promises = children.map((ch) => createElm(rctx, ch, isSvg));\n            return then(promiseAll(promises), () => {\n                let parent = elm;\n                for (const node of children) {\n                    if (slotMap) {\n                        parent = getSlotElement(rctx, slotMap, elm, getSlotName(node));\n                    }\n                    parent.appendChild(node.elm);\n                }\n                return elm;\n            });\n        }\n        return elm;\n    });\n}\nconst getSlots = (componentCtx, hostElm) => {\n    const slots = {};\n    const templates = {};\n    const slotRef = hostElm.getAttribute('q:sref');\n    const existingSlots = Array.from(hostElm.querySelectorAll(`q\\\\:slot[q\\\\:sref=\"${slotRef}\"]`));\n    const newSlots = componentCtx?.slots ?? EMPTY_ARRAY;\n    const t = Array.from(hostElm.childNodes).filter(isSlotTemplate);\n    // Map slots\n    for (const elm of existingSlots) {\n        slots[elm.getAttribute('name') ?? ''] = elm;\n    }\n    // Map virtual slots\n    for (const vnode of newSlots) {\n        slots[vnode.props?.name ?? ''] = vnode.elm;\n    }\n    // Map templates\n    for (const elm of t) {\n        templates[elm.getAttribute('q:slot') ?? ''] = elm;\n    }\n    return { slots, templates };\n};\nconst handleStyle = (ctx, elm, _, newValue) => {\n    setAttribute(ctx, elm, 'style', stringifyClassOrStyle(newValue, false));\n    return true;\n};\nconst handleClass = (ctx, elm, _, newValue) => {\n    setAttribute(ctx, elm, 'class', stringifyClassOrStyle(newValue, true));\n    return true;\n};\nconst checkBeforeAssign = (ctx, elm, prop, newValue) => {\n    if (prop in elm) {\n        if (elm[prop] !== newValue) {\n            setProperty(ctx, elm, prop, newValue);\n        }\n    }\n    return true;\n};\nconst dangerouslySetInnerHTML = 'dangerouslySetInnerHTML';\nconst setInnerHTML = (ctx, elm, _, newValue) => {\n    if (dangerouslySetInnerHTML in elm) {\n        setProperty(ctx, elm, dangerouslySetInnerHTML, newValue);\n    }\n    else if ('innerHTML' in elm) {\n        setProperty(ctx, elm, 'innerHTML', newValue);\n    }\n    return true;\n};\nconst PROP_HANDLER_MAP = {\n    style: handleStyle,\n    class: handleClass,\n    className: handleClass,\n    value: checkBeforeAssign,\n    checked: checkBeforeAssign,\n    [dangerouslySetInnerHTML]: setInnerHTML,\n};\nconst ALLOWS_PROPS = ['class', 'className', 'style', 'id', 'q:slot'];\nconst HOST_PREFIX = 'host:';\nexport function updateProperties(rctx, ctx, expectProps, isSvg) {\n    if (!expectProps) {\n        return false;\n    }\n    const elm = ctx.element;\n    const qwikProps = OnRenderProp in expectProps ? getProps(ctx) : undefined;\n    for (let key of Object.keys(expectProps)) {\n        if (key === 'children' || key === OnRenderProp) {\n            continue;\n        }\n        const newValue = expectProps[key];\n        if (key === 'ref') {\n            newValue.current = elm;\n            continue;\n        }\n        // Early exit if value didnt change\n        const oldValue = ctx.cache.get(key);\n        if (newValue === oldValue) {\n            continue;\n        }\n        ctx.cache.set(key, newValue);\n        // Check of data- or aria-\n        if (key.startsWith('data-') || key.startsWith('aria-')) {\n            setAttribute(rctx, elm, key, newValue);\n            continue;\n        }\n        if (qwikProps) {\n            const skipProperty = ALLOWS_PROPS.includes(key);\n            const hPrefixed = key.startsWith(HOST_PREFIX);\n            if (!skipProperty && !hPrefixed) {\n                // Qwik props\n                qwikProps[key] = newValue;\n                continue;\n            }\n            if (hPrefixed) {\n                key = key.slice(HOST_PREFIX.length);\n            }\n        }\n        else if (qDev && key.startsWith(HOST_PREFIX)) {\n            logWarn(`${HOST_PREFIX} prefix can not be used in non components`);\n            continue;\n        }\n        if (isOnProp(key)) {\n            setEvent(rctx, ctx, key.slice(0, -3), newValue);\n            continue;\n        }\n        if (isOn$Prop(key)) {\n            setEvent(rctx, ctx, key.slice(0, -1), $(newValue));\n            continue;\n        }\n        // Check if its an exception\n        const exception = PROP_HANDLER_MAP[key];\n        if (exception) {\n            if (exception(rctx, elm, key, newValue, oldValue)) {\n                continue;\n            }\n        }\n        // Check if property in prototype\n        if (!isSvg && key in elm) {\n            setProperty(rctx, elm, key, newValue);\n            continue;\n        }\n        // Fallback to render attribute\n        setAttribute(rctx, elm, key, newValue);\n    }\n    return ctx.dirty;\n}\nexport const startEvent = (ctx, name) => {\n    const event = {\n        name,\n        timeStart: performance.now(),\n        timeEnd: 0,\n    };\n    ctx.perf.timing.push(event);\n    return () => {\n        event.timeEnd = performance.now();\n    };\n};\nexport function setAttribute(ctx, el, prop, value) {\n    const fn = () => {\n        if (value == null) {\n            el.removeAttribute(prop);\n        }\n        else {\n            el.setAttribute(prop, String(value));\n        }\n    };\n    ctx.operations.push({\n        el,\n        operation: 'set-attribute',\n        args: [prop, value],\n        fn,\n    });\n}\nexport function classlistAdd(ctx, el, hostStyleTag) {\n    const fn = () => {\n        el.classList.add(hostStyleTag);\n    };\n    ctx.operations.push({\n        el,\n        operation: 'classlist-add',\n        args: [hostStyleTag],\n        fn,\n    });\n}\nfunction setProperty(ctx, node, key, value) {\n    const fn = () => {\n        try {\n            node[key] = value;\n        }\n        catch (err) {\n            logError('Set property', { node, key, value }, err);\n        }\n    };\n    ctx.operations.push({\n        el: node,\n        operation: 'set-property',\n        args: [key, value],\n        fn,\n    });\n}\nfunction createElement(ctx, expectTag, isSvg) {\n    const el = isSvg ? ctx.doc.createElementNS(SVG_NS, expectTag) : ctx.doc.createElement(expectTag);\n    el[CONTAINER] = ctx.containerEl;\n    ctx.operations.push({\n        el,\n        operation: 'create-element',\n        args: [expectTag],\n        fn: () => { },\n    });\n    return el;\n}\nfunction insertBefore(ctx, parent, newChild, refChild) {\n    const fn = () => {\n        parent.insertBefore(newChild, refChild ? refChild : null);\n    };\n    ctx.operations.push({\n        el: parent,\n        operation: 'insert-before',\n        args: [newChild, refChild],\n        fn,\n    });\n    return newChild;\n}\nexport function appendStyle(ctx, hostElement, styleTask) {\n    const fn = () => {\n        const containerEl = ctx.containerEl;\n        const stylesParent = ctx.doc.documentElement === containerEl ? ctx.doc.head ?? containerEl : containerEl;\n        if (!stylesParent.querySelector(`style[q\\\\:style=\"${styleTask.styleId}\"]`)) {\n            const style = ctx.doc.createElement('style');\n            style.setAttribute('q:style', styleTask.styleId);\n            style.textContent = styleTask.content;\n            stylesParent.insertBefore(style, stylesParent.firstChild);\n        }\n    };\n    ctx.operations.push({\n        el: hostElement,\n        operation: 'append-style',\n        args: [styleTask],\n        fn,\n    });\n}\nfunction prepend(ctx, parent, newChild) {\n    const fn = () => {\n        parent.insertBefore(newChild, parent.firstChild);\n    };\n    ctx.operations.push({\n        el: parent,\n        operation: 'prepend',\n        args: [newChild],\n        fn,\n    });\n}\nfunction removeNode(ctx, el) {\n    const fn = () => {\n        const parent = el.parentNode;\n        if (parent) {\n            parent.removeChild(el);\n        }\n        else if (qDev) {\n            logWarn('Trying to remove component already removed', el);\n        }\n    };\n    ctx.operations.push({\n        el: el,\n        operation: 'remove',\n        args: [],\n        fn,\n    });\n}\nfunction createTextNode(ctx, text) {\n    return ctx.doc.createTextNode(text);\n}\nexport function executeContextWithSlots(ctx) {\n    const before = ctx.roots.map((elm) => getSlots(undefined, elm));\n    executeContext(ctx);\n    const after = ctx.roots.map((elm) => getSlots(undefined, elm));\n    assertEqual(before.length, after.length);\n    for (let i = 0; i < before.length; i++) {\n        resolveSlotProjection(ctx, ctx.roots[i], before[i], after[i]);\n    }\n}\nexport function executeContext(ctx) {\n    for (const op of ctx.operations) {\n        op.fn();\n    }\n}\nexport function printRenderStats(ctx) {\n    const byOp = {};\n    for (const op of ctx.operations) {\n        byOp[op.operation] = (byOp[op.operation] ?? 0) + 1;\n    }\n    const affectedElements = Array.from(new Set(ctx.operations.map((a) => a.el)));\n    const stats = {\n        byOp,\n        roots: ctx.roots,\n        hostElements: Array.from(ctx.hostElements),\n        affectedElements,\n        visitedNodes: ctx.perf.visited,\n        operations: ctx.operations.map((v) => [v.operation, v.el, ...v.args]),\n    };\n    logDebug('Render stats', stats);\n    return stats;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    const map = {};\n    for (let i = beginIdx; i <= endIdx; ++i) {\n        const child = children[i];\n        if (child.nodeType == NodeType.ELEMENT_NODE) {\n            const key = getKey(child);\n            if (key !== undefined) {\n                map[key] = i;\n            }\n        }\n    }\n    return map;\n}\nconst KEY_SYMBOL = Symbol('vnode key');\nfunction getKey(el) {\n    let key = el[KEY_SYMBOL];\n    if (key === undefined) {\n        key = el[KEY_SYMBOL] = el.getAttribute('q:key');\n    }\n    return key;\n}\nfunction setKey(el, key) {\n    if (typeof key === 'string') {\n        el.setAttribute('q:key', key);\n    }\n    el[KEY_SYMBOL] = key;\n}\nfunction sameVnode(vnode1, vnode2) {\n    const isSameSel = vnode1.nodeName.toLowerCase() === vnode2.type;\n    const isSameKey = vnode1.nodeType === NodeType.ELEMENT_NODE ? getKey(vnode1) === vnode2.key : true;\n    return isSameSel && isSameKey;\n}\nfunction checkInnerHTML(props) {\n    return props && ('innerHTML' in props || dangerouslySetInnerHTML in props);\n}\nexport function stringifyClassOrStyle(obj, isClass) {\n    if (obj == null)\n        return '';\n    if (typeof obj == 'object') {\n        let text = '';\n        let sep = '';\n        if (Array.isArray(obj)) {\n            if (!isClass) {\n                throw qError(QError.Render_unsupportedFormat_obj_attr, obj, 'style');\n            }\n            for (let i = 0; i < obj.length; i++) {\n                text += sep + obj[i];\n                sep = ' ';\n            }\n        }\n        else {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value) {\n                        text += isClass\n                            ? value\n                                ? sep + key\n                                : ''\n                            : sep + fromCamelToKebabCase(key) + ':' + value;\n                        sep = isClass ? ' ' : ';';\n                    }\n                }\n            }\n        }\n        return text;\n    }\n    return String(obj);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3Vyc29yLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS9yZW5kZXIvY3Vyc29yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDMUQsT0FBTyxFQUFnQixVQUFVLEVBQUUsUUFBUSxFQUFZLFFBQVEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3hGLE9BQU8sRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFHeEQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxDQUFDLEVBQU8sTUFBTSxzQkFBc0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDbkYsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVwRCxPQUFPLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzlELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzNDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDakQsT0FBTyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQzFELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEMsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFF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QUMsT0FBTyxFQUFFO2dCQUNaLE1BQU0sTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQ0FBaUMsRUFBRSxHQUFHLEVBQUUsT0FBTyxDQUFDLENBQUM7YUFDdEU7WUFDRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtnQkFDbkMsSUFBSSxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3JCLEdBQUcsR0FBRyxHQUFHLENBQUM7YUFDWDtTQUNGO2FBQU07WUFDTCxLQUFLLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBRTtnQkFDckIsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxFQUFFO29CQUNsRCxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7b0JBRXZCLElBQUksS0FBSyxFQUFFO3dCQUNULElBQUksSUFBSSxPQUFPOzRCQUNiLENBQUMsQ0FBQyxLQUFLO2dDQUNMLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRztnQ0FDWCxDQUFDLENBQUMsRUFBRTs0QkFDTixDQUFDLENBQUMsR0FBRyxHQUFHLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUM7d0JBQ2xELEdBQUcsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO3FCQUMzQjtpQkFDRjthQUNGO1NBQ0Y7UUFDRCxPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDckIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9uUmVuZGVyUHJvcCwgUVNsb3RBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IENvbXBvbmVudEN0eCwgZ2V0Q29udGV4dCwgZ2V0UHJvcHMsIFFDb250ZXh0LCBzZXRFdmVudCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IGlzT24kUHJvcCwgaXNPblByb3AgfSBmcm9tICcuLi9wcm9wcy9wcm9wcy1vbic7XG5pbXBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGUgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IEhvc3QgfSBmcm9tICcuLi9yZW5kZXIvanN4L2hvc3QucHVibGljJztcbmltcG9ydCB7ICQsIFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGZpcnN0UmVuZGVyQ29tcG9uZW50LCByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQvY29tcG9uZW50LWN0eCc7XG5pbXBvcnQgeyBwcm9taXNlQWxsLCB0aGVuIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlcmluZ1N0YXRlIH0gZnJvbSAnLi9ub3RpZnktcmVuZGVyJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBOb2RlVHlwZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgaW50VG9TdHIgfSBmcm9tICcuLi9vYmplY3Qvc3RvcmUnO1xuaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi91dGlsL2ZseXdlaWdodCc7XG5pbXBvcnQgeyBTa2lwUmVyZW5kZXIgfSBmcm9tICcuL2pzeC9ob3N0LnB1YmxpYyc7XG5pbXBvcnQgeyBsb2dEZWJ1ZywgbG9nRXJyb3IsIGxvZ1dhcm4gfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IHFFcnJvciwgUUVycm9yIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgZnJvbUNhbWVsVG9LZWJhYkNhc2UgfSBmcm9tICcuLi91dGlsL2Nhc2UnO1xuaW1wb3J0IHR5cGUgeyBPblJlbmRlckZuIH0gZnJvbSAnLi4vY29tcG9uZW50L2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgQ09OVEFJTkVSLCBTdHlsZUFwcGVuZCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgdHlwZSB7IFJlZiB9IGZyb20gJy4uL3VzZS91c2Utc3RvcmUucHVibGljJztcblxuZXhwb3J0IGNvbnN0IFNWR19OUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbnR5cGUgS2V5VG9JbmRleE1hcCA9IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG5cbnR5cGUgUHJvcEhhbmRsZXIgPSAoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgZWw6IEhUTUxFbGVtZW50LFxuICBrZXk6IHN0cmluZyxcbiAgbmV3VmFsdWU6IGFueSxcbiAgb2xkVmFsdWU6IGFueVxuKSA9PiBib29sZWFuO1xuXG5pbnRlcmZhY2UgUmVuZGVyT3BlcmF0aW9uIHtcbiAgZWw6IE5vZGU7XG4gIG9wZXJhdGlvbjogc3RyaW5nO1xuICBhcmdzOiBhbnlbXTtcbiAgZm46ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCB0eXBlIENoaWxkcmVuTW9kZSA9ICdyb290JyB8ICdzbG90JyB8ICdmYWxsYmFjaycgfCAnZGVmYXVsdCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyUGVyZiB7XG4gIHRpbWluZzogUGVyZkV2ZW50W107XG4gIHZpc2l0ZWQ6IG51bWJlcjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyQ29udGV4dCB7XG4gIGRvYzogRG9jdW1lbnQ7XG4gIHJvb3RzOiBFbGVtZW50W107XG4gIGhvc3RFbGVtZW50czogU2V0PEVsZW1lbnQ+O1xuICBvcGVyYXRpb25zOiBSZW5kZXJPcGVyYXRpb25bXTtcbiAgY29tcG9uZW50OiBDb21wb25lbnRDdHggfCB1bmRlZmluZWQ7XG4gIGdsb2JhbFN0YXRlOiBSZW5kZXJpbmdTdGF0ZTtcbiAgY29udGFpbmVyRWw6IEVsZW1lbnQ7XG4gIHBlcmY6IFJlbmRlclBlcmY7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZkV2ZW50IHtcbiAgbmFtZTogc3RyaW5nO1xuICB0aW1lU3RhcnQ6IG51bWJlcjtcbiAgdGltZUVuZDogbnVtYmVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc21hcnRVcGRhdGVDaGlsZHJlbihcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBlbG06IE5vZGUsXG4gIGNoOiBKU1hOb2RlW10sXG4gIG1vZGU6IENoaWxkcmVuTW9kZSxcbiAgaXNTdmc6IGJvb2xlYW5cbikge1xuICBpZiAoY2gubGVuZ3RoID09PSAxICYmIGNoWzBdLnR5cGUgPT09IFNraXBSZXJlbmRlcikge1xuICAgIGlmIChlbG0uZmlyc3RDaGlsZCAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaCA9IGNoWzBdLmNoaWxkcmVuO1xuICB9XG4gIGNvbnN0IG9sZENoID0gZ2V0Q2hpbGRyZW4oZWxtLCBtb2RlKTtcblxuICBpZiAob2xkQ2gubGVuZ3RoID4gMCAmJiBjaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHVwZGF0ZUNoaWxkcmVuKGN0eCwgZWxtLCBvbGRDaCwgY2gsIGlzU3ZnKTtcbiAgfSBlbHNlIGlmIChjaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGFkZFZub2RlcyhjdHgsIGVsbSwgdW5kZWZpbmVkLCBjaCwgMCwgY2gubGVuZ3RoIC0gMSwgaXNTdmcpO1xuICB9IGVsc2UgaWYgKG9sZENoLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcmVtb3ZlVm5vZGVzKGN0eCwgZWxtLCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNoaWxkcmVuKFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIHBhcmVudEVsbTogTm9kZSxcbiAgb2xkQ2g6IE5vZGVbXSxcbiAgbmV3Q2g6IEpTWE5vZGVbXSxcbiAgaXNTdmc6IGJvb2xlYW5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+IHtcbiAgbGV0IG9sZFN0YXJ0SWR4ID0gMDtcbiAgbGV0IG5ld1N0YXJ0SWR4ID0gMDtcbiAgbGV0IG9sZEVuZElkeCA9IG9sZENoLmxlbmd0aCAtIDE7XG4gIGxldCBvbGRTdGFydFZub2RlID0gb2xkQ2hbMF07XG4gIGxldCBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XG4gIGxldCBuZXdFbmRJZHggPSBuZXdDaC5sZW5ndGggLSAxO1xuICBsZXQgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWzBdO1xuICBsZXQgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xuICBsZXQgb2xkS2V5VG9JZHg6IEtleVRvSW5kZXhNYXAgfCB1bmRlZmluZWQ7XG4gIGxldCBpZHhJbk9sZDogbnVtYmVyO1xuICBsZXQgZWxtVG9Nb3ZlOiBOb2RlO1xuICBjb25zdCByZXN1bHRzID0gW107XG5cbiAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICBpZiAob2xkU3RhcnRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07IC8vIFZub2RlIG1pZ2h0IGhhdmUgYmVlbiBtb3ZlZCBsZWZ0XG4gICAgfSBlbHNlIGlmIChvbGRFbmRWbm9kZSA9PSBudWxsKSB7XG4gICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKG5ld1N0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgIH0gZWxzZSBpZiAobmV3RW5kVm5vZGUgPT0gbnVsbCkge1xuICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgb2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaXNTdmcpKTtcbiAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICByZXN1bHRzLnB1c2gocGF0Y2hWbm9kZShjdHgsIG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSwgaXNTdmcpKTtcbiAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUpKSB7XG4gICAgICAvLyBWbm9kZSBtb3ZlZCByaWdodFxuICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBvbGRTdGFydFZub2RlLCBuZXdFbmRWbm9kZSwgaXNTdmcpKTtcblxuICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBvbGRTdGFydFZub2RlLCBvbGRFbmRWbm9kZS5uZXh0U2libGluZyk7XG4gICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHtcbiAgICAgIC8vIFZub2RlIG1vdmVkIGxlZnRcbiAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgb2xkRW5kVm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGlzU3ZnKSk7XG5cbiAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgb2xkRW5kVm5vZGUsIG9sZFN0YXJ0Vm5vZGUpO1xuICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvbGRLZXlUb0lkeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgICAgfVxuICAgICAgaWR4SW5PbGQgPSBvbGRLZXlUb0lkeFtuZXdTdGFydFZub2RlLmtleSBhcyBzdHJpbmddO1xuICAgICAgaWYgKGlkeEluT2xkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTmV3IGVsZW1lbnRcbiAgICAgICAgY29uc3QgbmV3RWxtID0gY3JlYXRlRWxtKGN0eCwgbmV3U3RhcnRWbm9kZSwgaXNTdmcpO1xuICAgICAgICByZXN1bHRzLnB1c2goXG4gICAgICAgICAgdGhlbihuZXdFbG0sIChuZXdFbG0pID0+IHtcbiAgICAgICAgICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgbmV3RWxtLCBvbGRTdGFydFZub2RlKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxtVG9Nb3ZlID0gb2xkQ2hbaWR4SW5PbGRdO1xuICAgICAgICBpZiAoZWxtVG9Nb3ZlLm5vZGVOYW1lICE9PSBuZXdTdGFydFZub2RlLnR5cGUpIHtcbiAgICAgICAgICBjb25zdCBuZXdFbG0gPSBjcmVhdGVFbG0oY3R4LCBuZXdTdGFydFZub2RlLCBpc1N2Zyk7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKFxuICAgICAgICAgICAgdGhlbihuZXdFbG0sIChuZXdFbG0pID0+IHtcbiAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBuZXdFbG0sIG9sZFN0YXJ0Vm5vZGUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgZWxtVG9Nb3ZlLCBuZXdTdGFydFZub2RlLCBpc1N2ZykpO1xuICAgICAgICAgIG9sZENoW2lkeEluT2xkXSA9IHVuZGVmaW5lZCBhcyBhbnk7XG4gICAgICAgICAgaW5zZXJ0QmVmb3JlKGN0eCwgcGFyZW50RWxtLCBlbG1Ub01vdmUsIG9sZFN0YXJ0Vm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfVxuICB9XG5cbiAgaWYgKG5ld1N0YXJ0SWR4IDw9IG5ld0VuZElkeCkge1xuICAgIGNvbnN0IGJlZm9yZSA9IG5ld0NoW25ld0VuZElkeCArIDFdID09IG51bGwgPyB1bmRlZmluZWQgOiBuZXdDaFtuZXdFbmRJZHggKyAxXS5lbG07XG4gICAgcmVzdWx0cy5wdXNoKGFkZFZub2RlcyhjdHgsIHBhcmVudEVsbSwgYmVmb3JlLCBuZXdDaCwgbmV3U3RhcnRJZHgsIG5ld0VuZElkeCwgaXNTdmcpKTtcbiAgfVxuXG4gIGxldCB3YWl0ID0gcHJvbWlzZUFsbChyZXN1bHRzKSBhcyBhbnk7XG4gIGlmIChvbGRTdGFydElkeCA8PSBvbGRFbmRJZHgpIHtcbiAgICB3YWl0ID0gdGhlbih3YWl0LCAoKSA9PiB7XG4gICAgICByZW1vdmVWbm9kZXMoY3R4LCBwYXJlbnRFbG0sIG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gd2FpdDtcbn1cblxuZnVuY3Rpb24gaXNDb21wb25lbnROb2RlKG5vZGU6IEpTWE5vZGUpIHtcbiAgcmV0dXJuIG5vZGUucHJvcHMgJiYgT25SZW5kZXJQcm9wIGluIG5vZGUucHJvcHM7XG59XG5cbmZ1bmN0aW9uIGdldENoKGVsbTogTm9kZSkge1xuICByZXR1cm4gQXJyYXkuZnJvbShlbG0uY2hpbGROb2RlcykuZmlsdGVyKGlzTm9kZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGlsZHJlbihlbG06IE5vZGUsIG1vZGU6IENoaWxkcmVuTW9kZSk6IE5vZGVbXSB7XG4gIHN3aXRjaCAobW9kZSkge1xuICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgcmV0dXJuIGdldENoKGVsbSk7XG4gICAgY2FzZSAnc2xvdCc6XG4gICAgICByZXR1cm4gZ2V0Q2goZWxtKS5maWx0ZXIoaXNDaGlsZFNsb3QpO1xuICAgIGNhc2UgJ3Jvb3QnOlxuICAgICAgcmV0dXJuIGdldENoKGVsbSkuZmlsdGVyKGlzQ2hpbGRDb21wb25lbnQpO1xuICAgIGNhc2UgJ2ZhbGxiYWNrJzpcbiAgICAgIHJldHVybiBnZXRDaChlbG0pLmZpbHRlcihpc0ZhbGxiYWNrKTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZShlbG06IE5vZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIGVsbS5ub2RlVHlwZSA9PT0gMSB8fCBlbG0ubm9kZVR5cGUgPT09IDM7XG59XG5cbmZ1bmN0aW9uIGlzRmFsbGJhY2sobm9kZTogTm9kZSk6IGJvb2xlYW4ge1xuICByZXR1cm4gbm9kZS5ub2RlTmFtZSA9PT0gJ1E6RkFMTEJBQ0snO1xufVxuXG5mdW5jdGlvbiBpc0NoaWxkU2xvdChub2RlOiBOb2RlKSB7XG4gIHJldHVybiBub2RlLm5vZGVOYW1lICE9PSAnUTpGQUxMQkFDSycgJiYgaXNDaGlsZENvbXBvbmVudChub2RlKTtcbn1cblxuZnVuY3Rpb24gaXNTbG90VGVtcGxhdGUobm9kZTogTm9kZSk6IG5vZGUgaXMgSFRNTFRlbXBsYXRlRWxlbWVudCB7XG4gIHJldHVybiBub2RlLm5vZGVOYW1lID09PSAnVEVNUExBVEUnICYmIChub2RlIGFzIEVsZW1lbnQpLmhhc0F0dHJpYnV0ZShRU2xvdEF0dHIpO1xufVxuXG5mdW5jdGlvbiBpc0NoaWxkQ29tcG9uZW50KG5vZGU6IE5vZGUpOiBib29sZWFuIHtcbiAgcmV0dXJuIG5vZGUubm9kZU5hbWUgIT09ICdURU1QTEFURScgfHwgIShub2RlIGFzIEVsZW1lbnQpLmhhc0F0dHJpYnV0ZShRU2xvdEF0dHIpO1xufVxuXG5mdW5jdGlvbiBzcGxpdEJ5PFQ+KGlucHV0OiBUW10sIGNvbmRpdGlvbjogKGl0ZW06IFQpID0+IHN0cmluZyk6IFJlY29yZDxzdHJpbmcsIFRbXT4ge1xuICBjb25zdCBvdXRwdXQ6IFJlY29yZDxzdHJpbmcsIFRbXT4gPSB7fTtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGlucHV0KSB7XG4gICAgY29uc3Qga2V5ID0gY29uZGl0aW9uKGl0ZW0pO1xuICAgIGNvbnN0IGFycmF5ID0gb3V0cHV0W2tleV0gPz8gKG91dHB1dFtrZXldID0gW10pO1xuICAgIGFycmF5LnB1c2goaXRlbSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhdGNoVm5vZGUoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGVsbTogTm9kZSxcbiAgdm5vZGU6IEpTWE5vZGU8YW55PixcbiAgaXNTdmc6IGJvb2xlYW5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+IHtcbiAgcmN0eC5wZXJmLnZpc2l0ZWQrKztcbiAgdm5vZGUuZWxtID0gZWxtO1xuICBjb25zdCB0YWcgPSB2bm9kZS50eXBlO1xuICBpZiAodGFnID09PSAnI3RleHQnKSB7XG4gICAgaWYgKChlbG0gYXMgVGV4dCkuZGF0YSAhPT0gdm5vZGUudGV4dCkge1xuICAgICAgc2V0UHJvcGVydHkocmN0eCwgZWxtLCAnZGF0YScsIHZub2RlLnRleHQpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAodGFnID09PSBIb3N0IHx8IHRhZyA9PT0gU2tpcFJlcmVuZGVyKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFpc1N2Zykge1xuICAgIGlzU3ZnID0gdGFnID09PSAnc3ZnJztcbiAgfVxuXG4gIGxldCBwcm9taXNlOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPjtcbiAgY29uc3QgcHJvcHMgPSB2bm9kZS5wcm9wcztcbiAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChlbG0gYXMgRWxlbWVudCk7XG4gIGNvbnN0IGRpcnR5ID0gdXBkYXRlUHJvcGVydGllcyhyY3R4LCBjdHgsIHByb3BzLCBpc1N2Zyk7XG4gIGNvbnN0IGlzU2xvdCA9IHRhZyA9PT0gJ3E6c2xvdCc7XG4gIGlmIChpc1N2ZyAmJiB2bm9kZS50eXBlID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICBpc1N2ZyA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGlzU2xvdCkge1xuICAgIHJjdHguY29tcG9uZW50IS5zbG90cy5wdXNoKHZub2RlKTtcbiAgfVxuICBjb25zdCBpc0NvbXBvbmVudCA9IGlzQ29tcG9uZW50Tm9kZSh2bm9kZSk7XG4gIGlmIChkaXJ0eSkge1xuICAgIHByb21pc2UgPSByZW5kZXJDb21wb25lbnQocmN0eCwgY3R4KTtcbiAgfVxuICBjb25zdCBjaCA9IHZub2RlLmNoaWxkcmVuO1xuICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICByZXR1cm4gdGhlbihwcm9taXNlLCAoKSA9PiB7XG4gICAgICBjb25zdCBzbG90TWFwcyA9IGdldFNsb3RzKGN0eC5jb21wb25lbnQsIGVsbSBhcyBFbGVtZW50KTtcbiAgICAgIGNvbnN0IHNwbGl0dGVkQ2hpZHJlbiA9IHNwbGl0QnkoY2gsIGdldFNsb3ROYW1lKTtcbiAgICAgIGNvbnN0IHByb21pc2VzOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPltdID0gW107XG5cbiAgICAgIC8vIE1hcmsgZW1wdHkgc2xvdHMgYW5kIHJlbW92ZSBjb250ZW50XG4gICAgICBPYmplY3QuZW50cmllcyhzbG90TWFwcy5zbG90cykuZm9yRWFjaCgoW2tleSwgc2xvdEVsXSkgPT4ge1xuICAgICAgICBpZiAoc2xvdEVsICYmICFzcGxpdHRlZENoaWRyZW5ba2V5XSkge1xuICAgICAgICAgIGNvbnN0IG9sZENoID0gZ2V0Q2hpbGRyZW4oc2xvdEVsLCAnc2xvdCcpO1xuICAgICAgICAgIGlmIChvbGRDaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZW1vdmVWbm9kZXMocmN0eCwgc2xvdEVsLCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gUmVuZGVyIGludG8gc2xvdHNcbiAgICAgIE9iamVjdC5lbnRyaWVzKHNwbGl0dGVkQ2hpZHJlbikuZm9yRWFjaCgoW2tleSwgY2hdKSA9PiB7XG4gICAgICAgIGNvbnN0IHNsb3RFbG0gPSBnZXRTbG90RWxlbWVudChyY3R4LCBzbG90TWFwcywgZWxtIGFzIEVsZW1lbnQsIGtleSk7XG4gICAgICAgIHByb21pc2VzLnB1c2goc21hcnRVcGRhdGVDaGlsZHJlbihyY3R4LCBzbG90RWxtLCBjaCwgJ3Nsb3QnLCBpc1N2ZykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGhlbihwcm9taXNlQWxsKHByb21pc2VzKSwgKCkgPT4ge1xuICAgICAgICByZW1vdmVUZW1wbGF0ZXMocmN0eCwgc2xvdE1hcHMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgY29uc3Qgc2V0c0lubmVySFRNTCA9IGNoZWNrSW5uZXJIVE1MKHByb3BzKTtcbiAgaWYgKHNldHNJbm5lckhUTUwpIHtcbiAgICBpZiAocURldiAmJiBjaC5sZW5ndGggPiAwKSB7XG4gICAgICBsb2dXYXJuKCdOb2RlIGNhbiBub3QgaGF2ZSBjaGlsZHJlbiB3aGVuIGlubmVySFRNTCBpcyBzZXQnKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiB0aGVuKHByb21pc2UsICgpID0+IHtcbiAgICBjb25zdCBtb2RlID0gaXNTbG90ID8gJ2ZhbGxiYWNrJyA6ICdkZWZhdWx0JztcbiAgICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihyY3R4LCBlbG0sIGNoLCBtb2RlLCBpc1N2Zyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRWbm9kZXMoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgcGFyZW50RWxtOiBOb2RlLFxuICBiZWZvcmU6IE5vZGUgfCB1bmRlZmluZWQsXG4gIHZub2RlczogSlNYTm9kZVtdLFxuICBzdGFydElkeDogbnVtYmVyLFxuICBlbmRJZHg6IG51bWJlcixcbiAgaXNTdmc6IGJvb2xlYW5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgcHJvbWlzZXMgPSBbXTtcbiAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgIGNvbnN0IGNoID0gdm5vZGVzW3N0YXJ0SWR4XTtcbiAgICBhc3NlcnREZWZpbmVkKGNoKTtcbiAgICBwcm9taXNlcy5wdXNoKGNyZWF0ZUVsbShjdHgsIGNoLCBpc1N2ZykpO1xuICB9XG4gIHJldHVybiB0aGVuKHByb21pc2VBbGwocHJvbWlzZXMpIGFzIGFueSwgKGNoaWxkcmVuOiBOb2RlW10pID0+IHtcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgICBpbnNlcnRCZWZvcmUoY3R4LCBwYXJlbnRFbG0sIGNoaWxkLCBiZWZvcmUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVZub2RlcyhcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBwYXJlbnRFbG06IE5vZGUsXG4gIG5vZGVzOiBOb2RlW10sXG4gIHN0YXJ0SWR4OiBudW1iZXIsXG4gIGVuZElkeDogbnVtYmVyXG4pOiB2b2lkIHtcbiAgZm9yICg7IHN0YXJ0SWR4IDw9IGVuZElkeDsgKytzdGFydElkeCkge1xuICAgIGNvbnN0IGNoID0gbm9kZXNbc3RhcnRJZHhdO1xuICAgIGFzc2VydERlZmluZWQoY2gpO1xuICAgIHJlbW92ZU5vZGUoY3R4LCBjaCk7XG4gIH1cbn1cblxubGV0IHJlZkNvdW50ID0gMDtcbmNvbnN0IFJlZlN5bWJvbCA9IFN5bWJvbCgpO1xuXG5mdW5jdGlvbiBzZXRTbG90UmVmKGN0eDogUmVuZGVyQ29udGV4dCwgaG9zdEVsbTogRWxlbWVudCwgc2xvdEVsOiBFbGVtZW50KSB7XG4gIGxldCByZWYgPSAoaG9zdEVsbSBhcyBhbnkpW1JlZlN5bWJvbF0gPz8gaG9zdEVsbS5nZXRBdHRyaWJ1dGUoJ3E6c3JlZicpO1xuICBpZiAocmVmID09PSBudWxsKSB7XG4gICAgcmVmID0gaW50VG9TdHIocmVmQ291bnQrKyk7XG4gICAgKGhvc3RFbG0gYXMgYW55KVtSZWZTeW1ib2xdID0gcmVmO1xuICAgIHNldEF0dHJpYnV0ZShjdHgsIGhvc3RFbG0sICdxOnNyZWYnLCByZWYpO1xuICB9XG4gIHNsb3RFbC5zZXRBdHRyaWJ1dGUoJ3E6c3JlZicsIHJlZik7XG59XG5cbmZ1bmN0aW9uIGdldFNsb3RFbGVtZW50KFxuICBjdHg6IFJlbmRlckNvbnRleHQsXG4gIHNsb3RNYXBzOiBTbG90TWFwcyxcbiAgcGFyZW50RWw6IEVsZW1lbnQsXG4gIHNsb3ROYW1lOiBzdHJpbmdcbik6IEVsZW1lbnQge1xuICBjb25zdCBzbG90RWwgPSBzbG90TWFwcy5zbG90c1tzbG90TmFtZV07XG4gIGlmIChzbG90RWwpIHtcbiAgICByZXR1cm4gc2xvdEVsO1xuICB9XG4gIGNvbnN0IHRlbXBsYXRlRWwgPSBzbG90TWFwcy50ZW1wbGF0ZXNbc2xvdE5hbWVdO1xuICBpZiAodGVtcGxhdGVFbCkge1xuICAgIHJldHVybiB0ZW1wbGF0ZUVsLmNvbnRlbnQgYXMgYW55O1xuICB9XG4gIGNvbnN0IHRlbXBsYXRlID0gY3JlYXRlVGVtcGxhdGUoY3R4LCBzbG90TmFtZSk7XG4gIHByZXBlbmQoY3R4LCBwYXJlbnRFbCwgdGVtcGxhdGUpO1xuICBzbG90TWFwcy50ZW1wbGF0ZXNbc2xvdE5hbWVdID0gdGVtcGxhdGU7XG4gIHJldHVybiB0ZW1wbGF0ZS5jb250ZW50IGFzIGFueTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGVtcGxhdGUoY3R4OiBSZW5kZXJDb250ZXh0LCBzbG90TmFtZTogc3RyaW5nKSB7XG4gIGNvbnN0IHRlbXBsYXRlID0gY3JlYXRlRWxlbWVudChjdHgsICd0ZW1wbGF0ZScsIGZhbHNlKSBhcyBIVE1MVGVtcGxhdGVFbGVtZW50O1xuICB0ZW1wbGF0ZS5zZXRBdHRyaWJ1dGUoUVNsb3RBdHRyLCBzbG90TmFtZSk7XG4gIHJldHVybiB0ZW1wbGF0ZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlVGVtcGxhdGVzKGN0eDogUmVuZGVyQ29udGV4dCwgc2xvdE1hcHM6IFNsb3RNYXBzKSB7XG4gIE9iamVjdC5rZXlzKHNsb3RNYXBzLnRlbXBsYXRlcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgY29uc3QgdGVtcGxhdGUgPSBzbG90TWFwcy50ZW1wbGF0ZXNba2V5XSE7XG4gICAgaWYgKHRlbXBsYXRlICYmIHNsb3RNYXBzLnNsb3RzW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmVtb3ZlTm9kZShjdHgsIHRlbXBsYXRlKTtcbiAgICAgIHNsb3RNYXBzLnRlbXBsYXRlc1trZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNvbHZlU2xvdFByb2plY3Rpb24oXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgaG9zdEVsbTogRWxlbWVudCxcbiAgYmVmb3JlOiBTbG90TWFwcyxcbiAgYWZ0ZXI6IFNsb3RNYXBzXG4pIHtcbiAgT2JqZWN0LmVudHJpZXMoYmVmb3JlLnNsb3RzKS5mb3JFYWNoKChba2V5LCBzbG90RWxdKSA9PiB7XG4gICAgaWYgKHNsb3RFbCAmJiAhYWZ0ZXIuc2xvdHNba2V5XSkge1xuICAgICAgLy8gU2xvdCByZW1vdmVkXG4gICAgICAvLyBNb3ZlIHNsb3QgdG8gdGVtcGxhdGVcbiAgICAgIGNvbnN0IHRlbXBsYXRlID0gY3JlYXRlVGVtcGxhdGUoY3R4LCBrZXkpO1xuICAgICAgY29uc3Qgc2xvdENoaWxkcmVuID0gZ2V0Q2hpbGRyZW4oc2xvdEVsLCAnc2xvdCcpO1xuICAgICAgdGVtcGxhdGUuY29udGVudC5hcHBlbmQoLi4uc2xvdENoaWxkcmVuKTtcbiAgICAgIGhvc3RFbG0uaW5zZXJ0QmVmb3JlKHRlbXBsYXRlLCBob3N0RWxtLmZpcnN0Q2hpbGQpO1xuXG4gICAgICBjdHgub3BlcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgZWw6IHRlbXBsYXRlLFxuICAgICAgICBvcGVyYXRpb246ICdzbG90LXRvLXRlbXBsYXRlJyxcbiAgICAgICAgYXJnczogc2xvdENoaWxkcmVuLFxuICAgICAgICBmbjogKCkgPT4ge30sXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5lbnRyaWVzKGFmdGVyLnNsb3RzKS5mb3JFYWNoKChba2V5LCBzbG90RWxdKSA9PiB7XG4gICAgaWYgKHNsb3RFbCAmJiAhYmVmb3JlLnNsb3RzW2tleV0pIHtcbiAgICAgIC8vIFNsb3QgY3JlYXRlZFxuICAgICAgLy8gTW92ZSB0ZW1wbGF0ZSB0byBzbG90XG4gICAgICBjb25zdCB0ZW1wbGF0ZSA9IGJlZm9yZS50ZW1wbGF0ZXNba2V5XTtcbiAgICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgICBzbG90RWwuYXBwZW5kQ2hpbGQodGVtcGxhdGUuY29udGVudCk7XG4gICAgICAgIHRlbXBsYXRlLnJlbW92ZSgpO1xuICAgICAgICBjdHgub3BlcmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICBlbDogc2xvdEVsLFxuICAgICAgICAgIG9wZXJhdGlvbjogJ3RlbXBsYXRlLXRvLXNsb3QnLFxuICAgICAgICAgIGFyZ3M6IFt0ZW1wbGF0ZV0sXG4gICAgICAgICAgZm46ICgpID0+IHt9LFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRTbG90TmFtZShub2RlOiBKU1hOb2RlKTogc3RyaW5nIHtcbiAgcmV0dXJuIG5vZGUucHJvcHM/LlsncTpzbG90J10gPz8gJyc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsbShyY3R4OiBSZW5kZXJDb250ZXh0LCB2bm9kZTogSlNYTm9kZSwgaXNTdmc6IGJvb2xlYW4pOiBWYWx1ZU9yUHJvbWlzZTxOb2RlPiB7XG4gIHJjdHgucGVyZi52aXNpdGVkKys7XG4gIGNvbnN0IHRhZyA9IHZub2RlLnR5cGU7XG4gIGlmICh0YWcgPT09ICcjdGV4dCcpIHtcbiAgICByZXR1cm4gKHZub2RlLmVsbSA9IGNyZWF0ZVRleHROb2RlKHJjdHgsIHZub2RlLnRleHQhKSk7XG4gIH1cbiAgaWYgKCFpc1N2Zykge1xuICAgIGlzU3ZnID0gdGFnID09PSAnc3ZnJztcbiAgfVxuXG4gIGNvbnN0IHByb3BzID0gdm5vZGUucHJvcHM7XG4gIGNvbnN0IGVsbSA9ICh2bm9kZS5lbG0gPSBjcmVhdGVFbGVtZW50KHJjdHgsIHRhZywgaXNTdmcpKTtcbiAgY29uc3QgaXNDb21wb25lbnQgPSBpc0NvbXBvbmVudE5vZGUodm5vZGUpO1xuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsbSk7XG4gIHNldEtleShlbG0sIHZub2RlLmtleSk7XG4gIHVwZGF0ZVByb3BlcnRpZXMocmN0eCwgY3R4LCBwcm9wcywgaXNTdmcpO1xuXG4gIGlmIChpc1N2ZyAmJiB0YWcgPT09ICdmb3JlaWduT2JqZWN0Jykge1xuICAgIGlzU3ZnID0gZmFsc2U7XG4gIH1cbiAgY29uc3QgY3VycmVudENvbXBvbmVudCA9IHJjdHguY29tcG9uZW50O1xuICBpZiAoY3VycmVudENvbXBvbmVudCkge1xuICAgIGNvbnN0IHN0eWxlVGFnID0gY3VycmVudENvbXBvbmVudC5zdHlsZUNsYXNzO1xuICAgIGlmIChzdHlsZVRhZykge1xuICAgICAgY2xhc3NsaXN0QWRkKHJjdHgsIGVsbSwgc3R5bGVUYWcpO1xuICAgIH1cbiAgICBpZiAodGFnID09PSAncTpzbG90Jykge1xuICAgICAgc2V0U2xvdFJlZihyY3R4LCBjdXJyZW50Q29tcG9uZW50Lmhvc3RFbGVtZW50LCBlbG0pO1xuICAgICAgcmN0eC5jb21wb25lbnQhLnNsb3RzLnB1c2godm5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGxldCB3YWl0OiBWYWx1ZU9yUHJvbWlzZTx2b2lkPjtcbiAgaWYgKGlzQ29tcG9uZW50KSB7XG4gICAgLy8gUnVuIG1vdW50IGhvb2tcbiAgICBjb25zdCByZW5kZXJRUkwgPSBwcm9wcyFbT25SZW5kZXJQcm9wXSEgYXMgUVJMPE9uUmVuZGVyRm48YW55Pj47XG4gICAgY3R4LnJlbmRlclFybCA9IHJlbmRlclFSTDtcbiAgICBjdHgucmVmTWFwLmFkZChyZW5kZXJRUkwpO1xuICAgIHdhaXQgPSBmaXJzdFJlbmRlckNvbXBvbmVudChyY3R4LCBjdHgpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHNldHNJbm5lckhUTUwgPSBjaGVja0lubmVySFRNTChwcm9wcyk7XG4gICAgaWYgKHNldHNJbm5lckhUTUwpIHtcbiAgICAgIGlmIChxRGV2ICYmIHZub2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbG9nV2FybignTm9kZSBjYW4gbm90IGhhdmUgY2hpbGRyZW4gd2hlbiBpbm5lckhUTUwgaXMgc2V0Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxtO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhlbih3YWl0LCAoKSA9PiB7XG4gICAgbGV0IGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgY2hpbGRyZW5bMF0udHlwZSA9PT0gU2tpcFJlcmVuZGVyKSB7XG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW5bMF0uY2hpbGRyZW47XG4gICAgICB9XG4gICAgICBjb25zdCBzbG90TWFwID0gaXNDb21wb25lbnQgPyBnZXRTbG90cyhjdHguY29tcG9uZW50LCBlbG0pIDogdW5kZWZpbmVkO1xuICAgICAgY29uc3QgcHJvbWlzZXMgPSBjaGlsZHJlbi5tYXAoKGNoKSA9PiBjcmVhdGVFbG0ocmN0eCwgY2gsIGlzU3ZnKSk7XG4gICAgICByZXR1cm4gdGhlbihwcm9taXNlQWxsKHByb21pc2VzKSBhcyBhbnksICgpID0+IHtcbiAgICAgICAgbGV0IHBhcmVudCA9IGVsbTtcbiAgICAgICAgZm9yIChjb25zdCBub2RlIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKHNsb3RNYXApIHtcbiAgICAgICAgICAgIHBhcmVudCA9IGdldFNsb3RFbGVtZW50KHJjdHgsIHNsb3RNYXAsIGVsbSwgZ2V0U2xvdE5hbWUobm9kZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQobm9kZS5lbG0hKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxtO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBlbG07XG4gIH0pO1xufVxuaW50ZXJmYWNlIFNsb3RNYXBzIHtcbiAgc2xvdHM6IFJlY29yZDxzdHJpbmcsIEVsZW1lbnQgfCB1bmRlZmluZWQ+O1xuICB0ZW1wbGF0ZXM6IFJlY29yZDxzdHJpbmcsIEhUTUxUZW1wbGF0ZUVsZW1lbnQgfCB1bmRlZmluZWQ+O1xufVxuXG5jb25zdCBnZXRTbG90cyA9IChjb21wb25lbnRDdHg6IENvbXBvbmVudEN0eCB8IHVuZGVmaW5lZCwgaG9zdEVsbTogRWxlbWVudCk6IFNsb3RNYXBzID0+IHtcbiAgY29uc3Qgc2xvdHM6IFJlY29yZDxzdHJpbmcsIEVsZW1lbnQ+ID0ge307XG4gIGNvbnN0IHRlbXBsYXRlczogUmVjb3JkPHN0cmluZywgSFRNTFRlbXBsYXRlRWxlbWVudD4gPSB7fTtcbiAgY29uc3Qgc2xvdFJlZiA9IGhvc3RFbG0uZ2V0QXR0cmlidXRlKCdxOnNyZWYnKTtcbiAgY29uc3QgZXhpc3RpbmdTbG90cyA9IEFycmF5LmZyb20oaG9zdEVsbS5xdWVyeVNlbGVjdG9yQWxsKGBxXFxcXDpzbG90W3FcXFxcOnNyZWY9XCIke3Nsb3RSZWZ9XCJdYCkpO1xuICBjb25zdCBuZXdTbG90cyA9IGNvbXBvbmVudEN0eD8uc2xvdHMgPz8gRU1QVFlfQVJSQVk7XG4gIGNvbnN0IHQgPSBBcnJheS5mcm9tKGhvc3RFbG0uY2hpbGROb2RlcykuZmlsdGVyKGlzU2xvdFRlbXBsYXRlKTtcblxuICAvLyBNYXAgc2xvdHNcbiAgZm9yIChjb25zdCBlbG0gb2YgZXhpc3RpbmdTbG90cykge1xuICAgIHNsb3RzW2VsbS5nZXRBdHRyaWJ1dGUoJ25hbWUnKSA/PyAnJ10gPSBlbG07XG4gIH1cblxuICAvLyBNYXAgdmlydHVhbCBzbG90c1xuICBmb3IgKGNvbnN0IHZub2RlIG9mIG5ld1Nsb3RzKSB7XG4gICAgc2xvdHNbdm5vZGUucHJvcHM/Lm5hbWUgPz8gJyddID0gdm5vZGUuZWxtIGFzIEVsZW1lbnQ7XG4gIH1cblxuICAvLyBNYXAgdGVtcGxhdGVzXG4gIGZvciAoY29uc3QgZWxtIG9mIHQpIHtcbiAgICB0ZW1wbGF0ZXNbZWxtLmdldEF0dHJpYnV0ZSgncTpzbG90JykgPz8gJyddID0gZWxtO1xuICB9XG5cbiAgcmV0dXJuIHsgc2xvdHMsIHRlbXBsYXRlcyB9O1xufTtcblxuY29uc3QgaGFuZGxlU3R5bGU6IFByb3BIYW5kbGVyID0gKGN0eCwgZWxtLCBfLCBuZXdWYWx1ZSkgPT4ge1xuICBzZXRBdHRyaWJ1dGUoY3R4LCBlbG0sICdzdHlsZScsIHN0cmluZ2lmeUNsYXNzT3JTdHlsZShuZXdWYWx1ZSwgZmFsc2UpKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBoYW5kbGVDbGFzczogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlKSA9PiB7XG4gIHNldEF0dHJpYnV0ZShjdHgsIGVsbSwgJ2NsYXNzJywgc3RyaW5naWZ5Q2xhc3NPclN0eWxlKG5ld1ZhbHVlLCB0cnVlKSk7XG4gIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgY2hlY2tCZWZvcmVBc3NpZ246IFByb3BIYW5kbGVyID0gKGN0eCwgZWxtLCBwcm9wLCBuZXdWYWx1ZSkgPT4ge1xuICBpZiAocHJvcCBpbiBlbG0pIHtcbiAgICBpZiAoKGVsbSBhcyBhbnkpW3Byb3BdICE9PSBuZXdWYWx1ZSkge1xuICAgICAgc2V0UHJvcGVydHkoY3R4LCBlbG0sIHByb3AsIG5ld1ZhbHVlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBkYW5nZXJvdXNseVNldElubmVySFRNTCA9ICdkYW5nZXJvdXNseVNldElubmVySFRNTCc7XG5jb25zdCBzZXRJbm5lckhUTUw6IFByb3BIYW5kbGVyID0gKGN0eCwgZWxtLCBfLCBuZXdWYWx1ZSkgPT4ge1xuICBpZiAoZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgaW4gZWxtKSB7XG4gICAgc2V0UHJvcGVydHkoY3R4LCBlbG0sIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MLCBuZXdWYWx1ZSk7XG4gIH0gZWxzZSBpZiAoJ2lubmVySFRNTCcgaW4gZWxtKSB7XG4gICAgc2V0UHJvcGVydHkoY3R4LCBlbG0sICdpbm5lckhUTUwnLCBuZXdWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBQUk9QX0hBTkRMRVJfTUFQOiBSZWNvcmQ8c3RyaW5nLCBQcm9wSGFuZGxlcj4gPSB7XG4gIHN0eWxlOiBoYW5kbGVTdHlsZSxcbiAgY2xhc3M6IGhhbmRsZUNsYXNzLFxuICBjbGFzc05hbWU6IGhhbmRsZUNsYXNzLFxuICB2YWx1ZTogY2hlY2tCZWZvcmVBc3NpZ24sXG4gIGNoZWNrZWQ6IGNoZWNrQmVmb3JlQXNzaWduLFxuICBbZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxdOiBzZXRJbm5lckhUTUwsXG59O1xuXG5jb25zdCBBTExPV1NfUFJPUFMgPSBbJ2NsYXNzJywgJ2NsYXNzTmFtZScsICdzdHlsZScsICdpZCcsICdxOnNsb3QnXTtcbmNvbnN0IEhPU1RfUFJFRklYID0gJ2hvc3Q6JztcblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVByb3BlcnRpZXMoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGN0eDogUUNvbnRleHQsXG4gIGV4cGVjdFByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbCxcbiAgaXNTdmc6IGJvb2xlYW5cbikge1xuICBpZiAoIWV4cGVjdFByb3BzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGVsbSA9IGN0eC5lbGVtZW50O1xuICBjb25zdCBxd2lrUHJvcHMgPSBPblJlbmRlclByb3AgaW4gZXhwZWN0UHJvcHMgPyBnZXRQcm9wcyhjdHgpIDogdW5kZWZpbmVkO1xuXG4gIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyhleHBlY3RQcm9wcykpIHtcbiAgICBpZiAoa2V5ID09PSAnY2hpbGRyZW4nIHx8IGtleSA9PT0gT25SZW5kZXJQcm9wKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgbmV3VmFsdWUgPSBleHBlY3RQcm9wc1trZXldO1xuICAgIGlmIChrZXkgPT09ICdyZWYnKSB7XG4gICAgICAobmV3VmFsdWUgYXMgUmVmPEVsZW1lbnQ+KS5jdXJyZW50ID0gZWxtO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRWFybHkgZXhpdCBpZiB2YWx1ZSBkaWRudCBjaGFuZ2VcbiAgICBjb25zdCBvbGRWYWx1ZSA9IGN0eC5jYWNoZS5nZXQoa2V5KTtcbiAgICBpZiAobmV3VmFsdWUgPT09IG9sZFZhbHVlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY3R4LmNhY2hlLnNldChrZXksIG5ld1ZhbHVlKTtcblxuICAgIC8vIENoZWNrIG9mIGRhdGEtIG9yIGFyaWEtXG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCdkYXRhLScpIHx8IGtleS5zdGFydHNXaXRoKCdhcmlhLScpKSB7XG4gICAgICBzZXRBdHRyaWJ1dGUocmN0eCwgZWxtLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChxd2lrUHJvcHMpIHtcbiAgICAgIGNvbnN0IHNraXBQcm9wZXJ0eSA9IEFMTE9XU19QUk9QUy5pbmNsdWRlcyhrZXkpO1xuICAgICAgY29uc3QgaFByZWZpeGVkID0ga2V5LnN0YXJ0c1dpdGgoSE9TVF9QUkVGSVgpO1xuICAgICAgaWYgKCFza2lwUHJvcGVydHkgJiYgIWhQcmVmaXhlZCkge1xuICAgICAgICAvLyBRd2lrIHByb3BzXG4gICAgICAgIHF3aWtQcm9wc1trZXldID0gbmV3VmFsdWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKGhQcmVmaXhlZCkge1xuICAgICAgICBrZXkgPSBrZXkuc2xpY2UoSE9TVF9QUkVGSVgubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHFEZXYgJiYga2V5LnN0YXJ0c1dpdGgoSE9TVF9QUkVGSVgpKSB7XG4gICAgICBsb2dXYXJuKGAke0hPU1RfUFJFRklYfSBwcmVmaXggY2FuIG5vdCBiZSB1c2VkIGluIG5vbiBjb21wb25lbnRzYCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNPblByb3Aoa2V5KSkge1xuICAgICAgc2V0RXZlbnQocmN0eCwgY3R4LCBrZXkuc2xpY2UoMCwgLTMpLCBuZXdWYWx1ZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNPbiRQcm9wKGtleSkpIHtcbiAgICAgIHNldEV2ZW50KHJjdHgsIGN0eCwga2V5LnNsaWNlKDAsIC0xKSwgJChuZXdWYWx1ZSkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgaXRzIGFuIGV4Y2VwdGlvblxuICAgIGNvbnN0IGV4Y2VwdGlvbiA9IFBST1BfSEFORExFUl9NQVBba2V5XTtcbiAgICBpZiAoZXhjZXB0aW9uKSB7XG4gICAgICBpZiAoZXhjZXB0aW9uKHJjdHgsIGVsbSBhcyBIVE1MRWxlbWVudCwga2V5LCBuZXdWYWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHByb3BlcnR5IGluIHByb3RvdHlwZVxuICAgIGlmICghaXNTdmcgJiYga2V5IGluIGVsbSkge1xuICAgICAgc2V0UHJvcGVydHkocmN0eCwgZWxtLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIHJlbmRlciBhdHRyaWJ1dGVcbiAgICBzZXRBdHRyaWJ1dGUocmN0eCwgZWxtLCBrZXksIG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gY3R4LmRpcnR5O1xufVxuXG5leHBvcnQgY29uc3Qgc3RhcnRFdmVudCA9IChjdHg6IFJlbmRlckNvbnRleHQsIG5hbWU6IHN0cmluZykgPT4ge1xuICBjb25zdCBldmVudDogUGVyZkV2ZW50ID0ge1xuICAgIG5hbWUsXG4gICAgdGltZVN0YXJ0OiBwZXJmb3JtYW5jZS5ub3coKSxcbiAgICB0aW1lRW5kOiAwLFxuICB9O1xuICBjdHgucGVyZi50aW1pbmcucHVzaChldmVudCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgZXZlbnQudGltZUVuZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJpYnV0ZShjdHg6IFJlbmRlckNvbnRleHQsIGVsOiBFbGVtZW50LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcgfCBudWxsKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZShwcm9wLCBTdHJpbmcodmFsdWUpKTtcbiAgICB9XG4gIH07XG4gIGN0eC5vcGVyYXRpb25zLnB1c2goe1xuICAgIGVsLFxuICAgIG9wZXJhdGlvbjogJ3NldC1hdHRyaWJ1dGUnLFxuICAgIGFyZ3M6IFtwcm9wLCB2YWx1ZV0sXG4gICAgZm4sXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2xhc3NsaXN0QWRkKGN0eDogUmVuZGVyQ29udGV4dCwgZWw6IEVsZW1lbnQsIGhvc3RTdHlsZVRhZzogc3RyaW5nKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoaG9zdFN0eWxlVGFnKTtcbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWwsXG4gICAgb3BlcmF0aW9uOiAnY2xhc3NsaXN0LWFkZCcsXG4gICAgYXJnczogW2hvc3RTdHlsZVRhZ10sXG4gICAgZm4sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXRQcm9wZXJ0eShjdHg6IFJlbmRlckNvbnRleHQsIG5vZGU6IGFueSwga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgY29uc3QgZm4gPSAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIG5vZGVba2V5XSA9IHZhbHVlO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nRXJyb3IoJ1NldCBwcm9wZXJ0eScsIHsgbm9kZSwga2V5LCB2YWx1ZSB9LCBlcnIpO1xuICAgIH1cbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWw6IG5vZGUsXG4gICAgb3BlcmF0aW9uOiAnc2V0LXByb3BlcnR5JyxcbiAgICBhcmdzOiBba2V5LCB2YWx1ZV0sXG4gICAgZm4sXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KGN0eDogUmVuZGVyQ29udGV4dCwgZXhwZWN0VGFnOiBzdHJpbmcsIGlzU3ZnOiBib29sZWFuKTogRWxlbWVudCB7XG4gIGNvbnN0IGVsID0gaXNTdmcgPyBjdHguZG9jLmNyZWF0ZUVsZW1lbnROUyhTVkdfTlMsIGV4cGVjdFRhZykgOiBjdHguZG9jLmNyZWF0ZUVsZW1lbnQoZXhwZWN0VGFnKTtcbiAgKGVsIGFzIGFueSlbQ09OVEFJTkVSXSA9IGN0eC5jb250YWluZXJFbDtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWwsXG4gICAgb3BlcmF0aW9uOiAnY3JlYXRlLWVsZW1lbnQnLFxuICAgIGFyZ3M6IFtleHBlY3RUYWddLFxuICAgIGZuOiAoKSA9PiB7fSxcbiAgfSk7XG4gIHJldHVybiBlbDtcbn1cblxuZnVuY3Rpb24gaW5zZXJ0QmVmb3JlPFQgZXh0ZW5kcyBOb2RlPihcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBwYXJlbnQ6IE5vZGUsXG4gIG5ld0NoaWxkOiBULFxuICByZWZDaGlsZDogTm9kZSB8IG51bGwgfCB1bmRlZmluZWRcbik6IFQge1xuICBjb25zdCBmbiA9ICgpID0+IHtcbiAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5ld0NoaWxkLCByZWZDaGlsZCA/IHJlZkNoaWxkIDogbnVsbCk7XG4gIH07XG4gIGN0eC5vcGVyYXRpb25zLnB1c2goe1xuICAgIGVsOiBwYXJlbnQsXG4gICAgb3BlcmF0aW9uOiAnaW5zZXJ0LWJlZm9yZScsXG4gICAgYXJnczogW25ld0NoaWxkLCByZWZDaGlsZF0sXG4gICAgZm4sXG4gIH0pO1xuICByZXR1cm4gbmV3Q2hpbGQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRTdHlsZShjdHg6IFJlbmRlckNvbnRleHQsIGhvc3RFbGVtZW50OiBFbGVtZW50LCBzdHlsZVRhc2s6IFN0eWxlQXBwZW5kKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGNvbnN0IGNvbnRhaW5lckVsID0gY3R4LmNvbnRhaW5lckVsO1xuICAgIGNvbnN0IHN0eWxlc1BhcmVudCA9XG4gICAgICBjdHguZG9jLmRvY3VtZW50RWxlbWVudCA9PT0gY29udGFpbmVyRWwgPyBjdHguZG9jLmhlYWQgPz8gY29udGFpbmVyRWwgOiBjb250YWluZXJFbDtcbiAgICBpZiAoIXN0eWxlc1BhcmVudC5xdWVyeVNlbGVjdG9yKGBzdHlsZVtxXFxcXDpzdHlsZT1cIiR7c3R5bGVUYXNrLnN0eWxlSWR9XCJdYCkpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gY3R4LmRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgc3R5bGUuc2V0QXR0cmlidXRlKCdxOnN0eWxlJywgc3R5bGVUYXNrLnN0eWxlSWQpO1xuICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSBzdHlsZVRhc2suY29udGVudDtcbiAgICAgIHN0eWxlc1BhcmVudC5pbnNlcnRCZWZvcmUoc3R5bGUsIHN0eWxlc1BhcmVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gIH07XG4gIGN0eC5vcGVyYXRpb25zLnB1c2goe1xuICAgIGVsOiBob3N0RWxlbWVudCxcbiAgICBvcGVyYXRpb246ICdhcHBlbmQtc3R5bGUnLFxuICAgIGFyZ3M6IFtzdHlsZVRhc2tdLFxuICAgIGZuLFxuICB9KTtcbn1cbmZ1bmN0aW9uIHByZXBlbmQoY3R4OiBSZW5kZXJDb250ZXh0LCBwYXJlbnQ6IEVsZW1lbnQsIG5ld0NoaWxkOiBOb2RlKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobmV3Q2hpbGQsIHBhcmVudC5maXJzdENoaWxkKTtcbiAgfTtcbiAgY3R4Lm9wZXJhdGlvbnMucHVzaCh7XG4gICAgZWw6IHBhcmVudCxcbiAgICBvcGVyYXRpb246ICdwcmVwZW5kJyxcbiAgICBhcmdzOiBbbmV3Q2hpbGRdLFxuICAgIGZuLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShjdHg6IFJlbmRlckNvbnRleHQsIGVsOiBOb2RlKSB7XG4gIGNvbnN0IGZuID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGVsKTtcbiAgICB9IGVsc2UgaWYgKHFEZXYpIHtcbiAgICAgIGxvZ1dhcm4oJ1RyeWluZyB0byByZW1vdmUgY29tcG9uZW50IGFscmVhZHkgcmVtb3ZlZCcsIGVsKTtcbiAgICB9XG4gIH07XG4gIGN0eC5vcGVyYXRpb25zLnB1c2goe1xuICAgIGVsOiBlbCxcbiAgICBvcGVyYXRpb246ICdyZW1vdmUnLFxuICAgIGFyZ3M6IFtdLFxuICAgIGZuLFxuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVGV4dE5vZGUoY3R4OiBSZW5kZXJDb250ZXh0LCB0ZXh0OiBzdHJpbmcpOiBUZXh0IHtcbiAgcmV0dXJuIGN0eC5kb2MuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlQ29udGV4dFdpdGhTbG90cyhjdHg6IFJlbmRlckNvbnRleHQpIHtcbiAgY29uc3QgYmVmb3JlID0gY3R4LnJvb3RzLm1hcCgoZWxtKSA9PiBnZXRTbG90cyh1bmRlZmluZWQsIGVsbSkpO1xuXG4gIGV4ZWN1dGVDb250ZXh0KGN0eCk7XG5cbiAgY29uc3QgYWZ0ZXIgPSBjdHgucm9vdHMubWFwKChlbG0pID0+IGdldFNsb3RzKHVuZGVmaW5lZCwgZWxtKSk7XG4gIGFzc2VydEVxdWFsKGJlZm9yZS5sZW5ndGgsIGFmdGVyLmxlbmd0aCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBiZWZvcmUubGVuZ3RoOyBpKyspIHtcbiAgICByZXNvbHZlU2xvdFByb2plY3Rpb24oY3R4LCBjdHgucm9vdHNbaV0sIGJlZm9yZVtpXSwgYWZ0ZXJbaV0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleGVjdXRlQ29udGV4dChjdHg6IFJlbmRlckNvbnRleHQpIHtcbiAgZm9yIChjb25zdCBvcCBvZiBjdHgub3BlcmF0aW9ucykge1xuICAgIG9wLmZuKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHByaW50UmVuZGVyU3RhdHMoY3R4OiBSZW5kZXJDb250ZXh0KSB7XG4gIGNvbnN0IGJ5T3A6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgZm9yIChjb25zdCBvcCBvZiBjdHgub3BlcmF0aW9ucykge1xuICAgIGJ5T3Bbb3Aub3BlcmF0aW9uXSA9IChieU9wW29wLm9wZXJhdGlvbl0gPz8gMCkgKyAxO1xuICB9XG4gIGNvbnN0IGFmZmVjdGVkRWxlbWVudHMgPSBBcnJheS5mcm9tKG5ldyBTZXQoY3R4Lm9wZXJhdGlvbnMubWFwKChhKSA9PiBhLmVsKSkpO1xuICBjb25zdCBzdGF0cyA9IHtcbiAgICBieU9wLFxuICAgIHJvb3RzOiBjdHgucm9vdHMsXG4gICAgaG9zdEVsZW1lbnRzOiBBcnJheS5mcm9tKGN0eC5ob3N0RWxlbWVudHMpLFxuICAgIGFmZmVjdGVkRWxlbWVudHMsXG4gICAgdmlzaXRlZE5vZGVzOiBjdHgucGVyZi52aXNpdGVkLFxuICAgIG9wZXJhdGlvbnM6IGN0eC5vcGVyYXRpb25zLm1hcCgodikgPT4gW3Yub3BlcmF0aW9uLCB2LmVsLCAuLi52LmFyZ3NdKSxcbiAgfTtcbiAgbG9nRGVidWcoJ1JlbmRlciBzdGF0cycsIHN0YXRzKTtcbiAgcmV0dXJuIHN0YXRzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeChjaGlsZHJlbjogTm9kZVtdLCBiZWdpbklkeDogbnVtYmVyLCBlbmRJZHg6IG51bWJlcik6IEtleVRvSW5kZXhNYXAge1xuICBjb25zdCBtYXA6IEtleVRvSW5kZXhNYXAgPSB7fTtcbiAgZm9yIChsZXQgaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gTm9kZVR5cGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICBjb25zdCBrZXkgPSBnZXRLZXkoY2hpbGQgYXMgRWxlbWVudCk7XG4gICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWFwW2tleSBhcyBzdHJpbmddID0gaTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hcDtcbn1cblxuY29uc3QgS0VZX1NZTUJPTCA9IFN5bWJvbCgndm5vZGUga2V5Jyk7XG5cbmZ1bmN0aW9uIGdldEtleShlbDogRWxlbWVudCk6IHN0cmluZyB8IG51bGwge1xuICBsZXQga2V5ID0gKGVsIGFzIGFueSlbS0VZX1NZTUJPTF07XG4gIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgIGtleSA9IChlbCBhcyBhbnkpW0tFWV9TWU1CT0xdID0gZWwuZ2V0QXR0cmlidXRlKCdxOmtleScpO1xuICB9XG4gIHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIHNldEtleShlbDogRWxlbWVudCwga2V5OiBzdHJpbmcgfCBudWxsKSB7XG4gIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgncTprZXknLCBrZXkpO1xuICB9XG4gIChlbCBhcyBhbnkpW0tFWV9TWU1CT0xdID0ga2V5O1xufVxuXG5mdW5jdGlvbiBzYW1lVm5vZGUodm5vZGUxOiBOb2RlLCB2bm9kZTI6IEpTWE5vZGUpOiBib29sZWFuIHtcbiAgY29uc3QgaXNTYW1lU2VsID0gdm5vZGUxLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IHZub2RlMi50eXBlO1xuICBjb25zdCBpc1NhbWVLZXkgPVxuICAgIHZub2RlMS5ub2RlVHlwZSA9PT0gTm9kZVR5cGUuRUxFTUVOVF9OT0RFID8gZ2V0S2V5KHZub2RlMSBhcyBFbGVtZW50KSA9PT0gdm5vZGUyLmtleSA6IHRydWU7XG4gIHJldHVybiBpc1NhbWVTZWwgJiYgaXNTYW1lS2V5O1xufVxuXG5mdW5jdGlvbiBjaGVja0lubmVySFRNTChwcm9wczogUmVjb3JkPHN0cmluZywgYW55PiB8IHVuZGVmaW5lZCB8IG51bGwpIHtcbiAgcmV0dXJuIHByb3BzICYmICgnaW5uZXJIVE1MJyBpbiBwcm9wcyB8fCBkYW5nZXJvdXNseVNldElubmVySFRNTCBpbiBwcm9wcyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlDbGFzc09yU3R5bGUob2JqOiBhbnksIGlzQ2xhc3M6IGJvb2xlYW4pOiBzdHJpbmcge1xuICBpZiAob2JqID09IG51bGwpIHJldHVybiAnJztcbiAgaWYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcpIHtcbiAgICBsZXQgdGV4dCA9ICcnO1xuICAgIGxldCBzZXAgPSAnJztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBpZiAoIWlzQ2xhc3MpIHtcbiAgICAgICAgdGhyb3cgcUVycm9yKFFFcnJvci5SZW5kZXJfdW5zdXBwb3J0ZWRGb3JtYXRfb2JqX2F0dHIsIG9iaiwgJ3N0eWxlJyk7XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICB0ZXh0ICs9IHNlcCArIG9ialtpXTtcbiAgICAgICAgc2VwID0gJyAnO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICB0ZXh0ICs9IGlzQ2xhc3NcbiAgICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgICAgID8gc2VwICsga2V5XG4gICAgICAgICAgICAgICAgOiAnJ1xuICAgICAgICAgICAgICA6IHNlcCArIGZyb21DYW1lbFRvS2ViYWJDYXNlKGtleSkgKyAnOicgKyB2YWx1ZTtcbiAgICAgICAgICAgIHNlcCA9IGlzQ2xhc3MgPyAnICcgOiAnOyc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9XG4gIHJldHVybiBTdHJpbmcob2JqKTtcbn1cbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { getInvokeContext } from './use-core';\n// <docs markdown=\"https://hackmd.io/lQ8v7fyhR-WD3b-2aRUpyw#useHostElement\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2FlQ8v7fyhR-WD3b-2aRUpyw%3Fboth#useHostElement instead)\n/**\n * Retrieves the Host Element of the current component.\n *\n * NOTE: `useHostElement` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * @public\n */\n// </docs>\nexport function useHostElement() {\n    const element = getInvokeContext().hostElement;\n    assertDefined(element);\n    return element;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWhvc3QtZWxlbWVudC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3VzZS91c2UtaG9zdC1lbGVtZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRTlDLDRFQUE0RTtBQUM1RSx5Q0FBeUM7QUFDekMsd0dBQXdHO0FBQ3hHOzs7Ozs7O0dBT0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxVQUFVLGNBQWM7SUFDNUIsTUFBTSxPQUFPLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQyxXQUFZLENBQUM7SUFDaEQsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZCLE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBnZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vbFE4djdmeWhSLVdEM2ItMmFSVXB5dyN1c2VIb3N0RWxlbWVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRmxROHY3ZnloUi1XRDNiLTJhUlVweXclM0Zib3RoI3VzZUhvc3RFbGVtZW50IGluc3RlYWQpXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgSG9zdCBFbGVtZW50IG9mIHRoZSBjdXJyZW50IGNvbXBvbmVudC5cbiAqXG4gKiBOT1RFOiBgdXNlSG9zdEVsZW1lbnRgIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBzeW5jaHJvbm91cyBwb3J0aW9uIG9mIHRoZSBjYWxsYmFja1xuICogKGJlZm9yZSBhbnkgYGF3YWl0YCBzdGF0ZW1lbnRzLilcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VIb3N0RWxlbWVudCgpOiBFbGVtZW50IHtcbiAgY29uc3QgZWxlbWVudCA9IGdldEludm9rZUNvbnRleHQoKS5ob3N0RWxlbWVudCE7XG4gIGFzc2VydERlZmluZWQoZWxlbWVudCk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuIl19","import { getInvokeContext } from './use-core';\n/**\n * @public\n */\nexport function useDocument() {\n    const doc = getInvokeContext().doc;\n    if (!doc) {\n        throw new Error('Cant access document for existing context');\n    }\n    return doc;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWRvY3VtZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvdXNlL3VzZS1kb2N1bWVudC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRTlDOztHQUVHO0FBQ0gsTUFBTSxVQUFVLFdBQVc7SUFDekIsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDbkMsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNSLE1BQU0sSUFBSSxLQUFLLENBQUMsMkNBQTJDLENBQUMsQ0FBQztLQUM5RDtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VEb2N1bWVudCgpOiBEb2N1bWVudCB7XG4gIGNvbnN0IGRvYyA9IGdldEludm9rZUNvbnRleHQoKS5kb2M7XG4gIGlmICghZG9jKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdDYW50IGFjY2VzcyBkb2N1bWVudCBmb3IgZXhpc3RpbmcgY29udGV4dCcpO1xuICB9XG4gIHJldHVybiBkb2M7XG59XG4iXX0=","import { useDocument } from '../use/use-document.public';\nimport { getProxyMap, qObject } from '../object/q-object';\nimport { getInvokeContext } from './use-core';\nimport { useHostElement } from './use-host-element.public';\nimport { getContext } from '../props/props';\nimport { wrapSubscriber } from './use-subscriber';\nimport { assertEqual } from '../assert/assert';\nimport { RenderEvent } from '../util/markers';\n// <docs markdown=\"https://hackmd.io/lQ8v7fyhR-WD3b-2aRUpyw#useStore\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2FlQ8v7fyhR-WD3b-2aRUpyw%3Fboth#useStore instead)\n/**\n * Creates a object that Qwik can track across serializations.\n *\n * Use `useStore` to create state for your application. The return object is a proxy which has a\n * unique ID. The ID of the object is used in the `QRL`s to refer to the store.\n *\n * ## Example\n *\n * Example showing how `useStore` is used in Counter example to keep track of count.\n *\n * ```typescript\n * export const Counter = component$(() => {\n *   const store = useStore({ count: 0 });\n *   return $(() => <button onClick$={() => store.count++}>{store.count}</button>);\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport function useStore(initialState) {\n    const [store, setStore] = useSequentialScope();\n    const hostElement = useHostElement();\n    if (store != null) {\n        return wrapSubscriber(store, hostElement);\n    }\n    const newStore = qObject(initialState, getProxyMap(useDocument()));\n    setStore(newStore);\n    return wrapSubscriber(newStore, hostElement);\n}\n/**\n * @alpha\n */\nexport function useRef(current) {\n    return useStore({ current });\n}\nexport function useSequentialScope() {\n    const ctx = getInvokeContext();\n    assertEqual(ctx.event, RenderEvent);\n    const index = ctx.seq;\n    const hostElement = useHostElement();\n    const elementCtx = getContext(hostElement);\n    ctx.seq++;\n    const updateFn = (value) => {\n        elementCtx.seq[index] = elementCtx.refMap.add(value);\n    };\n    const seqIndex = elementCtx.seq[index];\n    if (typeof seqIndex === 'number') {\n        return [elementCtx.refMap.get(seqIndex), updateFn];\n    }\n    return [undefined, updateFn];\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0b3JlLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvdXNlL3VzZS1zdG9yZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQ3pELE9BQU8sRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDMUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzlDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFOUMsc0VBQXNFO0FBQ3RFLHlDQUF5QztBQUN6QyxrR0FBa0c7QUFDbEc7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWtCRztBQUNILFVBQVU7QUFDVixNQUFNLFVBQVUsUUFBUSxDQUFtQixZQUFtQjtJQUM1RCxNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLGtCQUFrQixFQUFFLENBQUM7SUFDL0MsTUFBTSxXQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7SUFDckMsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO1FBQ2pCLE9BQU8sY0FBYyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztLQUMzQztJQUNELE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxZQUFZLEVBQUUsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuRSxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbkIsT0FBTyxjQUFjLENBQUMsUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBQy9DLENBQUM7QUFTRDs7R0FFRztBQUNILE1BQU0sVUFBVSxNQUFNLENBQWMsT0FBVztJQUM3QyxPQUFPLFFBQVEsQ0FBQyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7QUFDL0IsQ0FBQztBQUVELE1BQU0sVUFBVSxrQkFBa0I7SUFDaEMsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQixXQUFXLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNwQyxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQ3RCLE1BQU0sV0FBVyxHQUFHLGNBQWMsRUFBRSxDQUFDO0lBQ3JDLE1BQU0sVUFBVSxHQUFHLFVBQVUsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDVixNQUFNLFFBQVEsR0FBRyxDQUFDLEtBQVUsRUFBRSxFQUFFO1FBQzlCLFVBQVUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxDQUFDO0lBQ0YsTUFBTSxRQUFRLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QyxJQUFJLE9BQU8sUUFBUSxLQUFLLFFBQVEsRUFBRTtRQUNoQyxPQUFPLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7S0FDcEQ7SUFDRCxPQUFPLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQy9CLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VEb2N1bWVudCB9IGZyb20gJy4uL3VzZS91c2UtZG9jdW1lbnQucHVibGljJztcbmltcG9ydCB7IGdldFByb3h5TWFwLCBxT2JqZWN0IH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZUhvc3RFbGVtZW50IH0gZnJvbSAnLi91c2UtaG9zdC1lbGVtZW50LnB1YmxpYyc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgd3JhcFN1YnNjcmliZXIgfSBmcm9tICcuL3VzZS1zdWJzY3JpYmVyJztcbmltcG9ydCB7IGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vbFE4djdmeWhSLVdEM2ItMmFSVXB5dyN1c2VTdG9yZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRmxROHY3ZnloUi1XRDNiLTJhUlVweXclM0Zib3RoI3VzZVN0b3JlIGluc3RlYWQpXG4vKipcbiAqIENyZWF0ZXMgYSBvYmplY3QgdGhhdCBRd2lrIGNhbiB0cmFjayBhY3Jvc3Mgc2VyaWFsaXphdGlvbnMuXG4gKlxuICogVXNlIGB1c2VTdG9yZWAgdG8gY3JlYXRlIHN0YXRlIGZvciB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgcmV0dXJuIG9iamVjdCBpcyBhIHByb3h5IHdoaWNoIGhhcyBhXG4gKiB1bmlxdWUgSUQuIFRoZSBJRCBvZiB0aGUgb2JqZWN0IGlzIHVzZWQgaW4gdGhlIGBRUkxgcyB0byByZWZlciB0byB0aGUgc3RvcmUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIEV4YW1wbGUgc2hvd2luZyBob3cgYHVzZVN0b3JlYCBpcyB1c2VkIGluIENvdW50ZXIgZXhhbXBsZSB0byBrZWVwIHRyYWNrIG9mIGNvdW50LlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cG9ydCBjb25zdCBDb3VudGVyID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoeyBjb3VudDogMCB9KTtcbiAqICAgcmV0dXJuICQoKCkgPT4gPGJ1dHRvbiBvbkNsaWNrJD17KCkgPT4gc3RvcmUuY291bnQrK30+e3N0b3JlLmNvdW50fTwvYnV0dG9uPik7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0b3JlPFNUQVRFIGV4dGVuZHMge30+KGluaXRpYWxTdGF0ZTogU1RBVEUpOiBTVEFURSB7XG4gIGNvbnN0IFtzdG9yZSwgc2V0U3RvcmVdID0gdXNlU2VxdWVudGlhbFNjb3BlKCk7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gdXNlSG9zdEVsZW1lbnQoKTtcbiAgaWYgKHN0b3JlICE9IG51bGwpIHtcbiAgICByZXR1cm4gd3JhcFN1YnNjcmliZXIoc3RvcmUsIGhvc3RFbGVtZW50KTtcbiAgfVxuICBjb25zdCBuZXdTdG9yZSA9IHFPYmplY3QoaW5pdGlhbFN0YXRlLCBnZXRQcm94eU1hcCh1c2VEb2N1bWVudCgpKSk7XG4gIHNldFN0b3JlKG5ld1N0b3JlKTtcbiAgcmV0dXJuIHdyYXBTdWJzY3JpYmVyKG5ld1N0b3JlLCBob3N0RWxlbWVudCk7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVmPFQ+IHtcbiAgY3VycmVudD86IFQ7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWY8VCA9IEVsZW1lbnQ+KGN1cnJlbnQ/OiBUKTogUmVmPFQ+IHtcbiAgcmV0dXJuIHVzZVN0b3JlKHsgY3VycmVudCB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNlcXVlbnRpYWxTY29wZSgpOiBbYW55LCAocHJvcDogYW55KSA9PiB2b2lkXSB7XG4gIGNvbnN0IGN0eCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgYXNzZXJ0RXF1YWwoY3R4LmV2ZW50LCBSZW5kZXJFdmVudCk7XG4gIGNvbnN0IGluZGV4ID0gY3R4LnNlcTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSB1c2VIb3N0RWxlbWVudCgpO1xuICBjb25zdCBlbGVtZW50Q3R4ID0gZ2V0Q29udGV4dChob3N0RWxlbWVudCk7XG4gIGN0eC5zZXErKztcbiAgY29uc3QgdXBkYXRlRm4gPSAodmFsdWU6IGFueSkgPT4ge1xuICAgIGVsZW1lbnRDdHguc2VxW2luZGV4XSA9IGVsZW1lbnRDdHgucmVmTWFwLmFkZCh2YWx1ZSk7XG4gIH07XG4gIGNvbnN0IHNlcUluZGV4ID0gZWxlbWVudEN0eC5zZXFbaW5kZXhdO1xuICBpZiAodHlwZW9mIHNlcUluZGV4ID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBbZWxlbWVudEN0eC5yZWZNYXAuZ2V0KHNlcUluZGV4KSwgdXBkYXRlRm5dO1xuICB9XG4gIHJldHVybiBbdW5kZWZpbmVkLCB1cGRhdGVGbl07XG59XG4iXX0=","import { noSerialize, removeSub } from '../object/q-object';\nimport { implicit$FirstArg } from '../import/qrl.public';\nimport { getContext } from '../props/props';\nimport { newInvokeContext, useWaitOn } from '../use/use-core';\nimport { useHostElement } from '../use/use-host-element.public';\nimport { logDebug, logError } from '../util/log';\nimport { then } from '../util/promises';\nimport { wrapSubscriber } from '../use/use-subscriber';\nimport { useSequentialScope } from '../use/use-store.public';\nimport { getDocument } from '../util/dom';\nexport var WatchMode;\n(function (WatchMode) {\n    WatchMode[WatchMode[\"Watch\"] = 0] = \"Watch\";\n    WatchMode[WatchMode[\"LayoutEffect\"] = 1] = \"LayoutEffect\";\n    WatchMode[WatchMode[\"Effect\"] = 2] = \"Effect\";\n})(WatchMode || (WatchMode = {}));\n// <docs markdown=\"https://hackmd.io/_Kl9br9tT8OB-1Dv8uR4Kg#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2F_Kl9br9tT8OB-1Dv8uR4Kg%3Fboth#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs use the `obs`\n * function to wrap property reads. This creates subscriptions which will trigger the `watchFn`\n * to re-run.\n *\n * See: `Observer`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```typescript\n * export const MyComp = component$(() => {\n *   const store = useStore({ count: 0, doubleCount: 0 });\n *   useWatch$((obs) => {\n *     store.doubleCount = 2 * obs(store).count;\n *   });\n *   return $(() => (\n *     <div>\n *       <span>\n *         {store.count} / {store.doubleCount}\n *       </span>\n *       <button onClick$={() => store.count++}>+</button>\n *     </div>\n *   ));\n * });\n * ```\n *\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport function useWatchQrl(watchQrl) {\n    const [watch, setWatch] = useSequentialScope();\n    if (!watch) {\n        const hostElement = useHostElement();\n        const watch = {\n            watchQrl: watchQrl,\n            hostElement,\n            mode: WatchMode.Watch,\n            isConnected: true,\n            dirty: true,\n        };\n        setWatch(watch);\n        getContext(hostElement).refMap.add(watch);\n        useWaitOn(Promise.resolve().then(() => runWatch(watch)));\n    }\n}\nexport const isWatchDescriptor = (obj) => {\n    return obj && typeof obj === 'object' && 'watchQrl' in obj;\n};\n// <docs markdown=\"https://hackmd.io/_Kl9br9tT8OB-1Dv8uR4Kg#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2F_Kl9br9tT8OB-1Dv8uR4Kg%3Fboth#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs use the `obs`\n * function to wrap property reads. This creates subscriptions which will trigger the `watchFn`\n * to re-run.\n *\n * See: `Observer`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```typescript\n * export const MyComp = component$(() => {\n *   const store = useStore({ count: 0, doubleCount: 0 });\n *   useWatch$((obs) => {\n *     store.doubleCount = 2 * obs(store).count;\n *   });\n *   return $(() => (\n *     <div>\n *       <span>\n *         {store.count} / {store.doubleCount}\n *       </span>\n *       <button onClick$={() => store.count++}>+</button>\n *     </div>\n *   ));\n * });\n * ```\n *\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport const useWatch$ = implicit$FirstArg(useWatchQrl);\n/**\n * @alpha\n */\nexport function useEffectQrl(watchQrl) {\n    const [watch, setWatch] = useSequentialScope();\n    if (!watch) {\n        const hostElement = useHostElement();\n        const watch = {\n            watchQrl: watchQrl,\n            hostElement,\n            mode: WatchMode.Effect,\n            isConnected: true,\n            dirty: true,\n        };\n        setWatch(watch);\n        getContext(hostElement).refMap.add(watch);\n    }\n}\n/**\n * @alpha\n */\nexport const useEffect$ = implicit$FirstArg(useEffectQrl);\nexport function runWatch(watch) {\n    if (!watch.dirty) {\n        logDebug('Watch is not dirty, skipping run', watch);\n        return Promise.resolve(watch);\n    }\n    watch.dirty = false;\n    const promise = new Promise((resolve) => {\n        then(watch.running, () => {\n            const destroy = watch.destroy;\n            if (destroy) {\n                watch.destroy = undefined;\n                try {\n                    destroy();\n                }\n                catch (err) {\n                    logError(err);\n                }\n            }\n            const hostElement = watch.hostElement;\n            const invokationContext = newInvokeContext(getDocument(hostElement), hostElement, hostElement, 'WatchEvent');\n            invokationContext.watch = watch;\n            invokationContext.subscriber = watch;\n            const watchFn = watch.watchQrl.invokeFn(hostElement, invokationContext);\n            const obs = (obj) => wrapSubscriber(obj, watch);\n            const captureRef = watch.watchQrl.captureRef;\n            if (Array.isArray(captureRef)) {\n                captureRef.forEach((obj) => {\n                    removeSub(obj, watch);\n                });\n            }\n            return then(watchFn(obs), (returnValue) => {\n                if (typeof returnValue === 'function') {\n                    watch.destroy = noSerialize(returnValue);\n                }\n                resolve(watch);\n            });\n        });\n    });\n    watch.running = noSerialize(promise);\n    return promise;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2F0Y2gucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS93YXRjaC93YXRjaC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBZSxTQUFTLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN6RSxPQUFPLEVBQUUsaUJBQWlCLEVBQU8sTUFBTSxzQkFBc0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFNBQVMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQztBQUNoRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNqRCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDeEMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRTdELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFMUMsTUFBTSxDQUFOLElBQWtCLFNBSWpCO0FBSkQsV0FBa0IsU0FBUztJQUN6QiwyQ0FBSyxDQUFBO0lBQ0wseURBQVksQ0FBQTtJQUNaLDZDQUFNLENBQUE7QUFDUixDQUFDLEVBSmlCLFNBQVMsS0FBVCxTQUFTLFFBSTFCO0FBWUQsc0VBQXNFO0FBQ3RFLHlDQUF5QztBQUN6QyxrR0FBa0c7QUFDbEc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F3Q0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxVQUFVLFdBQVcsQ0FBQyxRQUFxRDtJQUMvRSxNQUFNLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxHQUFHLGtCQUFrQixFQUFFLENB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RUFDWCxZQUFZLENBQ2IsQ0FBQztZQUNGLGlCQUFpQixDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7WUFDaEMsaUJBQWlCLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQztZQUVyQyxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxXQUFXLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztZQUN4RSxNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQVEsRUFBRSxFQUFFLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztZQUNyRCxNQUFNLFVBQVUsR0FBSSxLQUFLLENBQUMsUUFBd0IsQ0FBQyxVQUFVLENBQUM7WUFDOUQsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxFQUFFO2dCQUM3QixVQUFVLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUU7b0JBQ3pCLFNBQVMsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7Z0JBQ3hCLENBQUMsQ0FBQyxDQUFDO2FBQ0o7WUFDRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxXQUFXLEVBQUUsRUFBRTtnQkFDeEMsSUFBSSxPQUFPLFdBQVcsS0FBSyxVQUFVLEVBQUU7b0JBQ3JDLEtBQUssQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2lCQUMxQztnQkFDRCxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDakIsQ0FBQyxDQUFDLENBQUM7UUFDTCxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0gsS0FBSyxDQUFDLE9BQU8sR0FBRyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDckMsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG5vU2VyaWFsaXplLCBOb1NlcmlhbGl6ZSwgcmVtb3ZlU3ViIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IGltcGxpY2l0JEZpcnN0QXJnLCBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgbmV3SW52b2tlQ29udGV4dCwgdXNlV2FpdE9uIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZUhvc3RFbGVtZW50IH0gZnJvbSAnLi4vdXNlL3VzZS1ob3N0LWVsZW1lbnQucHVibGljJztcbmltcG9ydCB7IGxvZ0RlYnVnLCBsb2dFcnJvciB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IHdyYXBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vdXNlL3VzZS1zdWJzY3JpYmVyJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4uL3VzZS91c2Utc3RvcmUucHVibGljJztcbmltcG9ydCB0eXBlIHsgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuXG5leHBvcnQgY29uc3QgZW51bSBXYXRjaE1vZGUge1xuICBXYXRjaCxcbiAgTGF5b3V0RWZmZWN0LFxuICBFZmZlY3QsXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgV2F0Y2hEZXNjcmlwdG9yIHtcbiAgaXNDb25uZWN0ZWQ6IGJvb2xlYW47XG4gIHdhdGNoUXJsOiBRUkw8KG9iczogT2JzZXJ2ZXIpID0+IHZvaWQgfCAoKCkgPT4gdm9pZCk+O1xuICBob3N0RWxlbWVudDogRWxlbWVudDtcbiAgbW9kZTogV2F0Y2hNb2RlO1xuICBkZXN0cm95PzogTm9TZXJpYWxpemU8KCkgPT4gdm9pZD47XG4gIHJ1bm5pbmc/OiBOb1NlcmlhbGl6ZTxQcm9taXNlPFdhdGNoRGVzY3JpcHRvcj4+O1xuICBkaXJ0eTogYm9vbGVhbjtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCJodHRwczovL2hhY2ttZC5pby9fS2w5YnI5dFQ4T0ItMUR2OHVSNEtnI3VzZVdhdGNoXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgaHR0cHM6Ly9oYWNrbWQuaW8vQHF3aWstZG9jcy9Ca3hwU3o4MFkvJTJGX0tsOWJyOXRUOE9CLTFEdjh1UjRLZyUzRmJvdGgjdXNlV2F0Y2ggaW5zdGVhZClcbi8qKlxuICogUmVydW5zIHRoZSBgd2F0Y2hGbmAgd2hlbiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBVc2UgYHVzZVdhdGNoYCB0byBvYnNlcnZlIGNoYW5nZXMgb24gYSBzZXQgb2YgaW5wdXRzLCBhbmQgdGhlbiByZS1leGVjdXRlIHRoZSBgd2F0Y2hGbmAgd2hlblxuICogdGhvc2UgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBUaGUgYHdhdGNoRm5gIG9ubHkgZXhlY3V0ZXMgaWYgdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuIFRvIG9ic2VydmUgdGhlIGlucHV0cyB1c2UgdGhlIGBvYnNgXG4gKiBmdW5jdGlvbiB0byB3cmFwIHByb3BlcnR5IHJlYWRzLiBUaGlzIGNyZWF0ZXMgc3Vic2NyaXB0aW9ucyB3aGljaCB3aWxsIHRyaWdnZXIgdGhlIGB3YXRjaEZuYFxuICogdG8gcmUtcnVuLlxuICpcbiAqIFNlZTogYE9ic2VydmVyYFxuICpcbiAqIEBwdWJsaWNcbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGhlIGB1c2VXYXRjaGAgZnVuY3Rpb24gaXMgdXNlZCB0byBvYnNlcnZlIHRoZSBgc3RhdGUuY291bnRgIHByb3BlcnR5LiBBbnkgY2hhbmdlcyB0byB0aGVcbiAqIGBzdGF0ZS5jb3VudGAgY2F1c2UgdGhlIGB3YXRjaEZuYCB0byBleGVjdXRlIHdoaWNoIGluIHR1cm4gdXBkYXRlcyB0aGUgYHN0YXRlLmRvdWJsZUNvdW50YCB0b1xuICogdGhlIGRvdWJsZSBvZiBgc3RhdGUuY291bnRgLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cG9ydCBjb25zdCBNeUNvbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7IGNvdW50OiAwLCBkb3VibGVDb3VudDogMCB9KTtcbiAqICAgdXNlV2F0Y2gkKChvYnMpID0+IHtcbiAqICAgICBzdG9yZS5kb3VibGVDb3VudCA9IDIgKiBvYnMoc3RvcmUpLmNvdW50O1xuICogICB9KTtcbiAqICAgcmV0dXJuICQoKCkgPT4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8c3Bhbj5cbiAqICAgICAgICAge3N0b3JlLmNvdW50fSAvIHtzdG9yZS5kb3VibGVDb3VudH1cbiAqICAgICAgIDwvc3Bhbj5cbiAqICAgICAgIDxidXR0b24gb25DbGljayQ9eygpID0+IHN0b3JlLmNvdW50Kyt9Pis8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKSk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqXG4gKiBAcGFyYW0gd2F0Y2ggLSBGdW5jdGlvbiB3aGljaCBzaG91bGQgYmUgcmUtZXhlY3V0ZWQgd2hlbiBjaGFuZ2VzIHRvIHRoZSBpbnB1dHMgYXJlIGRldGVjdGVkXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VXYXRjaFFybCh3YXRjaFFybDogUVJMPChvYnM6IE9ic2VydmVyKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpPik6IHZvaWQge1xuICBjb25zdCBbd2F0Y2gsIHNldFdhdGNoXSA9IHVzZVNlcXVlbnRpYWxTY29wZSgpO1xuICBpZiAoIXdhdGNoKSB7XG4gICAgY29uc3QgaG9zdEVsZW1lbnQgPSB1c2VIb3N0RWxlbWVudCgpO1xuICAgIGNvbnN0IHdhdGNoOiBXYXRjaERlc2NyaXB0b3IgPSB7XG4gICAgICB3YXRjaFFybDogd2F0Y2hRcmwsXG4gICAgICBob3N0RWxlbWVudCxcbiAgICAgIG1vZGU6IFdhdGNoTW9kZS5XYXRjaCxcbiAgICAgIGlzQ29ubmVjdGVkOiB0cnVlLFxuICAgICAgZGlydHk6IHRydWUsXG4gICAgfTtcbiAgICBzZXRXYXRjaCh3YXRjaCk7XG4gICAgZ2V0Q29udGV4dChob3N0RWxlbWVudCkucmVmTWFwLmFkZCh3YXRjaCk7XG4gICAgdXNlV2FpdE9uKFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gcnVuV2F0Y2god2F0Y2gpKSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGlzV2F0Y2hEZXNjcmlwdG9yID0gKG9iajogYW55KTogb2JqIGlzIFdhdGNoRGVzY3JpcHRvciA9PiB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgJ3dhdGNoUXJsJyBpbiBvYmo7XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cImh0dHBzOi8vaGFja21kLmlvL19LbDlicjl0VDhPQi0xRHY4dVI0S2cjdXNlV2F0Y2hcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCBodHRwczovL2hhY2ttZC5pby9AcXdpay1kb2NzL0JreHBTejgwWS8lMkZfS2w5YnI5dFQ4T0ItMUR2OHVSNEtnJTNGYm90aCN1c2VXYXRjaCBpbnN0ZWFkKVxuLyoqXG4gKiBSZXJ1bnMgdGhlIGB3YXRjaEZuYCB3aGVuIHRoZSBvYnNlcnZlZCBpbnB1dHMgY2hhbmdlLlxuICpcbiAqIFVzZSBgdXNlV2F0Y2hgIHRvIG9ic2VydmUgY2hhbmdlcyBvbiBhIHNldCBvZiBpbnB1dHMsIGFuZCB0aGVuIHJlLWV4ZWN1dGUgdGhlIGB3YXRjaEZuYCB3aGVuXG4gKiB0aG9zZSBpbnB1dHMgY2hhbmdlLlxuICpcbiAqIFRoZSBgd2F0Y2hGbmAgb25seSBleGVjdXRlcyBpZiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS4gVG8gb2JzZXJ2ZSB0aGUgaW5wdXRzIHVzZSB0aGUgYG9ic2BcbiAqIGZ1bmN0aW9uIHRvIHdyYXAgcHJvcGVydHkgcmVhZHMuIFRoaXMgY3JlYXRlcyBzdWJzY3JpcHRpb25zIHdoaWNoIHdpbGwgdHJpZ2dlciB0aGUgYHdhdGNoRm5gXG4gKiB0byByZS1ydW4uXG4gKlxuICogU2VlOiBgT2JzZXJ2ZXJgXG4gKlxuICogQHB1YmxpY1xuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgYHVzZVdhdGNoYCBmdW5jdGlvbiBpcyB1c2VkIHRvIG9ic2VydmUgdGhlIGBzdGF0ZS5jb3VudGAgcHJvcGVydHkuIEFueSBjaGFuZ2VzIHRvIHRoZVxuICogYHN0YXRlLmNvdW50YCBjYXVzZSB0aGUgYHdhdGNoRm5gIHRvIGV4ZWN1dGUgd2hpY2ggaW4gdHVybiB1cGRhdGVzIHRoZSBgc3RhdGUuZG91YmxlQ291bnRgIHRvXG4gKiB0aGUgZG91YmxlIG9mIGBzdGF0ZS5jb3VudGAuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwb3J0IGNvbnN0IE15Q29tcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHsgY291bnQ6IDAsIGRvdWJsZUNvdW50OiAwIH0pO1xuICogICB1c2VXYXRjaCQoKG9icykgPT4ge1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIG9icyhzdG9yZSkuY291bnQ7XG4gKiAgIH0pO1xuICogICByZXR1cm4gJCgoKSA9PiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxzcGFuPlxuICogICAgICAgICB7c3RvcmUuY291bnR9IC8ge3N0b3JlLmRvdWJsZUNvdW50fVxuICogICAgICAgPC9zcGFuPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrJD17KCkgPT4gc3RvcmUuY291bnQrK30+KzwvYnV0dG9uPlxuICogICAgIDwvZGl2PlxuICogICApKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICpcbiAqIEBwYXJhbSB3YXRjaCAtIEZ1bmN0aW9uIHdoaWNoIHNob3VsZCBiZSByZS1leGVjdXRlZCB3aGVuIGNoYW5nZXMgdG8gdGhlIGlucHV0cyBhcmUgZGV0ZWN0ZWRcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVdhdGNoJCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZVdhdGNoUXJsKTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUVmZmVjdFFybCh3YXRjaFFybDogUVJMPChvYnM6IE9ic2VydmVyKSA9PiB2b2lkIHwgKCgpID0+IHZvaWQpPik6IHZvaWQge1xuICBjb25zdCBbd2F0Y2gsIHNldFdhdGNoXSA9IHVzZVNlcXVlbnRpYWxTY29wZSgpO1xuICBpZiAoIXdhdGNoKSB7XG4gICAgY29uc3QgaG9zdEVsZW1lbnQgPSB1c2VIb3N0RWxlbWVudCgpO1xuICAgIGNvbnN0IHdhdGNoOiBXYXRjaERlc2NyaXB0b3IgPSB7XG4gICAgICB3YXRjaFFybDogd2F0Y2hRcmwsXG4gICAgICBob3N0RWxlbWVudCxcbiAgICAgIG1vZGU6IFdhdGNoTW9kZS5FZmZlY3QsXG4gICAgICBpc0Nvbm5lY3RlZDogdHJ1ZSxcbiAgICAgIGRpcnR5OiB0cnVlLFxuICAgIH07XG4gICAgc2V0V2F0Y2god2F0Y2gpO1xuICAgIGdldENvbnRleHQoaG9zdEVsZW1lbnQpLnJlZk1hcC5hZGQod2F0Y2gpO1xuICB9XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VFZmZlY3QkID0gaW1wbGljaXQkRmlyc3RBcmcodXNlRWZmZWN0UXJsKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bldhdGNoKHdhdGNoOiBXYXRjaERlc2NyaXB0b3IpOiBQcm9taXNlPFdhdGNoRGVzY3JpcHRvcj4ge1xuICBpZiAoIXdhdGNoLmRpcnR5KSB7XG4gICAgbG9nRGVidWcoJ1dhdGNoIGlzIG5vdCBkaXJ0eSwgc2tpcHBpbmcgcnVuJywgd2F0Y2gpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod2F0Y2gpO1xuICB9XG4gIHdhdGNoLmRpcnR5ID0gZmFsc2U7XG5cbiAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlPFdhdGNoRGVzY3JpcHRvcj4oKHJlc29sdmUpID0+IHtcbiAgICB0aGVuKHdhdGNoLnJ1bm5pbmcsICgpID0+IHtcbiAgICAgIGNvbnN0IGRlc3Ryb3kgPSB3YXRjaC5kZXN0cm95O1xuICAgICAgaWYgKGRlc3Ryb3kpIHtcbiAgICAgICAgd2F0Y2guZGVzdHJveSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkZXN0cm95KCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGxvZ0Vycm9yKGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IGhvc3RFbGVtZW50ID0gd2F0Y2guaG9zdEVsZW1lbnQ7XG4gICAgICBjb25zdCBpbnZva2F0aW9uQ29udGV4dCA9IG5ld0ludm9rZUNvbnRleHQoXG4gICAgICAgIGdldERvY3VtZW50KGhvc3RFbGVtZW50KSxcbiAgICAgICAgaG9zdEVsZW1lbnQsXG4gICAgICAgIGhvc3RFbGVtZW50LFxuICAgICAgICAnV2F0Y2hFdmVudCdcbiAgICAgICk7XG4gICAgICBpbnZva2F0aW9uQ29udGV4dC53YXRjaCA9IHdhdGNoO1xuICAgICAgaW52b2thdGlvbkNvbnRleHQuc3Vic2NyaWJlciA9IHdhdGNoO1xuXG4gICAgICBjb25zdCB3YXRjaEZuID0gd2F0Y2gud2F0Y2hRcmwuaW52b2tlRm4oaG9zdEVsZW1lbnQsIGludm9rYXRpb25Db250ZXh0KTtcbiAgICAgIGNvbnN0IG9icyA9IChvYmo6IGFueSkgPT4gd3JhcFN1YnNjcmliZXIob2JqLCB3YXRjaCk7XG4gICAgICBjb25zdCBjYXB0dXJlUmVmID0gKHdhdGNoLndhdGNoUXJsIGFzIFFSTEludGVybmFsKS5jYXB0dXJlUmVmO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2FwdHVyZVJlZikpIHtcbiAgICAgICAgY2FwdHVyZVJlZi5mb3JFYWNoKChvYmopID0+IHtcbiAgICAgICAgICByZW1vdmVTdWIob2JqLCB3YXRjaCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoZW4od2F0Y2hGbihvYnMpLCAocmV0dXJuVmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXR1cm5WYWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHdhdGNoLmRlc3Ryb3kgPSBub1NlcmlhbGl6ZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSh3YXRjaCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIHdhdGNoLnJ1bm5pbmcgPSBub1NlcmlhbGl6ZShwcm9taXNlKTtcbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vX0tsOWJyOXRUOE9CLTFEdjh1UjRLZyNPYnNlcnZlclwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRl9LbDlicjl0VDhPQi0xRHY4dVI0S2clM0Zib3RoI09ic2VydmVyIGluc3RlYWQpXG4vKipcbiAqIFVzZWQgdG8gc2lnbmFsIHRvIFF3aWsgd2hpY2ggc3RhdGUgc2hvdWxkIGJlIHdhdGNoZWQgZm9yIGNoYW5nZXMuXG4gKlxuICogVGhlIGBPYnNlcnZlcmAgaXMgcGFzc2VkIGludG8gdGhlIGB3YXRjaEZuYCBvZiBgdXNlV2F0Y2hgLiBJdCBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIHRvIHdyYXBcbiAqIHN0YXRlIG9iamVjdHMgaW4gYSByZWFkIHByb3h5IHdoaWNoIHNpZ25hbHMgdG8gUXdpayB3aGljaCBwcm9wZXJ0aWVzIHNob3VsZCBiZSB3YXRjaGVkIGZvclxuICogY2hhbmdlcy4gQSBjaGFuZ2UgdG8gYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGNhdXNlIHRoZSBgd2F0Y2hGbmAgdG8gcmUtcnVuLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgYG9ic2AgcGFzc2VkIGludG8gdGhlIGB3YXRjaEZuYCBpcyB1c2VkIHRvIG1hcmsgYHN0YXRlLmNvdW50YCBhcyBhIHByb3BlcnR5IG9mIGludGVyZXN0LlxuICogQW55IGNoYW5nZXMgdG8gdGhlIGBzdGF0ZS5jb3VudGAgcHJvcGVydHkgd2lsbCBjYXVzZSB0aGUgYHdhdGNoRm5gIHRvIHJlLXJ1bi5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBvcnQgY29uc3QgTXlDb21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoeyBjb3VudDogMCwgZG91YmxlQ291bnQ6IDAgfSk7XG4gKiAgIHVzZVdhdGNoJCgob2JzKSA9PiB7XG4gKiAgICAgc3RvcmUuZG91YmxlQ291bnQgPSAyICogb2JzKHN0b3JlKS5jb3VudDtcbiAqICAgfSk7XG4gKiAgIHJldHVybiAkKCgpID0+IChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiBzdG9yZS5jb3VudCsrfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICkpO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKlxuICogU2VlOiBgdXNlV2F0Y2hgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgaW50ZXJmYWNlIE9ic2VydmVyIHtcbiAgLy8gPGRvY3MgbWFya2Rvd249XCJodHRwczovL2hhY2ttZC5pby9fS2w5YnI5dFQ4T0ItMUR2OHVSNEtnI09ic2VydmVyXCI+XG4gIC8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4gIC8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRl9LbDlicjl0VDhPQi0xRHY4dVI0S2clM0Zib3RoI09ic2VydmVyIGluc3RlYWQpXG4gIC8qKlxuICAgKiBVc2VkIHRvIHNpZ25hbCB0byBRd2lrIHdoaWNoIHN0YXRlIHNob3VsZCBiZSB3YXRjaGVkIGZvciBjaGFuZ2VzLlxuICAgKlxuICAgKiBUaGUgYE9ic2VydmVyYCBpcyBwYXNzZWQgaW50byB0aGUgYHdhdGNoRm5gIG9mIGB1c2VXYXRjaGAuIEl0IGlzIGludGVuZGVkIHRvIGJlIHVzZWQgdG8gd3JhcFxuICAgKiBzdGF0ZSBvYmplY3RzIGluIGEgcmVhZCBwcm94eSB3aGljaCBzaWduYWxzIHRvIFF3aWsgd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgd2F0Y2hlZCBmb3JcbiAgICogY2hhbmdlcy4gQSBjaGFuZ2UgdG8gYW55IG9mIHRoZSBwcm9wZXJ0aWVzIGNhdXNlIHRoZSBgd2F0Y2hGbmAgdG8gcmUtcnVuLlxuICAgKlxuICAgKiAjIyBFeGFtcGxlXG4gICAqXG4gICAqIFRoZSBgb2JzYCBwYXNzZWQgaW50byB0aGUgYHdhdGNoRm5gIGlzIHVzZWQgdG8gbWFyayBgc3RhdGUuY291bnRgIGFzIGEgcHJvcGVydHkgb2YgaW50ZXJlc3QuXG4gICAqIEFueSBjaGFuZ2VzIHRvIHRoZSBgc3RhdGUuY291bnRgIHByb3BlcnR5IHdpbGwgY2F1c2UgdGhlIGB3YXRjaEZuYCB0byByZS1ydW4uXG4gICAqXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogZXhwb3J0IGNvbnN0IE15Q29tcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICAgKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoeyBjb3VudDogMCwgZG91YmxlQ291bnQ6IDAgfSk7XG4gICAqICAgdXNlV2F0Y2gkKChvYnMpID0+IHtcbiAgICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIG9icyhzdG9yZSkuY291bnQ7XG4gICAqICAgfSk7XG4gICAqICAgcmV0dXJuICQoKCkgPT4gKFxuICAgKiAgICAgPGRpdj5cbiAgICogICAgICAgPHNwYW4+XG4gICAqICAgICAgICAge3N0b3JlLmNvdW50fSAvIHtzdG9yZS5kb3VibGVDb3VudH1cbiAgICogICAgICAgPC9zcGFuPlxuICAgKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiBzdG9yZS5jb3VudCsrfT4rPC9idXR0b24+XG4gICAqICAgICA8L2Rpdj5cbiAgICogICApKTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKlxuICAgKlxuICAgKiBTZWU6IGB1c2VXYXRjaGBcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgLy8gPC9kb2NzPlxuICA8VCBleHRlbmRzIHt9PihvYmo6IFQpOiBUO1xufVxuIl19","import { assertDefined } from '../assert/assert';\nimport { QHostAttr } from '../util/markers';\nimport { executeContextWithSlots, printRenderStats } from './cursor';\nimport { getContext, resumeIfNeeded } from '../props/props';\nimport { qDev } from '../util/qdev';\nimport { getPlatform } from '../platform/platform';\nimport { getDocument } from '../util/dom';\nimport { renderComponent } from '../component/component-ctx';\nimport { logDebug } from '../util/log';\nimport { getContainer } from '../use/use-core';\nimport { runWatch } from '../watch/watch.public';\nimport { waitForWatches } from '../object/q-object';\n/**\n * Mark component for rendering.\n *\n * Use `notifyRender` method to mark a component for rendering at some later point in time.\n * This method uses `getPlatform(doc).queueRender` for scheduling of the rendering. The\n * default implementation of the method is to use `requestAnimationFrame` to do actual rendering.\n *\n * The method is intended to coalesce multiple calls into `notifyRender` into a single call for\n * rendering.\n *\n * @param hostElement - Host-element of the component to re-render.\n * @returns A promise which is resolved when the component has been rendered.\n * @public\n */\nexport function notifyRender(hostElement) {\n    assertDefined(hostElement.getAttribute(QHostAttr));\n    const containerEl = getContainer(hostElement);\n    assertDefined(containerEl);\n    resumeIfNeeded(containerEl);\n    const ctx = getContext(hostElement);\n    const state = getRenderingState(containerEl);\n    if (ctx.dirty) {\n        // TODO\n        return state.renderPromise;\n    }\n    ctx.dirty = true;\n    const activeRendering = state.hostsRendering !== undefined;\n    if (activeRendering) {\n        state.hostsStaging.add(hostElement);\n        return state.renderPromise.then((ctx) => {\n            if (state.hostsNext.has(hostElement)) {\n                // TODO\n                return state.renderPromise;\n            }\n            else {\n                return ctx;\n            }\n        });\n    }\n    else {\n        state.hostsNext.add(hostElement);\n        return scheduleFrame(containerEl, state);\n    }\n}\nexport function scheduleFrame(containerEl, state) {\n    if (state.renderPromise === undefined) {\n        state.renderPromise = getPlatform(containerEl).nextTick(() => renderMarked(containerEl, state));\n    }\n    return state.renderPromise;\n}\nconst SCHEDULE = Symbol('Render state');\nexport function getRenderingState(containerEl) {\n    let set = containerEl[SCHEDULE];\n    if (!set) {\n        containerEl[SCHEDULE] = set = {\n            watchNext: new Set(),\n            watchStagging: new Set(),\n            watchRunning: new Set(),\n            hostsNext: new Set(),\n            hostsStaging: new Set(),\n            renderPromise: undefined,\n            hostsRendering: undefined,\n        };\n    }\n    return set;\n}\nexport async function renderMarked(containerEl, state) {\n    await waitForWatches(state);\n    state.hostsRendering = new Set(state.hostsNext);\n    state.hostsNext.clear();\n    const doc = getDocument(containerEl);\n    const platform = getPlatform(containerEl);\n    const renderingQueue = Array.from(state.hostsRendering);\n    sortNodes(renderingQueue);\n    const ctx = {\n        doc,\n        globalState: state,\n        hostElements: new Set(),\n        operations: [],\n        roots: [],\n        containerEl,\n        component: undefined,\n        perf: {\n            visited: 0,\n            timing: [],\n        },\n    };\n    for (const el of renderingQueue) {\n        if (!ctx.hostElements.has(el)) {\n            ctx.roots.push(el);\n            await renderComponent(ctx, getContext(el));\n        }\n    }\n    // Early exist, no dom operations\n    if (ctx.operations.length === 0) {\n        if (qDev) {\n            if (typeof window !== 'undefined' && window.document != null) {\n                logDebug('Render skipped. No operations.');\n                printRenderStats(ctx);\n            }\n        }\n        postRendering(containerEl, state, ctx);\n        return ctx;\n    }\n    return platform.raf(() => {\n        executeContextWithSlots(ctx);\n        if (qDev) {\n            if (typeof window !== 'undefined' && window.document != null) {\n                printRenderStats(ctx);\n            }\n        }\n        postRendering(containerEl, state, ctx);\n        return ctx;\n    });\n}\nasync function postRendering(containerEl, state, ctx) {\n    // Run useEffect() watch\n    const promises = [];\n    state.watchNext.forEach((watch) => {\n        promises.push(runWatch(watch));\n    });\n    state.watchNext.clear();\n    state.watchStagging.forEach((watch) => {\n        if (ctx.hostElements.has(watch.hostElement)) {\n            promises.push(runWatch(watch));\n        }\n        else {\n            state.watchNext.add(watch);\n        }\n    });\n    // Wait for all promises\n    await Promise.all(promises);\n    // Move elements from staging to nextRender\n    state.hostsStaging.forEach((el) => {\n        state.hostsNext.add(el);\n    });\n    // Clear staging\n    state.hostsStaging.clear();\n    state.hostsRendering = undefined;\n    state.renderPromise = undefined;\n    if (state.hostsNext.size + state.watchNext.size > 0) {\n        scheduleFrame(containerEl, state);\n    }\n}\nfunction sortNodes(elements) {\n    elements.sort((a, b) => (a.compareDocumentPosition(b) & 2 ? 1 : -1));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LXJlbmRlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvcmVuZGVyL25vdGlmeS1yZW5kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM1QyxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsZ0JBQWdCLEVBQWlCLE1BQU0sVUFBVSxDQUFDO0FBQ3BGLE9BQU8sRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFFBQVEsRUFBbUIsTUFBTSx1QkFBdUIsQ0FBQztBQUNsRSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFcEQ7Ozs7Ozs7Ozs7Ozs7R0FhRztBQUNILE1BQU0sVUFBVSxZQUFZLENBQUMsV0FBb0I7SUFDL0MsYUFBYSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUVuRCxNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsV0FBVyxDQUFFLENBQUM7SUFDL0MsYUFBYSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzNCLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUU1QixNQUFNLEdBQUcsR0FBRyxV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S0FBSyxDQUFDLGFBQWEsR0FBRyxTQUFTLENBQUM7SUFFaEMsSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUU7UUFDbkQsYUFBYSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNuQztBQUNILENBQUM7QUFFRCxTQUFTLFNBQVMsQ0FBQyxRQUFtQjtJQUNwQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN2RSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgUUhvc3RBdHRyIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGV4ZWN1dGVDb250ZXh0V2l0aFNsb3RzLCBwcmludFJlbmRlclN0YXRzLCBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi9jdXJzb3InO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCwgcmVzdW1lSWZOZWVkZWQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnQvY29tcG9uZW50LWN0eCc7XG5pbXBvcnQgeyBsb2dEZWJ1ZyB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IGdldENvbnRhaW5lciB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBydW5XYXRjaCwgV2F0Y2hEZXNjcmlwdG9yIH0gZnJvbSAnLi4vd2F0Y2gvd2F0Y2gucHVibGljJztcbmltcG9ydCB7IHdhaXRGb3JXYXRjaGVzIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcblxuLyoqXG4gKiBNYXJrIGNvbXBvbmVudCBmb3IgcmVuZGVyaW5nLlxuICpcbiAqIFVzZSBgbm90aWZ5UmVuZGVyYCBtZXRob2QgdG8gbWFyayBhIGNvbXBvbmVudCBmb3IgcmVuZGVyaW5nIGF0IHNvbWUgbGF0ZXIgcG9pbnQgaW4gdGltZS5cbiAqIFRoaXMgbWV0aG9kIHVzZXMgYGdldFBsYXRmb3JtKGRvYykucXVldWVSZW5kZXJgIGZvciBzY2hlZHVsaW5nIG9mIHRoZSByZW5kZXJpbmcuIFRoZVxuICogZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWV0aG9kIGlzIHRvIHVzZSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCB0byBkbyBhY3R1YWwgcmVuZGVyaW5nLlxuICpcbiAqIFRoZSBtZXRob2QgaXMgaW50ZW5kZWQgdG8gY29hbGVzY2UgbXVsdGlwbGUgY2FsbHMgaW50byBgbm90aWZ5UmVuZGVyYCBpbnRvIGEgc2luZ2xlIGNhbGwgZm9yXG4gKiByZW5kZXJpbmcuXG4gKlxuICogQHBhcmFtIGhvc3RFbGVtZW50IC0gSG9zdC1lbGVtZW50IG9mIHRoZSBjb21wb25lbnQgdG8gcmUtcmVuZGVyLlxuICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBoYXMgYmVlbiByZW5kZXJlZC5cbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdGlmeVJlbmRlcihob3N0RWxlbWVudDogRWxlbWVudCk6IFByb21pc2U8UmVuZGVyQ29udGV4dD4ge1xuICBhc3NlcnREZWZpbmVkKGhvc3RFbGVtZW50LmdldEF0dHJpYnV0ZShRSG9zdEF0dHIpKTtcblxuICBjb25zdCBjb250YWluZXJFbCA9IGdldENvbnRhaW5lcihob3N0RWxlbWVudCkhO1xuICBhc3NlcnREZWZpbmVkKGNvbnRhaW5lckVsKTtcbiAgcmVzdW1lSWZOZWVkZWQoY29udGFpbmVyRWwpO1xuXG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoaG9zdEVsZW1lbnQpO1xuICBjb25zdCBzdGF0ZSA9IGdldFJlbmRlcmluZ1N0YXRlKGNvbnRhaW5lckVsKTtcbiAgaWYgKGN0eC5kaXJ0eSkge1xuICAgIC8vIFRPRE9cbiAgICByZXR1cm4gc3RhdGUucmVuZGVyUHJvbWlzZSE7XG4gIH1cbiAgY3R4LmRpcnR5ID0gdHJ1ZTtcbiAgY29uc3QgYWN0aXZlUmVuZGVyaW5nID0gc3RhdGUuaG9zdHNSZW5kZXJpbmcgIT09IHVuZGVmaW5lZDtcbiAgaWYgKGFjdGl2ZVJlbmRlcmluZykge1xuICAgIHN0YXRlLmhvc3RzU3RhZ2luZy5hZGQoaG9zdEVsZW1lbnQpO1xuICAgIHJldHVybiBzdGF0ZS5yZW5kZXJQcm9taXNlIS50aGVuKChjdHgpID0+IHtcbiAgICAgIGlmIChzdGF0ZS5ob3N0c05leHQuaGFzKGhvc3RFbGVtZW50KSkge1xuICAgICAgICAvLyBUT0RPXG4gICAgICAgIHJldHVybiBzdGF0ZS5yZW5kZXJQcm9taXNlITtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjdHg7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc3RhdGUuaG9zdHNOZXh0LmFkZChob3N0RWxlbWVudCk7XG4gICAgcmV0dXJuIHNjaGVkdWxlRnJhbWUoY29udGFpbmVyRWwsIHN0YXRlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVGcmFtZShjb250YWluZXJFbDogRWxlbWVudCwgc3RhdGU6IFJlbmRlcmluZ1N0YXRlKTogUHJvbWlzZTxSZW5kZXJDb250ZXh0PiB7XG4gIGlmIChzdGF0ZS5yZW5kZXJQcm9taXNlID09PSB1bmRlZmluZWQpIHtcbiAgICBzdGF0ZS5yZW5kZXJQcm9taXNlID0gZ2V0UGxhdGZvcm0oY29udGFpbmVyRWwpLm5leHRUaWNrKCgpID0+IHJlbmRlck1hcmtlZChjb250YWluZXJFbCwgc3RhdGUpKTtcbiAgfVxuICByZXR1cm4gc3RhdGUucmVuZGVyUHJvbWlzZTtcbn1cblxuY29uc3QgU0NIRURVTEUgPSBTeW1ib2woJ1JlbmRlciBzdGF0ZScpO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlcmluZ1N0YXRlIHtcbiAgd2F0Y2hSdW5uaW5nOiBTZXQ8UHJvbWlzZTxXYXRjaERlc2NyaXB0b3I+PjtcbiAgd2F0Y2hOZXh0OiBTZXQ8V2F0Y2hEZXNjcmlwdG9yPjtcbiAgd2F0Y2hTdGFnZ2luZzogU2V0PFdhdGNoRGVzY3JpcHRvcj47XG5cbiAgaG9zdHNOZXh0OiBTZXQ8RWxlbWVudD47XG4gIGhvc3RzU3RhZ2luZzogU2V0PEVsZW1lbnQ+O1xuICBob3N0c1JlbmRlcmluZzogU2V0PEVsZW1lbnQ+IHwgdW5kZWZpbmVkO1xuICByZW5kZXJQcm9taXNlOiBQcm9taXNlPFJlbmRlckNvbnRleHQ+IHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVuZGVyaW5nU3RhdGUoY29udGFpbmVyRWw6IEVsZW1lbnQpOiBSZW5kZXJpbmdTdGF0ZSB7XG4gIGxldCBzZXQgPSAoY29udGFpbmVyRWwgYXMgYW55KVtTQ0hFRFVMRV0gYXMgUmVuZGVyaW5nU3RhdGU7XG4gIGlmICghc2V0KSB7XG4gICAgKGNvbnRhaW5lckVsIGFzIGFueSlbU0NIRURVTEVdID0gc2V0ID0ge1xuICAgICAgd2F0Y2hOZXh0OiBuZXcgU2V0KCksXG4gICAgICB3YXRjaFN0YWdnaW5nOiBuZXcgU2V0KCksXG4gICAgICB3YXRjaFJ1bm5pbmc6IG5ldyBTZXQoKSxcblxuICAgICAgaG9zdHNOZXh0OiBuZXcgU2V0KCksXG4gICAgICBob3N0c1N0YWdpbmc6IG5ldyBTZXQoKSxcbiAgICAgIHJlbmRlclByb21pc2U6IHVuZGVmaW5lZCxcbiAgICAgIGhvc3RzUmVuZGVyaW5nOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxuICByZXR1cm4gc2V0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVuZGVyTWFya2VkKFxuICBjb250YWluZXJFbDogRWxlbWVudCxcbiAgc3RhdGU6IFJlbmRlcmluZ1N0YXRlXG4pOiBQcm9taXNlPFJlbmRlckNvbnRleHQ+IHtcbiAgYXdhaXQgd2FpdEZvcldhdGNoZXMoc3RhdGUpO1xuXG4gIHN0YXRlLmhvc3RzUmVuZGVyaW5nID0gbmV3IFNldChzdGF0ZS5ob3N0c05leHQpO1xuICBzdGF0ZS5ob3N0c05leHQuY2xlYXIoKTtcblxuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChjb250YWluZXJFbCk7XG4gIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm0oY29udGFpbmVyRWwpO1xuICBjb25zdCByZW5kZXJpbmdRdWV1ZSA9IEFycmF5LmZyb20oc3RhdGUuaG9zdHNSZW5kZXJpbmcpO1xuICBzb3J0Tm9kZXMocmVuZGVyaW5nUXVldWUpO1xuXG4gIGNvbnN0IGN0eDogUmVuZGVyQ29udGV4dCA9IHtcbiAgICBkb2MsXG4gICAgZ2xvYmFsU3RhdGU6IHN0YXRlLFxuICAgIGhvc3RFbGVtZW50czogbmV3IFNldCgpLFxuICAgIG9wZXJhdGlvbnM6IFtdLFxuICAgIHJvb3RzOiBbXSxcbiAgICBjb250YWluZXJFbCxcbiAgICBjb21wb25lbnQ6IHVuZGVmaW5lZCxcbiAgICBwZXJmOiB7XG4gICAgICB2aXNpdGVkOiAwLFxuICAgICAgdGltaW5nOiBbXSxcbiAgICB9LFxuICB9O1xuXG4gIGZvciAoY29uc3QgZWwgb2YgcmVuZGVyaW5nUXVldWUpIHtcbiAgICBpZiAoIWN0eC5ob3N0RWxlbWVudHMuaGFzKGVsKSkge1xuICAgICAgY3R4LnJvb3RzLnB1c2goZWwpO1xuICAgICAgYXdhaXQgcmVuZGVyQ29tcG9uZW50KGN0eCwgZ2V0Q29udGV4dChlbCkpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEVhcmx5IGV4aXN0LCBubyBkb20gb3BlcmF0aW9uc1xuICBpZiAoY3R4Lm9wZXJhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgIT0gbnVsbCkge1xuICAgICAgICBsb2dEZWJ1ZygnUmVuZGVyIHNraXBwZWQuIE5vIG9wZXJhdGlvbnMuJyk7XG4gICAgICAgIHByaW50UmVuZGVyU3RhdHMoY3R4KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcG9zdFJlbmRlcmluZyhjb250YWluZXJFbCwgc3RhdGUsIGN0eCk7XG4gICAgcmV0dXJuIGN0eDtcbiAgfVxuXG4gIHJldHVybiBwbGF0Zm9ybS5yYWYoKCkgPT4ge1xuICAgIGV4ZWN1dGVDb250ZXh0V2l0aFNsb3RzKGN0eCk7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgIT0gbnVsbCkge1xuICAgICAgICBwcmludFJlbmRlclN0YXRzKGN0eCk7XG4gICAgICB9XG4gICAgfVxuICAgIHBvc3RSZW5kZXJpbmcoY29udGFpbmVyRWwsIHN0YXRlLCBjdHgpO1xuICAgIHJldHVybiBjdHg7XG4gIH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBwb3N0UmVuZGVyaW5nKGNvbnRhaW5lckVsOiBFbGVtZW50LCBzdGF0ZTogUmVuZGVyaW5nU3RhdGUsIGN0eDogUmVuZGVyQ29udGV4dCkge1xuICAvLyBSdW4gdXNlRWZmZWN0KCkgd2F0Y2hcbiAgY29uc3QgcHJvbWlzZXM6IFByb21pc2U8V2F0Y2hEZXNjcmlwdG9yPltdID0gW107XG4gIHN0YXRlLndhdGNoTmV4dC5mb3JFYWNoKCh3YXRjaCkgPT4ge1xuICAgIHByb21pc2VzLnB1c2gocnVuV2F0Y2god2F0Y2gpKTtcbiAgfSk7XG5cbiAgc3RhdGUud2F0Y2hOZXh0LmNsZWFyKCk7XG4gIHN0YXRlLndhdGNoU3RhZ2dpbmcuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICBpZiAoY3R4Lmhvc3RFbGVtZW50cy5oYXMod2F0Y2guaG9zdEVsZW1lbnQpKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKHJ1bldhdGNoKHdhdGNoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLndhdGNoTmV4dC5hZGQod2F0Y2gpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gV2FpdCBmb3IgYWxsIHByb21pc2VzXG4gIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKTtcblxuICAvLyBNb3ZlIGVsZW1lbnRzIGZyb20gc3RhZ2luZyB0byBuZXh0UmVuZGVyXG4gIHN0YXRlLmhvc3RzU3RhZ2luZy5mb3JFYWNoKChlbCkgPT4ge1xuICAgIHN0YXRlLmhvc3RzTmV4dC5hZGQoZWwpO1xuICB9KTtcblxuICAvLyBDbGVhciBzdGFnaW5nXG4gIHN0YXRlLmhvc3RzU3RhZ2luZy5jbGVhcigpO1xuICBzdGF0ZS5ob3N0c1JlbmRlcmluZyA9IHVuZGVmaW5lZDtcbiAgc3RhdGUucmVuZGVyUHJvbWlzZSA9IHVuZGVmaW5lZDtcblxuICBpZiAoc3RhdGUuaG9zdHNOZXh0LnNpemUgKyBzdGF0ZS53YXRjaE5leHQuc2l6ZSA+IDApIHtcbiAgICBzY2hlZHVsZUZyYW1lKGNvbnRhaW5lckVsLCBzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydE5vZGVzKGVsZW1lbnRzOiBFbGVtZW50W10pIHtcbiAgZWxlbWVudHMuc29ydCgoYSwgYikgPT4gKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikgJiAyID8gMSA6IC0xKSk7XG59XG4iXX0=","import { assertEqual } from '../assert/assert';\nimport { QError, qError } from '../error/error';\nimport { isQrl } from '../import/qrl-class';\nimport { getRenderingState, notifyRender, scheduleFrame, } from '../render/notify-render';\nimport { getContainer, tryGetInvokeContext } from '../use/use-core';\nimport { isElement } from '../util/element';\nimport { logWarn } from '../util/log';\nimport { qDev, qTest } from '../util/qdev';\nimport { debugStringify } from '../util/stringify';\nimport { runWatch, WatchMode } from '../watch/watch.public';\nconst ProxyMapSymbol = Symbol('ProxyMapSymbol');\nexport function getProxyMap(doc) {\n    let map = doc[ProxyMapSymbol];\n    if (!map) {\n        map = doc[ProxyMapSymbol] = new WeakMap();\n    }\n    return map;\n}\nexport function qObject(obj, proxyMap) {\n    assertEqual(unwrapProxy(obj), obj, 'Unexpected proxy at this location');\n    if (obj == null || typeof obj !== 'object') {\n        // TODO(misko): centralize\n        throw new Error(`Q-ERROR: Only objects can be wrapped in 'QObject', got ` + debugStringify(obj));\n    }\n    if (obj.constructor !== Object) {\n        throw new Error(`Q-ERROR: Only objects literals can be wrapped in 'QObject', got ` + debugStringify(obj));\n    }\n    return readWriteProxy(obj, proxyMap);\n}\nexport function _restoreQObject(obj, map, subs) {\n    return readWriteProxy(obj, map, subs);\n}\n/**\n * Creates a proxy which notifies of any writes.\n */\nexport function readWriteProxy(target, proxyMap, subs) {\n    if (!target || typeof target !== 'object')\n        return target;\n    let proxy = proxyMap.get(target);\n    if (proxy)\n        return proxy;\n    proxy = new Proxy(target, new ReadWriteProxyHandler(proxyMap, subs));\n    proxyMap.set(target, proxy);\n    return proxy;\n}\nexport const QOjectTargetSymbol = ':target:';\nexport const QOjectSubsSymbol = ':subs:';\nexport const QOjectOriginalProxy = ':proxy:';\nexport const SetSubscriber = Symbol('SetSubscriber');\nexport function unwrapProxy(proxy) {\n    if (proxy && typeof proxy == 'object') {\n        const value = proxy[QOjectTargetSymbol];\n        if (value)\n            return value;\n    }\n    return proxy;\n}\nexport function wrap(value, proxyMap) {\n    if (value && typeof value === 'object') {\n        if (isQrl(value)) {\n            return value;\n        }\n        if (isElement(value)) {\n            return value;\n        }\n        const nakedValue = unwrapProxy(value);\n        if (nakedValue !== value) {\n            // already a proxy return;\n            return value;\n        }\n        if (qDev) {\n            verifySerializable(value);\n        }\n        const proxy = proxyMap.get(value);\n        return proxy ? proxy : readWriteProxy(value, proxyMap);\n    }\n    else {\n        return value;\n    }\n}\nclass ReadWriteProxyHandler {\n    constructor(proxyMap, subs = new Map()) {\n        this.proxyMap = proxyMap;\n        this.subs = subs;\n    }\n    getSub(el) {\n        let sub = this.subs.get(el);\n        if (!sub) {\n            this.subs.set(el, (sub = new Set()));\n        }\n        return sub;\n    }\n    get(target, prop) {\n        let subscriber = this.subscriber;\n        this.subscriber = undefined;\n        if (prop === QOjectTargetSymbol)\n            return target;\n        if (prop === QOjectSubsSymbol)\n            return this.subs;\n        if (prop === QOjectOriginalProxy)\n            return this.proxyMap.get(target);\n        const value = target[prop];\n        if (typeof prop === 'symbol') {\n            return value;\n        }\n        const invokeCtx = tryGetInvokeContext();\n        if (qDev && !invokeCtx && !qTest) {\n            logWarn(`State assigned outside invocation context. Getting prop \"${prop}\" of:`, target);\n        }\n        if (invokeCtx) {\n            if (invokeCtx.subscriber === null) {\n                subscriber = undefined;\n            }\n            else if (!subscriber) {\n                subscriber = invokeCtx.subscriber;\n            }\n        }\n        else if (qDev && !qTest && !subscriber) {\n            logWarn(`State assigned outside invocation context. Getting prop \"${prop}\" of:`, target);\n        }\n        if (subscriber) {\n            const isArray = Array.isArray(target);\n            const sub = this.getSub(subscriber);\n            if (!isArray) {\n                sub.add(prop);\n            }\n        }\n        return wrap(value, this.proxyMap);\n    }\n    set(target, prop, newValue) {\n        if (typeof prop === 'symbol') {\n            if (prop === SetSubscriber) {\n                this.subscriber = newValue;\n            }\n            else {\n                target[prop] = newValue;\n            }\n            return true;\n        }\n        const subs = this.subs;\n        const unwrappedNewValue = unwrapProxy(newValue);\n        verifySerializable(unwrappedNewValue);\n        const isArray = Array.isArray(target);\n        if (isArray) {\n            target[prop] = unwrappedNewValue;\n            subs.forEach((_, sub) => {\n                if (sub.isConnected) {\n                    notifyChange(sub);\n                }\n                else {\n                    subs.delete(sub);\n                }\n            });\n            return true;\n        }\n        const oldValue = target[prop];\n        if (oldValue !== unwrappedNewValue) {\n            target[prop] = unwrappedNewValue;\n            subs.forEach((propSets, sub) => {\n                if (sub.isConnected) {\n                    if (propSets.has(prop)) {\n                        notifyChange(sub);\n                    }\n                }\n                else {\n                    subs.delete(sub);\n                }\n            });\n        }\n        return true;\n    }\n    has(target, property) {\n        if (property === QOjectTargetSymbol)\n            return true;\n        if (property === QOjectSubsSymbol)\n            return true;\n        return Object.prototype.hasOwnProperty.call(target, property);\n    }\n    ownKeys(target) {\n        return Object.getOwnPropertyNames(target);\n    }\n}\nexport function removeSub(obj, subscriber) {\n    if (obj && typeof obj === 'object') {\n        const subs = obj[QOjectSubsSymbol];\n        if (subs) {\n            subs.delete(subscriber);\n        }\n    }\n}\nexport function notifyChange(subscriber) {\n    if (isElement(subscriber)) {\n        notifyRender(subscriber);\n    }\n    else {\n        notifyWatch(subscriber);\n    }\n}\nexport function notifyWatch(watch) {\n    const containerEl = getContainer(watch.hostElement);\n    const state = getRenderingState(containerEl);\n    watch.dirty = true;\n    if (watch.mode === WatchMode.Watch) {\n        const promise = runWatch(watch);\n        state.watchRunning.add(promise);\n        promise.then(() => {\n            state.watchRunning.delete(promise);\n        });\n    }\n    else {\n        const activeRendering = state.hostsRendering !== undefined;\n        if (activeRendering) {\n            state.watchStagging.add(watch);\n        }\n        else {\n            state.watchNext.add(watch);\n            scheduleFrame(containerEl, state);\n        }\n    }\n}\nexport async function waitForWatches(state) {\n    while (state.watchRunning.size > 0) {\n        await Promise.all(state.watchRunning);\n    }\n}\nfunction verifySerializable(value) {\n    if (shouldSerialize(value) && typeof value == 'object' && value !== null) {\n        if (Array.isArray(value))\n            return;\n        if (Object.getPrototypeOf(value) !== Object.prototype) {\n            if (isQrl(value))\n                return;\n            if (isElement(value))\n                return;\n            throw qError(QError.TODO, 'Only primitive and object literals can be serialized.');\n        }\n    }\n}\nconst NOSERIALIZE = Symbol('NoSerialize');\nexport function shouldSerialize(obj) {\n    if (obj !== null && (typeof obj == 'object' || typeof obj === 'function')) {\n        const noSerialize = obj[NOSERIALIZE] === true;\n        return !noSerialize;\n    }\n    return true;\n}\n/**\n * @alpha\n */\nexport function noSerialize(input) {\n    input[NOSERIALIZE] = true;\n    return input;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicS1vYmplY3QuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL29iamVjdC9xLW9iamVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDL0MsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDNUMsT0FBTyxFQUNMLGlCQUFpQixFQUNqQixZQUFZLEVBRVosYUFBYSxHQUNkLE1BQU0seUJBQXlCLENBQUM7QUFDakMsT0FBTyxFQUFFLFlBQVksRUFBRSxtQkFBbUIsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUM1QyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3RDLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUNuRCxPQUFPLEVBQUUsUUFBUSxFQUFtQixTQUFTLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQU03RSxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztBQUVoRCxNQUFNLFVBQVUsV0FBVyxDQUFDLEdBQWE7SUFDdkMsSUFBSSxHQUFHLEdBQUksR0FBVyxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3ZDLElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDUixHQUFHLEdBQUksR0FBVyxDQUFDLGNBQWMsQ0FBQyxHQUFHLElBQUksT0FBTyxFQUFFLENBQUM7S0FDcEQ7SUFDRCxPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFFRCxNQUFNLFVBQVUsT0FBTyxDQUFtQixHQUFNLEVBQUUsUUFBdUI7SUFD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QztTQUNwRjtLQUNGO0FBQ0gsQ0FBQztBQUVELE1BQU0sV0FBVyxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUUxQyxNQUFNLFVBQVUsZUFBZSxDQUFDLEdBQVE7SUFDdEMsSUFBSSxHQUFHLEtBQUssSUFBSSxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksUUFBUSxJQUFJLE9BQU8sR0FBRyxLQUFLLFVBQVUsQ0FBQyxFQUFFO1FBQ3pFLE1BQU0sV0FBVyxHQUFJLEdBQVcsQ0FBQyxXQUFXLENBQUMsS0FBSyxJQUFJLENBQUM7UUFDdkQsT0FBTyxDQUFDLFdBQVcsQ0FBQztLQUNyQjtJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQztBQU9EOztHQUVHO0FBQ0gsTUFBTSxVQUFVLFdBQVcsQ0FBZSxLQUFRO0lBQy9DLEtBQWEsQ0FBQyxXQUFXLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDbkMsT0FBTyxLQUFZLENBQUM7QUFDdEIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBRRXJyb3IsIHFFcnJvciB9IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IGlzUXJsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQge1xuICBnZXRSZW5kZXJpbmdTdGF0ZSxcbiAgbm90aWZ5UmVuZGVyLFxuICBSZW5kZXJpbmdTdGF0ZSxcbiAgc2NoZWR1bGVGcmFtZSxcbn0gZnJvbSAnLi4vcmVuZGVyL25vdGlmeS1yZW5kZXInO1xuaW1wb3J0IHsgZ2V0Q29udGFpbmVyLCB0cnlHZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGlzRWxlbWVudCB9IGZyb20gJy4uL3V0aWwvZWxlbWVudCc7XG5pbXBvcnQgeyBsb2dXYXJuIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgcURldiwgcVRlc3QgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgZGVidWdTdHJpbmdpZnkgfSBmcm9tICcuLi91dGlsL3N0cmluZ2lmeSc7XG5pbXBvcnQgeyBydW5XYXRjaCwgV2F0Y2hEZXNjcmlwdG9yLCBXYXRjaE1vZGUgfSBmcm9tICcuLi93YXRjaC93YXRjaC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vdXNlL3VzZS1zdWJzY3JpYmVyJztcblxuZXhwb3J0IHR5cGUgT2JqVG9Qcm94eU1hcCA9IFdlYWtNYXA8YW55LCBhbnk+O1xuZXhwb3J0IHR5cGUgUU9iamVjdDxUIGV4dGVuZHMge30+ID0gVCAmIHsgX19icmFuZF9fOiAnUU9iamVjdCcgfTtcblxuY29uc3QgUHJveHlNYXBTeW1ib2wgPSBTeW1ib2woJ1Byb3h5TWFwU3ltYm9sJyk7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm94eU1hcChkb2M6IERvY3VtZW50KTogT2JqVG9Qcm94eU1hcCB7XG4gIGxldCBtYXAgPSAoZG9jIGFzIGFueSlbUHJveHlNYXBTeW1ib2xdO1xuICBpZiAoIW1hcCkge1xuICAgIG1hcCA9IChkb2MgYXMgYW55KVtQcm94eU1hcFN5bWJvbF0gPSBuZXcgV2Vha01hcCgpO1xuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBxT2JqZWN0PFQgZXh0ZW5kcyBPYmplY3Q+KG9iajogVCwgcHJveHlNYXA6IE9ialRvUHJveHlNYXApOiBUIHtcbiAgYXNzZXJ0RXF1YWwodW53cmFwUHJveHkob2JqKSwgb2JqLCAnVW5leHBlY3RlZCBwcm94eSBhdCB0aGlzIGxvY2F0aW9uJyk7XG4gIGlmIChvYmogPT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8vIFRPRE8obWlza28pOiBjZW50cmFsaXplXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFEtRVJST1I6IE9ubHkgb2JqZWN0cyBjYW4gYmUgd3JhcHBlZCBpbiAnUU9iamVjdCcsIGdvdCBgICsgZGVidWdTdHJpbmdpZnkob2JqKVxuICAgICk7XG4gIH1cbiAgaWYgKG9iai5jb25zdHJ1Y3RvciAhPT0gT2JqZWN0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFEtRVJST1I6IE9ubHkgb2JqZWN0cyBsaXRlcmFscyBjYW4gYmUgd3JhcHBlZCBpbiAnUU9iamVjdCcsIGdvdCBgICsgZGVidWdTdHJpbmdpZnkob2JqKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIHJlYWRXcml0ZVByb3h5KG9iaiBhcyBhbnkgYXMgUU9iamVjdDxUPiwgcHJveHlNYXApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX3Jlc3RvcmVRT2JqZWN0PFQ+KG9iajogVCwgbWFwOiBPYmpUb1Byb3h5TWFwLCBzdWJzOiBNYXA8RWxlbWVudCwgU2V0PHN0cmluZz4+KTogVCB7XG4gIHJldHVybiByZWFkV3JpdGVQcm94eShvYmogYXMgYW55IGFzIFFPYmplY3Q8VD4sIG1hcCwgc3Vicyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHByb3h5IHdoaWNoIG5vdGlmaWVzIG9mIGFueSB3cml0ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkV3JpdGVQcm94eTxUIGV4dGVuZHMgb2JqZWN0PihcbiAgdGFyZ2V0OiBULFxuICBwcm94eU1hcDogT2JqVG9Qcm94eU1hcCxcbiAgc3Vicz86IE1hcDxFbGVtZW50LCBTZXQ8c3RyaW5nPj5cbik6IFQge1xuICBpZiAoIXRhcmdldCB8fCB0eXBlb2YgdGFyZ2V0ICE9PSAnb2JqZWN0JykgcmV0dXJuIHRhcmdldDtcbiAgbGV0IHByb3h5ID0gcHJveHlNYXAuZ2V0KHRhcmdldCk7XG4gIGlmIChwcm94eSkgcmV0dXJuIHByb3h5O1xuXG4gIHByb3h5ID0gbmV3IFByb3h5KHRhcmdldCwgbmV3IFJlYWRXcml0ZVByb3h5SGFuZGxlcihwcm94eU1hcCwgc3VicykpIGFzIGFueSBhcyBUO1xuICBwcm94eU1hcC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gIHJldHVybiBwcm94eTtcbn1cblxuZXhwb3J0IGNvbnN0IFFPamVjdFRhcmdldFN5bWJvbCA9ICc6dGFyZ2V0Oic7XG5leHBvcnQgY29uc3QgUU9qZWN0U3Vic1N5bWJvbCA9ICc6c3ViczonO1xuZXhwb3J0IGNvbnN0IFFPamVjdE9yaWdpbmFsUHJveHkgPSAnOnByb3h5Oic7XG5leHBvcnQgY29uc3QgU2V0U3Vic2NyaWJlciA9IFN5bWJvbCgnU2V0U3Vic2NyaWJlcicpO1xuXG5leHBvcnQgZnVuY3Rpb24gdW53cmFwUHJveHk8VD4ocHJveHk6IFQpOiBUIHtcbiAgaWYgKHByb3h5ICYmIHR5cGVvZiBwcm94eSA9PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHZhbHVlID0gKHByb3h5IGFzIGFueSlbUU9qZWN0VGFyZ2V0U3ltYm9sXTtcbiAgICBpZiAodmFsdWUpIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gcHJveHk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwPFQ+KHZhbHVlOiBULCBwcm94eU1hcDogT2JqVG9Qcm94eU1hcCk6IFQge1xuICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgIGlmIChpc1FybCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKGlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgbmFrZWRWYWx1ZSA9IHVud3JhcFByb3h5KHZhbHVlKTtcbiAgICBpZiAobmFrZWRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIC8vIGFscmVhZHkgYSBwcm94eSByZXR1cm47XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChxRGV2KSB7XG4gICAgICB2ZXJpZnlTZXJpYWxpemFibGU8VD4odmFsdWUpO1xuICAgIH1cbiAgICBjb25zdCBwcm94eSA9IHByb3h5TWFwLmdldCh2YWx1ZSk7XG4gICAgcmV0dXJuIHByb3h5ID8gcHJveHkgOiByZWFkV3JpdGVQcm94eSh2YWx1ZSBhcyBhbnksIHByb3h5TWFwKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cblxudHlwZSBUYXJnZXRUeXBlID0gUmVjb3JkPHN0cmluZyB8IHN5bWJvbCwgYW55PjtcblxuY2xhc3MgUmVhZFdyaXRlUHJveHlIYW5kbGVyIGltcGxlbWVudHMgUHJveHlIYW5kbGVyPFRhcmdldFR5cGU+IHtcbiAgcHJpdmF0ZSBzdWJzY3JpYmVyPzogU3Vic2NyaWJlcjtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwcm94eU1hcDogT2JqVG9Qcm94eU1hcCwgcHJpdmF0ZSBzdWJzID0gbmV3IE1hcDxTdWJzY3JpYmVyLCBTZXQ8c3RyaW5nPj4oKSkge31cblxuICBnZXRTdWIoZWw6IFN1YnNjcmliZXIpIHtcbiAgICBsZXQgc3ViID0gdGhpcy5zdWJzLmdldChlbCk7XG4gICAgaWYgKCFzdWIpIHtcbiAgICAgIHRoaXMuc3Vicy5zZXQoZWwsIChzdWIgPSBuZXcgU2V0KCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN1YjtcbiAgfVxuXG4gIGdldCh0YXJnZXQ6IFRhcmdldFR5cGUsIHByb3A6IHN0cmluZyB8IHN5bWJvbCk6IGFueSB7XG4gICAgbGV0IHN1YnNjcmliZXIgPSB0aGlzLnN1YnNjcmliZXI7XG4gICAgdGhpcy5zdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuICAgIGlmIChwcm9wID09PSBRT2plY3RUYXJnZXRTeW1ib2wpIHJldHVybiB0YXJnZXQ7XG4gICAgaWYgKHByb3AgPT09IFFPamVjdFN1YnNTeW1ib2wpIHJldHVybiB0aGlzLnN1YnM7XG4gICAgaWYgKHByb3AgPT09IFFPamVjdE9yaWdpbmFsUHJveHkpIHJldHVybiB0aGlzLnByb3h5TWFwLmdldCh0YXJnZXQpO1xuICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgaW52b2tlQ3R4ID0gdHJ5R2V0SW52b2tlQ29udGV4dCgpO1xuICAgIGlmIChxRGV2ICYmICFpbnZva2VDdHggJiYgIXFUZXN0KSB7XG4gICAgICBsb2dXYXJuKGBTdGF0ZSBhc3NpZ25lZCBvdXRzaWRlIGludm9jYXRpb24gY29udGV4dC4gR2V0dGluZyBwcm9wIFwiJHtwcm9wfVwiIG9mOmAsIHRhcmdldCk7XG4gICAgfVxuICAgIGlmIChpbnZva2VDdHgpIHtcbiAgICAgIGlmIChpbnZva2VDdHguc3Vic2NyaWJlciA9PT0gbnVsbCkge1xuICAgICAgICBzdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuICAgICAgfSBlbHNlIGlmICghc3Vic2NyaWJlcikge1xuICAgICAgICBzdWJzY3JpYmVyID0gaW52b2tlQ3R4LnN1YnNjcmliZXI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChxRGV2ICYmICFxVGVzdCAmJiAhc3Vic2NyaWJlcikge1xuICAgICAgbG9nV2FybihgU3RhdGUgYXNzaWduZWQgb3V0c2lkZSBpbnZvY2F0aW9uIGNvbnRleHQuIEdldHRpbmcgcHJvcCBcIiR7cHJvcH1cIiBvZjpgLCB0YXJnZXQpO1xuICAgIH1cblxuICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSh0YXJnZXQpO1xuICAgICAgY29uc3Qgc3ViID0gdGhpcy5nZXRTdWIoc3Vic2NyaWJlcik7XG4gICAgICBpZiAoIWlzQXJyYXkpIHtcbiAgICAgICAgc3ViLmFkZChwcm9wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHdyYXAodmFsdWUsIHRoaXMucHJveHlNYXApO1xuICB9XG5cbiAgc2V0KHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sLCBuZXdWYWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgaWYgKHR5cGVvZiBwcm9wID09PSAnc3ltYm9sJykge1xuICAgICAgaWYgKHByb3AgPT09IFNldFN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVyID0gbmV3VmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSBuZXdWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjb25zdCBzdWJzID0gdGhpcy5zdWJzO1xuICAgIGNvbnN0IHVud3JhcHBlZE5ld1ZhbHVlID0gdW53cmFwUHJveHkobmV3VmFsdWUpO1xuICAgIHZlcmlmeVNlcmlhbGl6YWJsZSh1bndyYXBwZWROZXdWYWx1ZSk7XG4gICAgY29uc3QgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KTtcbiAgICBpZiAoaXNBcnJheSkge1xuICAgICAgdGFyZ2V0W3Byb3AgYXMgYW55XSA9IHVud3JhcHBlZE5ld1ZhbHVlO1xuICAgICAgc3Vicy5mb3JFYWNoKChfLCBzdWIpID0+IHtcbiAgICAgICAgaWYgKHN1Yi5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgIG5vdGlmeUNoYW5nZShzdWIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1YnMuZGVsZXRlKHN1Yik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IG9sZFZhbHVlID0gdGFyZ2V0W3Byb3BdO1xuICAgIGlmIChvbGRWYWx1ZSAhPT0gdW53cmFwcGVkTmV3VmFsdWUpIHtcbiAgICAgIHRhcmdldFtwcm9wXSA9IHVud3JhcHBlZE5ld1ZhbHVlO1xuICAgICAgc3Vicy5mb3JFYWNoKChwcm9wU2V0cywgc3ViKSA9PiB7XG4gICAgICAgIGlmIChzdWIuaXNDb25uZWN0ZWQpIHtcbiAgICAgICAgICBpZiAocHJvcFNldHMuaGFzKHByb3ApKSB7XG4gICAgICAgICAgICBub3RpZnlDaGFuZ2Uoc3ViKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3Vicy5kZWxldGUoc3ViKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaGFzKHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcGVydHk6IHN0cmluZyB8IHN5bWJvbCkge1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gUU9qZWN0VGFyZ2V0U3ltYm9sKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocHJvcGVydHkgPT09IFFPamVjdFN1YnNTeW1ib2wpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXJnZXQsIHByb3BlcnR5KTtcbiAgfVxuXG4gIG93bktleXModGFyZ2V0OiBUYXJnZXRUeXBlKTogQXJyYXlMaWtlPHN0cmluZyB8IHN5bWJvbD4ge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTdWIob2JqOiBhbnksIHN1YnNjcmliZXI6IGFueSkge1xuICBpZiAob2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgY29uc3Qgc3VicyA9IG9ialtRT2plY3RTdWJzU3ltYm9sXSBhcyBNYXA8U3Vic2NyaWJlciwgU2V0PHN0cmluZz4+IHwgdW5kZWZpbmVkO1xuICAgIGlmIChzdWJzKSB7XG4gICAgICBzdWJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vdGlmeUNoYW5nZShzdWJzY3JpYmVyOiBTdWJzY3JpYmVyKSB7XG4gIGlmIChpc0VsZW1lbnQoc3Vic2NyaWJlcikpIHtcbiAgICBub3RpZnlSZW5kZXIoc3Vic2NyaWJlcik7XG4gIH0gZWxzZSB7XG4gICAgbm90aWZ5V2F0Y2goc3Vic2NyaWJlciBhcyBXYXRjaERlc2NyaXB0b3IpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3RpZnlXYXRjaCh3YXRjaDogV2F0Y2hEZXNjcmlwdG9yKSB7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0Q29udGFpbmVyKHdhdGNoLmhvc3RFbGVtZW50KSE7XG4gIGNvbnN0IHN0YXRlID0gZ2V0UmVuZGVyaW5nU3RhdGUoY29udGFpbmVyRWwpO1xuICB3YXRjaC5kaXJ0eSA9IHRydWU7XG4gIGlmICh3YXRjaC5tb2RlID09PSBXYXRjaE1vZGUuV2F0Y2gpIHtcbiAgICBjb25zdCBwcm9taXNlID0gcnVuV2F0Y2god2F0Y2gpO1xuICAgIHN0YXRlLndhdGNoUnVubmluZy5hZGQocHJvbWlzZSk7XG4gICAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgIHN0YXRlLndhdGNoUnVubmluZy5kZWxldGUocHJvbWlzZSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgYWN0aXZlUmVuZGVyaW5nID0gc3RhdGUuaG9zdHNSZW5kZXJpbmcgIT09IHVuZGVmaW5lZDtcbiAgICBpZiAoYWN0aXZlUmVuZGVyaW5nKSB7XG4gICAgICBzdGF0ZS53YXRjaFN0YWdnaW5nLmFkZCh3YXRjaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLndhdGNoTmV4dC5hZGQod2F0Y2gpO1xuICAgICAgc2NoZWR1bGVGcmFtZShjb250YWluZXJFbCwgc3RhdGUpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2FpdEZvcldhdGNoZXMoc3RhdGU6IFJlbmRlcmluZ1N0YXRlKSB7XG4gIHdoaWxlIChzdGF0ZS53YXRjaFJ1bm5pbmcuc2l6ZSA+IDApIHtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChzdGF0ZS53YXRjaFJ1bm5pbmcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHZlcmlmeVNlcmlhbGl6YWJsZTxUPih2YWx1ZTogVCkge1xuICBpZiAoc2hvdWxkU2VyaWFsaXplKHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybjtcbiAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSAhPT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgaWYgKGlzUXJsKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgaWYgKGlzRWxlbWVudCh2YWx1ZSkpIHJldHVybjtcbiAgICAgIHRocm93IHFFcnJvcihRRXJyb3IuVE9ETywgJ09ubHkgcHJpbWl0aXZlIGFuZCBvYmplY3QgbGl0ZXJhbHMgY2FuIGJlIHNlcmlhbGl6ZWQuJyk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IE5PU0VSSUFMSVpFID0gU3ltYm9sKCdOb1NlcmlhbGl6ZScpO1xuXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkU2VyaWFsaXplKG9iajogYW55KTogYm9vbGVhbiB7XG4gIGlmIChvYmogIT09IG51bGwgJiYgKHR5cGVvZiBvYmogPT0gJ29iamVjdCcgfHwgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykpIHtcbiAgICBjb25zdCBub1NlcmlhbGl6ZSA9IChvYmogYXMgYW55KVtOT1NFUklBTElaRV0gPT09IHRydWU7XG4gICAgcmV0dXJuICFub1NlcmlhbGl6ZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgTm9TZXJpYWxpemU8VD4gPSAoVCAmIHsgW05PU0VSSUFMSVpFXTogdHJ1ZSB9KSB8IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vU2VyaWFsaXplPFQgZXh0ZW5kcyB7fT4oaW5wdXQ6IFQpOiBOb1NlcmlhbGl6ZTxUPiB7XG4gIChpbnB1dCBhcyBhbnkpW05PU0VSSUFMSVpFXSA9IHRydWU7XG4gIHJldHVybiBpbnB1dCBhcyBhbnk7XG59XG4iXX0=","import { QOjectOriginalProxy, QOjectTargetSymbol, SetSubscriber } from '../object/q-object';\nimport { RenderEvent } from '../util/markers';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { getInvokeContext } from './use-core';\n/**\n * @alpha\n */\nexport function useSubscriber(obj) {\n    const ctx = getInvokeContext();\n    let subscriber = ctx.watch;\n    if (!subscriber) {\n        assertEqual(ctx.event, RenderEvent);\n        subscriber = ctx.hostElement;\n    }\n    assertDefined(subscriber);\n    return wrapSubscriber(obj, subscriber);\n}\n/**\n * @alpha\n */\nexport function wrapSubscriber(obj, subscriber) {\n    if (obj && typeof obj === 'object') {\n        const target = obj[QOjectTargetSymbol];\n        if (!target) {\n            return obj;\n        }\n        return new Proxy(obj, {\n            get(target, prop) {\n                if (prop === QOjectOriginalProxy) {\n                    return target;\n                }\n                target[SetSubscriber] = subscriber;\n                return target[prop];\n            },\n        });\n    }\n    return obj;\n}\n/**\n * @alpha\n */\nexport function unwrapSubscriber(obj) {\n    if (obj && typeof obj === 'object') {\n        const proxy = obj[QOjectOriginalProxy];\n        if (proxy) {\n            return proxy;\n        }\n    }\n    return obj;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN1YnNjcmliZXIuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3VzZS91c2Utc3Vic2NyaWJlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsa0JBQWtCLEVBQUUsYUFBYSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFNUYsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBSTlDOztHQUVHO0FBQ0gsTUFBTSxVQUFVLGFBQWEsQ0FBZSxHQUFNO0lBQ2hELE1BQU0sR0FBRyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDL0IsSUFBSSxVQUFVLEdBQTJCLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDbkQsSUFBSSxDQUFDLFVBQVUsRUFBRTtRQUNmLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ3BDLFVBQVUsR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDO0tBQzlCO0lBQ0QsYUFBYSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQzFCLE9BQU8sY0FBYyxDQUFDLEdBQUcsRUFBRSxVQUFXLENBQUMsQ0FBQztBQUMxQyxDQUFDO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLFVBQVUsY0FBYyxDQUFlLEdBQU0sRUFBRSxVQUFzQjtJQUN6RSxJQUFJLEdBQUcsSUFBSSxPQUFPLEdBQUcsS0FBSyxRQUFRLEVBQUU7UUFDbEMsTUFBTSxNQUFNLEdBQUksR0FBVyxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDaEQsSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNYLE9BQU8sR0FBRyxDQUFDO1NBQ1o7UUFDRCxPQUFPLElBQUksS0FBSyxDQUFNLEdBQUcsRUFBRTtZQUN6QixHQUFHLENBQUMsTUFBTSxFQUFFLElBQUk7Z0JBQ2QsSUFBSSxJQUFJLEtBQUssbUJBQW1CLEVBQUU7b0JBQ2hDLE9BQU8sTUFBTSxDQUFDO2lCQUNmO2dCQUNELE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBRyxVQUFVLENBQUM7Z0JBQ25DLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3RCLENBQUM7U0FDRixDQUFDLENBQUM7S0FDSjtJQUNELE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQztBQUVEOztHQUVHO0FBQ0gsTUFBTSxVQUFVLGdCQUFnQixDQUFlLEdBQU07SUFDbkQsSUFBSSxHQUFHLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1FBQ2xDLE1BQU0sS0FBSyxHQUFJLEdBQVcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2hELElBQUksS0FBSyxFQUFFO1lBQ1QsT0FBTyxLQUFLLENBQUM7U0FDZDtLQUNGO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUU9qZWN0T3JpZ2luYWxQcm94eSwgUU9qZWN0VGFyZ2V0U3ltYm9sLCBTZXRTdWJzY3JpYmVyIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB0eXBlIHsgV2F0Y2hEZXNjcmlwdG9yIH0gZnJvbSAnLi4vd2F0Y2gvd2F0Y2gucHVibGljJztcbmltcG9ydCB7IFJlbmRlckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBnZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbmV4cG9ydCB0eXBlIFN1YnNjcmliZXIgPSBXYXRjaERlc2NyaXB0b3IgfCBFbGVtZW50O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlU3Vic2NyaWJlcjxUIGV4dGVuZHMge30+KG9iajogVCk6IFQge1xuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIGxldCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyIHwgdW5kZWZpbmVkID0gY3R4LndhdGNoO1xuICBpZiAoIXN1YnNjcmliZXIpIHtcbiAgICBhc3NlcnRFcXVhbChjdHguZXZlbnQsIFJlbmRlckV2ZW50KTtcbiAgICBzdWJzY3JpYmVyID0gY3R4Lmhvc3RFbGVtZW50O1xuICB9XG4gIGFzc2VydERlZmluZWQoc3Vic2NyaWJlcik7XG4gIHJldHVybiB3cmFwU3Vic2NyaWJlcihvYmosIHN1YnNjcmliZXIhKTtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyYXBTdWJzY3JpYmVyPFQgZXh0ZW5kcyB7fT4ob2JqOiBULCBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyKSB7XG4gIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCB0YXJnZXQgPSAob2JqIGFzIGFueSlbUU9qZWN0VGFyZ2V0U3ltYm9sXTtcbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm94eTxhbnk+KG9iaiwge1xuICAgICAgZ2V0KHRhcmdldCwgcHJvcCkge1xuICAgICAgICBpZiAocHJvcCA9PT0gUU9qZWN0T3JpZ2luYWxQcm94eSkge1xuICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0W1NldFN1YnNjcmliZXJdID0gc3Vic2NyaWJlcjtcbiAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcFN1YnNjcmliZXI8VCBleHRlbmRzIHt9PihvYmo6IFQpIHtcbiAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIGNvbnN0IHByb3h5ID0gKG9iaiBhcyBhbnkpW1FPamVjdE9yaWdpbmFsUHJveHldO1xuICAgIGlmIChwcm94eSkge1xuICAgICAgcmV0dXJuIHByb3h5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gb2JqO1xufVxuIl19","import { EMPTY_ARRAY } from '../util/flyweight';\nimport { isQrl, QRLInternal } from './qrl-class';\nimport { assertEqual } from '../assert/assert';\nimport { getDocument } from '../util/dom';\nimport { logError } from '../util/log';\nimport { then } from '../util/promises';\nimport { getPlatform } from '../platform/platform';\nimport { unwrapSubscriber } from '../use/use-subscriber';\nimport { tryGetInvokeContext } from '../use/use-core';\nlet runtimeSymbolId = 0;\nconst RUNTIME_QRL = '/runtimeQRL';\n// https://regexr.com/68v72\nconst EXTRACT_IMPORT_PATH = /\\(\\s*(['\"])([^\\1]+)\\1\\s*\\)/;\n// https://regexr.com/690ds\nconst EXTRACT_SELF_IMPORT = /Promise\\s*\\.\\s*resolve/;\n// https://regexr.com/6a83h\nconst EXTRACT_FILE_NAME = /[\\\\/(]([\\w\\d.\\-_]+\\.(js|ts)x?):/;\nexport function toInternalQRL(qrl) {\n    assertEqual(isQrl(qrl), true);\n    return qrl;\n}\n// <docs markdown=\"https://hackmd.io/m5DzCi5MTa26LuUj5t3HpQ#qrlImport\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fm5DzCi5MTa26LuUj5t3HpQ%3Fboth#qrlImport instead)\n/**\n * Lazy-load a `QRL` symbol and return the lazy-loaded value.\n *\n * See: `QRL`\n *\n * @param element - Location of the URL to resolve against. This is needed to take `q:base` into\n * account.\n * @param qrl - QRL to load.\n * @returns A resolved QRL value as a Promise.\n */\n// </docs>\nexport function qrlImport(element, qrl) {\n    const qrl_ = toInternalQRL(qrl);\n    if (qrl_.symbolRef)\n        return qrl_.symbolRef;\n    if (qrl_.symbolFn) {\n        return (qrl_.symbolRef = qrl_\n            .symbolFn()\n            .then((module) => (qrl_.symbolRef = module[qrl_.symbol])));\n    }\n    else {\n        if (!element) {\n            throw new Error(`QRL '${qrl_.chunk}#${qrl_.symbol || 'default'}' does not have an attached container`);\n        }\n        const symbol = getPlatform(getDocument(element)).importSymbol(element, qrl_.chunk, qrl_.symbol);\n        return (qrl_.symbolRef = then(symbol, (ref) => {\n            return (qrl_.symbolRef = ref);\n        }));\n    }\n}\n// <docs markdown=\"https://hackmd.io/m5DzCi5MTa26LuUj5t3HpQ#qrl\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fm5DzCi5MTa26LuUj5t3HpQ%3Fboth#qrl instead)\n/**\n * Used by Qwik Optimizer to point to lazy-loaded resources.\n *\n * This function should be used by the Qwik Optimizer only. The function should not be directly\n * referred to in the source code of the application.\n *\n * See: `QRL`, `$(...)`\n *\n * @param chunkOrFn - Chunk name (or function which is stringified to extract chunk name)\n * @param symbol - Symbol to lazy load\n * @param lexicalScopeCapture - a set of lexically scoped variables to capture.\n * @public\n */\n// </docs>\nexport function qrl(chunkOrFn, symbol, lexicalScopeCapture = EMPTY_ARRAY) {\n    let chunk;\n    let symbolFn = null;\n    if (typeof chunkOrFn === 'string') {\n        chunk = chunkOrFn;\n    }\n    else if (typeof chunkOrFn === 'function') {\n        symbolFn = chunkOrFn;\n        let match;\n        const srcCode = String(chunkOrFn);\n        if ((match = srcCode.match(EXTRACT_IMPORT_PATH)) && match[2]) {\n            chunk = match[2];\n        }\n        else if ((match = srcCode.match(EXTRACT_SELF_IMPORT))) {\n            const ref = 'QWIK-SELF';\n            const frames = new Error(ref).stack.split('\\n');\n            const start = frames.findIndex((f) => f.includes(ref));\n            const frame = frames[start + 2];\n            match = frame.match(EXTRACT_FILE_NAME);\n            if (!match) {\n                chunk = 'main';\n            }\n            else {\n                chunk = match[1];\n            }\n        }\n        else {\n            throw new Error('Q-ERROR: Dynamic import not found: ' + srcCode);\n        }\n    }\n    else {\n        throw new Error('Q-ERROR: Unknown type argument: ' + chunkOrFn);\n    }\n    // Unwrap subscribers\n    if (Array.isArray(lexicalScopeCapture)) {\n        for (let i = 0; i < lexicalScopeCapture.length; i++) {\n            lexicalScopeCapture[i] = unwrapSubscriber(lexicalScopeCapture[i]);\n        }\n    }\n    const qrl = new QRLInternal(chunk, symbol, null, symbolFn, null, lexicalScopeCapture);\n    const ctx = tryGetInvokeContext();\n    if (ctx && ctx.element) {\n        qrl.setContainer(ctx.element);\n    }\n    return qrl;\n}\nexport function runtimeQrl(symbol, lexicalScopeCapture = EMPTY_ARRAY) {\n    return new QRLInternal(RUNTIME_QRL, 's' + runtimeSymbolId++, symbol, null, null, lexicalScopeCapture);\n}\nexport function stringifyQRL(qrl, opts = {}) {\n    const qrl_ = toInternalQRL(qrl);\n    const symbol = qrl_.symbol;\n    const platform = opts.platform;\n    const element = opts.element;\n    const chunk = platform ? platform.chunkForSymbol(symbol) ?? qrl_.chunk : qrl_.chunk;\n    const parts = [chunk];\n    if (symbol && symbol !== 'default') {\n        parts.push('#', symbol);\n    }\n    const capture = qrl_.capture;\n    const captureRef = qrl_.captureRef;\n    if (opts.getObjId) {\n        if (captureRef && captureRef.length) {\n            const capture = captureRef.map(opts.getObjId);\n            parts.push(`[${capture.join(' ')}]`);\n        }\n    }\n    else if (capture && capture.length > 0) {\n        parts.push(`[${capture.join(' ')}]`);\n    }\n    const qrlString = parts.join('');\n    if (qrl_.chunk === RUNTIME_QRL && element) {\n        const qrls = element.__qrls__ || (element.__qrls__ = new Set());\n        qrls.add(qrl);\n    }\n    return qrlString;\n}\nexport function qrlToUrl(element, qrl) {\n    return new URL(stringifyQRL(qrl), getDocument(element).baseURI);\n}\n/**\n * `./chunk#symbol|symbol.propA.propB|[captures]\n */\nexport function parseQRL(qrl, el) {\n    const endIdx = qrl.length;\n    const hashIdx = indexOf(qrl, 0, '#');\n    const captureIdx = indexOf(qrl, hashIdx, '[');\n    const chunkEndIdx = Math.min(hashIdx, captureIdx);\n    const chunk = qrl.substring(0, chunkEndIdx);\n    const symbolStartIdx = hashIdx == endIdx ? hashIdx : hashIdx + 1;\n    const symbolEndIdx = captureIdx;\n    const symbol = symbolStartIdx == symbolEndIdx ? 'default' : qrl.substring(symbolStartIdx, symbolEndIdx);\n    const captureStartIdx = captureIdx;\n    const captureEndIdx = endIdx;\n    const capture = captureStartIdx === captureEndIdx\n        ? EMPTY_ARRAY\n        : qrl.substring(captureStartIdx + 1, captureEndIdx - 1).split(' ');\n    if (chunk === RUNTIME_QRL) {\n        logError(`Q-ERROR: '${qrl}' is runtime but no instance found on element.`);\n    }\n    const iQrl = new QRLInternal(chunk, symbol, null, null, capture, null);\n    if (el) {\n        iQrl.setContainer(el);\n    }\n    return iQrl;\n}\nfunction indexOf(text, startIdx, char) {\n    const endIdx = text.length;\n    const charIdx = text.indexOf(char, startIdx == endIdx ? 0 : startIdx);\n    return charIdx == -1 ? endIdx : charIdx;\n}\nexport function toQrlOrError(symbolOrQrl) {\n    if (!isQrl(symbolOrQrl)) {\n        if (typeof symbolOrQrl == 'function' || typeof symbolOrQrl == 'string') {\n            symbolOrQrl = runtimeQrl(symbolOrQrl);\n        }\n        else {\n            // TODO(misko): centralize\n            throw new Error(`Q-ERROR Only 'function's and 'string's are supported.`);\n        }\n    }\n    return symbolOrQrl;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS9pbXBvcnQvcXJsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVoRCxPQUFPLEVBQUUsS0FBSyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNqRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFHL0MsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUN4QyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbkQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDekQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFdEQsSUFBSSxlQUFlLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQztBQUVsQywyQkFBMkI7QUFDM0IsTUFBTSxtQkFBbUIsR0FBRyw0QkFBNEIsQ0FBQztBQUV6RCwyQkFBMkI7QUFDM0IsTUFBTSxtQkFBbUIsR0FBRyx3QkFBd0IsQ0FBQztBQUVyRCwyQkFBMkI7QUFDM0IsTUFBTSxpQkFBaUIsR0FBRyxpQ0FBaUMsQ0FBQztBQUU1RCxNQUFNLFVBQVUsYUFBYSxDQUFJLEdBQVc7SUFDMUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM5QixPQUFPLEdBQXFCLENBQUM7QUFDL0IsQ0FBQztBQUVELHVFQUF1RTtBQUN2RSx5Q0FBeUM7QUFDekMsbUdBQW1HO0FBQ25HOzs7Ozs7Ozs7R0FTRztBQUNILFVBQVU7QUFDVixN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QUksT0FBTyxXQUFXLElBQUksVUFBVSxJQUFJLE9BQU8sV0FBVyxJQUFJLFFBQVEsRUFBRTtZQUN0RSxXQUFXLEdBQUcsVUFBVSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3ZDO2FBQU07WUFDTCwwQkFBMEI7WUFDMUIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1REFBdUQsQ0FBQyxDQUFDO1NBQzFFO0tBQ0Y7SUFDRCxPQUFPLFdBQTZCLENBQUM7QUFDdkMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vdXRpbC9mbHl3ZWlnaHQnO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuL3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgaXNRcmwsIFFSTEludGVybmFsIH0gZnJvbSAnLi9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgQ29yZVBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBsb2dFcnJvciB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHRoZW4gfSBmcm9tICcuLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHsgdW53cmFwU3Vic2NyaWJlciB9IGZyb20gJy4uL3VzZS91c2Utc3Vic2NyaWJlcic7XG5pbXBvcnQgeyB0cnlHZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcblxubGV0IHJ1bnRpbWVTeW1ib2xJZCA9IDA7XG5jb25zdCBSVU5USU1FX1FSTCA9ICcvcnVudGltZVFSTCc7XG5cbi8vIGh0dHBzOi8vcmVnZXhyLmNvbS82OHY3MlxuY29uc3QgRVhUUkFDVF9JTVBPUlRfUEFUSCA9IC9cXChcXHMqKFsnXCJdKShbXlxcMV0rKVxcMVxccypcXCkvO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNjkwZHNcbmNvbnN0IEVYVFJBQ1RfU0VMRl9JTVBPUlQgPSAvUHJvbWlzZVxccypcXC5cXHMqcmVzb2x2ZS87XG5cbi8vIGh0dHBzOi8vcmVnZXhyLmNvbS82YTgzaFxuY29uc3QgRVhUUkFDVF9GSUxFX05BTUUgPSAvW1xcXFwvKF0oW1xcd1xcZC5cXC1fXStcXC4oanN8dHMpeD8pOi87XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ludGVybmFsUVJMPFQ+KHFybDogUVJMPFQ+KTogUVJMSW50ZXJuYWw8VD4ge1xuICBhc3NlcnRFcXVhbChpc1FybChxcmwpLCB0cnVlKTtcbiAgcmV0dXJuIHFybCBhcyBRUkxJbnRlcm5hbDxUPjtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCJodHRwczovL2hhY2ttZC5pby9tNUR6Q2k1TVRhMjZMdVVqNXQzSHBRI3FybEltcG9ydFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRm01RHpDaTVNVGEyNkx1VWo1dDNIcFElM0Zib3RoI3FybEltcG9ydCBpbnN0ZWFkKVxuLyoqXG4gKiBMYXp5LWxvYWQgYSBgUVJMYCBzeW1ib2wgYW5kIHJldHVybiB0aGUgbGF6eS1sb2FkZWQgdmFsdWUuXG4gKlxuICogU2VlOiBgUVJMYFxuICpcbiAqIEBwYXJhbSBlbGVtZW50IC0gTG9jYXRpb24gb2YgdGhlIFVSTCB0byByZXNvbHZlIGFnYWluc3QuIFRoaXMgaXMgbmVlZGVkIHRvIHRha2UgYHE6YmFzZWAgaW50b1xuICogYWNjb3VudC5cbiAqIEBwYXJhbSBxcmwgLSBRUkwgdG8gbG9hZC5cbiAqIEByZXR1cm5zIEEgcmVzb2x2ZWQgUVJMIHZhbHVlIGFzIGEgUHJvbWlzZS5cbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHFybEltcG9ydDxUPihlbGVtZW50OiBFbGVtZW50IHwgdW5kZWZpbmVkLCBxcmw6IFFSTDxUPik6IFZhbHVlT3JQcm9taXNlPFQ+IHtcbiAgY29uc3QgcXJsXyA9IHRvSW50ZXJuYWxRUkwocXJsKTtcbiAgaWYgKHFybF8uc3ltYm9sUmVmKSByZXR1cm4gcXJsXy5zeW1ib2xSZWY7XG4gIGlmIChxcmxfLnN5bWJvbEZuKSB7XG4gICAgcmV0dXJuIChxcmxfLnN5bWJvbFJlZiA9IHFybF9cbiAgICAgIC5zeW1ib2xGbigpXG4gICAgICAudGhlbigobW9kdWxlKSA9PiAocXJsXy5zeW1ib2xSZWYgPSBtb2R1bGVbcXJsXy5zeW1ib2xdKSkpO1xuICB9IGVsc2Uge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgUVJMICcke3FybF8uY2h1bmt9IyR7cXJsXy5zeW1ib2wgfHwgJ2RlZmF1bHQnfScgZG9lcyBub3QgaGF2ZSBhbiBhdHRhY2hlZCBjb250YWluZXJgXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzeW1ib2wgPSBnZXRQbGF0Zm9ybShnZXREb2N1bWVudChlbGVtZW50KSkuaW1wb3J0U3ltYm9sKGVsZW1lbnQsIHFybF8uY2h1bmssIHFybF8uc3ltYm9sKTtcbiAgICByZXR1cm4gKHFybF8uc3ltYm9sUmVmID0gdGhlbihzeW1ib2wsIChyZWYpID0+IHtcbiAgICAgIHJldHVybiAocXJsXy5zeW1ib2xSZWYgPSByZWYpO1xuICAgIH0pKTtcbiAgfVxufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cImh0dHBzOi8vaGFja21kLmlvL201RHpDaTVNVGEyNkx1VWo1dDNIcFEjcXJsXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgaHR0cHM6Ly9oYWNrbWQuaW8vQHF3aWstZG9jcy9Ca3hwU3o4MFkvJTJGbTVEekNpNU1UYTI2THVVajV0M0hwUSUzRmJvdGgjcXJsIGluc3RlYWQpXG4vKipcbiAqIFVzZWQgYnkgUXdpayBPcHRpbWl6ZXIgdG8gcG9pbnQgdG8gbGF6eS1sb2FkZWQgcmVzb3VyY2VzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIHVzZWQgYnkgdGhlIFF3aWsgT3B0aW1pemVyIG9ubHkuIFRoZSBmdW5jdGlvbiBzaG91bGQgbm90IGJlIGRpcmVjdGx5XG4gKiByZWZlcnJlZCB0byBpbiB0aGUgc291cmNlIGNvZGUgb2YgdGhlIGFwcGxpY2F0aW9uLlxuICpcbiAqIFNlZTogYFFSTGAsIGAkKC4uLilgXG4gKlxuICogQHBhcmFtIGNodW5rT3JGbiAtIENodW5rIG5hbWUgKG9yIGZ1bmN0aW9uIHdoaWNoIGlzIHN0cmluZ2lmaWVkIHRvIGV4dHJhY3QgY2h1bmsgbmFtZSlcbiAqIEBwYXJhbSBzeW1ib2wgLSBTeW1ib2wgdG8gbGF6eSBsb2FkXG4gKiBAcGFyYW0gbGV4aWNhbFNjb3BlQ2FwdHVyZSAtIGEgc2V0IG9mIGxleGljYWxseSBzY29wZWQgdmFyaWFibGVzIHRvIGNhcHR1cmUuXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiBxcmw8VCA9IGFueT4oXG4gIGNodW5rT3JGbjogc3RyaW5nIHwgKCgpID0+IFByb21pc2U8YW55PiksXG4gIHN5bWJvbDogc3RyaW5nLFxuICBsZXhpY2FsU2NvcGVDYXB0dXJlOiBhbnlbXSB8IG51bGwgPSBFTVBUWV9BUlJBWVxuKTogUVJMPFQ+IHtcbiAgbGV0IGNodW5rOiBzdHJpbmc7XG4gIGxldCBzeW1ib2xGbjogbnVsbCB8ICgoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT4+KSA9IG51bGw7XG4gIGlmICh0eXBlb2YgY2h1bmtPckZuID09PSAnc3RyaW5nJykge1xuICAgIGNodW5rID0gY2h1bmtPckZuO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBjaHVua09yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICBzeW1ib2xGbiA9IGNodW5rT3JGbjtcbiAgICBsZXQgbWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkgfCBudWxsO1xuICAgIGNvbnN0IHNyY0NvZGUgPSBTdHJpbmcoY2h1bmtPckZuKTtcbiAgICBpZiAoKG1hdGNoID0gc3JjQ29kZS5tYXRjaChFWFRSQUNUX0lNUE9SVF9QQVRIKSkgJiYgbWF0Y2hbMl0pIHtcbiAgICAgIGNodW5rID0gbWF0Y2hbMl07XG4gICAgfSBlbHNlIGlmICgobWF0Y2ggPSBzcmNDb2RlLm1hdGNoKEVYVFJBQ1RfU0VMRl9JTVBPUlQpKSkge1xuICAgICAgY29uc3QgcmVmID0gJ1FXSUstU0VMRic7XG4gICAgICBjb25zdCBmcmFtZXMgPSBuZXcgRXJyb3IocmVmKS5zdGFjayEuc3BsaXQoJ1xcbicpO1xuICAgICAgY29uc3Qgc3RhcnQgPSBmcmFtZXMuZmluZEluZGV4KChmKSA9PiBmLmluY2x1ZGVzKHJlZikpO1xuICAgICAgY29uc3QgZnJhbWUgPSBmcmFtZXNbc3RhcnQgKyAyXTtcbiAgICAgIG1hdGNoID0gZnJhbWUubWF0Y2goRVhUUkFDVF9GSUxFX05BTUUpO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICBjaHVuayA9ICdtYWluJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNodW5rID0gbWF0Y2hbMV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUS1FUlJPUjogRHluYW1pYyBpbXBvcnQgbm90IGZvdW5kOiAnICsgc3JjQ29kZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBFcnJvcignUS1FUlJPUjogVW5rbm93biB0eXBlIGFyZ3VtZW50OiAnICsgY2h1bmtPckZuKTtcbiAgfVxuXG4gIC8vIFVud3JhcCBzdWJzY3JpYmVyc1xuICBpZiAoQXJyYXkuaXNBcnJheShsZXhpY2FsU2NvcGVDYXB0dXJlKSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGV4aWNhbFNjb3BlQ2FwdHVyZS5sZW5ndGg7IGkrKykge1xuICAgICAgbGV4aWNhbFNjb3BlQ2FwdHVyZVtpXSA9IHVud3JhcFN1YnNjcmliZXIobGV4aWNhbFNjb3BlQ2FwdHVyZVtpXSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IHFybCA9IG5ldyBRUkxJbnRlcm5hbDxUPihjaHVuaywgc3ltYm9sLCBudWxsLCBzeW1ib2xGbiwgbnVsbCwgbGV4aWNhbFNjb3BlQ2FwdHVyZSk7XG4gIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKGN0eCAmJiBjdHguZWxlbWVudCkge1xuICAgIHFybC5zZXRDb250YWluZXIoY3R4LmVsZW1lbnQpO1xuICB9XG4gIHJldHVybiBxcmw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBydW50aW1lUXJsPFQ+KHN5bWJvbDogVCwgbGV4aWNhbFNjb3BlQ2FwdHVyZTogYW55W10gPSBFTVBUWV9BUlJBWSk6IFFSTDxUPiB7XG4gIHJldHVybiBuZXcgUVJMSW50ZXJuYWw8VD4oXG4gICAgUlVOVElNRV9RUkwsXG4gICAgJ3MnICsgcnVudGltZVN5bWJvbElkKyssXG4gICAgc3ltYm9sLFxuICAgIG51bGwsXG4gICAgbnVsbCxcbiAgICBsZXhpY2FsU2NvcGVDYXB0dXJlXG4gICk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUVJMU2VyaWFsaXplT3B0aW9ucyB7XG4gIHBsYXRmb3JtPzogQ29yZVBsYXRmb3JtO1xuICBlbGVtZW50PzogRWxlbWVudDtcbiAgZ2V0T2JqSWQ/OiAob2JqOiBhbnkpID0+IHN0cmluZyB8IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlRUkwocXJsOiBRUkwsIG9wdHM6IFFSTFNlcmlhbGl6ZU9wdGlvbnMgPSB7fSkge1xuICBjb25zdCBxcmxfID0gdG9JbnRlcm5hbFFSTChxcmwpO1xuICBjb25zdCBzeW1ib2wgPSBxcmxfLnN5bWJvbDtcbiAgY29uc3QgcGxhdGZvcm0gPSBvcHRzLnBsYXRmb3JtO1xuICBjb25zdCBlbGVtZW50ID0gb3B0cy5lbGVtZW50O1xuICBjb25zdCBjaHVuayA9IHBsYXRmb3JtID8gcGxhdGZvcm0uY2h1bmtGb3JTeW1ib2woc3ltYm9sKSA/PyBxcmxfLmNodW5rIDogcXJsXy5jaHVuaztcblxuICBjb25zdCBwYXJ0czogc3RyaW5nW10gPSBbY2h1bmtdO1xuICBpZiAoc3ltYm9sICYmIHN5bWJvbCAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgcGFydHMucHVzaCgnIycsIHN5bWJvbCk7XG4gIH1cbiAgY29uc3QgY2FwdHVyZSA9IHFybF8uY2FwdHVyZTtcbiAgY29uc3QgY2FwdHVyZVJlZiA9IHFybF8uY2FwdHVyZVJlZjtcbiAgaWYgKG9wdHMuZ2V0T2JqSWQpIHtcbiAgICBpZiAoY2FwdHVyZVJlZiAmJiBjYXB0dXJlUmVmLmxlbmd0aCkge1xuICAgICAgY29uc3QgY2FwdHVyZSA9IGNhcHR1cmVSZWYubWFwKG9wdHMuZ2V0T2JqSWQpO1xuICAgICAgcGFydHMucHVzaChgWyR7Y2FwdHVyZS5qb2luKCcgJyl9XWApO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjYXB0dXJlICYmIGNhcHR1cmUubGVuZ3RoID4gMCkge1xuICAgIHBhcnRzLnB1c2goYFske2NhcHR1cmUuam9pbignICcpfV1gKTtcbiAgfVxuICBjb25zdCBxcmxTdHJpbmcgPSBwYXJ0cy5qb2luKCcnKTtcbiAgaWYgKHFybF8uY2h1bmsgPT09IFJVTlRJTUVfUVJMICYmIGVsZW1lbnQpIHtcbiAgICBjb25zdCBxcmxzOiBTZXQ8UVJMPiA9IChlbGVtZW50IGFzIGFueSkuX19xcmxzX18gfHwgKChlbGVtZW50IGFzIGFueSkuX19xcmxzX18gPSBuZXcgU2V0KCkpO1xuICAgIHFybHMuYWRkKHFybCk7XG4gIH1cbiAgcmV0dXJuIHFybFN0cmluZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHFybFRvVXJsKGVsZW1lbnQ6IEVsZW1lbnQsIHFybDogUVJMKTogVVJMIHtcbiAgcmV0dXJuIG5ldyBVUkwoc3RyaW5naWZ5UVJMKHFybCksIGdldERvY3VtZW50KGVsZW1lbnQpLmJhc2VVUkkpO1xufVxuXG4vKipcbiAqIGAuL2NodW5rI3N5bWJvbHxzeW1ib2wucHJvcEEucHJvcEJ8W2NhcHR1cmVzXVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VRUkwocXJsOiBzdHJpbmcsIGVsPzogRWxlbWVudCk6IFFSTEludGVybmFsIHtcbiAgY29uc3QgZW5kSWR4ID0gcXJsLmxlbmd0aDtcbiAgY29uc3QgaGFzaElkeCA9IGluZGV4T2YocXJsLCAwLCAnIycpO1xuICBjb25zdCBjYXB0dXJlSWR4ID0gaW5kZXhPZihxcmwsIGhhc2hJZHgsICdbJyk7XG5cbiAgY29uc3QgY2h1bmtFbmRJZHggPSBNYXRoLm1pbihoYXNoSWR4LCBjYXB0dXJlSWR4KTtcbiAgY29uc3QgY2h1bmsgPSBxcmwuc3Vic3RyaW5nKDAsIGNodW5rRW5kSWR4KTtcblxuICBjb25zdCBzeW1ib2xTdGFydElkeCA9IGhhc2hJZHggPT0gZW5kSWR4ID8gaGFzaElkeCA6IGhhc2hJZHggKyAxO1xuICBjb25zdCBzeW1ib2xFbmRJZHggPSBjYXB0dXJlSWR4O1xuICBjb25zdCBzeW1ib2wgPVxuICAgIHN5bWJvbFN0YXJ0SWR4ID09IHN5bWJvbEVuZElkeCA/ICdkZWZhdWx0JyA6IHFybC5zdWJzdHJpbmcoc3ltYm9sU3RhcnRJZHgsIHN5bWJvbEVuZElkeCk7XG5cbiAgY29uc3QgY2FwdHVyZVN0YXJ0SWR4ID0gY2FwdHVyZUlkeDtcbiAgY29uc3QgY2FwdHVyZUVuZElkeCA9IGVuZElkeDtcbiAgY29uc3QgY2FwdHVyZSA9XG4gICAgY2FwdHVyZVN0YXJ0SWR4ID09PSBjYXB0dXJlRW5kSWR4XG4gICAgICA/IEVNUFRZX0FSUkFZXG4gICAgICA6IHFybC5zdWJzdHJpbmcoY2FwdHVyZVN0YXJ0SWR4ICsgMSwgY2FwdHVyZUVuZElkeCAtIDEpLnNwbGl0KCcgJyk7XG5cbiAgaWYgKGNodW5rID09PSBSVU5USU1FX1FSTCkge1xuICAgIGxvZ0Vycm9yKGBRLUVSUk9SOiAnJHtxcmx9JyBpcyBydW50aW1lIGJ1dCBubyBpbnN0YW5jZSBmb3VuZCBvbiBlbGVtZW50LmApO1xuICB9XG4gIGNvbnN0IGlRcmwgPSBuZXcgUVJMSW50ZXJuYWwoY2h1bmssIHN5bWJvbCwgbnVsbCwgbnVsbCwgY2FwdHVyZSwgbnVsbCk7XG4gIGlmIChlbCkge1xuICAgIGlRcmwuc2V0Q29udGFpbmVyKGVsKTtcbiAgfVxuICByZXR1cm4gaVFybDtcbn1cblxuZnVuY3Rpb24gaW5kZXhPZih0ZXh0OiBzdHJpbmcsIHN0YXJ0SWR4OiBudW1iZXIsIGNoYXI6IHN0cmluZykge1xuICBjb25zdCBlbmRJZHggPSB0ZXh0Lmxlbmd0aDtcbiAgY29uc3QgY2hhcklkeCA9IHRleHQuaW5kZXhPZihjaGFyLCBzdGFydElkeCA9PSBlbmRJZHggPyAwIDogc3RhcnRJZHgpO1xuICByZXR1cm4gY2hhcklkeCA9PSAtMSA/IGVuZElkeCA6IGNoYXJJZHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1FybE9yRXJyb3I8VD4oc3ltYm9sT3JRcmw6IFQgfCBRUkw8VD4pOiBRUkxJbnRlcm5hbDxUPiB7XG4gIGlmICghaXNRcmwoc3ltYm9sT3JRcmwpKSB7XG4gICAgaWYgKHR5cGVvZiBzeW1ib2xPclFybCA9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBzeW1ib2xPclFybCA9PSAnc3RyaW5nJykge1xuICAgICAgc3ltYm9sT3JRcmwgPSBydW50aW1lUXJsKHN5bWJvbE9yUXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVE9ETyhtaXNrbyk6IGNlbnRyYWxpemVcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUS1FUlJPUiBPbmx5ICdmdW5jdGlvbidzIGFuZCAnc3RyaW5nJ3MgYXJlIHN1cHBvcnRlZC5gKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN5bWJvbE9yUXJsIGFzIFFSTEludGVybmFsPFQ+O1xufVxuIl19","import { toQrlOrError } from '../import/qrl';\nimport { $, implicit$FirstArg } from '../import/qrl.public';\nimport { qPropWriteQRL } from '../props/props-on';\nimport { useWaitOn } from '../use/use-core';\nimport { useHostElement } from '../use/use-host-element.public';\nimport { ComponentScopedStyles, OnRenderProp } from '../util/markers';\nimport { styleKey } from './qrl-styles';\nimport { getContext } from '../props/props';\nimport { jsx } from '../render/jsx/jsx-runtime';\nimport { useSequentialScope } from '../use/use-store.public';\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#onUnmount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#onUnmount instead)\n/**\n * A lazy-loadable reference to a component's destroy hook.\n *\n * Invoked when the component is destroyed (removed from render tree).\n *\n * @public\n */\n// </docs>\nexport function onUnmountQrl(unmountFn) {\n    throw new Error('IMPLEMENT: onUnmount' + unmountFn);\n}\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#onUnmount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#onUnmount instead)\n/**\n * A lazy-loadable reference to a component's destroy hook.\n *\n * Invoked when the component is destroyed (removed from render tree).\n *\n * @public\n */\n// </docs>\nexport const onUnmount$ = implicit$FirstArg(onUnmountQrl);\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#onResume\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#onResume instead)\n/**\n * A lazy-loadable reference to a component's on resume hook.\n *\n * The hook is eagerly invoked when the application resumes on the client. Because it is called\n * eagerly, this allows the component to resume even if no user interaction has taken place.\n *\n * @public\n */\n// </docs>\nexport function onResumeQrl(resumeFn) {\n    onWindow('load', resumeFn);\n}\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#onHydrate\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#onHydrate instead)\n/**\n * A lazy-loadable reference to a component's on resume hook.\n *\n * Invoked when the component's state is re-resumed from serialization. This allows the\n * component to do any work to re-activate itself.\n *\n * @public\n */\n// </docs>\nexport const onResume$ = implicit$FirstArg(onResumeQrl);\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#OnPause\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#OnPause instead)\n/**\n * A lazy-loadable reference to a component's on dehydrate hook.\n *\n * Invoked when the component's state is being serialized (dehydrated) into the DOM. This allows\n * the component to do last-minute clean-up before its state is serialized.\n *\n * Typically used with transient state.\n *\n * @public\n */\n// </docs>\nexport function onPauseQrl(dehydrateFn) {\n    throw new Error('IMPLEMENT: onPause' + dehydrateFn);\n}\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#OnPause\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#OnPause instead)\n/**\n * A lazy-loadable reference to a component's on dehydrate hook.\n *\n * Invoked when the component's state is being serialized (dehydrated) into the DOM. This allows\n * the component to do last-minute clean-up before its state is serialized.\n *\n * Typically used with transient state.\n *\n * @public\n */\n// </docs>\nexport const onPause$ = implicit$FirstArg(onPauseQrl);\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#on\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#on instead)\n/**\n * Register a listener on the current component's host element.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * See: `on`, `onWindow`, `onDocument`.\n *\n * @public\n */\n// </docs>\nexport function on(event, eventFn) {\n    const el = useHostElement();\n    const ctx = getContext(el);\n    qPropWriteQRL(undefined, ctx, `on:${event}`, eventFn);\n}\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#onDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#onDocument instead)\n/**\n * Register a listener on `document`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * See: `on`, `onWindow`, `onDocument`.\n *\n * @public\n */\n// </docs>\nexport function onDocument(event, eventFn) {\n    const el = useHostElement();\n    const ctx = getContext(el);\n    qPropWriteQRL(undefined, ctx, `on-document:${event}`, eventFn);\n}\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#onWindow\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#onWindow instead)\n/**\n * Register a listener on `window`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * See: `on`, `onWindow`, `onDocument`.\n *\n * @public\n */\n// </docs>\nexport function onWindow(event, eventFn) {\n    const el = useHostElement();\n    const ctx = getContext(el);\n    qPropWriteQRL(undefined, ctx, `on-window:${event}`, eventFn);\n}\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#useStyles instead)\n/**\n * Refer to component styles.\n *\n * @alpha\n */\n// </docs>\nexport function useStylesQrl(styles) {\n    _useStyles(styles, false);\n}\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#useStyles instead)\n/**\n * Refer to component styles.\n *\n * @alpha\n */\n// </docs>\nexport const useStyles$ = implicit$FirstArg(useStylesQrl);\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#useScopedStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#useScopedStyles instead)\n/**\n * @alpha\n */\n// </docs>\nexport function useScopedStylesQrl(styles) {\n    _useStyles(styles, true);\n}\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#useScopedStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#useScopedStyles instead)\n/**\n * @alpha\n */\n// </docs>\nexport const useScopedStyles$ = implicit$FirstArg(useScopedStylesQrl);\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component` (and `component$`) to declare a Qwik component. A Qwik component is a special\n * kind of component that allows the Qwik framework to lazy load and execute the component\n * independently of other Qwik components as well as lazy load the component's life-cycle hooks\n * and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * - Component `onMount` method, which needs to return an\n * - `onRender` closure which constructs the component's JSX.\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```typescript\n * export const Counter = component$((props: { value?: number; step?: number }) => {\n *   const state = useStore({ count: props.value || 0 });\n *   return $(() => (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   ));\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n * - `onMount` closure: is used to create the data store (see: `useStore`);\n * - `$`: mark which parts of the component will be lazy-loaded. (see `$` for details.)\n *\n * The above can then be used like so:\n *\n * ```typescript\n * export const OtherComponent = component$(() => {\n *   return $(() => <Counter value={100} />);\n * });\n * ```\n *\n * See also: `component`, `onUnmount`, `onHydrate`, `OnPause`, `onHalt`, `onResume`, `on`,\n * `onDocument`, `onWindow`, `useStyles`, `useScopedStyles`\n *\n * @param onMount - Initialization closure used when the component is first created.\n * @param tagName - Optional components options. It can be used to set a custom tag-name to be\n * used for the component's host element.\n *\n * @public\n */\n// </docs>\nexport function componentQrl(onRenderQrl, options = {}) {\n    const tagName = options.tagName ?? 'div';\n    // Return a QComponent Factory function.\n    return function QSimpleComponent(props, key) {\n        return jsx(tagName, { [OnRenderProp]: onRenderQrl, ...props }, key);\n    };\n}\n// <docs markdown=\"https://hackmd.io/c_nNpiLZSYugTU0c5JATJA#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2Fc_nNpiLZSYugTU0c5JATJA%3Fboth#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component` (and `component$`) to declare a Qwik component. A Qwik component is a special\n * kind of component that allows the Qwik framework to lazy load and execute the component\n * independently of other Qwik components as well as lazy load the component's life-cycle hooks\n * and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * - Component `onMount` method, which needs to return an\n * - `onRender` closure which constructs the component's JSX.\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```typescript\n * export const Counter = component$((props: { value?: number; step?: number }) => {\n *   const state = useStore({ count: props.value || 0 });\n *   return $(() => (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   ));\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n * - `onMount` closure: is used to create the data store (see: `useStore`);\n * - `$`: mark which parts of the component will be lazy-loaded. (see `$` for details.)\n *\n * The above can then be used like so:\n *\n * ```typescript\n * export const OtherComponent = component$(() => {\n *   return $(() => <Counter value={100} />);\n * });\n * ```\n *\n * See also: `component`, `onUnmount`, `onHydrate`, `OnPause`, `onHalt`, `onResume`, `on`,\n * `onDocument`, `onWindow`, `useStyles`, `useScopedStyles`\n *\n * @param onMount - Initialization closure used when the component is first created.\n * @param tagName - Optional components options. It can be used to set a custom tag-name to be\n * used for the component's host element.\n *\n * @public\n */\n// </docs>\nexport function component$(onMount, options) {\n    return componentQrl($(onMount), options);\n}\nfunction _useStyles(styles, scoped) {\n    const [style, setStyle] = useSequentialScope();\n    if (style === true) {\n        return;\n    }\n    setStyle(true);\n    const styleQrl = toQrlOrError(styles);\n    const styleId = styleKey(styleQrl);\n    const hostElement = useHostElement();\n    if (scoped) {\n        hostElement.setAttribute(ComponentScopedStyles, styleId);\n    }\n    useWaitOn(styleQrl.resolve(hostElement).then((styleText) => {\n        const task = {\n            type: 'style',\n            styleId,\n            content: scoped ? styleText.replace(/�/g, styleId) : styleText,\n        };\n        return task;\n    }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvY29tcG9uZW50L2NvbXBvbmVudC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3QyxPQUFPLEVBQUUsQ0FBQyxFQUFFLGlCQUFpQixFQUFPLE1BQU0sc0JBQXNCLENBQUM7QUFDakUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWxELE9BQU8sRUFBZSxTQUFTLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN6RCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sZ0NBQWdDLENBQUM7QUFDaEUsT0FBTyxFQUFFLHFCQUFxQixFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3RFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFHeEMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTVDLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUNoRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUU3RCx1RUFBdUU7QUFDdkUseUNBQXlDO0FBQ3pDLG1HQUFtRztBQUNuRzs7Ozs7O0dBTUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxVQUFVLFlBQVksQ0FBQyxTQUEwQjtJQUNyRCxNQUFNLElBQUksS0FBSyxDQUFDLHNCQUFzQixHQUFHLFNBQVMsQ0FBQyxDQUFDO0FBQ3RELENBQUM7QUFFRCx1RUFBdUU7QUFDdkUseUNBQXlDO0FBQ3pDLG1HQUFtRztBQUNuRzs7Ozs7O0dBTUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxDQUFDO0FBRTFELHNFQUFzRTtBQUN0RSx5Q0FBeUM7QUFDekMs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QUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNuQyxNQUFNLFdBQVcsR0FBRyxjQUFjLEVBQUUsQ0FBQztJQUNyQyxJQUFJLE1BQU0sRUFBRTtRQUNWLFdBQVcsQ0FBQyxZQUFZLENBQUMscUJBQXFCLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDMUQ7SUFFRCxTQUFTLENBQ1AsUUFBUSxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLEVBQUUsRUFBRTtRQUMvQyxNQUFNLElBQUksR0FBZ0I7WUFDeEIsSUFBSSxFQUFFLE9BQU87WUFDYixPQUFPO1lBQ1AsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVM7U0FDL0QsQ0FBQztRQUNGLE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQyxDQUFDLENBQ0gsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b1FybE9yRXJyb3IgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7ICQsIGltcGxpY2l0JEZpcnN0QXJnLCBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBxUHJvcFdyaXRlUVJMIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMtb24nO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBTdHlsZUFwcGVuZCwgdXNlV2FpdE9uIH0gZnJvbSAnLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZUhvc3RFbGVtZW50IH0gZnJvbSAnLi4vdXNlL3VzZS1ob3N0LWVsZW1lbnQucHVibGljJztcbmltcG9ydCB7IENvbXBvbmVudFNjb3BlZFN0eWxlcywgT25SZW5kZXJQcm9wIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IHN0eWxlS2V5IH0gZnJvbSAnLi9xcmwtc3R5bGVzJztcbmltcG9ydCB0eXBlIHsgQ29tcG9uZW50QmFzZVByb3BzIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtcXdpay1hdHRyaWJ1dGVzJztcbmltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IGdldENvbnRleHQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vaW5kZXgnO1xuaW1wb3J0IHsganN4IH0gZnJvbSAnLi4vcmVuZGVyL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuLi91c2UvdXNlLXN0b3JlLnB1YmxpYyc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vY19uTnBpTFpTWXVnVFUwYzVKQVRKQSNvblVubW91bnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCBodHRwczovL2hhY2ttZC5pby9AcXdpay1kb2NzL0JreHBTejgwWS8lMkZjX25OcGlMWlNZdWdUVTBjNUpBVEpBJTNGYm90aCNvblVubW91bnQgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIGRlc3Ryb3kgaG9vay5cbiAqXG4gKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQgKHJlbW92ZWQgZnJvbSByZW5kZXIgdHJlZSkuXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gb25Vbm1vdW50UXJsKHVubW91bnRGbjogUVJMPCgpID0+IHZvaWQ+KTogdm9pZCB7XG4gIHRocm93IG5ldyBFcnJvcignSU1QTEVNRU5UOiBvblVubW91bnQnICsgdW5tb3VudEZuKTtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCJodHRwczovL2hhY2ttZC5pby9jX25OcGlMWlNZdWdUVTBjNUpBVEpBI29uVW5tb3VudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRmNfbk5waUxaU1l1Z1RVMGM1SkFUSkElM0Zib3RoI29uVW5tb3VudCBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3MgZGVzdHJveSBob29rLlxuICpcbiAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZCAocmVtb3ZlZCBmcm9tIHJlbmRlciB0cmVlKS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBvblVubW91bnQkID0gaW1wbGljaXQkRmlyc3RBcmcob25Vbm1vdW50UXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCJodHRwczovL2hhY2ttZC5pby9jX25OcGlMWlNZdWdUVTBjNUpBVEpBI29uUmVzdW1lXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgaHR0cHM6Ly9oYWNrbWQuaW8vQHF3aWstZG9jcy9Ca3hwU3o4MFkvJTJGY19uTnBpTFpTWXVnVFUwYzVKQVRKQSUzRmJvdGgjb25SZXN1bWUgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIG9uIHJlc3VtZSBob29rLlxuICpcbiAqIFRoZSBob29rIGlzIGVhZ2VybHkgaW52b2tlZCB3aGVuIHRoZSBhcHBsaWNhdGlvbiByZXN1bWVzIG9uIHRoZSBjbGllbnQuIEJlY2F1c2UgaXQgaXMgY2FsbGVkXG4gKiBlYWdlcmx5LCB0aGlzIGFsbG93cyB0aGUgY29tcG9uZW50IHRvIHJlc3VtZSBldmVuIGlmIG5vIHVzZXIgaW50ZXJhY3Rpb24gaGFzIHRha2VuIHBsYWNlLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIG9uUmVzdW1lUXJsKHJlc3VtZUZuOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAgb25XaW5kb3coJ2xvYWQnLCByZXN1bWVGbik7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vY19uTnBpTFpTWXVnVFUwYzVKQVRKQSNvbkh5ZHJhdGVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCBodHRwczovL2hhY2ttZC5pby9AcXdpay1kb2NzL0JreHBTejgwWS8lMkZjX25OcGlMWlNZdWdUVTBjNUpBVEpBJTNGYm90aCNvbkh5ZHJhdGUgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIG9uIHJlc3VtZSBob29rLlxuICpcbiAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50J3Mgc3RhdGUgaXMgcmUtcmVzdW1lZCBmcm9tIHNlcmlhbGl6YXRpb24uIFRoaXMgYWxsb3dzIHRoZVxuICogY29tcG9uZW50IHRvIGRvIGFueSB3b3JrIHRvIHJlLWFjdGl2YXRlIGl0c2VsZi5cbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBvblJlc3VtZSQgPSBpbXBsaWNpdCRGaXJzdEFyZyhvblJlc3VtZVFybCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vY19uTnBpTFpTWXVnVFUwYzVKQVRKQSNPblBhdXNlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgaHR0cHM6Ly9oYWNrbWQuaW8vQHF3aWstZG9jcy9Ca3hwU3o4MFkvJTJGY19uTnBpTFpTWXVnVFUwYzVKQVRKQSUzRmJvdGgjT25QYXVzZSBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3Mgb24gZGVoeWRyYXRlIGhvb2suXG4gKlxuICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQncyBzdGF0ZSBpcyBiZWluZyBzZXJpYWxpemVkIChkZWh5ZHJhdGVkKSBpbnRvIHRoZSBET00uIFRoaXMgYWxsb3dzXG4gKiB0aGUgY29tcG9uZW50IHRvIGRvIGxhc3QtbWludXRlIGNsZWFuLXVwIGJlZm9yZSBpdHMgc3RhdGUgaXMgc2VyaWFsaXplZC5cbiAqXG4gKiBUeXBpY2FsbHkgdXNlZCB3aXRoIHRyYW5zaWVudCBzdGF0ZS5cbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiBvblBhdXNlUXJsKGRlaHlkcmF0ZUZuOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdJTVBMRU1FTlQ6IG9uUGF1c2UnICsgZGVoeWRyYXRlRm4pO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cImh0dHBzOi8vaGFja21kLmlvL2Nfbk5waUxaU1l1Z1RVMGM1SkFUSkEjT25QYXVzZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRmNfbk5waUxaU1l1Z1RVMGM1SkFUSkElM0Zib3RoI09uUGF1c2UgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIG9uIGRlaHlkcmF0ZSBob29rLlxuICpcbiAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50J3Mgc3RhdGUgaXMgYmVpbmcgc2VyaWFsaXplZCAoZGVoeWRyYXRlZCkgaW50byB0aGUgRE9NLiBUaGlzIGFsbG93c1xuICogdGhlIGNvbXBvbmVudCB0byBkbyBsYXN0LW1pbnV0ZSBjbGVhbi11cCBiZWZvcmUgaXRzIHN0YXRlIGlzIHNlcmlhbGl6ZWQuXG4gKlxuICogVHlwaWNhbGx5IHVzZWQgd2l0aCB0cmFuc2llbnQgc3RhdGUuXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3Qgb25QYXVzZSQgPSBpbXBsaWNpdCRGaXJzdEFyZyhvblBhdXNlUXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCJodHRwczovL2hhY2ttZC5pby9jX25OcGlMWlNZdWdUVTBjNUpBVEpBI29uXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgaHR0cHM6Ly9oYWNrbWQuaW8vQHF3aWstZG9jcy9Ca3hwU3o4MFkvJTJGY19uTnBpTFpTWXVnVFUwYzVKQVRKQSUzRmJvdGgjb24gaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBjb21wb25lbnQncyBob3N0IGVsZW1lbnQuXG4gKlxuICogVXNlZCB0byBwcm9ncmFtbWF0aWNhbGx5IGFkZCBldmVudCBsaXN0ZW5lcnMuIFVzZWZ1bCBmcm9tIGN1c3RvbSBgdXNlKmAgbWV0aG9kcywgd2hpY2ggZG8gbm90XG4gKiBoYXZlIGFjY2VzcyB0byB0aGUgSlNYLlxuICpcbiAqIFNlZTogYG9uYCwgYG9uV2luZG93YCwgYG9uRG9jdW1lbnRgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIG9uKGV2ZW50OiBzdHJpbmcsIGV2ZW50Rm46IFFSTDwoKSA9PiB2b2lkPikge1xuICBjb25zdCBlbCA9IHVzZUhvc3RFbGVtZW50KCk7XG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuICBxUHJvcFdyaXRlUVJMKHVuZGVmaW5lZCwgY3R4LCBgb246JHtldmVudH1gLCBldmVudEZuKTtcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCJodHRwczovL2hhY2ttZC5pby9jX25OcGlMWlNZdWdUVTBjNUpBVEpBI29uRG9jdW1lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCBodHRwczovL2hhY2ttZC5pby9AcXdpay1kb2NzL0JreHBTejgwWS8lMkZjX25OcGlMWlNZdWdUVTBjNUpBVEpBJTNGYm90aCNvbkRvY3VtZW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgb24gYGRvY3VtZW50YC5cbiAqXG4gKiBVc2VkIHRvIHByb2dyYW1tYXRpY2FsbHkgYWRkIGV2ZW50IGxpc3RlbmVycy4gVXNlZnVsIGZyb20gY3VzdG9tIGB1c2UqYCBtZXRob2RzLCB3aGljaCBkbyBub3RcbiAqIGhhdmUgYWNjZXNzIHRvIHRoZSBKU1guXG4gKlxuICogU2VlOiBgb25gLCBgb25XaW5kb3dgLCBgb25Eb2N1bWVudGAuXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gb25Eb2N1bWVudChldmVudDogc3RyaW5nLCBldmVudEZuOiBRUkw8KCkgPT4gdm9pZD4pIHtcbiAgY29uc3QgZWwgPSB1c2VIb3N0RWxlbWVudCgpO1xuICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsKTtcbiAgcVByb3BXcml0ZVFSTCh1bmRlZmluZWQsIGN0eCwgYG9uLWRvY3VtZW50OiR7ZXZlbnR9YCwgZXZlbnRGbik7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vY19uTnBpTFpTWXVnVFUwYzVKQVRKQSNvbldpbmRvd1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRmNfbk5waUxaU1l1Z1RVMGM1SkFUSkElM0Zib3RoI29uV2luZG93IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgbGlzdGVuZXIgb24gYHdpbmRvd2AuXG4gKlxuICogVXNlZCB0byBwcm9ncmFtbWF0aWNhbGx5IGFkZCBldmVudCBsaXN0ZW5lcnMuIFVzZWZ1bCBmcm9tIGN1c3RvbSBgdXNlKmAgbWV0aG9kcywgd2hpY2ggZG8gbm90XG4gKiBoYXZlIGFjY2VzcyB0byB0aGUgSlNYLlxuICpcbiAqIFNlZTogYG9uYCwgYG9uV2luZG93YCwgYG9uRG9jdW1lbnRgLlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIG9uV2luZG93KGV2ZW50OiBzdHJpbmcsIGV2ZW50Rm46IFFSTDwoKSA9PiB2b2lkPikge1xuICBjb25zdCBlbCA9IHVzZUhvc3RFbGVtZW50KCk7XG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuICBxUHJvcFdyaXRlUVJMKHVuZGVmaW5lZCwgY3R4LCBgb24td2luZG93OiR7ZXZlbnR9YCwgZXZlbnRGbik7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vY19uTnBpTFpTWXVnVFUwYzVKQVRKQSN1c2VTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCBodHRwczovL2hhY2ttZC5pby9AcXdpay1kb2NzL0JreHBTejgwWS8lMkZjX25OcGlMWlNZdWdUVTBjNUpBVEpBJTNGYm90aCN1c2VTdHlsZXMgaW5zdGVhZClcbi8qKlxuICogUmVmZXIgdG8gY29tcG9uZW50IHN0eWxlcy5cbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0eWxlc1FybChzdHlsZXM6IFFSTDxzdHJpbmc+KTogdm9pZCB7XG4gIF91c2VTdHlsZXMoc3R5bGVzLCBmYWxzZSk7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vY19uTnBpTFpTWXVnVFUwYzVKQVRKQSN1c2VTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCBodHRwczovL2hhY2ttZC5pby9AcXdpay1kb2NzL0JreHBTejgwWS8lMkZjX25OcGlMWlNZdWdUVTBjNUpBVEpBJTNGYm90aCN1c2VTdHlsZXMgaW5zdGVhZClcbi8qKlxuICogUmVmZXIgdG8gY29tcG9uZW50IHN0eWxlcy5cbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyQgPSBpbXBsaWNpdCRGaXJzdEFyZyh1c2VTdHlsZXNRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cImh0dHBzOi8vaGFja21kLmlvL2Nfbk5waUxaU1l1Z1RVMGM1SkFUSkEjdXNlU2NvcGVkU3R5bGVzXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgaHR0cHM6Ly9oYWNrbWQuaW8vQHF3aWstZG9jcy9Ca3hwU3o4MFkvJTJGY19uTnBpTFpTWXVnVFUwYzVKQVRKQSUzRmJvdGgjdXNlU2NvcGVkU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gdXNlU2NvcGVkU3R5bGVzUXJsKHN0eWxlczogUVJMPHN0cmluZz4pOiB2b2lkIHtcbiAgX3VzZVN0eWxlcyhzdHlsZXMsIHRydWUpO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cImh0dHBzOi8vaGFja21kLmlvL2Nfbk5waUxaU1l1Z1RVMGM1SkFUSkEjdXNlU2NvcGVkU3R5bGVzXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgaHR0cHM6Ly9oYWNrbWQuaW8vQHF3aWstZG9jcy9Ca3hwU3o4MFkvJTJGY19uTnBpTFpTWXVnVFUwYzVKQVRKQSUzRmJvdGgjdXNlU2NvcGVkU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU2NvcGVkU3R5bGVzJCA9IGltcGxpY2l0JEZpcnN0QXJnKHVzZVNjb3BlZFN0eWxlc1FybCk7XG5cbi8qKlxuICogSW5mZXJzIGBQcm9wc2AgZnJvbSB0aGUgY29tcG9uZW50LlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cG9ydCBjb25zdCBPdGhlckNvbXBvbmVudCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICByZXR1cm4gJCgoKSA9PiA8Q291bnRlciB2YWx1ZT17MTAwfSAvPik7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IHR5cGUgUHJvcHNPZjxDT01QIGV4dGVuZHMgKHByb3BzOiBhbnkpID0+IEpTWE5vZGU8YW55PiB8IG51bGw+ID0gQ09NUCBleHRlbmRzIChcbiAgcHJvcHM6IGluZmVyIFBST1BTXG4pID0+IEpTWE5vZGU8YW55PiB8IG51bGxcbiAgPyBOb25OdWxsYWJsZTxQUk9QUz5cbiAgOiBuZXZlcjtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcG9uZW50T3B0aW9ucyB7XG4gIHRhZ05hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBDb21wb25lbnQ8UFJPUFMgZXh0ZW5kcyB7fT4gPSBGdW5jdGlvbkNvbXBvbmVudDxQdWJsaWNQcm9wczxQUk9QUz4+O1xuXG5leHBvcnQgdHlwZSBQdWJsaWNQcm9wczxQUk9QUyBleHRlbmRzIHt9PiA9IFBST1BTICYgT24kUHJvcHM8UFJPUFM+ICYgQ29tcG9uZW50QmFzZVByb3BzO1xuXG5leHBvcnQgdHlwZSBPbiRQcm9wczxUIGV4dGVuZHMge30+ID0ge1xuICBbSyBpbiBrZXlvZiBUIGFzIEsgZXh0ZW5kcyBgJHtpbmZlciBBfVFybGBcbiAgICA/IE5vbk51bGxhYmxlPFRbS10+IGV4dGVuZHMgUVJMXG4gICAgICA/IGAke0F9JGBcbiAgICAgIDogbmV2ZXJcbiAgICA6IG5ldmVyXT86IE5vbk51bGxhYmxlPFRbS10+IGV4dGVuZHMgUVJMPGluZmVyIEI+ID8gQiA6IG5ldmVyO1xufTtcblxuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyPFQ+ID0gUVJMPCh2YWx1ZTogVCkgPT4gYW55PjtcblxuLy8gPGRvY3MgbWFya2Rvd249XCJodHRwczovL2hhY2ttZC5pby9jX25OcGlMWlNZdWdUVTBjNUpBVEpBI2NvbXBvbmVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IGh0dHBzOi8vaGFja21kLmlvL0Bxd2lrLWRvY3MvQmt4cFN6ODBZLyUyRmNfbk5waUxaU1l1Z1RVMGM1SkFUSkElM0Zib3RoI2NvbXBvbmVudCBpbnN0ZWFkKVxuLyoqXG4gKiBEZWNsYXJlIGEgUXdpayBjb21wb25lbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBjcmVhdGUgVUkuXG4gKlxuICogVXNlIGBjb21wb25lbnRgIChhbmQgYGNvbXBvbmVudCRgKSB0byBkZWNsYXJlIGEgUXdpayBjb21wb25lbnQuIEEgUXdpayBjb21wb25lbnQgaXMgYSBzcGVjaWFsXG4gKiBraW5kIG9mIGNvbXBvbmVudCB0aGF0IGFsbG93cyB0aGUgUXdpayBmcmFtZXdvcmsgdG8gbGF6eSBsb2FkIGFuZCBleGVjdXRlIHRoZSBjb21wb25lbnRcbiAqIGluZGVwZW5kZW50bHkgb2Ygb3RoZXIgUXdpayBjb21wb25lbnRzIGFzIHdlbGwgYXMgbGF6eSBsb2FkIHRoZSBjb21wb25lbnQncyBsaWZlLWN5Y2xlIGhvb2tzXG4gKiBhbmQgZXZlbnQgaGFuZGxlcnMuXG4gKlxuICogU2lkZSBub3RlOiBZb3UgY2FuIGFsc28gZGVjbGFyZSByZWd1bGFyIChzdGFuZGFyZCBKU1gpIGNvbXBvbmVudHMgdGhhdCB3aWxsIGhhdmUgc3RhbmRhcmRcbiAqIHN5bmNocm9ub3VzIGJlaGF2aW9yLlxuICpcbiAqIFF3aWsgY29tcG9uZW50IGlzIGEgZmFjYWRlIHRoYXQgZGVzY3JpYmVzIGhvdyB0aGUgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhvdXQgZm9yY2luZyB0aGVcbiAqIGltcGxlbWVudGF0aW9uIG9mIHRoZSBjb21wb25lbnQgdG8gYmUgZWFnZXJseSBsb2FkZWQuIEEgbWluaW11bSBRd2lrIGRlZmluaXRpb24gY29uc2lzdHMgb2Y6XG4gKlxuICogLSBDb21wb25lbnQgYG9uTW91bnRgIG1ldGhvZCwgd2hpY2ggbmVlZHMgdG8gcmV0dXJuIGFuXG4gKiAtIGBvblJlbmRlcmAgY2xvc3VyZSB3aGljaCBjb25zdHJ1Y3RzIHRoZSBjb21wb25lbnQncyBKU1guXG4gKlxuICogIyMjIEV4YW1wbGU6XG4gKlxuICogQW4gZXhhbXBsZSBzaG93aW5nIGhvdyB0byBjcmVhdGUgYSBjb3VudGVyIGNvbXBvbmVudDpcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBvcnQgY29uc3QgQ291bnRlciA9IGNvbXBvbmVudCQoKHByb3BzOiB7IHZhbHVlPzogbnVtYmVyOyBzdGVwPzogbnVtYmVyIH0pID0+IHtcbiAqICAgY29uc3Qgc3RhdGUgPSB1c2VTdG9yZSh7IGNvdW50OiBwcm9wcy52YWx1ZSB8fCAwIH0pO1xuICogICByZXR1cm4gJCgoKSA9PiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxzcGFuPntzdGF0ZS5jb3VudH08L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiAoc3RhdGUuY291bnQgKz0gcHJvcHMuc3RlcCB8fCAxKX0+KzwvYnV0dG9uPlxuICogICAgIDwvZGl2PlxuICogICApKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogLSBgY29tcG9uZW50JGAgaXMgaG93IGEgY29tcG9uZW50IGdldHMgZGVjbGFyZWQuXG4gKiAtIGB7IHZhbHVlPzogbnVtYmVyOyBzdGVwPzogbnVtYmVyIH1gIGRlY2xhcmVzIHRoZSBwdWJsaWMgKHByb3BzKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqIC0gYHsgY291bnQ6IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHJpdmF0ZSAoc3RhdGUpIGludGVyZmFjZSBvZiB0aGUgY29tcG9uZW50LlxuICogLSBgb25Nb3VudGAgY2xvc3VyZTogaXMgdXNlZCB0byBjcmVhdGUgdGhlIGRhdGEgc3RvcmUgKHNlZTogYHVzZVN0b3JlYCk7XG4gKiAtIGAkYDogbWFyayB3aGljaCBwYXJ0cyBvZiB0aGUgY29tcG9uZW50IHdpbGwgYmUgbGF6eS1sb2FkZWQuIChzZWUgYCRgIGZvciBkZXRhaWxzLilcbiAqXG4gKiBUaGUgYWJvdmUgY2FuIHRoZW4gYmUgdXNlZCBsaWtlIHNvOlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGV4cG9ydCBjb25zdCBPdGhlckNvbXBvbmVudCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICByZXR1cm4gJCgoKSA9PiA8Q291bnRlciB2YWx1ZT17MTAwfSAvPik7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFNlZSBhbHNvOiBgY29tcG9uZW50YCwgYG9uVW5tb3VudGAsIGBvbkh5ZHJhdGVgLCBgT25QYXVzZWAsIGBvbkhhbHRgLCBgb25SZXN1bWVgLCBgb25gLFxuICogYG9uRG9jdW1lbnRgLCBgb25XaW5kb3dgLCBgdXNlU3R5bGVzYCwgYHVzZVNjb3BlZFN0eWxlc2BcbiAqXG4gKiBAcGFyYW0gb25Nb3VudCAtIEluaXRpYWxpemF0aW9uIGNsb3N1cmUgdXNlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3QgY3JlYXRlZC5cbiAqIEBwYXJhbSB0YWdOYW1lIC0gT3B0aW9uYWwgY29tcG9uZW50cyBvcHRpb25zLiBJdCBjYW4gYmUgdXNlZCB0byBzZXQgYSBjdXN0b20gdGFnLW5hbWUgdG8gYmVcbiAqIHVzZWQgZm9yIHRoZSBjb21wb25lbnQncyBob3N0IGVsZW1lbnQuXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgZnVuY3Rpb24gY29tcG9uZW50UXJsPFBST1BTIGV4dGVuZHMge30+KFxuICBvblJlbmRlclFybDogUVJMPE9uUmVuZGVyRm48UFJPUFM+PixcbiAgb3B0aW9uczogQ29tcG9uZW50T3B0aW9ucyA9IHt9XG4pOiBDb21wb25lbnQ8UFJPUFM+IHtcbiAgY29uc3QgdGFnTmFtZSA9IG9wdGlvbnMudGFnTmFtZSA/PyAnZGl2JztcblxuICAvLyBSZXR1cm4gYSBRQ29tcG9uZW50IEZhY3RvcnkgZnVuY3Rpb24uXG4gIHJldHVybiBmdW5jdGlvbiBRU2ltcGxlQ29tcG9uZW50KHByb3BzLCBrZXkpOiBKU1hOb2RlPFBST1BTPiB7XG4gICAgcmV0dXJuIGpzeCh0YWdOYW1lLCB7IFtPblJlbmRlclByb3BdOiBvblJlbmRlclFybCwgLi4ucHJvcHMgfSwga2V5KSBhcyBhbnk7XG4gIH07XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiaHR0cHM6Ly9oYWNrbWQuaW8vY19uTnBpTFpTWXVnVFUwYzVKQVRKQSNjb21wb25lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCBodHRwczovL2hhY2ttZC5pby9AcXdpay1kb2NzL0JreHBTejgwWS8lMkZjX25OcGlMWlNZdWdUVTBjNUpBVEpBJTNGYm90aCNjb21wb25lbnQgaW5zdGVhZClcbi8qKlxuICogRGVjbGFyZSBhIFF3aWsgY29tcG9uZW50IHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIFVJLlxuICpcbiAqIFVzZSBgY29tcG9uZW50YCAoYW5kIGBjb21wb25lbnQkYCkgdG8gZGVjbGFyZSBhIFF3aWsgY29tcG9uZW50LiBBIFF3aWsgY29tcG9uZW50IGlzIGEgc3BlY2lhbFxuICoga2luZCBvZiBjb21wb25lbnQgdGhhdCBhbGxvd3MgdGhlIFF3aWsgZnJhbWV3b3JrIHRvIGxhenkgbG9hZCBhbmQgZXhlY3V0ZSB0aGUgY29tcG9uZW50XG4gKiBpbmRlcGVuZGVudGx5IG9mIG90aGVyIFF3aWsgY29tcG9uZW50cyBhcyB3ZWxsIGFzIGxhenkgbG9hZCB0aGUgY29tcG9uZW50J3MgbGlmZS1jeWNsZSBob29rc1xuICogYW5kIGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqIFNpZGUgbm90ZTogWW91IGNhbiBhbHNvIGRlY2xhcmUgcmVndWxhciAoc3RhbmRhcmQgSlNYKSBjb21wb25lbnRzIHRoYXQgd2lsbCBoYXZlIHN0YW5kYXJkXG4gKiBzeW5jaHJvbm91cyBiZWhhdmlvci5cbiAqXG4gKiBRd2lrIGNvbXBvbmVudCBpcyBhIGZhY2FkZSB0aGF0IGRlc2NyaWJlcyBob3cgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRob3V0IGZvcmNpbmcgdGhlXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgY29tcG9uZW50IHRvIGJlIGVhZ2VybHkgbG9hZGVkLiBBIG1pbmltdW0gUXdpayBkZWZpbml0aW9uIGNvbnNpc3RzIG9mOlxuICpcbiAqIC0gQ29tcG9uZW50IGBvbk1vdW50YCBtZXRob2QsIHdoaWNoIG5lZWRzIHRvIHJldHVybiBhblxuICogLSBgb25SZW5kZXJgIGNsb3N1cmUgd2hpY2ggY29uc3RydWN0cyB0aGUgY29tcG9uZW50J3MgSlNYLlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIEFuIGV4YW1wbGUgc2hvd2luZyBob3cgdG8gY3JlYXRlIGEgY291bnRlciBjb21wb25lbnQ6XG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogZXhwb3J0IGNvbnN0IENvdW50ZXIgPSBjb21wb25lbnQkKChwcm9wczogeyB2YWx1ZT86IG51bWJlcjsgc3RlcD86IG51bWJlciB9KSA9PiB7XG4gKiAgIGNvbnN0IHN0YXRlID0gdXNlU3RvcmUoeyBjb3VudDogcHJvcHMudmFsdWUgfHwgMCB9KTtcbiAqICAgcmV0dXJuICQoKCkgPT4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8c3Bhbj57c3RhdGUuY291bnR9PC9zcGFuPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrJD17KCkgPT4gKHN0YXRlLmNvdW50ICs9IHByb3BzLnN0ZXAgfHwgMSl9Pis8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKSk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIC0gYGNvbXBvbmVudCRgIGlzIGhvdyBhIGNvbXBvbmVudCBnZXRzIGRlY2xhcmVkLlxuICogLSBgeyB2YWx1ZT86IG51bWJlcjsgc3RlcD86IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHVibGljIChwcm9wcykgaW50ZXJmYWNlIG9mIHRoZSBjb21wb25lbnQuXG4gKiAtIGB7IGNvdW50OiBudW1iZXIgfWAgZGVjbGFyZXMgdGhlIHByaXZhdGUgKHN0YXRlKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqIC0gYG9uTW91bnRgIGNsb3N1cmU6IGlzIHVzZWQgdG8gY3JlYXRlIHRoZSBkYXRhIHN0b3JlIChzZWU6IGB1c2VTdG9yZWApO1xuICogLSBgJGA6IG1hcmsgd2hpY2ggcGFydHMgb2YgdGhlIGNvbXBvbmVudCB3aWxsIGJlIGxhenktbG9hZGVkLiAoc2VlIGAkYCBmb3IgZGV0YWlscy4pXG4gKlxuICogVGhlIGFib3ZlIGNhbiB0aGVuIGJlIHVzZWQgbGlrZSBzbzpcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBvcnQgY29uc3QgT3RoZXJDb21wb25lbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgcmV0dXJuICQoKCkgPT4gPENvdW50ZXIgdmFsdWU9ezEwMH0gLz4pO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBTZWUgYWxzbzogYGNvbXBvbmVudGAsIGBvblVubW91bnRgLCBgb25IeWRyYXRlYCwgYE9uUGF1c2VgLCBgb25IYWx0YCwgYG9uUmVzdW1lYCwgYG9uYCxcbiAqIGBvbkRvY3VtZW50YCwgYG9uV2luZG93YCwgYHVzZVN0eWxlc2AsIGB1c2VTY29wZWRTdHlsZXNgXG4gKlxuICogQHBhcmFtIG9uTW91bnQgLSBJbml0aWFsaXphdGlvbiBjbG9zdXJlIHVzZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGZpcnN0IGNyZWF0ZWQuXG4gKiBAcGFyYW0gdGFnTmFtZSAtIE9wdGlvbmFsIGNvbXBvbmVudHMgb3B0aW9ucy4gSXQgY2FuIGJlIHVzZWQgdG8gc2V0IGEgY3VzdG9tIHRhZy1uYW1lIHRvIGJlXG4gKiB1c2VkIGZvciB0aGUgY29tcG9uZW50J3MgaG9zdCBlbGVtZW50LlxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudCQ8UFJPUFMgZXh0ZW5kcyB7fT4oXG4gIG9uTW91bnQ6IE9uUmVuZGVyRm48UFJPUFM+LFxuICBvcHRpb25zPzogQ29tcG9uZW50T3B0aW9uc1xuKTogQ29tcG9uZW50PFBST1BTPiB7XG4gIHJldHVybiBjb21wb25lbnRRcmw8UFJPUFM+KCQob25Nb3VudCksIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgT25SZW5kZXJGbjxQUk9QUz4gPSAocHJvcHM6IFBST1BTKSA9PiBWYWx1ZU9yUHJvbWlzZTxKU1hOb2RlPGFueT4gfCBudWxsPjtcblxuZXhwb3J0IGludGVyZmFjZSBSZW5kZXJGYWN0b3J5T3V0cHV0PFBST1BTPiB7XG4gIHJlbmRlclFSTDogUVJMPE9uUmVuZGVyRm48UFJPUFM+PjtcbiAgd2FpdE9uOiBhbnlbXTtcbn1cblxuZnVuY3Rpb24gX3VzZVN0eWxlcyhzdHlsZXM6IFFSTDxzdHJpbmc+LCBzY29wZWQ6IGJvb2xlYW4pIHtcbiAgY29uc3QgW3N0eWxlLCBzZXRTdHlsZV0gPSB1c2VTZXF1ZW50aWFsU2NvcGUoKTtcbiAgaWYgKHN0eWxlID09PSB0cnVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNldFN0eWxlKHRydWUpO1xuICBjb25zdCBzdHlsZVFybCA9IHRvUXJsT3JFcnJvcihzdHlsZXMpO1xuICBjb25zdCBzdHlsZUlkID0gc3R5bGVLZXkoc3R5bGVRcmwpO1xuICBjb25zdCBob3N0RWxlbWVudCA9IHVzZUhvc3RFbGVtZW50KCk7XG4gIGlmIChzY29wZWQpIHtcbiAgICBob3N0RWxlbWVudC5zZXRBdHRyaWJ1dGUoQ29tcG9uZW50U2NvcGVkU3R5bGVzLCBzdHlsZUlkKTtcbiAgfVxuXG4gIHVzZVdhaXRPbihcbiAgICBzdHlsZVFybC5yZXNvbHZlKGhvc3RFbGVtZW50KS50aGVuKChzdHlsZVRleHQpID0+IHtcbiAgICAgIGNvbnN0IHRhc2s6IFN0eWxlQXBwZW5kID0ge1xuICAgICAgICB0eXBlOiAnc3R5bGUnLFxuICAgICAgICBzdHlsZUlkLFxuICAgICAgICBjb250ZW50OiBzY29wZWQgPyBzdHlsZVRleHQucmVwbGFjZSgv77+9L2csIHN0eWxlSWQpIDogc3R5bGVUZXh0LFxuICAgICAgfTtcbiAgICAgIHJldHVybiB0YXNrO1xuICAgIH0pXG4gICk7XG59XG4iXX0=","import { getDocument } from '../util/dom';\nimport { isDocument } from '../util/element';\nimport { QContainerAttr } from '../util/markers';\nimport { qDev } from '../util/qdev';\nimport { snapshotState } from './store';\n/**\n * Serialize the current state of the application into DOM\n *\n * @public\n */\nexport function pauseContainer(elmOrDoc) {\n    const doc = getDocument(elmOrDoc);\n    const containerEl = isDocument(elmOrDoc) ? elmOrDoc.documentElement : elmOrDoc;\n    const parentJSON = isDocument(elmOrDoc) ? elmOrDoc.body : containerEl;\n    const data = snapshotState(containerEl);\n    const script = doc.createElement('script');\n    script.setAttribute('type', 'qwik/json');\n    script.textContent = JSON.stringify(data, undefined, qDev ? '  ' : undefined);\n    parentJSON.appendChild(script);\n    containerEl.setAttribute(QContainerAttr, 'paused');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS9vYmplY3Qvc3RvcmUucHVibGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFFeEM7Ozs7R0FJRztBQUNILE1BQU0sVUFBVSxjQUFjLENBQUMsUUFBNEI7SUFDekQsTUFBTSxHQUFHLEdBQUcsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2xDLE1BQU0sV0FBVyxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDO0lBQy9FLE1BQU0sVUFBVSxHQUFHLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDO0lBQ3RFLE1BQU0sSUFBSSxHQUFHLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN4QyxNQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLE1BQU0sQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM5RSxVQUFVLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQy9CLFdBQVcsQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQ3JELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGlzRG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2VsZW1lbnQnO1xuaW1wb3J0IHsgUUNvbnRhaW5lckF0dHIgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBzbmFwc2hvdFN0YXRlIH0gZnJvbSAnLi9zdG9yZSc7XG5cbi8qKlxuICogU2VyaWFsaXplIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHBsaWNhdGlvbiBpbnRvIERPTVxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhdXNlQ29udGFpbmVyKGVsbU9yRG9jOiBFbGVtZW50IHwgRG9jdW1lbnQpIHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZWxtT3JEb2MpO1xuICBjb25zdCBjb250YWluZXJFbCA9IGlzRG9jdW1lbnQoZWxtT3JEb2MpID8gZWxtT3JEb2MuZG9jdW1lbnRFbGVtZW50IDogZWxtT3JEb2M7XG4gIGNvbnN0IHBhcmVudEpTT04gPSBpc0RvY3VtZW50KGVsbU9yRG9jKSA/IGVsbU9yRG9jLmJvZHkgOiBjb250YWluZXJFbDtcbiAgY29uc3QgZGF0YSA9IHNuYXBzaG90U3RhdGUoY29udGFpbmVyRWwpO1xuICBjb25zdCBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAncXdpay9qc29uJyk7XG4gIHNjcmlwdC50ZXh0Q29udGVudCA9IEpTT04uc3RyaW5naWZ5KGRhdGEsIHVuZGVmaW5lZCwgcURldiA/ICcgICcgOiB1bmRlZmluZWQpO1xuICBwYXJlbnRKU09OLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gIGNvbnRhaW5lckVsLnNldEF0dHJpYnV0ZShRQ29udGFpbmVyQXR0ciwgJ3BhdXNlZCcpO1xufVxuIl19","/**\n * Use to render asynchronous (`Promise`) values.\n *\n * A `Promise` does not allow a synchronous examination of its state. For this reason\n * `<Async>` provides a mechanism to render pending, resolved and error state of a `Promise`.\n * `<Async>` provides that mechanism by registering a `then` method with the `Promise` and\n * providing callbacks hooks for `pending`, `resolved` and `rejected` state of the promise.\n *\n * Additionally, `<Async>` automatically re-renders the portion of the view when the status\n * of the `Promise` changes.\n *\n * `<Async>` provides three callbacks:\n * - `onPending`: invoked initially to provide a way for the template to provide output while\n *   waiting for the `promise` to resolve.\n * - `onResolved`: invoked when the `promise` is `resolved` allowing the template to generate\n *   output using the `resolved` value.\n * - `onError`: invoked when the `promise` is `rejected` allowing the template to generate\n *   error output describing the problem.\n *\n * The `<Async>` can be used in two ways, which are semantically equivalent and are provided\n * based on the developer needs/preferences.\n *\n * ### Using multiple callbacks\n *\n * ```typescript\n * <Async\n *   resolve={Promise.resolve('some value')}\n *   onPending={() => <span>loading...</span>}\n *   onResolved={(value) => <span>{value}</span>}\n *   onError={(rejection) => <pre>{rejection}</pre>}\n * />\n * ```\n *\n * ### Using single callbacks\n *\n * ```typescript\n * <Async resolve={Promise.resolve('some value')}>\n *   {(response) => {\n *     if (response.isPending) return <span>loading...</span>;\n *     if (response.isResolved) return <span>{response.value}</span>;\n *     if (response.isRejected) return <pre>{response.rejection}</pre>;\n *   }}\n * </Async>\n * ```\n *\n * @param onPending - invoked initially to provide a way for the template to provide output while\n *   waiting for the `promise` to resolve.\n * @param onResolved - invoked when the `promise` is `resolved` allowing the template to generate\n *   output using the `resolved` value.\n * @param onError - invoked when the `promise` is `rejected` allowing the template to generate\n *   error output describing the problem.\n * @param children -  a single callback function for `onPending`, `onResolved` and `onError`.\n *   (Use either `children` or `onPending`, `onResolved` and `onError`, but not both.)\n *   See \"Using multiple callbacks\" vs \"Using single callbacks\" above.\n *\n * @public\n */\nexport function Async(props) {\n    // TODO(misko): implement onPending/onResolved/onError\n    if (!('children' in props)) {\n        throw new Error('IMPLEMENT');\n    }\n    const children = [props.children].flat()[0];\n    const renderFn = typeof children == 'function' ? children : null;\n    const promiseValue = {\n        isPending: true,\n        isResolved: false,\n        value: undefined,\n        isRejected: false,\n        rejection: undefined,\n    };\n    let pending;\n    const jsxPromise = new Promise((resolve, reject) => {\n        pending = renderFn && renderFn(promiseValue);\n        Promise.resolve(props.resolve).then((value) => {\n            promiseValue.isPending = false;\n            promiseValue.isResolved = true;\n            promiseValue.value = value;\n            return resolve(renderFn && renderFn(promiseValue));\n        }, (error) => {\n            promiseValue.isPending = false;\n            promiseValue.isRejected = true;\n            promiseValue.rejection = error;\n            return reject(renderFn && renderFn(promiseValue));\n        });\n    });\n    jsxPromise.whilePending = pending;\n    return jsxPromise;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXN5bmMucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS9yZW5kZXIvanN4L2FzeW5jLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF1UUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBd0RHO0FBRUgsTUFBTSxVQUFVLEtBQUssQ0FBSSxLQUFvQjtJQUMzQyxzREFBc0Q7SUFDdEQsSUFBSSxDQUFDLENBQUMsVUFBVSxJQUFJLEtBQUssQ0FBQyxFQUFFO1FBQzFCLE1BQU0sSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUM7S0FDOUI7SUFDRCxNQUFNLFFBQVEsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1QyxNQUFNLFFBQVEsR0FBRyxPQUFPLFFBQVEsSUFBSSxVQUFVLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ2pFLE1BQU0sWUFBWSxHQUFzQjtRQUN0QyxTQUFTLEVBQUUsSUFBSTtRQUNmLFVBQVUsRUFBRSxLQUFLO1FBQ2pCLEtBQUssRUFBRSxTQUFTO1FBQ2hCLFVBQVUsRUFBRSxLQUFLO1FBQ2pCLFNBQVMsRUFBRSxTQUFTO0tBQ3JCLENBQUM7SUFDRixJQUFJLE9BQVksQ0FBQztJQUNqQixNQUFNLFVBQVUsR0FBRyxJQUFJLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsRUFBRTtRQUNqRCxPQUFPLEdBQUcsUUFBUSxJQUFJLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM3QyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQ2pDLENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDUCxZQUFvQixDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDdkMsWUFBb0IsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1lBQ3ZDLFlBQW9CLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztZQUNwQyxPQUFPLE9BQU8sQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDckQsQ0FBQyxFQUNELENBQUMsS0FBSyxFQUFFLEVBQUU7WUFDUCxZQUFvQixDQUFDLFNBQVMsR0FBRyxLQUFLLENBQUM7WUFDdkMsWUFBb0IsQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1lBQ3ZDLFlBQW9CLENBQUMsU0FBUyxHQUFHLEtBQUssQ0FBQztZQUN4QyxPQUFPLE1BQU0sQ0FBQyxRQUFRLElBQUksUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7UUFDcEQsQ0FBQyxDQUNGLENBQUM7SUFDSixDQUFDLENBQWUsQ0FBQztJQUNqQixVQUFVLENBQUMsWUFBWSxHQUFHLE9BQU8sQ0FBQztJQUNsQyxPQUFPLFVBQWlCLENBQUM7QUFDM0IsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi8uLi91dGlsL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgcXVlcnlhYmxlIHN0YXR1cyBvZiBhIGBQcm9taXNlYC5cbiAqXG4gKiBUaGUgYFByb21pc2VWYWx1ZWAgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCB3aXRoIGA8QXN5bmM+YC5cbiAqIEEgYFByb21pc2VgIGNhbid0IGJlIGV4YW1pbmVkIGZvciBpdHMgc3RhdHVzIGluIGEgc3luY2hyb25vdXMgd2F5LlxuICogV2hlbiByZW5kZXJpbmcgaXQgaXMgZGVzaXJhYmxlIHRvIGNoZWNrIG9uIHRoZSBzdGF0dXMgb2YgdGhlIHByb21pc2UgYW5kXG4gKiBkZXRlcm1pbmUgaWYgaXQgaXMgcGVuZGluZywgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgaW4gYSBzeW5jaHJvbm91cyB3YXlcbiAqIHNvIHRoYXQgaXRzIHN0YXR1cyBjYW4gYmUgdXNlZCBpbiB0aGUgcmVuZGVyaW5nIG91dHB1dC5cbiAqXG4gKiAjIyMgRXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogPEFzeW5jIHJlc29sdmU9e1Byb21pc2UucmVzb2x2ZSgnc29tZSB2YWx1ZScpfT5cbiAqICAgeyhyZXNwb25zZTogUHJvbWlzZVZhbHVlPHN0cmluZz4pID0+IHtcbiAqICAgICBpZiAocmVzcG9uc2UuaXNQZW5kaW5nKSByZXR1cm4gPHNwYW4+bG9hZGluZy4uLjwvc3Bhbj47XG4gKiAgICAgaWYgKHJlc3BvbnNlLmlzUmVzb2x2ZWQpIHJldHVybiA8c3Bhbj57cmVzcG9uc2UudmFsdWV9PC9zcGFuPjtcbiAqICAgICBpZiAocmVzcG9uc2UuaXNSZWplY3RlZCkgcmV0dXJuIDxwcmU+e3Jlc3BvbnNlLnJlamVjdGlvbn08L3ByZT47XG4gKiAgIH19XG4gKiA8L0FzeW5jPlxuICogYGBgXG4gKlxuICogU2VlOiBgPEFzeW5jPmAgZm9yIG1vcmUgY29udGV4dC5cbiAqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFByb21pc2VWYWx1ZTxUPiA9XG4gIHwge1xuICAgICAgLyoqXG4gICAgICAgKiBGbGFnIGluZGljYXRpbmcgaWYgdGhlIGBQcm9taXNlYCBpcyBpbiBwZW5kaW5nIHN0YXRlIChoYXMgbm90IGJlZW4gcmVzb2x2ZWQpLlxuICAgICAgICpcbiAgICAgICAqIElmIGB0cnVlYCB0aGVuIGB2YWx1ZWAgYW5kIGByZWplY3Rpb25gIGFyZSBib3RoIHVuZGVmaW5lZC5cbiAgICAgICAqIGlmIGBmYWxzZWAgdGhlbiBlaXRoZXIgYHZhbHVlYCBvciBgcmVqZWN0aW9uYCBjb250YWlucyB2YWx1ZS5cbiAgICAgICAqXG4gICAgICAgKiBTZWU6IGBpc1Jlc29sdmVkYCBhbmQgYGlzUmVqZWN0aW9uYFxuICAgICAgICovXG4gICAgICByZWFkb25seSBpc1BlbmRpbmc6IHRydWU7XG4gICAgICAvKipcbiAgICAgICAqIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgYFByb21pc2VgIGhhcyBiZWVuIHJlc29sdmVkLlxuICAgICAgICpcbiAgICAgICAqIElmIGB0cnVlYCB0aGVuIGB2YWx1ZWAgY29udGFpbnMgdGhlIHJlc29sdXRpb24gb2YgdGhlIGBQcm9taXNlYC5cbiAgICAgICAqXG4gICAgICAgKiBTZWU6IGB2YWx1ZWAuXG4gICAgICAgKi9cbiAgICAgIHJlYWRvbmx5IGlzUmVzb2x2ZWQ6IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBGbGFnIGluZGljYXRpbmcgaWYgdGhlIGBQcm9taXNlYCBoYXMgYmVlbiByZWplY3RlZC5cbiAgICAgICAqXG4gICAgICAgKiBJZiBgdHJ1ZWAgdGhlbiBgcmVqZWN0aW9uYCBjb250YWlucyB0aGUgcmVqZWN0aW9uIG9mIHRoZSBgUHJvbWlzZWAuXG4gICAgICAgKlxuICAgICAgICogU2VlOiBgcmVqZWN0aW9uYC5cbiAgICAgICAqL1xuICAgICAgcmVhZG9ubHkgaXNSZWplY3RlZDogZmFsc2U7XG4gICAgICAvKipcbiAgICAgICAqIFZhbHVlIG9mIHRoZSByZXNvbHZlZCBgUHJvbWlzZWAuXG4gICAgICAgKlxuICAgICAgICogYHZhbHVlYCBpcyBzZXQgb25seSBpZiBgaXNSZXNvbHZlZGAgaXMgYHRydWVgLlxuICAgICAgICpcbiAgICAgICAqIFNlZTogYGlzUmVzb2x2ZWRgLlxuICAgICAgICovXG4gICAgICByZWFkb25seSB2YWx1ZTogdW5kZWZpbmVkO1xuICAgICAgLyoqXG4gICAgICAgKiBWYWx1ZSBvZiB0aGUgcmVqZWN0ZWQgYFByb21pc2VgLlxuICAgICAgICpcbiAgICAgICAqIGByZWplY3Rpb25gIGlzIHNldCBvbmx5IGlmIGBpc1JlamVjdGVkYCBpcyBgdHJ1ZWAuXG4gICAgICAgKlxuICAgICAgICogU2VlOiBgaXNSZWplY3RlZGAuXG4gICAgICAgKi9cbiAgICAgIHJlYWRvbmx5IHJlamVjdGlvbjogdW5kZWZpbmVkO1xuICAgIH1cbiAgfCB7XG4gICAgICAvKipcbiAgICAgICAqIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgYFByb21pc2VgIGlzIGluIHBlbmRpbmcgc3RhdGUgKGhhcyBub3QgYmVlbiByZXNvbHZlZCkuXG4gICAgICAgKlxuICAgICAgICogSWYgYHRydWVgIHRoZW4gYHZhbHVlYCBhbmQgYHJlamVjdGlvbmAgYXJlIGJvdGggdW5kZWZpbmVkLlxuICAgICAgICogaWYgYGZhbHNlYCB0aGVuIGVpdGhlciBgdmFsdWVgIG9yIGByZWplY3Rpb25gIGNvbnRhaW5zIHZhbHVlLlxuICAgICAgICpcbiAgICAgICAqIFNlZTogYGlzUmVzb2x2ZWRgIGFuZCBgaXNSZWplY3Rpb25gXG4gICAgICAgKi9cbiAgICAgIHJlYWRvbmx5IGlzUGVuZGluZzogZmFsc2U7XG4gICAgICAvKipcbiAgICAgICAqIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgYFByb21pc2VgIGhhcyBiZWVuIHJlc29sdmVkLlxuICAgICAgICpcbiAgICAgICAqIElmIGB0cnVlYCB0aGVuIGB2YWx1ZWAgY29udGFpbnMgdGhlIHJlc29sdXRpb24gb2YgdGhlIGBQcm9taXNlYC5cbiAgICAgICAqXG4gICAgICAgKiBTZWU6IGB2YWx1ZWAuXG4gICAgICAgKi9cbiAgICAgIHJlYWRvbmx5IGlzUmVzb2x2ZWQ6IHRydWU7XG4gICAgICAvKipcbiAgICAgICAqIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgYFByb21pc2VgIGhhcyBiZWVuIHJlamVjdGVkLlxuICAgICAgICpcbiAgICAgICAqIElmIGB0cnVlYCB0aGVuIGByZWplY3Rpb25gIGNvbnRhaW5zIHRoZSByZWplY3Rpb24gb2YgdGhlIGBQcm9taXNlYC5cbiAgICAgICAqXG4gICAgICAgKiBTZWU6IGByZWplY3Rpb25gLlxuICAgICAgICovXG4gICAgICByZWFkb25seSBpc1JlamVjdGVkOiBmYWxzZTtcbiAgICAgIC8qKlxuICAgICAgICogVmFsdWUgb2YgdGhlIHJlc29sdmVkIGBQcm9taXNlYC5cbiAgICAgICAqXG4gICAgICAgKiBgdmFsdWVgIGlzIHNldCBvbmx5IGlmIGBpc1Jlc29sdmVkYCBpcyBgdHJ1ZWAuXG4gICAgICAgKlxuICAgICAgICogU2VlOiBgaXNSZXNvbHZlZGAuXG4gICAgICAgKi9cbiAgICAgIHJlYWRvbmx5IHZhbHVlOiBUO1xuICAgICAgLyoqXG4gICAgICAgKiBWYWx1ZSBvZiB0aGUgcmVqZWN0ZWQgYFByb21pc2VgLlxuICAgICAgICpcbiAgICAgICAqIGByZWplY3Rpb25gIGlzIHNldCBvbmx5IGlmIGBpc1JlamVjdGVkYCBpcyBgdHJ1ZWAuXG4gICAgICAgKlxuICAgICAgICogU2VlOiBgaXNSZWplY3RlZGAuXG4gICAgICAgKi9cbiAgICAgIHJlYWRvbmx5IHJlamVjdGlvbjogdW5kZWZpbmVkO1xuICAgIH1cbiAgfCB7XG4gICAgICAvKipcbiAgICAgICAqIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgYFByb21pc2VgIGlzIGluIHBlbmRpbmcgc3RhdGUgKGhhcyBub3QgYmVlbiByZXNvbHZlZCkuXG4gICAgICAgKlxuICAgICAgICogSWYgYHRydWVgIHRoZW4gYHZhbHVlYCBhbmQgYHJlamVjdGlvbmAgYXJlIGJvdGggdW5kZWZpbmVkLlxuICAgICAgICogaWYgYGZhbHNlYCB0aGVuIGVpdGhlciBgdmFsdWVgIG9yIGByZWplY3Rpb25gIGNvbnRhaW5zIHZhbHVlLlxuICAgICAgICpcbiAgICAgICAqIFNlZTogYGlzUmVzb2x2ZWRgIGFuZCBgaXNSZWplY3Rpb25gXG4gICAgICAgKi9cbiAgICAgIHJlYWRvbmx5IGlzUGVuZGluZzogZmFsc2U7XG4gICAgICAvKipcbiAgICAgICAqIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgYFByb21pc2VgIGhhcyBiZWVuIHJlc29sdmVkLlxuICAgICAgICpcbiAgICAgICAqIElmIGB0cnVlYCB0aGVuIGB2YWx1ZWAgY29udGFpbnMgdGhlIHJlc29sdXRpb24gb2YgdGhlIGBQcm9taXNlYC5cbiAgICAgICAqXG4gICAgICAgKiBTZWU6IGB2YWx1ZWAuXG4gICAgICAgKi9cbiAgICAgIHJlYWRvbmx5IGlzUmVzb2x2ZWQ6IGZhbHNlO1xuICAgICAgLyoqXG4gICAgICAgKiBGbGFnIGluZGljYXRpbmcgaWYgdGhlIGBQcm9taXNlYCBoYXMgYmVlbiByZWplY3RlZC5cbiAgICAgICAqXG4gICAgICAgKiBJZiBgdHJ1ZWAgdGhlbiBgcmVqZWN0aW9uYCBjb250YWlucyB0aGUgcmVqZWN0aW9uIG9mIHRoZSBgUHJvbWlzZWAuXG4gICAgICAgKlxuICAgICAgICogU2VlOiBgcmVqZWN0aW9uYC5cbiAgICAgICAqL1xuICAgICAgcmVhZG9ubHkgaXNSZWplY3RlZDogdHJ1ZTtcbiAgICAgIC8qKlxuICAgICAgICogVmFsdWUgb2YgdGhlIHJlc29sdmVkIGBQcm9taXNlYC5cbiAgICAgICAqXG4gICAgICAgKiBgdmFsdWVgIGlzIHNldCBvbmx5IGlmIGBpc1Jlc29sdmVkYCBpcyBgdHJ1ZWAuXG4gICAgICAgKlxuICAgICAgICogU2VlOiBgaXNSZXNvbHZlZGAuXG4gICAgICAgKi9cbiAgICAgIHJlYWRvbmx5IHZhbHVlOiB1bmRlZmluZWQ7XG4gICAgICAvKipcbiAgICAgICAqIFZhbHVlIG9mIHRoZSByZWplY3RlZCBgUHJvbWlzZWAuXG4gICAgICAgKlxuICAgICAgICogYHJlamVjdGlvbmAgaXMgc2V0IG9ubHkgaWYgYGlzUmVqZWN0ZWRgIGlzIGB0cnVlYC5cbiAgICAgICAqXG4gICAgICAgKiBTZWU6IGBpc1JlamVjdGVkYC5cbiAgICAgICAqL1xuICAgICAgcmVhZG9ubHkgcmVqZWN0aW9uOiBhbnk7XG4gICAgfTtcblxuaW50ZXJmYWNlIEFzeW5jV2l0aENoaWxkcmVuPFQ+IHtcbiAgLyoqXG4gICAqIEEgYFByb21pc2VgIHRvIGF3YWl0IHJlc29sdXRpb24gb24uXG4gICAqXG4gICAqIFRoZSBgcmVzb2x2ZWRgL2ByZWplY3RlZGAgdmFsdWUgaXMgdGhhdCBjb21tdW5pY2F0ZWQgdG8gYSBzaW5nbGUgY2FsbGJhY2suXG4gICAqXG4gICAqIFRoZSBgY2FsbGJhY2tgIGlzIGludm9rZWQgdHdpY2U6XG4gICAqIDEuIEZpcnN0IHdpdGggcGVuZGluZyBgUHJvbWlzZVZhbHVlYCBhbGxvd2luZyB0aGUgdmlldyB0byByZW5kZXIgdGV4dFxuICAgKiAgICBjb21tdW5pY2F0aW5nIHRoYXQgYXBwbGljYXRpb24gaXMgd2FpdGluZyBvbiBzb21lIGRhdGEgdG8gcmVzb2x2ZS5cbiAgICogMi4gU2Vjb25kIHdpdGggZWl0aGVyIGByZXNvbHZlZGAgb3IgYHJlamVjdGVkYCB2YWx1ZSBhbGxvd2luZyB0aGUgdmlld1xuICAgKiAgICB0byBjb21tdW5pY2F0ZSB0aGUgYHJlc29sdmVkYCB2YWx1ZSBvciB0aGUgYGVycm9yYC5cbiAgICpcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiA8QXN5bmMgcmVzb2x2ZT17UHJvbWlzZS5yZXNvbHZlKCdzb21lIHZhbHVlJyl9PlxuICAgKiAgIHsocmVzcG9uc2UpID0+IHtcbiAgICogICAgIGlmIChyZXNwb25zZS5pc1BlbmRpbmcpIHJldHVybiA8c3Bhbj5sb2FkaW5nLi4uPC9zcGFuPjtcbiAgICogICAgIGlmIChyZXNwb25zZS5pc1Jlc29sdmVkKSByZXR1cm4gPHNwYW4+e3Jlc3BvbnNlLnZhbHVlfTwvc3Bhbj47XG4gICAqICAgICBpZiAocmVzcG9uc2UuaXNSZWplY3RlZCkgcmV0dXJuIDxwcmU+e3Jlc3BvbnNlLnJlamVjdGlvbn08L3ByZT47XG4gICAqICAgfX1cbiAgICogPC9Bc3luYz5cbiAgICogYGBgXG4gICAqL1xuICByZXNvbHZlOiBWYWx1ZU9yUHJvbWlzZTxUPjtcbiAgLyoqXG4gICAqIEEgc2luZ2xlIGNhbGxiYWNrIHdoaWNoIGlzIGludm9rZSBiZWZvcmUgYFByb21pc2VgIHJlc29sdXRpb24gYW5kIGFmdGVyIGl0IGlzIGByZXNvbHZlZGAuXG4gICAqXG4gICAqIFRoZSBgY2FsbGJhY2tgIGlzIGludm9rZWQgdHdpY2U6XG4gICAqIDEuIEZpcnN0IHdpdGggcGVuZGluZyBgUHJvbWlzZVZhbHVlYCBhbGxvd2luZyB0aGUgdmlldyB0byByZW5kZXIgdGV4dFxuICAgKiAgICBjb21tdW5pY2F0aW5nIHRoYXQgYXBwbGljYXRpb24gaXMgd2FpdGluZyBvbiBzb21lIGRhdGEgdG8gcmVzb2x2ZS5cbiAgICogMi4gU2Vjb25kIHdpdGggZWl0aGVyIGByZXNvbHZlZGAgb3IgYHJlamVjdGVkYCB2YWx1ZSBhbGxvd2luZyB0aGUgdmlld1xuICAgKiAgICB0byBjb21tdW5pY2F0ZSB0aGUgYHJlc29sdmVkYCB2YWx1ZSBvciB0aGUgYGVycm9yYC5cbiAgICpcbiAgICogYGBgdHlwZXNjcmlwdFxuICAgKiA8QXN5bmMgcmVzb2x2ZT17UHJvbWlzZS5yZXNvbHZlKCdzb21lIHZhbHVlJyl9PlxuICAgKiAgIHsocmVzcG9uc2UpID0+IHtcbiAgICogICAgIGlmIChyZXNwb25zZS5pc1BlbmRpbmcpIHJldHVybiA8c3Bhbj5sb2FkaW5nLi4uPC9zcGFuPjtcbiAgICogICAgIGlmIChyZXNwb25zZS5pc1Jlc29sdmVkKSByZXR1cm4gPHNwYW4+e3Jlc3BvbnNlLnZhbHVlfTwvc3Bhbj47XG4gICAqICAgICBpZiAocmVzcG9uc2UuaXNSZWplY3RlZCkgcmV0dXJuIDxwcmU+e3Jlc3BvbnNlLnJlamVjdGlvbn08L3ByZT47XG4gICAqICAgfX1cbiAgICogPC9Bc3luYz5cbiAgICogYGBgXG4gICAqL1xuICBjaGlsZHJlbjogKG9ic2VydmFibGVQcm9taXNlOiBQcm9taXNlVmFsdWU8VD4pID0+IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3luY1Jlc29sdmU8VD4ge1xuICAvKipcbiAgICogQSBgUHJvbWlzZWAgdG8gYXdhaXQgcmVzb2x1dGlvbiBvbi5cbiAgICpcbiAgICogVGhlIGByZXNvbHZlZGAvYHJlamVjdGVkYCB2YWx1ZSBpcyB0aGF0IGNvbW11bmljYXRlZCB0byBgb25SZXNvbHZlZGAvYG9uUmVqZWN0ZWRgXG4gICAqIHJlc3BlY3RpdmVseS4gV2hpbGUgYDxBc3luYz5gIHdhaXRzIGZvciByZXNvbHV0aW9uIGBvblBlbmRpbmdgIGlzIGludm9rZWQuXG4gICAqXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogPEFzeW5jXG4gICAqICAgcmVzb2x2ZT17UHJvbWlzZS5yZXNvbHZlKCdzb21lIHZhbHVlJyl9XG4gICAqICAgb25QZW5kaW5nPXsoKSA9PiA8c3Bhbj5sb2FkaW5nLi4uPC9zcGFuPn1cbiAgICogICBvblJlc29sdmVkPXsodmFsdWUpID0+IDxzcGFuPnt2YWx1ZX08L3NwYW4+fVxuICAgKiAgIG9uRXJyb3I9eyhyZWplY3Rpb24pID0+IDxwcmU+e3JlamVjdGlvbn08L3ByZT59XG4gICAqIC8+XG4gICAqIGBgYFxuICAgKi9cbiAgcmVzb2x2ZTogVmFsdWVPclByb21pc2U8VD47XG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIGFsbG93aW5nIHRoZSB2aWV3IHRvIHJlbmRlciBVSSBjb21tdW5pY2F0aW5nIHRvIHRoZSB1c2VyIHRoYXRcbiAgICogYXBwbGljYXRpb24gaXMgd2FpdGluZyBvbiBkYXRhLlxuICAgKlxuICAgKiBgYGB0eXBlc2NyaXB0XG4gICAqIDxBc3luY1xuICAgKiAgIHJlc29sdmU9e1Byb21pc2UucmVzb2x2ZSgnc29tZSB2YWx1ZScpfVxuICAgKiAgIG9uUGVuZGluZz17KCkgPT4gPHNwYW4+bG9hZGluZy4uLjwvc3Bhbj59XG4gICAqICAgb25SZXNvbHZlZD17KHZhbHVlKSA9PiA8c3Bhbj57dmFsdWV9PC9zcGFuPn1cbiAgICogICBvbkVycm9yPXsocmVqZWN0aW9uKSA9PiA8cHJlPntyZWplY3Rpb259PC9wcmU+fVxuICAgKiAvPlxuICAgKiBgYGBcbiAgICovXG4gIG9uUGVuZGluZz86ICgpID0+IGFueTtcbiAgLyoqXG4gICAqIENhbGxiYWNrIGludm9rZWQgYWxsb3dpbmcgdGhlIHZpZXcgdG8gcmVuZGVyIFVJIHdpdGggdGhlIHJlc29sdmVkIHZhbHVlIG9mIHRoZSBgUHJvbWlzZWAuXG4gICAqXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogPEFzeW5jXG4gICAqICAgcmVzb2x2ZT17UHJvbWlzZS5yZXNvbHZlKCdzb21lIHZhbHVlJyl9XG4gICAqICAgb25QZW5kaW5nPXsoKSA9PiA8c3Bhbj5sb2FkaW5nLi4uPC9zcGFuPn1cbiAgICogICBvblJlc29sdmVkPXsodmFsdWUpID0+IDxzcGFuPnt2YWx1ZX08L3NwYW4+fVxuICAgKiAgIG9uRXJyb3I9eyhyZWplY3Rpb24pID0+IDxwcmU+e3JlamVjdGlvbn08L3ByZT59XG4gICAqIC8+XG4gICAqIGBgYFxuICAgKi9cbiAgb25SZXNvbHZlZDogKHZhbHVlOiBUKSA9PiBhbnk7XG4gIC8qKlxuICAgKiBDYWxsYmFjayBpbnZva2VkIGFsbG93aW5nIHRoZSB2aWV3IHRvIHJlbmRlciBVSSB3aGVuIHRoZSBgUHJvbWlzZWAgaGFzIGJlZW4gcmVqZWN0ZWQuXG4gICAqXG4gICAqIGBgYHR5cGVzY3JpcHRcbiAgICogPEFzeW5jXG4gICAqICAgcmVzb2x2ZT17UHJvbWlzZS5yZXNvbHZlKCdzb21lIHZhbHVlJyl9XG4gICAqICAgb25QZW5kaW5nPXsoKSA9PiA8c3Bhbj5sb2FkaW5nLi4uPC9zcGFuPn1cbiAgICogICBvblJlc29sdmVkPXsodmFsdWUpID0+IDxzcGFuPnt2YWx1ZX08L3NwYW4+fVxuICAgKiAgIG9uRXJyb3I9eyhyZWplY3Rpb24pID0+IDxwcmU+e3JlamVjdGlvbn08L3ByZT59XG4gICAqIC8+XG4gICAqIGBgYFxuICAgKi9cbiAgb25FcnJvcj86IChlcnJvcjogYW55KSA9PiBhbnk7XG59XG5leHBvcnQgdHlwZSBBc3luY1Byb3BzPFQ+ID0gQXN5bmNSZXNvbHZlPFQ+IHwgQXN5bmNXaXRoQ2hpbGRyZW48VD47XG5cbi8qKlxuICogVXNlIHRvIHJlbmRlciBhc3luY2hyb25vdXMgKGBQcm9taXNlYCkgdmFsdWVzLlxuICpcbiAqIEEgYFByb21pc2VgIGRvZXMgbm90IGFsbG93IGEgc3luY2hyb25vdXMgZXhhbWluYXRpb24gb2YgaXRzIHN0YXRlLiBGb3IgdGhpcyByZWFzb25cbiAqIGA8QXN5bmM+YCBwcm92aWRlcyBhIG1lY2hhbmlzbSB0byByZW5kZXIgcGVuZGluZywgcmVzb2x2ZWQgYW5kIGVycm9yIHN0YXRlIG9mIGEgYFByb21pc2VgLlxuICogYDxBc3luYz5gIHByb3ZpZGVzIHRoYXQgbWVjaGFuaXNtIGJ5IHJlZ2lzdGVyaW5nIGEgYHRoZW5gIG1ldGhvZCB3aXRoIHRoZSBgUHJvbWlzZWAgYW5kXG4gKiBwcm92aWRpbmcgY2FsbGJhY2tzIGhvb2tzIGZvciBgcGVuZGluZ2AsIGByZXNvbHZlZGAgYW5kIGByZWplY3RlZGAgc3RhdGUgb2YgdGhlIHByb21pc2UuXG4gKlxuICogQWRkaXRpb25hbGx5LCBgPEFzeW5jPmAgYXV0b21hdGljYWxseSByZS1yZW5kZXJzIHRoZSBwb3J0aW9uIG9mIHRoZSB2aWV3IHdoZW4gdGhlIHN0YXR1c1xuICogb2YgdGhlIGBQcm9taXNlYCBjaGFuZ2VzLlxuICpcbiAqIGA8QXN5bmM+YCBwcm92aWRlcyB0aHJlZSBjYWxsYmFja3M6XG4gKiAtIGBvblBlbmRpbmdgOiBpbnZva2VkIGluaXRpYWxseSB0byBwcm92aWRlIGEgd2F5IGZvciB0aGUgdGVtcGxhdGUgdG8gcHJvdmlkZSBvdXRwdXQgd2hpbGVcbiAqICAgd2FpdGluZyBmb3IgdGhlIGBwcm9taXNlYCB0byByZXNvbHZlLlxuICogLSBgb25SZXNvbHZlZGA6IGludm9rZWQgd2hlbiB0aGUgYHByb21pc2VgIGlzIGByZXNvbHZlZGAgYWxsb3dpbmcgdGhlIHRlbXBsYXRlIHRvIGdlbmVyYXRlXG4gKiAgIG91dHB1dCB1c2luZyB0aGUgYHJlc29sdmVkYCB2YWx1ZS5cbiAqIC0gYG9uRXJyb3JgOiBpbnZva2VkIHdoZW4gdGhlIGBwcm9taXNlYCBpcyBgcmVqZWN0ZWRgIGFsbG93aW5nIHRoZSB0ZW1wbGF0ZSB0byBnZW5lcmF0ZVxuICogICBlcnJvciBvdXRwdXQgZGVzY3JpYmluZyB0aGUgcHJvYmxlbS5cbiAqXG4gKiBUaGUgYDxBc3luYz5gIGNhbiBiZSB1c2VkIGluIHR3byB3YXlzLCB3aGljaCBhcmUgc2VtYW50aWNhbGx5IGVxdWl2YWxlbnQgYW5kIGFyZSBwcm92aWRlZFxuICogYmFzZWQgb24gdGhlIGRldmVsb3BlciBuZWVkcy9wcmVmZXJlbmNlcy5cbiAqXG4gKiAjIyMgVXNpbmcgbXVsdGlwbGUgY2FsbGJhY2tzXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogPEFzeW5jXG4gKiAgIHJlc29sdmU9e1Byb21pc2UucmVzb2x2ZSgnc29tZSB2YWx1ZScpfVxuICogICBvblBlbmRpbmc9eygpID0+IDxzcGFuPmxvYWRpbmcuLi48L3NwYW4+fVxuICogICBvblJlc29sdmVkPXsodmFsdWUpID0+IDxzcGFuPnt2YWx1ZX08L3NwYW4+fVxuICogICBvbkVycm9yPXsocmVqZWN0aW9uKSA9PiA8cHJlPntyZWplY3Rpb259PC9wcmU+fVxuICogLz5cbiAqIGBgYFxuICpcbiAqICMjIyBVc2luZyBzaW5nbGUgY2FsbGJhY2tzXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogPEFzeW5jIHJlc29sdmU9e1Byb21pc2UucmVzb2x2ZSgnc29tZSB2YWx1ZScpfT5cbiAqICAgeyhyZXNwb25zZSkgPT4ge1xuICogICAgIGlmIChyZXNwb25zZS5pc1BlbmRpbmcpIHJldHVybiA8c3Bhbj5sb2FkaW5nLi4uPC9zcGFuPjtcbiAqICAgICBpZiAocmVzcG9uc2UuaXNSZXNvbHZlZCkgcmV0dXJuIDxzcGFuPntyZXNwb25zZS52YWx1ZX08L3NwYW4+O1xuICogICAgIGlmIChyZXNwb25zZS5pc1JlamVjdGVkKSByZXR1cm4gPHByZT57cmVzcG9uc2UucmVqZWN0aW9ufTwvcHJlPjtcbiAqICAgfX1cbiAqIDwvQXN5bmM+XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gb25QZW5kaW5nIC0gaW52b2tlZCBpbml0aWFsbHkgdG8gcHJvdmlkZSBhIHdheSBmb3IgdGhlIHRlbXBsYXRlIHRvIHByb3ZpZGUgb3V0cHV0IHdoaWxlXG4gKiAgIHdhaXRpbmcgZm9yIHRoZSBgcHJvbWlzZWAgdG8gcmVzb2x2ZS5cbiAqIEBwYXJhbSBvblJlc29sdmVkIC0gaW52b2tlZCB3aGVuIHRoZSBgcHJvbWlzZWAgaXMgYHJlc29sdmVkYCBhbGxvd2luZyB0aGUgdGVtcGxhdGUgdG8gZ2VuZXJhdGVcbiAqICAgb3V0cHV0IHVzaW5nIHRoZSBgcmVzb2x2ZWRgIHZhbHVlLlxuICogQHBhcmFtIG9uRXJyb3IgLSBpbnZva2VkIHdoZW4gdGhlIGBwcm9taXNlYCBpcyBgcmVqZWN0ZWRgIGFsbG93aW5nIHRoZSB0ZW1wbGF0ZSB0byBnZW5lcmF0ZVxuICogICBlcnJvciBvdXRwdXQgZGVzY3JpYmluZyB0aGUgcHJvYmxlbS5cbiAqIEBwYXJhbSBjaGlsZHJlbiAtICBhIHNpbmdsZSBjYWxsYmFjayBmdW5jdGlvbiBmb3IgYG9uUGVuZGluZ2AsIGBvblJlc29sdmVkYCBhbmQgYG9uRXJyb3JgLlxuICogICAoVXNlIGVpdGhlciBgY2hpbGRyZW5gIG9yIGBvblBlbmRpbmdgLCBgb25SZXNvbHZlZGAgYW5kIGBvbkVycm9yYCwgYnV0IG5vdCBib3RoLilcbiAqICAgU2VlIFwiVXNpbmcgbXVsdGlwbGUgY2FsbGJhY2tzXCIgdnMgXCJVc2luZyBzaW5nbGUgY2FsbGJhY2tzXCIgYWJvdmUuXG4gKlxuICogQHB1YmxpY1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBBc3luYzxUPihwcm9wczogQXN5bmNQcm9wczxUPik6IEpTWE5vZGU8YW55PiB7XG4gIC8vIFRPRE8obWlza28pOiBpbXBsZW1lbnQgb25QZW5kaW5nL29uUmVzb2x2ZWQvb25FcnJvclxuICBpZiAoISgnY2hpbGRyZW4nIGluIHByb3BzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSU1QTEVNRU5UJyk7XG4gIH1cbiAgY29uc3QgY2hpbGRyZW4gPSBbcHJvcHMuY2hpbGRyZW5dLmZsYXQoKVswXTtcbiAgY29uc3QgcmVuZGVyRm4gPSB0eXBlb2YgY2hpbGRyZW4gPT0gJ2Z1bmN0aW9uJyA/IGNoaWxkcmVuIDogbnVsbDtcbiAgY29uc3QgcHJvbWlzZVZhbHVlOiBQcm9taXNlVmFsdWU8YW55PiA9IHtcbiAgICBpc1BlbmRpbmc6IHRydWUsXG4gICAgaXNSZXNvbHZlZDogZmFsc2UsXG4gICAgdmFsdWU6IHVuZGVmaW5lZCxcbiAgICBpc1JlamVjdGVkOiBmYWxzZSxcbiAgICByZWplY3Rpb246IHVuZGVmaW5lZCxcbiAgfTtcbiAgbGV0IHBlbmRpbmc6IGFueTtcbiAgY29uc3QganN4UHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBwZW5kaW5nID0gcmVuZGVyRm4gJiYgcmVuZGVyRm4ocHJvbWlzZVZhbHVlKTtcbiAgICBQcm9taXNlLnJlc29sdmUocHJvcHMucmVzb2x2ZSkudGhlbihcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICAocHJvbWlzZVZhbHVlIGFzIGFueSkuaXNQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIChwcm9taXNlVmFsdWUgYXMgYW55KS5pc1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgKHByb21pc2VWYWx1ZSBhcyBhbnkpLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHJldHVybiByZXNvbHZlKHJlbmRlckZuICYmIHJlbmRlckZuKHByb21pc2VWYWx1ZSkpO1xuICAgICAgfSxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAocHJvbWlzZVZhbHVlIGFzIGFueSkuaXNQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIChwcm9taXNlVmFsdWUgYXMgYW55KS5pc1JlamVjdGVkID0gdHJ1ZTtcbiAgICAgICAgKHByb21pc2VWYWx1ZSBhcyBhbnkpLnJlamVjdGlvbiA9IGVycm9yO1xuICAgICAgICByZXR1cm4gcmVqZWN0KHJlbmRlckZuICYmIHJlbmRlckZuKHByb21pc2VWYWx1ZSkpO1xuICAgICAgfVxuICAgICk7XG4gIH0pIGFzIEpTWFByb21pc2U7XG4gIGpzeFByb21pc2Uud2hpbGVQZW5kaW5nID0gcGVuZGluZztcbiAgcmV0dXJuIGpzeFByb21pc2UgYXMgYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEpTWFByb21pc2U8VCA9IGFueT4gZXh0ZW5kcyBQcm9taXNlPFQ+IHtcbiAgd2hpbGVQZW5kaW5nPzogYW55O1xufVxuIl19","/* eslint-disable */\nimport { flattenArray } from '../../util/array';\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { JSXNodeImpl } from './jsx-runtime';\n/**\n * @public\n */\nexport function h(type, props, ...children) {\n    // Using legacy h() jsx transform and morphing it\n    // so it can use the modern vdom structure\n    // https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html\n    // https://www.typescriptlang.org/tsconfig#jsxImportSource\n    const normalizedProps = {\n        children: arguments.length > 2 ? flattenArray(children) : EMPTY_ARRAY,\n    };\n    let key;\n    let i;\n    for (i in props) {\n        if (i == 'key')\n            key = props[i];\n        else\n            normalizedProps[i] = props[i];\n    }\n    return new JSXNodeImpl(type, normalizedProps, key);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvcmVuZGVyL2pzeC9mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLG9CQUFvQjtBQUNwQixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDaEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFJNUM7O0dBRUc7QUFDSCxNQUFNLFVBQVUsQ0FBQyxDQUNmLElBQXVDLEVBQ3ZDLEtBQW1CLEVBQ25CLEdBQUcsUUFBZTtJQUVsQixpREFBaUQ7SUFDakQsMENBQTBDO0lBQzFDLDZFQUE2RTtJQUM3RSwwREFBMEQ7SUFFMUQsTUFBTSxlQUFlLEdBQVE7UUFDM0IsUUFBUSxFQUFFLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVc7S0FDdEUsQ0FBQztJQUVGLElBQUksR0FBUSxDQUFDO0lBQ2IsSUFBSSxDQUFNLENBQUM7SUFFWCxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7UUFDZixJQUFJLENBQUMsSUFBSSxLQUFLO1lBQUUsR0FBRyxHQUFJLEtBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBQ25ELGVBQWUsQ0FBQyxDQUFDLENBQUMsR0FBSSxLQUE2QixDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzdEO0lBRUQsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3JELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHsgZmxhdHRlbkFycmF5IH0gZnJvbSAnLi4vLi4vdXRpbC9hcnJheSc7XG5pbXBvcnQgeyBFTVBUWV9BUlJBWSB9IGZyb20gJy4uLy4uL3V0aWwvZmx5d2VpZ2h0JztcbmltcG9ydCB7IEpTWE5vZGVJbXBsIH0gZnJvbSAnLi9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IFF3aWtKU1ggfSBmcm9tICcuL3R5cGVzL2pzeC1xd2lrJztcbmltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQsIEpTWE5vZGUgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoPFBST1BTIGV4dGVuZHMge30gPSB7fT4oXG4gIHR5cGU6IHN0cmluZyB8IEZ1bmN0aW9uQ29tcG9uZW50PFBST1BTPixcbiAgcHJvcHM6IFBST1BTIHwgbnVsbCxcbiAgLi4uY2hpbGRyZW46IGFueVtdXG4pOiBKU1hOb2RlIHtcbiAgLy8gVXNpbmcgbGVnYWN5IGgoKSBqc3ggdHJhbnNmb3JtIGFuZCBtb3JwaGluZyBpdFxuICAvLyBzbyBpdCBjYW4gdXNlIHRoZSBtb2Rlcm4gdmRvbSBzdHJ1Y3R1cmVcbiAgLy8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9ibG9nLzIwMjAvMDkvMjIvaW50cm9kdWNpbmctdGhlLW5ldy1qc3gtdHJhbnNmb3JtLmh0bWxcbiAgLy8gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL3RzY29uZmlnI2pzeEltcG9ydFNvdXJjZVxuXG4gIGNvbnN0IG5vcm1hbGl6ZWRQcm9wczogYW55ID0ge1xuICAgIGNoaWxkcmVuOiBhcmd1bWVudHMubGVuZ3RoID4gMiA/IGZsYXR0ZW5BcnJheShjaGlsZHJlbikgOiBFTVBUWV9BUlJBWSxcbiAgfTtcblxuICBsZXQga2V5OiBhbnk7XG4gIGxldCBpOiBhbnk7XG5cbiAgZm9yIChpIGluIHByb3BzKSB7XG4gICAgaWYgKGkgPT0gJ2tleScpIGtleSA9IChwcm9wcyBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KVtpXTtcbiAgICBlbHNlIG5vcm1hbGl6ZWRQcm9wc1tpXSA9IChwcm9wcyBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KVtpXTtcbiAgfVxuXG4gIHJldHVybiBuZXcgSlNYTm9kZUltcGwodHlwZSwgbm9ybWFsaXplZFByb3BzLCBrZXkpO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGRlY2xhcmUgbmFtZXNwYWNlIGgge1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBhbnkpOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHR5cGU6IE5vZGUsIGRhdGE6IGFueSk6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogYW55LCB0ZXh0OiBzdHJpbmcpOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHR5cGU6IGFueSwgY2hpbGRyZW46IEFycmF5PGFueT4pOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHR5cGU6IGFueSwgZGF0YTogYW55LCB0ZXh0OiBzdHJpbmcpOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKFxuICAgIHR5cGU6IGFueSxcbiAgICBkYXRhOiBhbnksXG4gICAgY2hpbGRyZW46IEFycmF5PEpTWE5vZGU8YW55PiB8IHVuZGVmaW5lZCB8IG51bGw+XG4gICk6IEpTWE5vZGU8YW55PjtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgoc2VsOiBhbnksIGRhdGE6IGFueSB8IG51bGwsIGNoaWxkcmVuOiBKU1hOb2RlPGFueT4pOiBKU1hOb2RlPGFueT47XG5cbiAgZXhwb3J0IG5hbWVzcGFjZSBKU1gge1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudCBleHRlbmRzIFF3aWtKU1guRWxlbWVudCB7fVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSW50cmluc2ljQXR0cmlidXRlcyBleHRlbmRzIFF3aWtKU1guSW50cmluc2ljQXR0cmlidXRlcyB7fVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgSW50cmluc2ljRWxlbWVudHMgZXh0ZW5kcyBRd2lrSlNYLkludHJpbnNpY0VsZW1lbnRzIHt9XG4gICAgZXhwb3J0IGludGVyZmFjZSBFbGVtZW50Q2hpbGRyZW5BdHRyaWJ1dGUge1xuICAgICAgY2hpbGRyZW4/OiBhbnk7XG4gICAgfVxuICB9XG59XG4iXX0=","import { jsx } from './jsx-runtime';\n/**\n * @public\n */\nexport const Slot = (props) => {\n    const hasChildren = props.children || (Array.isArray(props.children) && props.children.length > 0);\n    const newChildrem = !hasChildren\n        ? []\n        : jsx('q:fallback', {\n            children: props.children,\n        });\n    return jsx('q:slot', {\n        name: props.name,\n        children: newChildrem,\n    }, props.name);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xvdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3JlbmRlci9qc3gvc2xvdC5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEdBQUcsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUdwQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLElBQUksR0FHWixDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ2IsTUFBTSxXQUFXLEdBQ2YsS0FBSyxDQUFDLFFBQVEsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2pGLE1BQU0sV0FBVyxHQUFHLENBQUMsV0FBVztRQUM5QixDQUFDLENBQUMsRUFBRTtRQUNKLENBQUMsQ0FBQyxHQUFHLENBQUMsWUFBWSxFQUFFO1lBQ2hCLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtTQUN6QixDQUFDLENBQUM7SUFFUCxPQUFPLEdBQUcsQ0FDUixRQUFRLEVBQ1I7UUFDRSxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7UUFDaEIsUUFBUSxFQUFFLFdBQVc7S0FDdEIsRUFDRCxLQUFLLENBQUMsSUFBSSxDQUNYLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3ggfSBmcm9tICcuL2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBTbG90OiBGdW5jdGlvbkNvbXBvbmVudDx7XG4gIG5hbWU/OiBzdHJpbmc7XG4gIGNoaWxkcmVuPzogYW55O1xufT4gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgaGFzQ2hpbGRyZW4gPVxuICAgIHByb3BzLmNoaWxkcmVuIHx8IChBcnJheS5pc0FycmF5KHByb3BzLmNoaWxkcmVuKSAmJiBwcm9wcy5jaGlsZHJlbi5sZW5ndGggPiAwKTtcbiAgY29uc3QgbmV3Q2hpbGRyZW0gPSAhaGFzQ2hpbGRyZW5cbiAgICA/IFtdXG4gICAgOiBqc3goJ3E6ZmFsbGJhY2snLCB7XG4gICAgICAgIGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlbixcbiAgICAgIH0pO1xuXG4gIHJldHVybiBqc3goXG4gICAgJ3E6c2xvdCcsXG4gICAge1xuICAgICAgbmFtZTogcHJvcHMubmFtZSxcbiAgICAgIGNoaWxkcmVuOiBuZXdDaGlsZHJlbSxcbiAgICB9LFxuICAgIHByb3BzLm5hbWVcbiAgKTtcbn07XG4iXX0=","/**\n * @alpha\n */\nexport const version = globalThis.QWIK_VERSION;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvdmVyc2lvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBSSxVQUFrQixDQUFDLFlBQXNCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IChnbG9iYWxUaGlzIGFzIGFueSkuUVdJS19WRVJTSU9OIGFzIHN0cmluZztcbiJdfQ==","import { isDocument } from '../util/element';\nimport { executeContext, printRenderStats } from './cursor';\nimport { isJSXNode, jsx, processNode } from './jsx/jsx-runtime';\nimport { visitJsxNode } from './render';\nimport { getRenderingState } from './notify-render';\nimport { getDocument } from '../util/dom';\nimport { qDev, qTest } from '../util/qdev';\nimport { version } from '../version';\nimport { QContainerAttr } from '../util/markers';\nimport { logError } from '../util/log';\nimport { isWatchDescriptor, runWatch } from '../watch/watch.public';\nimport { getContext } from '../props/props';\n/**\n * Render JSX.\n *\n * Use this method to render JSX. This function does reconciling which means\n * it always tries to reuse what is already in the DOM (rather then destroy and\n * recrate content.)\n *\n * @param parent - Element which will act as a parent to `jsxNode`. When\n *     possible the rendering will try to reuse existing nodes.\n * @param jsxNode - JSX to render\n * @public\n */\nexport async function render(parent, jsxNode) {\n    // If input is not JSX, convert it\n    if (!isJSXNode(jsxNode)) {\n        jsxNode = jsx(jsxNode, null);\n    }\n    const doc = getDocument(parent);\n    const containerEl = getElement(parent);\n    if (qDev && containerEl.hasAttribute('q:container')) {\n        logError('You can render over a existing q:container. Skipping render().');\n        return;\n    }\n    injectQContainer(containerEl);\n    const ctx = {\n        doc,\n        globalState: getRenderingState(containerEl),\n        hostElements: new Set(),\n        operations: [],\n        roots: [parent],\n        component: undefined,\n        containerEl,\n        perf: {\n            visited: 0,\n            timing: [],\n        },\n    };\n    await visitJsxNode(ctx, parent, processNode(jsxNode), false);\n    executeContext(ctx);\n    if (!qTest) {\n        injectQwikSlotCSS(parent);\n    }\n    if (qDev) {\n        if (typeof window !== 'undefined' && window.document != null) {\n            printRenderStats(ctx);\n        }\n    }\n    const promises = [];\n    ctx.hostElements.forEach((host) => {\n        const elCtx = getContext(host);\n        elCtx.refMap.array.filter(isWatchDescriptor).forEach((watch) => {\n            if (watch.dirty) {\n                promises.push(runWatch(watch));\n            }\n        });\n    });\n    await Promise.all(promises);\n    return ctx;\n}\nexport function injectQwikSlotCSS(docOrElm) {\n    const doc = getDocument(docOrElm);\n    const element = isDocument(docOrElm) ? docOrElm.head : docOrElm;\n    const style = doc.createElement('style');\n    style.setAttribute('id', 'qwik/base-styles');\n    style.textContent = `q\\\\:slot{display:contents}q\\\\:fallback{display:none}q\\\\:fallback:last-child{display:contents}`;\n    element.insertBefore(style, element.firstChild);\n}\nexport function getElement(docOrElm) {\n    return isDocument(docOrElm) ? docOrElm.documentElement : docOrElm;\n}\nexport function injectQContainer(containerEl) {\n    containerEl.setAttribute('q:version', version || '');\n    containerEl.setAttribute(QContainerAttr, 'resumed');\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsic3JjL2NvcmUvcmVuZGVyL3JlbmRlci5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLEVBQWlCLE1BQU0sVUFBVSxDQUFDO0FBQzNFLE9BQU8sRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWhFLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDeEMsT0FBTyxFQUFFLGlCQUFpQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDcEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUMzQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3JDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3ZDLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxRQUFRLEVBQW1CLE1BQU0sdUJBQXVCLENBQUM7QUFDckYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTVDOzs7Ozs7Ozs7OztHQVdHO0FBQ0gsTUFBTSxDQUFDLEtBQUssVUFBVSxNQUFNLENBQzFCLE1BQTBCLEVBQzFCLE9BQWtEO0lBRWxELGtDQUFrQztJQUNsQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sR0FBRyxHQUFHLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzlCO0lBQ0QsTUFBTSxHQUFHLEdBQUcsV0FBVyxD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QUUsQ0FBQyxDQUFDO0lBQ3JELFdBQVcsQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3RELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0RvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9lbGVtZW50JztcbmltcG9ydCB7IGV4ZWN1dGVDb250ZXh0LCBwcmludFJlbmRlclN0YXRzLCBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi9jdXJzb3InO1xuaW1wb3J0IHsgaXNKU1hOb2RlLCBqc3gsIHByb2Nlc3NOb2RlIH0gZnJvbSAnLi9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlLCBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IHZpc2l0SnN4Tm9kZSB9IGZyb20gJy4vcmVuZGVyJztcbmltcG9ydCB7IGdldFJlbmRlcmluZ1N0YXRlIH0gZnJvbSAnLi9ub3RpZnktcmVuZGVyJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgcURldiwgcVRlc3QgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uL3ZlcnNpb24nO1xuaW1wb3J0IHsgUUNvbnRhaW5lckF0dHIgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgbG9nRXJyb3IgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBpc1dhdGNoRGVzY3JpcHRvciwgcnVuV2F0Y2gsIFdhdGNoRGVzY3JpcHRvciB9IGZyb20gJy4uL3dhdGNoL3dhdGNoLnB1YmxpYyc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuXG4vKipcbiAqIFJlbmRlciBKU1guXG4gKlxuICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlbmRlciBKU1guIFRoaXMgZnVuY3Rpb24gZG9lcyByZWNvbmNpbGluZyB3aGljaCBtZWFuc1xuICogaXQgYWx3YXlzIHRyaWVzIHRvIHJldXNlIHdoYXQgaXMgYWxyZWFkeSBpbiB0aGUgRE9NIChyYXRoZXIgdGhlbiBkZXN0cm95IGFuZFxuICogcmVjcmF0ZSBjb250ZW50LilcbiAqXG4gKiBAcGFyYW0gcGFyZW50IC0gRWxlbWVudCB3aGljaCB3aWxsIGFjdCBhcyBhIHBhcmVudCB0byBganN4Tm9kZWAuIFdoZW5cbiAqICAgICBwb3NzaWJsZSB0aGUgcmVuZGVyaW5nIHdpbGwgdHJ5IHRvIHJldXNlIGV4aXN0aW5nIG5vZGVzLlxuICogQHBhcmFtIGpzeE5vZGUgLSBKU1ggdG8gcmVuZGVyXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZW5kZXIoXG4gIHBhcmVudDogRWxlbWVudCB8IERvY3VtZW50LFxuICBqc3hOb2RlOiBKU1hOb2RlPHVua25vd24+IHwgRnVuY3Rpb25Db21wb25lbnQ8YW55PlxuKTogUHJvbWlzZTxSZW5kZXJDb250ZXh0IHwgdW5kZWZpbmVkPiB7XG4gIC8vIElmIGlucHV0IGlzIG5vdCBKU1gsIGNvbnZlcnQgaXRcbiAgaWYgKCFpc0pTWE5vZGUoanN4Tm9kZSkpIHtcbiAgICBqc3hOb2RlID0ganN4KGpzeE5vZGUsIG51bGwpO1xuICB9XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KHBhcmVudCk7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gZ2V0RWxlbWVudChwYXJlbnQpO1xuICBpZiAocURldiAmJiBjb250YWluZXJFbC5oYXNBdHRyaWJ1dGUoJ3E6Y29udGFpbmVyJykpIHtcbiAgICBsb2dFcnJvcignWW91IGNhbiByZW5kZXIgb3ZlciBhIGV4aXN0aW5nIHE6Y29udGFpbmVyLiBTa2lwcGluZyByZW5kZXIoKS4nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgaW5qZWN0UUNvbnRhaW5lcihjb250YWluZXJFbCk7XG5cbiAgY29uc3QgY3R4OiBSZW5kZXJDb250ZXh0ID0ge1xuICAgIGRvYyxcbiAgICBnbG9iYWxTdGF0ZTogZ2V0UmVuZGVyaW5nU3RhdGUoY29udGFpbmVyRWwpLFxuICAgIGhvc3RFbGVtZW50czogbmV3IFNldCgpLFxuICAgIG9wZXJhdGlvbnM6IFtdLFxuICAgIHJvb3RzOiBbcGFyZW50IGFzIEVsZW1lbnRdLFxuICAgIGNvbXBvbmVudDogdW5kZWZpbmVkLFxuICAgIGNvbnRhaW5lckVsLFxuICAgIHBlcmY6IHtcbiAgICAgIHZpc2l0ZWQ6IDAsXG4gICAgICB0aW1pbmc6IFtdLFxuICAgIH0sXG4gIH07XG5cbiAgYXdhaXQgdmlzaXRKc3hOb2RlKGN0eCwgcGFyZW50IGFzIEVsZW1lbnQsIHByb2Nlc3NOb2RlKGpzeE5vZGUpLCBmYWxzZSk7XG5cbiAgZXhlY3V0ZUNvbnRleHQoY3R4KTtcbiAgaWYgKCFxVGVzdCkge1xuICAgIGluamVjdFF3aWtTbG90Q1NTKHBhcmVudCk7XG4gIH1cblxuICBpZiAocURldikge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgIT0gbnVsbCkge1xuICAgICAgcHJpbnRSZW5kZXJTdGF0cyhjdHgpO1xuICAgIH1cbiAgfVxuICBjb25zdCBwcm9taXNlczogUHJvbWlzZTxXYXRjaERlc2NyaXB0b3I+W10gPSBbXTtcbiAgY3R4Lmhvc3RFbGVtZW50cy5mb3JFYWNoKChob3N0KSA9PiB7XG4gICAgY29uc3QgZWxDdHggPSBnZXRDb250ZXh0KGhvc3QpO1xuICAgIGVsQ3R4LnJlZk1hcC5hcnJheS5maWx0ZXIoaXNXYXRjaERlc2NyaXB0b3IpLmZvckVhY2goKHdhdGNoKSA9PiB7XG4gICAgICBpZiAod2F0Y2guZGlydHkpIHtcbiAgICAgICAgcHJvbWlzZXMucHVzaChydW5XYXRjaCh3YXRjaCkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIHJldHVybiBjdHg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RRd2lrU2xvdENTUyhkb2NPckVsbTogRG9jdW1lbnQgfCBFbGVtZW50KSB7XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KGRvY09yRWxtKTtcbiAgY29uc3QgZWxlbWVudCA9IGlzRG9jdW1lbnQoZG9jT3JFbG0pID8gZG9jT3JFbG0uaGVhZCA6IGRvY09yRWxtO1xuICBjb25zdCBzdHlsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3F3aWsvYmFzZS1zdHlsZXMnKTtcbiAgc3R5bGUudGV4dENvbnRlbnQgPSBgcVxcXFw6c2xvdHtkaXNwbGF5OmNvbnRlbnRzfXFcXFxcOmZhbGxiYWNre2Rpc3BsYXk6bm9uZX1xXFxcXDpmYWxsYmFjazpsYXN0LWNoaWxke2Rpc3BsYXk6Y29udGVudHN9YDtcbiAgZWxlbWVudC5pbnNlcnRCZWZvcmUoc3R5bGUsIGVsZW1lbnQuZmlyc3RDaGlsZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50KGRvY09yRWxtOiBEb2N1bWVudCB8IEVsZW1lbnQpOiBFbGVtZW50IHtcbiAgcmV0dXJuIGlzRG9jdW1lbnQoZG9jT3JFbG0pID8gZG9jT3JFbG0uZG9jdW1lbnRFbGVtZW50IDogZG9jT3JFbG07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RRQ29udGFpbmVyKGNvbnRhaW5lckVsOiBFbGVtZW50KSB7XG4gIGNvbnRhaW5lckVsLnNldEF0dHJpYnV0ZSgncTp2ZXJzaW9uJywgdmVyc2lvbiB8fCAnJyk7XG4gIGNvbnRhaW5lckVsLnNldEF0dHJpYnV0ZShRQ29udGFpbmVyQXR0ciwgJ3Jlc3VtZWQnKTtcbn1cbiJdfQ==","import { getInvokeContext } from './use-core';\nexport function useURL() {\n    const url = getInvokeContext().url;\n    if (!url) {\n        // TODO(misko): centralize\n        throw new Error('Q-ERROR: no URL is associated with the execution context');\n    }\n    return url;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXVybC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInNyYy9jb3JlL3VzZS91c2UtdXJsLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFOUMsTUFBTSxVQUFVLE1BQU07SUFDcEIsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQyxHQUFHLENBQUM7SUFDbkMsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNSLDBCQUEwQjtRQUMxQixNQUFNLElBQUksS0FBSyxDQUFDLDBEQUEwRCxDQUFDLENBQUM7S0FDN0U7SUFDRCxPQUFPLEdBQUksQ0FBQztBQUNkLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VVUkwoKTogVVJMIHtcbiAgY29uc3QgdXJsID0gZ2V0SW52b2tlQ29udGV4dCgpLnVybDtcbiAgaWYgKCF1cmwpIHtcbiAgICAvLyBUT0RPKG1pc2tvKTogY2VudHJhbGl6ZVxuICAgIHRocm93IG5ldyBFcnJvcignUS1FUlJPUjogbm8gVVJMIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXhlY3V0aW9uIGNvbnRleHQnKTtcbiAgfVxuICByZXR1cm4gdXJsITtcbn1cbiJdfQ==","import { wrapSubscriber } from './use-subscriber';\nimport { assertDefined } from '../assert/assert';\nimport { parseQRL } from '../import/qrl';\nimport { qInflate } from '../json/q-json';\nimport { getContext, resumeIfNeeded } from '../props/props';\nimport { getContainer, getInvokeContext } from './use-core';\nimport { useURL } from './use-url.public';\n// <docs markdown=\"https://hackmd.io/lQ8v7fyhR-WD3b-2aRUpyw#useLexicalScope\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit https://hackmd.io/@qwik-docs/BkxpSz80Y/%2FlQ8v7fyhR-WD3b-2aRUpyw%3Fboth#useLexicalScope instead)\n/**\n * Used by the Qwik Optimizer to restore the lexical scoped variables.\n *\n * This method should not be present in the application source code.\n *\n * NOTE: `useLexicalScope` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * @public\n */\n// </docs>\nexport function useLexicalScope() {\n    const context = getInvokeContext();\n    const hostElement = context.hostElement;\n    const qrl = (context.qrl ??\n        parseQRL(decodeURIComponent(String(useURL())), hostElement));\n    if (qrl.captureRef == null) {\n        const el = context.element;\n        assertDefined(el);\n        resumeIfNeeded(getContainer(el));\n        const ctx = getContext(el);\n        qrl.captureRef = qrl.capture.map((idx) => qInflate(idx, ctx));\n    }\n    const subscriber = context.subscriber;\n    if (subscriber) {\n        return qrl.captureRef.map((obj) => wrapSubscriber(obj, subscriber));\n    }\n    return qrl.captureRef;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxleGljYWwtc2NvcGUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJzcmMvY29yZS91c2UvdXNlLWxleGljYWwtc2NvcGUucHVibGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDMUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsWUFBWSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQzVELE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUcxQyw2RUFBNkU7QUFDN0UseUNBQXlDO0FBQ3pDLHlHQUF5RztBQUN6Rzs7Ozs7Ozs7O0dBU0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxVQUFVLGVBQWU7SUFDN0IsTUFBTSxPQUFPLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUNuQyxNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDO0lBQ3hDLE1BQU0sR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUc7UUFDdEIsUUFBUSxDQUFDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQWdCLENBQUM7SUFDOUUsSUFBSSxHQUFHLENBQUMsVUFBVSxJQUFJLElBQUksRUFBRTtRQUMxQixNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsT0FBUSxDQUFDO1FBQzVCLGFBQWEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNsQixjQUFjLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBRSxDQUFDLENBQUM7UUFDbEMsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzNCLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxDQUFDLE9BQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztLQUNoRTtJQUNELE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDdEMsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFTLENBQUM7S0FDN0U7SUFDRCxPQUFPLEdBQUcsQ0FBQyxVQUFrQixDQUFDO0FBQ2hDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB3cmFwU3Vic2NyaWJlciB9IGZyb20gJy4vdXNlLXN1YnNjcmliZXInO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgcGFyc2VRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IHFJbmZsYXRlIH0gZnJvbSAnLi4vanNvbi9xLWpzb24nO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCwgcmVzdW1lSWZOZWVkZWQgfSBmcm9tICcuLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBnZXRDb250YWluZXIsIGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZVVSTCB9IGZyb20gJy4vdXNlLXVybC5wdWJsaWMnO1xuaW1wb3J0IHR5cGUgeyBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cImh0dHBzOi8vaGFja21kLmlvL2xROHY3ZnloUi1XRDNiLTJhUlVweXcjdXNlTGV4aWNhbFNjb3BlXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgaHR0cHM6Ly9oYWNrbWQuaW8vQHF3aWstZG9jcy9Ca3hwU3o4MFkvJTJGbFE4djdmeWhSLVdEM2ItMmFSVXB5dyUzRmJvdGgjdXNlTGV4aWNhbFNjb3BlIGluc3RlYWQpXG4vKipcbiAqIFVzZWQgYnkgdGhlIFF3aWsgT3B0aW1pemVyIHRvIHJlc3RvcmUgdGhlIGxleGljYWwgc2NvcGVkIHZhcmlhYmxlcy5cbiAqXG4gKiBUaGlzIG1ldGhvZCBzaG91bGQgbm90IGJlIHByZXNlbnQgaW4gdGhlIGFwcGxpY2F0aW9uIHNvdXJjZSBjb2RlLlxuICpcbiAqIE5PVEU6IGB1c2VMZXhpY2FsU2NvcGVgIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGluIHRoZSBzeW5jaHJvbm91cyBwb3J0aW9uIG9mIHRoZSBjYWxsYmFja1xuICogKGJlZm9yZSBhbnkgYGF3YWl0YCBzdGF0ZW1lbnRzLilcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBmdW5jdGlvbiB1c2VMZXhpY2FsU2NvcGU8VkFSUyBleHRlbmRzIGFueVtdPigpOiBWQVJTIHtcbiAgY29uc3QgY29udGV4dCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBjb250ZXh0Lmhvc3RFbGVtZW50O1xuICBjb25zdCBxcmwgPSAoY29udGV4dC5xcmwgPz9cbiAgICBwYXJzZVFSTChkZWNvZGVVUklDb21wb25lbnQoU3RyaW5nKHVzZVVSTCgpKSksIGhvc3RFbGVtZW50KSkgYXMgUVJMSW50ZXJuYWw7XG4gIGlmIChxcmwuY2FwdHVyZVJlZiA9PSBudWxsKSB7XG4gICAgY29uc3QgZWwgPSBjb250ZXh0LmVsZW1lbnQhO1xuICAgIGFzc2VydERlZmluZWQoZWwpO1xuICAgIHJlc3VtZUlmTmVlZGVkKGdldENvbnRhaW5lcihlbCkhKTtcbiAgICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsKTtcbiAgICBxcmwuY2FwdHVyZVJlZiA9IHFybC5jYXB0dXJlIS5tYXAoKGlkeCkgPT4gcUluZmxhdGUoaWR4LCBjdHgpKTtcbiAgfVxuICBjb25zdCBzdWJzY3JpYmVyID0gY29udGV4dC5zdWJzY3JpYmVyO1xuICBpZiAoc3Vic2NyaWJlcikge1xuICAgIHJldHVybiBxcmwuY2FwdHVyZVJlZi5tYXAoKG9iaikgPT4gd3JhcFN1YnNjcmliZXIob2JqLCBzdWJzY3JpYmVyKSkgYXMgVkFSUztcbiAgfVxuICByZXR1cm4gcXJsLmNhcHR1cmVSZWYgYXMgVkFSUztcbn1cbiJdfQ=="],"names":["isNode"],"mappings":"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AC,YAAY,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,kBAAkB,CAAC,MAAM,EAAE;AAC3C,IAAI,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;AAC7B,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,gBAAgB,GAAG,iBAAiB,CAAC,kBAAkB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,YAAY,CAAC,WAAW,EAAE,OAAO,GAAG,EAAE,EAAE;AACxD,IAAI,MAAM,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,KAAK,CAAC;AAC7C;AACA,IAAI,OAAO,SAAS,gBAAgB,CAAC,KAAK,EAAE,GAAG,EAAE;AACjD,QAAQ,OAAO,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC,YAAY,GAAG,WAAW,EAAE,GAAG,KAAK,EAAE,EAAE,GAAG,CAAC,CAAC;AAC5E,KAAK,CAAC;AACN,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS,UAAU,CAAC,OAAO,EAAE,OAAO,EAAE;AAC7C,IAAI,OAAO,YAAY,CAAC,CAAC,CAAC,OAAO,CAAC,EAA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"}