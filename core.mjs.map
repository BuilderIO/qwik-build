{"version":3,"file":"core.mjs","sources":["../../../dist-dev/tsc-out/packages/qwik/src/core/util/qdev.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/flyweight.js","../../../dist-dev/tsc-out/packages/qwik/src/testing/html.js","../../../dist-dev/tsc-out/packages/qwik/src/core/assert/assert.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/types.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/markers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/dom.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-core.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/element.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/promises.js","../../../dist-dev/tsc-out/packages/qwik/src/core/platform/platform.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/implicit_dollar.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/fast-calls.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-sequential-scope.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-on.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/event.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/jsx-runtime.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/utils.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/case.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/execute-component.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/hash_code.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/qrl-styles.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/operations.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/virtual-element.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/render-dom.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/visitor.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-lexical-scope.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/notify-render.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/container.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/store.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-watch.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-resource.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/serializers.js","../../../dist-dev/tsc-out/packages/qwik/src/core/object/q-object.js","../../../dist-dev/tsc-out/packages/qwik/src/core/props/props.js","../../../dist-dev/tsc-out/packages/qwik/src/core/util/log.js","../../../dist-dev/tsc-out/packages/qwik/src/core/error/error.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl-class.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.js","../../../dist-dev/tsc-out/packages/qwik/src/core/import/qrl.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/component/component.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/factory.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/jsx/slot.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/version.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/dom/render.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/render/ssr/render-ssr.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-store.public.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-ref.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-context.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-env-data.js","../../../dist-dev/tsc-out/packages/qwik/src/core/style/scoped-stylesheet.js","../../../dist-dev/tsc-out/packages/qwik/src/core/use/use-styles.js"],"sourcesContent":["// minification can replace the `globalThis.qDev` with `false`\n// which will remove all dev code within from the build\nexport const qDev = globalThis.qDev === true;\nexport const qSerialize = globalThis.qSerialize !== false;\nexport const qDynamicPlatform = globalThis.qDynamicPlatform !== false;\nexport const qTest = globalThis.qTest === true;\nexport const seal = (obj) => {\n    if (qDev) {\n        Object.seal(obj);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicWRldi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL3FkZXYudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsOERBQThEO0FBQzlELHVEQUF1RDtBQUN2RCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQUksVUFBa0IsQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDO0FBQ3RELE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBSSxVQUFrQixDQUFDLFVBQVUsS0FBSyxLQUFLLENBQUM7QUFDbkUsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUksVUFBa0IsQ0FBQyxnQkFBZ0IsS0FBSyxLQUFLLENBQUM7QUFDL0UsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFJLFVBQWtCLENBQUMsS0FBSyxLQUFLLElBQUksQ0FBQztBQUV4RCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQUcsQ0FBQyxHQUFRLEVBQUUsRUFBRTtJQUMvQixJQUFJLElBQUksRUFBRTtRQUNSLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDbEI7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBtaW5pZmljYXRpb24gY2FuIHJlcGxhY2UgdGhlIGBnbG9iYWxUaGlzLnFEZXZgIHdpdGggYGZhbHNlYFxuLy8gd2hpY2ggd2lsbCByZW1vdmUgYWxsIGRldiBjb2RlIHdpdGhpbiBmcm9tIHRoZSBidWlsZFxuZXhwb3J0IGNvbnN0IHFEZXYgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLnFEZXYgPT09IHRydWU7XG5leHBvcnQgY29uc3QgcVNlcmlhbGl6ZSA9IChnbG9iYWxUaGlzIGFzIGFueSkucVNlcmlhbGl6ZSAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcUR5bmFtaWNQbGF0Zm9ybSA9IChnbG9iYWxUaGlzIGFzIGFueSkucUR5bmFtaWNQbGF0Zm9ybSAhPT0gZmFsc2U7XG5leHBvcnQgY29uc3QgcVRlc3QgPSAoZ2xvYmFsVGhpcyBhcyBhbnkpLnFUZXN0ID09PSB0cnVlO1xuXG5leHBvcnQgY29uc3Qgc2VhbCA9IChvYmo6IGFueSkgPT4ge1xuICBpZiAocURldikge1xuICAgIE9iamVjdC5zZWFsKG9iaik7XG4gIH1cbn07XG4iXX0=","import { qDev } from './qdev';\nexport const EMPTY_ARRAY = [];\nexport const EMPTY_OBJ = {};\nif (qDev) {\n    Object.freeze(EMPTY_ARRAY);\n    Object.freeze(EMPTY_OBJ);\n    Error.stackTraceLimit = 9999;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmx5d2VpZ2h0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZmx5d2VpZ2h0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFFOUIsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEVBQUUsQ0FBQztBQUM5QixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBRTVCLElBQUksSUFBSSxFQUFFO0lBQ1IsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzQixNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3pCLEtBQUssQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO0NBQzlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcURldiB9IGZyb20gJy4vcWRldic7XG5cbmV4cG9ydCBjb25zdCBFTVBUWV9BUlJBWSA9IFtdO1xuZXhwb3J0IGNvbnN0IEVNUFRZX09CSiA9IHt9O1xuXG5pZiAocURldikge1xuICBPYmplY3QuZnJlZXplKEVNUFRZX0FSUkFZKTtcbiAgT2JqZWN0LmZyZWV6ZShFTVBUWV9PQkopO1xuICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSA5OTk5O1xufVxuIl19","export function isTemplate(node) {\n    const tagName = (node && node.tagName) || '';\n    return tagName.toUpperCase() == 'TEMPLATE';\n}\nexport function prettyHtml(element, prefix = '') {\n    const lines = [];\n    lines.push(prefix, '<', element.localName);\n    const attrs = element.attributes;\n    for (let i = 0; i < attrs.length; i++) {\n        const attr = attrs[i];\n        lines.push('\\n', prefix, '    ', attr.name, '=\"', attr.value, '\"');\n    }\n    lines.push('>');\n    let child = isTemplate(element) ? element.content.firstChild : element.firstChild;\n    while (child) {\n        if (isElement(child)) {\n            lines.push('\\n', prettyHtml(child, prefix + '  '));\n        }\n        else {\n            lines.push('\\n', prefix, child.textContent);\n        }\n        child = child.nextSibling;\n    }\n    lines.push('\\n', prefix, '</', element.localName, '>');\n    return lines.join('');\n}\nexport function isElement(value) {\n    return isNode(value) && value.nodeType === 1;\n}\nexport function isNode(value) {\n    return value && typeof value.nodeType === 'number';\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHRtbC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvdGVzdGluZy9odG1sLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sVUFBVSxVQUFVLENBQUMsSUFBNkI7SUFDdEQsTUFBTSxPQUFPLEdBQUcsQ0FBQyxJQUFJLElBQUssSUFBZ0IsQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDMUQsT0FBTyxPQUFPLENBQUMsV0FBVyxFQUFFLElBQUksVUFBVSxDQUFDO0FBQzdDLENBQUM7QUFFRCxNQUFNLFVBQVUsVUFBVSxDQUFDLE9BQW9CLEVBQUUsU0FBaUIsRUFBRTtJQUNsRSxNQUFNLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDakIsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUMzQyxNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDO0lBQ2pDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ3JDLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN0QixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDcEU7SUFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hCLElBQUksS0FBSyxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUM7SUFDbEYsT0FBTyxLQUFLLEVBQUU7UUFDWixJQUFJLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUNwQixLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsS0FBSyxFQUFFLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDO1NBQ3BEO2FBQU07WUFDTCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQzdDO1FBQ0QsS0FBSyxHQUFHLEtBQUssQ0FBQyxXQUFXLENBQUM7S0FDM0I7SUFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxTQUFTLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDdkQsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3hCLENBQUM7QUFFRCxNQUFNLFVBQVUsU0FBUyxDQUFDLEtBQVU7SUFDbEMsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7QUFDL0MsQ0FBQztBQUVELE1BQU0sVUFBVSxNQUFNLENBQUMsS0FBVTtJQUMvQixPQUFPLEtBQUssSUFBSSxPQUFPLEtBQUssQ0FBQyxRQUFRLEtBQUssUUFBUSxDQUFDO0FBQ3JELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNUZW1wbGF0ZShub2RlOiBOb2RlIHwgbnVsbCB8IHVuZGVmaW5lZCk6IG5vZGUgaXMgSFRNTFRlbXBsYXRlRWxlbWVudCB7XG4gIGNvbnN0IHRhZ05hbWUgPSAobm9kZSAmJiAobm9kZSBhcyBFbGVtZW50KS50YWdOYW1lKSB8fCAnJztcbiAgcmV0dXJuIHRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAnVEVNUExBVEUnO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJldHR5SHRtbChlbGVtZW50OiBIVE1MRWxlbWVudCwgcHJlZml4OiBzdHJpbmcgPSAnJyk6IGFueSB7XG4gIGNvbnN0IGxpbmVzID0gW107XG4gIGxpbmVzLnB1c2gocHJlZml4LCAnPCcsIGVsZW1lbnQubG9jYWxOYW1lKTtcbiAgY29uc3QgYXR0cnMgPSBlbGVtZW50LmF0dHJpYnV0ZXM7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBhdHRyID0gYXR0cnNbaV07XG4gICAgbGluZXMucHVzaCgnXFxuJywgcHJlZml4LCAnICAgICcsIGF0dHIubmFtZSwgJz1cIicsIGF0dHIudmFsdWUsICdcIicpO1xuICB9XG4gIGxpbmVzLnB1c2goJz4nKTtcbiAgbGV0IGNoaWxkID0gaXNUZW1wbGF0ZShlbGVtZW50KSA/IGVsZW1lbnQuY29udGVudC5maXJzdENoaWxkIDogZWxlbWVudC5maXJzdENoaWxkO1xuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBpZiAoaXNFbGVtZW50KGNoaWxkKSkge1xuICAgICAgbGluZXMucHVzaCgnXFxuJywgcHJldHR5SHRtbChjaGlsZCwgcHJlZml4ICsgJyAgJykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaW5lcy5wdXNoKCdcXG4nLCBwcmVmaXgsIGNoaWxkLnRleHRDb250ZW50KTtcbiAgICB9XG4gICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgfVxuICBsaW5lcy5wdXNoKCdcXG4nLCBwcmVmaXgsICc8LycsIGVsZW1lbnQubG9jYWxOYW1lLCAnPicpO1xuICByZXR1cm4gbGluZXMuam9pbignJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWU6IGFueSk6IHZhbHVlIGlzIEhUTUxFbGVtZW50IHtcbiAgcmV0dXJuIGlzTm9kZSh2YWx1ZSkgJiYgdmFsdWUubm9kZVR5cGUgPT09IDE7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc05vZGUodmFsdWU6IGFueSk6IHZhbHVlIGlzIE5vZGUge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm5vZGVUeXBlID09PSAnbnVtYmVyJztcbn1cbiJdfQ==","import { logErrorAndStop } from '../util/log';\nimport { qDev } from '../util/qdev';\nexport function assertDefined(value, text, ...parts) {\n    if (qDev) {\n        if (value != null)\n            return;\n        throw logErrorAndStop(text, ...parts);\n    }\n}\nexport function assertEqual(value1, value2, text, ...parts) {\n    if (qDev) {\n        if (value1 === value2)\n            return;\n        throw logErrorAndStop(text, ...parts);\n    }\n}\nexport function assertTrue(value1, text, ...parts) {\n    if (qDev) {\n        if (value1 === true)\n            return;\n        throw logErrorAndStop(text, ...parts);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNzZXJ0LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2Fzc2VydC9hc3NlcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUM5QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sVUFBVSxhQUFhLENBQzNCLEtBQVEsRUFDUixJQUFZLEVBQ1osR0FBRyxLQUFZO0lBRWYsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLEtBQUssSUFBSSxJQUFJO1lBQUUsT0FBTztRQUMxQixNQUFNLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztLQUN2QztBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsV0FBVyxDQUN6QixNQUFXLEVBQ1gsTUFBVyxFQUNYLElBQVksRUFDWixHQUFHLEtBQVk7SUFFZixJQUFJLElBQUksRUFBRTtRQUNSLElBQUksTUFBTSxLQUFLLE1BQU07WUFBRSxPQUFPO1FBQzlCLE1BQU0sZUFBZSxDQUFDLElBQUksRUFBRSxHQUFHLEtBQUssQ0FBQyxDQUFDO0tBQ3ZDO0FBQ0gsQ0FBQztBQUVELE1BQU0sVUFBVSxVQUFVLENBQUMsTUFBVyxFQUFFLElBQVksRUFBRSxHQUFHLEtBQVk7SUFDbkUsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLE1BQU0sS0FBSyxJQUFJO1lBQUUsT0FBTztRQUM1QixNQUFNLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztLQUN2QztBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2dFcnJvckFuZFN0b3AgfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERlZmluZWQ8VD4oXG4gIHZhbHVlOiBULFxuICB0ZXh0OiBzdHJpbmcsXG4gIC4uLnBhcnRzOiBhbnlbXVxuKTogYXNzZXJ0cyB2YWx1ZSBpcyBOb25OdWxsYWJsZTxUPiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHJldHVybjtcbiAgICB0aHJvdyBsb2dFcnJvckFuZFN0b3AodGV4dCwgLi4ucGFydHMpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRFcXVhbChcbiAgdmFsdWUxOiBhbnksXG4gIHZhbHVlMjogYW55LFxuICB0ZXh0OiBzdHJpbmcsXG4gIC4uLnBhcnRzOiBhbnlbXVxuKTogYXNzZXJ0cyB2YWx1ZTEgaXMgdHlwZW9mIHZhbHVlMiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHZhbHVlMSA9PT0gdmFsdWUyKSByZXR1cm47XG4gICAgdGhyb3cgbG9nRXJyb3JBbmRTdG9wKHRleHQsIC4uLnBhcnRzKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VHJ1ZSh2YWx1ZTE6IGFueSwgdGV4dDogc3RyaW5nLCAuLi5wYXJ0czogYW55W10pOiBhc3NlcnRzIHZhbHVlMSBpcyB0cnVlIHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAodmFsdWUxID09PSB0cnVlKSByZXR1cm47XG4gICAgdGhyb3cgbG9nRXJyb3JBbmRTdG9wKHRleHQsIC4uLnBhcnRzKTtcbiAgfVxufVxuIl19","/**\n * @private\n */\nexport const isHtmlElement = (node) => {\n    return node ? node.nodeType === 1 : false;\n};\nexport const isSerializableObject = (v) => {\n    const proto = Object.getPrototypeOf(v);\n    return proto === Object.prototype || proto === null;\n};\nexport const isObject = (v) => {\n    return v && typeof v === 'object';\n};\nexport const isArray = (v) => {\n    return Array.isArray(v);\n};\nexport const isString = (v) => {\n    return typeof v === 'string';\n};\nexport const isFunction = (v) => {\n    return typeof v === 'function';\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHlwZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC90eXBlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUFDLElBQVMsRUFBbUIsRUFBRTtJQUMxRCxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUM1QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxDQUFDLENBQU0sRUFBRSxFQUFFO0lBQzdDLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkMsT0FBTyxLQUFLLEtBQUssTUFBTSxDQUFDLFNBQVMsSUFBSSxLQUFLLEtBQUssSUFBSSxDQUFDO0FBQ3RELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQU0sRUFBWSxFQUFFO0lBQzNDLE9BQU8sQ0FBQyxJQUFJLE9BQU8sQ0FBQyxLQUFLLFFBQVEsQ0FBQztBQUNwQyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxPQUFPLEdBQUcsQ0FBQyxDQUFNLEVBQWMsRUFBRTtJQUM1QyxPQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDMUIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBTSxFQUFlLEVBQUU7SUFDOUMsT0FBTyxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUM7QUFDL0IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBTSxFQUFpQixFQUFFO0lBQ2xELE9BQU8sT0FBTyxDQUFDLEtBQUssVUFBVSxDQUFDO0FBQ2pDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IGlzSHRtbEVsZW1lbnQgPSAobm9kZTogYW55KTogbm9kZSBpcyBFbGVtZW50ID0+IHtcbiAgcmV0dXJuIG5vZGUgPyBub2RlLm5vZGVUeXBlID09PSAxIDogZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTZXJpYWxpemFibGVPYmplY3QgPSAodjogYW55KSA9PiB7XG4gIGNvbnN0IHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHYpO1xuICByZXR1cm4gcHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUgfHwgcHJvdG8gPT09IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgaXNPYmplY3QgPSAodjogYW55KTogdiBpcyBhbnkgPT4ge1xuICByZXR1cm4gdiAmJiB0eXBlb2YgdiA9PT0gJ29iamVjdCc7XG59O1xuXG5leHBvcnQgY29uc3QgaXNBcnJheSA9ICh2OiBhbnkpOiB2IGlzIGFueVtdID0+IHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodik7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTdHJpbmcgPSAodjogYW55KTogdiBpcyBzdHJpbmcgPT4ge1xuICByZXR1cm4gdHlwZW9mIHYgPT09ICdzdHJpbmcnO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzRnVuY3Rpb24gPSAodjogYW55KTogdiBpcyBGdW5jdGlvbiA9PiB7XG4gIHJldHVybiB0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbi8qKlxuICogVHlwZSByZXByZXNlbnRpbmcgYSB2YWx1ZSB3aGljaCBpcyBlaXRoZXIgcmVzb2x2ZSBvciBhIHByb21pc2UuXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFZhbHVlT3JQcm9taXNlPFQ+ID0gVCB8IFByb21pc2U8VD47XG4iXX0=","/**\n * State factory of the component.\n */\nexport const OnRenderProp = 'q:renderFn';\n/**\n * Component style host prefix\n */\nexport const ComponentStylesPrefixHost = '💎';\n/**\n * Component style content prefix\n */\nexport const ComponentStylesPrefixContent = '⭐️';\n/**\n * Prefix used to identify on listeners.\n */\nexport const EventPrefix = 'on:';\n/**\n * Attribute used to mark that an event listener is attached.\n */\nexport const EventAny = 'on:.';\n/**\n * `<some-element q:slot=\"...\">`\n */\nexport const QSlot = 'q:slot';\nexport const QSlotRef = 'q:sref';\nexport const QSlotS = 'q:s';\nexport const QStyle = 'q:style';\nexport const QScopedStyle = 'q:sstyle';\nexport const QCtxAttr = 'q:ctx';\nexport const QContainerAttr = 'q:container';\nexport const QContainerSelector = '[q\\\\:container]';\nexport const RenderEvent = 'qRender';\n/**\n * `<q:slot name=\"...\">`\n */\nexport const QSlotInertName = '\\u0000';\nexport const ELEMENT_ID = 'q:id';\nexport const ELEMENT_ID_SELECTOR = '[q\\\\:id]';\nexport const ELEMENT_ID_PREFIX = '#';\nexport const ELEMENT_ID_Q_PROPS_PREFIX = '&';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFya2Vycy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL21hcmtlcnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDO0FBRXpDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsSUFBSSxDQUFDO0FBRTlDOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sNEJBQTRCLEdBQUcsSUFBSSxDQUFDO0FBRWpEOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQztBQUVqQzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUM7QUFDL0I7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDO0FBQzlCLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxRQUFRLENBQUM7QUFDakMsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQztBQUM1QixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDO0FBQ2hDLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxVQUFVLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQztBQUVoQyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsYUFBYSxDQUFDO0FBRTVDLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLGlCQUFpQixDQUFDO0FBRXBELE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxTQUFTLENBQUM7QUFDckM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsUUFBUSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxNQUFNLENBQUM7QUFDakMsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsVUFBVSxDQUFDO0FBQzlDLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLEdBQUcsQ0FBQztBQUNyQyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxHQUFHLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFN0YXRlIGZhY3Rvcnkgb2YgdGhlIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IE9uUmVuZGVyUHJvcCA9ICdxOnJlbmRlckZuJztcblxuLyoqXG4gKiBDb21wb25lbnQgc3R5bGUgaG9zdCBwcmVmaXhcbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBvbmVudFN0eWxlc1ByZWZpeEhvc3QgPSAn8J+Sjic7XG5cbi8qKlxuICogQ29tcG9uZW50IHN0eWxlIGNvbnRlbnQgcHJlZml4XG4gKi9cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50ID0gJ+KtkO+4jyc7XG5cbi8qKlxuICogUHJlZml4IHVzZWQgdG8gaWRlbnRpZnkgb24gbGlzdGVuZXJzLlxuICovXG5leHBvcnQgY29uc3QgRXZlbnRQcmVmaXggPSAnb246JztcblxuLyoqXG4gKiBBdHRyaWJ1dGUgdXNlZCB0byBtYXJrIHRoYXQgYW4gZXZlbnQgbGlzdGVuZXIgaXMgYXR0YWNoZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBFdmVudEFueSA9ICdvbjouJztcbi8qKlxuICogYDxzb21lLWVsZW1lbnQgcTpzbG90PVwiLi4uXCI+YFxuICovXG5leHBvcnQgY29uc3QgUVNsb3QgPSAncTpzbG90JztcbmV4cG9ydCBjb25zdCBRU2xvdFJlZiA9ICdxOnNyZWYnO1xuZXhwb3J0IGNvbnN0IFFTbG90UyA9ICdxOnMnO1xuZXhwb3J0IGNvbnN0IFFTdHlsZSA9ICdxOnN0eWxlJztcbmV4cG9ydCBjb25zdCBRU2NvcGVkU3R5bGUgPSAncTpzc3R5bGUnO1xuZXhwb3J0IGNvbnN0IFFDdHhBdHRyID0gJ3E6Y3R4JztcblxuZXhwb3J0IGNvbnN0IFFDb250YWluZXJBdHRyID0gJ3E6Y29udGFpbmVyJztcblxuZXhwb3J0IGNvbnN0IFFDb250YWluZXJTZWxlY3RvciA9ICdbcVxcXFw6Y29udGFpbmVyXSc7XG5cbmV4cG9ydCBjb25zdCBSZW5kZXJFdmVudCA9ICdxUmVuZGVyJztcbi8qKlxuICogYDxxOnNsb3QgbmFtZT1cIi4uLlwiPmBcbiAqL1xuZXhwb3J0IGNvbnN0IFFTbG90SW5lcnROYW1lID0gJ1xcdTAwMDAnO1xuXG5leHBvcnQgY29uc3QgRUxFTUVOVF9JRCA9ICdxOmlkJztcbmV4cG9ydCBjb25zdCBFTEVNRU5UX0lEX1NFTEVDVE9SID0gJ1txXFxcXDppZF0nO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSURfUFJFRklYID0gJyMnO1xuZXhwb3J0IGNvbnN0IEVMRU1FTlRfSURfUV9QUk9QU19QUkVGSVggPSAnJic7XG4iXX0=","import { assertDefined } from '../assert/assert';\nexport const getDocument = (node) => {\n    if (typeof document !== 'undefined') {\n        return document;\n    }\n    if (node.nodeType === 9) {\n        return node;\n    }\n    const doc = node.ownerDocument;\n    assertDefined(doc, 'doc must be defined');\n    return doc;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9tLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvZG9tLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUdqRCxNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxJQUE0QixFQUFZLEVBQUU7SUFDcEUsSUFBSSxPQUFPLFFBQVEsS0FBSyxXQUFXLEVBQUU7UUFDbkMsT0FBTyxRQUFRLENBQUM7S0FDakI7SUFDRCxJQUFJLElBQUksQ0FBQyxRQUFRLEtBQUssQ0FBQyxFQUFFO1FBQ3ZCLE9BQU8sSUFBdUIsQ0FBQztLQUNoQztJQUNELE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDL0IsYUFBYSxDQUFDLEdBQUcsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO0lBQzFDLE9BQU8sR0FBSSxDQUFDO0FBQ2QsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcblxuZXhwb3J0IGNvbnN0IGdldERvY3VtZW50ID0gKG5vZGU6IFF3aWtFbGVtZW50IHwgRG9jdW1lbnQpOiBEb2N1bWVudCA9PiB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50O1xuICB9XG4gIGlmIChub2RlLm5vZGVUeXBlID09PSA5KSB7XG4gICAgcmV0dXJuIG5vZGUgYXMgYW55IGFzIERvY3VtZW50O1xuICB9XG4gIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgYXNzZXJ0RGVmaW5lZChkb2MsICdkb2MgbXVzdCBiZSBkZWZpbmVkJyk7XG4gIHJldHVybiBkb2MhO1xufTtcbiJdfQ==","import { isArray } from '../util/types';\nimport { assertDefined } from '../assert/assert';\nimport { QContainerSelector, RenderEvent } from '../util/markers';\nimport { getDocument } from '../util/dom';\nimport { qError, QError_useInvokeContext, QError_useMethodOutsideContext } from '../error/error';\nimport { seal } from '../util/qdev';\nlet _context;\nexport const tryGetInvokeContext = () => {\n    if (!_context) {\n        const context = typeof document !== 'undefined' && document && document.__q_context__;\n        if (!context) {\n            return undefined;\n        }\n        if (isArray(context)) {\n            return (document.__q_context__ = newInvokeContextFromTuple(context));\n        }\n        return context;\n    }\n    return _context;\n};\nexport const getInvokeContext = () => {\n    const ctx = tryGetInvokeContext();\n    if (!ctx) {\n        throw qError(QError_useMethodOutsideContext);\n    }\n    return ctx;\n};\nexport const useInvokeContext = () => {\n    const ctx = getInvokeContext();\n    if (ctx.$event$ !== RenderEvent) {\n        throw qError(QError_useInvokeContext);\n    }\n    assertDefined(ctx.$hostElement$, `invoke: $hostElement$ must be defined`, ctx);\n    assertDefined(ctx.$waitOn$, `invoke: $waitOn$ must be defined`, ctx);\n    assertDefined(ctx.$renderCtx$, `invoke: $renderCtx$ must be defined`, ctx);\n    assertDefined(ctx.$doc$, `invoke: $doc$ must be defined`, ctx);\n    assertDefined(ctx.$subscriber$, `invoke: $subscriber$ must be defined`, ctx);\n    return ctx;\n};\nexport const useBindInvokeContext = (callback) => {\n    if (callback == null) {\n        return callback;\n    }\n    const ctx = getInvokeContext();\n    return ((...args) => {\n        return invoke(ctx, callback.bind(undefined, ...args));\n    });\n};\nexport const invoke = (context, fn, ...args) => {\n    const previousContext = _context;\n    let returnValue;\n    try {\n        _context = context;\n        returnValue = fn.apply(null, args);\n    }\n    finally {\n        _context = previousContext;\n    }\n    return returnValue;\n};\nexport const waitAndRun = (ctx, callback) => {\n    const previousWait = ctx.$waitOn$.slice();\n    ctx.$waitOn$.push(Promise.allSettled(previousWait).then(callback));\n};\nexport const newInvokeContextFromTuple = (context) => {\n    const element = context[0];\n    return newInvokeContext(getDocument(element), undefined, element, context[1], context[2]);\n};\nexport const newInvokeContext = (doc, hostElement, element, event, url) => {\n    const ctx = {\n        $seq$: 0,\n        $doc$: doc,\n        $hostElement$: hostElement,\n        $element$: element,\n        $event$: event,\n        $url$: url,\n        $qrl$: undefined,\n        $props$: undefined,\n        $renderCtx$: undefined,\n        $subscriber$: undefined,\n        $waitOn$: undefined,\n    };\n    seal(ctx);\n    return ctx;\n};\nexport const getWrappingContainer = (el) => {\n    return el.closest(QContainerSelector);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxPQUFPLEVBQWtCLE1BQU0sZUFBZSxDQUFDO0FBRXhELE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUVqRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbEUsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUUxQyxPQUFPLEVBQUUsTUFBTSxFQUFFLHVCQUF1QixFQUFFLDhCQUE4QixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFJakcsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQXVDcEMsSUFBSSxRQUFtQyxDQUFDO0FBRXhDLE1BQU0sQ0FBQyxNQUFNLG1CQUFtQixHQUFHLEdBQThCLEVBQUU7SUFDakUsSUFBSSxDQUFDLFFBQVEsRUFBRTtRQUNiLE1BQU0sT0FBTyxHQUFHLE9BQU8sUUFBUSxLQUFLLFdBQVcsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLGFBQWEsQ0FBQztRQUN0RixJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ1osT0FBTyxTQUFTLENBQUM7U0FDbEI7UUFDRCxJQUFJLE9BQU8sQ0FBQyxPQUFPLENBQUMsRUFBRTtZQUNwQixPQUFPLENBQUMsUUFBUSxDQUFDLGFBQWEsR0FBRyx5QkFBeUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1NBQ3RFO1FBQ0QsT0FBTyxPQUF3QixDQUFDO0tBQ2pDO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsR0FBa0IsRUFBRTtJQUNsRCxNQUFNLEdBQUcsR0FBRyxtQkFBbUIsRUFBRSxDQUFDO0lBQ2xDLElBQUks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akIsTUFBTSxHQUFHLEdBQUc7UUFDVixLQUFLLEVBQUUsQ0FBQztRQUNSLEtBQUssRUFBRSxHQUFHO1FBQ1YsYUFBYSxFQUFFLFdBQVc7UUFDMUIsU0FBUyxFQUFFLE9BQU87UUFDbEIsT0FBTyxFQUFFLEtBQUs7UUFDZCxLQUFLLEVBQUUsR0FBRztRQUNWLEtBQUssRUFBRSxTQUFTO1FBQ2hCLE9BQU8sRUFBRSxTQUFTO1FBQ2xCLFdBQVcsRUFBRSxTQUFTO1FBQ3RCLFlBQVksRUFBRSxTQUFTO1FBQ3ZCLFFBQVEsRUFBRSxTQUFTO0tBQ3BCLENBQUM7SUFDRixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDVixPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLG9CQUFvQixHQUFHLENBQUMsRUFBZSxFQUFrQixFQUFFO0lBQ3RFLE9BQU8sRUFBRSxDQUFDLE9BQU8sQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBQ3hDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXJyYXksIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFByb3BzIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMucHVibGljJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB0eXBlIHsgUXdpa0RvY3VtZW50IH0gZnJvbSAnLi4vZG9jdW1lbnQnO1xuaW1wb3J0IHsgUUNvbnRhaW5lclNlbGVjdG9yLCBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfdXNlSW52b2tlQ29udGV4dCwgUUVycm9yX3VzZU1ldGhvZE91dHNpZGVDb250ZXh0IH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vcmVuZGVyL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgU3Vic2NyaWJlciB9IGZyb20gJy4vdXNlLXdhdGNoJztcbmltcG9ydCB0eXBlIHsgUXdpa0VsZW1lbnQgfSBmcm9tICcuLi9yZW5kZXIvZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5pbXBvcnQgeyBzZWFsIH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcblxuZGVjbGFyZSBjb25zdCBkb2N1bWVudDogUXdpa0RvY3VtZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFN0eWxlQXBwZW5kIHtcbiAgc3R5bGVJZDogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmcgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckludm9rZUNvbnRleHQgZXh0ZW5kcyBJbnZva2VDb250ZXh0IHtcbiAgJHVybCQ6IFVSTDtcbiAgJHNlcSQ6IG51bWJlcjtcbiAgJGRvYyQ6IERvY3VtZW50O1xuICAkaG9zdEVsZW1lbnQkOiBRd2lrRWxlbWVudDtcbiAgJGVsZW1lbnQkOiBFbGVtZW50O1xuICAkZXZlbnQkOiBhbnk7XG4gICRxcmwkOiBRUkw8YW55PjtcbiAgJHdhaXRPbiQ6IFZhbHVlT3JQcm9taXNlPGFueT5bXTtcbiAgJHByb3BzJDogUHJvcHM7XG4gICRzdWJzY3JpYmVyJDogU3Vic2NyaWJlciB8IG51bGw7XG4gICRyZW5kZXJDdHgkOiBSZW5kZXJDb250ZXh0O1xufVxuXG5leHBvcnQgdHlwZSBJbnZva2VUdXBsZSA9IFtFbGVtZW50LCBFdmVudCwgVVJMP107XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW52b2tlQ29udGV4dCB7XG4gICR1cmwkOiBVUkwgfCB1bmRlZmluZWQ7XG4gICRzZXEkOiBudW1iZXI7XG4gICRkb2MkOiBEb2N1bWVudCB8IHVuZGVmaW5lZDtcbiAgJGhvc3RFbGVtZW50JDogUXdpa0VsZW1lbnQgfCB1bmRlZmluZWQ7XG4gICRlbGVtZW50JDogRWxlbWVudCB8IHVuZGVmaW5lZDtcbiAgJGV2ZW50JDogYW55IHwgdW5kZWZpbmVkO1xuICAkcXJsJDogUVJMPGFueT4gfCB1bmRlZmluZWQ7XG4gICR3YWl0T24kOiBWYWx1ZU9yUHJvbWlzZTxhbnk+W10gfCB1bmRlZmluZWQ7XG4gICRwcm9wcyQ6IFByb3BzIHwgdW5kZWZpbmVkO1xuICAkc3Vic2NyaWJlciQ6IFN1YnNjcmliZXIgfCBudWxsIHwgdW5kZWZpbmVkO1xuICAkcmVuZGVyQ3R4JDogUmVuZGVyQ29udGV4dCB8IHVuZGVmaW5lZDtcbn1cblxubGV0IF9jb250ZXh0OiBJbnZva2VDb250ZXh0IHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY29uc3QgdHJ5R2V0SW52b2tlQ29udGV4dCA9ICgpOiBJbnZva2VDb250ZXh0IHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCFfY29udGV4dCkge1xuICAgIGNvbnN0IGNvbnRleHQgPSB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50ICYmIGRvY3VtZW50Ll9fcV9jb250ZXh0X187XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgcmV0dXJuIChkb2N1bWVudC5fX3FfY29udGV4dF9fID0gbmV3SW52b2tlQ29udGV4dEZyb21UdXBsZShjb250ZXh0KSk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0IGFzIEludm9rZUNvbnRleHQ7XG4gIH1cbiAgcmV0dXJuIF9jb250ZXh0O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEludm9rZUNvbnRleHQgPSAoKTogSW52b2tlQ29udGV4dCA9PiB7XG4gIGNvbnN0IGN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKCFjdHgpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3VzZU1ldGhvZE91dHNpZGVDb250ZXh0KTtcbiAgfVxuICByZXR1cm4gY3R4O1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUludm9rZUNvbnRleHQgPSAoKTogUmVuZGVySW52b2tlQ29udGV4dCA9PiB7XG4gIGNvbnN0IGN0eCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgaWYgKGN0eC4kZXZlbnQkICE9PSBSZW5kZXJFdmVudCkge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfdXNlSW52b2tlQ29udGV4dCk7XG4gIH1cbiAgYXNzZXJ0RGVmaW5lZChjdHguJGhvc3RFbGVtZW50JCwgYGludm9rZTogJGhvc3RFbGVtZW50JCBtdXN0IGJlIGRlZmluZWRgLCBjdHgpO1xuICBhc3NlcnREZWZpbmVkKGN0eC4kd2FpdE9uJCwgYGludm9rZTogJHdhaXRPbiQgbXVzdCBiZSBkZWZpbmVkYCwgY3R4KTtcbiAgYXNzZXJ0RGVmaW5lZChjdHguJHJlbmRlckN0eCQsIGBpbnZva2U6ICRyZW5kZXJDdHgkIG11c3QgYmUgZGVmaW5lZGAsIGN0eCk7XG4gIGFzc2VydERlZmluZWQoY3R4LiRkb2MkLCBgaW52b2tlOiAkZG9jJCBtdXN0IGJlIGRlZmluZWRgLCBjdHgpO1xuICBhc3NlcnREZWZpbmVkKGN0eC4kc3Vic2NyaWJlciQsIGBpbnZva2U6ICRzdWJzY3JpYmVyJCBtdXN0IGJlIGRlZmluZWRgLCBjdHgpO1xuXG4gIHJldHVybiBjdHggYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUJpbmRJbnZva2VDb250ZXh0ID0gPFQgZXh0ZW5kcyAoKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkpIHwgdW5kZWZpbmVkPihcbiAgY2FsbGJhY2s6IFRcbik6IFQgPT4ge1xuICBpZiAoY2FsbGJhY2sgPT0gbnVsbCkge1xuICAgIHJldHVybiBjYWxsYmFjaztcbiAgfVxuICBjb25zdCBjdHggPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIHJldHVybiAoKC4uLmFyZ3M6IGFueVtdKSA9PiB7XG4gICAgcmV0dXJuIGludm9rZShjdHgsIGNhbGxiYWNrLmJpbmQodW5kZWZpbmVkLCAuLi5hcmdzKSk7XG4gIH0pIGFzIFQ7XG59O1xuZXhwb3J0IGNvbnN0IGludm9rZSA9IDxBUkdTIGV4dGVuZHMgYW55W10gPSBhbnlbXSwgUkVUID0gYW55PihcbiAgY29udGV4dDogSW52b2tlQ29udGV4dCxcbiAgZm46ICguLi5hcmdzOiBBUkdTKSA9PiBSRVQsXG4gIC4uLmFyZ3M6IEFSR1Ncbik6IFJFVCA9PiB7XG4gIGNvbnN0IHByZXZpb3VzQ29udGV4dCA9IF9jb250ZXh0O1xuICBsZXQgcmV0dXJuVmFsdWU6IFJFVDtcbiAgdHJ5IHtcbiAgICBfY29udGV4dCA9IGNvbnRleHQ7XG4gICAgcmV0dXJuVmFsdWUgPSBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBfY29udGV4dCA9IHByZXZpb3VzQ29udGV4dDtcbiAgfVxuICByZXR1cm4gcmV0dXJuVmFsdWU7XG59O1xuXG5leHBvcnQgY29uc3Qgd2FpdEFuZFJ1biA9IChjdHg6IFJlbmRlckludm9rZUNvbnRleHQsIGNhbGxiYWNrOiAoKSA9PiBhbnkpID0+IHtcbiAgY29uc3QgcHJldmlvdXNXYWl0ID0gY3R4LiR3YWl0T24kLnNsaWNlKCk7XG4gIGN0eC4kd2FpdE9uJC5wdXNoKFByb21pc2UuYWxsU2V0dGxlZChwcmV2aW91c1dhaXQpLnRoZW4oY2FsbGJhY2spKTtcbn07XG5cbmV4cG9ydCBjb25zdCBuZXdJbnZva2VDb250ZXh0RnJvbVR1cGxlID0gKGNvbnRleHQ6IEludm9rZVR1cGxlKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSBjb250ZXh0WzBdO1xuICByZXR1cm4gbmV3SW52b2tlQ29udGV4dChnZXREb2N1bWVudChlbGVtZW50KSwgdW5kZWZpbmVkLCBlbGVtZW50LCBjb250ZXh0WzFdLCBjb250ZXh0WzJdKTtcbn07XG5cbmV4cG9ydCBjb25zdCBuZXdJbnZva2VDb250ZXh0ID0gKFxuICBkb2M/OiBEb2N1bWVudCxcbiAgaG9zdEVsZW1lbnQ/OiBRd2lrRWxlbWVudCxcbiAgZWxlbWVudD86IEVsZW1lbnQsXG4gIGV2ZW50PzogYW55LFxuICB1cmw/OiBVUkxcbik6IEludm9rZUNvbnRleHQgPT4ge1xuICBjb25zdCBjdHggPSB7XG4gICAgJHNlcSQ6IDAsXG4gICAgJGRvYyQ6IGRvYyxcbiAgICAkaG9zdEVsZW1lbnQkOiBob3N0RWxlbWVudCxcbiAgICAkZWxlbWVudCQ6IGVsZW1lbnQsXG4gICAgJGV2ZW50JDogZXZlbnQsXG4gICAgJHVybCQ6IHVybCxcbiAgICAkcXJsJDogdW5kZWZpbmVkLFxuICAgICRwcm9wcyQ6IHVuZGVmaW5lZCxcbiAgICAkcmVuZGVyQ3R4JDogdW5kZWZpbmVkLFxuICAgICRzdWJzY3JpYmVyJDogdW5kZWZpbmVkLFxuICAgICR3YWl0T24kOiB1bmRlZmluZWQsXG4gIH07XG4gIHNlYWwoY3R4KTtcbiAgcmV0dXJuIGN0eDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRXcmFwcGluZ0NvbnRhaW5lciA9IChlbDogUXdpa0VsZW1lbnQpOiBFbGVtZW50IHwgbnVsbCA9PiB7XG4gIHJldHVybiBlbC5jbG9zZXN0KFFDb250YWluZXJTZWxlY3Rvcik7XG59O1xuIl19","import { qDev } from './qdev';\nexport const isNode = (value) => {\n    return value && typeof value.nodeType === 'number';\n};\nexport const isDocument = (value) => {\n    return value && value.nodeType === 9;\n};\nexport const isElement = (value) => {\n    return value.nodeType === 1;\n};\nexport const isQwikElement = (value) => {\n    return isNode(value) && (value.nodeType === 1 || value.nodeType === 111);\n};\nexport const isVirtualElement = (value) => {\n    return value.nodeType === 111;\n};\nexport const isText = (value) => {\n    return value.nodeType === 3;\n};\nexport const isComment = (value) => {\n    return value.nodeType === 9;\n};\nexport function assertQwikElement(el) {\n    if (qDev) {\n        if (!isQwikElement(el)) {\n            throw new Error('Not a Qwik Element');\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudC5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2VsZW1lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUU5QixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFVLEVBQWlCLEVBQUU7SUFDbEQsT0FBTyxLQUFLLElBQUksT0FBTyxLQUFLLENBQUMsUUFBUSxLQUFLLFFBQVEsQ0FBQztBQUNyRCxDQUFDLENBQUM7QUFDRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxLQUFVLEVBQXFCLEVBQUU7SUFDMUQsT0FBTyxLQUFLLElBQUksS0FBSyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBNEIsRUFBb0IsRUFBRTtJQUMxRSxPQUFPLEtBQUssQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDO0FBQzlCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUFDLEtBQVUsRUFBd0IsRUFBRTtJQUNoRSxPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEtBQUssQ0FBQyxJQUFJLEtBQUssQ0FBQyxRQUFRLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDM0UsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxLQUE0QixFQUEyQixFQUFFO0lBQ3hGLE9BQU8sS0FBSyxDQUFDLFFBQVEsS0FBSyxHQUFHLENBQUM7QUFDaEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUMsS0FBVyxFQUFpQixFQUFFO0lBQ25ELE9BQU8sS0FBSyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7QUFDOUIsQ0FBQyxDQUFDO0FBQ0YsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsS0FBVyxFQUFvQixFQUFFO0lBQ3pELE9BQU8sS0FBSyxDQUFDLFFBQVEsS0FBSyxDQUFDLENBQUM7QUFDOUIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxVQUFVLGlCQUFpQixDQUFDLEVBQU87SUFDdkMsSUFBSSxJQUFJLEVBQUU7UUFDUixJQUFJLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3RCLE1BQU0sSUFBSSxLQUFLLENBQUMsb0JBQW9CLENBQUMsQ0FBQztTQUN2QztLQUNGO0FBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUXdpa0VsZW1lbnQsIFZpcnR1YWxFbGVtZW50IH0gZnJvbSAnLi4vcmVuZGVyL2RvbS92aXJ0dWFsLWVsZW1lbnQnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4vcWRldic7XG5cbmV4cG9ydCBjb25zdCBpc05vZGUgPSAodmFsdWU6IGFueSk6IHZhbHVlIGlzIE5vZGUgPT4ge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLm5vZGVUeXBlID09PSAnbnVtYmVyJztcbn07XG5leHBvcnQgY29uc3QgaXNEb2N1bWVudCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgRG9jdW1lbnQgPT4ge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWUubm9kZVR5cGUgPT09IDk7XG59O1xuZXhwb3J0IGNvbnN0IGlzRWxlbWVudCA9ICh2YWx1ZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50KTogdmFsdWUgaXMgRWxlbWVudCA9PiB7XG4gIHJldHVybiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1F3aWtFbGVtZW50ID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBRd2lrRWxlbWVudCA9PiB7XG4gIHJldHVybiBpc05vZGUodmFsdWUpICYmICh2YWx1ZS5ub2RlVHlwZSA9PT0gMSB8fCB2YWx1ZS5ub2RlVHlwZSA9PT0gMTExKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1ZpcnR1YWxFbGVtZW50ID0gKHZhbHVlOiBOb2RlIHwgVmlydHVhbEVsZW1lbnQpOiB2YWx1ZSBpcyBWaXJ0dWFsRWxlbWVudCA9PiB7XG4gIHJldHVybiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTExO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzVGV4dCA9ICh2YWx1ZTogTm9kZSk6IHZhbHVlIGlzIFRleHQgPT4ge1xuICByZXR1cm4gdmFsdWUubm9kZVR5cGUgPT09IDM7XG59O1xuZXhwb3J0IGNvbnN0IGlzQ29tbWVudCA9ICh2YWx1ZTogTm9kZSk6IHZhbHVlIGlzIENvbW1lbnQgPT4ge1xuICByZXR1cm4gdmFsdWUubm9kZVR5cGUgPT09IDk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0UXdpa0VsZW1lbnQoZWw6IGFueSk6IGFzc2VydHMgZWwgaXMgUXdpa0VsZW1lbnQge1xuICBpZiAocURldikge1xuICAgIGlmICghaXNRd2lrRWxlbWVudChlbCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGEgUXdpayBFbGVtZW50Jyk7XG4gICAgfVxuICB9XG59XG4iXX0=","export const isPromise = (value) => {\n    return value instanceof Promise;\n};\nexport const safeCall = (call, thenFn, rejectFn) => {\n    try {\n        const promise = call();\n        if (isPromise(promise)) {\n            return promise.then(thenFn, rejectFn);\n        }\n        else {\n            return thenFn(promise);\n        }\n    }\n    catch (e) {\n        return rejectFn(e);\n    }\n};\nexport const then = (promise, thenFn) => {\n    return isPromise(promise) ? promise.then(thenFn) : thenFn(promise);\n};\nexport const promiseAll = (promises) => {\n    const hasPromise = promises.some(isPromise);\n    if (hasPromise) {\n        return Promise.all(promises);\n    }\n    return promises;\n};\nexport const isNotNullable = (v) => {\n    return v != null;\n};\nexport const delay = (timeout) => {\n    return new Promise((resolve) => {\n        setTimeout(resolve, timeout);\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvbWlzZXMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9wcm9taXNlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FBQyxLQUFVLEVBQXlCLEVBQUU7SUFDN0QsT0FBTyxLQUFLLFlBQVksT0FBTyxDQUFDO0FBQ2xDLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUN0QixJQUE2QixFQUM3QixNQUE4QyxFQUM5QyxRQUE0QixFQUNMLEVBQUU7SUFDekIsSUFBSTtRQUNGLE1BQU0sT0FBTyxHQUFHLElBQUksRUFBRSxDQUFDO1FBQ3ZCLElBQUksU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFO1lBQ3RCLE9BQU8sT0FBTyxDQUFDLElBQUksQ0FBQyxNQUFhLEVBQUUsUUFBUSxDQUFDLENBQUM7U0FDOUM7YUFBTTtZQUNMLE9BQU8sTUFBTSxDQUFDLE9BQWMsQ0FBQyxDQUFDO1NBQy9CO0tBQ0Y7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNWLE9BQU8sUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3BCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFHLENBQ2xCLE9BQTBCLEVBQzFCLE1BQThDLEVBQzNCLEVBQUU7SUFDckIsT0FBTyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsTUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFjLENBQUMsQ0FBQztBQUNuRixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FDeEIsUUFBVyxFQUNrRCxFQUFFO0lBQy9ELE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUMsSUFBSSxVQUFVLEVBQUU7UUFDZCxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDOUI7SUFDRCxPQUFPLFFBQWUsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBSSxDQUFJLEVBQXVCLEVBQUU7SUFDNUQsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDO0FBQ25CLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLE9BQWUsRUFBRSxFQUFFO0lBQ3ZDLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtRQUM3QixVQUFVLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQy9CLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBQcm9taXNlVHJlZTxUPiA9IFQgfCBQcm9taXNlPFQ+IHwgUHJvbWlzZTxUW10+IHwgQXJyYXk8UHJvbWlzZVRyZWU8VD4+O1xuXG5leHBvcnQgY29uc3QgaXNQcm9taXNlID0gKHZhbHVlOiBhbnkpOiB2YWx1ZSBpcyBQcm9taXNlPGFueT4gPT4ge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlO1xufTtcblxuZXhwb3J0IGNvbnN0IHNhZmVDYWxsID0gPFQsIEIsIEM+KFxuICBjYWxsOiAoKSA9PiBWYWx1ZU9yUHJvbWlzZTxUPixcbiAgdGhlbkZuOiAoYXJnOiBBd2FpdGVkPFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxCPixcbiAgcmVqZWN0Rm46IChyZWFzb246IGFueSkgPT4gQ1xuKTogVmFsdWVPclByb21pc2U8QiB8IEM+ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwcm9taXNlID0gY2FsbCgpO1xuICAgIGlmIChpc1Byb21pc2UocHJvbWlzZSkpIHtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4odGhlbkZuIGFzIGFueSwgcmVqZWN0Rm4pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhlbkZuKHByb21pc2UgYXMgYW55KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gcmVqZWN0Rm4oZSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB0aGVuID0gPFQsIEI+KFxuICBwcm9taXNlOiBWYWx1ZU9yUHJvbWlzZTxUPixcbiAgdGhlbkZuOiAoYXJnOiBBd2FpdGVkPFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxCPlxuKTogVmFsdWVPclByb21pc2U8Qj4gPT4ge1xuICByZXR1cm4gaXNQcm9taXNlKHByb21pc2UpID8gcHJvbWlzZS50aGVuKHRoZW5GbiBhcyBhbnkpIDogdGhlbkZuKHByb21pc2UgYXMgYW55KTtcbn07XG5cbmV4cG9ydCBjb25zdCBwcm9taXNlQWxsID0gPFQgZXh0ZW5kcyByZWFkb25seSB1bmtub3duW10gfCBbXT4oXG4gIHByb21pc2VzOiBUXG4pOiBWYWx1ZU9yUHJvbWlzZTx7IC1yZWFkb25seSBbUCBpbiBrZXlvZiBUXTogQXdhaXRlZDxUW1BdPiB9PiA9PiB7XG4gIGNvbnN0IGhhc1Byb21pc2UgPSBwcm9taXNlcy5zb21lKGlzUHJvbWlzZSk7XG4gIGlmIChoYXNQcm9taXNlKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZXMgYXMgYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzTm90TnVsbGFibGUgPSA8VD4odjogVCk6IHYgaXMgTm9uTnVsbGFibGU8VD4gPT4ge1xuICByZXR1cm4gdiAhPSBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKHRpbWVvdXQ6IG51bWJlcikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWVvdXQpO1xuICB9KTtcbn07XG4iXX0=","import { getDocument } from '../util/dom';\nimport { qDynamicPlatform } from '../util/qdev';\nimport { isObject } from '../util/types';\nexport const createPlatform = (doc) => {\n    const moduleCache = new Map();\n    return {\n        isServer: false,\n        importSymbol(containerEl, url, symbolName) {\n            const urlDoc = toUrl(doc, containerEl, url).toString();\n            const urlCopy = new URL(urlDoc);\n            urlCopy.hash = '';\n            urlCopy.search = '';\n            const importURL = urlCopy.href;\n            const mod = moduleCache.get(importURL);\n            if (mod) {\n                return mod[symbolName];\n            }\n            return import(/* @vite-ignore */ importURL).then((mod) => {\n                mod = findModule(mod);\n                moduleCache.set(importURL, mod);\n                return mod[symbolName];\n            });\n        },\n        raf: (fn) => {\n            return new Promise((resolve) => {\n                requestAnimationFrame(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        nextTick: (fn) => {\n            return new Promise((resolve) => {\n                setTimeout(() => {\n                    resolve(fn());\n                });\n            });\n        },\n        chunkForSymbol() {\n            return undefined;\n        },\n    };\n};\nconst findModule = (module) => {\n    return Object.values(module).find(isModule) || module;\n};\nconst isModule = (module) => {\n    return isObject(module) && module[Symbol.toStringTag] === 'Module';\n};\n/**\n * Convert relative base URI and relative URL into a fully qualified URL.\n *\n * @param base -`QRL`s are relative, and therefore they need a base for resolution.\n *    - `Element` use `base.ownerDocument.baseURI`\n *    - `Document` use `base.baseURI`\n *    - `string` use `base` as is\n *    - `QConfig` use `base.baseURI`\n * @param url - relative URL\n * @returns fully qualified URL.\n */\nexport const toUrl = (doc, containerEl, url) => {\n    const baseURI = doc.baseURI;\n    const base = new URL(containerEl.getAttribute('q:base') ?? baseURI, baseURI);\n    return new URL(url, base);\n};\n// <docs markdown=\"./readme.md#setPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#setPlatform instead)\n/**\n * Sets the `CorePlatform`.\n *\n * This is useful to override the platform in tests to change the behavior of,\n * `requestAnimationFrame`, and import resolution.\n *\n * @param doc - The document of the application for which the platform is needed.\n * @param platform - The platform to use.\n * @alpha\n */\n// </docs>\nexport const setPlatform = (doc, plt) => (doc[DocumentPlatform] = plt);\n// <docs markdown=\"./readme.md#getPlatform\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ./readme.md#getPlatform instead)\n/**\n * Retrieve the `CorePlatform`.\n *\n * The `CorePlatform` is also responsible for retrieving the Manifest, that contains mappings\n * from symbols to javascript import chunks. For this reason, `CorePlatform` can't be global, but\n * is specific to the application currently running. On server it is possible that many different\n * applications are running in a single server instance, and for this reason the `CorePlatform`\n * is associated with the application document.\n *\n * @param docOrNode - The document (or node) of the application for which the platform is needed.\n * @alpha\n */\n// </docs>\nexport const getPlatform = (docOrNode) => {\n    const doc = getDocument(docOrNode);\n    return doc[DocumentPlatform] || (doc[DocumentPlatform] = createPlatform(doc));\n};\nexport const isServer = (ctx) => {\n    if (qDynamicPlatform) {\n        return (ctx.$renderCtx$?.$static$.$containerState$.$platform$.isServer ??\n            getPlatform(ctx.$doc$).isServer);\n    }\n    return false;\n};\nconst DocumentPlatform = ':platform:';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGxhdGZvcm0uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcGxhdGZvcm0vcGxhdGZvcm0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUMxQyxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDaEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUd6QyxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxHQUFhLEVBQWdCLEVBQUU7SUFDNUQsTUFBTSxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQXFDLENBQUM7SUFDakUsT0FBTztRQUNMLFFBQVEsRUFBRSxLQUFLO1FBQ2YsWUFBWSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUUsVUFBVTtZQUN2QyxNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsR0FBRyxFQUFFLFdBQVcsRUFBRSxHQUFHLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN2RCxNQUFNLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUNoQyxPQUFPLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNsQixPQUFPLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztZQUNwQixNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO1lBQy9CLE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUM7WUFDdkMsSUFBSSxHQUFHLEVBQUU7Z0JBQ1AsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7YUFDeEI7WUFDRCxPQUFPLE1BQU0sQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRTtnQkFDdkQsR0FBRyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMs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QyxDQUFDLFFBQVEsQ0FDakMsQ0FBQztLQUNIO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNLGdCQUFnQixHQUFHLFlBQVksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUXdpa0VsZW1lbnQgfSBmcm9tICcuLi9yZW5kZXIvZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5pbXBvcnQgdHlwZSB7IEludm9rZUNvbnRleHQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgZ2V0RG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2RvbSc7XG5pbXBvcnQgeyBxRHluYW1pY1BsYXRmb3JtIH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvcmVQbGF0Zm9ybSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUGxhdGZvcm0gPSAoZG9jOiBEb2N1bWVudCk6IENvcmVQbGF0Zm9ybSA9PiB7XG4gIGNvbnN0IG1vZHVsZUNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIHsgW3N5bWJvbDogc3RyaW5nXTogYW55IH0+KCk7XG4gIHJldHVybiB7XG4gICAgaXNTZXJ2ZXI6IGZhbHNlLFxuICAgIGltcG9ydFN5bWJvbChjb250YWluZXJFbCwgdXJsLCBzeW1ib2xOYW1lKSB7XG4gICAgICBjb25zdCB1cmxEb2MgPSB0b1VybChkb2MsIGNvbnRhaW5lckVsLCB1cmwpLnRvU3RyaW5nKCk7XG4gICAgICBjb25zdCB1cmxDb3B5ID0gbmV3IFVSTCh1cmxEb2MpO1xuICAgICAgdXJsQ29weS5oYXNoID0gJyc7XG4gICAgICB1cmxDb3B5LnNlYXJjaCA9ICcnO1xuICAgICAgY29uc3QgaW1wb3J0VVJMID0gdXJsQ29weS5ocmVmO1xuICAgICAgY29uc3QgbW9kID0gbW9kdWxlQ2FjaGUuZ2V0KGltcG9ydFVSTCk7XG4gICAgICBpZiAobW9kKSB7XG4gICAgICAgIHJldHVybiBtb2Rbc3ltYm9sTmFtZV07XG4gICAgICB9XG4gICAgICByZXR1cm4gaW1wb3J0KC8qIEB2aXRlLWlnbm9yZSAqLyBpbXBvcnRVUkwpLnRoZW4oKG1vZCkgPT4ge1xuICAgICAgICBtb2QgPSBmaW5kTW9kdWxlKG1vZCk7XG4gICAgICAgIG1vZHVsZUNhY2hlLnNldChpbXBvcnRVUkwsIG1vZCk7XG4gICAgICAgIHJldHVybiBtb2Rbc3ltYm9sTmFtZV07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIHJhZjogKGZuKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGZuKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgbmV4dFRpY2s6IChmbikgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZm4oKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaHVua0ZvclN5bWJvbCgpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSxcbiAgfTtcbn07XG5cbmNvbnN0IGZpbmRNb2R1bGUgPSAobW9kdWxlOiBhbnkpID0+IHtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMobW9kdWxlKS5maW5kKGlzTW9kdWxlKSB8fCBtb2R1bGU7XG59O1xuXG5jb25zdCBpc01vZHVsZSA9IChtb2R1bGU6IGFueSkgPT4ge1xuICByZXR1cm4gaXNPYmplY3QobW9kdWxlKSAmJiBtb2R1bGVbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ01vZHVsZSc7XG59O1xuXG4vKipcbiAqIENvbnZlcnQgcmVsYXRpdmUgYmFzZSBVUkkgYW5kIHJlbGF0aXZlIFVSTCBpbnRvIGEgZnVsbHkgcXVhbGlmaWVkIFVSTC5cbiAqXG4gKiBAcGFyYW0gYmFzZSAtYFFSTGBzIGFyZSByZWxhdGl2ZSwgYW5kIHRoZXJlZm9yZSB0aGV5IG5lZWQgYSBiYXNlIGZvciByZXNvbHV0aW9uLlxuICogICAgLSBgRWxlbWVudGAgdXNlIGBiYXNlLm93bmVyRG9jdW1lbnQuYmFzZVVSSWBcbiAqICAgIC0gYERvY3VtZW50YCB1c2UgYGJhc2UuYmFzZVVSSWBcbiAqICAgIC0gYHN0cmluZ2AgdXNlIGBiYXNlYCBhcyBpc1xuICogICAgLSBgUUNvbmZpZ2AgdXNlIGBiYXNlLmJhc2VVUklgXG4gKiBAcGFyYW0gdXJsIC0gcmVsYXRpdmUgVVJMXG4gKiBAcmV0dXJucyBmdWxseSBxdWFsaWZpZWQgVVJMLlxuICovXG5leHBvcnQgY29uc3QgdG9VcmwgPSAoZG9jOiBEb2N1bWVudCwgY29udGFpbmVyRWw6IFF3aWtFbGVtZW50LCB1cmw6IHN0cmluZyB8IFVSTCk6IFVSTCA9PiB7XG4gIGNvbnN0IGJhc2VVUkkgPSBkb2MuYmFzZVVSSTtcbiAgY29uc3QgYmFzZSA9IG5ldyBVUkwoY29udGFpbmVyRWwuZ2V0QXR0cmlidXRlKCdxOmJhc2UnKSA/PyBiYXNlVVJJLCBiYXNlVVJJKTtcbiAgcmV0dXJuIG5ldyBVUkwodXJsLCBiYXNlKTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi9yZWFkbWUubWQjc2V0UGxhdGZvcm1cIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuL3JlYWRtZS5tZCNzZXRQbGF0Zm9ybSBpbnN0ZWFkKVxuLyoqXG4gKiBTZXRzIHRoZSBgQ29yZVBsYXRmb3JtYC5cbiAqXG4gKiBUaGlzIGlzIHVzZWZ1bCB0byBvdmVycmlkZSB0aGUgcGxhdGZvcm0gaW4gdGVzdHMgdG8gY2hhbmdlIHRoZSBiZWhhdmlvciBvZixcbiAqIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgLCBhbmQgaW1wb3J0IHJlc29sdXRpb24uXG4gKlxuICogQHBhcmFtIGRvYyAtIFRoZSBkb2N1bWVudCBvZiB0aGUgYXBwbGljYXRpb24gZm9yIHdoaWNoIHRoZSBwbGF0Zm9ybSBpcyBuZWVkZWQuXG4gKiBAcGFyYW0gcGxhdGZvcm0gLSBUaGUgcGxhdGZvcm0gdG8gdXNlLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBzZXRQbGF0Zm9ybSA9IChkb2M6IERvY3VtZW50LCBwbHQ6IENvcmVQbGF0Zm9ybSkgPT5cbiAgKChkb2MgYXMgUGxhdGZvcm1Eb2N1bWVudClbRG9jdW1lbnRQbGF0Zm9ybV0gPSBwbHQpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4vcmVhZG1lLm1kI2dldFBsYXRmb3JtXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi9yZWFkbWUubWQjZ2V0UGxhdGZvcm0gaW5zdGVhZClcbi8qKlxuICogUmV0cmlldmUgdGhlIGBDb3JlUGxhdGZvcm1gLlxuICpcbiAqIFRoZSBgQ29yZVBsYXRmb3JtYCBpcyBhbHNvIHJlc3BvbnNpYmxlIGZvciByZXRyaWV2aW5nIHRoZSBNYW5pZmVzdCwgdGhhdCBjb250YWlucyBtYXBwaW5nc1xuICogZnJvbSBzeW1ib2xzIHRvIGphdmFzY3JpcHQgaW1wb3J0IGNodW5rcy4gRm9yIHRoaXMgcmVhc29uLCBgQ29yZVBsYXRmb3JtYCBjYW4ndCBiZSBnbG9iYWwsIGJ1dFxuICogaXMgc3BlY2lmaWMgdG8gdGhlIGFwcGxpY2F0aW9uIGN1cnJlbnRseSBydW5uaW5nLiBPbiBzZXJ2ZXIgaXQgaXMgcG9zc2libGUgdGhhdCBtYW55IGRpZmZlcmVudFxuICogYXBwbGljYXRpb25zIGFyZSBydW5uaW5nIGluIGEgc2luZ2xlIHNlcnZlciBpbnN0YW5jZSwgYW5kIGZvciB0aGlzIHJlYXNvbiB0aGUgYENvcmVQbGF0Zm9ybWBcbiAqIGlzIGFzc29jaWF0ZWQgd2l0aCB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIGRvY09yTm9kZSAtIFRoZSBkb2N1bWVudCAob3Igbm9kZSkgb2YgdGhlIGFwcGxpY2F0aW9uIGZvciB3aGljaCB0aGUgcGxhdGZvcm0gaXMgbmVlZGVkLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBnZXRQbGF0Zm9ybSA9IChkb2NPck5vZGU6IERvY3VtZW50IHwgUXdpa0VsZW1lbnQpID0+IHtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZG9jT3JOb2RlKSBhcyBQbGF0Zm9ybURvY3VtZW50O1xuICByZXR1cm4gZG9jW0RvY3VtZW50UGxhdGZvcm1dIHx8IChkb2NbRG9jdW1lbnRQbGF0Zm9ybV0gPSBjcmVhdGVQbGF0Zm9ybShkb2MpKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NlcnZlciA9IChjdHg6IEludm9rZUNvbnRleHQpID0+IHtcbiAgaWYgKHFEeW5hbWljUGxhdGZvcm0pIHtcbiAgICByZXR1cm4gKFxuICAgICAgY3R4LiRyZW5kZXJDdHgkPy4kc3RhdGljJC4kY29udGFpbmVyU3RhdGUkLiRwbGF0Zm9ybSQuaXNTZXJ2ZXIgPz9cbiAgICAgIGdldFBsYXRmb3JtKGN0eC4kZG9jJCEpLmlzU2VydmVyXG4gICAgKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5jb25zdCBEb2N1bWVudFBsYXRmb3JtID0gJzpwbGF0Zm9ybTonO1xuXG5pbnRlcmZhY2UgUGxhdGZvcm1Eb2N1bWVudCBleHRlbmRzIERvY3VtZW50IHtcbiAgW0RvY3VtZW50UGxhdGZvcm1dPzogQ29yZVBsYXRmb3JtO1xufVxuIl19","import { $ } from '../import/qrl.public';\n// <docs markdown=\"../readme.md#implicit$FirstArg\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#implicit$FirstArg instead)\n/**\n * Create a `____$(...)` convenience method from `___(...)`.\n *\n * It is very common for functions to take a lazy-loadable resource as a first argument. For this\n * reason, the Qwik Optimizer automatically extracts the first argument from any function which\n * ends in `$`.\n *\n * This means that `foo$(arg0)` and `foo($(arg0))` are equivalent with respect to Qwik Optimizer.\n * The former is just a shorthand for the latter.\n *\n * For example, these function calls are equivalent:\n *\n * - `component$(() => {...})` is same as `onRender($(() => {...}))`\n *\n * ```tsx\n * export function myApi(callback: QRL<() => void>): void {\n *   // ...\n * }\n *\n * export const myApi$ = implicit$FirstArg(myApi);\n * // type of myApi$: (callback: () => void): void\n *\n * // can be used as:\n * myApi$(() => console.log('callback'));\n *\n * // will be transpiled to:\n * // FILE: <current file>\n * myApi(qrl('./chunk-abc.js', 'callback'));\n *\n * // FILE: chunk-abc.js\n * export const callback = () => console.log('callback');\n * ```\n *\n * @param fn - a function that should have its first argument automatically `$`.\n * @alpha\n */\n// </docs>\nexport const implicit$FirstArg = (fn) => {\n    return function (first, ...rest) {\n        return fn.call(null, $(first), ...rest);\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW1wbGljaXRfZG9sbGFyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvaW1wbGljaXRfZG9sbGFyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxDQUFDLEVBQU8sTUFBTSxzQkFBc0IsQ0FBQztBQUU5QyxtREFBbUQ7QUFDbkQseUNBQXlDO0FBQ3pDLGdEQUFnRDtBQUNoRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtQ0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FDL0IsRUFBNkMsRUFDTCxFQUFFO0lBQzFDLE9BQU8sVUFBVSxLQUFZLEVBQUUsR0FBRyxJQUFVO1FBQzFDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDMUMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgJCwgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZ1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNpbXBsaWNpdCRGaXJzdEFyZyBpbnN0ZWFkKVxuLyoqXG4gKiBDcmVhdGUgYSBgX19fXyQoLi4uKWAgY29udmVuaWVuY2UgbWV0aG9kIGZyb20gYF9fXyguLi4pYC5cbiAqXG4gKiBJdCBpcyB2ZXJ5IGNvbW1vbiBmb3IgZnVuY3Rpb25zIHRvIHRha2UgYSBsYXp5LWxvYWRhYmxlIHJlc291cmNlIGFzIGEgZmlyc3QgYXJndW1lbnQuIEZvciB0aGlzXG4gKiByZWFzb24sIHRoZSBRd2lrIE9wdGltaXplciBhdXRvbWF0aWNhbGx5IGV4dHJhY3RzIHRoZSBmaXJzdCBhcmd1bWVudCBmcm9tIGFueSBmdW5jdGlvbiB3aGljaFxuICogZW5kcyBpbiBgJGAuXG4gKlxuICogVGhpcyBtZWFucyB0aGF0IGBmb28kKGFyZzApYCBhbmQgYGZvbygkKGFyZzApKWAgYXJlIGVxdWl2YWxlbnQgd2l0aCByZXNwZWN0IHRvIFF3aWsgT3B0aW1pemVyLlxuICogVGhlIGZvcm1lciBpcyBqdXN0IGEgc2hvcnRoYW5kIGZvciB0aGUgbGF0dGVyLlxuICpcbiAqIEZvciBleGFtcGxlLCB0aGVzZSBmdW5jdGlvbiBjYWxscyBhcmUgZXF1aXZhbGVudDpcbiAqXG4gKiAtIGBjb21wb25lbnQkKCgpID0+IHsuLi59KWAgaXMgc2FtZSBhcyBgb25SZW5kZXIoJCgoKSA9PiB7Li4ufSkpYFxuICpcbiAqIGBgYHRzeFxuICogZXhwb3J0IGZ1bmN0aW9uIG15QXBpKGNhbGxiYWNrOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkIHtcbiAqICAgLy8gLi4uXG4gKiB9XG4gKlxuICogZXhwb3J0IGNvbnN0IG15QXBpJCA9IGltcGxpY2l0JEZpcnN0QXJnKG15QXBpKTtcbiAqIC8vIHR5cGUgb2YgbXlBcGkkOiAoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkXG4gKlxuICogLy8gY2FuIGJlIHVzZWQgYXM6XG4gKiBteUFwaSQoKCkgPT4gY29uc29sZS5sb2coJ2NhbGxiYWNrJykpO1xuICpcbiAqIC8vIHdpbGwgYmUgdHJhbnNwaWxlZCB0bzpcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiBteUFwaShxcmwoJy4vY2h1bmstYWJjLmpzJywgJ2NhbGxiYWNrJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IGNhbGxiYWNrID0gKCkgPT4gY29uc29sZS5sb2coJ2NhbGxiYWNrJyk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZm4gLSBhIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGhhdmUgaXRzIGZpcnN0IGFyZ3VtZW50IGF1dG9tYXRpY2FsbHkgYCRgLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBpbXBsaWNpdCRGaXJzdEFyZyA9IDxGSVJTVCwgUkVTVCBleHRlbmRzIGFueVtdLCBSRVQ+KFxuICBmbjogKGZpcnN0OiBRUkw8RklSU1Q+LCAuLi5yZXN0OiBSRVNUKSA9PiBSRVRcbik6ICgoZmlyc3Q6IEZJUlNULCAuLi5yZXN0OiBSRVNUKSA9PiBSRVQpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChmaXJzdDogRklSU1QsIC4uLnJlc3Q6IFJFU1QpOiBSRVQge1xuICAgIHJldHVybiBmbi5jYWxsKG51bGwsICQoZmlyc3QpLCAuLi5yZXN0KTtcbiAgfTtcbn07XG4iXX0=","export const directSetAttribute = (el, prop, value) => {\n    return el.setAttribute(prop, value);\n};\nexport const directGetAttribute = (el, prop) => {\n    return el.getAttribute(prop);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFzdC1jYWxscy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZmFzdC1jYWxscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEVBQWUsRUFBRSxJQUFZLEVBQUUsS0FBYSxFQUFFLEVBQUU7SUFDakYsT0FBTyxFQUFFLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUN0QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLEVBQWUsRUFBRSxJQUFZLEVBQUUsRUFBRTtJQUNsRSxPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDL0IsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4vZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5cbmV4cG9ydCBjb25zdCBkaXJlY3RTZXRBdHRyaWJ1dGUgPSAoZWw6IFF3aWtFbGVtZW50LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIGVsLnNldEF0dHJpYnV0ZShwcm9wLCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZGlyZWN0R2V0QXR0cmlidXRlID0gKGVsOiBRd2lrRWxlbWVudCwgcHJvcDogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUocHJvcCk7XG59O1xuIl19","import { parseQRL } from '../import/qrl';\nimport { isQrl } from '../import/qrl-class';\nimport { inflateQrl, normalizeOnProp } from './props';\nimport { $ } from '../import/qrl.public';\nimport { QScopedStyle } from '../util/markers';\nimport { directGetAttribute } from '../render/fast-calls';\nimport { isArray } from '../util/types';\nimport { assertTrue } from '../assert/assert';\nconst ON_PROP_REGEX = /^(on|window:|document:)/;\nexport const isOnProp = (prop) => {\n    return ON_PROP_REGEX.test(prop);\n};\nexport const addQRLListener = (listenersMap, prop, input) => {\n    let existingListeners = listenersMap[prop];\n    if (!existingListeners) {\n        listenersMap[prop] = existingListeners = [];\n    }\n    for (const qrl of input) {\n        const hash = qrl.$hash$;\n        let replaced = false;\n        for (let i = 0; i < existingListeners.length; i++) {\n            const existing = existingListeners[i];\n            if (existing.$hash$ === hash) {\n                existingListeners.splice(i, 1, qrl);\n                replaced = true;\n                break;\n            }\n        }\n        if (!replaced) {\n            existingListeners.push(qrl);\n        }\n    }\n    return false;\n};\nexport const setEvent = (listenerMap, prop, input) => {\n    assertTrue(prop.endsWith('$'), 'render: event property does not end with $', prop);\n    const qrls = isArray(input) ? input.map(ensureQrl) : [ensureQrl(input)];\n    prop = normalizeOnProp(prop.slice(0, -1));\n    addQRLListener(listenerMap, prop, qrls);\n    return prop;\n};\nconst ensureQrl = (value) => {\n    return isQrl(value) ? value : $(value);\n};\nexport const getDomListeners = (ctx, containerEl) => {\n    const attributes = ctx.$element$.attributes;\n    const listeners = {};\n    for (let i = 0; i < attributes.length; i++) {\n        const { name, value } = attributes.item(i);\n        if (name.startsWith('on:') ||\n            name.startsWith('on-window:') ||\n            name.startsWith('on-document:')) {\n            let array = listeners[name];\n            if (!array) {\n                listeners[name] = array = [];\n            }\n            const urls = value.split('\\n');\n            for (const url of urls) {\n                const qrl = parseQRL(url, containerEl);\n                if (qrl.$capture$) {\n                    inflateQrl(qrl, ctx);\n                }\n                array.push(qrl);\n            }\n        }\n    }\n    return listeners;\n};\nexport const getScopeIds = (el) => {\n    const scoped = directGetAttribute(el, QScopedStyle);\n    if (scoped) {\n        return scoped.split(' ');\n    }\n    return [];\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMtb24uanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMtb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN6QyxPQUFPLEVBQUUsS0FBSyxFQUFlLE1BQU0scUJBQXFCLENBQUM7QUFDekQsT0FBTyxFQUFFLFVBQVUsRUFBRSxlQUFlLEVBQVksTUFBTSxTQUFTLENBQUM7QUFDaEUsT0FBTyxFQUFFLENBQUMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUU5QyxNQUFNLGFBQWEsR0FBRyx5QkFBeUIsQ0FBQztBQUVoRCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxJQUFZLEVBQVcsRUFBRTtJQUNoRCxPQUFPLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUFHLENBQzVCLFlBQWdELEVBQ2hELElBQVksRUFDWixLQUFvQixFQUNYLEVBQUU7SUFDWCxJQUFJLGlCQUFpQixHQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMzQyxJQUFJLENBQUMsaUJBQWlCLEVBQUU7UUFDdEIsWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLGlCQUFpQixHQUFHLEVBQUUsQ0FBQztLQUM3QztJQUNELEtBQUssTUFBTSxHQUFHLElBQUksS0FBSyxFQUFFO1FBQ3ZCLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxN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LENBQUMsQ0FBQztpQkFDdEI7Z0JBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUNqQjtTQUNGO0tBQ0Y7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxXQUFXLEdBQUcsQ0FBQyxFQUFXLEVBQVksRUFBRTtJQUNuRCxNQUFNLE1BQU0sR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDcEQsSUFBSSxNQUFNLEVBQUU7UUFDVixPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDMUI7SUFDRCxPQUFPLEVBQUUsQ0FBQztBQUNaLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBhcnNlUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybCc7XG5pbXBvcnQgeyBpc1FybCwgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IGluZmxhdGVRcmwsIG5vcm1hbGl6ZU9uUHJvcCwgUUNvbnRleHQgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7ICQgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBRU2NvcGVkU3R5bGUgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgZGlyZWN0R2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vcmVuZGVyL2Zhc3QtY2FsbHMnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuXG5jb25zdCBPTl9QUk9QX1JFR0VYID0gL14ob258d2luZG93Onxkb2N1bWVudDopLztcblxuZXhwb3J0IGNvbnN0IGlzT25Qcm9wID0gKHByb3A6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gT05fUFJPUF9SRUdFWC50ZXN0KHByb3ApO1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFFSTExpc3RlbmVyID0gKFxuICBsaXN0ZW5lcnNNYXA6IFJlY29yZDxzdHJpbmcsIFFSTEludGVybmFsPGFueT5bXT4sXG4gIHByb3A6IHN0cmluZyxcbiAgaW5wdXQ6IFFSTEludGVybmFsW11cbik6IGJvb2xlYW4gPT4ge1xuICBsZXQgZXhpc3RpbmdMaXN0ZW5lcnMgPSBsaXN0ZW5lcnNNYXBbcHJvcF07XG4gIGlmICghZXhpc3RpbmdMaXN0ZW5lcnMpIHtcbiAgICBsaXN0ZW5lcnNNYXBbcHJvcF0gPSBleGlzdGluZ0xpc3RlbmVycyA9IFtdO1xuICB9XG4gIGZvciAoY29uc3QgcXJsIG9mIGlucHV0KSB7XG4gICAgY29uc3QgaGFzaCA9IHFybC4kaGFzaCQ7XG4gICAgbGV0IHJlcGxhY2VkID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBleGlzdGluZ0xpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgZXhpc3RpbmcgPSBleGlzdGluZ0xpc3RlbmVyc1tpXTtcbiAgICAgIGlmIChleGlzdGluZy4kaGFzaCQgPT09IGhhc2gpIHtcbiAgICAgICAgZXhpc3RpbmdMaXN0ZW5lcnMuc3BsaWNlKGksIDEsIHFybCk7XG4gICAgICAgIHJlcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcmVwbGFjZWQpIHtcbiAgICAgIGV4aXN0aW5nTGlzdGVuZXJzLnB1c2gocXJsKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldEV2ZW50ID0gKGxpc3RlbmVyTWFwOiBSZWNvcmQ8c3RyaW5nLCBRUkxJbnRlcm5hbFtdPiwgcHJvcDogc3RyaW5nLCBpbnB1dDogYW55KSA9PiB7XG4gIGFzc2VydFRydWUocHJvcC5lbmRzV2l0aCgnJCcpLCAncmVuZGVyOiBldmVudCBwcm9wZXJ0eSBkb2VzIG5vdCBlbmQgd2l0aCAkJywgcHJvcCk7XG4gIGNvbnN0IHFybHMgPSBpc0FycmF5KGlucHV0KSA/IGlucHV0Lm1hcChlbnN1cmVRcmwpIDogW2Vuc3VyZVFybChpbnB1dCldO1xuICBwcm9wID0gbm9ybWFsaXplT25Qcm9wKHByb3Auc2xpY2UoMCwgLTEpKTtcbiAgYWRkUVJMTGlzdGVuZXIobGlzdGVuZXJNYXAsIHByb3AsIHFybHMpO1xuICByZXR1cm4gcHJvcDtcbn07XG5cbmNvbnN0IGVuc3VyZVFybCA9ICh2YWx1ZTogYW55KSA9PiB7XG4gIHJldHVybiBpc1FybCh2YWx1ZSkgPyB2YWx1ZSA6ICgkKHZhbHVlKSBhcyBRUkxJbnRlcm5hbCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RG9tTGlzdGVuZXJzID0gKFxuICBjdHg6IFFDb250ZXh0LFxuICBjb250YWluZXJFbDogRWxlbWVudFxuKTogUmVjb3JkPHN0cmluZywgUVJMSW50ZXJuYWxbXT4gPT4ge1xuICBjb25zdCBhdHRyaWJ1dGVzID0gKGN0eC4kZWxlbWVudCQgYXMgRWxlbWVudCkuYXR0cmlidXRlcztcbiAgY29uc3QgbGlzdGVuZXJzOiBSZWNvcmQ8c3RyaW5nLCBRUkxJbnRlcm5hbFtdPiA9IHt9O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7IG5hbWUsIHZhbHVlIH0gPSBhdHRyaWJ1dGVzLml0ZW0oaSkhO1xuICAgIGlmIChcbiAgICAgIG5hbWUuc3RhcnRzV2l0aCgnb246JykgfHxcbiAgICAgIG5hbWUuc3RhcnRzV2l0aCgnb24td2luZG93OicpIHx8XG4gICAgICBuYW1lLnN0YXJ0c1dpdGgoJ29uLWRvY3VtZW50OicpXG4gICAgKSB7XG4gICAgICBsZXQgYXJyYXkgPSBsaXN0ZW5lcnNbbmFtZV07XG4gICAgICBpZiAoIWFycmF5KSB7XG4gICAgICAgIGxpc3RlbmVyc1tuYW1lXSA9IGFycmF5ID0gW107XG4gICAgICB9XG4gICAgICBjb25zdCB1cmxzID0gdmFsdWUuc3BsaXQoJ1xcbicpO1xuICAgICAgZm9yIChjb25zdCB1cmwgb2YgdXJscykge1xuICAgICAgICBjb25zdCBxcmwgPSBwYXJzZVFSTCh1cmwsIGNvbnRhaW5lckVsKTtcbiAgICAgICAgaWYgKHFybC4kY2FwdHVyZSQpIHtcbiAgICAgICAgICBpbmZsYXRlUXJsKHFybCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBhcnJheS5wdXNoKHFybCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBsaXN0ZW5lcnM7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2NvcGVJZHMgPSAoZWw6IEVsZW1lbnQpOiBzdHJpbmdbXSA9PiB7XG4gIGNvbnN0IHNjb3BlZCA9IGRpcmVjdEdldEF0dHJpYnV0ZShlbCwgUVNjb3BlZFN0eWxlKTtcbiAgaWYgKHNjb3BlZCkge1xuICAgIHJldHVybiBzY29wZWQuc3BsaXQoJyAnKTtcbiAgfVxuICByZXR1cm4gW107XG59O1xuIl19","import { verifySerializable } from '../object/q-object';\nimport { getContext } from '../props/props';\nimport { qDev } from '../util/qdev';\nimport { useInvokeContext } from './use-core';\nexport const useSequentialScope = () => {\n    const ctx = useInvokeContext();\n    const i = ctx.$seq$;\n    const hostElement = ctx.$hostElement$;\n    const elCtx = getContext(hostElement);\n    const seq = elCtx.$seq$ ? elCtx.$seq$ : (elCtx.$seq$ = []);\n    ctx.$seq$++;\n    const set = (value) => {\n        if (qDev) {\n            verifySerializable(value);\n        }\n        return (seq[i] = value);\n    };\n    return {\n        get: seq[i],\n        set,\n        i,\n        ctx,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXNlcXVlbnRpYWwtc2NvcGUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1zZXF1ZW50aWFsLXNjb3BlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBdUIsZ0JBQWdCLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFTbkUsTUFBTSxDQUFDLE1BQU0sa0JBQWtCLEdBQUcsR0FBMEIsRUFBRTtJQUM1RCxNQUFNLEdBQUcsR0FBRyxnQkFBZ0IsRUFBRSxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDcEIsTUFBTSxXQUFXLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQztJQUN0QyxNQUFNLEtBQUssR0FBRyxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDdEMsTUFBTSxHQUFHLEdBQUcsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBRTNELEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNaLE1BQU0sR0FBRyxHQUFHLENBQUMsS0FBUSxFQUFFLEVBQUU7UUFDdkIsSUFBSSxJQUFJLEVBQUU7WUFDUixrQkFBa0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUMzQjtRQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDMUIsQ0FBQyxDQUFDO0lBQ0YsT0FBTztRQUNMLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ1gsR0FBRztRQUNILENBQUM7UUFDRCxHQUFHO0tBQ0osQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHZlcmlmeVNlcmlhbGl6YWJsZSB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBSZW5kZXJJbnZva2VDb250ZXh0LCB1c2VJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2VxdWVudGlhbFNjb3BlPFQ+IHtcbiAgcmVhZG9ubHkgZ2V0OiBUIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBzZXQ6ICh2OiBUKSA9PiBUO1xuICByZWFkb25seSBpOiBudW1iZXI7XG4gIHJlYWRvbmx5IGN0eDogUmVuZGVySW52b2tlQ29udGV4dDtcbn1cblxuZXhwb3J0IGNvbnN0IHVzZVNlcXVlbnRpYWxTY29wZSA9IDxUPigpOiBTZXF1ZW50aWFsU2NvcGU8VD4gPT4ge1xuICBjb25zdCBjdHggPSB1c2VJbnZva2VDb250ZXh0KCk7XG4gIGNvbnN0IGkgPSBjdHguJHNlcSQ7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IGVsQ3R4ID0gZ2V0Q29udGV4dChob3N0RWxlbWVudCk7XG4gIGNvbnN0IHNlcSA9IGVsQ3R4LiRzZXEkID8gZWxDdHguJHNlcSQgOiAoZWxDdHguJHNlcSQgPSBbXSk7XG5cbiAgY3R4LiRzZXEkKys7XG4gIGNvbnN0IHNldCA9ICh2YWx1ZTogVCkgPT4ge1xuICAgIGlmIChxRGV2KSB7XG4gICAgICB2ZXJpZnlTZXJpYWxpemFibGUodmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gKHNlcVtpXSA9IHZhbHVlKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBnZXQ6IHNlcVtpXSxcbiAgICBzZXQsXG4gICAgaSxcbiAgICBjdHgsXG4gIH07XG59O1xuIl19","import { assertQrl } from '../import/qrl-class';\nimport { getContext, normalizeOnProp } from '../props/props';\nimport { addQRLListener } from '../props/props-on';\nimport { implicit$FirstArg } from '../util/implicit_dollar';\nimport { useInvokeContext } from './use-core';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { Watch, WatchFlagsIsCleanup } from './use-watch';\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * It can be used to release resources, abort network requests, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resources, abort network requests, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useCleanupQrl = (unmountFn) => {\n    const { get, set, i, ctx } = useSequentialScope();\n    if (!get) {\n        assertQrl(unmountFn);\n        const el = ctx.$hostElement$;\n        const watch = new Watch(WatchFlagsIsCleanup, i, el, unmountFn, undefined);\n        const elCtx = getContext(el);\n        set(true);\n        if (!elCtx.$watches$) {\n            elCtx.$watches$ = [];\n        }\n        elCtx.$watches$.push(watch);\n    }\n};\n// <docs markdown=\"../readme.md#useCleanup\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useCleanup instead)\n/**\n * A lazy-loadable reference to a component's cleanup hook.\n *\n * Invoked when the component is destroyed (removed from render tree), or paused as part of the\n * SSR serialization.\n *\n * It can be used to release resources, abort network requests, stop timers...\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   useCleanup$(() => {\n *     // Executed after SSR (pause) or when the component gets removed from the DOM.\n *     // Can be used to release resources, abort network requests, stop timers...\n *     console.log('component is destroyed');\n *   });\n *   return <div>Hello world</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useCleanup$ = /*#__PURE__*/ implicit$FirstArg(useCleanupQrl);\n// <docs markdown=\"../readme.md#useOn\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOn instead)\n/**\n * Register a listener on the current component's host element.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX. Otherwise, it's adding a JSX listener in the `<div>` is a better idea.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * @alpha\n */\n// </docs>\nexport const useOn = (event, eventQrl) => _useOn(`on-${event}`, eventQrl);\n// <docs markdown=\"../readme.md#useOnDocument\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnDocument instead)\n/**\n * Register a listener on `document`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useScroll() {\n *   useOnDocument(\n *     'scroll',\n *     $((event) => {\n *       console.log('body scrolled', event);\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useScroll();\n *   return <div>Profit!</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useOnDocument = (event, eventQrl) => _useOn(`document:on-${event}`, eventQrl);\n// <docs markdown=\"../readme.md#useOnWindow\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useOnWindow instead)\n/**\n * Register a listener on `window`.\n *\n * Used to programmatically add event listeners. Useful from custom `use*` methods, which do not\n * have access to the JSX.\n *\n * @see `useOn`, `useOnWindow`, `useOnDocument`.\n *\n * ```tsx\n * function useAnalytics() {\n *   useOnWindow(\n *     'popstate',\n *     $((event) => {\n *       console.log('navigation happened', event);\n *       // report to analytics\n *     })\n *   );\n * }\n *\n * const Cmp = component$(() => {\n *   useAnalytics();\n *   return <div>Profit!</div>;\n * });\n * ```\n *\n * @alpha\n */\n// </docs>\nexport const useOnWindow = (event, eventQrl) => _useOn(`window:on-${event}`, eventQrl);\nconst _useOn = (eventName, eventQrl) => {\n    const invokeCtx = useInvokeContext();\n    const ctx = getContext(invokeCtx.$hostElement$);\n    assertQrl(eventQrl);\n    addQRLListener(ctx.li, normalizeOnProp(eventName), [eventQrl]);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLW9uLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2Utb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRWhELE9BQU8sRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDN0QsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLFlBQVksQ0FBQztBQUM5QyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUM1RCxPQUFPLEVBQUUsS0FBSyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRXpELDRDQUE0QztBQUM1Qyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW9CRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxTQUEwQixFQUFRLEVBQUU7SUFDaEUsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLGtCQUFrQixFQUFXLENBQUM7SUFDM0QsSUFBSSxDQUFDLEdBQUcsRUFBRTtRQUNSLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyQixNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO1FBQzdCLE1BQU0sS0FBSyxHQUFHLElBQUksS0FBSyxDQUFDLG1CQUFtQixFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBQzFFLE1BQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUM3QixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDVixJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRTtZQUNwQixLQUFLLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztTQUN0QjtRQUNELEtBQUssQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQzdCO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsNENBQTRDO0FBQzVDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBb0JHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxhQUFhLENBQUMsaUJBQWlCLENBQUMsYUFBYSxDQUFDLENBQUM7QUFFMUUsdUNBQXVDO0FBQ3ZDLHlDQUF5QztBQUN6QyxvQ0FBb0M7QUFDcEM7Ozs7Ozs7OztHQVNHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLEtBQWEsRUFBRSxRQUFrQyxFQUFFLEVBQUUsQ0FDekUsTUFBTSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFFbEMsK0NBQStDO0FBQy9DLHlDQUF5QztBQUN6Qyw0Q0FBNEM7QUFDNUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0F5Qkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLENBQUMsS0FBYSxFQUFFLFFBQWtDLEVBQUUsRUFBRSxDQUNqRixNQUFNLENBQUMsZUFBZSxLQUFLLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUUzQyw2Q0FBNkM7QUFDN0MseUNBQXlDO0FBQ3pDLDBDQUEwQztBQUMxQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0EwQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsS0FBYSxFQUFFLFFBQWtDLEVBQUUsRUFBRSxDQUMvRSxNQUFNLENBQUMsYUFBYSxLQUFLLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztBQUV6QyxNQUFNLE1BQU0sR0FBRyxDQUFDLFNBQWlCLEVBQUUsUUFBa0MsRUFBRSxFQUFFO0lBQ3ZFLE1BQU0sU0FBUyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDckMsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNoRCxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEIsY0FBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsZUFBZSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNqRSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnRRcmwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCwgbm9ybWFsaXplT25Qcm9wIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgYWRkUVJMTGlzdGVuZXIgfSBmcm9tICcuLi9wcm9wcy9wcm9wcy1vbic7XG5pbXBvcnQgeyBpbXBsaWNpdCRGaXJzdEFyZyB9IGZyb20gJy4uL3V0aWwvaW1wbGljaXRfZG9sbGFyJztcbmltcG9ydCB7IHVzZUludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXNlcXVlbnRpYWwtc2NvcGUnO1xuaW1wb3J0IHsgV2F0Y2gsIFdhdGNoRmxhZ3NJc0NsZWFudXAgfSBmcm9tICcuL3VzZS13YXRjaCc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNsZWFudXBcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ2xlYW51cCBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3MgY2xlYW51cCBob29rLlxuICpcbiAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZCAocmVtb3ZlZCBmcm9tIHJlbmRlciB0cmVlKSwgb3IgcGF1c2VkIGFzIHBhcnQgb2YgdGhlXG4gKiBTU1Igc2VyaWFsaXphdGlvbi5cbiAqXG4gKiBJdCBjYW4gYmUgdXNlZCB0byByZWxlYXNlIHJlc291cmNlcywgYWJvcnQgbmV0d29yayByZXF1ZXN0cywgc3RvcCB0aW1lcnMuLi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDbGVhbnVwJCgoKSA9PiB7XG4gKiAgICAgLy8gRXhlY3V0ZWQgYWZ0ZXIgU1NSIChwYXVzZSkgb3Igd2hlbiB0aGUgY29tcG9uZW50IGdldHMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gKiAgICAgLy8gQ2FuIGJlIHVzZWQgdG8gcmVsZWFzZSByZXNvdXJjZXMsIGFib3J0IG5ldHdvcmsgcmVxdWVzdHMsIHN0b3AgdGltZXJzLi4uXG4gKiAgICAgY29uc29sZS5sb2coJ2NvbXBvbmVudCBpcyBkZXN0cm95ZWQnKTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNsZWFudXBRcmwgPSAodW5tb3VudEZuOiBRUkw8KCkgPT4gdm9pZD4pOiB2b2lkID0+IHtcbiAgY29uc3QgeyBnZXQsIHNldCwgaSwgY3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8Ym9vbGVhbj4oKTtcbiAgaWYgKCFnZXQpIHtcbiAgICBhc3NlcnRRcmwodW5tb3VudEZuKTtcbiAgICBjb25zdCBlbCA9IGN0eC4kaG9zdEVsZW1lbnQkO1xuICAgIGNvbnN0IHdhdGNoID0gbmV3IFdhdGNoKFdhdGNoRmxhZ3NJc0NsZWFudXAsIGksIGVsLCB1bm1vdW50Rm4sIHVuZGVmaW5lZCk7XG4gICAgY29uc3QgZWxDdHggPSBnZXRDb250ZXh0KGVsKTtcbiAgICBzZXQodHJ1ZSk7XG4gICAgaWYgKCFlbEN0eC4kd2F0Y2hlcyQpIHtcbiAgICAgIGVsQ3R4LiR3YXRjaGVzJCA9IFtdO1xuICAgIH1cbiAgICBlbEN0eC4kd2F0Y2hlcyQucHVzaCh3YXRjaCk7XG4gIH1cbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNsZWFudXBcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ2xlYW51cCBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3MgY2xlYW51cCBob29rLlxuICpcbiAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGRlc3Ryb3llZCAocmVtb3ZlZCBmcm9tIHJlbmRlciB0cmVlKSwgb3IgcGF1c2VkIGFzIHBhcnQgb2YgdGhlXG4gKiBTU1Igc2VyaWFsaXphdGlvbi5cbiAqXG4gKiBJdCBjYW4gYmUgdXNlZCB0byByZWxlYXNlIHJlc291cmNlcywgYWJvcnQgbmV0d29yayByZXF1ZXN0cywgc3RvcCB0aW1lcnMuLi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDbGVhbnVwJCgoKSA9PiB7XG4gKiAgICAgLy8gRXhlY3V0ZWQgYWZ0ZXIgU1NSIChwYXVzZSkgb3Igd2hlbiB0aGUgY29tcG9uZW50IGdldHMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXG4gKiAgICAgLy8gQ2FuIGJlIHVzZWQgdG8gcmVsZWFzZSByZXNvdXJjZXMsIGFib3J0IG5ldHdvcmsgcmVxdWVzdHMsIHN0b3AgdGltZXJzLi4uXG4gKiAgICAgY29uc29sZS5sb2coJ2NvbXBvbmVudCBpcyBkZXN0cm95ZWQnKTtcbiAqICAgfSk7XG4gKiAgIHJldHVybiA8ZGl2PkhlbGxvIHdvcmxkPC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNsZWFudXAkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VDbGVhbnVwUXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlT25cIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlT24gaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBjb21wb25lbnQncyBob3N0IGVsZW1lbnQuXG4gKlxuICogVXNlZCB0byBwcm9ncmFtbWF0aWNhbGx5IGFkZCBldmVudCBsaXN0ZW5lcnMuIFVzZWZ1bCBmcm9tIGN1c3RvbSBgdXNlKmAgbWV0aG9kcywgd2hpY2ggZG8gbm90XG4gKiBoYXZlIGFjY2VzcyB0byB0aGUgSlNYLiBPdGhlcndpc2UsIGl0J3MgYWRkaW5nIGEgSlNYIGxpc3RlbmVyIGluIHRoZSBgPGRpdj5gIGlzIGEgYmV0dGVyIGlkZWEuXG4gKlxuICogQHNlZSBgdXNlT25gLCBgdXNlT25XaW5kb3dgLCBgdXNlT25Eb2N1bWVudGAuXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VPbiA9IChldmVudDogc3RyaW5nLCBldmVudFFybDogUVJMPChldjogRXZlbnQpID0+IHZvaWQ+KSA9PlxuICBfdXNlT24oYG9uLSR7ZXZlbnR9YCwgZXZlbnRRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VPbkRvY3VtZW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZU9uRG9jdW1lbnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBsaXN0ZW5lciBvbiBgZG9jdW1lbnRgLlxuICpcbiAqIFVzZWQgdG8gcHJvZ3JhbW1hdGljYWxseSBhZGQgZXZlbnQgbGlzdGVuZXJzLiBVc2VmdWwgZnJvbSBjdXN0b20gYHVzZSpgIG1ldGhvZHMsIHdoaWNoIGRvIG5vdFxuICogaGF2ZSBhY2Nlc3MgdG8gdGhlIEpTWC5cbiAqXG4gKiBAc2VlIGB1c2VPbmAsIGB1c2VPbldpbmRvd2AsIGB1c2VPbkRvY3VtZW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGZ1bmN0aW9uIHVzZVNjcm9sbCgpIHtcbiAqICAgdXNlT25Eb2N1bWVudChcbiAqICAgICAnc2Nyb2xsJyxcbiAqICAgICAkKChldmVudCkgPT4ge1xuICogICAgICAgY29uc29sZS5sb2coJ2JvZHkgc2Nyb2xsZWQnLCBldmVudCk7XG4gKiAgICAgfSlcbiAqICAgKTtcbiAqIH1cbiAqXG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlU2Nyb2xsKCk7XG4gKiAgIHJldHVybiA8ZGl2PlByb2ZpdCE8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlT25Eb2N1bWVudCA9IChldmVudDogc3RyaW5nLCBldmVudFFybDogUVJMPChldjogRXZlbnQpID0+IHZvaWQ+KSA9PlxuICBfdXNlT24oYGRvY3VtZW50Om9uLSR7ZXZlbnR9YCwgZXZlbnRRcmwpO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VPbldpbmRvd1wiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VPbldpbmRvdyBpbnN0ZWFkKVxuLyoqXG4gKiBSZWdpc3RlciBhIGxpc3RlbmVyIG9uIGB3aW5kb3dgLlxuICpcbiAqIFVzZWQgdG8gcHJvZ3JhbW1hdGljYWxseSBhZGQgZXZlbnQgbGlzdGVuZXJzLiBVc2VmdWwgZnJvbSBjdXN0b20gYHVzZSpgIG1ldGhvZHMsIHdoaWNoIGRvIG5vdFxuICogaGF2ZSBhY2Nlc3MgdG8gdGhlIEpTWC5cbiAqXG4gKiBAc2VlIGB1c2VPbmAsIGB1c2VPbldpbmRvd2AsIGB1c2VPbkRvY3VtZW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGZ1bmN0aW9uIHVzZUFuYWx5dGljcygpIHtcbiAqICAgdXNlT25XaW5kb3coXG4gKiAgICAgJ3BvcHN0YXRlJyxcbiAqICAgICAkKChldmVudCkgPT4ge1xuICogICAgICAgY29uc29sZS5sb2coJ25hdmlnYXRpb24gaGFwcGVuZWQnLCBldmVudCk7XG4gKiAgICAgICAvLyByZXBvcnQgdG8gYW5hbHl0aWNzXG4gKiAgICAgfSlcbiAqICAgKTtcbiAqIH1cbiAqXG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQW5hbHl0aWNzKCk7XG4gKiAgIHJldHVybiA8ZGl2PlByb2ZpdCE8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlT25XaW5kb3cgPSAoZXZlbnQ6IHN0cmluZywgZXZlbnRRcmw6IFFSTDwoZXY6IEV2ZW50KSA9PiB2b2lkPikgPT5cbiAgX3VzZU9uKGB3aW5kb3c6b24tJHtldmVudH1gLCBldmVudFFybCk7XG5cbmNvbnN0IF91c2VPbiA9IChldmVudE5hbWU6IHN0cmluZywgZXZlbnRRcmw6IFFSTDwoZXY6IEV2ZW50KSA9PiB2b2lkPikgPT4ge1xuICBjb25zdCBpbnZva2VDdHggPSB1c2VJbnZva2VDb250ZXh0KCk7XG4gIGNvbnN0IGN0eCA9IGdldENvbnRleHQoaW52b2tlQ3R4LiRob3N0RWxlbWVudCQpO1xuICBhc3NlcnRRcmwoZXZlbnRRcmwpO1xuICBhZGRRUkxMaXN0ZW5lcihjdHgubGksIG5vcm1hbGl6ZU9uUHJvcChldmVudE5hbWUpLCBbZXZlbnRRcmxdKTtcbn07XG4iXX0=","export const emitEvent = (el, eventName, detail, bubbles) => {\n    if (el && typeof CustomEvent === 'function') {\n        el.dispatchEvent(new CustomEvent(eventName, {\n            detail,\n            bubbles: bubbles,\n            composed: bubbles,\n        }));\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXRpbC9ldmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsRUFBdUIsRUFDdkIsU0FBaUIsRUFDakIsTUFBVyxFQUNYLE9BQWdCLEVBQ2hCLEVBQUU7SUFDRixJQUFJLEVBQUUsSUFBSSxPQUFPLFdBQVcsS0FBSyxVQUFVLEVBQUU7UUFDM0MsRUFBRSxDQUFDLGFBQWEsQ0FDZCxJQUFJLFdBQVcsQ0FBQyxTQUFTLEVBQUU7WUFDekIsTUFBTTtZQUNOLE9BQU8sRUFBRSxPQUFPO1lBQ2hCLFFBQVEsRUFBRSxPQUFPO1NBQ2xCLENBQUMsQ0FDSCxDQUFDO0tBQ0g7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZW1pdEV2ZW50ID0gKFxuICBlbDogRWxlbWVudCB8IHVuZGVmaW5lZCxcbiAgZXZlbnROYW1lOiBzdHJpbmcsXG4gIGRldGFpbDogYW55LFxuICBidWJibGVzOiBib29sZWFuXG4pID0+IHtcbiAgaWYgKGVsICYmIHR5cGVvZiBDdXN0b21FdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGVsLmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCB7XG4gICAgICAgIGRldGFpbCxcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgY29tcG9zZWQ6IGJ1YmJsZXMsXG4gICAgICB9KVxuICAgICk7XG4gIH1cbn07XG4iXX0=","import { qDev, seal } from '../../util/qdev';\nimport { logWarn } from '../../util/log';\nimport { isFunction, isObject, isString } from '../../util/types';\nimport { qError, QError_invalidJsxNodeType } from '../../error/error';\n/**\n * @public\n */\nexport const jsx = (type, props, key) => {\n    if (qDev) {\n        if (!isString(type) && !isFunction(type)) {\n            throw qError(QError_invalidJsxNodeType, type);\n        }\n    }\n    const processed = key == null ? null : String(key);\n    return new JSXNodeImpl(type, props, processed);\n};\nexport const SKIP_RENDER_TYPE = ':skipRender';\nexport class JSXNodeImpl {\n    constructor(type, props, key = null) {\n        this.type = type;\n        this.props = props;\n        this.key = key;\n        seal(this);\n    }\n}\nexport const isJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof JSXNodeImpl) {\n            return true;\n        }\n        if (isObject(n) && 'key' in n && 'props' in n && 'type' in n) {\n            logWarn(`Duplicate implementations of \"JSXNode\" found`);\n            return true;\n        }\n        return false;\n    }\n    else {\n        return n instanceof JSXNodeImpl;\n    }\n};\n/**\n * @public\n */\nexport const Fragment = (props) => props.children;\nexport { jsx as jsxs, jsx as jsxDEV };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianN4LXJ1bnRpbWUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9qc3gtcnVudGltZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6QyxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNsRSxPQUFPLEVBQUUsTUFBTSxFQUFFLHlCQUF5QixFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFdEU7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FDakIsSUFBTyxFQUNQLEtBQTZFLEVBQzdFLEdBQTRCLEVBQ2hCLEVBQUU7SUFDZCxJQUFJLElBQUksRUFBRTtRQUNSLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDeEMsTUFBTSxNQUFNLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDL0M7S0FDRjtJQUNELE1BQU0sU0FBUyxHQUFHLEdBQUcsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25ELE9BQU8sSUFBSSxXQUFXLENBQUksSUFBSSxFQUFFLEtBQUssRUFBRSxTQUFTLENBQUMsQ0FBQztBQUNwRCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxhQUFhLENBQUM7QUFFOUMsTUFBTSxPQUFPLFdBQVc7SUFDdEIsWUFDUyxJQUFPLEVBQ1AsS0FBNkUsRUFDN0UsTUFBcUIsSUFBSTtRQUZ6QixTQUFJLEdBQUosSUFBSSxDQUFHO1FBQ1AsVUFBSyxHQUFMLEtBQUssQ0FBd0U7UUFDN0UsUUFBRyxHQUFILEdBQUcsQ0FBc0I7UUFFaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2IsQ0FBQztDQUNGO0FBRUQsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUMsQ0FBTSxFQUFnQixFQUFFO0lBQ2hELElBQUksSUFBSSxFQUFFO1FBQ1IsSUFBSSxDQUFDLFlBQVksV0FBVyxFQUFFO1lBQzVCLE9BQU8sSUFBSSxDQUFDO1NBQ2I7UUFDRCxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLE9BQU8sSUFBSSxDQUFDLElBQUksTUFBTSxJQUFJLENBQUMsRUFBRTtZQUM1RCxPQUFPLENBQUMsOENBQThDLENBQUMsQ0FBQztZQUN4RCxPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsT0FBTyxLQUFLLENBQUM7S0FDZDtTQUFNO1FBQ0wsT0FBTyxDQUFDLFlBQVksV0FBVyxDQUFDO0tBQ2pDO0FBQ0gsQ0FBQyxDQUFDO0FBQ0Y7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQTBDLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBZSxDQUFDO0FBSWhHLE9BQU8sRUFBRSxHQUFHLElBQUksSUFBSSxFQUFFLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQsIEpTWE5vZGUgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgUXdpa0pTWCB9IGZyb20gJy4vdHlwZXMvanN4LXF3aWsnO1xuaW1wb3J0IHsgcURldiwgc2VhbCB9IGZyb20gJy4uLy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBsb2dXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgaXNPYmplY3QsIGlzU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyBxRXJyb3IsIFFFcnJvcl9pbnZhbGlkSnN4Tm9kZVR5cGUgfSBmcm9tICcuLi8uLi9lcnJvci9lcnJvcic7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QganN4ID0gPFQgZXh0ZW5kcyBzdHJpbmcgfCBGdW5jdGlvbkNvbXBvbmVudDxhbnk+PihcbiAgdHlwZTogVCxcbiAgcHJvcHM6IFQgZXh0ZW5kcyBGdW5jdGlvbkNvbXBvbmVudDxpbmZlciBQUk9QUz4gPyBQUk9QUyA6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gIGtleT86IHN0cmluZyB8IG51bWJlciB8IG51bGxcbik6IEpTWE5vZGU8VD4gPT4ge1xuICBpZiAocURldikge1xuICAgIGlmICghaXNTdHJpbmcodHlwZSkgJiYgIWlzRnVuY3Rpb24odHlwZSkpIHtcbiAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfaW52YWxpZEpzeE5vZGVUeXBlLCB0eXBlKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcHJvY2Vzc2VkID0ga2V5ID09IG51bGwgPyBudWxsIDogU3RyaW5nKGtleSk7XG4gIHJldHVybiBuZXcgSlNYTm9kZUltcGw8VD4odHlwZSwgcHJvcHMsIHByb2Nlc3NlZCk7XG59O1xuXG5leHBvcnQgY29uc3QgU0tJUF9SRU5ERVJfVFlQRSA9ICc6c2tpcFJlbmRlcic7XG5cbmV4cG9ydCBjbGFzcyBKU1hOb2RlSW1wbDxUPiBpbXBsZW1lbnRzIEpTWE5vZGU8VD4ge1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgdHlwZTogVCxcbiAgICBwdWJsaWMgcHJvcHM6IFQgZXh0ZW5kcyBGdW5jdGlvbkNvbXBvbmVudDxpbmZlciBQUk9QUz4gPyBQUk9QUyA6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gICAgcHVibGljIGtleTogc3RyaW5nIHwgbnVsbCA9IG51bGxcbiAgKSB7XG4gICAgc2VhbCh0aGlzKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgaXNKU1hOb2RlID0gKG46IGFueSk6IG4gaXMgSlNYTm9kZSA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKG4gaW5zdGFuY2VvZiBKU1hOb2RlSW1wbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChuKSAmJiAna2V5JyBpbiBuICYmICdwcm9wcycgaW4gbiAmJiAndHlwZScgaW4gbikge1xuICAgICAgbG9nV2FybihgRHVwbGljYXRlIGltcGxlbWVudGF0aW9ucyBvZiBcIkpTWE5vZGVcIiBmb3VuZGApO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbiBpbnN0YW5jZW9mIEpTWE5vZGVJbXBsO1xuICB9XG59O1xuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCBGcmFnbWVudDogRnVuY3Rpb25Db21wb25lbnQ8eyBjaGlsZHJlbj86IGFueSB9PiA9IChwcm9wcykgPT4gcHJvcHMuY2hpbGRyZW4gYXMgYW55O1xuXG5leHBvcnQgdHlwZSB7IFF3aWtKU1ggYXMgSlNYIH07XG5cbmV4cG9ydCB7IGpzeCBhcyBqc3hzLCBqc3ggYXMganN4REVWIH07XG4iXX0=","import { jsx } from '../jsx/jsx-runtime';\nexport const QOnce = 'qonce';\n/**\n * @alpha\n */\nexport const SkipRender = Symbol('skip render');\nexport const RenderOnce = (props, key) => {\n    return jsx(Virtual, {\n        ...props,\n        [QOnce]: '',\n    }, key);\n};\n/**\n * @alpha\n */\nexport const Fragment = ((props) => props.children);\n/**\n * @alpha\n */\nexport const SSRComment = (() => null);\n/**\n * @alpha\n */\nexport const Virtual = ((props) => props.children);\n/**\n * @alpha\n */\nexport const SSRStreamBlock = (props) => {\n    return [\n        jsx(SSRComment, { data: 'qkssr-pu' }),\n        props.children,\n        jsx(SSRComment, { data: 'qkssr-po' }),\n    ];\n};\n/**\n * @alpha\n */\nexport const SSRStream = (props, key) => jsx(RenderOnce, { children: jsx(InternalSSRStream, props) }, key);\nexport const InternalSSRStream = () => null;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9qc3gvdXRpbHMucHVibGljLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUt6QyxNQUFNLENBQUMsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDO0FBRTdCOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFZLE1BQU0sQ0FBQyxhQUFhLENBQVEsQ0FBQztBQUVoRSxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQTBDLENBQUMsS0FBVSxFQUFFLEdBQUcsRUFBRSxFQUFFO0lBQ25GLE9BQU8sR0FBRyxDQUNSLE9BQU8sRUFDUDtRQUNFLEdBQUcsS0FBSztRQUNSLENBQUMsS0FBSyxDQUFDLEVBQUUsRUFBRTtLQUNaLEVBQ0QsR0FBRyxDQUNKLENBQUM7QUFDSixDQUFDLENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBMEIsQ0FBQyxDQUFDLEtBQVUsRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBUSxDQUFDO0FBRXZGOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUF3QyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBUSxDQUFDO0FBRW5GOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUEyQyxDQUFDLENBQUMsS0FBVSxFQUFFLEVBQUUsQ0FDN0UsS0FBSyxDQUFDLFFBQVEsQ0FBUSxDQUFDO0FBRXpCOztHQUVHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sY0FBYyxHQUEwQyxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQzdFLE9BQU87UUFDTCxHQUFHLENBQUMsVUFBVSxFQUFFLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxDQUFDO1FBQ3JDLEtBQUssQ0FBQyxRQUFRO1FBQ2QsR0FBRyxDQUFDLFVBQVUsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsQ0FBQztLQUMvQixDQUFDO0FBQ1gsQ0FBQyxDQUFDO0FBWUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxTQUFTLEdBQW1DLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQ3RFLEdBQUcsQ0FBQyxVQUFVLEVBQUUsRUFBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLGlCQUFpQixFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFFcEUsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQW1DLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCB9IGZyb20gJy4uL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVdyaXRlciB9IGZyb20gJy4uL3Nzci9yZW5kZXItc3NyJztcbmltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQsIEpTWE5vZGUgfSBmcm9tICcuL3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB0eXBlIHsgSlNYQ2hpbGRyZW4gfSBmcm9tICcuL3R5cGVzL2pzeC1xd2lrLWF0dHJpYnV0ZXMnO1xuXG5leHBvcnQgY29uc3QgUU9uY2UgPSAncW9uY2UnO1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgU2tpcFJlbmRlcjogSlNYTm9kZSA9IFN5bWJvbCgnc2tpcCByZW5kZXInKSBhcyBhbnk7XG5cbmV4cG9ydCBjb25zdCBSZW5kZXJPbmNlOiBGdW5jdGlvbkNvbXBvbmVudDx7IGNoaWxkcmVuPzogYW55IH0+ID0gKHByb3BzOiBhbnksIGtleSkgPT4ge1xuICByZXR1cm4ganN4KFxuICAgIFZpcnR1YWwsXG4gICAge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBbUU9uY2VdOiAnJyxcbiAgICB9LFxuICAgIGtleVxuICApO1xufTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IEZyYWdtZW50OiBGdW5jdGlvbkNvbXBvbmVudDx7fT4gPSAoKHByb3BzOiBhbnkpID0+IHByb3BzLmNoaWxkcmVuKSBhcyBhbnk7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCBTU1JDb21tZW50OiBGdW5jdGlvbkNvbXBvbmVudDx7IGRhdGE6IHN0cmluZyB9PiA9ICgoKSA9PiBudWxsKSBhcyBhbnk7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCBWaXJ0dWFsOiBGdW5jdGlvbkNvbXBvbmVudDxSZWNvcmQ8c3RyaW5nLCBhbnk+PiA9ICgocHJvcHM6IGFueSkgPT5cbiAgcHJvcHMuY2hpbGRyZW4pIGFzIGFueTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IFNTUlN0cmVhbUJsb2NrOiBGdW5jdGlvbkNvbXBvbmVudDx7IGNoaWxkcmVuPzogYW55IH0+ID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiBbXG4gICAganN4KFNTUkNvbW1lbnQsIHsgZGF0YTogJ3Frc3NyLXB1JyB9KSxcbiAgICBwcm9wcy5jaGlsZHJlbixcbiAgICBqc3goU1NSQ29tbWVudCwgeyBkYXRhOiAncWtzc3ItcG8nIH0pLFxuICBdIGFzIGFueTtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyZWFtUHJvcHMge1xuICBjaGlsZHJlbjpcbiAgICB8IEFzeW5jR2VuZXJhdG9yPEpTWENoaWxkcmVuLCB2b2lkLCBhbnk+XG4gICAgfCAoKHN0cmVhbTogU3RyZWFtV3JpdGVyKSA9PiBQcm9taXNlPHZvaWQ+KVxuICAgIHwgKCgpID0+IEFzeW5jR2VuZXJhdG9yPEpTWENoaWxkcmVuLCB2b2lkLCBhbnk+KTtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IFNTUlN0cmVhbTogRnVuY3Rpb25Db21wb25lbnQ8U3RyZWFtUHJvcHM+ID0gKHByb3BzLCBrZXkpID0+XG4gIGpzeChSZW5kZXJPbmNlLCB7IGNoaWxkcmVuOiBqc3goSW50ZXJuYWxTU1JTdHJlYW0sIHByb3BzKSB9LCBrZXkpO1xuXG5leHBvcnQgY29uc3QgSW50ZXJuYWxTU1JTdHJlYW06IEZ1bmN0aW9uQ29tcG9uZW50PFN0cmVhbVByb3BzPiA9ICgpID0+IG51bGw7XG4iXX0=","export const fromCamelToKebabCase = (text) => {\n    return text.replace(/([A-Z])/g, '-$1').toLowerCase();\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FzZS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91dGlsL2Nhc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FBQyxJQUFZLEVBQVUsRUFBRTtJQUMzRCxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0FBQ3ZELENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSA9ICh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC8oW0EtWl0pL2csICctJDEnKS50b0xvd2VyQ2FzZSgpO1xufTtcbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { ELEMENT_ID, OnRenderProp, QSlot, RenderEvent } from '../util/markers';\nimport { promiseAll, safeCall, then } from '../util/promises';\nimport { newInvokeContext } from '../use/use-core';\nimport { logError } from '../util/log';\nimport { isArray, isFunction, isObject, isString } from '../util/types';\nimport { tryGetContext } from '../props/props';\nimport { fromCamelToKebabCase } from '../util/case';\nimport { qError, QError_stringifyClassOrStyle } from '../error/error';\nimport { intToStr } from '../object/store';\nimport { qSerialize, seal } from '../util/qdev';\nimport { EMPTY_ARRAY } from '../util/flyweight';\nexport const executeComponent = (rctx, elCtx) => {\n    elCtx.$dirty$ = false;\n    elCtx.$mounted$ = true;\n    elCtx.$slots$ = [];\n    const hostElement = elCtx.$element$;\n    const onRenderQRL = elCtx.$renderQrl$;\n    const staticCtx = rctx.$static$;\n    const containerState = staticCtx.$containerState$;\n    const props = elCtx.$props$;\n    const newCtx = pushRenderContext(rctx, elCtx);\n    const invocatinContext = newInvokeContext(staticCtx.$doc$, hostElement, undefined, RenderEvent);\n    const waitOn = (invocatinContext.$waitOn$ = []);\n    assertDefined(onRenderQRL, `render: host element to render must has a $renderQrl$:`, elCtx);\n    assertDefined(props, `render: host element to render must has defined props`, elCtx);\n    // Set component context\n    newCtx.$cmpCtx$ = elCtx;\n    // Invoke render hook\n    invocatinContext.$subscriber$ = hostElement;\n    invocatinContext.$renderCtx$ = rctx;\n    // Component is not dirty any more\n    containerState.$hostsStaging$.delete(hostElement);\n    // Clean current subscription before render\n    containerState.$subsManager$.$clearSub$(hostElement);\n    // Resolve render function\n    const onRenderFn = onRenderQRL.getFn(invocatinContext);\n    return safeCall(() => onRenderFn(props), (jsxNode) => {\n        staticCtx.$hostElements$.add(hostElement);\n        const waitOnPromise = promiseAll(waitOn);\n        return then(waitOnPromise, () => {\n            if (isFunction(jsxNode)) {\n                elCtx.$dirty$ = false;\n                jsxNode = jsxNode();\n            }\n            else if (elCtx.$dirty$) {\n                return executeComponent(rctx, elCtx);\n            }\n            elCtx.$attachedListeners$ = false;\n            return {\n                node: jsxNode,\n                rctx: newCtx,\n            };\n        });\n    }, (err) => {\n        logError(err);\n    });\n};\nexport const createRenderContext = (doc, containerState) => {\n    const ctx = {\n        $static$: {\n            $doc$: doc,\n            $containerState$: containerState,\n            $containerEl$: containerState.$containerEl$,\n            $hostElements$: new Set(),\n            $operations$: [],\n            $postOperations$: [],\n            $roots$: [],\n            $addSlots$: [],\n            $rmSlots$: [],\n        },\n        $cmpCtx$: undefined,\n        $localStack$: [],\n    };\n    seal(ctx);\n    seal(ctx.$static$);\n    return ctx;\n};\nexport const pushRenderContext = (ctx, elCtx) => {\n    const newCtx = {\n        $static$: ctx.$static$,\n        $cmpCtx$: ctx.$cmpCtx$,\n        $localStack$: ctx.$localStack$.concat(elCtx),\n    };\n    return newCtx;\n};\nexport const joinClasses = (...input) => {\n    const set = new Set();\n    input.forEach((value) => {\n        parseClassAny(value).forEach((v) => set.add(v));\n    });\n    return Array.from(set).join(' ');\n};\nexport const parseClassAny = (obj) => {\n    if (isString(obj)) {\n        return parseClassList(obj);\n    }\n    else if (isObject(obj)) {\n        if (isArray(obj)) {\n            return obj;\n        }\n        else {\n            const output = [];\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value) {\n                        output.push(key);\n                    }\n                }\n            }\n            return output;\n        }\n    }\n    return [];\n};\nconst parseClassListRegex = /\\s/;\nconst parseClassList = (value) => !value ? EMPTY_ARRAY : value.split(parseClassListRegex);\nexport const stringifyStyle = (obj) => {\n    if (obj == null)\n        return '';\n    if (typeof obj == 'object') {\n        if (isArray(obj)) {\n            throw qError(QError_stringifyClassOrStyle, obj, 'style');\n        }\n        else {\n            const chunks = [];\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (value) {\n                        chunks.push(fromCamelToKebabCase(key) + ':' + value);\n                    }\n                }\n            }\n            return chunks.join(';');\n        }\n    }\n    return String(obj);\n};\nexport const getNextIndex = (ctx) => {\n    return intToStr(ctx.$static$.$containerState$.$elementIndex$++);\n};\nexport const getQId = (el) => {\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        return ctx.$id$;\n    }\n    return null;\n};\nexport const setQId = (rctx, ctx) => {\n    const id = getNextIndex(rctx);\n    ctx.$id$ = id;\n    if (qSerialize) {\n        ctx.$element$.setAttribute(ELEMENT_ID, id);\n    }\n};\nexport const hasStyle = (containerState, styleId) => {\n    return containerState.$styleIds$.has(styleId);\n};\nexport const ALLOWS_PROPS = [QSlot];\nexport const SKIPS_PROPS = [QSlot, OnRenderProp, 'children'];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXhlY3V0ZS1jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2V4ZWN1dGUtY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0UsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbkQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFrQixNQUFNLGVBQWUsQ0FBQztBQUN4RixPQUFPLEVBQVksYUFBYSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFJekQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BELE9BQU8sRUFBRSxNQUFNLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0RSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFM0MsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDaEQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBT2hELE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQzlCLElBQW1CLEVBQ25CLEtBQWUsRUFDZ0MsRUFBRTtJQUNqRCxLQUFLLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztJQUN0QixLQUFLLENBQUMsU0FBUyxHQUFHLElBQUksQ0FB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RyxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0tBQzVDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsY0FBOEIsRUFBRSxPQUFlLEVBQUUsRUFBRTtJQUMxRSxPQUFPLGNBQWMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ2hELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ3BDLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUFDLEtBQUssRUFBRSxZQUFZLEVBQUUsVUFBVSxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBFTEVNRU5UX0lELCBPblJlbmRlclByb3AsIFFTbG90LCBSZW5kZXJFdmVudCB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBwcm9taXNlQWxsLCBzYWZlQ2FsbCwgdGhlbiB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgbmV3SW52b2tlQ29udGV4dCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBsb2dFcnJvciB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1N0cmluZywgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IFFDb250ZXh0LCB0cnlHZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHR5cGUgeyBKU1hOb2RlIH0gZnJvbSAnLi9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lclN0YXRlIH0gZnJvbSAnLi9jb250YWluZXInO1xuaW1wb3J0IHsgZnJvbUNhbWVsVG9LZWJhYkNhc2UgfSBmcm9tICcuLi91dGlsL2Nhc2UnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3Jfc3RyaW5naWZ5Q2xhc3NPclN0eWxlIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgaW50VG9TdHIgfSBmcm9tICcuLi9vYmplY3Qvc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4vZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5pbXBvcnQgeyBxU2VyaWFsaXplLCBzZWFsIH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IEVNUFRZX0FSUkFZIH0gZnJvbSAnLi4vdXRpbC9mbHl3ZWlnaHQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEV4ZWN1dGVDb21wb25lbnRPdXRwdXQge1xuICBub2RlOiBKU1hOb2RlIHwgbnVsbDtcbiAgcmN0eDogUmVuZGVyQ29udGV4dDtcbn1cblxuZXhwb3J0IGNvbnN0IGV4ZWN1dGVDb21wb25lbnQgPSAoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGVsQ3R4OiBRQ29udGV4dFxuKTogVmFsdWVPclByb21pc2U8RXhlY3V0ZUNvbXBvbmVudE91dHB1dCB8IHZvaWQ+ID0+IHtcbiAgZWxDdHguJGRpcnR5JCA9IGZhbHNlO1xuICBlbEN0eC4kbW91bnRlZCQgPSB0cnVlO1xuICBlbEN0eC4kc2xvdHMkID0gW107XG5cbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBlbEN0eC4kZWxlbWVudCQ7XG4gIGNvbnN0IG9uUmVuZGVyUVJMID0gZWxDdHguJHJlbmRlclFybCQhO1xuICBjb25zdCBzdGF0aWNDdHggPSByY3R4LiRzdGF0aWMkO1xuICBjb25zdCBjb250YWluZXJTdGF0ZSA9IHN0YXRpY0N0eC4kY29udGFpbmVyU3RhdGUkO1xuICBjb25zdCBwcm9wcyA9IGVsQ3R4LiRwcm9wcyQ7XG4gIGNvbnN0IG5ld0N0eCA9IHB1c2hSZW5kZXJDb250ZXh0KHJjdHgsIGVsQ3R4KTtcbiAgY29uc3QgaW52b2NhdGluQ29udGV4dCA9IG5ld0ludm9rZUNvbnRleHQoc3RhdGljQ3R4LiRkb2MkLCBob3N0RWxlbWVudCwgdW5kZWZpbmVkLCBSZW5kZXJFdmVudCk7XG4gIGNvbnN0IHdhaXRPbiA9IChpbnZvY2F0aW5Db250ZXh0LiR3YWl0T24kID0gW10gYXMgYW55W10pO1xuICBhc3NlcnREZWZpbmVkKG9uUmVuZGVyUVJMLCBgcmVuZGVyOiBob3N0IGVsZW1lbnQgdG8gcmVuZGVyIG11c3QgaGFzIGEgJHJlbmRlclFybCQ6YCwgZWxDdHgpO1xuICBhc3NlcnREZWZpbmVkKHByb3BzLCBgcmVuZGVyOiBob3N0IGVsZW1lbnQgdG8gcmVuZGVyIG11c3QgaGFzIGRlZmluZWQgcHJvcHNgLCBlbEN0eCk7XG5cbiAgLy8gU2V0IGNvbXBvbmVudCBjb250ZXh0XG4gIG5ld0N0eC4kY21wQ3R4JCA9IGVsQ3R4O1xuXG4gIC8vIEludm9rZSByZW5kZXIgaG9va1xuICBpbnZvY2F0aW5Db250ZXh0LiRzdWJzY3JpYmVyJCA9IGhvc3RFbGVtZW50O1xuICBpbnZvY2F0aW5Db250ZXh0LiRyZW5kZXJDdHgkID0gcmN0eDtcblxuICAvLyBDb21wb25lbnQgaXMgbm90IGRpcnR5IGFueSBtb3JlXG4gIGNvbnRhaW5lclN0YXRlLiRob3N0c1N0YWdpbmckLmRlbGV0ZShob3N0RWxlbWVudCk7XG4gIC8vIENsZWFuIGN1cnJlbnQgc3Vic2NyaXB0aW9uIGJlZm9yZSByZW5kZXJcbiAgY29udGFpbmVyU3RhdGUuJHN1YnNNYW5hZ2VyJC4kY2xlYXJTdWIkKGhvc3RFbGVtZW50KTtcblxuICAvLyBSZXNvbHZlIHJlbmRlciBmdW5jdGlvblxuICBjb25zdCBvblJlbmRlckZuID0gb25SZW5kZXJRUkwuZ2V0Rm4oaW52b2NhdGluQ29udGV4dCk7XG5cbiAgcmV0dXJuIHNhZmVDYWxsKFxuICAgICgpID0+IG9uUmVuZGVyRm4ocHJvcHMpIGFzIEpTWE5vZGUgfCBGdW5jdGlvbixcbiAgICAoanN4Tm9kZSkgPT4ge1xuICAgICAgc3RhdGljQ3R4LiRob3N0RWxlbWVudHMkLmFkZChob3N0RWxlbWVudCk7XG4gICAgICBjb25zdCB3YWl0T25Qcm9taXNlID0gcHJvbWlzZUFsbCh3YWl0T24pO1xuICAgICAgcmV0dXJuIHRoZW4od2FpdE9uUHJvbWlzZSwgKCkgPT4ge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihqc3hOb2RlKSkge1xuICAgICAgICAgIGVsQ3R4LiRkaXJ0eSQgPSBmYWxzZTtcbiAgICAgICAgICBqc3hOb2RlID0ganN4Tm9kZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsQ3R4LiRkaXJ0eSQpIHtcbiAgICAgICAgICByZXR1cm4gZXhlY3V0ZUNvbXBvbmVudChyY3R4LCBlbEN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxDdHguJGF0dGFjaGVkTGlzdGVuZXJzJCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5vZGU6IGpzeE5vZGUgYXMgSlNYTm9kZSxcbiAgICAgICAgICByY3R4OiBuZXdDdHgsXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9LFxuICAgIChlcnIpID0+IHtcbiAgICAgIGxvZ0Vycm9yKGVycik7XG4gICAgfVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJlbmRlckNvbnRleHQgPSAoXG4gIGRvYzogRG9jdW1lbnQsXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZVxuKTogUmVuZGVyQ29udGV4dCA9PiB7XG4gIGNvbnN0IGN0eDogUmVuZGVyQ29udGV4dCA9IHtcbiAgICAkc3RhdGljJDoge1xuICAgICAgJGRvYyQ6IGRvYyxcbiAgICAgICRjb250YWluZXJTdGF0ZSQ6IGNvbnRhaW5lclN0YXRlLFxuICAgICAgJGNvbnRhaW5lckVsJDogY29udGFpbmVyU3RhdGUuJGNvbnRhaW5lckVsJCxcbiAgICAgICRob3N0RWxlbWVudHMkOiBuZXcgU2V0KCksXG4gICAgICAkb3BlcmF0aW9ucyQ6IFtdLFxuICAgICAgJHBvc3RPcGVyYXRpb25zJDogW10sXG4gICAgICAkcm9vdHMkOiBbXSxcbiAgICAgICRhZGRTbG90cyQ6IFtdLFxuICAgICAgJHJtU2xvdHMkOiBbXSxcbiAgICB9LFxuICAgICRjbXBDdHgkOiB1bmRlZmluZWQsXG4gICAgJGxvY2FsU3RhY2skOiBbXSxcbiAgfTtcbiAgc2VhbChjdHgpO1xuICBzZWFsKGN0eC4kc3RhdGljJCk7XG4gIHJldHVybiBjdHg7XG59O1xuXG5leHBvcnQgY29uc3QgcHVzaFJlbmRlckNvbnRleHQgPSAoY3R4OiBSZW5kZXJDb250ZXh0LCBlbEN0eDogUUNvbnRleHQpOiBSZW5kZXJDb250ZXh0ID0+IHtcbiAgY29uc3QgbmV3Q3R4OiBSZW5kZXJDb250ZXh0ID0ge1xuICAgICRzdGF0aWMkOiBjdHguJHN0YXRpYyQsXG4gICAgJGNtcEN0eCQ6IGN0eC4kY21wQ3R4JCxcbiAgICAkbG9jYWxTdGFjayQ6IGN0eC4kbG9jYWxTdGFjayQuY29uY2F0KGVsQ3R4KSxcbiAgfTtcbiAgcmV0dXJuIG5ld0N0eDtcbn07XG5cbmV4cG9ydCBjb25zdCBqb2luQ2xhc3NlcyA9ICguLi5pbnB1dDogYW55W10pOiBzdHJpbmcgPT4ge1xuICBjb25zdCBzZXQgPSBuZXcgU2V0KCk7XG4gIGlucHV0LmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgcGFyc2VDbGFzc0FueSh2YWx1ZSkuZm9yRWFjaCgodikgPT4gc2V0LmFkZCh2KSk7XG4gIH0pO1xuICByZXR1cm4gQXJyYXkuZnJvbShzZXQpLmpvaW4oJyAnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwYXJzZUNsYXNzQW55ID0gKG9iajogYW55KTogc3RyaW5nW10gPT4ge1xuICBpZiAoaXNTdHJpbmcob2JqKSkge1xuICAgIHJldHVybiBwYXJzZUNsYXNzTGlzdChvYmopO1xuICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9iaikpIHtcbiAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBvdXRwdXQ6IHN0cmluZ1tdID0gW107XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgb3V0cHV0LnB1c2goa2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBbXTtcbn07XG5cbmNvbnN0IHBhcnNlQ2xhc3NMaXN0UmVnZXggPSAvXFxzLztcbmNvbnN0IHBhcnNlQ2xhc3NMaXN0ID0gKHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsKTogc3RyaW5nW10gPT5cbiAgIXZhbHVlID8gRU1QVFlfQVJSQVkgOiB2YWx1ZS5zcGxpdChwYXJzZUNsYXNzTGlzdFJlZ2V4KTtcblxuZXhwb3J0IGNvbnN0IHN0cmluZ2lmeVN0eWxlID0gKG9iajogYW55KTogc3RyaW5nID0+IHtcbiAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gJyc7XG4gIGlmICh0eXBlb2Ygb2JqID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgdGhyb3cgcUVycm9yKFFFcnJvcl9zdHJpbmdpZnlDbGFzc09yU3R5bGUsIG9iaiwgJ3N0eWxlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNodW5rczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gb2JqW2tleV07XG4gICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICBjaHVua3MucHVzaChmcm9tQ2FtZWxUb0tlYmFiQ2FzZShrZXkpICsgJzonICsgdmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNodW5rcy5qb2luKCc7Jyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBTdHJpbmcob2JqKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXROZXh0SW5kZXggPSAoY3R4OiBSZW5kZXJDb250ZXh0KSA9PiB7XG4gIHJldHVybiBpbnRUb1N0cihjdHguJHN0YXRpYyQuJGNvbnRhaW5lclN0YXRlJC4kZWxlbWVudEluZGV4JCsrKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRRSWQgPSAoZWw6IFF3aWtFbGVtZW50KTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGNvbnN0IGN0eCA9IHRyeUdldENvbnRleHQoZWwpO1xuICBpZiAoY3R4KSB7XG4gICAgcmV0dXJuIGN0eC4kaWQkO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFFJZCA9IChyY3R4OiBSZW5kZXJDb250ZXh0LCBjdHg6IFFDb250ZXh0KSA9PiB7XG4gIGNvbnN0IGlkID0gZ2V0TmV4dEluZGV4KHJjdHgpO1xuICBjdHguJGlkJCA9IGlkO1xuICBpZiAocVNlcmlhbGl6ZSkge1xuICAgIGN0eC4kZWxlbWVudCQuc2V0QXR0cmlidXRlKEVMRU1FTlRfSUQsIGlkKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGhhc1N0eWxlID0gKGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSwgc3R5bGVJZDogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBjb250YWluZXJTdGF0ZS4kc3R5bGVJZHMkLmhhcyhzdHlsZUlkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBBTExPV1NfUFJPUFMgPSBbUVNsb3RdO1xuZXhwb3J0IGNvbnN0IFNLSVBTX1BST1BTID0gW1FTbG90LCBPblJlbmRlclByb3AsICdjaGlsZHJlbiddO1xuIl19","export const hashCode = (text, hash = 0) => {\n    if (text.length === 0)\n        return hash;\n    for (let i = 0; i < text.length; i++) {\n        const chr = text.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0; // Convert to 32bit integer\n    }\n    return Number(Math.abs(hash)).toString(36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGFzaF9jb2RlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvaGFzaF9jb2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLElBQVksRUFBRSxPQUFlLENBQUMsRUFBRSxFQUFFO0lBQ3pELElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxDQUFDO1FBQUUsT0FBTyxJQUFJLENBQUM7SUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDcEMsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQixJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsMkJBQTJCO0tBQ3ZDO0lBQ0QsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM3QyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaGFzaENvZGUgPSAodGV4dDogc3RyaW5nLCBoYXNoOiBudW1iZXIgPSAwKSA9PiB7XG4gIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIGhhc2g7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNociA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBoYXNoID0gKGhhc2ggPDwgNSkgLSBoYXNoICsgY2hyO1xuICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gIH1cbiAgcmV0dXJuIE51bWJlcihNYXRoLmFicyhoYXNoKSkudG9TdHJpbmcoMzYpO1xufTtcbiJdfQ==","import { ComponentStylesPrefixContent } from '../util/markers';\nimport { hashCode } from '../util/hash_code';\nimport { assertQrl } from '../import/qrl-class';\nexport const styleKey = (qStyles, index) => {\n    assertQrl(qStyles);\n    return `${hashCode(qStyles.$hash$)}-${index}`;\n};\nexport const styleHost = (styleId) => {\n    return styleId;\n};\nexport const styleContent = (styleId) => {\n    return ComponentStylesPrefixContent + styleId;\n};\nexport const serializeSStyle = (scopeIds) => {\n    const value = scopeIds.join(' ');\n    if (value.length > 0) {\n        return value;\n    }\n    return undefined;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvcXJsLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFFN0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBRWhELE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLE9BQW9CLEVBQUUsS0FBYSxFQUFVLEVBQUU7SUFDdEUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25CLE9BQU8sR0FBRyxRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEtBQUssRUFBRSxDQUFDO0FBQ2hELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxDQUFDLE9BQWUsRUFBVSxFQUFFO0lBQ25ELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLE9BQWUsRUFBVSxFQUFFO0lBQ3RELE9BQU8sNEJBQTRCLEdBQUcsT0FBTyxDQUFDO0FBQ2hELENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLFFBQWtCLEVBQUUsRUFBRTtJQUNwRCxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7UUFDcEIsT0FBTyxLQUFLLENBQUM7S0FDZDtJQUNELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgaGFzaENvZGUgfSBmcm9tICcuLi91dGlsL2hhc2hfY29kZSc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuXG5leHBvcnQgY29uc3Qgc3R5bGVLZXkgPSAocVN0eWxlczogUVJMPHN0cmluZz4sIGluZGV4OiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICBhc3NlcnRRcmwocVN0eWxlcyk7XG4gIHJldHVybiBgJHtoYXNoQ29kZShxU3R5bGVzLiRoYXNoJCl9LSR7aW5kZXh9YDtcbn07XG5cbmV4cG9ydCBjb25zdCBzdHlsZUhvc3QgPSAoc3R5bGVJZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIHN0eWxlSWQ7XG59O1xuXG5leHBvcnQgY29uc3Qgc3R5bGVDb250ZW50ID0gKHN0eWxlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIHJldHVybiBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50ICsgc3R5bGVJZDtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXJpYWxpemVTU3R5bGUgPSAoc2NvcGVJZHM6IHN0cmluZ1tdKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gc2NvcGVJZHMuam9pbignICcpO1xuICBpZiAodmFsdWUubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbiJdfQ==","import { assertDefined } from '../../assert/assert';\nimport { codeToText, QError_setProperty } from '../../error/error';\nimport { logDebug, logError, logWarn } from '../../util/log';\nimport { QSlot, QSlotRef, QStyle } from '../../util/markers';\nimport { qDev } from '../../util/qdev';\nimport { directGetAttribute, directSetAttribute } from '../fast-calls';\nimport { cleanupTree, directAppendChild, directInsertBefore, directRemoveChild, getChildren, isSlotTemplate, SVG_NS, } from './visitor';\nexport const setAttribute = (ctx, el, prop, value) => {\n    if (ctx) {\n        ctx.$operations$.push({\n            $operation$: _setAttribute,\n            $args$: [el, prop, value],\n        });\n    }\n    else {\n        _setAttribute(el, prop, value);\n    }\n};\nconst _setAttribute = (el, prop, value) => {\n    if (value == null || value === false) {\n        el.removeAttribute(prop);\n    }\n    else {\n        const str = value === true ? '' : String(value);\n        directSetAttribute(el, prop, str);\n    }\n};\nexport const setProperty = (ctx, node, key, value) => {\n    if (ctx) {\n        ctx.$operations$.push({\n            $operation$: _setProperty,\n            $args$: [node, key, value],\n        });\n    }\n    else {\n        _setProperty(node, key, value);\n    }\n};\nconst _setProperty = (node, key, value) => {\n    try {\n        node[key] = value;\n    }\n    catch (err) {\n        logError(codeToText(QError_setProperty), { node, key, value }, err);\n    }\n};\nexport const createElement = (doc, expectTag, isSvg) => {\n    const el = isSvg ? doc.createElementNS(SVG_NS, expectTag) : doc.createElement(expectTag);\n    return el;\n};\nexport const insertBefore = (ctx, parent, newChild, refChild) => {\n    ctx.$operations$.push({\n        $operation$: directInsertBefore,\n        $args$: [parent, newChild, refChild ? refChild : null],\n    });\n    return newChild;\n};\nexport const appendChild = (ctx, parent, newChild) => {\n    ctx.$operations$.push({\n        $operation$: directAppendChild,\n        $args$: [parent, newChild],\n    });\n    return newChild;\n};\nexport const appendHeadStyle = (ctx, styleTask) => {\n    ctx.$containerState$.$styleIds$.add(styleTask.styleId);\n    ctx.$postOperations$.push({\n        $operation$: _appendHeadStyle,\n        $args$: [ctx.$doc$, ctx.$containerEl$, styleTask],\n    });\n};\nexport const setClasslist = (ctx, elm, toRemove, toAdd) => {\n    if (ctx) {\n        ctx.$operations$.push({\n            $operation$: _setClasslist,\n            $args$: [elm, toRemove, toAdd],\n        });\n    }\n    else {\n        _setClasslist(elm, toRemove, toAdd);\n    }\n};\nexport const _setClasslist = (elm, toRemove, toAdd) => {\n    const classList = elm.classList;\n    classList.remove(...toRemove);\n    classList.add(...toAdd);\n};\nexport const _appendHeadStyle = (doc, containerEl, styleTask) => {\n    const isDoc = doc.documentElement === containerEl;\n    const headEl = doc.head;\n    const style = doc.createElement('style');\n    if (isDoc && !headEl) {\n        logWarn('document.head is undefined');\n    }\n    directSetAttribute(style, QStyle, styleTask.styleId);\n    style.textContent = styleTask.content;\n    if (isDoc && headEl) {\n        directAppendChild(headEl, style);\n    }\n    else {\n        directInsertBefore(containerEl, style, containerEl.firstChild);\n    }\n};\nexport const prepend = (ctx, parent, newChild) => {\n    ctx.$operations$.push({\n        $operation$: directInsertBefore,\n        $args$: [parent, newChild, parent.firstChild],\n    });\n};\nexport const removeNode = (ctx, el) => {\n    ctx.$operations$.push({\n        $operation$: _removeNode,\n        $args$: [el, ctx],\n    });\n};\nconst _removeNode = (el, staticCtx) => {\n    const parent = el.parentElement;\n    if (parent) {\n        if (el.nodeType === 1 || el.nodeType === 111) {\n            const subsManager = staticCtx.$containerState$.$subsManager$;\n            cleanupTree(el, staticCtx, subsManager, true);\n        }\n        directRemoveChild(parent, el);\n    }\n    else if (qDev) {\n        logWarn('Trying to remove component already removed', el);\n    }\n};\nexport const createTemplate = (doc, slotName) => {\n    const template = createElement(doc, 'q:template', false);\n    directSetAttribute(template, QSlot, slotName);\n    directSetAttribute(template, 'hidden', '');\n    directSetAttribute(template, 'aria-hidden', 'true');\n    return template;\n};\nexport const executeDOMRender = (ctx) => {\n    for (const op of ctx.$operations$) {\n        op.$operation$.apply(undefined, op.$args$);\n    }\n    resolveSlotProjection(ctx);\n};\nexport const getKey = (el) => {\n    return directGetAttribute(el, 'q:key');\n};\nexport const setKey = (el, key) => {\n    if (key !== null) {\n        directSetAttribute(el, 'q:key', key);\n    }\n};\nexport const resolveSlotProjection = (ctx) => {\n    // Slots removed\n    const subsManager = ctx.$containerState$.$subsManager$;\n    ctx.$rmSlots$.forEach((slotEl) => {\n        const key = getKey(slotEl);\n        assertDefined(key, 'slots must have a key');\n        const slotChildren = getChildren(slotEl, 'root');\n        if (slotChildren.length > 0) {\n            const sref = slotEl.getAttribute(QSlotRef);\n            const hostCtx = ctx.$roots$.find((r) => r.$id$ === sref);\n            if (hostCtx) {\n                const template = createTemplate(ctx.$doc$, key);\n                const hostElm = hostCtx.$element$;\n                for (const child of slotChildren) {\n                    directAppendChild(template, child);\n                }\n                directInsertBefore(hostElm, template, hostElm.firstChild);\n            }\n            else {\n                // If slot content cannot be relocated, it means it's content is definively removed\n                // Cleanup needs to be executed\n                cleanupTree(slotEl, ctx, subsManager, false);\n            }\n        }\n    });\n    // Slots added\n    ctx.$addSlots$.forEach(([slotEl, hostElm]) => {\n        const key = getKey(slotEl);\n        assertDefined(key, 'slots must have a key');\n        const template = Array.from(hostElm.childNodes).find((node) => {\n            return isSlotTemplate(node) && node.getAttribute(QSlot) === key;\n        });\n        if (template) {\n            const children = getChildren(template, 'root');\n            children.forEach((child) => {\n                directAppendChild(slotEl, child);\n            });\n            template.remove();\n        }\n    });\n};\nexport const createTextNode = (doc, text) => {\n    return doc.createTextNode(text);\n};\nexport const printRenderStats = (ctx) => {\n    if (qDev) {\n        if (typeof window !== 'undefined' && window.document != null) {\n            const byOp = {};\n            for (const op of ctx.$operations$) {\n                byOp[op.$operation$.name] = (byOp[op.$operation$.name] ?? 0) + 1;\n            }\n            const stats = {\n                byOp,\n                roots: ctx.$roots$.map((ctx) => ctx.$element$),\n                hostElements: Array.from(ctx.$hostElements$),\n                operations: ctx.$operations$.map((v) => [v.$operation$.name, ...v.$args$]),\n            };\n            const noOps = ctx.$operations$.length === 0;\n            logDebug('Render stats.', noOps ? 'No operations' : '', stats);\n        }\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlcmF0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZG9tL29wZXJhdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxVQUFVLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUVuRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsS0FBSyxFQUFFLFFBQVEsRUFBRSxNQUFNLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdkMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLGtCQUFrQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR3ZFLE9BQU8sRUFDTCxXQUFXLEVBQ1gsaUJBQWlCLEVBQ2pCLGtCQUFrQixFQUNsQixpQkFBaUIsRUFDakIsV0FBVyxFQUNYLGNBQWMsRUFDZCxNQUFNLEdBQ1AsTUFBTSxXQUFXLENBQUM7QUFFbkIsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQzFCLEdBQW9DLEVBQ3BDLEVBQWUsRUFDZixJQUFZLEVBQ1osS0FBVSxFQUNWLEVBQUU7SUFDRixJQUFJLEdBQUcsRUFBRTtRQUNQLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDO1lBQ3BCLFdBQVcsRUFBRSxhQUFhO1lBQzFCLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDO1NBQzFCLENBQUMsQ0FBQztLQUNKO1NBQU07UUFDTCxhQUFhLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztLQUNoQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sYUFBYSxHQUFHLENB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RSxFQUFFLEtBQUssQ0FBQyxDQUFDO1NBQ2hFO0tBQ0Y7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBjb2RlVG9UZXh0LCBRRXJyb3Jfc2V0UHJvcGVydHkgfSBmcm9tICcuLi8uLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgdHlwZSB7IFN0eWxlQXBwZW5kIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IGxvZ0RlYnVnLCBsb2dFcnJvciwgbG9nV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IFFTbG90LCBRU2xvdFJlZiwgUVN0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi8uLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgZGlyZWN0R2V0QXR0cmlidXRlLCBkaXJlY3RTZXRBdHRyaWJ1dGUgfSBmcm9tICcuLi9mYXN0LWNhbGxzJztcbmltcG9ydCB0eXBlIHsgUmVuZGVyU3RhdGljQ29udGV4dCB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgUXdpa0VsZW1lbnQsIFZpcnR1YWxFbGVtZW50IH0gZnJvbSAnLi92aXJ0dWFsLWVsZW1lbnQnO1xuaW1wb3J0IHtcbiAgY2xlYW51cFRyZWUsXG4gIGRpcmVjdEFwcGVuZENoaWxkLFxuICBkaXJlY3RJbnNlcnRCZWZvcmUsXG4gIGRpcmVjdFJlbW92ZUNoaWxkLFxuICBnZXRDaGlsZHJlbixcbiAgaXNTbG90VGVtcGxhdGUsXG4gIFNWR19OUyxcbn0gZnJvbSAnLi92aXNpdG9yJztcblxuZXhwb3J0IGNvbnN0IHNldEF0dHJpYnV0ZSA9IChcbiAgY3R4OiBSZW5kZXJTdGF0aWNDb250ZXh0IHwgdW5kZWZpbmVkLFxuICBlbDogUXdpa0VsZW1lbnQsXG4gIHByb3A6IHN0cmluZyxcbiAgdmFsdWU6IGFueVxuKSA9PiB7XG4gIGlmIChjdHgpIHtcbiAgICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICAgJG9wZXJhdGlvbiQ6IF9zZXRBdHRyaWJ1dGUsXG4gICAgICAkYXJncyQ6IFtlbCwgcHJvcCwgdmFsdWVdLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIF9zZXRBdHRyaWJ1dGUoZWwsIHByb3AsIHZhbHVlKTtcbiAgfVxufTtcblxuY29uc3QgX3NldEF0dHJpYnV0ZSA9IChlbDogUXdpa0VsZW1lbnQsIHByb3A6IHN0cmluZywgdmFsdWU6IGFueSkgPT4ge1xuICBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSA9PT0gZmFsc2UpIHtcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUocHJvcCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc3RyID0gdmFsdWUgPT09IHRydWUgPyAnJyA6IFN0cmluZyh2YWx1ZSk7XG4gICAgZGlyZWN0U2V0QXR0cmlidXRlKGVsLCBwcm9wLCBzdHIpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0UHJvcGVydHkgPSAoXG4gIGN0eDogUmVuZGVyU3RhdGljQ29udGV4dCB8IHVuZGVmaW5lZCxcbiAgbm9kZTogYW55LFxuICBrZXk6IHN0cmluZyxcbiAgdmFsdWU6IGFueVxuKSA9PiB7XG4gIGlmIChjdHgpIHtcbiAgICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICAgJG9wZXJhdGlvbiQ6IF9zZXRQcm9wZXJ0eSxcbiAgICAgICRhcmdzJDogW25vZGUsIGtleSwgdmFsdWVdLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIF9zZXRQcm9wZXJ0eShub2RlLCBrZXksIHZhbHVlKTtcbiAgfVxufTtcblxuY29uc3QgX3NldFByb3BlcnR5ID0gKG5vZGU6IGFueSwga2V5OiBzdHJpbmcsIHZhbHVlOiBhbnkpID0+IHtcbiAgdHJ5IHtcbiAgICBub2RlW2tleV0gPSB2YWx1ZTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgbG9nRXJyb3IoY29kZVRvVGV4dChRRXJyb3Jfc2V0UHJvcGVydHkpLCB7IG5vZGUsIGtleSwgdmFsdWUgfSwgZXJyKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAoZG9jOiBEb2N1bWVudCwgZXhwZWN0VGFnOiBzdHJpbmcsIGlzU3ZnOiBib29sZWFuKTogRWxlbWVudCA9PiB7XG4gIGNvbnN0IGVsID0gaXNTdmcgPyBkb2MuY3JlYXRlRWxlbWVudE5TKFNWR19OUywgZXhwZWN0VGFnKSA6IGRvYy5jcmVhdGVFbGVtZW50KGV4cGVjdFRhZyk7XG5cbiAgcmV0dXJuIGVsO1xufTtcblxuZXhwb3J0IGNvbnN0IGluc2VydEJlZm9yZSA9IDxUIGV4dGVuZHMgTm9kZSB8IFZpcnR1YWxFbGVtZW50PihcbiAgY3R4OiBSZW5kZXJTdGF0aWNDb250ZXh0LFxuICBwYXJlbnQ6IFF3aWtFbGVtZW50LFxuICBuZXdDaGlsZDogVCxcbiAgcmVmQ2hpbGQ6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGwgfCB1bmRlZmluZWRcbik6IFQgPT4ge1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRvcGVyYXRpb24kOiBkaXJlY3RJbnNlcnRCZWZvcmUsXG4gICAgJGFyZ3MkOiBbcGFyZW50LCBuZXdDaGlsZCwgcmVmQ2hpbGQgPyByZWZDaGlsZCA6IG51bGxdLFxuICB9KTtcbiAgcmV0dXJuIG5ld0NoaWxkO1xufTtcblxuZXhwb3J0IGNvbnN0IGFwcGVuZENoaWxkID0gPFQgZXh0ZW5kcyBOb2RlIHwgVmlydHVhbEVsZW1lbnQ+KFxuICBjdHg6IFJlbmRlclN0YXRpY0NvbnRleHQsXG4gIHBhcmVudDogUXdpa0VsZW1lbnQsXG4gIG5ld0NoaWxkOiBUXG4pOiBUID0+IHtcbiAgY3R4LiRvcGVyYXRpb25zJC5wdXNoKHtcbiAgICAkb3BlcmF0aW9uJDogZGlyZWN0QXBwZW5kQ2hpbGQsXG4gICAgJGFyZ3MkOiBbcGFyZW50LCBuZXdDaGlsZF0sXG4gIH0pO1xuICByZXR1cm4gbmV3Q2hpbGQ7XG59O1xuXG5leHBvcnQgY29uc3QgYXBwZW5kSGVhZFN0eWxlID0gKGN0eDogUmVuZGVyU3RhdGljQ29udGV4dCwgc3R5bGVUYXNrOiBTdHlsZUFwcGVuZCkgPT4ge1xuICBjdHguJGNvbnRhaW5lclN0YXRlJC4kc3R5bGVJZHMkLmFkZChzdHlsZVRhc2suc3R5bGVJZCk7XG4gIGN0eC4kcG9zdE9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRvcGVyYXRpb24kOiBfYXBwZW5kSGVhZFN0eWxlLFxuICAgICRhcmdzJDogW2N0eC4kZG9jJCwgY3R4LiRjb250YWluZXJFbCQsIHN0eWxlVGFza10sXG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldENsYXNzbGlzdCA9IChcbiAgY3R4OiBSZW5kZXJTdGF0aWNDb250ZXh0IHwgdW5kZWZpbmVkLFxuICBlbG06IEVsZW1lbnQsXG4gIHRvUmVtb3ZlOiBzdHJpbmdbXSxcbiAgdG9BZGQ6IHN0cmluZ1tdXG4pID0+IHtcbiAgaWYgKGN0eCkge1xuICAgIGN0eC4kb3BlcmF0aW9ucyQucHVzaCh7XG4gICAgICAkb3BlcmF0aW9uJDogX3NldENsYXNzbGlzdCxcbiAgICAgICRhcmdzJDogW2VsbSwgdG9SZW1vdmUsIHRvQWRkXSxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBfc2V0Q2xhc3NsaXN0KGVsbSwgdG9SZW1vdmUsIHRvQWRkKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IF9zZXRDbGFzc2xpc3QgPSAoZWxtOiBFbGVtZW50LCB0b1JlbW92ZTogc3RyaW5nW10sIHRvQWRkOiBzdHJpbmdbXSkgPT4ge1xuICBjb25zdCBjbGFzc0xpc3QgPSBlbG0uY2xhc3NMaXN0O1xuICBjbGFzc0xpc3QucmVtb3ZlKC4uLnRvUmVtb3ZlKTtcbiAgY2xhc3NMaXN0LmFkZCguLi50b0FkZCk7XG59O1xuXG5leHBvcnQgY29uc3QgX2FwcGVuZEhlYWRTdHlsZSA9IChkb2M6IERvY3VtZW50LCBjb250YWluZXJFbDogRWxlbWVudCwgc3R5bGVUYXNrOiBTdHlsZUFwcGVuZCkgPT4ge1xuICBjb25zdCBpc0RvYyA9IGRvYy5kb2N1bWVudEVsZW1lbnQgPT09IGNvbnRhaW5lckVsO1xuICBjb25zdCBoZWFkRWwgPSBkb2MuaGVhZDtcbiAgY29uc3Qgc3R5bGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgaWYgKGlzRG9jICYmICFoZWFkRWwpIHtcbiAgICBsb2dXYXJuKCdkb2N1bWVudC5oZWFkIGlzIHVuZGVmaW5lZCcpO1xuICB9XG4gIGRpcmVjdFNldEF0dHJpYnV0ZShzdHlsZSwgUVN0eWxlLCBzdHlsZVRhc2suc3R5bGVJZCk7XG4gIHN0eWxlLnRleHRDb250ZW50ID0gc3R5bGVUYXNrLmNvbnRlbnQ7XG4gIGlmIChpc0RvYyAmJiBoZWFkRWwpIHtcbiAgICBkaXJlY3RBcHBlbmRDaGlsZChoZWFkRWwsIHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICBkaXJlY3RJbnNlcnRCZWZvcmUoY29udGFpbmVyRWwsIHN0eWxlLCBjb250YWluZXJFbC5maXJzdENoaWxkKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHByZXBlbmQgPSAoY3R4OiBSZW5kZXJTdGF0aWNDb250ZXh0LCBwYXJlbnQ6IFF3aWtFbGVtZW50LCBuZXdDaGlsZDogTm9kZSkgPT4ge1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRvcGVyYXRpb24kOiBkaXJlY3RJbnNlcnRCZWZvcmUsXG4gICAgJGFyZ3MkOiBbcGFyZW50LCBuZXdDaGlsZCwgcGFyZW50LmZpcnN0Q2hpbGRdLFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZW1vdmVOb2RlID0gKGN0eDogUmVuZGVyU3RhdGljQ29udGV4dCwgZWw6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCkgPT4ge1xuICBjdHguJG9wZXJhdGlvbnMkLnB1c2goe1xuICAgICRvcGVyYXRpb24kOiBfcmVtb3ZlTm9kZSxcbiAgICAkYXJncyQ6IFtlbCwgY3R4XSxcbiAgfSk7XG59O1xuXG5jb25zdCBfcmVtb3ZlTm9kZSA9IChlbDogTm9kZSB8IFZpcnR1YWxFbGVtZW50LCBzdGF0aWNDdHg6IFJlbmRlclN0YXRpY0NvbnRleHQpID0+IHtcbiAgY29uc3QgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudDtcbiAgaWYgKHBhcmVudCkge1xuICAgIGlmIChlbC5ub2RlVHlwZSA9PT0gMSB8fCBlbC5ub2RlVHlwZSA9PT0gMTExKSB7XG4gICAgICBjb25zdCBzdWJzTWFuYWdlciA9IHN0YXRpY0N0eC4kY29udGFpbmVyU3RhdGUkLiRzdWJzTWFuYWdlciQ7XG4gICAgICBjbGVhbnVwVHJlZShlbCBhcyBFbGVtZW50LCBzdGF0aWNDdHgsIHN1YnNNYW5hZ2VyLCB0cnVlKTtcbiAgICB9XG4gICAgZGlyZWN0UmVtb3ZlQ2hpbGQocGFyZW50LCBlbCk7XG4gIH0gZWxzZSBpZiAocURldikge1xuICAgIGxvZ1dhcm4oJ1RyeWluZyB0byByZW1vdmUgY29tcG9uZW50IGFscmVhZHkgcmVtb3ZlZCcsIGVsKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRlbXBsYXRlID0gKGRvYzogRG9jdW1lbnQsIHNsb3ROYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgdGVtcGxhdGUgPSBjcmVhdGVFbGVtZW50KGRvYywgJ3E6dGVtcGxhdGUnLCBmYWxzZSk7XG4gIGRpcmVjdFNldEF0dHJpYnV0ZSh0ZW1wbGF0ZSwgUVNsb3QsIHNsb3ROYW1lKTtcbiAgZGlyZWN0U2V0QXR0cmlidXRlKHRlbXBsYXRlLCAnaGlkZGVuJywgJycpO1xuICBkaXJlY3RTZXRBdHRyaWJ1dGUodGVtcGxhdGUsICdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG5cbiAgcmV0dXJuIHRlbXBsYXRlO1xufTtcblxuZXhwb3J0IGNvbnN0IGV4ZWN1dGVET01SZW5kZXIgPSAoY3R4OiBSZW5kZXJTdGF0aWNDb250ZXh0KSA9PiB7XG4gIGZvciAoY29uc3Qgb3Agb2YgY3R4LiRvcGVyYXRpb25zJCkge1xuICAgIG9wLiRvcGVyYXRpb24kLmFwcGx5KHVuZGVmaW5lZCwgb3AuJGFyZ3MkKTtcbiAgfVxuICByZXNvbHZlU2xvdFByb2plY3Rpb24oY3R4KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRLZXkgPSAoZWw6IFF3aWtFbGVtZW50KTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIHJldHVybiBkaXJlY3RHZXRBdHRyaWJ1dGUoZWwsICdxOmtleScpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldEtleSA9IChlbDogUXdpa0VsZW1lbnQsIGtleTogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICBpZiAoa2V5ICE9PSBudWxsKSB7XG4gICAgZGlyZWN0U2V0QXR0cmlidXRlKGVsLCAncTprZXknLCBrZXkpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVzb2x2ZVNsb3RQcm9qZWN0aW9uID0gKGN0eDogUmVuZGVyU3RhdGljQ29udGV4dCkgPT4ge1xuICAvLyBTbG90cyByZW1vdmVkXG4gIGNvbnN0IHN1YnNNYW5hZ2VyID0gY3R4LiRjb250YWluZXJTdGF0ZSQuJHN1YnNNYW5hZ2VyJDtcbiAgY3R4LiRybVNsb3RzJC5mb3JFYWNoKChzbG90RWwpID0+IHtcbiAgICBjb25zdCBrZXkgPSBnZXRLZXkoc2xvdEVsKTtcbiAgICBhc3NlcnREZWZpbmVkKGtleSwgJ3Nsb3RzIG11c3QgaGF2ZSBhIGtleScpO1xuXG4gICAgY29uc3Qgc2xvdENoaWxkcmVuID0gZ2V0Q2hpbGRyZW4oc2xvdEVsLCAncm9vdCcpO1xuICAgIGlmIChzbG90Q2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgc3JlZiA9IHNsb3RFbC5nZXRBdHRyaWJ1dGUoUVNsb3RSZWYpO1xuICAgICAgY29uc3QgaG9zdEN0eCA9IGN0eC4kcm9vdHMkLmZpbmQoKHIpID0+IHIuJGlkJCA9PT0gc3JlZik7XG4gICAgICBpZiAoaG9zdEN0eCkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGNyZWF0ZVRlbXBsYXRlKGN0eC4kZG9jJCwga2V5KTtcbiAgICAgICAgY29uc3QgaG9zdEVsbSA9IGhvc3RDdHguJGVsZW1lbnQkO1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHNsb3RDaGlsZHJlbikge1xuICAgICAgICAgIGRpcmVjdEFwcGVuZENoaWxkKHRlbXBsYXRlLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgZGlyZWN0SW5zZXJ0QmVmb3JlKGhvc3RFbG0sIHRlbXBsYXRlLCBob3N0RWxtLmZpcnN0Q2hpbGQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gSWYgc2xvdCBjb250ZW50IGNhbm5vdCBiZSByZWxvY2F0ZWQsIGl0IG1lYW5zIGl0J3MgY29udGVudCBpcyBkZWZpbml2ZWx5IHJlbW92ZWRcbiAgICAgICAgLy8gQ2xlYW51cCBuZWVkcyB0byBiZSBleGVjdXRlZFxuICAgICAgICBjbGVhbnVwVHJlZShzbG90RWwsIGN0eCwgc3Vic01hbmFnZXIsIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNsb3RzIGFkZGVkXG4gIGN0eC4kYWRkU2xvdHMkLmZvckVhY2goKFtzbG90RWwsIGhvc3RFbG1dKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gZ2V0S2V5KHNsb3RFbCk7XG4gICAgYXNzZXJ0RGVmaW5lZChrZXksICdzbG90cyBtdXN0IGhhdmUgYSBrZXknKTtcblxuICAgIGNvbnN0IHRlbXBsYXRlID0gQXJyYXkuZnJvbShob3N0RWxtLmNoaWxkTm9kZXMpLmZpbmQoKG5vZGUpID0+IHtcbiAgICAgIHJldHVybiBpc1Nsb3RUZW1wbGF0ZShub2RlKSAmJiBub2RlLmdldEF0dHJpYnV0ZShRU2xvdCkgPT09IGtleTtcbiAgICB9KSBhcyBFbGVtZW50IHwgdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBnZXRDaGlsZHJlbih0ZW1wbGF0ZSwgJ3Jvb3QnKTtcbiAgICAgIGNoaWxkcmVuLmZvckVhY2goKGNoaWxkKSA9PiB7XG4gICAgICAgIGRpcmVjdEFwcGVuZENoaWxkKHNsb3RFbCwgY2hpbGQpO1xuICAgICAgfSk7XG4gICAgICB0ZW1wbGF0ZS5yZW1vdmUoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVRleHROb2RlID0gKGRvYzogRG9jdW1lbnQsIHRleHQ6IHN0cmluZyk6IFRleHQgPT4ge1xuICByZXR1cm4gZG9jLmNyZWF0ZVRleHROb2RlKHRleHQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHByaW50UmVuZGVyU3RhdHMgPSAoY3R4OiBSZW5kZXJTdGF0aWNDb250ZXh0KSA9PiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBieU9wOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge307XG4gICAgICBmb3IgKGNvbnN0IG9wIG9mIGN0eC4kb3BlcmF0aW9ucyQpIHtcbiAgICAgICAgYnlPcFtvcC4kb3BlcmF0aW9uJC5uYW1lXSA9IChieU9wW29wLiRvcGVyYXRpb24kLm5hbWVdID8/IDApICsgMTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN0YXRzID0ge1xuICAgICAgICBieU9wLFxuICAgICAgICByb290czogY3R4LiRyb290cyQubWFwKChjdHgpID0+IGN0eC4kZWxlbWVudCQpLFxuICAgICAgICBob3N0RWxlbWVudHM6IEFycmF5LmZyb20oY3R4LiRob3N0RWxlbWVudHMkKSxcbiAgICAgICAgb3BlcmF0aW9uczogY3R4LiRvcGVyYXRpb25zJC5tYXAoKHYpID0+IFt2LiRvcGVyYXRpb24kLm5hbWUsIC4uLnYuJGFyZ3MkXSksXG4gICAgICB9O1xuICAgICAgY29uc3Qgbm9PcHMgPSBjdHguJG9wZXJhdGlvbnMkLmxlbmd0aCA9PT0gMDtcbiAgICAgIGxvZ0RlYnVnKCdSZW5kZXIgc3RhdHMuJywgbm9PcHMgPyAnTm8gb3BlcmF0aW9ucycgOiAnJywgc3RhdHMpO1xuICAgIH1cbiAgfVxufTtcbiJdfQ==","import { assertEqual, assertTrue } from '../../assert/assert';\nimport { isElement, isQwikElement, isVirtualElement } from '../../util/element';\nimport { qSerialize, seal } from '../../util/qdev';\nimport { directGetAttribute } from '../fast-calls';\nimport { createElement } from './operations';\nimport { getChildren } from './visitor';\nconst VIRTUAL_SYMBOL = '__virtual';\nexport const newVirtualElement = (doc) => {\n    const open = doc.createComment('qv ');\n    const close = doc.createComment('/qv');\n    return new VirtualElementImpl(open, close);\n};\nexport const parseVirtualAttributes = (str) => {\n    if (!str) {\n        return new Map();\n    }\n    const attributes = str.split(' ');\n    return new Map(attributes.map((attr) => {\n        const index = attr.indexOf('=');\n        if (index >= 0) {\n            return [attr.slice(0, index), unescape(attr.slice(index + 1))];\n        }\n        else {\n            return [attr, ''];\n        }\n    }));\n};\nexport const serializeVirtualAttributes = (map) => {\n    const attributes = [];\n    map.forEach((value, key) => {\n        if (!value) {\n            attributes.push(`${key}`);\n        }\n        else {\n            attributes.push(`${key}=${escape(value)}`);\n        }\n    });\n    return attributes.join(' ');\n};\nconst SHOW_COMMENT = 128;\nconst FILTER_ACCEPT = 1;\nconst FILTER_REJECT = 2;\nexport const walkerVirtualByAttribute = (el, prop, value) => {\n    return el.ownerDocument.createTreeWalker(el, SHOW_COMMENT, {\n        acceptNode(c) {\n            const virtual = getVirtualElement(c);\n            if (virtual) {\n                return directGetAttribute(virtual, prop) === value ? FILTER_ACCEPT : FILTER_REJECT;\n            }\n            return FILTER_REJECT;\n        },\n    });\n};\nexport const queryVirtualByAttribute = (el, prop, value) => {\n    const walker = walkerVirtualByAttribute(el, prop, value);\n    const open = walker.firstChild();\n    if (open) {\n        return getVirtualElement(open);\n    }\n    return null;\n};\nexport const queryAllVirtualByAttribute = (el, prop, value) => {\n    const walker = walkerVirtualByAttribute(el, prop, value);\n    const pars = [];\n    let currentNode = null;\n    while ((currentNode = walker.nextNode())) {\n        pars.push(getVirtualElement(currentNode));\n    }\n    return pars;\n};\nexport const escape = (s) => {\n    return s.replace(/ /g, '+');\n};\nexport const unescape = (s) => {\n    return s.replace(/\\+/g, ' ');\n};\nexport const VIRTUAL = ':virtual';\nexport class VirtualElementImpl {\n    constructor(open, close) {\n        this.open = open;\n        this.close = close;\n        this._qc_ = null;\n        this.nodeType = 111;\n        this.localName = VIRTUAL;\n        this.nodeName = VIRTUAL;\n        const doc = (this.ownerDocument = open.ownerDocument);\n        this.template = createElement(doc, 'template', false);\n        this.attributes = parseVirtualAttributes(open.data.slice(3));\n        assertTrue(open.data.startsWith('qv '), 'comment is not a qv');\n        open[VIRTUAL_SYMBOL] = this;\n        seal(this);\n    }\n    insertBefore(node, ref) {\n        const parent = this.parentElement;\n        if (parent) {\n            const ref2 = ref ? ref : this.close;\n            parent.insertBefore(node, ref2);\n        }\n        else {\n            this.template.insertBefore(node, ref);\n        }\n        return node;\n    }\n    remove() {\n        const parent = this.parentElement;\n        if (parent) {\n            const ch = Array.from(this.childNodes);\n            assertEqual(this.template.childElementCount, 0, 'children should be empty');\n            parent.removeChild(this.open);\n            this.template.append(...ch);\n            parent.removeChild(this.close);\n        }\n    }\n    appendChild(node) {\n        return this.insertBefore(node, null);\n    }\n    insertBeforeTo(newParent, child) {\n        const ch = Array.from(this.childNodes);\n        if (this.parentElement) {\n            console.warn('already attached');\n        }\n        newParent.insertBefore(this.open, child);\n        for (const c of ch) {\n            newParent.insertBefore(c, child);\n        }\n        newParent.insertBefore(this.close, child);\n        assertEqual(this.template.childElementCount, 0, 'children should be empty');\n    }\n    appendTo(newParent) {\n        this.insertBeforeTo(newParent, null);\n    }\n    removeChild(child) {\n        if (this.parentElement) {\n            this.parentElement.removeChild(child);\n        }\n        else {\n            this.template.removeChild(child);\n        }\n    }\n    getAttribute(prop) {\n        return this.attributes.get(prop) ?? null;\n    }\n    hasAttribute(prop) {\n        return this.attributes.has(prop);\n    }\n    setAttribute(prop, value) {\n        this.attributes.set(prop, value);\n        if (qSerialize) {\n            this.open.data = updateComment(this.attributes);\n        }\n    }\n    removeAttribute(prop) {\n        this.attributes.delete(prop);\n        if (qSerialize) {\n            this.open.data = updateComment(this.attributes);\n        }\n    }\n    matches(_) {\n        return false;\n    }\n    compareDocumentPosition(other) {\n        return this.open.compareDocumentPosition(other);\n    }\n    closest(query) {\n        const parent = this.parentElement;\n        if (parent) {\n            return parent.closest(query);\n        }\n        return null;\n    }\n    querySelectorAll(query) {\n        const result = [];\n        const ch = getChildren(this, 'elements');\n        ch.forEach((el) => {\n            if (isQwikElement(el)) {\n                if (el.matches(query)) {\n                    result.push(el);\n                }\n                result.concat(Array.from(el.querySelectorAll(query)));\n            }\n        });\n        return result;\n    }\n    querySelector(query) {\n        for (const el of this.childNodes) {\n            if (isElement(el)) {\n                if (el.matches(query)) {\n                    return el;\n                }\n                const v = el.querySelector(query);\n                if (v !== null) {\n                    return v;\n                }\n            }\n        }\n        return null;\n    }\n    get firstChild() {\n        if (this.parentElement) {\n            const first = this.open.nextSibling;\n            if (first === this.close) {\n                return null;\n            }\n            return first;\n        }\n        else {\n            return this.template.firstChild;\n        }\n    }\n    get nextSibling() {\n        return this.close.nextSibling;\n    }\n    get previousSibling() {\n        return this.open.previousSibling;\n    }\n    get childNodes() {\n        if (!this.parentElement) {\n            return this.template.childNodes;\n        }\n        const nodes = [];\n        let node = this.open;\n        while ((node = node.nextSibling)) {\n            if (node !== this.close) {\n                nodes.push(node);\n            }\n            else {\n                break;\n            }\n        }\n        return nodes;\n    }\n    get isConnected() {\n        return this.open.isConnected;\n    }\n    get parentElement() {\n        return this.open.parentElement;\n    }\n}\nconst updateComment = (attributes) => {\n    return `qv ${serializeVirtualAttributes(attributes)}`;\n};\nexport const processVirtualNodes = (node) => {\n    if (node == null) {\n        return null;\n    }\n    if (isComment(node)) {\n        const virtual = getVirtualElement(node);\n        if (virtual) {\n            return virtual;\n        }\n    }\n    return node;\n};\nexport const getVirtualElement = (open) => {\n    const virtual = open[VIRTUAL_SYMBOL];\n    if (virtual) {\n        return virtual;\n    }\n    if (open.data.startsWith('qv ')) {\n        const close = findClose(open);\n        return new VirtualElementImpl(open, close);\n    }\n    return null;\n};\nconst findClose = (open) => {\n    let node = open.nextSibling;\n    let stack = 1;\n    while (node) {\n        if (isComment(node)) {\n            if (node.data.startsWith('qv ')) {\n                stack++;\n            }\n            else if (node.data === '/qv') {\n                stack--;\n                if (stack === 0) {\n                    return node;\n                }\n            }\n        }\n        node = node.nextSibling;\n    }\n    throw new Error('close not found');\n};\nexport const isComment = (node) => {\n    return node.nodeType === 8;\n};\nexport const getRootNode = (node) => {\n    if (node == null) {\n        return null; // TODO\n    }\n    if (isVirtualElement(node)) {\n        return node.open;\n    }\n    else {\n        return node;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlydHVhbC1lbGVtZW50LmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDOUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNoRixPQUFPLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzdDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFeEMsTUFBTSxjQUFjLEdBQUcsV0FBVyxDQUFDO0FBa0NuQyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLEdBQWEsRUFBa0IsRUFBRTtJQUNqRSxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3RDLE1BQU0sS0FBSyxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkMsT0FBTyxJQUFJLGtCQUFrQixDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztBQUM3QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxDQUFDLEdBQVcsRUFBdUIsRUFBRTtJQUN6RSxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ1IsT0FBTyxJQUFJLEdBQUcsRUFBRSxDQUFDO0tBQ2xCO0lBQ0QsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNsQyxPQUFPLElBQUksR0FB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S0FBSyxDQUFDLENBQUM7QUFDN0IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLENBQUMsSUFBa0MsRUFBUSxFQUFFO0lBQ3RFLElBQUksSUFBSSxJQUFJLElBQUksRUFBRTtRQUNoQixPQUFPLElBQVcsQ0FBQyxDQUFDLE9BQU87S0FDNUI7SUFDRCxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztLQUNsQjtTQUFNO1FBQ0wsT0FBTyxJQUFJLENBQUM7S0FDYjtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydEVxdWFsLCBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBpc0VsZW1lbnQsIGlzUXdpa0VsZW1lbnQsIGlzVmlydHVhbEVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlsL2VsZW1lbnQnO1xuaW1wb3J0IHsgcVNlcmlhbGl6ZSwgc2VhbCB9IGZyb20gJy4uLy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBkaXJlY3RHZXRBdHRyaWJ1dGUgfSBmcm9tICcuLi9mYXN0LWNhbGxzJztcbmltcG9ydCB7IGNyZWF0ZUVsZW1lbnQgfSBmcm9tICcuL29wZXJhdGlvbnMnO1xuaW1wb3J0IHsgZ2V0Q2hpbGRyZW4gfSBmcm9tICcuL3Zpc2l0b3InO1xuXG5jb25zdCBWSVJUVUFMX1NZTUJPTCA9ICdfX3ZpcnR1YWwnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpcnR1YWxFbGVtZW50IHtcbiAgcmVhZG9ubHkgb3BlbjogQ29tbWVudDtcbiAgcmVhZG9ubHkgY2xvc2U6IENvbW1lbnQ7XG4gIHJlYWRvbmx5IGluc2VydEJlZm9yZTogPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBULCBjaGlsZDogTm9kZSB8IG51bGwpID0+IFQ7XG4gIHJlYWRvbmx5IGFwcGVuZENoaWxkOiA8VCBleHRlbmRzIE5vZGU+KG5vZGU6IFQpID0+IFQ7XG4gIHJlYWRvbmx5IGluc2VydEJlZm9yZVRvOiAobmV3UGFyZW50OiBRd2lrRWxlbWVudCwgY2hpbGQ6IE5vZGUgfCBudWxsKSA9PiB2b2lkO1xuICByZWFkb25seSBhcHBlbmRUbzogKG5ld1BhcmVudDogUXdpa0VsZW1lbnQpID0+IHZvaWQ7XG4gIHJlYWRvbmx5IG93bmVyRG9jdW1lbnQ6IERvY3VtZW50O1xuICByZWFkb25seSBub2RlVHlwZTogMTExO1xuICByZWFkb25seSBjaGlsZE5vZGVzOiBOb2RlW107XG4gIHJlYWRvbmx5IGZpcnN0Q2hpbGQ6IE5vZGUgfCBudWxsO1xuICByZWFkb25seSBwcmV2aW91c1NpYmxpbmc6IE5vZGUgfCBudWxsO1xuICByZWFkb25seSBuZXh0U2libGluZzogTm9kZSB8IG51bGw7XG4gIHJlYWRvbmx5IHJlbW92ZTogKCkgPT4gdm9pZDtcbiAgcmVhZG9ubHkgY2xvc2VzdDogKHF1ZXJ5OiBzdHJpbmcpID0+IEVsZW1lbnQgfCBudWxsO1xuICByZWFkb25seSBoYXNBdHRyaWJ1dGU6IChwcm9wOiBzdHJpbmcpID0+IGJvb2xlYW47XG4gIHJlYWRvbmx5IGdldEF0dHJpYnV0ZTogKHByb3A6IHN0cmluZykgPT4gc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgcmVtb3ZlQXR0cmlidXRlOiAocHJvcDogc3RyaW5nKSA9PiB2b2lkO1xuICByZWFkb25seSBxdWVyeVNlbGVjdG9yOiAocXVlcnk6IHN0cmluZykgPT4gUXdpa0VsZW1lbnQgfCBudWxsO1xuICByZWFkb25seSBxdWVyeVNlbGVjdG9yQWxsOiAocXVlcnk6IHN0cmluZykgPT4gUXdpa0VsZW1lbnRbXTtcbiAgcmVhZG9ubHkgY29tcGFyZURvY3VtZW50UG9zaXRpb246IChvdGhlcjogTm9kZSkgPT4gbnVtYmVyO1xuICByZWFkb25seSBtYXRjaGVzOiAocXVlcnk6IHN0cmluZykgPT4gYm9vbGVhbjtcbiAgcmVhZG9ubHkgc2V0QXR0cmlidXRlOiAocHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICByZWFkb25seSByZW1vdmVDaGlsZDogKG5vZGU6IE5vZGUpID0+IHZvaWQ7XG4gIHJlYWRvbmx5IGxvY2FsTmFtZTogc3RyaW5nO1xuICByZWFkb25seSBub2RlTmFtZTogc3RyaW5nO1xuICByZWFkb25seSBpc0Nvbm5lY3RlZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgcGFyZW50RWxlbWVudDogRWxlbWVudCB8IG51bGw7XG59XG5cbmV4cG9ydCB0eXBlIFF3aWtFbGVtZW50ID0gRWxlbWVudCB8IFZpcnR1YWxFbGVtZW50O1xuXG5leHBvcnQgY29uc3QgbmV3VmlydHVhbEVsZW1lbnQgPSAoZG9jOiBEb2N1bWVudCk6IFZpcnR1YWxFbGVtZW50ID0+IHtcbiAgY29uc3Qgb3BlbiA9IGRvYy5jcmVhdGVDb21tZW50KCdxdiAnKTtcbiAgY29uc3QgY2xvc2UgPSBkb2MuY3JlYXRlQ29tbWVudCgnL3F2Jyk7XG4gIHJldHVybiBuZXcgVmlydHVhbEVsZW1lbnRJbXBsKG9wZW4sIGNsb3NlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBwYXJzZVZpcnR1YWxBdHRyaWJ1dGVzID0gKHN0cjogc3RyaW5nKTogTWFwPHN0cmluZywgc3RyaW5nPiA9PiB7XG4gIGlmICghc3RyKSB7XG4gICAgcmV0dXJuIG5ldyBNYXAoKTtcbiAgfVxuICBjb25zdCBhdHRyaWJ1dGVzID0gc3RyLnNwbGl0KCcgJyk7XG4gIHJldHVybiBuZXcgTWFwKFxuICAgIGF0dHJpYnV0ZXMubWFwKChhdHRyKSA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IGF0dHIuaW5kZXhPZignPScpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgcmV0dXJuIFthdHRyLnNsaWNlKDAsIGluZGV4KSwgdW5lc2NhcGUoYXR0ci5zbGljZShpbmRleCArIDEpKV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gW2F0dHIsICcnXTtcbiAgICAgIH1cbiAgICB9KVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZVZpcnR1YWxBdHRyaWJ1dGVzID0gKG1hcDogTWFwPHN0cmluZywgc3RyaW5nPikgPT4ge1xuICBjb25zdCBhdHRyaWJ1dGVzOiBzdHJpbmdbXSA9IFtdO1xuICBtYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIGF0dHJpYnV0ZXMucHVzaChgJHtrZXl9YCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF0dHJpYnV0ZXMucHVzaChgJHtrZXl9PSR7ZXNjYXBlKHZhbHVlKX1gKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gYXR0cmlidXRlcy5qb2luKCcgJyk7XG59O1xuXG5jb25zdCBTSE9XX0NPTU1FTlQgPSAxMjg7XG5jb25zdCBGSUxURVJfQUNDRVBUID0gMTtcbmNvbnN0IEZJTFRFUl9SRUpFQ1QgPSAyO1xuXG5leHBvcnQgY29uc3Qgd2Fsa2VyVmlydHVhbEJ5QXR0cmlidXRlID0gKGVsOiBFbGVtZW50LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIGVsLm93bmVyRG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihlbCwgU0hPV19DT01NRU5ULCB7XG4gICAgYWNjZXB0Tm9kZShjKSB7XG4gICAgICBjb25zdCB2aXJ0dWFsID0gZ2V0VmlydHVhbEVsZW1lbnQoYyBhcyBDb21tZW50KTtcbiAgICAgIGlmICh2aXJ0dWFsKSB7XG4gICAgICAgIHJldHVybiBkaXJlY3RHZXRBdHRyaWJ1dGUodmlydHVhbCwgcHJvcCkgPT09IHZhbHVlID8gRklMVEVSX0FDQ0VQVCA6IEZJTFRFUl9SRUpFQ1Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gRklMVEVSX1JFSkVDVDtcbiAgICB9LFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBxdWVyeVZpcnR1YWxCeUF0dHJpYnV0ZSA9IChlbDogRWxlbWVudCwgcHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHdhbGtlciA9IHdhbGtlclZpcnR1YWxCeUF0dHJpYnV0ZShlbCwgcHJvcCwgdmFsdWUpO1xuICBjb25zdCBvcGVuID0gd2Fsa2VyLmZpcnN0Q2hpbGQoKTtcbiAgaWYgKG9wZW4pIHtcbiAgICByZXR1cm4gZ2V0VmlydHVhbEVsZW1lbnQob3BlbiBhcyBDb21tZW50KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCBxdWVyeUFsbFZpcnR1YWxCeUF0dHJpYnV0ZSA9IChlbDogRWxlbWVudCwgcHJvcDogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHdhbGtlciA9IHdhbGtlclZpcnR1YWxCeUF0dHJpYnV0ZShlbCwgcHJvcCwgdmFsdWUpO1xuICBjb25zdCBwYXJzOiBWaXJ0dWFsRWxlbWVudFtdID0gW107XG4gIGxldCBjdXJyZW50Tm9kZTogTm9kZSB8IG51bGwgPSBudWxsO1xuICB3aGlsZSAoKGN1cnJlbnROb2RlID0gd2Fsa2VyLm5leHROb2RlKCkpKSB7XG4gICAgcGFycy5wdXNoKGdldFZpcnR1YWxFbGVtZW50KGN1cnJlbnROb2RlIGFzIENvbW1lbnQpISk7XG4gIH1cbiAgcmV0dXJuIHBhcnM7XG59O1xuXG5leHBvcnQgY29uc3QgZXNjYXBlID0gKHM6IHN0cmluZykgPT4ge1xuICByZXR1cm4gcy5yZXBsYWNlKC8gL2csICcrJyk7XG59O1xuXG5leHBvcnQgY29uc3QgdW5lc2NhcGUgPSAoczogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBzLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xufTtcblxuZXhwb3J0IGNvbnN0IFZJUlRVQUwgPSAnOnZpcnR1YWwnO1xuXG5leHBvcnQgY2xhc3MgVmlydHVhbEVsZW1lbnRJbXBsIGltcGxlbWVudHMgVmlydHVhbEVsZW1lbnQge1xuICBvd25lckRvY3VtZW50OiBEb2N1bWVudDtcbiAgX3FjXzogYW55ID0gbnVsbDtcblxuICByZWFkb25seSBub2RlVHlwZSA9IDExMSBhcyBjb25zdDtcbiAgcmVhZG9ubHkgbG9jYWxOYW1lID0gVklSVFVBTDtcbiAgcmVhZG9ubHkgbm9kZU5hbWUgPSBWSVJUVUFMO1xuICBwcml2YXRlIGF0dHJpYnV0ZXM6IE1hcDxzdHJpbmcsIHN0cmluZz47XG4gIHByaXZhdGUgdGVtcGxhdGU6IEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IocHVibGljIG9wZW46IENvbW1lbnQsIHB1YmxpYyBjbG9zZTogQ29tbWVudCkge1xuICAgIGNvbnN0IGRvYyA9ICh0aGlzLm93bmVyRG9jdW1lbnQgPSBvcGVuLm93bmVyRG9jdW1lbnQpO1xuICAgIHRoaXMudGVtcGxhdGUgPSBjcmVhdGVFbGVtZW50KGRvYywgJ3RlbXBsYXRlJywgZmFsc2UpIGFzIEhUTUxUZW1wbGF0ZUVsZW1lbnQ7XG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gcGFyc2VWaXJ0dWFsQXR0cmlidXRlcyhvcGVuLmRhdGEuc2xpY2UoMykpO1xuICAgIGFzc2VydFRydWUob3Blbi5kYXRhLnN0YXJ0c1dpdGgoJ3F2ICcpLCAnY29tbWVudCBpcyBub3QgYSBxdicpO1xuICAgIChvcGVuIGFzIGFueSlbVklSVFVBTF9TWU1CT0xdID0gdGhpcztcbiAgICBzZWFsKHRoaXMpO1xuICB9XG5cbiAgaW5zZXJ0QmVmb3JlPFQgZXh0ZW5kcyBOb2RlPihub2RlOiBULCByZWY6IE5vZGUgfCBudWxsKTogVCB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIGNvbnN0IHJlZjIgPSByZWYgPyByZWYgOiB0aGlzLmNsb3NlO1xuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCByZWYyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50ZW1wbGF0ZS5pbnNlcnRCZWZvcmUobm9kZSwgcmVmKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnRFbGVtZW50O1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIGNvbnN0IGNoID0gQXJyYXkuZnJvbSh0aGlzLmNoaWxkTm9kZXMpO1xuICAgICAgYXNzZXJ0RXF1YWwodGhpcy50ZW1wbGF0ZS5jaGlsZEVsZW1lbnRDb3VudCwgMCwgJ2NoaWxkcmVuIHNob3VsZCBiZSBlbXB0eScpO1xuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMub3Blbik7XG4gICAgICB0aGlzLnRlbXBsYXRlLmFwcGVuZCguLi5jaCk7XG4gICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5jbG9zZSk7XG4gICAgfVxuICB9XG5cbiAgYXBwZW5kQ2hpbGQ8VCBleHRlbmRzIE5vZGU+KG5vZGU6IFQpOiBUIHtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUobm9kZSwgbnVsbCk7XG4gIH1cblxuICBpbnNlcnRCZWZvcmVUbyhuZXdQYXJlbnQ6IFF3aWtFbGVtZW50LCBjaGlsZDogTm9kZSB8IG51bGwpIHtcbiAgICBjb25zdCBjaCA9IEFycmF5LmZyb20odGhpcy5jaGlsZE5vZGVzKTtcbiAgICBpZiAodGhpcy5wYXJlbnRFbGVtZW50KSB7XG4gICAgICBjb25zb2xlLndhcm4oJ2FscmVhZHkgYXR0YWNoZWQnKTtcbiAgICB9XG4gICAgbmV3UGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLm9wZW4sIGNoaWxkKTtcbiAgICBmb3IgKGNvbnN0IGMgb2YgY2gpIHtcbiAgICAgIG5ld1BhcmVudC5pbnNlcnRCZWZvcmUoYywgY2hpbGQpO1xuICAgIH1cbiAgICBuZXdQYXJlbnQuaW5zZXJ0QmVmb3JlKHRoaXMuY2xvc2UsIGNoaWxkKTtcbiAgICBhc3NlcnRFcXVhbCh0aGlzLnRlbXBsYXRlLmNoaWxkRWxlbWVudENvdW50LCAwLCAnY2hpbGRyZW4gc2hvdWxkIGJlIGVtcHR5Jyk7XG4gIH1cblxuICBhcHBlbmRUbyhuZXdQYXJlbnQ6IFF3aWtFbGVtZW50KSB7XG4gICAgdGhpcy5pbnNlcnRCZWZvcmVUbyhuZXdQYXJlbnQsIG51bGwpO1xuICB9XG5cbiAgcmVtb3ZlQ2hpbGQoY2hpbGQ6IE5vZGUpIHtcbiAgICBpZiAodGhpcy5wYXJlbnRFbGVtZW50KSB7XG4gICAgICB0aGlzLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRlbXBsYXRlLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gIH1cblxuICBnZXRBdHRyaWJ1dGUocHJvcDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlcy5nZXQocHJvcCkgPz8gbnVsbDtcbiAgfVxuXG4gIGhhc0F0dHJpYnV0ZShwcm9wOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVzLmhhcyhwcm9wKTtcbiAgfVxuXG4gIHNldEF0dHJpYnV0ZShwcm9wOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLmF0dHJpYnV0ZXMuc2V0KHByb3AsIHZhbHVlKTtcbiAgICBpZiAocVNlcmlhbGl6ZSkge1xuICAgICAgdGhpcy5vcGVuLmRhdGEgPSB1cGRhdGVDb21tZW50KHRoaXMuYXR0cmlidXRlcyk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlQXR0cmlidXRlKHByb3A6IHN0cmluZykge1xuICAgIHRoaXMuYXR0cmlidXRlcy5kZWxldGUocHJvcCk7XG4gICAgaWYgKHFTZXJpYWxpemUpIHtcbiAgICAgIHRoaXMub3Blbi5kYXRhID0gdXBkYXRlQ29tbWVudCh0aGlzLmF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgfVxuXG4gIG1hdGNoZXMoXzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29tcGFyZURvY3VtZW50UG9zaXRpb24ob3RoZXI6IE5vZGUpIHtcbiAgICByZXR1cm4gdGhpcy5vcGVuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG90aGVyKTtcbiAgfVxuXG4gIGNsb3Nlc3QocXVlcnk6IHN0cmluZykge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50RWxlbWVudDtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICByZXR1cm4gcGFyZW50LmNsb3Nlc3QocXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHF1ZXJ5U2VsZWN0b3JBbGwocXVlcnk6IHN0cmluZykge1xuICAgIGNvbnN0IHJlc3VsdDogUXdpa0VsZW1lbnRbXSA9IFtdO1xuICAgIGNvbnN0IGNoID0gZ2V0Q2hpbGRyZW4odGhpcywgJ2VsZW1lbnRzJyk7XG4gICAgY2guZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGlmIChpc1F3aWtFbGVtZW50KGVsKSkge1xuICAgICAgICBpZiAoZWwubWF0Y2hlcyhxdWVyeSkpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LmNvbmNhdChBcnJheS5mcm9tKGVsLnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHF1ZXJ5U2VsZWN0b3IocXVlcnk6IHN0cmluZykge1xuICAgIGZvciAoY29uc3QgZWwgb2YgdGhpcy5jaGlsZE5vZGVzKSB7XG4gICAgICBpZiAoaXNFbGVtZW50KGVsKSkge1xuICAgICAgICBpZiAoZWwubWF0Y2hlcyhxdWVyeSkpIHtcbiAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdiA9IGVsLnF1ZXJ5U2VsZWN0b3IocXVlcnkpO1xuICAgICAgICBpZiAodiAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZ2V0IGZpcnN0Q2hpbGQoKSB7XG4gICAgaWYgKHRoaXMucGFyZW50RWxlbWVudCkge1xuICAgICAgY29uc3QgZmlyc3QgPSB0aGlzLm9wZW4ubmV4dFNpYmxpbmc7XG4gICAgICBpZiAoZmlyc3QgPT09IHRoaXMuY2xvc2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmlyc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlLmZpcnN0Q2hpbGQ7XG4gICAgfVxuICB9XG4gIGdldCBuZXh0U2libGluZygpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9zZS5uZXh0U2libGluZztcbiAgfVxuICBnZXQgcHJldmlvdXNTaWJsaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm9wZW4ucHJldmlvdXNTaWJsaW5nO1xuICB9XG4gIGdldCBjaGlsZE5vZGVzKCk6IE5vZGVbXSB7XG4gICAgaWYgKCF0aGlzLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlLmNoaWxkTm9kZXMgYXMgYW55O1xuICAgIH1cbiAgICBjb25zdCBub2RlczogTm9kZVtdID0gW107XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBudWxsID0gdGhpcy5vcGVuO1xuICAgIHdoaWxlICgobm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpKSB7XG4gICAgICBpZiAobm9kZSAhPT0gdGhpcy5jbG9zZSkge1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlcztcbiAgfVxuICBnZXQgaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMub3Blbi5pc0Nvbm5lY3RlZDtcbiAgfVxuICBnZXQgcGFyZW50RWxlbWVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcGVuLnBhcmVudEVsZW1lbnQ7XG4gIH1cbn1cblxuY29uc3QgdXBkYXRlQ29tbWVudCA9IChhdHRyaWJ1dGVzOiBNYXA8c3RyaW5nLCBzdHJpbmc+KSA9PiB7XG4gIHJldHVybiBgcXYgJHtzZXJpYWxpemVWaXJ0dWFsQXR0cmlidXRlcyhhdHRyaWJ1dGVzKX1gO1xufTtcblxuZXhwb3J0IGNvbnN0IHByb2Nlc3NWaXJ0dWFsTm9kZXMgPSAobm9kZTogTm9kZSB8IG51bGwpOiBOb2RlIHwgUXdpa0VsZW1lbnQgfCBudWxsID0+IHtcbiAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKGlzQ29tbWVudChub2RlKSkge1xuICAgIGNvbnN0IHZpcnR1YWwgPSBnZXRWaXJ0dWFsRWxlbWVudChub2RlKTtcbiAgICBpZiAodmlydHVhbCkge1xuICAgICAgcmV0dXJuIHZpcnR1YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2RlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFZpcnR1YWxFbGVtZW50ID0gKG9wZW46IENvbW1lbnQpOiBWaXJ0dWFsRWxlbWVudCB8IG51bGwgPT4ge1xuICBjb25zdCB2aXJ0dWFsID0gKG9wZW4gYXMgYW55KVtWSVJUVUFMX1NZTUJPTF07XG4gIGlmICh2aXJ0dWFsKSB7XG4gICAgcmV0dXJuIHZpcnR1YWw7XG4gIH1cbiAgaWYgKG9wZW4uZGF0YS5zdGFydHNXaXRoKCdxdiAnKSkge1xuICAgIGNvbnN0IGNsb3NlID0gZmluZENsb3NlKG9wZW4pO1xuICAgIHJldHVybiBuZXcgVmlydHVhbEVsZW1lbnRJbXBsKG9wZW4sIGNsb3NlKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IGZpbmRDbG9zZSA9IChvcGVuOiBDb21tZW50KTogQ29tbWVudCA9PiB7XG4gIGxldCBub2RlID0gb3Blbi5uZXh0U2libGluZztcbiAgbGV0IHN0YWNrID0gMTtcbiAgd2hpbGUgKG5vZGUpIHtcbiAgICBpZiAoaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICBpZiAobm9kZS5kYXRhLnN0YXJ0c1dpdGgoJ3F2ICcpKSB7XG4gICAgICAgIHN0YWNrKys7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuZGF0YSA9PT0gJy9xdicpIHtcbiAgICAgICAgc3RhY2stLTtcbiAgICAgICAgaWYgKHN0YWNrID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdjbG9zZSBub3QgZm91bmQnKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0NvbW1lbnQgPSAobm9kZTogTm9kZSk6IG5vZGUgaXMgQ29tbWVudCA9PiB7XG4gIHJldHVybiBub2RlLm5vZGVUeXBlID09PSA4O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFJvb3ROb2RlID0gKG5vZGU6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGwpOiBOb2RlID0+IHtcbiAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsIGFzIGFueTsgLy8gVE9ET1xuICB9XG4gIGlmIChpc1ZpcnR1YWxFbGVtZW50KG5vZGUpKSB7XG4gICAgcmV0dXJuIG5vZGUub3BlbjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxufTtcbiJdfQ==","import { qError, QError_invalidJsxNodeType } from '../../error/error';\nimport { newInvokeContext, invoke } from '../../use/use-core';\nimport { EMPTY_ARRAY, EMPTY_OBJ } from '../../util/flyweight';\nimport { logWarn } from '../../util/log';\nimport { QScopedStyle } from '../../util/markers';\nimport { isNotNullable, isPromise, promiseAll, then } from '../../util/promises';\nimport { qDev, seal } from '../../util/qdev';\nimport { isArray, isFunction, isObject, isString } from '../../util/types';\nimport { domToVnode, visitJsxNode } from './visitor';\nimport { SkipRender, Virtual } from '../jsx/utils.public';\nimport { isJSXNode, SKIP_RENDER_TYPE } from '../jsx/jsx-runtime';\nimport { executeComponent } from '../execute-component';\nimport { serializeSStyle } from '../../component/qrl-styles';\nimport { VIRTUAL } from './virtual-element';\nimport { appendHeadStyle } from './operations';\nexport const renderComponent = (rctx, ctx, flags) => {\n    const justMounted = !ctx.$mounted$;\n    // TODO, serialize scopeIds\n    return then(executeComponent(rctx, ctx), (res) => {\n        if (res) {\n            const hostElement = ctx.$element$;\n            const newCtx = res.rctx;\n            const invocatinContext = newInvokeContext(rctx.$static$.$doc$, hostElement);\n            invocatinContext.$subscriber$ = hostElement;\n            invocatinContext.$renderCtx$ = newCtx;\n            if (justMounted) {\n                if (ctx.$appendStyles$) {\n                    for (const style of ctx.$appendStyles$) {\n                        appendHeadStyle(rctx.$static$, style);\n                    }\n                }\n                if (ctx.$scopeIds$) {\n                    const value = serializeSStyle(ctx.$scopeIds$);\n                    if (value) {\n                        hostElement.setAttribute(QScopedStyle, value);\n                    }\n                }\n            }\n            const processedJSXNode = processData(res.node, invocatinContext);\n            return then(processedJSXNode, (processedJSXNode) => {\n                const newVdom = wrapJSX(hostElement, processedJSXNode);\n                const oldVdom = getVdom(ctx);\n                ctx.$vdom$ = newVdom;\n                return visitJsxNode(newCtx, oldVdom, newVdom, flags);\n            });\n        }\n    });\n};\nexport const getVdom = (ctx) => {\n    if (!ctx.$vdom$) {\n        ctx.$vdom$ = domToVnode(ctx.$element$);\n    }\n    return ctx.$vdom$;\n};\nexport class ProcessedJSXNodeImpl {\n    constructor($type$, $props$, $children$, $key$) {\n        this.$type$ = $type$;\n        this.$props$ = $props$;\n        this.$children$ = $children$;\n        this.$key$ = $key$;\n        this.$elm$ = null;\n        this.$text$ = '';\n        seal(this);\n    }\n}\nexport const processNode = (node, invocationContext) => {\n    const key = node.key != null ? String(node.key) : null;\n    const nodeType = node.type;\n    const props = node.props;\n    const originalChildren = props.children;\n    let textType = '';\n    if (isString(nodeType)) {\n        textType = nodeType;\n    }\n    else if (nodeType === Virtual) {\n        textType = VIRTUAL;\n    }\n    else if (isFunction(nodeType)) {\n        const res = invocationContext\n            ? invoke(invocationContext, () => nodeType(props, node.key))\n            : nodeType(props, node.key);\n        return processData(res, invocationContext);\n    }\n    else {\n        throw qError(QError_invalidJsxNodeType, nodeType);\n    }\n    let children = EMPTY_ARRAY;\n    if (originalChildren != null) {\n        return then(processData(originalChildren, invocationContext), (result) => {\n            if (result !== undefined) {\n                children = isArray(result) ? result : [result];\n            }\n            return new ProcessedJSXNodeImpl(textType, props, children, key);\n        });\n    }\n    else {\n        return new ProcessedJSXNodeImpl(textType, props, children, key);\n    }\n};\nexport const wrapJSX = (element, input) => {\n    const children = input === undefined ? EMPTY_ARRAY : isArray(input) ? input : [input];\n    const node = new ProcessedJSXNodeImpl(':virtual', {}, children, null);\n    node.$elm$ = element;\n    return node;\n};\nexport const processData = (node, invocationContext) => {\n    if (node == null || typeof node === 'boolean') {\n        return undefined;\n    }\n    if (isString(node) || typeof node === 'number') {\n        const newNode = new ProcessedJSXNodeImpl('#text', EMPTY_OBJ, EMPTY_ARRAY, null);\n        newNode.$text$ = String(node);\n        return newNode;\n    }\n    else if (isJSXNode(node)) {\n        return processNode(node, invocationContext);\n    }\n    else if (isArray(node)) {\n        const output = promiseAll(node.flatMap((n) => processData(n, invocationContext)));\n        return then(output, (array) => array.flat(100).filter(isNotNullable));\n    }\n    else if (isPromise(node)) {\n        return node.then((node) => processData(node, invocationContext));\n    }\n    else if (node === SkipRender) {\n        return new ProcessedJSXNodeImpl(SKIP_RENDER_TYPE, EMPTY_OBJ, EMPTY_ARRAY, null);\n    }\n    else {\n        logWarn('A unsupported value was passed to the JSX, skipping render. Value:', node);\n        return undefined;\n    }\n};\nexport const isProcessedJSXNode = (n) => {\n    if (qDev) {\n        if (n instanceof ProcessedJSXNodeImpl) {\n            return true;\n        }\n        if (isObject(n) && n.constructor.name === ProcessedJSXNodeImpl.name) {\n            throw new Error(`Duplicate implementations of \"ProcessedJSXNodeImpl\" found`);\n        }\n        return false;\n    }\n    else {\n        return n instanceof ProcessedJSXNodeImpl;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLWRvbS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZG9tL3JlbmRlci1kb20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQ3RFLE9BQU8sRUFBaUIsZ0JBQWdCLEVBQUUsTUFBTSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDN0UsT0FBTyxFQUFFLFdBQVcsRUFBRSxTQUFTLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUM5RCxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDekMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNqRixPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQWtCLE1BQU0sa0JBQWtCLENBQUM7QUFDM0YsT0FBTyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDckQsT0FBTyxFQUFFLFVBQVUsRUFBRSxPQUFPLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsU0FBUyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFakUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFFeEQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRTdELE9BQU8sRUFBZSxPQUFPLEVBQWtCLE1BQU0sbUJBQW1CLENBQUM7QUFDekUsT0FBTyxFQUFFLGVBQWUs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LENBQUMsWUFBWSxvQkFBb0IsRUFBRTtZQUNyQyxPQUFPLElBQUksQ0FBQztTQUNiO1FBQ0QsSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEtBQUssb0JBQW9CLENBQUMsSUFBSSxFQUFFO1lBQ25FLE1BQU0sSUFBSSxLQUFLLENBQUMsMkRBQTJELENBQUMsQ0FBQztTQUM5RTtRQUNELE9BQU8sS0FBSyxDQUFDO0tBQ2Q7U0FBTTtRQUNMLE9BQU8sQ0FBQyxZQUFZLG9CQUFvQixDQUFDO0tBQzFDO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfaW52YWxpZEpzeE5vZGVUeXBlIH0gZnJvbSAnLi4vLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgSW52b2tlQ29udGV4dCwgbmV3SW52b2tlQ29udGV4dCwgaW52b2tlIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1jb3JlJztcbmltcG9ydCB7IEVNUFRZX0FSUkFZLCBFTVBUWV9PQkogfSBmcm9tICcuLi8uLi91dGlsL2ZseXdlaWdodCc7XG5pbXBvcnQgeyBsb2dXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgUVNjb3BlZFN0eWxlIH0gZnJvbSAnLi4vLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGlzTm90TnVsbGFibGUsIGlzUHJvbWlzZSwgcHJvbWlzZUFsbCwgdGhlbiB9IGZyb20gJy4uLy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgcURldiwgc2VhbCB9IGZyb20gJy4uLy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uLCBpc09iamVjdCwgaXNTdHJpbmcsIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyBkb21Ub1Zub2RlLCB2aXNpdEpzeE5vZGUgfSBmcm9tICcuL3Zpc2l0b3InO1xuaW1wb3J0IHsgU2tpcFJlbmRlciwgVmlydHVhbCB9IGZyb20gJy4uL2pzeC91dGlscy5wdWJsaWMnO1xuaW1wb3J0IHsgaXNKU1hOb2RlLCBTS0lQX1JFTkRFUl9UWVBFIH0gZnJvbSAnLi4vanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4uL2pzeC90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBleGVjdXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vZXhlY3V0ZS1jb21wb25lbnQnO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgc2VyaWFsaXplU1N0eWxlIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50L3FybC1zdHlsZXMnO1xuaW1wb3J0IHR5cGUgeyBRQ29udGV4dCB9IGZyb20gJy4uLy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IFF3aWtFbGVtZW50LCBWSVJUVUFMLCBWaXJ0dWFsRWxlbWVudCB9IGZyb20gJy4vdmlydHVhbC1lbGVtZW50JztcbmltcG9ydCB7IGFwcGVuZEhlYWRTdHlsZSB9IGZyb20gJy4vb3BlcmF0aW9ucyc7XG5cbmV4cG9ydCBjb25zdCByZW5kZXJDb21wb25lbnQgPSAoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGN0eDogUUNvbnRleHQsXG4gIGZsYWdzOiBudW1iZXJcbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc3QganVzdE1vdW50ZWQgPSAhY3R4LiRtb3VudGVkJDtcblxuICAvLyBUT0RPLCBzZXJpYWxpemUgc2NvcGVJZHNcbiAgcmV0dXJuIHRoZW4oZXhlY3V0ZUNvbXBvbmVudChyY3R4LCBjdHgpLCAocmVzKSA9PiB7XG4gICAgaWYgKHJlcykge1xuICAgICAgY29uc3QgaG9zdEVsZW1lbnQgPSBjdHguJGVsZW1lbnQkO1xuICAgICAgY29uc3QgbmV3Q3R4ID0gcmVzLnJjdHg7XG4gICAgICBjb25zdCBpbnZvY2F0aW5Db250ZXh0ID0gbmV3SW52b2tlQ29udGV4dChyY3R4LiRzdGF0aWMkLiRkb2MkLCBob3N0RWxlbWVudCk7XG4gICAgICBpbnZvY2F0aW5Db250ZXh0LiRzdWJzY3JpYmVyJCA9IGhvc3RFbGVtZW50O1xuICAgICAgaW52b2NhdGluQ29udGV4dC4kcmVuZGVyQ3R4JCA9IG5ld0N0eDtcbiAgICAgIGlmIChqdXN0TW91bnRlZCkge1xuICAgICAgICBpZiAoY3R4LiRhcHBlbmRTdHlsZXMkKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBzdHlsZSBvZiBjdHguJGFwcGVuZFN0eWxlcyQpIHtcbiAgICAgICAgICAgIGFwcGVuZEhlYWRTdHlsZShyY3R4LiRzdGF0aWMkLCBzdHlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguJHNjb3BlSWRzJCkge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2VyaWFsaXplU1N0eWxlKGN0eC4kc2NvcGVJZHMkKTtcbiAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGhvc3RFbGVtZW50LnNldEF0dHJpYnV0ZShRU2NvcGVkU3R5bGUsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb2Nlc3NlZEpTWE5vZGUgPSBwcm9jZXNzRGF0YShyZXMubm9kZSwgaW52b2NhdGluQ29udGV4dCk7XG4gICAgICByZXR1cm4gdGhlbihwcm9jZXNzZWRKU1hOb2RlLCAocHJvY2Vzc2VkSlNYTm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBuZXdWZG9tID0gd3JhcEpTWChob3N0RWxlbWVudCwgcHJvY2Vzc2VkSlNYTm9kZSk7XG4gICAgICAgIGNvbnN0IG9sZFZkb20gPSBnZXRWZG9tKGN0eCk7XG4gICAgICAgIGN0eC4kdmRvbSQgPSBuZXdWZG9tO1xuICAgICAgICByZXR1cm4gdmlzaXRKc3hOb2RlKG5ld0N0eCwgb2xkVmRvbSwgbmV3VmRvbSwgZmxhZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRWZG9tID0gKGN0eDogUUNvbnRleHQpID0+IHtcbiAgaWYgKCFjdHguJHZkb20kKSB7XG4gICAgY3R4LiR2ZG9tJCA9IGRvbVRvVm5vZGUoY3R4LiRlbGVtZW50JCk7XG4gIH1cbiAgcmV0dXJuIGN0eC4kdmRvbSQ7XG59O1xuXG5leHBvcnQgY2xhc3MgUHJvY2Vzc2VkSlNYTm9kZUltcGwgaW1wbGVtZW50cyBQcm9jZXNzZWRKU1hOb2RlIHtcbiAgJGVsbSQ6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAkdGV4dCQ6IHN0cmluZyA9ICcnO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyAkdHlwZSQ6IHN0cmluZyxcbiAgICBwdWJsaWMgJHByb3BzJDogUmVjb3JkPHN0cmluZywgYW55PixcbiAgICBwdWJsaWMgJGNoaWxkcmVuJDogUHJvY2Vzc2VkSlNYTm9kZVtdLFxuICAgIHB1YmxpYyAka2V5JDogc3RyaW5nIHwgbnVsbFxuICApIHtcbiAgICBzZWFsKHRoaXMpO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBwcm9jZXNzTm9kZSA9IChcbiAgbm9kZTogSlNYTm9kZSxcbiAgaW52b2NhdGlvbkNvbnRleHQ/OiBJbnZva2VDb250ZXh0XG4pOiBWYWx1ZU9yUHJvbWlzZTxQcm9jZXNzZWRKU1hOb2RlIHwgUHJvY2Vzc2VkSlNYTm9kZVtdIHwgdW5kZWZpbmVkPiA9PiB7XG4gIGNvbnN0IGtleSA9IG5vZGUua2V5ICE9IG51bGwgPyBTdHJpbmcobm9kZS5rZXkpIDogbnVsbDtcbiAgY29uc3Qgbm9kZVR5cGUgPSBub2RlLnR5cGU7XG4gIGNvbnN0IHByb3BzID0gbm9kZS5wcm9wcztcbiAgY29uc3Qgb3JpZ2luYWxDaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICBsZXQgdGV4dFR5cGUgPSAnJztcbiAgaWYgKGlzU3RyaW5nKG5vZGVUeXBlKSkge1xuICAgIHRleHRUeXBlID0gbm9kZVR5cGU7XG4gIH0gZWxzZSBpZiAobm9kZVR5cGUgPT09IFZpcnR1YWwpIHtcbiAgICB0ZXh0VHlwZSA9IFZJUlRVQUw7XG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihub2RlVHlwZSkpIHtcbiAgICBjb25zdCByZXMgPSBpbnZvY2F0aW9uQ29udGV4dFxuICAgICAgPyBpbnZva2UoaW52b2NhdGlvbkNvbnRleHQsICgpID0+IG5vZGVUeXBlKHByb3BzLCBub2RlLmtleSkpXG4gICAgICA6IG5vZGVUeXBlKHByb3BzLCBub2RlLmtleSk7XG4gICAgcmV0dXJuIHByb2Nlc3NEYXRhKHJlcywgaW52b2NhdGlvbkNvbnRleHQpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfaW52YWxpZEpzeE5vZGVUeXBlLCBub2RlVHlwZSk7XG4gIH1cbiAgbGV0IGNoaWxkcmVuOiBQcm9jZXNzZWRKU1hOb2RlW10gPSBFTVBUWV9BUlJBWTtcbiAgaWYgKG9yaWdpbmFsQ2hpbGRyZW4gIT0gbnVsbCkge1xuICAgIHJldHVybiB0aGVuKHByb2Nlc3NEYXRhKG9yaWdpbmFsQ2hpbGRyZW4sIGludm9jYXRpb25Db250ZXh0KSwgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNoaWxkcmVuID0gaXNBcnJheShyZXN1bHQpID8gcmVzdWx0IDogW3Jlc3VsdF07XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFByb2Nlc3NlZEpTWE5vZGVJbXBsKHRleHRUeXBlLCBwcm9wcywgY2hpbGRyZW4sIGtleSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBQcm9jZXNzZWRKU1hOb2RlSW1wbCh0ZXh0VHlwZSwgcHJvcHMsIGNoaWxkcmVuLCBrZXkpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgd3JhcEpTWCA9IChcbiAgZWxlbWVudDogUXdpa0VsZW1lbnQsXG4gIGlucHV0OiBQcm9jZXNzZWRKU1hOb2RlW10gfCBQcm9jZXNzZWRKU1hOb2RlIHwgdW5kZWZpbmVkXG4pID0+IHtcbiAgY29uc3QgY2hpbGRyZW4gPSBpbnB1dCA9PT0gdW5kZWZpbmVkID8gRU1QVFlfQVJSQVkgOiBpc0FycmF5KGlucHV0KSA/IGlucHV0IDogW2lucHV0XTtcbiAgY29uc3Qgbm9kZSA9IG5ldyBQcm9jZXNzZWRKU1hOb2RlSW1wbCgnOnZpcnR1YWwnLCB7fSwgY2hpbGRyZW4sIG51bGwpO1xuICBub2RlLiRlbG0kID0gZWxlbWVudDtcbiAgcmV0dXJuIG5vZGU7XG59O1xuXG5leHBvcnQgY29uc3QgcHJvY2Vzc0RhdGEgPSAoXG4gIG5vZGU6IGFueSxcbiAgaW52b2NhdGlvbkNvbnRleHQ/OiBJbnZva2VDb250ZXh0XG4pOiBWYWx1ZU9yUHJvbWlzZTxQcm9jZXNzZWRKU1hOb2RlW10gfCBQcm9jZXNzZWRKU1hOb2RlIHwgdW5kZWZpbmVkPiA9PiB7XG4gIGlmIChub2RlID09IG51bGwgfHwgdHlwZW9mIG5vZGUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgaWYgKGlzU3RyaW5nKG5vZGUpIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xuICAgIGNvbnN0IG5ld05vZGUgPSBuZXcgUHJvY2Vzc2VkSlNYTm9kZUltcGwoJyN0ZXh0JywgRU1QVFlfT0JKLCBFTVBUWV9BUlJBWSwgbnVsbCk7XG4gICAgbmV3Tm9kZS4kdGV4dCQgPSBTdHJpbmcobm9kZSk7XG4gICAgcmV0dXJuIG5ld05vZGU7XG4gIH0gZWxzZSBpZiAoaXNKU1hOb2RlKG5vZGUpKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NOb2RlKG5vZGUsIGludm9jYXRpb25Db250ZXh0KTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KG5vZGUpKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0gcHJvbWlzZUFsbChub2RlLmZsYXRNYXAoKG4pID0+IHByb2Nlc3NEYXRhKG4sIGludm9jYXRpb25Db250ZXh0KSkpO1xuICAgIHJldHVybiB0aGVuKG91dHB1dCwgKGFycmF5KSA9PiBhcnJheS5mbGF0KDEwMCkuZmlsdGVyKGlzTm90TnVsbGFibGUpKTtcbiAgfSBlbHNlIGlmIChpc1Byb21pc2Uobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZS50aGVuKChub2RlKSA9PiBwcm9jZXNzRGF0YShub2RlLCBpbnZvY2F0aW9uQ29udGV4dCkpO1xuICB9IGVsc2UgaWYgKG5vZGUgPT09IFNraXBSZW5kZXIpIHtcbiAgICByZXR1cm4gbmV3IFByb2Nlc3NlZEpTWE5vZGVJbXBsKFNLSVBfUkVOREVSX1RZUEUsIEVNUFRZX09CSiwgRU1QVFlfQVJSQVksIG51bGwpO1xuICB9IGVsc2Uge1xuICAgIGxvZ1dhcm4oJ0EgdW5zdXBwb3J0ZWQgdmFsdWUgd2FzIHBhc3NlZCB0byB0aGUgSlNYLCBza2lwcGluZyByZW5kZXIuIFZhbHVlOicsIG5vZGUpO1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpc1Byb2Nlc3NlZEpTWE5vZGUgPSAobjogYW55KTogbiBpcyBQcm9jZXNzZWRKU1hOb2RlID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAobiBpbnN0YW5jZW9mIFByb2Nlc3NlZEpTWE5vZGVJbXBsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KG4pICYmIG4uY29uc3RydWN0b3IubmFtZSA9PT0gUHJvY2Vzc2VkSlNYTm9kZUltcGwubmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBEdXBsaWNhdGUgaW1wbGVtZW50YXRpb25zIG9mIFwiUHJvY2Vzc2VkSlNYTm9kZUltcGxcIiBmb3VuZGApO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG4gaW5zdGFuY2VvZiBQcm9jZXNzZWRKU1hOb2RlSW1wbDtcbiAgfVxufTtcblxuZXhwb3J0IGludGVyZmFjZSBQcm9jZXNzZWRKU1hOb2RlIHtcbiAgJHR5cGUkOiBzdHJpbmc7XG4gICRwcm9wcyQ6IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICRjaGlsZHJlbiQ6IFByb2Nlc3NlZEpTWE5vZGVbXTtcbiAgJGtleSQ6IHN0cmluZyB8IG51bGw7XG4gICRlbG0kOiBOb2RlIHwgVmlydHVhbEVsZW1lbnQgfCBudWxsO1xuICAkdGV4dCQ6IHN0cmluZztcbn1cbiJdfQ==","import { ComponentStylesPrefixContent, ELEMENT_ID, OnRenderProp, QSlot, QSlotRef, QSlotS, } from '../../util/markers';\nimport { cleanupContext, getContext, getPropsMutator, tryGetContext, } from '../../props/props';\nimport { addQRLListener, isOnProp, setEvent } from '../../props/props-on';\nimport { isPromise, promiseAll, then } from '../../util/promises';\nimport { assertDefined, assertEqual, assertTrue } from '../../assert/assert';\nimport { logWarn } from '../../util/log';\nimport { qDev, qSerialize } from '../../util/qdev';\nimport { directGetAttribute, directSetAttribute } from '../fast-calls';\nimport { SKIP_RENDER_TYPE } from '../jsx/jsx-runtime';\nimport { assertQrl, isQrl } from '../../import/qrl-class';\nimport { assertQwikElement, isQwikElement, isText, isVirtualElement } from '../../util/element';\nimport { getVdom, ProcessedJSXNodeImpl, renderComponent } from './render-dom';\nimport { parseClassAny, pushRenderContext, setQId, SKIPS_PROPS, stringifyStyle, } from '../execute-component';\nimport { getRootNode, newVirtualElement, processVirtualNodes, queryAllVirtualByAttribute, VIRTUAL, } from './virtual-element';\nimport { appendChild, createElement, createTemplate, createTextNode, executeDOMRender, getKey, insertBefore, prepend, removeNode, setAttribute, setClasslist, setKey, setProperty, } from './operations';\nimport { serializeQRLs } from '../../import/qrl';\nimport { QOnce } from '../jsx/utils.public';\nimport { EMPTY_OBJ } from '../../util/flyweight';\nexport const SVG_NS = 'http://www.w3.org/2000/svg';\nexport const IS_SVG = 1 << 0;\nexport const IS_HEAD = 1 << 1;\nconst CHILDREN_PLACEHOLDER = [];\nexport const visitJsxNode = (ctx, oldVnode, newVnode, flags) => {\n    return smartUpdateChildren(ctx, oldVnode, newVnode, 'root', flags);\n};\nexport const smartUpdateChildren = (ctx, oldVnode, newVnode, mode, flags) => {\n    assertQwikElement(oldVnode.$elm$);\n    const ch = newVnode.$children$;\n    if (ch.length === 1 && ch[0].$type$ === SKIP_RENDER_TYPE) {\n        return;\n    }\n    const elm = oldVnode.$elm$;\n    const needsDOMRead = oldVnode.$children$ === CHILDREN_PLACEHOLDER;\n    if (needsDOMRead) {\n        const isHead = elm.nodeName === 'HEAD';\n        if (isHead) {\n            mode = 'head';\n            flags |= IS_HEAD;\n        }\n    }\n    const oldCh = getVnodeChildren(oldVnode, mode);\n    if (oldCh.length > 0 && ch.length > 0) {\n        return updateChildren(ctx, elm, oldCh, ch, flags);\n    }\n    else if (ch.length > 0) {\n        return addVnodes(ctx, elm, null, ch, 0, ch.length - 1, flags);\n    }\n    else if (oldCh.length > 0) {\n        return removeVnodes(ctx.$static$, oldCh, 0, oldCh.length - 1);\n    }\n};\nexport const getVnodeChildren = (vnode, mode) => {\n    const oldCh = vnode.$children$;\n    const elm = vnode.$elm$;\n    if (oldCh === CHILDREN_PLACEHOLDER) {\n        return (vnode.$children$ = getChildrenVnodes(elm, mode));\n    }\n    return oldCh;\n};\nexport const updateChildren = (ctx, parentElm, oldCh, newCh, flags) => {\n    let oldStartIdx = 0;\n    let newStartIdx = 0;\n    let oldEndIdx = oldCh.length - 1;\n    let oldStartVnode = oldCh[0];\n    let oldEndVnode = oldCh[oldEndIdx];\n    let newEndIdx = newCh.length - 1;\n    let newStartVnode = newCh[0];\n    let newEndVnode = newCh[newEndIdx];\n    let oldKeyToIdx;\n    let idxInOld;\n    let elmToMove;\n    const results = [];\n    const staticCtx = ctx.$static$;\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n        if (oldStartVnode == null) {\n            oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n        }\n        else if (oldEndVnode == null) {\n            oldEndVnode = oldCh[--oldEndIdx];\n        }\n        else if (newStartVnode == null) {\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (newEndVnode == null) {\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newStartVnode)) {\n            results.push(patchVnode(ctx, oldStartVnode, newStartVnode, flags));\n            oldStartVnode = oldCh[++oldStartIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else if (sameVnode(oldEndVnode, newEndVnode)) {\n            results.push(patchVnode(ctx, oldEndVnode, newEndVnode, flags));\n            oldEndVnode = oldCh[--oldEndIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldStartVnode, newEndVnode)) {\n            assertDefined(oldStartVnode.$elm$, 'oldStartVnode $elm$ must be defined');\n            assertDefined(oldEndVnode.$elm$, 'oldEndVnode $elm$ must be defined');\n            // Vnode moved right\n            results.push(patchVnode(ctx, oldStartVnode, newEndVnode, flags));\n            insertBefore(staticCtx, parentElm, oldStartVnode.$elm$, oldEndVnode.$elm$.nextSibling);\n            oldStartVnode = oldCh[++oldStartIdx];\n            newEndVnode = newCh[--newEndIdx];\n        }\n        else if (sameVnode(oldEndVnode, newStartVnode)) {\n            assertDefined(oldStartVnode.$elm$, 'oldStartVnode $elm$ must be defined');\n            assertDefined(oldEndVnode.$elm$, 'oldEndVnode $elm$ must be defined');\n            // Vnode moved left\n            results.push(patchVnode(ctx, oldEndVnode, newStartVnode, flags));\n            insertBefore(staticCtx, parentElm, oldEndVnode.$elm$, oldStartVnode.$elm$);\n            oldEndVnode = oldCh[--oldEndIdx];\n            newStartVnode = newCh[++newStartIdx];\n        }\n        else {\n            if (oldKeyToIdx === undefined) {\n                oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n            }\n            idxInOld = oldKeyToIdx[newStartVnode.$key$];\n            if (idxInOld === undefined) {\n                // New element\n                const newElm = createElm(ctx, newStartVnode, flags);\n                results.push(then(newElm, (newElm) => {\n                    insertBefore(staticCtx, parentElm, newElm, oldStartVnode.$elm$);\n                }));\n            }\n            else {\n                elmToMove = oldCh[idxInOld];\n                if (!isTagName(elmToMove, newStartVnode.$type$)) {\n                    const newElm = createElm(ctx, newStartVnode, flags);\n                    results.push(then(newElm, (newElm) => {\n                        insertBefore(staticCtx, parentElm, newElm, oldStartVnode.$elm$);\n                    }));\n                }\n                else {\n                    results.push(patchVnode(ctx, elmToMove, newStartVnode, flags));\n                    oldCh[idxInOld] = undefined;\n                    assertDefined(elmToMove.$elm$, 'elmToMove $elm$ must be defined');\n                    insertBefore(staticCtx, parentElm, elmToMove.$elm$, oldStartVnode.$elm$);\n                }\n            }\n            newStartVnode = newCh[++newStartIdx];\n        }\n    }\n    if (newStartIdx <= newEndIdx) {\n        const before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].$elm$;\n        results.push(addVnodes(ctx, parentElm, before, newCh, newStartIdx, newEndIdx, flags));\n    }\n    let wait = promiseAll(results);\n    if (oldStartIdx <= oldEndIdx) {\n        wait = then(wait, () => {\n            removeVnodes(staticCtx, oldCh, oldStartIdx, oldEndIdx);\n        });\n    }\n    return wait;\n};\nconst getCh = (elm, filter) => {\n    const end = isVirtualElement(elm) ? elm.close : null;\n    const nodes = [];\n    let node = elm.firstChild;\n    while ((node = processVirtualNodes(node))) {\n        if (filter(node)) {\n            nodes.push(node);\n        }\n        node = node.nextSibling;\n        if (node === end) {\n            break;\n        }\n    }\n    return nodes;\n};\nexport const getChildren = (elm, mode) => {\n    // console.warn('DOM READ: getChildren()', elm);\n    switch (mode) {\n        case 'root':\n            return getCh(elm, isChildComponent);\n        case 'head':\n            return getCh(elm, isHeadChildren);\n        case 'elements':\n            return getCh(elm, isQwikElement);\n    }\n};\nexport const getChildrenVnodes = (elm, mode) => {\n    return getChildren(elm, mode).map(domToVnode);\n};\nexport const domToVnode = (node) => {\n    if (isQwikElement(node)) {\n        const props = isVirtualElement(node) ? EMPTY_OBJ : getProps(node);\n        const t = new ProcessedJSXNodeImpl(node.localName, props, CHILDREN_PLACEHOLDER, getKey(node));\n        t.$elm$ = node;\n        return t;\n    }\n    else if (isText(node)) {\n        const t = new ProcessedJSXNodeImpl(node.nodeName, {}, CHILDREN_PLACEHOLDER, null);\n        t.$text$ = node.data;\n        t.$elm$ = node;\n        return t;\n    }\n    throw new Error('invalid node');\n};\nexport const getProps = (node) => {\n    const props = {};\n    const attributes = node.attributes;\n    const len = attributes.length;\n    for (let i = 0; i < len; i++) {\n        const a = attributes.item(i);\n        assertDefined(a, 'attribute must be defined');\n        const name = a.name;\n        if (!name.includes(':')) {\n            props[name] =\n                name === 'class'\n                    ? parseClassAny(a.value).filter((c) => !c.startsWith(ComponentStylesPrefixContent))\n                    : a.value;\n        }\n    }\n    return props;\n};\nexport const isNode = (elm) => {\n    const type = elm.nodeType;\n    return type === 1 || type === 3 || type === 111;\n};\nconst isHeadChildren = (node) => {\n    const type = node.nodeType;\n    if (type === 1) {\n        return node.hasAttribute('q:head');\n    }\n    return type === 111;\n};\nexport const isSlotTemplate = (node) => {\n    return node.nodeName === 'Q:TEMPLATE';\n};\nconst isChildComponent = (node) => {\n    const type = node.nodeType;\n    if (type === 3 || type === 111) {\n        return true;\n    }\n    if (type !== 1) {\n        return false;\n    }\n    const nodeName = node.nodeName;\n    if (nodeName === 'Q:TEMPLATE') {\n        return false;\n    }\n    if (nodeName === 'HEAD') {\n        return node.hasAttribute('q:head');\n    }\n    return true;\n};\nexport const splitChildren = (input) => {\n    const output = {};\n    for (const item of input) {\n        const key = getSlotName(item);\n        const node = output[key] ??\n            (output[key] = new ProcessedJSXNodeImpl(VIRTUAL, {\n                [QSlotS]: '',\n            }, [], key));\n        node.$children$.push(item);\n    }\n    return output;\n};\nexport const patchVnode = (rctx, oldVnode, newVnode, flags) => {\n    assertEqual(oldVnode.$type$, newVnode.$type$, 'old and new vnodes type must be the same');\n    const elm = oldVnode.$elm$;\n    const tag = newVnode.$type$;\n    const staticCtx = rctx.$static$;\n    const isVirtual = tag === VIRTUAL;\n    newVnode.$elm$ = elm;\n    // Render text nodes\n    if (tag === '#text') {\n        if (oldVnode.$text$ !== newVnode.$text$) {\n            setProperty(staticCtx, elm, 'data', newVnode.$text$);\n        }\n        return;\n    }\n    assertQwikElement(elm);\n    // Track SVG state\n    let isSvg = !!(flags & IS_SVG);\n    if (!isSvg && tag === 'svg') {\n        flags |= IS_SVG;\n        isSvg = true;\n    }\n    const props = newVnode.$props$;\n    const isComponent = isVirtual && OnRenderProp in props;\n    const elCtx = getContext(elm);\n    if (!isComponent) {\n        const listenerMap = updateProperties(elCtx, staticCtx, oldVnode.$props$, props, isSvg);\n        const currentComponent = rctx.$cmpCtx$;\n        if (currentComponent && !currentComponent.$attachedListeners$) {\n            currentComponent.$attachedListeners$ = true;\n            Object.entries(currentComponent.li).forEach(([key, value]) => {\n                addQRLListener(listenerMap, key, value);\n                addGlobalListener(staticCtx, elm, key);\n            });\n        }\n        if (qSerialize) {\n            Object.entries(listenerMap).forEach(([key, value]) => setAttribute(staticCtx, elm, key, serializeQRLs(value, elCtx)));\n        }\n        if (isSvg && newVnode.$type$ === 'foreignObject') {\n            flags &= ~IS_SVG;\n            isSvg = false;\n        }\n        const isSlot = isVirtual && QSlotS in props;\n        if (isSlot) {\n            const currentComponent = rctx.$cmpCtx$;\n            assertDefined(currentComponent, 'slots can not be rendered outside a component');\n            assertDefined(currentComponent.$slots$, 'current component slots must be a defined array');\n            currentComponent.$slots$.push(newVnode);\n            return;\n        }\n        const setsInnerHTML = props[dangerouslySetInnerHTML] !== undefined;\n        if (setsInnerHTML) {\n            if (qDev && newVnode.$children$.length > 0) {\n                logWarn('Node can not have children when innerHTML is set');\n            }\n            return;\n        }\n        const isRenderOnce = isVirtual && QOnce in props;\n        if (isRenderOnce) {\n            return;\n        }\n        return smartUpdateChildren(rctx, oldVnode, newVnode, 'root', flags);\n    }\n    let needsRender = setComponentProps(elCtx, rctx, props);\n    // TODO: review this corner case\n    if (!needsRender && !elCtx.$renderQrl$ && !elCtx.$element$.hasAttribute(ELEMENT_ID)) {\n        setQId(rctx, elCtx);\n        elCtx.$renderQrl$ = props[OnRenderProp];\n        assertQrl(elCtx.$renderQrl$);\n        needsRender = true;\n    }\n    // Rendering of children of component is more complicated,\n    // since the children must be projected into the rendered slots\n    // In addition, nested childen might need rerendering, if that's the case\n    // we need to render the nested component, and wait before projecting the content\n    // since otherwise we don't know where the slots\n    if (needsRender) {\n        return then(renderComponent(rctx, elCtx, flags), () => renderContentProjection(rctx, elCtx, newVnode, flags));\n    }\n    return renderContentProjection(rctx, elCtx, newVnode, flags);\n};\nconst renderContentProjection = (rctx, hostCtx, vnode, flags) => {\n    const newChildren = vnode.$children$;\n    const staticCtx = rctx.$static$;\n    const splittedNewChidren = splitChildren(newChildren);\n    const slotRctx = pushRenderContext(rctx, hostCtx);\n    const slotMaps = getSlotMap(hostCtx);\n    // Remove content from empty slots\n    Object.entries(slotMaps.slots).forEach(([key, slotEl]) => {\n        if (!splittedNewChidren[key]) {\n            const oldCh = getChildrenVnodes(slotEl, 'root');\n            if (oldCh.length > 0) {\n                const slotCtx = tryGetContext(slotEl);\n                if (slotCtx && slotCtx.$vdom$) {\n                    slotCtx.$vdom$.$children$ = [];\n                }\n                removeVnodes(staticCtx, oldCh, 0, oldCh.length - 1);\n            }\n        }\n    });\n    // Remove empty templates\n    Object.entries(slotMaps.templates).forEach(([key, templateEl]) => {\n        if (templateEl) {\n            if (!splittedNewChidren[key] || slotMaps.slots[key]) {\n                removeNode(staticCtx, templateEl);\n                slotMaps.templates[key] = undefined;\n            }\n        }\n    });\n    // Render into slots\n    return promiseAll(Object.entries(splittedNewChidren).map(([key, newVdom]) => {\n        const slotElm = getSlotElement(staticCtx, slotMaps, hostCtx.$element$, key);\n        const slotCtx = getContext(slotElm);\n        const oldVdom = getVdom(slotCtx);\n        slotCtx.$vdom$ = newVdom;\n        newVdom.$elm$ = slotElm;\n        return smartUpdateChildren(slotRctx, oldVdom, newVdom, 'root', flags);\n    }));\n};\nconst addVnodes = (ctx, parentElm, before, vnodes, startIdx, endIdx, flags) => {\n    const promises = [];\n    let hasPromise = false;\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = vnodes[startIdx];\n        assertDefined(ch, 'render: node must be defined at index', startIdx, vnodes);\n        const elm = createElm(ctx, ch, flags);\n        promises.push(elm);\n        if (isPromise(elm)) {\n            hasPromise = true;\n        }\n    }\n    if (hasPromise) {\n        return Promise.all(promises).then((children) => insertChildren(ctx.$static$, parentElm, children, before));\n    }\n    else {\n        insertChildren(ctx.$static$, parentElm, promises, before);\n    }\n};\nconst insertChildren = (ctx, parentElm, children, before) => {\n    for (const child of children) {\n        insertBefore(ctx, parentElm, child, before);\n    }\n};\nconst removeVnodes = (ctx, nodes, startIdx, endIdx) => {\n    for (; startIdx <= endIdx; ++startIdx) {\n        const ch = nodes[startIdx];\n        if (ch) {\n            assertDefined(ch.$elm$, 'vnode elm must be defined');\n            removeNode(ctx, ch.$elm$);\n        }\n    }\n};\nconst getSlotElement = (ctx, slotMaps, parentEl, slotName) => {\n    const slotEl = slotMaps.slots[slotName];\n    if (slotEl) {\n        return slotEl;\n    }\n    const templateEl = slotMaps.templates[slotName];\n    if (templateEl) {\n        return templateEl;\n    }\n    const template = createTemplate(ctx.$doc$, slotName);\n    prepend(ctx, parentEl, template);\n    slotMaps.templates[slotName] = template;\n    return template;\n};\nconst getSlotName = (node) => {\n    return node.$props$[QSlot] ?? '';\n};\nconst createElm = (rctx, vnode, flags) => {\n    const tag = vnode.$type$;\n    const doc = rctx.$static$.$doc$;\n    if (tag === '#text') {\n        return (vnode.$elm$ = createTextNode(doc, vnode.$text$));\n    }\n    let elm;\n    let isHead = !!(flags & IS_HEAD);\n    let isSvg = !!(flags & IS_SVG);\n    if (!isSvg && tag === 'svg') {\n        flags |= IS_SVG;\n        isSvg = true;\n    }\n    const isVirtual = tag === VIRTUAL;\n    const props = vnode.$props$;\n    const isComponent = OnRenderProp in props;\n    const staticCtx = rctx.$static$;\n    if (isVirtual) {\n        elm = newVirtualElement(doc);\n    }\n    else if (tag === 'head') {\n        elm = doc.head;\n        flags |= IS_HEAD;\n        isHead = true;\n    }\n    else {\n        elm = createElement(doc, tag, isSvg);\n        flags &= ~IS_HEAD;\n    }\n    vnode.$elm$ = elm;\n    if (isSvg && tag === 'foreignObject') {\n        isSvg = false;\n        flags &= ~IS_SVG;\n    }\n    const elCtx = getContext(elm);\n    if (isComponent) {\n        setKey(elm, vnode.$key$);\n        assertTrue(isVirtual, 'component must be a virtual element');\n        const renderQRL = props[OnRenderProp];\n        assertQrl(renderQRL);\n        setComponentProps(elCtx, rctx, props);\n        setQId(rctx, elCtx);\n        // Run mount hook\n        elCtx.$renderQrl$ = renderQRL;\n        return then(renderComponent(rctx, elCtx, flags), () => {\n            let children = vnode.$children$;\n            if (children.length === 0) {\n                return elm;\n            }\n            if (children.length === 1 && children[0].$type$ === SKIP_RENDER_TYPE) {\n                children = children[0].$children$;\n            }\n            const slotRctx = pushRenderContext(rctx, elCtx);\n            const slotMap = getSlotMap(elCtx);\n            const elements = children.map((ch) => createElm(slotRctx, ch, flags));\n            return then(promiseAll(elements), () => {\n                for (const node of children) {\n                    assertDefined(node.$elm$, 'vnode elm must be defined');\n                    appendChild(staticCtx, getSlotElement(staticCtx, slotMap, elm, getSlotName(node)), node.$elm$);\n                }\n                return elm;\n            });\n        });\n    }\n    const currentComponent = rctx.$cmpCtx$;\n    const isSlot = isVirtual && QSlotS in props;\n    const hasRef = !isVirtual && 'ref' in props;\n    const listenerMap = setProperties(staticCtx, elCtx, props, isSvg);\n    if (currentComponent && !isVirtual) {\n        const scopedIds = currentComponent.$scopeIds$;\n        if (scopedIds) {\n            scopedIds.forEach((styleId) => {\n                elm.classList.add(styleId);\n            });\n        }\n        if (!currentComponent.$attachedListeners$) {\n            currentComponent.$attachedListeners$ = true;\n            Object.entries(currentComponent.li).forEach(([eventName, qrls]) => {\n                addQRLListener(listenerMap, eventName, qrls);\n            });\n        }\n    }\n    if (isSlot) {\n        assertDefined(currentComponent, 'slot can only be used inside component');\n        assertDefined(currentComponent.$slots$, 'current component slots must be a defined array');\n        setKey(elm, vnode.$key$);\n        directSetAttribute(elm, QSlotRef, currentComponent.$id$);\n        currentComponent.$slots$.push(vnode);\n        staticCtx.$addSlots$.push([elm, currentComponent.$element$]);\n    }\n    else if (qSerialize) {\n        setKey(elm, vnode.$key$);\n    }\n    if (qSerialize) {\n        const listeners = Object.entries(listenerMap);\n        if (isHead && !isVirtual) {\n            directSetAttribute(elm, 'q:head', '');\n        }\n        if (listeners.length > 0 || hasRef) {\n            setQId(rctx, elCtx);\n        }\n        listeners.forEach(([key, qrls]) => {\n            setAttribute(staticCtx, elm, key, serializeQRLs(qrls, elCtx));\n        });\n    }\n    const setsInnerHTML = props[dangerouslySetInnerHTML] !== undefined;\n    if (setsInnerHTML) {\n        if (qDev && vnode.$children$.length > 0) {\n            logWarn('Node can not have children when innerHTML is set');\n        }\n        return elm;\n    }\n    let children = vnode.$children$;\n    if (children.length === 0) {\n        return elm;\n    }\n    if (children.length === 1 && children[0].$type$ === SKIP_RENDER_TYPE) {\n        children = children[0].$children$;\n    }\n    const promises = children.map((ch) => createElm(rctx, ch, flags));\n    return then(promiseAll(promises), () => {\n        for (const node of children) {\n            assertDefined(node.$elm$, 'vnode elm must be defined');\n            appendChild(rctx.$static$, elm, node.$elm$);\n        }\n        return elm;\n    });\n};\nconst getSlots = (ctx) => {\n    const slots = ctx.$slots$;\n    if (!slots) {\n        const parent = ctx.$element$.parentElement;\n        assertDefined(parent, 'component should be already attached to the dom');\n        return (ctx.$slots$ = readDOMSlots(ctx));\n    }\n    return slots;\n};\nconst getSlotMap = (ctx) => {\n    const slotsArray = getSlots(ctx);\n    const slots = {};\n    const templates = {};\n    const t = Array.from(ctx.$element$.childNodes).filter(isSlotTemplate);\n    // Map virtual slots\n    for (const vnode of slotsArray) {\n        assertQwikElement(vnode.$elm$);\n        slots[vnode.$key$ ?? ''] = vnode.$elm$;\n    }\n    // Map templates\n    for (const elm of t) {\n        templates[directGetAttribute(elm, QSlot) ?? ''] = elm;\n    }\n    return { slots, templates };\n};\nconst readDOMSlots = (ctx) => {\n    const parent = ctx.$element$.parentElement;\n    assertDefined(parent, 'component should be already attached to the dom');\n    return queryAllVirtualByAttribute(parent, QSlotRef, ctx.$id$).map(domToVnode);\n};\nconst handleStyle = (ctx, elm, _, newValue) => {\n    setProperty(ctx, elm.style, 'cssText', stringifyStyle(newValue));\n    return true;\n};\nconst handleClass = (ctx, elm, _, newValue, oldValue) => {\n    const oldClasses = parseClassAny(oldValue);\n    const newClasses = parseClassAny(newValue);\n    setClasslist(ctx, elm, oldClasses.filter((c) => c && !newClasses.includes(c)), newClasses.filter((c) => c && !oldClasses.includes(c)));\n    return true;\n};\nconst checkBeforeAssign = (ctx, elm, prop, newValue) => {\n    if (prop in elm) {\n        if (elm[prop] !== newValue) {\n            setProperty(ctx, elm, prop, newValue);\n        }\n    }\n    return true;\n};\nconst dangerouslySetInnerHTML = 'dangerouslySetInnerHTML';\nconst setInnerHTML = (ctx, elm, _, newValue) => {\n    if (dangerouslySetInnerHTML in elm) {\n        setProperty(ctx, elm, dangerouslySetInnerHTML, newValue);\n    }\n    else if ('innerHTML' in elm) {\n        setProperty(ctx, elm, 'innerHTML', newValue);\n    }\n    return true;\n};\nconst noop = () => {\n    return true;\n};\nexport const PROP_HANDLER_MAP = {\n    style: handleStyle,\n    class: handleClass,\n    className: handleClass,\n    value: checkBeforeAssign,\n    checked: checkBeforeAssign,\n    [dangerouslySetInnerHTML]: setInnerHTML,\n    innerHTML: noop,\n};\nexport const updateProperties = (elCtx, staticCtx, oldProps, newProps, isSvg) => {\n    const keys = getKeys(oldProps, newProps);\n    const listenersMap = (elCtx.li = {});\n    if (keys.length === 0) {\n        return listenersMap;\n    }\n    const elm = elCtx.$element$;\n    for (const key of keys) {\n        if (key === 'children') {\n            continue;\n        }\n        const newValue = newProps[key];\n        const oldValue = oldProps[key];\n        if (oldValue === newValue) {\n            continue;\n        }\n        if (key === 'ref') {\n            newValue.current = elm;\n            continue;\n        }\n        if (isOnProp(key)) {\n            setEvent(listenersMap, key, newValue);\n            continue;\n        }\n        // Check if its an exception\n        const exception = PROP_HANDLER_MAP[key];\n        if (exception) {\n            if (exception(staticCtx, elm, key, newValue, oldValue)) {\n                continue;\n            }\n        }\n        // Check if property in prototype\n        if (!isSvg && key in elm) {\n            setProperty(staticCtx, elm, key, newValue);\n            continue;\n        }\n        // Fallback to render attribute\n        setAttribute(staticCtx, elm, key, newValue);\n    }\n    return listenersMap;\n};\nconst getKeys = (oldProps, newProps) => {\n    const keys = Object.keys(newProps);\n    keys.push(...Object.keys(oldProps).filter((p) => !keys.includes(p)));\n    return keys;\n};\nconst addGlobalListener = (staticCtx, elm, prop) => {\n    if (!qSerialize && prop.includes(':')) {\n        setAttribute(staticCtx, elm, prop, '');\n    }\n};\nexport const areExactQRLs = (oldValue, newValue) => {\n    if (!isQrl(oldValue) || !isQrl(newValue) || oldValue.$hash$ !== newValue.$hash$) {\n        return false;\n    }\n    const cA = oldValue.$captureRef$;\n    const cB = newValue.$captureRef$;\n    if (cA && cB) {\n        return sameArrays(cA, cB);\n    }\n    return false;\n};\nexport const sameArrays = (a1, a2) => {\n    const len = a1.length;\n    if (len !== a2.length) {\n        return false;\n    }\n    for (let i = 0; i < len; i++) {\n        if (a1[i] !== a2[i]) {\n            return false;\n        }\n    }\n    return true;\n};\nexport const setProperties = (rctx, elCtx, newProps, isSvg) => {\n    const elm = elCtx.$element$;\n    const keys = Object.keys(newProps);\n    const listenerMap = elCtx.li;\n    if (keys.length === 0) {\n        return listenerMap;\n    }\n    for (const key of keys) {\n        if (key === 'children') {\n            continue;\n        }\n        const newValue = newProps[key];\n        if (key === 'ref') {\n            newValue.current = elm;\n            continue;\n        }\n        if (isOnProp(key)) {\n            addGlobalListener(rctx, elm, setEvent(listenerMap, key, newValue));\n            continue;\n        }\n        // Check if its an exception\n        const exception = PROP_HANDLER_MAP[key];\n        if (exception) {\n            if (exception(rctx, elm, key, newValue, undefined)) {\n                continue;\n            }\n        }\n        // Check if property in prototype\n        if (!isSvg && key in elm) {\n            setProperty(rctx, elm, key, newValue);\n            continue;\n        }\n        // Fallback to render attribute\n        setAttribute(rctx, elm, key, newValue);\n    }\n    return listenerMap;\n};\nexport const setComponentProps = (ctx, rctx, expectProps) => {\n    const keys = Object.keys(expectProps);\n    if (keys.length === 0) {\n        return false;\n    }\n    const qwikProps = getPropsMutator(ctx, rctx.$static$.$containerState$);\n    for (const key of keys) {\n        if (SKIPS_PROPS.includes(key)) {\n            continue;\n        }\n        qwikProps.set(key, expectProps[key]);\n    }\n    return ctx.$dirty$;\n};\nexport const cleanupTree = (parent, rctx, subsManager, stopSlots) => {\n    if (stopSlots && parent.hasAttribute(QSlotS)) {\n        rctx.$rmSlots$.push(parent);\n        return;\n    }\n    cleanupElement(parent, subsManager);\n    const ch = getChildren(parent, 'elements');\n    for (const child of ch) {\n        cleanupTree(child, rctx, subsManager, stopSlots);\n    }\n};\nconst cleanupElement = (el, subsManager) => {\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        cleanupContext(ctx, subsManager);\n    }\n};\nexport const executeContextWithSlots = ({ $static$: ctx }) => {\n    executeDOMRender(ctx);\n};\nexport const directAppendChild = (parent, child) => {\n    if (isVirtualElement(child)) {\n        child.appendTo(parent);\n    }\n    else {\n        parent.appendChild(child);\n    }\n};\nexport const directRemoveChild = (parent, child) => {\n    if (isVirtualElement(child)) {\n        child.remove();\n    }\n    else {\n        parent.removeChild(child);\n    }\n};\nexport const directInsertBefore = (parent, child, ref) => {\n    if (isVirtualElement(child)) {\n        child.insertBeforeTo(parent, getRootNode(ref));\n    }\n    else {\n        parent.insertBefore(child, getRootNode(ref));\n    }\n};\nconst createKeyToOldIdx = (children, beginIdx, endIdx) => {\n    const map = {};\n    for (let i = beginIdx; i <= endIdx; ++i) {\n        const child = children[i];\n        const key = child.$key$;\n        if (key != null) {\n            map[key] = i;\n        }\n    }\n    return map;\n};\nconst sameVnode = (vnode1, vnode2) => {\n    if (vnode1.$type$ !== vnode2.$type$) {\n        return false;\n    }\n    return vnode1.$key$ === vnode2.$key$;\n};\nconst isTagName = (elm, tagName) => {\n    return elm.$type$ === tagName;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlzaXRvci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZG9tL3Zpc2l0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLDRCQUE0QixFQUM1QixVQUFVLEVBQ1YsWUFBWSxFQUNaLEtBQUssRUFDTCxRQUFRLEVBQ1IsTUFBTSxHQUNQLE1BQU0sb0JBQW9CLENBQUM7QUFDNUIsT0FBTyxFQUNMLGNBQWMsRUFDZCxVQUFVLEVBQ1YsZUFBZSxFQUVmLGFBQWEsR0FDZCxNQUFNLG1CQUFtQixDQUFDO0FBQzNCLE9BQU8sRUFBRSxjQUFjLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBRTFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLFVBQVUsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzdFLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN6QyxPQUFPLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRW5ELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxrQkFBa0IsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN2RSxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN0RCxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBZSxNQUFNLHdCQUF3QixDQUFDO0FBQ3ZFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLGdCQUFnQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDaEcsT0FBTyxFQUFFLE9BQU8sRUFBb0Isb0JBQW9CLEVBQUUsZUFBZSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRWhHLE9BQU8sRUFDTCxhQUFh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RixJQUFJLE1BQU0sQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLE1BQU0sRUFBRTtRQUNuQyxPQUFPLEtBQUssQ0FBQztLQUNkO0lBQ0QsT0FBTyxNQUFNLENBQUMsS0FBSyxLQUFLLE1BQU0sQ0FBQyxLQUFLLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxTQUFTLEdBQUcsQ0FBQyxHQUFxQixFQUFFLE9BQWUsRUFBVyxFQUFFO0lBQ3BFLE9BQU8sR0FBRyxDQUFDLE1BQU0sS0FBSyxPQUFPLENBQUM7QUFDaEMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCxcbiAgRUxFTUVOVF9JRCxcbiAgT25SZW5kZXJQcm9wLFxuICBRU2xvdCxcbiAgUVNsb3RSZWYsXG4gIFFTbG90Uyxcbn0gZnJvbSAnLi4vLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7XG4gIGNsZWFudXBDb250ZXh0LFxuICBnZXRDb250ZXh0LFxuICBnZXRQcm9wc011dGF0b3IsXG4gIFFDb250ZXh0LFxuICB0cnlHZXRDb250ZXh0LFxufSBmcm9tICcuLi8uLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBhZGRRUkxMaXN0ZW5lciwgaXNPblByb3AsIHNldEV2ZW50IH0gZnJvbSAnLi4vLi4vcHJvcHMvcHJvcHMtb24nO1xuaW1wb3J0IHR5cGUgeyBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uLy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgaXNQcm9taXNlLCBwcm9taXNlQWxsLCB0aGVuIH0gZnJvbSAnLi4vLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkLCBhc3NlcnRFcXVhbCwgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uLy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uLy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHFEZXYsIHFTZXJpYWxpemUgfSBmcm9tICcuLi8uLi91dGlsL3FkZXYnO1xuaW1wb3J0IHR5cGUgeyBPblJlbmRlckZuIH0gZnJvbSAnLi4vLi4vY29tcG9uZW50L2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgZGlyZWN0R2V0QXR0cmlidXRlLCBkaXJlY3RTZXRBdHRyaWJ1dGUgfSBmcm9tICcuLi9mYXN0LWNhbGxzJztcbmltcG9ydCB7IFNLSVBfUkVOREVSX1RZUEUgfSBmcm9tICcuLi9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgYXNzZXJ0UXJsLCBpc1FybCwgUVJMSW50ZXJuYWwgfSBmcm9tICcuLi8uLi9pbXBvcnQvcXJsLWNsYXNzJztcbmltcG9ydCB7IGFzc2VydFF3aWtFbGVtZW50LCBpc1F3aWtFbGVtZW50LCBpc1RleHQsIGlzVmlydHVhbEVsZW1lbnQgfSBmcm9tICcuLi8uLi91dGlsL2VsZW1lbnQnO1xuaW1wb3J0IHsgZ2V0VmRvbSwgUHJvY2Vzc2VkSlNYTm9kZSwgUHJvY2Vzc2VkSlNYTm9kZUltcGwsIHJlbmRlckNvbXBvbmVudCB9IGZyb20gJy4vcmVuZGVyLWRvbSc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlckNvbnRleHQsIFJlbmRlclN0YXRpY0NvbnRleHQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQge1xuICBwYXJzZUNsYXNzQW55LFxuICBwdXNoUmVuZGVyQ29udGV4dCxcbiAgc2V0UUlkLFxuICBTS0lQU19QUk9QUyxcbiAgc3RyaW5naWZ5U3R5bGUsXG59IGZyb20gJy4uL2V4ZWN1dGUtY29tcG9uZW50JztcbmltcG9ydCB0eXBlIHsgU3Vic2NyaXB0aW9uTWFuYWdlciB9IGZyb20gJy4uL2NvbnRhaW5lcic7XG5pbXBvcnQgdHlwZSB7IFJlZiB9IGZyb20gJy4uLy4uL3VzZS91c2UtcmVmJztcbmltcG9ydCB7XG4gIGdldFJvb3ROb2RlLFxuICBuZXdWaXJ0dWFsRWxlbWVudCxcbiAgcHJvY2Vzc1ZpcnR1YWxOb2RlcyxcbiAgcXVlcnlBbGxWaXJ0dWFsQnlBdHRyaWJ1dGUsXG4gIFF3aWtFbGVtZW50LFxuICBWSVJUVUFMLFxuICBWaXJ0dWFsRWxlbWVudCxcbn0gZnJvbSAnLi92aXJ0dWFsLWVsZW1lbnQnO1xuXG5pbXBvcnQge1xuICBhcHBlbmRDaGlsZCxcbiAgY3JlYXRlRWxlbWVudCxcbiAgY3JlYXRlVGVtcGxhdGUsXG4gIGNyZWF0ZVRleHROb2RlLFxuICBleGVjdXRlRE9NUmVuZGVyLFxuICBnZXRLZXksXG4gIGluc2VydEJlZm9yZSxcbiAgcHJlcGVuZCxcbiAgcmVtb3ZlTm9kZSxcbiAgc2V0QXR0cmlidXRlLFxuICBzZXRDbGFzc2xpc3QsXG4gIHNldEtleSxcbiAgc2V0UHJvcGVydHksXG59IGZyb20gJy4vb3BlcmF0aW9ucyc7XG5pbXBvcnQgeyBzZXJpYWxpemVRUkxzIH0gZnJvbSAnLi4vLi4vaW1wb3J0L3FybCc7XG5pbXBvcnQgeyBRT25jZSB9IGZyb20gJy4uL2pzeC91dGlscy5wdWJsaWMnO1xuaW1wb3J0IHsgRU1QVFlfT0JKIH0gZnJvbSAnLi4vLi4vdXRpbC9mbHl3ZWlnaHQnO1xuXG5leHBvcnQgY29uc3QgU1ZHX05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJztcblxuZXhwb3J0IGNvbnN0IElTX1NWRyA9IDEgPDwgMDtcbmV4cG9ydCBjb25zdCBJU19IRUFEID0gMSA8PCAxO1xuXG50eXBlIEtleVRvSW5kZXhNYXAgPSB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuXG5jb25zdCBDSElMRFJFTl9QTEFDRUhPTERFUjogUHJvY2Vzc2VkSlNYTm9kZVtdID0gW107XG50eXBlIFByb3BIYW5kbGVyID0gKFxuICBjdHg6IFJlbmRlclN0YXRpY0NvbnRleHQgfCB1bmRlZmluZWQsXG4gIGVsOiBIVE1MRWxlbWVudCxcbiAga2V5OiBzdHJpbmcsXG4gIG5ld1ZhbHVlOiBhbnksXG4gIG9sZFZhbHVlOiBhbnlcbikgPT4gYm9vbGVhbjtcblxuZXhwb3J0IHR5cGUgQ2hpbGRyZW5Nb2RlID0gJ3Jvb3QnIHwgJ2hlYWQnIHwgJ2VsZW1lbnRzJztcblxuZXhwb3J0IGNvbnN0IHZpc2l0SnN4Tm9kZSA9IChcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBvbGRWbm9kZTogUHJvY2Vzc2VkSlNYTm9kZSxcbiAgbmV3Vm5vZGU6IFByb2Nlc3NlZEpTWE5vZGUsXG4gIGZsYWdzOiBudW1iZXJcbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgcmV0dXJuIHNtYXJ0VXBkYXRlQ2hpbGRyZW4oY3R4LCBvbGRWbm9kZSwgbmV3Vm5vZGUsICdyb290JywgZmxhZ3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNtYXJ0VXBkYXRlQ2hpbGRyZW4gPSAoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgb2xkVm5vZGU6IFByb2Nlc3NlZEpTWE5vZGUsXG4gIG5ld1Zub2RlOiBQcm9jZXNzZWRKU1hOb2RlLFxuICBtb2RlOiBDaGlsZHJlbk1vZGUsXG4gIGZsYWdzOiBudW1iZXJcbikgPT4ge1xuICBhc3NlcnRRd2lrRWxlbWVudChvbGRWbm9kZS4kZWxtJCk7XG5cbiAgY29uc3QgY2ggPSBuZXdWbm9kZS4kY2hpbGRyZW4kO1xuICBpZiAoY2gubGVuZ3RoID09PSAxICYmIGNoWzBdLiR0eXBlJCA9PT0gU0tJUF9SRU5ERVJfVFlQRSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBlbG0gPSBvbGRWbm9kZS4kZWxtJDtcbiAgY29uc3QgbmVlZHNET01SZWFkID0gb2xkVm5vZGUuJGNoaWxkcmVuJCA9PT0gQ0hJTERSRU5fUExBQ0VIT0xERVI7XG4gIGlmIChuZWVkc0RPTVJlYWQpIHtcbiAgICBjb25zdCBpc0hlYWQgPSBlbG0ubm9kZU5hbWUgPT09ICdIRUFEJztcbiAgICBpZiAoaXNIZWFkKSB7XG4gICAgICBtb2RlID0gJ2hlYWQnO1xuICAgICAgZmxhZ3MgfD0gSVNfSEVBRDtcbiAgICB9XG4gIH1cblxuICBjb25zdCBvbGRDaCA9IGdldFZub2RlQ2hpbGRyZW4ob2xkVm5vZGUsIG1vZGUpO1xuICBpZiAob2xkQ2gubGVuZ3RoID4gMCAmJiBjaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHVwZGF0ZUNoaWxkcmVuKGN0eCwgZWxtLCBvbGRDaCwgY2gsIGZsYWdzKTtcbiAgfSBlbHNlIGlmIChjaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIGFkZFZub2RlcyhjdHgsIGVsbSwgbnVsbCwgY2gsIDAsIGNoLmxlbmd0aCAtIDEsIGZsYWdzKTtcbiAgfSBlbHNlIGlmIChvbGRDaC5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHJlbW92ZVZub2RlcyhjdHguJHN0YXRpYyQsIG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGdldFZub2RlQ2hpbGRyZW4gPSAodm5vZGU6IFByb2Nlc3NlZEpTWE5vZGUsIG1vZGU6IENoaWxkcmVuTW9kZSkgPT4ge1xuICBjb25zdCBvbGRDaCA9IHZub2RlLiRjaGlsZHJlbiQ7XG4gIGNvbnN0IGVsbSA9IHZub2RlLiRlbG0kIGFzIEVsZW1lbnQ7XG4gIGlmIChvbGRDaCA9PT0gQ0hJTERSRU5fUExBQ0VIT0xERVIpIHtcbiAgICByZXR1cm4gKHZub2RlLiRjaGlsZHJlbiQgPSBnZXRDaGlsZHJlblZub2RlcyhlbG0sIG1vZGUpKTtcbiAgfVxuICByZXR1cm4gb2xkQ2g7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlQ2hpbGRyZW4gPSAoXG4gIGN0eDogUmVuZGVyQ29udGV4dCxcbiAgcGFyZW50RWxtOiBRd2lrRWxlbWVudCxcbiAgb2xkQ2g6IFByb2Nlc3NlZEpTWE5vZGVbXSxcbiAgbmV3Q2g6IFByb2Nlc3NlZEpTWE5vZGVbXSxcbiAgZmxhZ3M6IG51bWJlclxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICBsZXQgb2xkU3RhcnRJZHggPSAwO1xuICBsZXQgbmV3U3RhcnRJZHggPSAwO1xuICBsZXQgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgbGV0IG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFswXTtcbiAgbGV0IG9sZEVuZFZub2RlID0gb2xkQ2hbb2xkRW5kSWR4XTtcbiAgbGV0IG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gIGxldCBuZXdTdGFydFZub2RlID0gbmV3Q2hbMF07XG4gIGxldCBuZXdFbmRWbm9kZSA9IG5ld0NoW25ld0VuZElkeF07XG4gIGxldCBvbGRLZXlUb0lkeDogS2V5VG9JbmRleE1hcCB8IHVuZGVmaW5lZDtcbiAgbGV0IGlkeEluT2xkOiBudW1iZXI7XG4gIGxldCBlbG1Ub01vdmU6IFByb2Nlc3NlZEpTWE5vZGU7XG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgY29uc3Qgc3RhdGljQ3R4ID0gY3R4LiRzdGF0aWMkO1xuXG4gIHdoaWxlIChvbGRTdGFydElkeCA8PSBvbGRFbmRJZHggJiYgbmV3U3RhcnRJZHggPD0gbmV3RW5kSWR4KSB7XG4gICAgaWYgKG9sZFN0YXJ0Vm5vZGUgPT0gbnVsbCkge1xuICAgICAgb2xkU3RhcnRWbm9kZSA9IG9sZENoWysrb2xkU3RhcnRJZHhdOyAvLyBWbm9kZSBtaWdodCBoYXZlIGJlZW4gbW92ZWQgbGVmdFxuICAgIH0gZWxzZSBpZiAob2xkRW5kVm5vZGUgPT0gbnVsbCkge1xuICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgfSBlbHNlIGlmIChuZXdTdGFydFZub2RlID09IG51bGwpIHtcbiAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICB9IGVsc2UgaWYgKG5ld0VuZFZub2RlID09IG51bGwpIHtcbiAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICByZXN1bHRzLnB1c2gocGF0Y2hWbm9kZShjdHgsIG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUsIGZsYWdzKSk7XG4gICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfSBlbHNlIGlmIChzYW1lVm5vZGUob2xkRW5kVm5vZGUsIG5ld0VuZFZub2RlKSkge1xuICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUsIGZsYWdzKSk7XG4gICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlKSkge1xuICAgICAgYXNzZXJ0RGVmaW5lZChvbGRTdGFydFZub2RlLiRlbG0kLCAnb2xkU3RhcnRWbm9kZSAkZWxtJCBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICAgIGFzc2VydERlZmluZWQob2xkRW5kVm5vZGUuJGVsbSQsICdvbGRFbmRWbm9kZSAkZWxtJCBtdXN0IGJlIGRlZmluZWQnKTtcblxuICAgICAgLy8gVm5vZGUgbW92ZWQgcmlnaHRcbiAgICAgIHJlc3VsdHMucHVzaChwYXRjaFZub2RlKGN0eCwgb2xkU3RhcnRWbm9kZSwgbmV3RW5kVm5vZGUsIGZsYWdzKSk7XG4gICAgICBpbnNlcnRCZWZvcmUoc3RhdGljQ3R4LCBwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuJGVsbSQsIG9sZEVuZFZub2RlLiRlbG0kLm5leHRTaWJsaW5nKTtcbiAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgIG5ld0VuZFZub2RlID0gbmV3Q2hbLS1uZXdFbmRJZHhdO1xuICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgYXNzZXJ0RGVmaW5lZChvbGRTdGFydFZub2RlLiRlbG0kLCAnb2xkU3RhcnRWbm9kZSAkZWxtJCBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICAgIGFzc2VydERlZmluZWQob2xkRW5kVm5vZGUuJGVsbSQsICdvbGRFbmRWbm9kZSAkZWxtJCBtdXN0IGJlIGRlZmluZWQnKTtcblxuICAgICAgLy8gVm5vZGUgbW92ZWQgbGVmdFxuICAgICAgcmVzdWx0cy5wdXNoKHBhdGNoVm5vZGUoY3R4LCBvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgZmxhZ3MpKTtcbiAgICAgIGluc2VydEJlZm9yZShzdGF0aWNDdHgsIHBhcmVudEVsbSwgb2xkRW5kVm5vZGUuJGVsbSQsIG9sZFN0YXJ0Vm5vZGUuJGVsbSQpO1xuICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICBuZXdTdGFydFZub2RlID0gbmV3Q2hbKytuZXdTdGFydElkeF07XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvbGRLZXlUb0lkeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9sZEtleVRvSWR4ID0gY3JlYXRlS2V5VG9PbGRJZHgob2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgICAgfVxuICAgICAgaWR4SW5PbGQgPSBvbGRLZXlUb0lkeFtuZXdTdGFydFZub2RlLiRrZXkkIGFzIHN0cmluZ107XG4gICAgICBpZiAoaWR4SW5PbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBOZXcgZWxlbWVudFxuICAgICAgICBjb25zdCBuZXdFbG0gPSBjcmVhdGVFbG0oY3R4LCBuZXdTdGFydFZub2RlLCBmbGFncyk7XG4gICAgICAgIHJlc3VsdHMucHVzaChcbiAgICAgICAgICB0aGVuKG5ld0VsbSwgKG5ld0VsbSkgPT4ge1xuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKHN0YXRpY0N0eCwgcGFyZW50RWxtLCBuZXdFbG0sIG9sZFN0YXJ0Vm5vZGUuJGVsbSQpO1xuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbG1Ub01vdmUgPSBvbGRDaFtpZHhJbk9sZF07XG4gICAgICAgIGlmICghaXNUYWdOYW1lKGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZS4kdHlwZSQpKSB7XG4gICAgICAgICAgY29uc3QgbmV3RWxtID0gY3JlYXRlRWxtKGN0eCwgbmV3U3RhcnRWbm9kZSwgZmxhZ3MpO1xuICAgICAgICAgIHJlc3VsdHMucHVzaChcbiAgICAgICAgICAgIHRoZW4obmV3RWxtLCAobmV3RWxtKSA9PiB7XG4gICAgICAgICAgICAgIGluc2VydEJlZm9yZShzdGF0aWNDdHgsIHBhcmVudEVsbSwgbmV3RWxtLCBvbGRTdGFydFZub2RlLiRlbG0kKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2gocGF0Y2hWbm9kZShjdHgsIGVsbVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgZmxhZ3MpKTtcbiAgICAgICAgICBvbGRDaFtpZHhJbk9sZF0gPSB1bmRlZmluZWQgYXMgYW55O1xuICAgICAgICAgIGFzc2VydERlZmluZWQoZWxtVG9Nb3ZlLiRlbG0kLCAnZWxtVG9Nb3ZlICRlbG0kIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgIGluc2VydEJlZm9yZShzdGF0aWNDdHgsIHBhcmVudEVsbSwgZWxtVG9Nb3ZlLiRlbG0kLCBvbGRTdGFydFZub2RlLiRlbG0kKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgIH1cbiAgfVxuXG4gIGlmIChuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICBjb25zdCBiZWZvcmUgPSBuZXdDaFtuZXdFbmRJZHggKyAxXSA9PSBudWxsID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLiRlbG0kO1xuICAgIHJlc3VsdHMucHVzaChhZGRWbm9kZXMoY3R4LCBwYXJlbnRFbG0sIGJlZm9yZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4LCBuZXdFbmRJZHgsIGZsYWdzKSk7XG4gIH1cblxuICBsZXQgd2FpdCA9IHByb21pc2VBbGwocmVzdWx0cykgYXMgYW55O1xuICBpZiAob2xkU3RhcnRJZHggPD0gb2xkRW5kSWR4KSB7XG4gICAgd2FpdCA9IHRoZW4od2FpdCwgKCkgPT4ge1xuICAgICAgcmVtb3ZlVm5vZGVzKHN0YXRpY0N0eCwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB3YWl0O1xufTtcblxuY29uc3QgZ2V0Q2ggPSAoZWxtOiBRd2lrRWxlbWVudCwgZmlsdGVyOiAoZWw6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCkgPT4gYm9vbGVhbikgPT4ge1xuICBjb25zdCBlbmQgPSBpc1ZpcnR1YWxFbGVtZW50KGVsbSkgPyBlbG0uY2xvc2UgOiBudWxsO1xuXG4gIGNvbnN0IG5vZGVzOiAoTm9kZSB8IFZpcnR1YWxFbGVtZW50KVtdID0gW107XG4gIGxldCBub2RlOiBOb2RlIHwgbnVsbCB8IFZpcnR1YWxFbGVtZW50ID0gZWxtLmZpcnN0Q2hpbGQ7XG4gIHdoaWxlICgobm9kZSA9IHByb2Nlc3NWaXJ0dWFsTm9kZXMobm9kZSkpKSB7XG4gICAgaWYgKGZpbHRlcihub2RlKSkge1xuICAgICAgbm9kZXMucHVzaChub2RlKTtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgaWYgKG5vZGUgPT09IGVuZCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBub2Rlcztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDaGlsZHJlbiA9IChlbG06IFF3aWtFbGVtZW50LCBtb2RlOiBDaGlsZHJlbk1vZGUpOiAoTm9kZSB8IFZpcnR1YWxFbGVtZW50KVtdID0+IHtcbiAgLy8gY29uc29sZS53YXJuKCdET00gUkVBRDogZ2V0Q2hpbGRyZW4oKScsIGVsbSk7XG4gIHN3aXRjaCAobW9kZSkge1xuICAgIGNhc2UgJ3Jvb3QnOlxuICAgICAgcmV0dXJuIGdldENoKGVsbSwgaXNDaGlsZENvbXBvbmVudCk7XG4gICAgY2FzZSAnaGVhZCc6XG4gICAgICByZXR1cm4gZ2V0Q2goZWxtLCBpc0hlYWRDaGlsZHJlbik7XG4gICAgY2FzZSAnZWxlbWVudHMnOlxuICAgICAgcmV0dXJuIGdldENoKGVsbSwgaXNRd2lrRWxlbWVudCk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDaGlsZHJlblZub2RlcyA9IChlbG06IFF3aWtFbGVtZW50LCBtb2RlOiBDaGlsZHJlbk1vZGUpID0+IHtcbiAgcmV0dXJuIGdldENoaWxkcmVuKGVsbSwgbW9kZSkubWFwKGRvbVRvVm5vZGUpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRvbVRvVm5vZGUgPSAobm9kZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50KTogUHJvY2Vzc2VkSlNYTm9kZSA9PiB7XG4gIGlmIChpc1F3aWtFbGVtZW50KG5vZGUpKSB7XG4gICAgY29uc3QgcHJvcHMgPSBpc1ZpcnR1YWxFbGVtZW50KG5vZGUpID8gRU1QVFlfT0JKIDogZ2V0UHJvcHMobm9kZSk7XG4gICAgY29uc3QgdCA9IG5ldyBQcm9jZXNzZWRKU1hOb2RlSW1wbChub2RlLmxvY2FsTmFtZSwgcHJvcHMsIENISUxEUkVOX1BMQUNFSE9MREVSLCBnZXRLZXkobm9kZSkpO1xuICAgIHQuJGVsbSQgPSBub2RlO1xuICAgIHJldHVybiB0O1xuICB9IGVsc2UgaWYgKGlzVGV4dChub2RlKSkge1xuICAgIGNvbnN0IHQgPSBuZXcgUHJvY2Vzc2VkSlNYTm9kZUltcGwobm9kZS5ub2RlTmFtZSwge30sIENISUxEUkVOX1BMQUNFSE9MREVSLCBudWxsKTtcbiAgICB0LiR0ZXh0JCA9IG5vZGUuZGF0YTtcbiAgICB0LiRlbG0kID0gbm9kZTtcbiAgICByZXR1cm4gdDtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgbm9kZScpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFByb3BzID0gKG5vZGU6IEVsZW1lbnQpID0+IHtcbiAgY29uc3QgcHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgY29uc3QgYXR0cmlidXRlcyA9IG5vZGUuYXR0cmlidXRlcztcbiAgY29uc3QgbGVuID0gYXR0cmlidXRlcy5sZW5ndGg7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBhID0gYXR0cmlidXRlcy5pdGVtKGkpO1xuICAgIGFzc2VydERlZmluZWQoYSwgJ2F0dHJpYnV0ZSBtdXN0IGJlIGRlZmluZWQnKTtcblxuICAgIGNvbnN0IG5hbWUgPSBhLm5hbWU7XG4gICAgaWYgKCFuYW1lLmluY2x1ZGVzKCc6JykpIHtcbiAgICAgIHByb3BzW25hbWVdID1cbiAgICAgICAgbmFtZSA9PT0gJ2NsYXNzJ1xuICAgICAgICAgID8gcGFyc2VDbGFzc0FueShhLnZhbHVlKS5maWx0ZXIoKGMpID0+ICFjLnN0YXJ0c1dpdGgoQ29tcG9uZW50U3R5bGVzUHJlZml4Q29udGVudCkpXG4gICAgICAgICAgOiBhLnZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcHJvcHM7XG59O1xuXG5leHBvcnQgY29uc3QgaXNOb2RlID0gKGVsbTogTm9kZSB8IFZpcnR1YWxFbGVtZW50KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHR5cGUgPSBlbG0ubm9kZVR5cGU7XG4gIHJldHVybiB0eXBlID09PSAxIHx8IHR5cGUgPT09IDMgfHwgdHlwZSA9PT0gMTExO1xufTtcblxuY29uc3QgaXNIZWFkQ2hpbGRyZW4gPSAobm9kZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICBpZiAodHlwZSA9PT0gMSkge1xuICAgIHJldHVybiAobm9kZSBhcyBFbGVtZW50KS5oYXNBdHRyaWJ1dGUoJ3E6aGVhZCcpO1xuICB9XG4gIHJldHVybiB0eXBlID09PSAxMTE7XG59O1xuXG5leHBvcnQgY29uc3QgaXNTbG90VGVtcGxhdGUgPSAobm9kZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50KTogbm9kZSBpcyBFbGVtZW50ID0+IHtcbiAgcmV0dXJuIG5vZGUubm9kZU5hbWUgPT09ICdROlRFTVBMQVRFJztcbn07XG5cbmNvbnN0IGlzQ2hpbGRDb21wb25lbnQgPSAobm9kZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50KTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICBpZiAodHlwZSA9PT0gMyB8fCB0eXBlID09PSAxMTEpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAodHlwZSAhPT0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWU7XG4gIGlmIChub2RlTmFtZSA9PT0gJ1E6VEVNUExBVEUnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChub2RlTmFtZSA9PT0gJ0hFQUQnKSB7XG4gICAgcmV0dXJuIChub2RlIGFzIEVsZW1lbnQpLmhhc0F0dHJpYnV0ZSgncTpoZWFkJyk7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgY29uc3Qgc3BsaXRDaGlsZHJlbiA9IChpbnB1dDogUHJvY2Vzc2VkSlNYTm9kZVtdKTogUmVjb3JkPHN0cmluZywgUHJvY2Vzc2VkSlNYTm9kZT4gPT4ge1xuICBjb25zdCBvdXRwdXQ6IFJlY29yZDxzdHJpbmcsIFByb2Nlc3NlZEpTWE5vZGU+ID0ge307XG4gIGZvciAoY29uc3QgaXRlbSBvZiBpbnB1dCkge1xuICAgIGNvbnN0IGtleSA9IGdldFNsb3ROYW1lKGl0ZW0pO1xuICAgIGNvbnN0IG5vZGUgPVxuICAgICAgb3V0cHV0W2tleV0gPz9cbiAgICAgIChvdXRwdXRba2V5XSA9IG5ldyBQcm9jZXNzZWRKU1hOb2RlSW1wbChcbiAgICAgICAgVklSVFVBTCxcbiAgICAgICAge1xuICAgICAgICAgIFtRU2xvdFNdOiAnJyxcbiAgICAgICAgfSxcbiAgICAgICAgW10sXG4gICAgICAgIGtleVxuICAgICAgKSk7XG4gICAgbm9kZS4kY2hpbGRyZW4kLnB1c2goaXRlbSk7XG4gIH1cbiAgcmV0dXJuIG91dHB1dDtcbn07XG5cbmV4cG9ydCBjb25zdCBwYXRjaFZub2RlID0gKFxuICByY3R4OiBSZW5kZXJDb250ZXh0LFxuICBvbGRWbm9kZTogUHJvY2Vzc2VkSlNYTm9kZSxcbiAgbmV3Vm5vZGU6IFByb2Nlc3NlZEpTWE5vZGUsXG4gIGZsYWdzOiBudW1iZXJcbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgYXNzZXJ0RXF1YWwob2xkVm5vZGUuJHR5cGUkLCBuZXdWbm9kZS4kdHlwZSQsICdvbGQgYW5kIG5ldyB2bm9kZXMgdHlwZSBtdXN0IGJlIHRoZSBzYW1lJyk7XG5cbiAgY29uc3QgZWxtID0gb2xkVm5vZGUuJGVsbSQ7XG4gIGNvbnN0IHRhZyA9IG5ld1Zub2RlLiR0eXBlJDtcbiAgY29uc3Qgc3RhdGljQ3R4ID0gcmN0eC4kc3RhdGljJDtcbiAgY29uc3QgaXNWaXJ0dWFsID0gdGFnID09PSBWSVJUVUFMO1xuICBuZXdWbm9kZS4kZWxtJCA9IGVsbTtcblxuICAvLyBSZW5kZXIgdGV4dCBub2Rlc1xuICBpZiAodGFnID09PSAnI3RleHQnKSB7XG4gICAgaWYgKG9sZFZub2RlLiR0ZXh0JCAhPT0gbmV3Vm5vZGUuJHRleHQkKSB7XG4gICAgICBzZXRQcm9wZXJ0eShzdGF0aWNDdHgsIGVsbSwgJ2RhdGEnLCBuZXdWbm9kZS4kdGV4dCQpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgYXNzZXJ0UXdpa0VsZW1lbnQoZWxtKTtcblxuICAvLyBUcmFjayBTVkcgc3RhdGVcbiAgbGV0IGlzU3ZnID0gISEoZmxhZ3MgJiBJU19TVkcpO1xuICBpZiAoIWlzU3ZnICYmIHRhZyA9PT0gJ3N2ZycpIHtcbiAgICBmbGFncyB8PSBJU19TVkc7XG4gICAgaXNTdmcgPSB0cnVlO1xuICB9XG5cbiAgY29uc3QgcHJvcHMgPSBuZXdWbm9kZS4kcHJvcHMkO1xuICBjb25zdCBpc0NvbXBvbmVudCA9IGlzVmlydHVhbCAmJiBPblJlbmRlclByb3AgaW4gcHJvcHM7XG4gIGNvbnN0IGVsQ3R4ID0gZ2V0Q29udGV4dChlbG0pO1xuICBpZiAoIWlzQ29tcG9uZW50KSB7XG4gICAgY29uc3QgbGlzdGVuZXJNYXAgPSB1cGRhdGVQcm9wZXJ0aWVzKGVsQ3R4LCBzdGF0aWNDdHgsIG9sZFZub2RlLiRwcm9wcyQsIHByb3BzLCBpc1N2Zyk7XG4gICAgY29uc3QgY3VycmVudENvbXBvbmVudCA9IHJjdHguJGNtcEN0eCQ7XG4gICAgaWYgKGN1cnJlbnRDb21wb25lbnQgJiYgIWN1cnJlbnRDb21wb25lbnQuJGF0dGFjaGVkTGlzdGVuZXJzJCkge1xuICAgICAgY3VycmVudENvbXBvbmVudC4kYXR0YWNoZWRMaXN0ZW5lcnMkID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5lbnRyaWVzKGN1cnJlbnRDb21wb25lbnQubGkpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBhZGRRUkxMaXN0ZW5lcihsaXN0ZW5lck1hcCwga2V5LCB2YWx1ZSk7XG4gICAgICAgIGFkZEdsb2JhbExpc3RlbmVyKHN0YXRpY0N0eCwgZWxtLCBrZXkpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChxU2VyaWFsaXplKSB7XG4gICAgICBPYmplY3QuZW50cmllcyhsaXN0ZW5lck1hcCkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICBzZXRBdHRyaWJ1dGUoc3RhdGljQ3R4LCBlbG0sIGtleSwgc2VyaWFsaXplUVJMcyh2YWx1ZSwgZWxDdHgpKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoaXNTdmcgJiYgbmV3Vm5vZGUuJHR5cGUkID09PSAnZm9yZWlnbk9iamVjdCcpIHtcbiAgICAgIGZsYWdzICY9IH5JU19TVkc7XG4gICAgICBpc1N2ZyA9IGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBpc1Nsb3QgPSBpc1ZpcnR1YWwgJiYgUVNsb3RTIGluIHByb3BzO1xuICAgIGlmIChpc1Nsb3QpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRDb21wb25lbnQgPSByY3R4LiRjbXBDdHgkO1xuICAgICAgYXNzZXJ0RGVmaW5lZChjdXJyZW50Q29tcG9uZW50LCAnc2xvdHMgY2FuIG5vdCBiZSByZW5kZXJlZCBvdXRzaWRlIGEgY29tcG9uZW50Jyk7XG4gICAgICBhc3NlcnREZWZpbmVkKGN1cnJlbnRDb21wb25lbnQuJHNsb3RzJCwgJ2N1cnJlbnQgY29tcG9uZW50IHNsb3RzIG11c3QgYmUgYSBkZWZpbmVkIGFycmF5Jyk7XG4gICAgICBjdXJyZW50Q29tcG9uZW50LiRzbG90cyQucHVzaChuZXdWbm9kZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNldHNJbm5lckhUTUwgPSBwcm9wc1tkYW5nZXJvdXNseVNldElubmVySFRNTF0gIT09IHVuZGVmaW5lZDtcbiAgICBpZiAoc2V0c0lubmVySFRNTCkge1xuICAgICAgaWYgKHFEZXYgJiYgbmV3Vm5vZGUuJGNoaWxkcmVuJC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxvZ1dhcm4oJ05vZGUgY2FuIG5vdCBoYXZlIGNoaWxkcmVuIHdoZW4gaW5uZXJIVE1MIGlzIHNldCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpc1JlbmRlck9uY2UgPSBpc1ZpcnR1YWwgJiYgUU9uY2UgaW4gcHJvcHM7XG4gICAgaWYgKGlzUmVuZGVyT25jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gc21hcnRVcGRhdGVDaGlsZHJlbihyY3R4LCBvbGRWbm9kZSwgbmV3Vm5vZGUsICdyb290JywgZmxhZ3MpO1xuICB9XG5cbiAgbGV0IG5lZWRzUmVuZGVyID0gc2V0Q29tcG9uZW50UHJvcHMoZWxDdHgsIHJjdHgsIHByb3BzKTtcblxuICAvLyBUT0RPOiByZXZpZXcgdGhpcyBjb3JuZXIgY2FzZVxuICBpZiAoIW5lZWRzUmVuZGVyICYmICFlbEN0eC4kcmVuZGVyUXJsJCAmJiAhZWxDdHguJGVsZW1lbnQkLmhhc0F0dHJpYnV0ZShFTEVNRU5UX0lEKSkge1xuICAgIHNldFFJZChyY3R4LCBlbEN0eCk7XG4gICAgZWxDdHguJHJlbmRlclFybCQgPSBwcm9wc1tPblJlbmRlclByb3BdO1xuICAgIGFzc2VydFFybChlbEN0eC4kcmVuZGVyUXJsJCBhcyBhbnkpO1xuICAgIG5lZWRzUmVuZGVyID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFJlbmRlcmluZyBvZiBjaGlsZHJlbiBvZiBjb21wb25lbnQgaXMgbW9yZSBjb21wbGljYXRlZCxcbiAgLy8gc2luY2UgdGhlIGNoaWxkcmVuIG11c3QgYmUgcHJvamVjdGVkIGludG8gdGhlIHJlbmRlcmVkIHNsb3RzXG4gIC8vIEluIGFkZGl0aW9uLCBuZXN0ZWQgY2hpbGRlbiBtaWdodCBuZWVkIHJlcmVuZGVyaW5nLCBpZiB0aGF0J3MgdGhlIGNhc2VcbiAgLy8gd2UgbmVlZCB0byByZW5kZXIgdGhlIG5lc3RlZCBjb21wb25lbnQsIGFuZCB3YWl0IGJlZm9yZSBwcm9qZWN0aW5nIHRoZSBjb250ZW50XG4gIC8vIHNpbmNlIG90aGVyd2lzZSB3ZSBkb24ndCBrbm93IHdoZXJlIHRoZSBzbG90c1xuICBpZiAobmVlZHNSZW5kZXIpIHtcbiAgICByZXR1cm4gdGhlbihyZW5kZXJDb21wb25lbnQocmN0eCwgZWxDdHgsIGZsYWdzKSwgKCkgPT5cbiAgICAgIHJlbmRlckNvbnRlbnRQcm9qZWN0aW9uKHJjdHgsIGVsQ3R4LCBuZXdWbm9kZSwgZmxhZ3MpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVuZGVyQ29udGVudFByb2plY3Rpb24ocmN0eCwgZWxDdHgsIG5ld1Zub2RlLCBmbGFncyk7XG59O1xuXG5jb25zdCByZW5kZXJDb250ZW50UHJvamVjdGlvbiA9IChcbiAgcmN0eDogUmVuZGVyQ29udGV4dCxcbiAgaG9zdEN0eDogUUNvbnRleHQsXG4gIHZub2RlOiBQcm9jZXNzZWRKU1hOb2RlLFxuICBmbGFnczogbnVtYmVyXG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IG5ld0NoaWxkcmVuID0gdm5vZGUuJGNoaWxkcmVuJDtcbiAgY29uc3Qgc3RhdGljQ3R4ID0gcmN0eC4kc3RhdGljJDtcbiAgY29uc3Qgc3BsaXR0ZWROZXdDaGlkcmVuID0gc3BsaXRDaGlsZHJlbihuZXdDaGlsZHJlbik7XG4gIGNvbnN0IHNsb3RSY3R4ID0gcHVzaFJlbmRlckNvbnRleHQocmN0eCwgaG9zdEN0eCk7XG4gIGNvbnN0IHNsb3RNYXBzID0gZ2V0U2xvdE1hcChob3N0Q3R4KTtcblxuICAvLyBSZW1vdmUgY29udGVudCBmcm9tIGVtcHR5IHNsb3RzXG4gIE9iamVjdC5lbnRyaWVzKHNsb3RNYXBzLnNsb3RzKS5mb3JFYWNoKChba2V5LCBzbG90RWxdKSA9PiB7XG4gICAgaWYgKCFzcGxpdHRlZE5ld0NoaWRyZW5ba2V5XSkge1xuICAgICAgY29uc3Qgb2xkQ2ggPSBnZXRDaGlsZHJlblZub2RlcyhzbG90RWwsICdyb290Jyk7XG4gICAgICBpZiAob2xkQ2gubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBzbG90Q3R4ID0gdHJ5R2V0Q29udGV4dChzbG90RWwpO1xuICAgICAgICBpZiAoc2xvdEN0eCAmJiBzbG90Q3R4LiR2ZG9tJCkge1xuICAgICAgICAgIHNsb3RDdHguJHZkb20kLiRjaGlsZHJlbiQgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVWbm9kZXMoc3RhdGljQ3R4LCBvbGRDaCwgMCwgb2xkQ2gubGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBSZW1vdmUgZW1wdHkgdGVtcGxhdGVzXG4gIE9iamVjdC5lbnRyaWVzKHNsb3RNYXBzLnRlbXBsYXRlcykuZm9yRWFjaCgoW2tleSwgdGVtcGxhdGVFbF0pID0+IHtcbiAgICBpZiAodGVtcGxhdGVFbCkge1xuICAgICAgaWYgKCFzcGxpdHRlZE5ld0NoaWRyZW5ba2V5XSB8fCBzbG90TWFwcy5zbG90c1trZXldKSB7XG4gICAgICAgIHJlbW92ZU5vZGUoc3RhdGljQ3R4LCB0ZW1wbGF0ZUVsKTtcbiAgICAgICAgc2xvdE1hcHMudGVtcGxhdGVzW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBSZW5kZXIgaW50byBzbG90c1xuICByZXR1cm4gcHJvbWlzZUFsbChcbiAgICBPYmplY3QuZW50cmllcyhzcGxpdHRlZE5ld0NoaWRyZW4pLm1hcCgoW2tleSwgbmV3VmRvbV0pID0+IHtcbiAgICAgIGNvbnN0IHNsb3RFbG0gPSBnZXRTbG90RWxlbWVudChzdGF0aWNDdHgsIHNsb3RNYXBzLCBob3N0Q3R4LiRlbGVtZW50JCwga2V5KTtcbiAgICAgIGNvbnN0IHNsb3RDdHggPSBnZXRDb250ZXh0KHNsb3RFbG0pO1xuICAgICAgY29uc3Qgb2xkVmRvbSA9IGdldFZkb20oc2xvdEN0eCk7XG4gICAgICBzbG90Q3R4LiR2ZG9tJCA9IG5ld1Zkb207XG4gICAgICBuZXdWZG9tLiRlbG0kID0gc2xvdEVsbTtcbiAgICAgIHJldHVybiBzbWFydFVwZGF0ZUNoaWxkcmVuKHNsb3RSY3R4LCBvbGRWZG9tLCBuZXdWZG9tLCAncm9vdCcsIGZsYWdzKTtcbiAgICB9KVxuICApIGFzIGFueTtcbn07XG5cbmNvbnN0IGFkZFZub2RlcyA9IChcbiAgY3R4OiBSZW5kZXJDb250ZXh0LFxuICBwYXJlbnRFbG06IFF3aWtFbGVtZW50LFxuICBiZWZvcmU6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGwsXG4gIHZub2RlczogUHJvY2Vzc2VkSlNYTm9kZVtdLFxuICBzdGFydElkeDogbnVtYmVyLFxuICBlbmRJZHg6IG51bWJlcixcbiAgZmxhZ3M6IG51bWJlclxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICBjb25zdCBwcm9taXNlcyA9IFtdO1xuICBsZXQgaGFzUHJvbWlzZSA9IGZhbHNlO1xuICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgY29uc3QgY2ggPSB2bm9kZXNbc3RhcnRJZHhdO1xuICAgIGFzc2VydERlZmluZWQoY2gsICdyZW5kZXI6IG5vZGUgbXVzdCBiZSBkZWZpbmVkIGF0IGluZGV4Jywgc3RhcnRJZHgsIHZub2Rlcyk7XG4gICAgY29uc3QgZWxtID0gY3JlYXRlRWxtKGN0eCwgY2gsIGZsYWdzKTtcbiAgICBwcm9taXNlcy5wdXNoKGVsbSk7XG4gICAgaWYgKGlzUHJvbWlzZShlbG0pKSB7XG4gICAgICBoYXNQcm9taXNlID0gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgaWYgKGhhc1Byb21pc2UpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKGNoaWxkcmVuKSA9PlxuICAgICAgaW5zZXJ0Q2hpbGRyZW4oY3R4LiRzdGF0aWMkLCBwYXJlbnRFbG0sIGNoaWxkcmVuLCBiZWZvcmUpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBpbnNlcnRDaGlsZHJlbihjdHguJHN0YXRpYyQsIHBhcmVudEVsbSwgcHJvbWlzZXMgYXMgTm9kZVtdLCBiZWZvcmUpO1xuICB9XG59O1xuXG5jb25zdCBpbnNlcnRDaGlsZHJlbiA9IChcbiAgY3R4OiBSZW5kZXJTdGF0aWNDb250ZXh0LFxuICBwYXJlbnRFbG06IFF3aWtFbGVtZW50LFxuICBjaGlsZHJlbjogKE5vZGUgfCBWaXJ0dWFsRWxlbWVudClbXSxcbiAgYmVmb3JlOiBOb2RlIHwgVmlydHVhbEVsZW1lbnQgfCBudWxsXG4pID0+IHtcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgIGluc2VydEJlZm9yZShjdHgsIHBhcmVudEVsbSwgY2hpbGQsIGJlZm9yZSk7XG4gIH1cbn07XG5cbmNvbnN0IHJlbW92ZVZub2RlcyA9IChcbiAgY3R4OiBSZW5kZXJTdGF0aWNDb250ZXh0LFxuICBub2RlczogUHJvY2Vzc2VkSlNYTm9kZVtdLFxuICBzdGFydElkeDogbnVtYmVyLFxuICBlbmRJZHg6IG51bWJlclxuKTogdm9pZCA9PiB7XG4gIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICBjb25zdCBjaCA9IG5vZGVzW3N0YXJ0SWR4XTtcbiAgICBpZiAoY2gpIHtcbiAgICAgIGFzc2VydERlZmluZWQoY2guJGVsbSQsICd2bm9kZSBlbG0gbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgICByZW1vdmVOb2RlKGN0eCwgY2guJGVsbSQpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgZ2V0U2xvdEVsZW1lbnQgPSAoXG4gIGN0eDogUmVuZGVyU3RhdGljQ29udGV4dCxcbiAgc2xvdE1hcHM6IFNsb3RNYXBzLFxuICBwYXJlbnRFbDogUXdpa0VsZW1lbnQsXG4gIHNsb3ROYW1lOiBzdHJpbmdcbik6IFF3aWtFbGVtZW50ID0+IHtcbiAgY29uc3Qgc2xvdEVsID0gc2xvdE1hcHMuc2xvdHNbc2xvdE5hbWVdO1xuICBpZiAoc2xvdEVsKSB7XG4gICAgcmV0dXJuIHNsb3RFbDtcbiAgfVxuICBjb25zdCB0ZW1wbGF0ZUVsID0gc2xvdE1hcHMudGVtcGxhdGVzW3Nsb3ROYW1lXTtcbiAgaWYgKHRlbXBsYXRlRWwpIHtcbiAgICByZXR1cm4gdGVtcGxhdGVFbDtcbiAgfVxuICBjb25zdCB0ZW1wbGF0ZSA9IGNyZWF0ZVRlbXBsYXRlKGN0eC4kZG9jJCwgc2xvdE5hbWUpO1xuICBwcmVwZW5kKGN0eCwgcGFyZW50RWwsIHRlbXBsYXRlKTtcbiAgc2xvdE1hcHMudGVtcGxhdGVzW3Nsb3ROYW1lXSA9IHRlbXBsYXRlO1xuICByZXR1cm4gdGVtcGxhdGU7XG59O1xuXG5jb25zdCBnZXRTbG90TmFtZSA9IChub2RlOiBQcm9jZXNzZWRKU1hOb2RlKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIG5vZGUuJHByb3BzJFtRU2xvdF0gPz8gJyc7XG59O1xuXG5jb25zdCBjcmVhdGVFbG0gPSAoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIHZub2RlOiBQcm9jZXNzZWRKU1hOb2RlLFxuICBmbGFnczogbnVtYmVyXG4pOiBWYWx1ZU9yUHJvbWlzZTxOb2RlIHwgVmlydHVhbEVsZW1lbnQ+ID0+IHtcbiAgY29uc3QgdGFnID0gdm5vZGUuJHR5cGUkO1xuICBjb25zdCBkb2MgPSByY3R4LiRzdGF0aWMkLiRkb2MkO1xuICBpZiAodGFnID09PSAnI3RleHQnKSB7XG4gICAgcmV0dXJuICh2bm9kZS4kZWxtJCA9IGNyZWF0ZVRleHROb2RlKGRvYywgdm5vZGUuJHRleHQkISkpO1xuICB9XG5cbiAgbGV0IGVsbTogUXdpa0VsZW1lbnQ7XG4gIGxldCBpc0hlYWQgPSAhIShmbGFncyAmIElTX0hFQUQpO1xuICBsZXQgaXNTdmcgPSAhIShmbGFncyAmIElTX1NWRyk7XG4gIGlmICghaXNTdmcgJiYgdGFnID09PSAnc3ZnJykge1xuICAgIGZsYWdzIHw9IElTX1NWRztcbiAgICBpc1N2ZyA9IHRydWU7XG4gIH1cbiAgY29uc3QgaXNWaXJ0dWFsID0gdGFnID09PSBWSVJUVUFMO1xuICBjb25zdCBwcm9wcyA9IHZub2RlLiRwcm9wcyQ7XG4gIGNvbnN0IGlzQ29tcG9uZW50ID0gT25SZW5kZXJQcm9wIGluIHByb3BzO1xuICBjb25zdCBzdGF0aWNDdHggPSByY3R4LiRzdGF0aWMkO1xuICBpZiAoaXNWaXJ0dWFsKSB7XG4gICAgZWxtID0gbmV3VmlydHVhbEVsZW1lbnQoZG9jKTtcbiAgfSBlbHNlIGlmICh0YWcgPT09ICdoZWFkJykge1xuICAgIGVsbSA9IGRvYy5oZWFkO1xuICAgIGZsYWdzIHw9IElTX0hFQUQ7XG4gICAgaXNIZWFkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBlbG0gPSBjcmVhdGVFbGVtZW50KGRvYywgdGFnLCBpc1N2Zyk7XG4gICAgZmxhZ3MgJj0gfklTX0hFQUQ7XG4gIH1cblxuICB2bm9kZS4kZWxtJCA9IGVsbTtcbiAgaWYgKGlzU3ZnICYmIHRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XG4gICAgaXNTdmcgPSBmYWxzZTtcbiAgICBmbGFncyAmPSB+SVNfU1ZHO1xuICB9XG4gIGNvbnN0IGVsQ3R4ID0gZ2V0Q29udGV4dChlbG0pO1xuICBpZiAoaXNDb21wb25lbnQpIHtcbiAgICBzZXRLZXkoZWxtLCB2bm9kZS4ka2V5JCk7XG4gICAgYXNzZXJ0VHJ1ZShpc1ZpcnR1YWwsICdjb21wb25lbnQgbXVzdCBiZSBhIHZpcnR1YWwgZWxlbWVudCcpO1xuICAgIGNvbnN0IHJlbmRlclFSTCA9IHByb3BzW09uUmVuZGVyUHJvcF07XG4gICAgYXNzZXJ0UXJsPE9uUmVuZGVyRm48YW55Pj4ocmVuZGVyUVJMKTtcbiAgICBzZXRDb21wb25lbnRQcm9wcyhlbEN0eCwgcmN0eCwgcHJvcHMpO1xuICAgIHNldFFJZChyY3R4LCBlbEN0eCk7XG5cbiAgICAvLyBSdW4gbW91bnQgaG9va1xuICAgIGVsQ3R4LiRyZW5kZXJRcmwkID0gcmVuZGVyUVJMO1xuXG4gICAgcmV0dXJuIHRoZW4ocmVuZGVyQ29tcG9uZW50KHJjdHgsIGVsQ3R4LCBmbGFncyksICgpID0+IHtcbiAgICAgIGxldCBjaGlsZHJlbiA9IHZub2RlLiRjaGlsZHJlbiQ7XG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbG07XG4gICAgICB9XG4gICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIGNoaWxkcmVuWzBdLiR0eXBlJCA9PT0gU0tJUF9SRU5ERVJfVFlQRSkge1xuICAgICAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdLiRjaGlsZHJlbiQ7XG4gICAgICB9XG4gICAgICBjb25zdCBzbG90UmN0eCA9IHB1c2hSZW5kZXJDb250ZXh0KHJjdHgsIGVsQ3R4KTtcbiAgICAgIGNvbnN0IHNsb3RNYXAgPSBnZXRTbG90TWFwKGVsQ3R4KTtcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gY2hpbGRyZW4ubWFwKChjaCkgPT4gY3JlYXRlRWxtKHNsb3RSY3R4LCBjaCwgZmxhZ3MpKTtcbiAgICAgIHJldHVybiB0aGVuKHByb21pc2VBbGwoZWxlbWVudHMpLCAoKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3Qgbm9kZSBvZiBjaGlsZHJlbikge1xuICAgICAgICAgIGFzc2VydERlZmluZWQobm9kZS4kZWxtJCwgJ3Zub2RlIGVsbSBtdXN0IGJlIGRlZmluZWQnKTtcbiAgICAgICAgICBhcHBlbmRDaGlsZChcbiAgICAgICAgICAgIHN0YXRpY0N0eCxcbiAgICAgICAgICAgIGdldFNsb3RFbGVtZW50KHN0YXRpY0N0eCwgc2xvdE1hcCwgZWxtLCBnZXRTbG90TmFtZShub2RlKSksXG4gICAgICAgICAgICBub2RlLiRlbG0kXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxtO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBjb25zdCBjdXJyZW50Q29tcG9uZW50ID0gcmN0eC4kY21wQ3R4JDtcbiAgY29uc3QgaXNTbG90ID0gaXNWaXJ0dWFsICYmIFFTbG90UyBpbiBwcm9wcztcbiAgY29uc3QgaGFzUmVmID0gIWlzVmlydHVhbCAmJiAncmVmJyBpbiBwcm9wcztcbiAgY29uc3QgbGlzdGVuZXJNYXAgPSBzZXRQcm9wZXJ0aWVzKHN0YXRpY0N0eCwgZWxDdHgsIHByb3BzLCBpc1N2Zyk7XG5cbiAgaWYgKGN1cnJlbnRDb21wb25lbnQgJiYgIWlzVmlydHVhbCkge1xuICAgIGNvbnN0IHNjb3BlZElkcyA9IGN1cnJlbnRDb21wb25lbnQuJHNjb3BlSWRzJDtcbiAgICBpZiAoc2NvcGVkSWRzKSB7XG4gICAgICBzY29wZWRJZHMuZm9yRWFjaCgoc3R5bGVJZCkgPT4ge1xuICAgICAgICAoZWxtIGFzIEVsZW1lbnQpLmNsYXNzTGlzdC5hZGQoc3R5bGVJZCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFjdXJyZW50Q29tcG9uZW50LiRhdHRhY2hlZExpc3RlbmVycyQpIHtcbiAgICAgIGN1cnJlbnRDb21wb25lbnQuJGF0dGFjaGVkTGlzdGVuZXJzJCA9IHRydWU7XG4gICAgICBPYmplY3QuZW50cmllcyhjdXJyZW50Q29tcG9uZW50LmxpKS5mb3JFYWNoKChbZXZlbnROYW1lLCBxcmxzXSkgPT4ge1xuICAgICAgICBhZGRRUkxMaXN0ZW5lcihsaXN0ZW5lck1hcCwgZXZlbnROYW1lLCBxcmxzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc1Nsb3QpIHtcbiAgICBhc3NlcnREZWZpbmVkKGN1cnJlbnRDb21wb25lbnQsICdzbG90IGNhbiBvbmx5IGJlIHVzZWQgaW5zaWRlIGNvbXBvbmVudCcpO1xuICAgIGFzc2VydERlZmluZWQoY3VycmVudENvbXBvbmVudC4kc2xvdHMkLCAnY3VycmVudCBjb21wb25lbnQgc2xvdHMgbXVzdCBiZSBhIGRlZmluZWQgYXJyYXknKTtcbiAgICBzZXRLZXkoZWxtLCB2bm9kZS4ka2V5JCk7XG5cbiAgICBkaXJlY3RTZXRBdHRyaWJ1dGUoZWxtLCBRU2xvdFJlZiwgY3VycmVudENvbXBvbmVudC4kaWQkKTtcbiAgICBjdXJyZW50Q29tcG9uZW50LiRzbG90cyQucHVzaCh2bm9kZSk7XG4gICAgc3RhdGljQ3R4LiRhZGRTbG90cyQucHVzaChbZWxtLCBjdXJyZW50Q29tcG9uZW50LiRlbGVtZW50JF0pO1xuICB9IGVsc2UgaWYgKHFTZXJpYWxpemUpIHtcbiAgICBzZXRLZXkoZWxtLCB2bm9kZS4ka2V5JCk7XG4gIH1cblxuICBpZiAocVNlcmlhbGl6ZSkge1xuICAgIGNvbnN0IGxpc3RlbmVycyA9IE9iamVjdC5lbnRyaWVzKGxpc3RlbmVyTWFwKTtcbiAgICBpZiAoaXNIZWFkICYmICFpc1ZpcnR1YWwpIHtcbiAgICAgIGRpcmVjdFNldEF0dHJpYnV0ZShlbG0gYXMgRWxlbWVudCwgJ3E6aGVhZCcsICcnKTtcbiAgICB9XG4gICAgaWYgKGxpc3RlbmVycy5sZW5ndGggPiAwIHx8IGhhc1JlZikge1xuICAgICAgc2V0UUlkKHJjdHgsIGVsQ3R4KTtcbiAgICB9XG4gICAgbGlzdGVuZXJzLmZvckVhY2goKFtrZXksIHFybHNdKSA9PiB7XG4gICAgICBzZXRBdHRyaWJ1dGUoc3RhdGljQ3R4LCBlbG0sIGtleSwgc2VyaWFsaXplUVJMcyhxcmxzLCBlbEN0eCkpO1xuICAgIH0pO1xuICB9XG5cbiAgY29uc3Qgc2V0c0lubmVySFRNTCA9IHByb3BzW2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MXSAhPT0gdW5kZWZpbmVkO1xuICBpZiAoc2V0c0lubmVySFRNTCkge1xuICAgIGlmIChxRGV2ICYmIHZub2RlLiRjaGlsZHJlbiQubGVuZ3RoID4gMCkge1xuICAgICAgbG9nV2FybignTm9kZSBjYW4gbm90IGhhdmUgY2hpbGRyZW4gd2hlbiBpbm5lckhUTUwgaXMgc2V0Jyk7XG4gICAgfVxuICAgIHJldHVybiBlbG07XG4gIH1cbiAgbGV0IGNoaWxkcmVuID0gdm5vZGUuJGNoaWxkcmVuJDtcbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBlbG07XG4gIH1cbiAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiBjaGlsZHJlblswXS4kdHlwZSQgPT09IFNLSVBfUkVOREVSX1RZUEUpIHtcbiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuWzBdLiRjaGlsZHJlbiQ7XG4gIH1cbiAgY29uc3QgcHJvbWlzZXMgPSBjaGlsZHJlbi5tYXAoKGNoKSA9PiBjcmVhdGVFbG0ocmN0eCwgY2gsIGZsYWdzKSk7XG4gIHJldHVybiB0aGVuKHByb21pc2VBbGwocHJvbWlzZXMpLCAoKSA9PiB7XG4gICAgZm9yIChjb25zdCBub2RlIG9mIGNoaWxkcmVuKSB7XG4gICAgICBhc3NlcnREZWZpbmVkKG5vZGUuJGVsbSQsICd2bm9kZSBlbG0gbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgICBhcHBlbmRDaGlsZChyY3R4LiRzdGF0aWMkLCBlbG0sIG5vZGUuJGVsbSQpO1xuICAgIH1cbiAgICByZXR1cm4gZWxtO1xuICB9KTtcbn07XG5cbmludGVyZmFjZSBTbG90TWFwcyB7XG4gIHNsb3RzOiBSZWNvcmQ8c3RyaW5nLCBRd2lrRWxlbWVudD47XG4gIHRlbXBsYXRlczogUmVjb3JkPHN0cmluZywgRWxlbWVudCB8IHVuZGVmaW5lZD47XG59XG5cbmNvbnN0IGdldFNsb3RzID0gKGN0eDogUUNvbnRleHQpOiBQcm9jZXNzZWRKU1hOb2RlW10gPT4ge1xuICBjb25zdCBzbG90cyA9IGN0eC4kc2xvdHMkO1xuICBpZiAoIXNsb3RzKSB7XG4gICAgY29uc3QgcGFyZW50ID0gY3R4LiRlbGVtZW50JC5wYXJlbnRFbGVtZW50O1xuICAgIGFzc2VydERlZmluZWQocGFyZW50LCAnY29tcG9uZW50IHNob3VsZCBiZSBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoZSBkb20nKTtcbiAgICByZXR1cm4gKGN0eC4kc2xvdHMkID0gcmVhZERPTVNsb3RzKGN0eCkpO1xuICB9XG4gIHJldHVybiBzbG90cztcbn07XG5cbmNvbnN0IGdldFNsb3RNYXAgPSAoY3R4OiBRQ29udGV4dCkgPT4ge1xuICBjb25zdCBzbG90c0FycmF5ID0gZ2V0U2xvdHMoY3R4KTtcbiAgY29uc3Qgc2xvdHM6IFJlY29yZDxzdHJpbmcsIFF3aWtFbGVtZW50PiA9IHt9O1xuICBjb25zdCB0ZW1wbGF0ZXM6IFJlY29yZDxzdHJpbmcsIEVsZW1lbnQgfCB1bmRlZmluZWQ+ID0ge307XG4gIGNvbnN0IHQgPSBBcnJheS5mcm9tKGN0eC4kZWxlbWVudCQuY2hpbGROb2RlcykuZmlsdGVyKGlzU2xvdFRlbXBsYXRlKTtcblxuICAvLyBNYXAgdmlydHVhbCBzbG90c1xuICBmb3IgKGNvbnN0IHZub2RlIG9mIHNsb3RzQXJyYXkpIHtcbiAgICBhc3NlcnRRd2lrRWxlbWVudCh2bm9kZS4kZWxtJCk7XG4gICAgc2xvdHNbdm5vZGUuJGtleSQgPz8gJyddID0gdm5vZGUuJGVsbSQ7XG4gIH1cbiAgLy8gTWFwIHRlbXBsYXRlc1xuICBmb3IgKGNvbnN0IGVsbSBvZiB0KSB7XG4gICAgdGVtcGxhdGVzW2RpcmVjdEdldEF0dHJpYnV0ZShlbG0sIFFTbG90KSA/PyAnJ10gPSBlbG07XG4gIH1cbiAgcmV0dXJuIHsgc2xvdHMsIHRlbXBsYXRlcyB9O1xufTtcblxuY29uc3QgcmVhZERPTVNsb3RzID0gKGN0eDogUUNvbnRleHQpOiBQcm9jZXNzZWRKU1hOb2RlW10gPT4ge1xuICBjb25zdCBwYXJlbnQgPSBjdHguJGVsZW1lbnQkLnBhcmVudEVsZW1lbnQ7XG4gIGFzc2VydERlZmluZWQocGFyZW50LCAnY29tcG9uZW50IHNob3VsZCBiZSBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoZSBkb20nKTtcbiAgcmV0dXJuIHF1ZXJ5QWxsVmlydHVhbEJ5QXR0cmlidXRlKHBhcmVudCwgUVNsb3RSZWYsIGN0eC4kaWQkKS5tYXAoZG9tVG9Wbm9kZSk7XG59O1xuXG5jb25zdCBoYW5kbGVTdHlsZTogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlKSA9PiB7XG4gIHNldFByb3BlcnR5KGN0eCwgZWxtLnN0eWxlLCAnY3NzVGV4dCcsIHN0cmluZ2lmeVN0eWxlKG5ld1ZhbHVlKSk7XG4gIHJldHVybiB0cnVlO1xufTtcblxuY29uc3QgaGFuZGxlQ2xhc3M6IFByb3BIYW5kbGVyID0gKGN0eCwgZWxtLCBfLCBuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgY29uc3Qgb2xkQ2xhc3NlcyA9IHBhcnNlQ2xhc3NBbnkob2xkVmFsdWUpO1xuICBjb25zdCBuZXdDbGFzc2VzID0gcGFyc2VDbGFzc0FueShuZXdWYWx1ZSk7XG4gIHNldENsYXNzbGlzdChcbiAgICBjdHgsXG4gICAgZWxtLFxuICAgIG9sZENsYXNzZXMuZmlsdGVyKChjKSA9PiBjICYmICFuZXdDbGFzc2VzLmluY2x1ZGVzKGMpKSxcbiAgICBuZXdDbGFzc2VzLmZpbHRlcigoYykgPT4gYyAmJiAhb2xkQ2xhc3Nlcy5pbmNsdWRlcyhjKSlcbiAgKTtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBjaGVja0JlZm9yZUFzc2lnbjogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIHByb3AsIG5ld1ZhbHVlKSA9PiB7XG4gIGlmIChwcm9wIGluIGVsbSkge1xuICAgIGlmICgoZWxtIGFzIGFueSlbcHJvcF0gIT09IG5ld1ZhbHVlKSB7XG4gICAgICBzZXRQcm9wZXJ0eShjdHgsIGVsbSwgcHJvcCwgbmV3VmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MID0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJztcbmNvbnN0IHNldElubmVySFRNTDogUHJvcEhhbmRsZXIgPSAoY3R4LCBlbG0sIF8sIG5ld1ZhbHVlKSA9PiB7XG4gIGlmIChkYW5nZXJvdXNseVNldElubmVySFRNTCBpbiBlbG0pIHtcbiAgICBzZXRQcm9wZXJ0eShjdHgsIGVsbSwgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIG5ld1ZhbHVlKTtcbiAgfSBlbHNlIGlmICgnaW5uZXJIVE1MJyBpbiBlbG0pIHtcbiAgICBzZXRQcm9wZXJ0eShjdHgsIGVsbSwgJ2lubmVySFRNTCcsIG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IG5vb3A6IFByb3BIYW5kbGVyID0gKCkgPT4ge1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBQUk9QX0hBTkRMRVJfTUFQOiBSZWNvcmQ8c3RyaW5nLCBQcm9wSGFuZGxlciB8IHVuZGVmaW5lZD4gPSB7XG4gIHN0eWxlOiBoYW5kbGVTdHlsZSxcbiAgY2xhc3M6IGhhbmRsZUNsYXNzLFxuICBjbGFzc05hbWU6IGhhbmRsZUNsYXNzLFxuICB2YWx1ZTogY2hlY2tCZWZvcmVBc3NpZ24sXG4gIGNoZWNrZWQ6IGNoZWNrQmVmb3JlQXNzaWduLFxuICBbZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxdOiBzZXRJbm5lckhUTUwsXG4gIGlubmVySFRNTDogbm9vcCxcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9wZXJ0aWVzID0gKFxuICBlbEN0eDogUUNvbnRleHQsXG4gIHN0YXRpY0N0eDogUmVuZGVyU3RhdGljQ29udGV4dCxcbiAgb2xkUHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gIG5ld1Byb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LFxuICBpc1N2ZzogYm9vbGVhblxuKTogUmVjb3JkPHN0cmluZywgUVJMSW50ZXJuYWw8YW55PltdPiA9PiB7XG4gIGNvbnN0IGtleXMgPSBnZXRLZXlzKG9sZFByb3BzLCBuZXdQcm9wcyk7XG4gIGNvbnN0IGxpc3RlbmVyc01hcCA9IChlbEN0eC5saSA9IHt9KTtcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyc01hcDtcbiAgfVxuICBjb25zdCBlbG0gPSBlbEN0eC4kZWxlbWVudCQ7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBpZiAoa2V5ID09PSAnY2hpbGRyZW4nKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgbmV3VmFsdWUgPSBuZXdQcm9wc1trZXldO1xuICAgIGNvbnN0IG9sZFZhbHVlID0gb2xkUHJvcHNba2V5XTtcbiAgICBpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAncmVmJykge1xuICAgICAgKG5ld1ZhbHVlIGFzIFJlZjxFbGVtZW50PikuY3VycmVudCA9IGVsbSBhcyBFbGVtZW50O1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGlzT25Qcm9wKGtleSkpIHtcbiAgICAgIHNldEV2ZW50KGxpc3RlbmVyc01hcCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBpdHMgYW4gZXhjZXB0aW9uXG4gICAgY29uc3QgZXhjZXB0aW9uID0gUFJPUF9IQU5ETEVSX01BUFtrZXldO1xuICAgIGlmIChleGNlcHRpb24pIHtcbiAgICAgIGlmIChleGNlcHRpb24oc3RhdGljQ3R4LCBlbG0gYXMgSFRNTEVsZW1lbnQsIGtleSwgbmV3VmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBwcm9wZXJ0eSBpbiBwcm90b3R5cGVcbiAgICBpZiAoIWlzU3ZnICYmIGtleSBpbiBlbG0pIHtcbiAgICAgIHNldFByb3BlcnR5KHN0YXRpY0N0eCwgZWxtLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIHJlbmRlciBhdHRyaWJ1dGVcbiAgICBzZXRBdHRyaWJ1dGUoc3RhdGljQ3R4LCBlbG0sIGtleSwgbmV3VmFsdWUpO1xuICB9XG4gIHJldHVybiBsaXN0ZW5lcnNNYXA7XG59O1xuXG5jb25zdCBnZXRLZXlzID0gKG9sZFByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBuZXdQcm9wczogUmVjb3JkPHN0cmluZywgYW55PikgPT4ge1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobmV3UHJvcHMpO1xuICBrZXlzLnB1c2goLi4uT2JqZWN0LmtleXMob2xkUHJvcHMpLmZpbHRlcigocCkgPT4gIWtleXMuaW5jbHVkZXMocCkpKTtcbiAgcmV0dXJuIGtleXM7XG59O1xuXG5jb25zdCBhZGRHbG9iYWxMaXN0ZW5lciA9IChzdGF0aWNDdHg6IFJlbmRlclN0YXRpY0NvbnRleHQsIGVsbTogUXdpa0VsZW1lbnQsIHByb3A6IHN0cmluZykgPT4ge1xuICBpZiAoIXFTZXJpYWxpemUgJiYgcHJvcC5pbmNsdWRlcygnOicpKSB7XG4gICAgc2V0QXR0cmlidXRlKHN0YXRpY0N0eCwgZWxtLCBwcm9wLCAnJyk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBhcmVFeGFjdFFSTHMgPSAob2xkVmFsdWU6IGFueSwgbmV3VmFsdWU6IGFueSkgPT4ge1xuICBpZiAoIWlzUXJsKG9sZFZhbHVlKSB8fCAhaXNRcmwobmV3VmFsdWUpIHx8IG9sZFZhbHVlLiRoYXNoJCAhPT0gbmV3VmFsdWUuJGhhc2gkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGNBID0gb2xkVmFsdWUuJGNhcHR1cmVSZWYkO1xuICBjb25zdCBjQiA9IG5ld1ZhbHVlLiRjYXB0dXJlUmVmJDtcbiAgaWYgKGNBICYmIGNCKSB7XG4gICAgcmV0dXJuIHNhbWVBcnJheXMoY0EsIGNCKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3Qgc2FtZUFycmF5cyA9IChhMTogYW55W10sIGEyOiBhbnlbXSkgPT4ge1xuICBjb25zdCBsZW4gPSBhMS5sZW5ndGg7XG4gIGlmIChsZW4gIT09IGEyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoYTFbaV0gIT09IGEyW2ldKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFByb3BlcnRpZXMgPSAoXG4gIHJjdHg6IFJlbmRlclN0YXRpY0NvbnRleHQsXG4gIGVsQ3R4OiBRQ29udGV4dCxcbiAgbmV3UHJvcHM6IFJlY29yZDxzdHJpbmcsIGFueT4sXG4gIGlzU3ZnOiBib29sZWFuXG4pID0+IHtcbiAgY29uc3QgZWxtID0gZWxDdHguJGVsZW1lbnQkO1xuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMobmV3UHJvcHMpO1xuICBjb25zdCBsaXN0ZW5lck1hcCA9IGVsQ3R4LmxpO1xuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbGlzdGVuZXJNYXA7XG4gIH1cbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIGlmIChrZXkgPT09ICdjaGlsZHJlbicpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBuZXdWYWx1ZSA9IG5ld1Byb3BzW2tleV07XG4gICAgaWYgKGtleSA9PT0gJ3JlZicpIHtcbiAgICAgIChuZXdWYWx1ZSBhcyBSZWY8RWxlbWVudD4pLmN1cnJlbnQgPSBlbG0gYXMgRWxlbWVudDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChpc09uUHJvcChrZXkpKSB7XG4gICAgICBhZGRHbG9iYWxMaXN0ZW5lcihyY3R4LCBlbG0sIHNldEV2ZW50KGxpc3RlbmVyTWFwLCBrZXksIG5ld1ZhbHVlKSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBpdHMgYW4gZXhjZXB0aW9uXG4gICAgY29uc3QgZXhjZXB0aW9uID0gUFJPUF9IQU5ETEVSX01BUFtrZXldO1xuICAgIGlmIChleGNlcHRpb24pIHtcbiAgICAgIGlmIChleGNlcHRpb24ocmN0eCwgZWxtIGFzIEhUTUxFbGVtZW50LCBrZXksIG5ld1ZhbHVlLCB1bmRlZmluZWQpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHByb3BlcnR5IGluIHByb3RvdHlwZVxuICAgIGlmICghaXNTdmcgJiYga2V5IGluIGVsbSkge1xuICAgICAgc2V0UHJvcGVydHkocmN0eCwgZWxtLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIEZhbGxiYWNrIHRvIHJlbmRlciBhdHRyaWJ1dGVcbiAgICBzZXRBdHRyaWJ1dGUocmN0eCwgZWxtLCBrZXksIG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gbGlzdGVuZXJNYXA7XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0Q29tcG9uZW50UHJvcHMgPSAoXG4gIGN0eDogUUNvbnRleHQsXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGV4cGVjdFByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+XG4pID0+IHtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGV4cGVjdFByb3BzKTtcbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IHF3aWtQcm9wcyA9IGdldFByb3BzTXV0YXRvcihjdHgsIHJjdHguJHN0YXRpYyQuJGNvbnRhaW5lclN0YXRlJCk7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBpZiAoU0tJUFNfUFJPUFMuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHF3aWtQcm9wcy5zZXQoa2V5LCBleHBlY3RQcm9wc1trZXldKTtcbiAgfVxuICByZXR1cm4gY3R4LiRkaXJ0eSQ7XG59O1xuXG5leHBvcnQgY29uc3QgY2xlYW51cFRyZWUgPSAoXG4gIHBhcmVudDogUXdpa0VsZW1lbnQsXG4gIHJjdHg6IFJlbmRlclN0YXRpY0NvbnRleHQsXG4gIHN1YnNNYW5hZ2VyOiBTdWJzY3JpcHRpb25NYW5hZ2VyLFxuICBzdG9wU2xvdHM6IGJvb2xlYW5cbikgPT4ge1xuICBpZiAoc3RvcFNsb3RzICYmIHBhcmVudC5oYXNBdHRyaWJ1dGUoUVNsb3RTKSkge1xuICAgIHJjdHguJHJtU2xvdHMkLnB1c2gocGFyZW50KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY2xlYW51cEVsZW1lbnQocGFyZW50LCBzdWJzTWFuYWdlcik7XG4gIGNvbnN0IGNoID0gZ2V0Q2hpbGRyZW4ocGFyZW50LCAnZWxlbWVudHMnKTtcbiAgZm9yIChjb25zdCBjaGlsZCBvZiBjaCkge1xuICAgIGNsZWFudXBUcmVlKGNoaWxkIGFzIFF3aWtFbGVtZW50LCByY3R4LCBzdWJzTWFuYWdlciwgc3RvcFNsb3RzKTtcbiAgfVxufTtcblxuY29uc3QgY2xlYW51cEVsZW1lbnQgPSAoZWw6IFF3aWtFbGVtZW50LCBzdWJzTWFuYWdlcjogU3Vic2NyaXB0aW9uTWFuYWdlcikgPT4ge1xuICBjb25zdCBjdHggPSB0cnlHZXRDb250ZXh0KGVsKTtcbiAgaWYgKGN0eCkge1xuICAgIGNsZWFudXBDb250ZXh0KGN0eCwgc3Vic01hbmFnZXIpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZXhlY3V0ZUNvbnRleHRXaXRoU2xvdHMgPSAoeyAkc3RhdGljJDogY3R4IH06IFJlbmRlckNvbnRleHQpID0+IHtcbiAgZXhlY3V0ZURPTVJlbmRlcihjdHgpO1xufTtcblxuZXhwb3J0IGNvbnN0IGRpcmVjdEFwcGVuZENoaWxkID0gKHBhcmVudDogUXdpa0VsZW1lbnQsIGNoaWxkOiBOb2RlIHwgVmlydHVhbEVsZW1lbnQpID0+IHtcbiAgaWYgKGlzVmlydHVhbEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgY2hpbGQuYXBwZW5kVG8ocGFyZW50KTtcbiAgfSBlbHNlIHtcbiAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGlyZWN0UmVtb3ZlQ2hpbGQgPSAocGFyZW50OiBRd2lrRWxlbWVudCwgY2hpbGQ6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCkgPT4ge1xuICBpZiAoaXNWaXJ0dWFsRWxlbWVudChjaGlsZCkpIHtcbiAgICBjaGlsZC5yZW1vdmUoKTtcbiAgfSBlbHNlIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGlyZWN0SW5zZXJ0QmVmb3JlID0gKFxuICBwYXJlbnQ6IFF3aWtFbGVtZW50LFxuICBjaGlsZDogTm9kZSB8IFZpcnR1YWxFbGVtZW50LFxuICByZWY6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGxcbikgPT4ge1xuICBpZiAoaXNWaXJ0dWFsRWxlbWVudChjaGlsZCkpIHtcbiAgICBjaGlsZC5pbnNlcnRCZWZvcmVUbyhwYXJlbnQsIGdldFJvb3ROb2RlKHJlZikpO1xuICB9IGVsc2Uge1xuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGdldFJvb3ROb2RlKHJlZikpO1xuICB9XG59O1xuXG5jb25zdCBjcmVhdGVLZXlUb09sZElkeCA9IChcbiAgY2hpbGRyZW46IFByb2Nlc3NlZEpTWE5vZGVbXSxcbiAgYmVnaW5JZHg6IG51bWJlcixcbiAgZW5kSWR4OiBudW1iZXJcbik6IEtleVRvSW5kZXhNYXAgPT4ge1xuICBjb25zdCBtYXA6IEtleVRvSW5kZXhNYXAgPSB7fTtcbiAgZm9yIChsZXQgaSA9IGJlZ2luSWR4OyBpIDw9IGVuZElkeDsgKytpKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBjb25zdCBrZXkgPSBjaGlsZC4ka2V5JDtcbiAgICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICAgIG1hcFtrZXkgYXMgc3RyaW5nXSA9IGk7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59O1xuXG5jb25zdCBzYW1lVm5vZGUgPSAodm5vZGUxOiBQcm9jZXNzZWRKU1hOb2RlLCB2bm9kZTI6IFByb2Nlc3NlZEpTWE5vZGUpOiBib29sZWFuID0+IHtcbiAgaWYgKHZub2RlMS4kdHlwZSQgIT09IHZub2RlMi4kdHlwZSQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHZub2RlMS4ka2V5JCA9PT0gdm5vZGUyLiRrZXkkO1xufTtcblxuY29uc3QgaXNUYWdOYW1lID0gKGVsbTogUHJvY2Vzc2VkSlNYTm9kZSwgdGFnTmFtZTogc3RyaW5nKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBlbG0uJHR5cGUkID09PSB0YWdOYW1lO1xufTtcbiJdfQ==","import { assertDefined } from '../assert/assert';\nimport { parseQRL } from '../import/qrl';\nimport { getContext, inflateQrl, resumeIfNeeded } from '../props/props';\nimport { getWrappingContainer, getInvokeContext } from './use-core';\nimport { assertQrl } from '../import/qrl-class';\n// <docs markdown=\"../readme.md#useLexicalScope\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useLexicalScope instead)\n/**\n * Used by the Qwik Optimizer to restore the lexically scoped variables.\n *\n * This method should not be present in the application source code.\n *\n * NOTE: `useLexicalScope` method can only be used in the synchronous portion of the callback\n * (before any `await` statements.)\n *\n * @internal\n */\n// </docs>\nexport const useLexicalScope = () => {\n    const context = getInvokeContext();\n    let qrl = context.$qrl$;\n    if (!qrl) {\n        const el = context.$element$;\n        assertDefined(el, 'invoke: element must be defined inside useLexicalScope()', context);\n        const container = getWrappingContainer(el);\n        const ctx = getContext(el);\n        assertDefined(container, `invoke: cant find parent q:container of`, el);\n        qrl = parseQRL(decodeURIComponent(String(context.$url$)), container);\n        assertQrl(qrl);\n        resumeIfNeeded(container);\n        inflateQrl(qrl, ctx);\n    }\n    else {\n        assertQrl(qrl);\n        assertDefined(qrl.$captureRef$, 'invoke: qrl $captureRef$ must be defined inside useLexicalScope()', qrl);\n    }\n    return qrl.$captureRef$;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWxleGljYWwtc2NvcGUucHVibGljLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3BFLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUVoRCxpREFBaUQ7QUFDakQseUNBQXlDO0FBQ3pDLDhDQUE4QztBQUM5Qzs7Ozs7Ozs7O0dBU0c7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLEdBQTZCLEVBQUU7SUFDNUQsTUFBTSxPQUFPLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUNuQyxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDO0lBQ3hCLElBQUksQ0FBQyxHQUFHLEVBQUU7UUFDUixNQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDO1FBQzdCLGFBQWEsQ0FBQyxFQUFFLEVBQUUsMERBQTBELEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDdkYsTUFBTSxTQUFTLEdBQUcsb0JBQW9CLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDM0MsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQzNCLGFBQWEsQ0FBQyxTQUFTLEVBQUUseUNBQXlDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDeEUsR0FBRyxHQUFHLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDckUsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2YsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQzFCLFVBQVUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDdEI7U0FBTTtRQUNMLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNmLGFBQWEsQ0FDWCxHQUFHLENBQUMsWUFBWSxFQUNoQixtRUFBbUUsRUFDbkUsR0FBRyxDQUNKLENBQUM7S0FDSDtJQUNELE9BQU8sR0FBRyxDQUFDLFlBQW9CLENBQUM7QUFDbEMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgcGFyc2VRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IGdldENvbnRleHQsIGluZmxhdGVRcmwsIHJlc3VtZUlmTmVlZGVkIH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgZ2V0V3JhcHBpbmdDb250YWluZXIsIGdldEludm9rZUNvbnRleHQgfSBmcm9tICcuL3VzZS1jb3JlJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VMZXhpY2FsU2NvcGVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlTGV4aWNhbFNjb3BlIGluc3RlYWQpXG4vKipcbiAqIFVzZWQgYnkgdGhlIFF3aWsgT3B0aW1pemVyIHRvIHJlc3RvcmUgdGhlIGxleGljYWxseSBzY29wZWQgdmFyaWFibGVzLlxuICpcbiAqIFRoaXMgbWV0aG9kIHNob3VsZCBub3QgYmUgcHJlc2VudCBpbiB0aGUgYXBwbGljYXRpb24gc291cmNlIGNvZGUuXG4gKlxuICogTk9URTogYHVzZUxleGljYWxTY29wZWAgbWV0aG9kIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIHN5bmNocm9ub3VzIHBvcnRpb24gb2YgdGhlIGNhbGxiYWNrXG4gKiAoYmVmb3JlIGFueSBgYXdhaXRgIHN0YXRlbWVudHMuKVxuICpcbiAqIEBpbnRlcm5hbFxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlTGV4aWNhbFNjb3BlID0gPFZBUlMgZXh0ZW5kcyBhbnlbXT4oKTogVkFSUyA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSBnZXRJbnZva2VDb250ZXh0KCk7XG4gIGxldCBxcmwgPSBjb250ZXh0LiRxcmwkO1xuICBpZiAoIXFybCkge1xuICAgIGNvbnN0IGVsID0gY29udGV4dC4kZWxlbWVudCQ7XG4gICAgYXNzZXJ0RGVmaW5lZChlbCwgJ2ludm9rZTogZWxlbWVudCBtdXN0IGJlIGRlZmluZWQgaW5zaWRlIHVzZUxleGljYWxTY29wZSgpJywgY29udGV4dCk7XG4gICAgY29uc3QgY29udGFpbmVyID0gZ2V0V3JhcHBpbmdDb250YWluZXIoZWwpO1xuICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuICAgIGFzc2VydERlZmluZWQoY29udGFpbmVyLCBgaW52b2tlOiBjYW50IGZpbmQgcGFyZW50IHE6Y29udGFpbmVyIG9mYCwgZWwpO1xuICAgIHFybCA9IHBhcnNlUVJMKGRlY29kZVVSSUNvbXBvbmVudChTdHJpbmcoY29udGV4dC4kdXJsJCkpLCBjb250YWluZXIpO1xuICAgIGFzc2VydFFybChxcmwpO1xuICAgIHJlc3VtZUlmTmVlZGVkKGNvbnRhaW5lcik7XG4gICAgaW5mbGF0ZVFybChxcmwsIGN0eCk7XG4gIH0gZWxzZSB7XG4gICAgYXNzZXJ0UXJsKHFybCk7XG4gICAgYXNzZXJ0RGVmaW5lZChcbiAgICAgIHFybC4kY2FwdHVyZVJlZiQsXG4gICAgICAnaW52b2tlOiBxcmwgJGNhcHR1cmVSZWYkIG11c3QgYmUgZGVmaW5lZCBpbnNpZGUgdXNlTGV4aWNhbFNjb3BlKCknLFxuICAgICAgcXJsXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcXJsLiRjYXB0dXJlUmVmJCBhcyBWQVJTO1xufTtcbiJdfQ==","import { assertDefined, assertTrue } from '../../assert/assert';\nimport { executeContextWithSlots, IS_HEAD, IS_SVG, SVG_NS } from './visitor';\nimport { getContext, resumeIfNeeded } from '../../props/props';\nimport { qDynamicPlatform, qTest } from '../../util/qdev';\nimport { getDocument } from '../../util/dom';\nimport { logError, logWarn } from '../../util/log';\nimport { getWrappingContainer } from '../../use/use-core';\nimport { runSubscriber, WatchFlagsIsDirty, WatchFlagsIsEffect, WatchFlagsIsResource, WatchFlagsIsWatch, } from '../../use/use-watch';\nimport { then } from '../../util/promises';\nimport { codeToText, QError_errorWhileRendering } from '../../error/error';\nimport { useLexicalScope } from '../../use/use-lexical-scope.public';\nimport { isQwikElement } from '../../util/element';\nimport { renderComponent } from './render-dom';\nimport { getContainerState } from '../container';\nimport { createRenderContext } from '../execute-component';\nimport { getRootNode } from './virtual-element';\nimport { printRenderStats } from './operations';\nexport const notifyChange = (subscriber, containerState) => {\n    if (isQwikElement(subscriber)) {\n        notifyRender(subscriber, containerState);\n    }\n    else {\n        notifyWatch(subscriber, containerState);\n    }\n};\n/**\n * Mark component for rendering.\n *\n * Use `notifyRender` method to mark a component for rendering at some later point in time.\n * This method uses `getPlatform(doc).queueRender` for scheduling of the rendering. The\n * default implementation of the method is to use `requestAnimationFrame` to do actual rendering.\n *\n * The method is intended to coalesce multiple calls into `notifyRender` into a single call for\n * rendering.\n *\n * @param hostElement - Host-element of the component to re-render.\n * @returns A promise which is resolved when the component has been rendered.\n * @public\n */\nconst notifyRender = (hostElement, containerState) => {\n    const isServer = qDynamicPlatform && !qTest && containerState.$platform$.isServer;\n    if (!isServer) {\n        resumeIfNeeded(containerState.$containerEl$);\n    }\n    const ctx = getContext(hostElement);\n    assertDefined(ctx.$renderQrl$, `render: notified host element must have a defined $renderQrl$`, ctx);\n    if (ctx.$dirty$) {\n        return;\n    }\n    ctx.$dirty$ = true;\n    const activeRendering = containerState.$hostsRendering$ !== undefined;\n    if (activeRendering) {\n        assertDefined(containerState.$renderPromise$, 'render: while rendering, $renderPromise$ must be defined', containerState);\n        containerState.$hostsStaging$.add(hostElement);\n    }\n    else {\n        if (isServer) {\n            logWarn('Can not rerender in server platform');\n            return undefined;\n        }\n        containerState.$hostsNext$.add(hostElement);\n        scheduleFrame(containerState);\n    }\n};\nexport const notifyWatch = (watch, containerState) => {\n    if (watch.$flags$ & WatchFlagsIsDirty) {\n        return;\n    }\n    watch.$flags$ |= WatchFlagsIsDirty;\n    const activeRendering = containerState.$hostsRendering$ !== undefined;\n    if (activeRendering) {\n        assertDefined(containerState.$renderPromise$, 'render: while rendering, $renderPromise$ must be defined', containerState);\n        containerState.$watchStaging$.add(watch);\n    }\n    else {\n        containerState.$watchNext$.add(watch);\n        scheduleFrame(containerState);\n    }\n};\nconst scheduleFrame = (containerState) => {\n    if (containerState.$renderPromise$ === undefined) {\n        containerState.$renderPromise$ = containerState.$platform$.nextTick(() => renderMarked(containerState));\n    }\n    return containerState.$renderPromise$;\n};\n/**\n * Low-level API used by the Optimizer to process `useWatch$()` API. This method\n * is not intended to be used by developers.\n *\n * @internal\n *\n */\nexport const _hW = () => {\n    const [watch] = useLexicalScope();\n    notifyWatch(watch, getContainerState(getWrappingContainer(watch.$el$)));\n};\nconst renderMarked = async (containerState) => {\n    const hostsRendering = (containerState.$hostsRendering$ = new Set(containerState.$hostsNext$));\n    containerState.$hostsNext$.clear();\n    await executeWatchesBefore(containerState);\n    containerState.$hostsStaging$.forEach((host) => {\n        hostsRendering.add(host);\n    });\n    containerState.$hostsStaging$.clear();\n    const doc = getDocument(containerState.$containerEl$);\n    const platform = containerState.$platform$;\n    const renderingQueue = Array.from(hostsRendering);\n    sortNodes(renderingQueue);\n    const ctx = createRenderContext(doc, containerState);\n    const staticCtx = ctx.$static$;\n    for (const el of renderingQueue) {\n        if (!staticCtx.$hostElements$.has(el)) {\n            const elCtx = getContext(el);\n            if (elCtx.$renderQrl$) {\n                assertTrue(el.isConnected, 'element must be connected to the dom');\n                staticCtx.$roots$.push(elCtx);\n                try {\n                    await renderComponent(ctx, elCtx, getFlags(el.parentElement));\n                }\n                catch (e) {\n                    logError(codeToText(QError_errorWhileRendering), e);\n                }\n            }\n        }\n    }\n    // Add post operations\n    staticCtx.$operations$.push(...staticCtx.$postOperations$);\n    // Early exist, no dom operations\n    if (staticCtx.$operations$.length === 0) {\n        printRenderStats(staticCtx);\n        postRendering(containerState, staticCtx);\n        return ctx;\n    }\n    return platform.raf(() => {\n        executeContextWithSlots(ctx);\n        printRenderStats(staticCtx);\n        postRendering(containerState, staticCtx);\n        return ctx;\n    });\n};\nconst getFlags = (el) => {\n    let flags = 0;\n    if (el) {\n        if (el.namespaceURI === SVG_NS) {\n            flags |= IS_SVG;\n        }\n        if (el.tagName === 'HEAD') {\n            flags |= IS_HEAD;\n        }\n    }\n    return flags;\n};\nexport const postRendering = async (containerState, ctx) => {\n    await executeWatchesAfter(containerState, (watch, stage) => {\n        if ((watch.$flags$ & WatchFlagsIsEffect) === 0) {\n            return false;\n        }\n        if (stage) {\n            return ctx.$hostElements$.has(watch.$el$);\n        }\n        return true;\n    });\n    // Clear staging\n    containerState.$hostsStaging$.forEach((el) => {\n        containerState.$hostsNext$.add(el);\n    });\n    containerState.$hostsStaging$.clear();\n    containerState.$hostsRendering$ = undefined;\n    containerState.$renderPromise$ = undefined;\n    if (containerState.$hostsNext$.size + containerState.$watchNext$.size > 0) {\n        scheduleFrame(containerState);\n    }\n};\nconst executeWatchesBefore = async (containerState) => {\n    const resourcesPromises = [];\n    const watchPromises = [];\n    const isWatch = (watch) => (watch.$flags$ & WatchFlagsIsWatch) !== 0;\n    const isResourceWatch = (watch) => (watch.$flags$ & WatchFlagsIsResource) !== 0;\n    containerState.$watchNext$.forEach((watch) => {\n        if (isWatch(watch)) {\n            watchPromises.push(then(watch.$qrl$.$resolveLazy$(), () => watch));\n            containerState.$watchNext$.delete(watch);\n        }\n        if (isResourceWatch(watch)) {\n            resourcesPromises.push(then(watch.$qrl$.$resolveLazy$(), () => watch));\n            containerState.$watchNext$.delete(watch);\n        }\n    });\n    do {\n        // Run staging effected\n        containerState.$watchStaging$.forEach((watch) => {\n            if (isWatch(watch)) {\n                watchPromises.push(then(watch.$qrl$.$resolveLazy$(), () => watch));\n            }\n            else if (isResourceWatch(watch)) {\n                resourcesPromises.push(then(watch.$qrl$.$resolveLazy$(), () => watch));\n            }\n            else {\n                containerState.$watchNext$.add(watch);\n            }\n        });\n        containerState.$watchStaging$.clear();\n        // Wait for all promises\n        if (watchPromises.length > 0) {\n            const watches = await Promise.all(watchPromises);\n            sortWatches(watches);\n            await Promise.all(watches.map((watch) => {\n                return runSubscriber(watch, containerState);\n            }));\n            watchPromises.length = 0;\n        }\n    } while (containerState.$watchStaging$.size > 0);\n    if (resourcesPromises.length > 0) {\n        const resources = await Promise.all(resourcesPromises);\n        sortWatches(resources);\n        resources.forEach((watch) => runSubscriber(watch, containerState));\n    }\n};\nconst executeWatchesAfter = async (containerState, watchPred) => {\n    const watchPromises = [];\n    containerState.$watchNext$.forEach((watch) => {\n        if (watchPred(watch, false)) {\n            watchPromises.push(then(watch.$qrl$.$resolveLazy$(), () => watch));\n            containerState.$watchNext$.delete(watch);\n        }\n    });\n    do {\n        // Run staging effected\n        containerState.$watchStaging$.forEach((watch) => {\n            if (watchPred(watch, true)) {\n                watchPromises.push(then(watch.$qrl$.$resolveLazy$(), () => watch));\n            }\n            else {\n                containerState.$watchNext$.add(watch);\n            }\n        });\n        containerState.$watchStaging$.clear();\n        // Wait for all promises\n        if (watchPromises.length > 0) {\n            const watches = await Promise.all(watchPromises);\n            sortWatches(watches);\n            await Promise.all(watches.map((watch) => {\n                return runSubscriber(watch, containerState);\n            }));\n            watchPromises.length = 0;\n        }\n    } while (containerState.$watchStaging$.size > 0);\n};\nconst sortNodes = (elements) => {\n    elements.sort((a, b) => (a.compareDocumentPosition(getRootNode(b)) & 2 ? 1 : -1));\n};\nconst sortWatches = (watches) => {\n    watches.sort((a, b) => {\n        if (a.$el$ === b.$el$) {\n            return a.$index$ < b.$index$ ? -1 : 1;\n        }\n        return (a.$el$.compareDocumentPosition(getRootNode(b.$el$)) & 2) !== 0 ? 1 : -1;\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm90aWZ5LXJlbmRlci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZG9tL25vdGlmeS1yZW5kZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxVQUFVLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNoRSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDN0UsT0FBTyxFQUFFLFVBQVUsRUFBRSxjQUFjLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsS0FBSyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDMUQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbkQsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDMUQsT0FBTyxFQUNMLGFBQWEsRUFHYixpQkFBaUIsRUFDakIsa0JBQWtCLEVBQ2xCLG9CQUFvQixFQUNwQixpQkFBaUIsR0FDbEIsTUFBTSxxQkFBcUIsQ0FBQztBQUM3QixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFFM0MsT0FBTyxFQUFFLFVBQVUsRUFBRSwwQkFBMEIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzNFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSxvQ0FBb0MsQ0FBQztBQUNyRSxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDbkQsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUUvQyxPQUFPLEVBQWtCLGlCQUFpQixFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ2pFLE9BQU8sRUFBRSxt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QUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN2QztRQUNELE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEYsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkLCBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBleGVjdXRlQ29udGV4dFdpdGhTbG90cywgSVNfSEVBRCwgSVNfU1ZHLCBTVkdfTlMgfSBmcm9tICcuL3Zpc2l0b3InO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCwgcmVzdW1lSWZOZWVkZWQgfSBmcm9tICcuLi8uLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgeyBxRHluYW1pY1BsYXRmb3JtLCBxVGVzdCB9IGZyb20gJy4uLy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uLy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGxvZ0Vycm9yLCBsb2dXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgZ2V0V3JhcHBpbmdDb250YWluZXIgfSBmcm9tICcuLi8uLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHtcbiAgcnVuU3Vic2NyaWJlcixcbiAgU3Vic2NyaWJlcixcbiAgU3Vic2NyaWJlckRlc2NyaXB0b3IsXG4gIFdhdGNoRmxhZ3NJc0RpcnR5LFxuICBXYXRjaEZsYWdzSXNFZmZlY3QsXG4gIFdhdGNoRmxhZ3NJc1Jlc291cmNlLFxuICBXYXRjaEZsYWdzSXNXYXRjaCxcbn0gZnJvbSAnLi4vLi4vdXNlL3VzZS13YXRjaCc7XG5pbXBvcnQgeyB0aGVuIH0gZnJvbSAnLi4vLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgdHlwZSB7IFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyBjb2RlVG9UZXh0LCBRRXJyb3JfZXJyb3JXaGlsZVJlbmRlcmluZyB9IGZyb20gJy4uLy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IHVzZUxleGljYWxTY29wZSB9IGZyb20gJy4uLy4uL3VzZS91c2UtbGV4aWNhbC1zY29wZS5wdWJsaWMnO1xuaW1wb3J0IHsgaXNRd2lrRWxlbWVudCB9IGZyb20gJy4uLy4uL3V0aWwvZWxlbWVudCc7XG5pbXBvcnQgeyByZW5kZXJDb21wb25lbnQgfSBmcm9tICcuL3JlbmRlci1kb20nO1xuaW1wb3J0IHR5cGUgeyBSZW5kZXJDb250ZXh0LCBSZW5kZXJTdGF0aWNDb250ZXh0IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQ29udGFpbmVyU3RhdGUsIGdldENvbnRhaW5lclN0YXRlIH0gZnJvbSAnLi4vY29udGFpbmVyJztcbmltcG9ydCB7IGNyZWF0ZVJlbmRlckNvbnRleHQgfSBmcm9tICcuLi9leGVjdXRlLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXRSb290Tm9kZSwgUXdpa0VsZW1lbnQgfSBmcm9tICcuL3ZpcnR1YWwtZWxlbWVudCc7XG5pbXBvcnQgeyBwcmludFJlbmRlclN0YXRzIH0gZnJvbSAnLi9vcGVyYXRpb25zJztcblxuZXhwb3J0IGNvbnN0IG5vdGlmeUNoYW5nZSA9IChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyLCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHtcbiAgaWYgKGlzUXdpa0VsZW1lbnQoc3Vic2NyaWJlcikpIHtcbiAgICBub3RpZnlSZW5kZXIoc3Vic2NyaWJlciwgY29udGFpbmVyU3RhdGUpO1xuICB9IGVsc2Uge1xuICAgIG5vdGlmeVdhdGNoKHN1YnNjcmliZXIsIGNvbnRhaW5lclN0YXRlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBNYXJrIGNvbXBvbmVudCBmb3IgcmVuZGVyaW5nLlxuICpcbiAqIFVzZSBgbm90aWZ5UmVuZGVyYCBtZXRob2QgdG8gbWFyayBhIGNvbXBvbmVudCBmb3IgcmVuZGVyaW5nIGF0IHNvbWUgbGF0ZXIgcG9pbnQgaW4gdGltZS5cbiAqIFRoaXMgbWV0aG9kIHVzZXMgYGdldFBsYXRmb3JtKGRvYykucXVldWVSZW5kZXJgIGZvciBzY2hlZHVsaW5nIG9mIHRoZSByZW5kZXJpbmcuIFRoZVxuICogZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgbWV0aG9kIGlzIHRvIHVzZSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCB0byBkbyBhY3R1YWwgcmVuZGVyaW5nLlxuICpcbiAqIFRoZSBtZXRob2QgaXMgaW50ZW5kZWQgdG8gY29hbGVzY2UgbXVsdGlwbGUgY2FsbHMgaW50byBgbm90aWZ5UmVuZGVyYCBpbnRvIGEgc2luZ2xlIGNhbGwgZm9yXG4gKiByZW5kZXJpbmcuXG4gKlxuICogQHBhcmFtIGhvc3RFbGVtZW50IC0gSG9zdC1lbGVtZW50IG9mIHRoZSBjb21wb25lbnQgdG8gcmUtcmVuZGVyLlxuICogQHJldHVybnMgQSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gdGhlIGNvbXBvbmVudCBoYXMgYmVlbiByZW5kZXJlZC5cbiAqIEBwdWJsaWNcbiAqL1xuY29uc3Qgbm90aWZ5UmVuZGVyID0gKGhvc3RFbGVtZW50OiBRd2lrRWxlbWVudCwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKTogdm9pZCA9PiB7XG4gIGNvbnN0IGlzU2VydmVyID0gcUR5bmFtaWNQbGF0Zm9ybSAmJiAhcVRlc3QgJiYgY29udGFpbmVyU3RhdGUuJHBsYXRmb3JtJC5pc1NlcnZlcjtcbiAgaWYgKCFpc1NlcnZlcikge1xuICAgIHJlc3VtZUlmTmVlZGVkKGNvbnRhaW5lclN0YXRlLiRjb250YWluZXJFbCQpO1xuICB9XG5cbiAgY29uc3QgY3R4ID0gZ2V0Q29udGV4dChob3N0RWxlbWVudCk7XG4gIGFzc2VydERlZmluZWQoXG4gICAgY3R4LiRyZW5kZXJRcmwkLFxuICAgIGByZW5kZXI6IG5vdGlmaWVkIGhvc3QgZWxlbWVudCBtdXN0IGhhdmUgYSBkZWZpbmVkICRyZW5kZXJRcmwkYCxcbiAgICBjdHhcbiAgKTtcbiAgaWYgKGN0eC4kZGlydHkkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGN0eC4kZGlydHkkID0gdHJ1ZTtcbiAgY29uc3QgYWN0aXZlUmVuZGVyaW5nID0gY29udGFpbmVyU3RhdGUuJGhvc3RzUmVuZGVyaW5nJCAhPT0gdW5kZWZpbmVkO1xuICBpZiAoYWN0aXZlUmVuZGVyaW5nKSB7XG4gICAgYXNzZXJ0RGVmaW5lZChcbiAgICAgIGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJCxcbiAgICAgICdyZW5kZXI6IHdoaWxlIHJlbmRlcmluZywgJHJlbmRlclByb21pc2UkIG11c3QgYmUgZGVmaW5lZCcsXG4gICAgICBjb250YWluZXJTdGF0ZVxuICAgICk7XG4gICAgY29udGFpbmVyU3RhdGUuJGhvc3RzU3RhZ2luZyQuYWRkKGhvc3RFbGVtZW50KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNTZXJ2ZXIpIHtcbiAgICAgIGxvZ1dhcm4oJ0NhbiBub3QgcmVyZW5kZXIgaW4gc2VydmVyIHBsYXRmb3JtJyk7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb250YWluZXJTdGF0ZS4kaG9zdHNOZXh0JC5hZGQoaG9zdEVsZW1lbnQpO1xuICAgIHNjaGVkdWxlRnJhbWUoY29udGFpbmVyU3RhdGUpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgbm90aWZ5V2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yLCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IHtcbiAgaWYgKHdhdGNoLiRmbGFncyQgJiBXYXRjaEZsYWdzSXNEaXJ0eSkge1xuICAgIHJldHVybjtcbiAgfVxuICB3YXRjaC4kZmxhZ3MkIHw9IFdhdGNoRmxhZ3NJc0RpcnR5O1xuXG4gIGNvbnN0IGFjdGl2ZVJlbmRlcmluZyA9IGNvbnRhaW5lclN0YXRlLiRob3N0c1JlbmRlcmluZyQgIT09IHVuZGVmaW5lZDtcbiAgaWYgKGFjdGl2ZVJlbmRlcmluZykge1xuICAgIGFzc2VydERlZmluZWQoXG4gICAgICBjb250YWluZXJTdGF0ZS4kcmVuZGVyUHJvbWlzZSQsXG4gICAgICAncmVuZGVyOiB3aGlsZSByZW5kZXJpbmcsICRyZW5kZXJQcm9taXNlJCBtdXN0IGJlIGRlZmluZWQnLFxuICAgICAgY29udGFpbmVyU3RhdGVcbiAgICApO1xuICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaFN0YWdpbmckLmFkZCh3YXRjaCk7XG4gIH0gZWxzZSB7XG4gICAgY29udGFpbmVyU3RhdGUuJHdhdGNoTmV4dCQuYWRkKHdhdGNoKTtcbiAgICBzY2hlZHVsZUZyYW1lKGNvbnRhaW5lclN0YXRlKTtcbiAgfVxufTtcblxuY29uc3Qgc2NoZWR1bGVGcmFtZSA9IChjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpOiBQcm9taXNlPFJlbmRlclN0YXRpY0NvbnRleHQ+ID0+IHtcbiAgaWYgKGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGFpbmVyU3RhdGUuJHJlbmRlclByb21pc2UkID0gY29udGFpbmVyU3RhdGUuJHBsYXRmb3JtJC5uZXh0VGljaygoKSA9PlxuICAgICAgcmVuZGVyTWFya2VkKGNvbnRhaW5lclN0YXRlKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJDtcbn07XG5cbi8qKlxuICogTG93LWxldmVsIEFQSSB1c2VkIGJ5IHRoZSBPcHRpbWl6ZXIgdG8gcHJvY2VzcyBgdXNlV2F0Y2gkKClgIEFQSS4gVGhpcyBtZXRob2RcbiAqIGlzIG5vdCBpbnRlbmRlZCB0byBiZSB1c2VkIGJ5IGRldmVsb3BlcnMuXG4gKlxuICogQGludGVybmFsXG4gKlxuICovXG5leHBvcnQgY29uc3QgX2hXID0gKCkgPT4ge1xuICBjb25zdCBbd2F0Y2hdID0gdXNlTGV4aWNhbFNjb3BlPFtTdWJzY3JpYmVyRGVzY3JpcHRvcl0+KCk7XG4gIG5vdGlmeVdhdGNoKHdhdGNoLCBnZXRDb250YWluZXJTdGF0ZShnZXRXcmFwcGluZ0NvbnRhaW5lcih3YXRjaC4kZWwkKSEpKTtcbn07XG5cbmNvbnN0IHJlbmRlck1hcmtlZCA9IGFzeW5jIChjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpOiBQcm9taXNlPFJlbmRlckNvbnRleHQ+ID0+IHtcbiAgY29uc3QgaG9zdHNSZW5kZXJpbmcgPSAoY29udGFpbmVyU3RhdGUuJGhvc3RzUmVuZGVyaW5nJCA9IG5ldyBTZXQoY29udGFpbmVyU3RhdGUuJGhvc3RzTmV4dCQpKTtcbiAgY29udGFpbmVyU3RhdGUuJGhvc3RzTmV4dCQuY2xlYXIoKTtcbiAgYXdhaXQgZXhlY3V0ZVdhdGNoZXNCZWZvcmUoY29udGFpbmVyU3RhdGUpO1xuXG4gIGNvbnRhaW5lclN0YXRlLiRob3N0c1N0YWdpbmckLmZvckVhY2goKGhvc3QpID0+IHtcbiAgICBob3N0c1JlbmRlcmluZy5hZGQoaG9zdCk7XG4gIH0pO1xuICBjb250YWluZXJTdGF0ZS4kaG9zdHNTdGFnaW5nJC5jbGVhcigpO1xuXG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KGNvbnRhaW5lclN0YXRlLiRjb250YWluZXJFbCQpO1xuICBjb25zdCBwbGF0Zm9ybSA9IGNvbnRhaW5lclN0YXRlLiRwbGF0Zm9ybSQ7XG4gIGNvbnN0IHJlbmRlcmluZ1F1ZXVlID0gQXJyYXkuZnJvbShob3N0c1JlbmRlcmluZyk7XG4gIHNvcnROb2RlcyhyZW5kZXJpbmdRdWV1ZSk7XG5cbiAgY29uc3QgY3R4ID0gY3JlYXRlUmVuZGVyQ29udGV4dChkb2MsIGNvbnRhaW5lclN0YXRlKTtcbiAgY29uc3Qgc3RhdGljQ3R4ID0gY3R4LiRzdGF0aWMkO1xuICBmb3IgKGNvbnN0IGVsIG9mIHJlbmRlcmluZ1F1ZXVlKSB7XG4gICAgaWYgKCFzdGF0aWNDdHguJGhvc3RFbGVtZW50cyQuaGFzKGVsKSkge1xuICAgICAgY29uc3QgZWxDdHggPSBnZXRDb250ZXh0KGVsKTtcbiAgICAgIGlmIChlbEN0eC4kcmVuZGVyUXJsJCkge1xuICAgICAgICBhc3NlcnRUcnVlKGVsLmlzQ29ubmVjdGVkLCAnZWxlbWVudCBtdXN0IGJlIGNvbm5lY3RlZCB0byB0aGUgZG9tJyk7XG4gICAgICAgIHN0YXRpY0N0eC4kcm9vdHMkLnB1c2goZWxDdHgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHJlbmRlckNvbXBvbmVudChjdHgsIGVsQ3R4LCBnZXRGbGFncyhlbC5wYXJlbnRFbGVtZW50KSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBsb2dFcnJvcihjb2RlVG9UZXh0KFFFcnJvcl9lcnJvcldoaWxlUmVuZGVyaW5nKSwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBBZGQgcG9zdCBvcGVyYXRpb25zXG4gIHN0YXRpY0N0eC4kb3BlcmF0aW9ucyQucHVzaCguLi5zdGF0aWNDdHguJHBvc3RPcGVyYXRpb25zJCk7XG5cbiAgLy8gRWFybHkgZXhpc3QsIG5vIGRvbSBvcGVyYXRpb25zXG4gIGlmIChzdGF0aWNDdHguJG9wZXJhdGlvbnMkLmxlbmd0aCA9PT0gMCkge1xuICAgIHByaW50UmVuZGVyU3RhdHMoc3RhdGljQ3R4KTtcbiAgICBwb3N0UmVuZGVyaW5nKGNvbnRhaW5lclN0YXRlLCBzdGF0aWNDdHgpO1xuICAgIHJldHVybiBjdHg7XG4gIH1cblxuICByZXR1cm4gcGxhdGZvcm0ucmFmKCgpID0+IHtcbiAgICBleGVjdXRlQ29udGV4dFdpdGhTbG90cyhjdHgpO1xuICAgIHByaW50UmVuZGVyU3RhdHMoc3RhdGljQ3R4KTtcbiAgICBwb3N0UmVuZGVyaW5nKGNvbnRhaW5lclN0YXRlLCBzdGF0aWNDdHgpO1xuICAgIHJldHVybiBjdHg7XG4gIH0pO1xufTtcblxuY29uc3QgZ2V0RmxhZ3MgPSAoZWw6IEVsZW1lbnQgfCBudWxsKSA9PiB7XG4gIGxldCBmbGFncyA9IDA7XG4gIGlmIChlbCkge1xuICAgIGlmIChlbC5uYW1lc3BhY2VVUkkgPT09IFNWR19OUykge1xuICAgICAgZmxhZ3MgfD0gSVNfU1ZHO1xuICAgIH1cbiAgICBpZiAoZWwudGFnTmFtZSA9PT0gJ0hFQUQnKSB7XG4gICAgICBmbGFncyB8PSBJU19IRUFEO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmxhZ3M7XG59O1xuXG5leHBvcnQgY29uc3QgcG9zdFJlbmRlcmluZyA9IGFzeW5jIChjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsIGN0eDogUmVuZGVyU3RhdGljQ29udGV4dCkgPT4ge1xuICBhd2FpdCBleGVjdXRlV2F0Y2hlc0FmdGVyKGNvbnRhaW5lclN0YXRlLCAod2F0Y2gsIHN0YWdlKSA9PiB7XG4gICAgaWYgKCh3YXRjaC4kZmxhZ3MkICYgV2F0Y2hGbGFnc0lzRWZmZWN0KSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoc3RhZ2UpIHtcbiAgICAgIHJldHVybiBjdHguJGhvc3RFbGVtZW50cyQuaGFzKHdhdGNoLiRlbCQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG5cbiAgLy8gQ2xlYXIgc3RhZ2luZ1xuICBjb250YWluZXJTdGF0ZS4kaG9zdHNTdGFnaW5nJC5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnRhaW5lclN0YXRlLiRob3N0c05leHQkLmFkZChlbCk7XG4gIH0pO1xuICBjb250YWluZXJTdGF0ZS4kaG9zdHNTdGFnaW5nJC5jbGVhcigpO1xuXG4gIGNvbnRhaW5lclN0YXRlLiRob3N0c1JlbmRlcmluZyQgPSB1bmRlZmluZWQ7XG4gIGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJCA9IHVuZGVmaW5lZDtcblxuICBpZiAoY29udGFpbmVyU3RhdGUuJGhvc3RzTmV4dCQuc2l6ZSArIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLnNpemUgPiAwKSB7XG4gICAgc2NoZWR1bGVGcmFtZShjb250YWluZXJTdGF0ZSk7XG4gIH1cbn07XG5cbmNvbnN0IGV4ZWN1dGVXYXRjaGVzQmVmb3JlID0gYXN5bmMgKGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSkgPT4ge1xuICBjb25zdCByZXNvdXJjZXNQcm9taXNlczogVmFsdWVPclByb21pc2U8U3Vic2NyaWJlckRlc2NyaXB0b3I+W10gPSBbXTtcbiAgY29uc3Qgd2F0Y2hQcm9taXNlczogVmFsdWVPclByb21pc2U8U3Vic2NyaWJlckRlc2NyaXB0b3I+W10gPSBbXTtcbiAgY29uc3QgaXNXYXRjaCA9ICh3YXRjaDogU3Vic2NyaWJlckRlc2NyaXB0b3IpID0+ICh3YXRjaC4kZmxhZ3MkICYgV2F0Y2hGbGFnc0lzV2F0Y2gpICE9PSAwO1xuICBjb25zdCBpc1Jlc291cmNlV2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yKSA9PlxuICAgICh3YXRjaC4kZmxhZ3MkICYgV2F0Y2hGbGFnc0lzUmVzb3VyY2UpICE9PSAwO1xuXG4gIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmZvckVhY2goKHdhdGNoKSA9PiB7XG4gICAgaWYgKGlzV2F0Y2god2F0Y2gpKSB7XG4gICAgICB3YXRjaFByb21pc2VzLnB1c2godGhlbih3YXRjaC4kcXJsJC4kcmVzb2x2ZUxhenkkKCksICgpID0+IHdhdGNoKSk7XG4gICAgICBjb250YWluZXJTdGF0ZS4kd2F0Y2hOZXh0JC5kZWxldGUod2F0Y2gpO1xuICAgIH1cbiAgICBpZiAoaXNSZXNvdXJjZVdhdGNoKHdhdGNoKSkge1xuICAgICAgcmVzb3VyY2VzUHJvbWlzZXMucHVzaCh0aGVuKHdhdGNoLiRxcmwkLiRyZXNvbHZlTGF6eSQoKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmRlbGV0ZSh3YXRjaCk7XG4gICAgfVxuICB9KTtcbiAgZG8ge1xuICAgIC8vIFJ1biBzdGFnaW5nIGVmZmVjdGVkXG4gICAgY29udGFpbmVyU3RhdGUuJHdhdGNoU3RhZ2luZyQuZm9yRWFjaCgod2F0Y2gpID0+IHtcbiAgICAgIGlmIChpc1dhdGNoKHdhdGNoKSkge1xuICAgICAgICB3YXRjaFByb21pc2VzLnB1c2godGhlbih3YXRjaC4kcXJsJC4kcmVzb2x2ZUxhenkkKCksICgpID0+IHdhdGNoKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzUmVzb3VyY2VXYXRjaCh3YXRjaCkpIHtcbiAgICAgICAgcmVzb3VyY2VzUHJvbWlzZXMucHVzaCh0aGVuKHdhdGNoLiRxcmwkLiRyZXNvbHZlTGF6eSQoKSwgKCkgPT4gd2F0Y2gpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRhaW5lclN0YXRlLiR3YXRjaE5leHQkLmFkZCh3YXRjaCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb250YWluZXJTdGF0ZS4kd2F0Y2hTdGFnaW5nJC5jbGVhcigpO1xuXG4gICAgLy8gV2FpdCBmb3IgYWxsIHByb21pc2VzXG4gICAgaWYgKHdhdGNoUHJvbWlzZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgd2F0Y2hlcyA9IGF3YWl0IFByb21pc2UuYWxsKHdhdGNoUHJvbWlzZXMpO1xuICAgICAgc29ydFdhdGNoZXMod2F0Y2hlcyk7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgd2F0Y2hlcy5tYXAoKHdhdGNoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJ1blN1YnNjcmliZXIod2F0Y2gsIGNvbnRhaW5lclN0YXRlKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB3YXRjaFByb21pc2VzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9IHdoaWxlIChjb250YWluZXJTdGF0ZS4kd2F0Y2hTdGFnaW5nJC5zaXplID4gMCk7XG5cbiAgaWYgKHJlc291cmNlc1Byb21pc2VzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCByZXNvdXJjZXMgPSBhd2FpdCBQcm9taXNlLmFsbChyZXNvdXJjZXNQcm9taXNlcyk7XG4gICAgc29ydFdhdGNoZXMocmVzb3VyY2VzKTtcbiAgICByZXNvdXJjZXMuZm9yRWFjaCgod2F0Y2gpID0+IHJ1blN1YnNjcmliZXIod2F0Y2gsIGNvbnRhaW5lclN0YXRlKSk7XG4gIH1cbn07XG5cbmNvbnN0IGV4ZWN1dGVXYXRjaGVzQWZ0ZXIgPSBhc3luYyAoXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSxcbiAgd2F0Y2hQcmVkOiAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yLCBzdGFnaW5nOiBib29sZWFuKSA9PiBib29sZWFuXG4pID0+IHtcbiAgY29uc3Qgd2F0Y2hQcm9taXNlczogVmFsdWVPclByb21pc2U8U3Vic2NyaWJlckRlc2NyaXB0b3I+W10gPSBbXTtcblxuICBjb250YWluZXJTdGF0ZS4kd2F0Y2hOZXh0JC5mb3JFYWNoKCh3YXRjaCkgPT4ge1xuICAgIGlmICh3YXRjaFByZWQod2F0Y2gsIGZhbHNlKSkge1xuICAgICAgd2F0Y2hQcm9taXNlcy5wdXNoKHRoZW4od2F0Y2guJHFybCQuJHJlc29sdmVMYXp5JCgpLCAoKSA9PiB3YXRjaCkpO1xuICAgICAgY29udGFpbmVyU3RhdGUuJHdhdGNoTmV4dCQuZGVsZXRlKHdhdGNoKTtcbiAgICB9XG4gIH0pO1xuICBkbyB7XG4gICAgLy8gUnVuIHN0YWdpbmcgZWZmZWN0ZWRcbiAgICBjb250YWluZXJTdGF0ZS4kd2F0Y2hTdGFnaW5nJC5mb3JFYWNoKCh3YXRjaCkgPT4ge1xuICAgICAgaWYgKHdhdGNoUHJlZCh3YXRjaCwgdHJ1ZSkpIHtcbiAgICAgICAgd2F0Y2hQcm9taXNlcy5wdXNoKHRoZW4od2F0Y2guJHFybCQuJHJlc29sdmVMYXp5JCgpLCAoKSA9PiB3YXRjaCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGFpbmVyU3RhdGUuJHdhdGNoTmV4dCQuYWRkKHdhdGNoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb250YWluZXJTdGF0ZS4kd2F0Y2hTdGFnaW5nJC5jbGVhcigpO1xuXG4gICAgLy8gV2FpdCBmb3IgYWxsIHByb21pc2VzXG4gICAgaWYgKHdhdGNoUHJvbWlzZXMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgd2F0Y2hlcyA9IGF3YWl0IFByb21pc2UuYWxsKHdhdGNoUHJvbWlzZXMpO1xuICAgICAgc29ydFdhdGNoZXMod2F0Y2hlcyk7XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgd2F0Y2hlcy5tYXAoKHdhdGNoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJ1blN1YnNjcmliZXIod2F0Y2gsIGNvbnRhaW5lclN0YXRlKTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICB3YXRjaFByb21pc2VzLmxlbmd0aCA9IDA7XG4gICAgfVxuICB9IHdoaWxlIChjb250YWluZXJTdGF0ZS4kd2F0Y2hTdGFnaW5nJC5zaXplID4gMCk7XG59O1xuXG5jb25zdCBzb3J0Tm9kZXMgPSAoZWxlbWVudHM6IFF3aWtFbGVtZW50W10pID0+IHtcbiAgZWxlbWVudHMuc29ydCgoYSwgYikgPT4gKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZ2V0Um9vdE5vZGUoYikpICYgMiA/IDEgOiAtMSkpO1xufTtcblxuY29uc3Qgc29ydFdhdGNoZXMgPSAod2F0Y2hlczogU3Vic2NyaWJlckRlc2NyaXB0b3JbXSkgPT4ge1xuICB3YXRjaGVzLnNvcnQoKGEsIGIpID0+IHtcbiAgICBpZiAoYS4kZWwkID09PSBiLiRlbCQpIHtcbiAgICAgIHJldHVybiBhLiRpbmRleCQgPCBiLiRpbmRleCQgPyAtMSA6IDE7XG4gICAgfVxuICAgIHJldHVybiAoYS4kZWwkLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGdldFJvb3ROb2RlKGIuJGVsJCkpICYgMikgIT09IDAgPyAxIDogLTE7XG4gIH0pO1xufTtcbiJdfQ==","import { assertEqual } from '../assert/assert';\nimport { getProxyTarget } from '../object/q-object';\nimport { getPlatform } from '../platform/platform';\nimport { seal } from '../util/qdev';\nimport { notifyChange } from './dom/notify-render';\nconst CONTAINER_STATE = Symbol('ContainerState');\nexport const getContainerState = (containerEl) => {\n    let set = containerEl[CONTAINER_STATE];\n    if (!set) {\n        containerEl[CONTAINER_STATE] = set = {\n            $containerEl$: containerEl,\n            $proxyMap$: new WeakMap(),\n            $subsManager$: null,\n            $platform$: getPlatform(containerEl),\n            $watchNext$: new Set(),\n            $watchStaging$: new Set(),\n            $hostsNext$: new Set(),\n            $hostsStaging$: new Set(),\n            $renderPromise$: undefined,\n            $hostsRendering$: undefined,\n            $envData$: {},\n            $elementIndex$: 0,\n            $styleIds$: new Set(),\n            $mutableProps$: false,\n        };\n        seal(set);\n        set.$subsManager$ = createSubscriptionManager(set);\n    }\n    return set;\n};\nexport const createSubscriptionManager = (containerState) => {\n    const objToSubs = new Map();\n    const subsToObjs = new Map();\n    const clearSub = (sub) => {\n        const subs = subsToObjs.get(sub);\n        if (subs) {\n            subs.forEach((s) => {\n                s.delete(sub);\n            });\n            subsToObjs.delete(sub);\n            subs.clear();\n        }\n    };\n    const tryGetLocal = (obj) => {\n        assertEqual(getProxyTarget(obj), undefined, 'object can not be be a proxy', obj);\n        return objToSubs.get(obj);\n    };\n    const trackSubToObj = (subscriber, map) => {\n        let set = subsToObjs.get(subscriber);\n        if (!set) {\n            subsToObjs.set(subscriber, (set = new Set()));\n        }\n        set.add(map);\n    };\n    const getLocal = (obj, initialMap) => {\n        let local = tryGetLocal(obj);\n        if (local) {\n            assertEqual(initialMap, undefined, 'subscription map can not be set to an existing object', local);\n        }\n        else {\n            const map = !initialMap ? new Map() : initialMap;\n            map.forEach((_, key) => {\n                trackSubToObj(key, map);\n            });\n            objToSubs.set(obj, (local = {\n                $subs$: map,\n                $addSub$(subscriber, key) {\n                    if (key == null) {\n                        map.set(subscriber, null);\n                    }\n                    else {\n                        let sub = map.get(subscriber);\n                        if (sub === undefined) {\n                            map.set(subscriber, (sub = new Set()));\n                        }\n                        if (sub) {\n                            sub.add(key);\n                        }\n                    }\n                    trackSubToObj(subscriber, map);\n                },\n                $notifySubs$(key) {\n                    map.forEach((value, subscriber) => {\n                        if (value === null || !key || value.has(key)) {\n                            notifyChange(subscriber, containerState);\n                        }\n                    });\n                },\n            }));\n            seal(local);\n        }\n        return local;\n    };\n    const manager = {\n        $tryGetLocal$: tryGetLocal,\n        $getLocal$: getLocal,\n        $clearSub$: clearSub,\n    };\n    seal(manager);\n    return manager;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGFpbmVyLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3JlbmRlci9jb250YWluZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFHbkQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwQyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUE4Q25ELE1BQU0sZUFBZSxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0FBRWpELE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLENBQUMsV0FBb0IsRUFBa0IsRUFBRTtJQUN4RSxJQUFJLEdBQUcsR0FBSSxXQUFtQixDQUFDLGVBQWUsQ0FBbUIsQ0FBQztJQUNsRSxJQUFJLENBQUMsR0FBRyxFQUFFO1FBQ1AsV0FBbUIsQ0FBQyxlQUFlLENBQUMsR0FBRyxHQUFHLEdBQUc7WUFDNUMsYUFBYSxFQUFFLFdBQVc7WUFFMUIsVUFBVSxFQUFFLElBQUksT0FBTyxFQUFFO1lBQ3pCLGFBQWEsRUFBRSxJQUFXO1lBQzFCLFVBQVUsRUFBRSxXQUFXLENBQUMsV0FBVyxDQUFDO1lBRXBDLFdBQVcsRUFBRSxJQUFJLEdBQUcsRUFBRTtZQUN0QixjQUFjLEVBQUUsSUFBSSxHQUFHLEVBQUU7WUFFekIsV0FBVyxFQUFFLElBQUksR0FBRyxFQUFFO1lBQ3RCLGNBQWMsRUFBRSxJQUFJLEdBQUcsRUFBRTtZQUN6QixlQUFlLEVBQUUsU0FBUztZQUMxQixnQkFBZ0IsRUFBRSxTQUFTO1lBRTNCLFNBQVMsRUFBRSxFQUFFO1lBQ2IsY0FBYyxFQUFFLENBQUM7WUFFakIsVUFBVSxFQUFFLElB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QUMsR0FBRyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO3lCQUN4Qzt3QkFDRCxJQUFJLEdBQUcsRUFBRTs0QkFDUCxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO3lCQUNkO3FCQUNGO29CQUNELGFBQWEsQ0FBQyxVQUFVLEVBQUUsR0FBRyxDQUFDLENBQUM7Z0JBQ2pDLENBQUM7Z0JBQ0QsWUFBWSxDQUFDLEdBQVk7b0JBQ3ZCLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsVUFBVSxFQUFFLEVBQUU7d0JBQ2hDLElBQUksS0FBSyxLQUFLLElBQUksSUFBSSxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFOzRCQUM1QyxZQUFZLENBQUMsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDO3lCQUMxQztvQkFDSCxDQUFDLENBQUMsQ0FBQztnQkFDTCxDQUFDO2FBQ0YsQ0FBQyxDQUNILENBQUM7WUFDRixJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDYjtRQUNELE9BQU8sS0FBSyxDQUFDO0lBQ2YsQ0FBQyxDQUFDO0lBRUYsTUFBTSxPQUFPLEdBQUc7UUFDZCxhQUFhLEVBQUUsV0FBVztRQUMxQixVQUFVLEVBQUUsUUFBUTtRQUNwQixVQUFVLEVBQUUsUUFBUTtLQUNyQixDQUFDO0lBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2QsT0FBTyxPQUFPLENBQUM7QUFDakIsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0RXF1YWwgfSBmcm9tICcuLi9hc3NlcnQvYXNzZXJ0JztcbmltcG9ydCB7IGdldFByb3h5VGFyZ2V0IH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHR5cGUgeyBDb3JlUGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFN1YnNjcmliZXIsIFN1YnNjcmliZXJEZXNjcmlwdG9yIH0gZnJvbSAnLi4vdXNlL3VzZS13YXRjaCc7XG5pbXBvcnQgeyBzZWFsIH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IG5vdGlmeUNoYW5nZSB9IGZyb20gJy4vZG9tL25vdGlmeS1yZW5kZXInO1xuaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4vZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5pbXBvcnQgdHlwZSB7IFJlbmRlclN0YXRpY0NvbnRleHQgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IHR5cGUgT2JqVG9Qcm94eU1hcCA9IFdlYWtNYXA8YW55LCBhbnk+O1xuZXhwb3J0IHR5cGUgU3Vic2NyaWJlck1hcCA9IE1hcDxTdWJzY3JpYmVyLCBTZXQ8c3RyaW5nPiB8IG51bGw+O1xuZXhwb3J0IHR5cGUgT2JqVG9TdWJzY3JpYmVyTWFwID0gV2Vha01hcDxhbnksIExvY2FsU3Vic2NyaXB0aW9uTWFuYWdlcj47XG5leHBvcnQgdHlwZSBTdWJzY3JpYmVyVG9TdWJzY3JpYmVyTWFwID0gTWFwPFN1YnNjcmliZXIsIFNldDxTdWJzY3JpYmVyTWFwPj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3Vic2NyaXB0aW9uTWFuYWdlciB7XG4gICR0cnlHZXRMb2NhbCQob2JqOiBhbnkpOiBMb2NhbFN1YnNjcmlwdGlvbk1hbmFnZXIgfCB1bmRlZmluZWQ7XG4gICRnZXRMb2NhbCQob2JqOiBhbnksIG1hcD86IFN1YnNjcmliZXJNYXApOiBMb2NhbFN1YnNjcmlwdGlvbk1hbmFnZXI7XG4gICRjbGVhclN1YiQ6IChzdWI6IFN1YnNjcmliZXIpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYWxTdWJzY3JpcHRpb25NYW5hZ2VyIHtcbiAgJHN1YnMkOiBTdWJzY3JpYmVyTWFwO1xuICAkbm90aWZ5U3VicyQ6IChrZXk/OiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gICRhZGRTdWIkOiAoc3Vic2NyaWJlcjogU3Vic2NyaWJlciwga2V5Pzogc3RyaW5nKSA9PiB2b2lkO1xufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbnRhaW5lclN0YXRlIHtcbiAgJGNvbnRhaW5lckVsJDogRWxlbWVudDtcblxuICAkcHJveHlNYXAkOiBPYmpUb1Byb3h5TWFwO1xuICAkc3Vic01hbmFnZXIkOiBTdWJzY3JpcHRpb25NYW5hZ2VyO1xuICAkcGxhdGZvcm0kOiBDb3JlUGxhdGZvcm07XG5cbiAgJHdhdGNoTmV4dCQ6IFNldDxTdWJzY3JpYmVyRGVzY3JpcHRvcj47XG4gICR3YXRjaFN0YWdpbmckOiBTZXQ8U3Vic2NyaWJlckRlc2NyaXB0b3I+O1xuXG4gICRob3N0c05leHQkOiBTZXQ8UXdpa0VsZW1lbnQ+O1xuICAkaG9zdHNTdGFnaW5nJDogU2V0PFF3aWtFbGVtZW50PjtcbiAgJGhvc3RzUmVuZGVyaW5nJDogU2V0PFF3aWtFbGVtZW50PiB8IHVuZGVmaW5lZDtcbiAgJHJlbmRlclByb21pc2UkOiBQcm9taXNlPFJlbmRlclN0YXRpY0NvbnRleHQ+IHwgdW5kZWZpbmVkO1xuXG4gICRlbnZEYXRhJDogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgJGVsZW1lbnRJbmRleCQ6IG51bWJlcjtcblxuICAkc3R5bGVJZHMkOiBTZXQ8c3RyaW5nPjtcbiAgJG11dGFibGVQcm9wcyQ6IGJvb2xlYW47XG59XG5cbmNvbnN0IENPTlRBSU5FUl9TVEFURSA9IFN5bWJvbCgnQ29udGFpbmVyU3RhdGUnKTtcblxuZXhwb3J0IGNvbnN0IGdldENvbnRhaW5lclN0YXRlID0gKGNvbnRhaW5lckVsOiBFbGVtZW50KTogQ29udGFpbmVyU3RhdGUgPT4ge1xuICBsZXQgc2V0ID0gKGNvbnRhaW5lckVsIGFzIGFueSlbQ09OVEFJTkVSX1NUQVRFXSBhcyBDb250YWluZXJTdGF0ZTtcbiAgaWYgKCFzZXQpIHtcbiAgICAoY29udGFpbmVyRWwgYXMgYW55KVtDT05UQUlORVJfU1RBVEVdID0gc2V0ID0ge1xuICAgICAgJGNvbnRhaW5lckVsJDogY29udGFpbmVyRWwsXG5cbiAgICAgICRwcm94eU1hcCQ6IG5ldyBXZWFrTWFwKCksXG4gICAgICAkc3Vic01hbmFnZXIkOiBudWxsIGFzIGFueSxcbiAgICAgICRwbGF0Zm9ybSQ6IGdldFBsYXRmb3JtKGNvbnRhaW5lckVsKSxcblxuICAgICAgJHdhdGNoTmV4dCQ6IG5ldyBTZXQoKSxcbiAgICAgICR3YXRjaFN0YWdpbmckOiBuZXcgU2V0KCksXG5cbiAgICAgICRob3N0c05leHQkOiBuZXcgU2V0KCksXG4gICAgICAkaG9zdHNTdGFnaW5nJDogbmV3IFNldCgpLFxuICAgICAgJHJlbmRlclByb21pc2UkOiB1bmRlZmluZWQsXG4gICAgICAkaG9zdHNSZW5kZXJpbmckOiB1bmRlZmluZWQsXG5cbiAgICAgICRlbnZEYXRhJDoge30sXG4gICAgICAkZWxlbWVudEluZGV4JDogMCxcblxuICAgICAgJHN0eWxlSWRzJDogbmV3IFNldCgpLFxuICAgICAgJG11dGFibGVQcm9wcyQ6IGZhbHNlLFxuICAgIH07XG4gICAgc2VhbChzZXQpO1xuICAgIHNldC4kc3Vic01hbmFnZXIkID0gY3JlYXRlU3Vic2NyaXB0aW9uTWFuYWdlcihzZXQpO1xuICB9XG4gIHJldHVybiBzZXQ7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlU3Vic2NyaXB0aW9uTWFuYWdlciA9IChjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpOiBTdWJzY3JpcHRpb25NYW5hZ2VyID0+IHtcbiAgY29uc3Qgb2JqVG9TdWJzOiBPYmpUb1N1YnNjcmliZXJNYXAgPSBuZXcgTWFwKCk7XG4gIGNvbnN0IHN1YnNUb09ianM6IFN1YnNjcmliZXJUb1N1YnNjcmliZXJNYXAgPSBuZXcgTWFwKCk7XG5cbiAgY29uc3QgY2xlYXJTdWIgPSAoc3ViOiBTdWJzY3JpYmVyKSA9PiB7XG4gICAgY29uc3Qgc3VicyA9IHN1YnNUb09ianMuZ2V0KHN1Yik7XG4gICAgaWYgKHN1YnMpIHtcbiAgICAgIHN1YnMuZm9yRWFjaCgocykgPT4ge1xuICAgICAgICBzLmRlbGV0ZShzdWIpO1xuICAgICAgfSk7XG4gICAgICBzdWJzVG9PYmpzLmRlbGV0ZShzdWIpO1xuICAgICAgc3Vicy5jbGVhcigpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB0cnlHZXRMb2NhbCA9IChvYmo6IGFueSkgPT4ge1xuICAgIGFzc2VydEVxdWFsKGdldFByb3h5VGFyZ2V0KG9iaiksIHVuZGVmaW5lZCwgJ29iamVjdCBjYW4gbm90IGJlIGJlIGEgcHJveHknLCBvYmopO1xuICAgIHJldHVybiBvYmpUb1N1YnMuZ2V0KG9iaik7XG4gIH07XG5cbiAgY29uc3QgdHJhY2tTdWJUb09iaiA9IChzdWJzY3JpYmVyOiBTdWJzY3JpYmVyLCBtYXA6IFN1YnNjcmliZXJNYXApID0+IHtcbiAgICBsZXQgc2V0ID0gc3Vic1RvT2Jqcy5nZXQoc3Vic2NyaWJlcik7XG4gICAgaWYgKCFzZXQpIHtcbiAgICAgIHN1YnNUb09ianMuc2V0KHN1YnNjcmliZXIsIChzZXQgPSBuZXcgU2V0KCkpKTtcbiAgICB9XG4gICAgc2V0LmFkZChtYXApO1xuICB9O1xuXG4gIGNvbnN0IGdldExvY2FsID0gKG9iajogYW55LCBpbml0aWFsTWFwPzogU3Vic2NyaWJlck1hcCkgPT4ge1xuICAgIGxldCBsb2NhbCA9IHRyeUdldExvY2FsKG9iaik7XG4gICAgaWYgKGxvY2FsKSB7XG4gICAgICBhc3NlcnRFcXVhbChcbiAgICAgICAgaW5pdGlhbE1hcCxcbiAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAnc3Vic2NyaXB0aW9uIG1hcCBjYW4gbm90IGJlIHNldCB0byBhbiBleGlzdGluZyBvYmplY3QnLFxuICAgICAgICBsb2NhbFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWFwID0gIWluaXRpYWxNYXAgPyAobmV3IE1hcCgpIGFzIFN1YnNjcmliZXJNYXApIDogaW5pdGlhbE1hcDtcbiAgICAgIG1hcC5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgICAgdHJhY2tTdWJUb09iaihrZXksIG1hcCk7XG4gICAgICB9KTtcbiAgICAgIG9ialRvU3Vicy5zZXQoXG4gICAgICAgIG9iaixcbiAgICAgICAgKGxvY2FsID0ge1xuICAgICAgICAgICRzdWJzJDogbWFwLFxuICAgICAgICAgICRhZGRTdWIkKHN1YnNjcmliZXI6IFN1YnNjcmliZXIsIGtleT86IHN0cmluZykge1xuICAgICAgICAgICAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgIG1hcC5zZXQoc3Vic2NyaWJlciwgbnVsbCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZXQgc3ViID0gbWFwLmdldChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgICAgaWYgKHN1YiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbWFwLnNldChzdWJzY3JpYmVyLCAoc3ViID0gbmV3IFNldCgpKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHN1Yikge1xuICAgICAgICAgICAgICAgIHN1Yi5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2tTdWJUb09iaihzdWJzY3JpYmVyLCBtYXApO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgJG5vdGlmeVN1YnMkKGtleT86IHN0cmluZykge1xuICAgICAgICAgICAgbWFwLmZvckVhY2goKHZhbHVlLCBzdWJzY3JpYmVyKSA9PiB7XG4gICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCAha2V5IHx8IHZhbHVlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgbm90aWZ5Q2hhbmdlKHN1YnNjcmliZXIsIGNvbnRhaW5lclN0YXRlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBzZWFsKGxvY2FsKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsO1xuICB9O1xuXG4gIGNvbnN0IG1hbmFnZXIgPSB7XG4gICAgJHRyeUdldExvY2FsJDogdHJ5R2V0TG9jYWwsXG4gICAgJGdldExvY2FsJDogZ2V0TG9jYWwsXG4gICAgJGNsZWFyU3ViJDogY2xlYXJTdWIsXG4gIH07XG4gIHNlYWwobWFuYWdlcik7XG4gIHJldHVybiBtYW5hZ2VyO1xufTtcbiJdfQ==","import { assertDefined, assertTrue } from '../assert/assert';\nimport { assertQrl, isQrl } from '../import/qrl-class';\nimport { getContext, tryGetContext } from '../props/props';\nimport { getDocument } from '../util/dom';\nimport { isDocument, isElement, isNode, isQwikElement, isVirtualElement } from '../util/element';\nimport { logDebug, logWarn } from '../util/log';\nimport { ELEMENT_ID, ELEMENT_ID_PREFIX, QContainerAttr, QStyle } from '../util/markers';\nimport { qDev } from '../util/qdev';\nimport { createProxy, getOrCreateProxy, getProxyFlags, getProxyTarget, isConnected, isMutable, mutable, shouldSerialize, } from './q-object';\nimport { destroyWatch, WatchFlagsIsDirty, } from '../use/use-watch';\nimport { emitEvent } from '../util/event';\nimport { qError, QError_containerAlreadyPaused, QError_missingObjectId, QError_verifySerializable, } from '../error/error';\nimport { isArray, isObject, isSerializableObject, isString } from '../util/types';\nimport { directGetAttribute, directSetAttribute } from '../render/fast-calls';\nimport { isNotNullable, isPromise } from '../util/promises';\nimport { isResourceReturn } from '../use/use-resource';\nimport { createParser, serializeValue, UNDEFINED_PREFIX } from './serializers';\nimport { getContainerState } from '../render/container';\nimport { getQId } from '../render/execute-component';\nimport { processVirtualNodes } from '../render/dom/virtual-element';\nimport { getDomListeners } from '../props/props-on';\n// <docs markdown=\"../readme.md#pauseContainer\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#pauseContainer instead)\n/**\n * Serialize the current state of the application into DOM\n *\n * @alpha\n */\n// </docs>\nexport const pauseContainer = async (elmOrDoc, defaultParentJSON) => {\n    const doc = getDocument(elmOrDoc);\n    const documentElement = doc.documentElement;\n    const containerEl = isDocument(elmOrDoc) ? documentElement : elmOrDoc;\n    if (directGetAttribute(containerEl, QContainerAttr) === 'paused') {\n        throw qError(QError_containerAlreadyPaused);\n    }\n    const parentJSON = defaultParentJSON ?? (containerEl === doc.documentElement ? doc.body : containerEl);\n    const data = await pauseFromContainer(containerEl);\n    const script = doc.createElement('script');\n    directSetAttribute(script, 'type', 'qwik/json');\n    script.textContent = escapeText(JSON.stringify(data.state, undefined, qDev ? '  ' : undefined));\n    parentJSON.appendChild(script);\n    directSetAttribute(containerEl, QContainerAttr, 'paused');\n    return data;\n};\nexport const moveStyles = (containerEl, containerState) => {\n    const head = containerEl.ownerDocument.head;\n    containerEl.querySelectorAll('style[q\\\\:style]').forEach((el) => {\n        containerState.$styleIds$.add(directGetAttribute(el, QStyle));\n        head.appendChild(el);\n    });\n};\nexport const resumeContainer = (containerEl) => {\n    if (!isContainer(containerEl)) {\n        logWarn('Skipping hydration because parent element is not q:container');\n        return;\n    }\n    const doc = getDocument(containerEl);\n    const isDocElement = containerEl === doc.documentElement;\n    const parentJSON = isDocElement ? doc.body : containerEl;\n    const script = getQwikJSON(parentJSON);\n    if (!script) {\n        logWarn('Skipping hydration qwik/json metadata was not found.');\n        return;\n    }\n    script.remove();\n    const containerState = getContainerState(containerEl);\n    moveStyles(containerEl, containerState);\n    const meta = JSON.parse(unescapeText(script.textContent || '{}'));\n    // Collect all elements\n    const elements = new Map();\n    const getObject = (id) => {\n        return getObjectImpl(id, elements, meta.objs, containerState);\n    };\n    let maxId = 0;\n    getNodesInScope(containerEl, hasQId).forEach((el) => {\n        const id = directGetAttribute(el, ELEMENT_ID);\n        assertDefined(id, `resume: element missed q:id`, el);\n        const ctx = getContext(el);\n        ctx.$id$ = id;\n        ctx.$mounted$ = true;\n        elements.set(ELEMENT_ID_PREFIX + id, el);\n        maxId = Math.max(maxId, strToInt(id));\n    });\n    containerState.$elementIndex$ = ++maxId;\n    const parser = createParser(getObject, containerState, doc);\n    // Revive proxies with subscriptions into the proxymap\n    reviveValues(meta.objs, meta.subs, getObject, containerState, parser);\n    // Rebuild target objects\n    for (const obj of meta.objs) {\n        reviveNestedObjects(obj, getObject, parser);\n    }\n    Object.entries(meta.ctx).forEach(([elementID, ctxMeta]) => {\n        const el = getObject(elementID);\n        assertDefined(el, `resume: cant find dom node for id`, elementID);\n        const ctx = getContext(el);\n        const qobj = ctxMeta.r;\n        const seq = ctxMeta.s;\n        const host = ctxMeta.h;\n        const contexts = ctxMeta.c;\n        const watches = ctxMeta.w;\n        if (qobj) {\n            assertTrue(isElement(el), 'el must be an actual DOM element');\n            ctx.$refMap$.push(...qobj.split(' ').map(getObject));\n            ctx.li = getDomListeners(ctx, containerEl);\n        }\n        if (seq) {\n            ctx.$seq$ = seq.split(' ').map(getObject);\n        }\n        if (watches) {\n            ctx.$watches$ = watches.split(' ').map(getObject);\n        }\n        if (contexts) {\n            contexts.split(' ').map((part) => {\n                const [key, value] = part.split('=');\n                if (!ctx.$contexts$) {\n                    ctx.$contexts$ = new Map();\n                }\n                ctx.$contexts$.set(key, getObject(value));\n            });\n        }\n        // Restore sequence scoping\n        if (host) {\n            const [props, renderQrl] = host.split(' ');\n            assertDefined(props, `resume: props missing in host metadata`, host);\n            assertDefined(renderQrl, `resume: renderQRL missing in host metadata`, host);\n            ctx.$props$ = getObject(props);\n            ctx.$renderQrl$ = getObject(renderQrl);\n        }\n    });\n    directSetAttribute(containerEl, QContainerAttr, 'resumed');\n    logDebug('Container resumed');\n    emitEvent(containerEl, 'qresume', undefined, true);\n};\nexport const pauseFromContainer = async (containerEl) => {\n    const containerState = getContainerState(containerEl);\n    const contexts = getNodesInScope(containerEl, hasQId).map(tryGetContext);\n    return _pauseFromContexts(contexts, containerState);\n};\n/**\n * @internal\n */\nexport const _pauseFromContexts = async (elements, containerState) => {\n    const elementToIndex = new Map();\n    const collector = createCollector(containerState);\n    const listeners = [];\n    for (const ctx of elements) {\n        const el = ctx.$element$;\n        if (isElement(el)) {\n            Object.entries(ctx.li).forEach(([key, qrls]) => {\n                qrls.forEach((qrl) => {\n                    listeners.push({\n                        key,\n                        qrl,\n                        el,\n                    });\n                });\n            });\n        }\n        if (ctx.$watches$) {\n            for (const watch of ctx.$watches$) {\n                collector.$watches$.push(watch);\n            }\n        }\n    }\n    // No listeners implies static page\n    if (listeners.length === 0) {\n        return {\n            state: {\n                ctx: {},\n                objs: [],\n                subs: [],\n            },\n            objs: [],\n            listeners: [],\n            pendingContent: [],\n            mode: 'static',\n        };\n    }\n    // Listeners becomes the app roots\n    for (const listener of listeners) {\n        assertQrl(listener.qrl);\n        const captured = listener.qrl.$captureRef$;\n        if (captured) {\n            for (const obj of captured) {\n                await collectValue(obj, collector, true);\n            }\n        }\n        const ctx = tryGetContext(listener.el);\n        for (const obj of ctx.$refMap$) {\n            await collectValue(obj, collector, true);\n        }\n    }\n    // If at this point any component can render, we need to capture Context and Props\n    const canRender = collector.$elements$.length > 0;\n    if (canRender) {\n        for (const ctx of elements) {\n            if (isVirtualElement(ctx.$element$)) {\n                await collectProps(ctx.$element$, ctx.$props$, collector);\n            }\n            if (ctx.$contexts$) {\n                for (const item of ctx.$contexts$.values()) {\n                    await collectValue(item, collector, false);\n                }\n            }\n        }\n    }\n    // Convert objSet to array\n    const objs = Array.from(new Set(collector.$objMap$.values()));\n    const objToId = new Map();\n    const getElementID = (el) => {\n        let id = elementToIndex.get(el);\n        if (id === undefined) {\n            if (el.isConnected) {\n                id = getQId(el);\n                if (!id) {\n                    console.warn('Missing ID', el);\n                }\n                else {\n                    id = ELEMENT_ID_PREFIX + id;\n                }\n            }\n            else {\n                id = null;\n            }\n            elementToIndex.set(el, id);\n        }\n        return id;\n    };\n    const getObjId = (obj) => {\n        let suffix = '';\n        if (isMutable(obj)) {\n            obj = obj.v;\n            suffix = '%';\n        }\n        if (isPromise(obj)) {\n            const { value, resolved } = getPromiseValue(obj);\n            obj = value;\n            if (resolved) {\n                suffix += '~';\n            }\n            else {\n                suffix += '_';\n            }\n        }\n        if (isObject(obj)) {\n            const target = getProxyTarget(obj);\n            if (target) {\n                suffix += '!';\n                obj = target;\n            }\n            if (!target && isQwikElement(obj)) {\n                const elID = getElementID(obj);\n                if (elID) {\n                    return elID + suffix;\n                }\n                return null;\n            }\n        }\n        if (collector.$objMap$.has(obj)) {\n            const value = collector.$objMap$.get(obj);\n            const id = objToId.get(value);\n            assertTrue(typeof id === 'number', 'Can not find ID for object');\n            return intToStr(id) + suffix;\n        }\n        return null;\n    };\n    const mustGetObjId = (obj) => {\n        const key = getObjId(obj);\n        if (key === null) {\n            throw qError(QError_missingObjectId, obj);\n        }\n        return key;\n    };\n    // Compute subscriptions\n    const subsMap = new Map();\n    objs.forEach((obj) => {\n        const flags = getProxyFlags(containerState.$proxyMap$.get(obj));\n        if (flags === undefined) {\n            return;\n        }\n        const subsObj = [];\n        if (flags > 0) {\n            subsObj.push({\n                subscriber: '$',\n                data: flags,\n            });\n        }\n        const subs = containerState.$subsManager$.$tryGetLocal$(obj)?.$subs$;\n        if (subs) {\n            subs.forEach((set, key) => {\n                if (isNode(key) && isVirtualElement(key)) {\n                    if (!collector.$elements$.includes(key)) {\n                        return;\n                    }\n                }\n                subsObj.push({\n                    subscriber: key,\n                    data: set ? Array.from(set) : null,\n                });\n            });\n        }\n        if (subsObj.length > 0) {\n            subsMap.set(obj, subsObj);\n        }\n    });\n    // Sort objects: the ones with subscriptions go first\n    objs.sort((a, b) => {\n        const isProxyA = subsMap.has(a) ? 0 : 1;\n        const isProxyB = subsMap.has(b) ? 0 : 1;\n        return isProxyA - isProxyB;\n    });\n    // Generate object ID by using a monotonic counter\n    let count = 0;\n    for (const obj of objs) {\n        objToId.set(obj, count);\n        count++;\n    }\n    // Serialize object subscriptions\n    const subs = objs\n        .map((obj) => {\n        const sub = subsMap.get(obj);\n        if (!sub) {\n            return null;\n        }\n        const subsObj = {};\n        sub.forEach(({ subscriber, data }) => {\n            if (subscriber === '$') {\n                subsObj[subscriber] = data;\n            }\n            else {\n                const id = getObjId(subscriber);\n                if (id !== null) {\n                    subsObj[id] = data;\n                }\n            }\n        });\n        return subsObj;\n    })\n        .filter(isNotNullable);\n    // Serialize objects\n    const convertedObjs = objs.map((obj) => {\n        if (obj === null) {\n            return null;\n        }\n        const typeObj = typeof obj;\n        switch (typeObj) {\n            case 'undefined':\n                return UNDEFINED_PREFIX;\n            case 'string':\n            case 'number':\n            case 'boolean':\n                return obj;\n            default:\n                const value = serializeValue(obj, getObjId, containerState);\n                if (value !== undefined) {\n                    return value;\n                }\n                if (typeObj === 'object') {\n                    if (isArray(obj)) {\n                        return obj.map(mustGetObjId);\n                    }\n                    if (isSerializableObject(obj)) {\n                        const output = {};\n                        Object.entries(obj).forEach(([key, value]) => {\n                            output[key] = mustGetObjId(value);\n                        });\n                        return output;\n                    }\n                }\n                break;\n        }\n        throw qError(QError_verifySerializable, obj);\n    });\n    const meta = {};\n    // Write back to the dom\n    elements.forEach((ctx) => {\n        const node = ctx.$element$;\n        assertDefined(ctx, `pause: missing context for dom node`, node);\n        const ref = ctx.$refMap$;\n        const props = ctx.$props$;\n        const contexts = ctx.$contexts$;\n        const watches = ctx.$watches$;\n        const renderQrl = ctx.$renderQrl$;\n        const seq = ctx.$seq$;\n        const metaValue = {};\n        const elementCaptured = isVirtualElement(node) && collector.$elements$.includes(node);\n        let add = false;\n        if (ref.length > 0) {\n            const value = ref.map(mustGetObjId).join(' ');\n            if (value) {\n                metaValue.r = value;\n                add = true;\n            }\n        }\n        if (canRender) {\n            if (elementCaptured && props) {\n                const objs = [props];\n                if (renderQrl) {\n                    objs.push(renderQrl);\n                }\n                const value = objs.map(mustGetObjId).join(' ');\n                if (value) {\n                    metaValue.h = value;\n                    add = true;\n                }\n            }\n            if (watches && watches.length > 0) {\n                const value = watches.map(getObjId).filter(isNotNullable).join(' ');\n                if (value) {\n                    metaValue.w = value;\n                    add = true;\n                }\n            }\n            if (elementCaptured && seq && seq.length > 0) {\n                const value = seq.map(mustGetObjId).join(' ');\n                if (value) {\n                    metaValue.s = value;\n                    add = true;\n                }\n            }\n            if (contexts) {\n                const serializedContexts = [];\n                contexts.forEach((value, key) => {\n                    serializedContexts.push(`${key}=${mustGetObjId(value)}`);\n                });\n                const value = serializedContexts.join(' ');\n                if (value) {\n                    metaValue.c = value;\n                    add = true;\n                }\n            }\n        }\n        if (add) {\n            const elementID = getElementID(node);\n            assertDefined(elementID, `pause: can not generate ID for dom node`, node);\n            meta[elementID] = metaValue;\n        }\n    });\n    const pendingContent = [];\n    for (const watch of collector.$watches$) {\n        if (qDev) {\n            if (watch.$flags$ & WatchFlagsIsDirty) {\n                logWarn('Serializing dirty watch. Looks like an internal error.');\n            }\n            if (!isConnected(watch)) {\n                logWarn('Serializing disconneted watch. Looks like an internal error.');\n            }\n        }\n        destroyWatch(watch);\n    }\n    // Sanity check of serialized element\n    if (qDev) {\n        elementToIndex.forEach((value, el) => {\n            if (!value) {\n                logWarn('unconnected element', el.nodeName, '\\n');\n            }\n        });\n    }\n    return {\n        state: {\n            ctx: meta,\n            objs: convertedObjs,\n            subs,\n        },\n        pendingContent,\n        objs,\n        listeners,\n        mode: canRender ? 'render' : 'listeners',\n    };\n};\nexport const getQwikJSON = (parentElm) => {\n    let child = parentElm.lastElementChild;\n    while (child) {\n        if (child.tagName === 'SCRIPT' && directGetAttribute(child, 'type') === 'qwik/json') {\n            return child;\n        }\n        child = child.previousElementSibling;\n    }\n    return undefined;\n};\nconst SHOW_ELEMENT = 1;\nconst SHOW_COMMENT = 128;\nconst FILTER_ACCEPT = 1;\nconst FILTER_REJECT = 2;\nconst FILTER_SKIP = 3;\nexport const getNodesInScope = (parent, predicate) => {\n    const nodes = [];\n    if (predicate(parent)) {\n        nodes.push(parent);\n    }\n    const walker = parent.ownerDocument.createTreeWalker(parent, SHOW_ELEMENT | SHOW_COMMENT, {\n        acceptNode(node) {\n            if (isContainer(node)) {\n                return FILTER_REJECT;\n            }\n            return predicate(node) ? FILTER_ACCEPT : FILTER_SKIP;\n        },\n    });\n    const pars = [];\n    let currentNode = null;\n    while ((currentNode = walker.nextNode())) {\n        pars.push(processVirtualNodes(currentNode));\n    }\n    return pars;\n};\nconst reviveValues = (objs, subs, getObject, containerState, parser) => {\n    for (let i = 0; i < objs.length; i++) {\n        const value = objs[i];\n        if (isString(value)) {\n            objs[i] = value === UNDEFINED_PREFIX ? undefined : parser.prepare(value);\n        }\n    }\n    for (let i = 0; i < subs.length; i++) {\n        const value = objs[i];\n        const sub = subs[i];\n        if (sub) {\n            const converted = new Map();\n            let flags = 0;\n            Object.entries(sub).forEach((entry) => {\n                if (entry[0] === '$') {\n                    flags = entry[1];\n                    return;\n                }\n                const el = getObject(entry[0]);\n                if (!el) {\n                    logWarn('QWIK can not revive subscriptions because of missing element ID', entry, value);\n                    return;\n                }\n                const set = entry[1] === null ? null : new Set(entry[1]);\n                converted.set(el, set);\n            });\n            createProxy(value, containerState, flags, converted);\n        }\n    }\n};\nconst reviveNestedObjects = (obj, getObject, parser) => {\n    if (parser.fill(obj)) {\n        return;\n    }\n    if (obj && typeof obj == 'object') {\n        if (isArray(obj)) {\n            for (let i = 0; i < obj.length; i++) {\n                const value = obj[i];\n                if (typeof value == 'string') {\n                    obj[i] = getObject(value);\n                }\n                else {\n                    reviveNestedObjects(value, getObject, parser);\n                }\n            }\n        }\n        else if (isSerializableObject(obj)) {\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    const value = obj[key];\n                    if (typeof value == 'string') {\n                        obj[key] = getObject(value);\n                    }\n                    else {\n                        reviveNestedObjects(value, getObject, parser);\n                    }\n                }\n            }\n        }\n    }\n};\nconst OBJECT_TRANSFORMS = {\n    '!': (obj, containerState) => {\n        return containerState.$proxyMap$.get(obj) ?? getOrCreateProxy(obj, containerState);\n    },\n    '%': (obj) => {\n        return mutable(obj);\n    },\n    '~': (obj) => {\n        return Promise.resolve(obj);\n    },\n    _: (obj) => {\n        return Promise.reject(obj);\n    },\n};\nconst getObjectImpl = (id, elements, objs, containerState) => {\n    assertTrue(typeof id === 'string' && id.length > 0, 'resume: id must be an non-empty string, got:', id);\n    if (id.startsWith(ELEMENT_ID_PREFIX)) {\n        assertTrue(elements.has(id), `missing element for id:`, id);\n        return elements.get(id);\n    }\n    const index = strToInt(id);\n    assertTrue(objs.length > index, 'resume: index is out of bounds', id);\n    let obj = objs[index];\n    for (let i = id.length - 1; i >= 0; i--) {\n        const code = id[i];\n        const transform = OBJECT_TRANSFORMS[code];\n        if (!transform) {\n            break;\n        }\n        obj = transform(obj, containerState);\n    }\n    return obj;\n};\nconst collectProps = async (el, props, collector) => {\n    const subs = collector.$containerState$.$subsManager$.$tryGetLocal$(getProxyTarget(props))?.$subs$;\n    if (subs && subs.has(el)) {\n        // The host element read the props\n        await collectElement(el, collector);\n    }\n};\nconst createCollector = (containerState) => {\n    return {\n        $seen$: new Set(),\n        $seenLeaks$: new Set(),\n        $objMap$: new Map(),\n        $elements$: [],\n        $watches$: [],\n        $containerState$: containerState,\n    };\n};\nconst collectElement = async (el, collector) => {\n    if (collector.$elements$.includes(el)) {\n        return;\n    }\n    const ctx = tryGetContext(el);\n    if (ctx) {\n        collector.$elements$.push(el);\n        if (ctx.$props$) {\n            await collectValue(ctx.$props$, collector, false);\n        }\n        if (ctx.$renderQrl$) {\n            await collectValue(ctx.$renderQrl$, collector, false);\n        }\n        if (ctx.$seq$) {\n            for (const obj of ctx.$seq$) {\n                await collectValue(obj, collector, false);\n            }\n        }\n        if (ctx.$watches$) {\n            for (const obj of ctx.$watches$) {\n                await collectValue(obj, collector, false);\n            }\n        }\n        if (ctx.$contexts$) {\n            for (const obj of ctx.$contexts$.values()) {\n                await collectValue(obj, collector, false);\n            }\n        }\n    }\n};\nexport const escapeText = (str) => {\n    return str.replace(/<(\\/?script)/g, '\\\\x3C$1');\n};\nexport const unescapeText = (str) => {\n    return str.replace(/\\\\x3C(\\/?script)/g, '<$1');\n};\nconst collectSubscriptions = async (target, collector) => {\n    const subs = collector.$containerState$.$subsManager$.$tryGetLocal$(target)?.$subs$;\n    if (subs) {\n        if (collector.$seen$.has(subs)) {\n            return;\n        }\n        collector.$seen$.add(subs);\n        for (const key of Array.from(subs.keys())) {\n            if (isNode(key) && isVirtualElement(key)) {\n                await collectElement(key, collector);\n            }\n            else {\n                await collectValue(key, collector, true);\n            }\n        }\n    }\n};\nconst PROMISE_VALUE = Symbol();\nconst resolvePromise = (promise) => {\n    return promise.then((value) => {\n        const v = {\n            resolved: true,\n            value,\n        };\n        promise[PROMISE_VALUE] = v;\n        return value;\n    }, (value) => {\n        const v = {\n            resolved: false,\n            value,\n        };\n        promise[PROMISE_VALUE] = v;\n        return value;\n    });\n};\nconst getPromiseValue = (promise) => {\n    assertTrue(PROMISE_VALUE in promise, 'pause: promise was not resolved previously', promise);\n    return promise[PROMISE_VALUE];\n};\nconst collectValue = async (obj, collector, leaks) => {\n    const input = obj;\n    const seen = leaks ? collector.$seenLeaks$ : collector.$seen$;\n    if (seen.has(obj)) {\n        return;\n    }\n    seen.add(obj);\n    if (!shouldSerialize(obj) || obj === undefined) {\n        collector.$objMap$.set(obj, undefined);\n        return;\n    }\n    if (obj != null) {\n        // Handle QRL\n        if (isQrl(obj)) {\n            collector.$objMap$.set(obj, obj);\n            if (obj.$captureRef$) {\n                for (const item of obj.$captureRef$) {\n                    await collectValue(item, collector, leaks);\n                }\n            }\n            return;\n        }\n        // Handle Objets\n        if (typeof obj === 'object') {\n            // Handle promises\n            if (isPromise(obj)) {\n                const value = await resolvePromise(obj);\n                await collectValue(value, collector, leaks);\n                return;\n            }\n            const target = getProxyTarget(obj);\n            // Handle dom nodes\n            if (!target && isNode(obj)) {\n                if (isDocument(obj)) {\n                    collector.$objMap$.set(obj, obj);\n                }\n                else if (!isQwikElement(obj)) {\n                    throw qError(QError_verifySerializable, obj);\n                }\n                return;\n            }\n            // If proxy collect subscriptions\n            if (target) {\n                if (leaks) {\n                    await collectSubscriptions(target, collector);\n                }\n                obj = target;\n                if (seen.has(obj)) {\n                    return;\n                }\n                seen.add(obj);\n                if (isResourceReturn(obj)) {\n                    collector.$objMap$.set(target, target);\n                    await collectValue(obj.promise, collector, leaks);\n                    await collectValue(obj.resolved, collector, leaks);\n                    return;\n                }\n            }\n            collector.$objMap$.set(obj, obj);\n            if (isArray(obj)) {\n                for (let i = 0; i < obj.length; i++) {\n                    await collectValue(input[i], collector, leaks);\n                }\n            }\n            else {\n                for (const key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        await collectValue(input[key], collector, leaks);\n                    }\n                }\n            }\n            return;\n        }\n    }\n    collector.$objMap$.set(obj, obj);\n};\nexport const isContainer = (el) => {\n    return isElement(el) && el.hasAttribute(QContainerAttr);\n};\nconst hasQId = (el) => {\n    const node = processVirtualNodes(el);\n    if (isQwikElement(node)) {\n        return node.hasAttribute(ELEMENT_ID);\n    }\n    return false;\n};\nexport const intToStr = (nu) => {\n    return nu.toString(36);\n};\nexport const strToInt = (nu) => {\n    return parseInt(nu, 36);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3RvcmUuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3N0b3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsVUFBVSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDN0QsT0FBTyxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsVUFBVSxFQUFZLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3JFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pHLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ2hELE9BQU8sRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3hGLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEMsT0FBTyxFQUNMLFdBQVcsRUFDWCxnQkFBZ0IsRUFDaEIsYUFBYSxFQUNiLGNBQWMsRUFDZCxXQUFXLEVBQ1gsU0FBUyxFQUNULE9BQU8sRUFDUCxlQUFlLEdBQ2hCLE1BQU0sWUFBWSxDQUFDO0FBQ3BCLE9BQU8sRUFDTCxZQUFZLEVBR1osaUJBQWlCLEdBQ2xCLE1BQU0sa0JBQWtCLENBQUM7QUFFMUIsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMxQyxPQUFPLEVBQ0wsTUFBTSxFQUNOLDZCQUE2QixFQUM3QixzQkFBc0IsRUFDdEIseUJBQXlCLEdBQzFCLE1BQU0sZ0JBQWdCLENBQUM7QUFDeEIsT0FBTyxFQUFFLE9BQU8sRUFBRSxRQUFR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TyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ3pCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLEVBQVUsRUFBRSxFQUFFO0lBQ3JDLE9BQU8sUUFBUSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUMxQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhc3NlcnREZWZpbmVkLCBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBhc3NlcnRRcmwsIGlzUXJsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQgeyBnZXRDb250ZXh0LCBRQ29udGV4dCwgdHJ5R2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSAnLi4vdXRpbC9kb20nO1xuaW1wb3J0IHsgaXNEb2N1bWVudCwgaXNFbGVtZW50LCBpc05vZGUsIGlzUXdpa0VsZW1lbnQsIGlzVmlydHVhbEVsZW1lbnQgfSBmcm9tICcuLi91dGlsL2VsZW1lbnQnO1xuaW1wb3J0IHsgbG9nRGVidWcsIGxvZ1dhcm4gfSBmcm9tICcuLi91dGlsL2xvZyc7XG5pbXBvcnQgeyBFTEVNRU5UX0lELCBFTEVNRU5UX0lEX1BSRUZJWCwgUUNvbnRhaW5lckF0dHIsIFFTdHlsZSB9IGZyb20gJy4uL3V0aWwvbWFya2Vycyc7XG5pbXBvcnQgeyBxRGV2IH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7XG4gIGNyZWF0ZVByb3h5LFxuICBnZXRPckNyZWF0ZVByb3h5LFxuICBnZXRQcm94eUZsYWdzLFxuICBnZXRQcm94eVRhcmdldCxcbiAgaXNDb25uZWN0ZWQsXG4gIGlzTXV0YWJsZSxcbiAgbXV0YWJsZSxcbiAgc2hvdWxkU2VyaWFsaXplLFxufSBmcm9tICcuL3Etb2JqZWN0JztcbmltcG9ydCB7XG4gIGRlc3Ryb3lXYXRjaCxcbiAgU3Vic2NyaWJlcixcbiAgU3Vic2NyaWJlckRlc2NyaXB0b3IsXG4gIFdhdGNoRmxhZ3NJc0RpcnR5LFxufSBmcm9tICcuLi91c2UvdXNlLXdhdGNoJztcbmltcG9ydCB0eXBlIHsgUVJMIH0gZnJvbSAnLi4vaW1wb3J0L3FybC5wdWJsaWMnO1xuaW1wb3J0IHsgZW1pdEV2ZW50IH0gZnJvbSAnLi4vdXRpbC9ldmVudCc7XG5pbXBvcnQge1xuICBxRXJyb3IsXG4gIFFFcnJvcl9jb250YWluZXJBbHJlYWR5UGF1c2VkLFxuICBRRXJyb3JfbWlzc2luZ09iamVjdElkLFxuICBRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlLFxufSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBpc0FycmF5LCBpc09iamVjdCwgaXNTZXJpYWxpemFibGVPYmplY3QsIGlzU3RyaW5nIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyBkaXJlY3RHZXRBdHRyaWJ1dGUsIGRpcmVjdFNldEF0dHJpYnV0ZSB9IGZyb20gJy4uL3JlbmRlci9mYXN0LWNhbGxzJztcbmltcG9ydCB7IGlzTm90TnVsbGFibGUsIGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvcHJvbWlzZXMnO1xuaW1wb3J0IHsgaXNSZXNvdXJjZVJldHVybiB9IGZyb20gJy4uL3VzZS91c2UtcmVzb3VyY2UnO1xuaW1wb3J0IHsgY3JlYXRlUGFyc2VyLCBQYXJzZXIsIHNlcmlhbGl6ZVZhbHVlLCBVTkRFRklORURfUFJFRklYIH0gZnJvbSAnLi9zZXJpYWxpemVycyc7XG5pbXBvcnQgeyBDb250YWluZXJTdGF0ZSwgZ2V0Q29udGFpbmVyU3RhdGUgfSBmcm9tICcuLi9yZW5kZXIvY29udGFpbmVyJztcbmltcG9ydCB7IGdldFFJZCB9IGZyb20gJy4uL3JlbmRlci9leGVjdXRlLWNvbXBvbmVudCc7XG5pbXBvcnQgeyBwcm9jZXNzVmlydHVhbE5vZGVzLCBRd2lrRWxlbWVudCwgVmlydHVhbEVsZW1lbnQgfSBmcm9tICcuLi9yZW5kZXIvZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5pbXBvcnQgeyBnZXREb21MaXN0ZW5lcnMgfSBmcm9tICcuLi9wcm9wcy9wcm9wcy1vbic7XG5cbmV4cG9ydCB0eXBlIEdldE9iamVjdCA9IChpZDogc3RyaW5nKSA9PiBhbnk7XG5leHBvcnQgdHlwZSBHZXRPYmpJRCA9IChvYmo6IGFueSkgPT4gc3RyaW5nIHwgbnVsbDtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjcGF1c2VDb250YWluZXJcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjcGF1c2VDb250YWluZXIgaW5zdGVhZClcbi8qKlxuICogU2VyaWFsaXplIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBhcHBsaWNhdGlvbiBpbnRvIERPTVxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgcGF1c2VDb250YWluZXIgPSBhc3luYyAoXG4gIGVsbU9yRG9jOiBFbGVtZW50IHwgRG9jdW1lbnQsXG4gIGRlZmF1bHRQYXJlbnRKU09OPzogRWxlbWVudFxuKTogUHJvbWlzZTxTbmFwc2hvdFJlc3VsdD4gPT4ge1xuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChlbG1PckRvYyk7XG4gIGNvbnN0IGRvY3VtZW50RWxlbWVudCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIGNvbnN0IGNvbnRhaW5lckVsID0gaXNEb2N1bWVudChlbG1PckRvYykgPyBkb2N1bWVudEVsZW1lbnQgOiBlbG1PckRvYztcbiAgaWYgKGRpcmVjdEdldEF0dHJpYnV0ZShjb250YWluZXJFbCwgUUNvbnRhaW5lckF0dHIpID09PSAncGF1c2VkJykge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfY29udGFpbmVyQWxyZWFkeVBhdXNlZCk7XG4gIH1cbiAgY29uc3QgcGFyZW50SlNPTiA9XG4gICAgZGVmYXVsdFBhcmVudEpTT04gPz8gKGNvbnRhaW5lckVsID09PSBkb2MuZG9jdW1lbnRFbGVtZW50ID8gZG9jLmJvZHkgOiBjb250YWluZXJFbCk7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBwYXVzZUZyb21Db250YWluZXIoY29udGFpbmVyRWwpO1xuICBjb25zdCBzY3JpcHQgPSBkb2MuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIGRpcmVjdFNldEF0dHJpYnV0ZShzY3JpcHQsICd0eXBlJywgJ3F3aWsvanNvbicpO1xuICBzY3JpcHQudGV4dENvbnRlbnQgPSBlc2NhcGVUZXh0KEpTT04uc3RyaW5naWZ5KGRhdGEuc3RhdGUsIHVuZGVmaW5lZCwgcURldiA/ICcgICcgOiB1bmRlZmluZWQpKTtcbiAgcGFyZW50SlNPTi5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICBkaXJlY3RTZXRBdHRyaWJ1dGUoY29udGFpbmVyRWwsIFFDb250YWluZXJBdHRyLCAncGF1c2VkJyk7XG4gIHJldHVybiBkYXRhO1xufTtcblxuZXhwb3J0IGNvbnN0IG1vdmVTdHlsZXMgPSAoY29udGFpbmVyRWw6IEVsZW1lbnQsIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSkgPT4ge1xuICBjb25zdCBoZWFkID0gY29udGFpbmVyRWwub3duZXJEb2N1bWVudC5oZWFkO1xuICBjb250YWluZXJFbC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZVtxXFxcXDpzdHlsZV0nKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnRhaW5lclN0YXRlLiRzdHlsZUlkcyQuYWRkKGRpcmVjdEdldEF0dHJpYnV0ZShlbCwgUVN0eWxlKSEpO1xuICAgIGhlYWQuYXBwZW5kQ2hpbGQoZWwpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCByZXN1bWVDb250YWluZXIgPSAoY29udGFpbmVyRWw6IEVsZW1lbnQpID0+IHtcbiAgaWYgKCFpc0NvbnRhaW5lcihjb250YWluZXJFbCkpIHtcbiAgICBsb2dXYXJuKCdTa2lwcGluZyBoeWRyYXRpb24gYmVjYXVzZSBwYXJlbnQgZWxlbWVudCBpcyBub3QgcTpjb250YWluZXInKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoY29udGFpbmVyRWwpO1xuICBjb25zdCBpc0RvY0VsZW1lbnQgPSBjb250YWluZXJFbCA9PT0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgY29uc3QgcGFyZW50SlNPTiA9IGlzRG9jRWxlbWVudCA/IGRvYy5ib2R5IDogY29udGFpbmVyRWw7XG4gIGNvbnN0IHNjcmlwdCA9IGdldFF3aWtKU09OKHBhcmVudEpTT04pO1xuICBpZiAoIXNjcmlwdCkge1xuICAgIGxvZ1dhcm4oJ1NraXBwaW5nIGh5ZHJhdGlvbiBxd2lrL2pzb24gbWV0YWRhdGEgd2FzIG5vdCBmb3VuZC4nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgc2NyaXB0LnJlbW92ZSgpO1xuXG4gIGNvbnN0IGNvbnRhaW5lclN0YXRlID0gZ2V0Q29udGFpbmVyU3RhdGUoY29udGFpbmVyRWwpO1xuICBtb3ZlU3R5bGVzKGNvbnRhaW5lckVsLCBjb250YWluZXJTdGF0ZSk7XG4gIGNvbnN0IG1ldGEgPSBKU09OLnBhcnNlKHVuZXNjYXBlVGV4dChzY3JpcHQudGV4dENvbnRlbnQgfHwgJ3t9JykpIGFzIFNuYXBzaG90U3RhdGU7XG5cbiAgLy8gQ29sbGVjdCBhbGwgZWxlbWVudHNcbiAgY29uc3QgZWxlbWVudHMgPSBuZXcgTWFwPHN0cmluZywgUXdpa0VsZW1lbnQ+KCk7XG5cbiAgY29uc3QgZ2V0T2JqZWN0OiBHZXRPYmplY3QgPSAoaWQpID0+IHtcbiAgICByZXR1cm4gZ2V0T2JqZWN0SW1wbChpZCwgZWxlbWVudHMsIG1ldGEub2JqcywgY29udGFpbmVyU3RhdGUpO1xuICB9O1xuXG4gIGxldCBtYXhJZCA9IDA7XG4gIGdldE5vZGVzSW5TY29wZShjb250YWluZXJFbCwgaGFzUUlkKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnN0IGlkID0gZGlyZWN0R2V0QXR0cmlidXRlKGVsLCBFTEVNRU5UX0lEKTtcbiAgICBhc3NlcnREZWZpbmVkKGlkLCBgcmVzdW1lOiBlbGVtZW50IG1pc3NlZCBxOmlkYCwgZWwpO1xuICAgIGNvbnN0IGN0eCA9IGdldENvbnRleHQoZWwpO1xuICAgIGN0eC4kaWQkID0gaWQ7XG4gICAgY3R4LiRtb3VudGVkJCA9IHRydWU7XG4gICAgZWxlbWVudHMuc2V0KEVMRU1FTlRfSURfUFJFRklYICsgaWQsIGVsKTtcbiAgICBtYXhJZCA9IE1hdGgubWF4KG1heElkLCBzdHJUb0ludChpZCkpO1xuICB9KTtcbiAgY29udGFpbmVyU3RhdGUuJGVsZW1lbnRJbmRleCQgPSArK21heElkO1xuXG4gIGNvbnN0IHBhcnNlciA9IGNyZWF0ZVBhcnNlcihnZXRPYmplY3QsIGNvbnRhaW5lclN0YXRlLCBkb2MpO1xuXG4gIC8vIFJldml2ZSBwcm94aWVzIHdpdGggc3Vic2NyaXB0aW9ucyBpbnRvIHRoZSBwcm94eW1hcFxuICByZXZpdmVWYWx1ZXMobWV0YS5vYmpzLCBtZXRhLnN1YnMsIGdldE9iamVjdCwgY29udGFpbmVyU3RhdGUsIHBhcnNlcik7XG5cbiAgLy8gUmVidWlsZCB0YXJnZXQgb2JqZWN0c1xuICBmb3IgKGNvbnN0IG9iaiBvZiBtZXRhLm9ianMpIHtcbiAgICByZXZpdmVOZXN0ZWRPYmplY3RzKG9iaiwgZ2V0T2JqZWN0LCBwYXJzZXIpO1xuICB9XG5cbiAgT2JqZWN0LmVudHJpZXMobWV0YS5jdHgpLmZvckVhY2goKFtlbGVtZW50SUQsIGN0eE1ldGFdKSA9PiB7XG4gICAgY29uc3QgZWwgPSBnZXRPYmplY3QoZWxlbWVudElEKSBhcyBRd2lrRWxlbWVudDtcbiAgICBhc3NlcnREZWZpbmVkKGVsLCBgcmVzdW1lOiBjYW50IGZpbmQgZG9tIG5vZGUgZm9yIGlkYCwgZWxlbWVudElEKTtcbiAgICBjb25zdCBjdHggPSBnZXRDb250ZXh0KGVsKTtcbiAgICBjb25zdCBxb2JqID0gY3R4TWV0YS5yO1xuICAgIGNvbnN0IHNlcSA9IGN0eE1ldGEucztcbiAgICBjb25zdCBob3N0ID0gY3R4TWV0YS5oO1xuICAgIGNvbnN0IGNvbnRleHRzID0gY3R4TWV0YS5jO1xuICAgIGNvbnN0IHdhdGNoZXMgPSBjdHhNZXRhLnc7XG5cbiAgICBpZiAocW9iaikge1xuICAgICAgYXNzZXJ0VHJ1ZShpc0VsZW1lbnQoZWwpLCAnZWwgbXVzdCBiZSBhbiBhY3R1YWwgRE9NIGVsZW1lbnQnKTtcbiAgICAgIGN0eC4kcmVmTWFwJC5wdXNoKC4uLnFvYmouc3BsaXQoJyAnKS5tYXAoZ2V0T2JqZWN0KSk7XG4gICAgICBjdHgubGkgPSBnZXREb21MaXN0ZW5lcnMoY3R4LCBjb250YWluZXJFbCk7XG4gICAgfVxuICAgIGlmIChzZXEpIHtcbiAgICAgIGN0eC4kc2VxJCA9IHNlcS5zcGxpdCgnICcpLm1hcChnZXRPYmplY3QpO1xuICAgIH1cbiAgICBpZiAod2F0Y2hlcykge1xuICAgICAgY3R4LiR3YXRjaGVzJCA9IHdhdGNoZXMuc3BsaXQoJyAnKS5tYXAoZ2V0T2JqZWN0KTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHRzKSB7XG4gICAgICBjb250ZXh0cy5zcGxpdCgnICcpLm1hcCgocGFydCkgPT4ge1xuICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBwYXJ0LnNwbGl0KCc9Jyk7XG4gICAgICAgIGlmICghY3R4LiRjb250ZXh0cyQpIHtcbiAgICAgICAgICBjdHguJGNvbnRleHRzJCA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguJGNvbnRleHRzJC5zZXQoa2V5LCBnZXRPYmplY3QodmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlc3RvcmUgc2VxdWVuY2Ugc2NvcGluZ1xuICAgIGlmIChob3N0KSB7XG4gICAgICBjb25zdCBbcHJvcHMsIHJlbmRlclFybF0gPSBob3N0LnNwbGl0KCcgJyk7XG4gICAgICBhc3NlcnREZWZpbmVkKHByb3BzLCBgcmVzdW1lOiBwcm9wcyBtaXNzaW5nIGluIGhvc3QgbWV0YWRhdGFgLCBob3N0KTtcbiAgICAgIGFzc2VydERlZmluZWQocmVuZGVyUXJsLCBgcmVzdW1lOiByZW5kZXJRUkwgbWlzc2luZyBpbiBob3N0IG1ldGFkYXRhYCwgaG9zdCk7XG4gICAgICBjdHguJHByb3BzJCA9IGdldE9iamVjdChwcm9wcyk7XG4gICAgICBjdHguJHJlbmRlclFybCQgPSBnZXRPYmplY3QocmVuZGVyUXJsKTtcbiAgICB9XG4gIH0pO1xuXG4gIGRpcmVjdFNldEF0dHJpYnV0ZShjb250YWluZXJFbCwgUUNvbnRhaW5lckF0dHIsICdyZXN1bWVkJyk7XG4gIGxvZ0RlYnVnKCdDb250YWluZXIgcmVzdW1lZCcpO1xuICBlbWl0RXZlbnQoY29udGFpbmVyRWwsICdxcmVzdW1lJywgdW5kZWZpbmVkLCB0cnVlKTtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU25hcHNob3RNZXRhVmFsdWUge1xuICByPzogc3RyaW5nOyAvLyBxOm9ialxuICB3Pzogc3RyaW5nOyAvLyBxOndhdGNoZXNcbiAgcz86IHN0cmluZzsgLy8gcTpzZXFcbiAgaD86IHN0cmluZzsgLy8gcTpob3N0XG4gIGM/OiBzdHJpbmc7IC8vIHE6Y29udGV4dFxufVxuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgdHlwZSBTbmFwc2hvdE1ldGEgPSBSZWNvcmQ8c3RyaW5nLCBTbmFwc2hvdE1ldGFWYWx1ZT47XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU25hcHNob3RTdGF0ZSB7XG4gIGN0eDogU25hcHNob3RNZXRhO1xuICBvYmpzOiBhbnlbXTtcbiAgc3ViczogYW55W107XG59XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU25hcHNob3RMaXN0ZW5lciB7XG4gIGtleTogc3RyaW5nO1xuICBxcmw6IFFSTDxhbnk+O1xuICBlbDogRWxlbWVudDtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTbmFwc2hvdFJlc3VsdCB7XG4gIHN0YXRlOiBTbmFwc2hvdFN0YXRlO1xuICBsaXN0ZW5lcnM6IFNuYXBzaG90TGlzdGVuZXJbXTtcbiAgb2JqczogYW55W107XG4gIG1vZGU6ICdyZW5kZXInIHwgJ2xpc3RlbmVycycgfCAnc3RhdGljJztcbiAgcGVuZGluZ0NvbnRlbnQ6IFByb21pc2U8c3RyaW5nPltdO1xufVxuXG5leHBvcnQgY29uc3QgcGF1c2VGcm9tQ29udGFpbmVyID0gYXN5bmMgKGNvbnRhaW5lckVsOiBFbGVtZW50KTogUHJvbWlzZTxTbmFwc2hvdFJlc3VsdD4gPT4ge1xuICBjb25zdCBjb250YWluZXJTdGF0ZSA9IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKTtcbiAgY29uc3QgY29udGV4dHMgPSBnZXROb2Rlc0luU2NvcGUoY29udGFpbmVyRWwsIGhhc1FJZCkubWFwKHRyeUdldENvbnRleHQpIGFzIFFDb250ZXh0W107XG4gIHJldHVybiBfcGF1c2VGcm9tQ29udGV4dHMoY29udGV4dHMsIGNvbnRhaW5lclN0YXRlKTtcbn07XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBfcGF1c2VGcm9tQ29udGV4dHMgPSBhc3luYyAoXG4gIGVsZW1lbnRzOiBRQ29udGV4dFtdLFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGVcbik6IFByb21pc2U8U25hcHNob3RSZXN1bHQ+ID0+IHtcbiAgY29uc3QgZWxlbWVudFRvSW5kZXggPSBuZXcgTWFwPFF3aWtFbGVtZW50LCBzdHJpbmcgfCBudWxsPigpO1xuICBjb25zdCBjb2xsZWN0b3IgPSBjcmVhdGVDb2xsZWN0b3IoY29udGFpbmVyU3RhdGUpO1xuICBjb25zdCBsaXN0ZW5lcnM6IFNuYXBzaG90TGlzdGVuZXJbXSA9IFtdO1xuICBmb3IgKGNvbnN0IGN0eCBvZiBlbGVtZW50cykge1xuICAgIGNvbnN0IGVsID0gY3R4LiRlbGVtZW50JDtcbiAgICBpZiAoaXNFbGVtZW50KGVsKSkge1xuICAgICAgT2JqZWN0LmVudHJpZXMoY3R4LmxpKS5mb3JFYWNoKChba2V5LCBxcmxzXSkgPT4ge1xuICAgICAgICBxcmxzLmZvckVhY2goKHFybCkgPT4ge1xuICAgICAgICAgIGxpc3RlbmVycy5wdXNoKHtcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIHFybCxcbiAgICAgICAgICAgIGVsLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY3R4LiR3YXRjaGVzJCkge1xuICAgICAgZm9yIChjb25zdCB3YXRjaCBvZiBjdHguJHdhdGNoZXMkKSB7XG4gICAgICAgIGNvbGxlY3Rvci4kd2F0Y2hlcyQucHVzaCh3YXRjaCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTm8gbGlzdGVuZXJzIGltcGxpZXMgc3RhdGljIHBhZ2VcbiAgaWYgKGxpc3RlbmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RhdGU6IHtcbiAgICAgICAgY3R4OiB7fSxcbiAgICAgICAgb2JqczogW10sXG4gICAgICAgIHN1YnM6IFtdLFxuICAgICAgfSxcbiAgICAgIG9ianM6IFtdLFxuICAgICAgbGlzdGVuZXJzOiBbXSxcbiAgICAgIHBlbmRpbmdDb250ZW50OiBbXSxcbiAgICAgIG1vZGU6ICdzdGF0aWMnLFxuICAgIH07XG4gIH1cblxuICAvLyBMaXN0ZW5lcnMgYmVjb21lcyB0aGUgYXBwIHJvb3RzXG4gIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgbGlzdGVuZXJzKSB7XG4gICAgYXNzZXJ0UXJsKGxpc3RlbmVyLnFybCk7XG4gICAgY29uc3QgY2FwdHVyZWQgPSBsaXN0ZW5lci5xcmwuJGNhcHR1cmVSZWYkO1xuICAgIGlmIChjYXB0dXJlZCkge1xuICAgICAgZm9yIChjb25zdCBvYmogb2YgY2FwdHVyZWQpIHtcbiAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKG9iaiwgY29sbGVjdG9yLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY3R4ID0gdHJ5R2V0Q29udGV4dChsaXN0ZW5lci5lbCkhO1xuICAgIGZvciAoY29uc3Qgb2JqIG9mIGN0eC4kcmVmTWFwJCkge1xuICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKG9iaiwgY29sbGVjdG9yLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvLyBJZiBhdCB0aGlzIHBvaW50IGFueSBjb21wb25lbnQgY2FuIHJlbmRlciwgd2UgbmVlZCB0byBjYXB0dXJlIENvbnRleHQgYW5kIFByb3BzXG4gIGNvbnN0IGNhblJlbmRlciA9IGNvbGxlY3Rvci4kZWxlbWVudHMkLmxlbmd0aCA+IDA7XG4gIGlmIChjYW5SZW5kZXIpIHtcbiAgICBmb3IgKGNvbnN0IGN0eCBvZiBlbGVtZW50cykge1xuICAgICAgaWYgKGlzVmlydHVhbEVsZW1lbnQoY3R4LiRlbGVtZW50JCkpIHtcbiAgICAgICAgYXdhaXQgY29sbGVjdFByb3BzKGN0eC4kZWxlbWVudCQsIGN0eC4kcHJvcHMkLCBjb2xsZWN0b3IpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY3R4LiRjb250ZXh0cyQpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGN0eC4kY29udGV4dHMkLnZhbHVlcygpKSB7XG4gICAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKGl0ZW0sIGNvbGxlY3RvciwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29udmVydCBvYmpTZXQgdG8gYXJyYXlcbiAgY29uc3Qgb2JqcyA9IEFycmF5LmZyb20obmV3IFNldChjb2xsZWN0b3IuJG9iak1hcCQudmFsdWVzKCkpKTtcblxuICBjb25zdCBvYmpUb0lkID0gbmV3IE1hcDxhbnksIG51bWJlcj4oKTtcblxuICBjb25zdCBnZXRFbGVtZW50SUQgPSAoZWw6IFF3aWtFbGVtZW50KTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gICAgbGV0IGlkID0gZWxlbWVudFRvSW5kZXguZ2V0KGVsKTtcbiAgICBpZiAoaWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGVsLmlzQ29ubmVjdGVkKSB7XG4gICAgICAgIGlkID0gZ2V0UUlkKGVsKTtcbiAgICAgICAgaWYgKCFpZCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignTWlzc2luZyBJRCcsIGVsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZCA9IEVMRU1FTlRfSURfUFJFRklYICsgaWQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnRUb0luZGV4LnNldChlbCwgaWQpO1xuICAgIH1cbiAgICByZXR1cm4gaWQ7XG4gIH07XG5cbiAgY29uc3QgZ2V0T2JqSWQgPSAob2JqOiBhbnkpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgICBsZXQgc3VmZml4ID0gJyc7XG4gICAgaWYgKGlzTXV0YWJsZShvYmopKSB7XG4gICAgICBvYmogPSBvYmoudjtcbiAgICAgIHN1ZmZpeCA9ICclJztcbiAgICB9XG4gICAgaWYgKGlzUHJvbWlzZShvYmopKSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCByZXNvbHZlZCB9ID0gZ2V0UHJvbWlzZVZhbHVlKG9iaik7XG4gICAgICBvYmogPSB2YWx1ZTtcbiAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICBzdWZmaXggKz0gJ34nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3VmZml4ICs9ICdfJztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KG9iaikpIHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGdldFByb3h5VGFyZ2V0KG9iaik7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIHN1ZmZpeCArPSAnISc7XG4gICAgICAgIG9iaiA9IHRhcmdldDtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0YXJnZXQgJiYgaXNRd2lrRWxlbWVudChvYmopKSB7XG4gICAgICAgIGNvbnN0IGVsSUQgPSBnZXRFbGVtZW50SUQob2JqIGFzIEVsZW1lbnQpO1xuICAgICAgICBpZiAoZWxJRCkge1xuICAgICAgICAgIHJldHVybiBlbElEICsgc3VmZml4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY29sbGVjdG9yLiRvYmpNYXAkLmhhcyhvYmopKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGNvbGxlY3Rvci4kb2JqTWFwJC5nZXQob2JqKTtcbiAgICAgIGNvbnN0IGlkID0gb2JqVG9JZC5nZXQodmFsdWUpO1xuICAgICAgYXNzZXJ0VHJ1ZSh0eXBlb2YgaWQgPT09ICdudW1iZXInLCAnQ2FuIG5vdCBmaW5kIElEIGZvciBvYmplY3QnKTtcbiAgICAgIHJldHVybiBpbnRUb1N0cihpZCBhcyBhbnkpICsgc3VmZml4O1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICBjb25zdCBtdXN0R2V0T2JqSWQgPSAob2JqOiBhbnkpOiBzdHJpbmcgPT4ge1xuICAgIGNvbnN0IGtleSA9IGdldE9iaklkKG9iaik7XG4gICAgaWYgKGtleSA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgcUVycm9yKFFFcnJvcl9taXNzaW5nT2JqZWN0SWQsIG9iaik7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH07XG5cbiAgLy8gQ29tcHV0ZSBzdWJzY3JpcHRpb25zXG4gIGNvbnN0IHN1YnNNYXAgPSBuZXcgTWFwPFxuICAgIGFueSxcbiAgICB7IHN1YnNjcmliZXI6IFN1YnNjcmliZXIgfCAnJCc7IGRhdGE6IHN0cmluZ1tdIHwgbnVtYmVyIHwgbnVsbCB9W11cbiAgPigpO1xuICBvYmpzLmZvckVhY2goKG9iaikgPT4ge1xuICAgIGNvbnN0IGZsYWdzID0gZ2V0UHJveHlGbGFncyhjb250YWluZXJTdGF0ZS4kcHJveHlNYXAkLmdldChvYmopKTtcbiAgICBpZiAoZmxhZ3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdWJzT2JqOiB7IHN1YnNjcmliZXI6IFN1YnNjcmliZXIgfCAnJCc7IGRhdGE6IHN0cmluZ1tdIHwgbnVtYmVyIHwgbnVsbCB9W10gPSBbXTtcbiAgICBpZiAoZmxhZ3MgPiAwKSB7XG4gICAgICBzdWJzT2JqLnB1c2goe1xuICAgICAgICBzdWJzY3JpYmVyOiAnJCcsXG4gICAgICAgIGRhdGE6IGZsYWdzLFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHN1YnMgPSBjb250YWluZXJTdGF0ZS4kc3Vic01hbmFnZXIkLiR0cnlHZXRMb2NhbCQob2JqKT8uJHN1YnMkO1xuICAgIGlmIChzdWJzKSB7XG4gICAgICBzdWJzLmZvckVhY2goKHNldCwga2V5KSA9PiB7XG4gICAgICAgIGlmIChpc05vZGUoa2V5KSAmJiBpc1ZpcnR1YWxFbGVtZW50KGtleSkpIHtcbiAgICAgICAgICBpZiAoIWNvbGxlY3Rvci4kZWxlbWVudHMkLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3Vic09iai5wdXNoKHtcbiAgICAgICAgICBzdWJzY3JpYmVyOiBrZXksXG4gICAgICAgICAgZGF0YTogc2V0ID8gQXJyYXkuZnJvbShzZXQpIDogbnVsbCxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHN1YnNPYmoubGVuZ3RoID4gMCkge1xuICAgICAgc3Vic01hcC5zZXQob2JqLCBzdWJzT2JqKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFNvcnQgb2JqZWN0czogdGhlIG9uZXMgd2l0aCBzdWJzY3JpcHRpb25zIGdvIGZpcnN0XG4gIG9ianMuc29ydCgoYSwgYikgPT4ge1xuICAgIGNvbnN0IGlzUHJveHlBID0gc3Vic01hcC5oYXMoYSkgPyAwIDogMTtcbiAgICBjb25zdCBpc1Byb3h5QiA9IHN1YnNNYXAuaGFzKGIpID8gMCA6IDE7XG4gICAgcmV0dXJuIGlzUHJveHlBIC0gaXNQcm94eUI7XG4gIH0pO1xuXG4gIC8vIEdlbmVyYXRlIG9iamVjdCBJRCBieSB1c2luZyBhIG1vbm90b25pYyBjb3VudGVyXG4gIGxldCBjb3VudCA9IDA7XG4gIGZvciAoY29uc3Qgb2JqIG9mIG9ianMpIHtcbiAgICBvYmpUb0lkLnNldChvYmosIGNvdW50KTtcbiAgICBjb3VudCsrO1xuICB9XG5cbiAgLy8gU2VyaWFsaXplIG9iamVjdCBzdWJzY3JpcHRpb25zXG4gIGNvbnN0IHN1YnMgPSBvYmpzXG4gICAgLm1hcCgob2JqKSA9PiB7XG4gICAgICBjb25zdCBzdWIgPSBzdWJzTWFwLmdldChvYmopO1xuICAgICAgaWYgKCFzdWIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBjb25zdCBzdWJzT2JqOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXSB8IG51bWJlciB8IG51bGw+ID0ge307XG4gICAgICBzdWIuZm9yRWFjaCgoeyBzdWJzY3JpYmVyLCBkYXRhIH0pID0+IHtcbiAgICAgICAgaWYgKHN1YnNjcmliZXIgPT09ICckJykge1xuICAgICAgICAgIHN1YnNPYmpbc3Vic2NyaWJlcl0gPSBkYXRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGlkID0gZ2V0T2JqSWQoc3Vic2NyaWJlcik7XG4gICAgICAgICAgaWYgKGlkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJzT2JqW2lkXSA9IGRhdGE7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzdWJzT2JqO1xuICAgIH0pXG4gICAgLmZpbHRlcihpc05vdE51bGxhYmxlKTtcblxuICAvLyBTZXJpYWxpemUgb2JqZWN0c1xuICBjb25zdCBjb252ZXJ0ZWRPYmpzID0gb2Jqcy5tYXAoKG9iaikgPT4ge1xuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB0eXBlT2JqID0gdHlwZW9mIG9iajtcbiAgICBzd2l0Y2ggKHR5cGVPYmopIHtcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiBVTkRFRklORURfUFJFRklYO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuIG9iajtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzZXJpYWxpemVWYWx1ZShvYmosIGdldE9iaklkLCBjb250YWluZXJTdGF0ZSk7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlT2JqID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmoubWFwKG11c3RHZXRPYmpJZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1NlcmlhbGl6YWJsZU9iamVjdChvYmopKSB7XG4gICAgICAgICAgICBjb25zdCBvdXRwdXQ6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcbiAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKG9iaikuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgICAgICAgIG91dHB1dFtrZXldID0gbXVzdEdldE9iaklkKHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRocm93IHFFcnJvcihRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlLCBvYmopO1xuICB9KTtcblxuICBjb25zdCBtZXRhOiBTbmFwc2hvdE1ldGEgPSB7fTtcblxuICAvLyBXcml0ZSBiYWNrIHRvIHRoZSBkb21cbiAgZWxlbWVudHMuZm9yRWFjaCgoY3R4KSA9PiB7XG4gICAgY29uc3Qgbm9kZSA9IGN0eC4kZWxlbWVudCQ7XG4gICAgYXNzZXJ0RGVmaW5lZChjdHgsIGBwYXVzZTogbWlzc2luZyBjb250ZXh0IGZvciBkb20gbm9kZWAsIG5vZGUpO1xuXG4gICAgY29uc3QgcmVmID0gY3R4LiRyZWZNYXAkO1xuICAgIGNvbnN0IHByb3BzID0gY3R4LiRwcm9wcyQ7XG4gICAgY29uc3QgY29udGV4dHMgPSBjdHguJGNvbnRleHRzJDtcbiAgICBjb25zdCB3YXRjaGVzID0gY3R4LiR3YXRjaGVzJDtcbiAgICBjb25zdCByZW5kZXJRcmwgPSBjdHguJHJlbmRlclFybCQ7XG4gICAgY29uc3Qgc2VxID0gY3R4LiRzZXEkO1xuICAgIGNvbnN0IG1ldGFWYWx1ZTogU25hcHNob3RNZXRhVmFsdWUgPSB7fTtcbiAgICBjb25zdCBlbGVtZW50Q2FwdHVyZWQgPSBpc1ZpcnR1YWxFbGVtZW50KG5vZGUpICYmIGNvbGxlY3Rvci4kZWxlbWVudHMkLmluY2x1ZGVzKG5vZGUpO1xuXG4gICAgbGV0IGFkZCA9IGZhbHNlO1xuICAgIGlmIChyZWYubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgdmFsdWUgPSByZWYubWFwKG11c3RHZXRPYmpJZCkuam9pbignICcpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIG1ldGFWYWx1ZS5yID0gdmFsdWU7XG4gICAgICAgIGFkZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNhblJlbmRlcikge1xuICAgICAgaWYgKGVsZW1lbnRDYXB0dXJlZCAmJiBwcm9wcykge1xuICAgICAgICBjb25zdCBvYmpzID0gW3Byb3BzXTtcbiAgICAgICAgaWYgKHJlbmRlclFybCkge1xuICAgICAgICAgIG9ianMucHVzaChyZW5kZXJRcmwpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlID0gb2Jqcy5tYXAobXVzdEdldE9iaklkKS5qb2luKCcgJyk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIG1ldGFWYWx1ZS5oID0gdmFsdWU7XG4gICAgICAgICAgYWRkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAod2F0Y2hlcyAmJiB3YXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB3YXRjaGVzLm1hcChnZXRPYmpJZCkuZmlsdGVyKGlzTm90TnVsbGFibGUpLmpvaW4oJyAnKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgbWV0YVZhbHVlLncgPSB2YWx1ZTtcbiAgICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChlbGVtZW50Q2FwdHVyZWQgJiYgc2VxICYmIHNlcS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc2VxLm1hcChtdXN0R2V0T2JqSWQpLmpvaW4oJyAnKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgbWV0YVZhbHVlLnMgPSB2YWx1ZTtcbiAgICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChjb250ZXh0cykge1xuICAgICAgICBjb25zdCBzZXJpYWxpemVkQ29udGV4dHM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGNvbnRleHRzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBzZXJpYWxpemVkQ29udGV4dHMucHVzaChgJHtrZXl9PSR7bXVzdEdldE9iaklkKHZhbHVlKX1gKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gc2VyaWFsaXplZENvbnRleHRzLmpvaW4oJyAnKTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgbWV0YVZhbHVlLmMgPSB2YWx1ZTtcbiAgICAgICAgICBhZGQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGFkZCkge1xuICAgICAgY29uc3QgZWxlbWVudElEID0gZ2V0RWxlbWVudElEKG5vZGUpO1xuICAgICAgYXNzZXJ0RGVmaW5lZChlbGVtZW50SUQsIGBwYXVzZTogY2FuIG5vdCBnZW5lcmF0ZSBJRCBmb3IgZG9tIG5vZGVgLCBub2RlKTtcbiAgICAgIG1ldGFbZWxlbWVudElEXSA9IG1ldGFWYWx1ZTtcbiAgICB9XG4gIH0pO1xuXG4gIGNvbnN0IHBlbmRpbmdDb250ZW50OiBQcm9taXNlPHN0cmluZz5bXSA9IFtdO1xuICBmb3IgKGNvbnN0IHdhdGNoIG9mIGNvbGxlY3Rvci4kd2F0Y2hlcyQpIHtcbiAgICBpZiAocURldikge1xuICAgICAgaWYgKHdhdGNoLiRmbGFncyQgJiBXYXRjaEZsYWdzSXNEaXJ0eSkge1xuICAgICAgICBsb2dXYXJuKCdTZXJpYWxpemluZyBkaXJ0eSB3YXRjaC4gTG9va3MgbGlrZSBhbiBpbnRlcm5hbCBlcnJvci4nKTtcbiAgICAgIH1cbiAgICAgIGlmICghaXNDb25uZWN0ZWQod2F0Y2gpKSB7XG4gICAgICAgIGxvZ1dhcm4oJ1NlcmlhbGl6aW5nIGRpc2Nvbm5ldGVkIHdhdGNoLiBMb29rcyBsaWtlIGFuIGludGVybmFsIGVycm9yLicpO1xuICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95V2F0Y2god2F0Y2gpO1xuICB9XG5cbiAgLy8gU2FuaXR5IGNoZWNrIG9mIHNlcmlhbGl6ZWQgZWxlbWVudFxuICBpZiAocURldikge1xuICAgIGVsZW1lbnRUb0luZGV4LmZvckVhY2goKHZhbHVlLCBlbCkgPT4ge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICBsb2dXYXJuKCd1bmNvbm5lY3RlZCBlbGVtZW50JywgZWwubm9kZU5hbWUsICdcXG4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhdGU6IHtcbiAgICAgIGN0eDogbWV0YSxcbiAgICAgIG9ianM6IGNvbnZlcnRlZE9ianMsXG4gICAgICBzdWJzLFxuICAgIH0sXG4gICAgcGVuZGluZ0NvbnRlbnQsXG4gICAgb2JqcyxcbiAgICBsaXN0ZW5lcnMsXG4gICAgbW9kZTogY2FuUmVuZGVyID8gJ3JlbmRlcicgOiAnbGlzdGVuZXJzJyxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRRd2lrSlNPTiA9IChwYXJlbnRFbG06IEVsZW1lbnQpOiBIVE1MU2NyaXB0RWxlbWVudCB8IHVuZGVmaW5lZCA9PiB7XG4gIGxldCBjaGlsZCA9IHBhcmVudEVsbS5sYXN0RWxlbWVudENoaWxkO1xuICB3aGlsZSAoY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQudGFnTmFtZSA9PT0gJ1NDUklQVCcgJiYgZGlyZWN0R2V0QXR0cmlidXRlKGNoaWxkLCAndHlwZScpID09PSAncXdpay9qc29uJykge1xuICAgICAgcmV0dXJuIGNoaWxkIGFzIEhUTUxTY3JpcHRFbGVtZW50O1xuICAgIH1cbiAgICBjaGlsZCA9IGNoaWxkLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbmNvbnN0IFNIT1dfRUxFTUVOVCA9IDE7XG5jb25zdCBTSE9XX0NPTU1FTlQgPSAxMjg7XG5jb25zdCBGSUxURVJfQUNDRVBUID0gMTtcbmNvbnN0IEZJTFRFUl9SRUpFQ1QgPSAyO1xuY29uc3QgRklMVEVSX1NLSVAgPSAzO1xuXG5leHBvcnQgY29uc3QgZ2V0Tm9kZXNJblNjb3BlID0gKHBhcmVudDogRWxlbWVudCwgcHJlZGljYXRlOiAoZWw6IE5vZGUpID0+IGJvb2xlYW4pID0+IHtcbiAgY29uc3Qgbm9kZXM6IEVsZW1lbnRbXSA9IFtdO1xuICBpZiAocHJlZGljYXRlKHBhcmVudCkpIHtcbiAgICBub2Rlcy5wdXNoKHBhcmVudCk7XG4gIH1cbiAgY29uc3Qgd2Fsa2VyID0gcGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihwYXJlbnQsIFNIT1dfRUxFTUVOVCB8IFNIT1dfQ09NTUVOVCwge1xuICAgIGFjY2VwdE5vZGUobm9kZSkge1xuICAgICAgaWYgKGlzQ29udGFpbmVyKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBGSUxURVJfUkVKRUNUO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByZWRpY2F0ZShub2RlKSA/IEZJTFRFUl9BQ0NFUFQgOiBGSUxURVJfU0tJUDtcbiAgICB9LFxuICB9KTtcbiAgY29uc3QgcGFyczogUXdpa0VsZW1lbnRbXSA9IFtdO1xuICBsZXQgY3VycmVudE5vZGU6IE5vZGUgfCBudWxsID0gbnVsbDtcbiAgd2hpbGUgKChjdXJyZW50Tm9kZSA9IHdhbGtlci5uZXh0Tm9kZSgpKSkge1xuICAgIHBhcnMucHVzaChwcm9jZXNzVmlydHVhbE5vZGVzKGN1cnJlbnROb2RlKSBhcyBFbGVtZW50KTtcbiAgfVxuICByZXR1cm4gcGFycztcbn07XG5cbmNvbnN0IHJldml2ZVZhbHVlcyA9IChcbiAgb2JqczogYW55W10sXG4gIHN1YnM6IGFueVtdLFxuICBnZXRPYmplY3Q6IEdldE9iamVjdCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBwYXJzZXI6IFBhcnNlclxuKSA9PiB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb2Jqcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gb2Jqc1tpXTtcbiAgICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICBvYmpzW2ldID0gdmFsdWUgPT09IFVOREVGSU5FRF9QUkVGSVggPyB1bmRlZmluZWQgOiBwYXJzZXIucHJlcGFyZSh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3Vicy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHZhbHVlID0gb2Jqc1tpXTtcbiAgICBjb25zdCBzdWIgPSBzdWJzW2ldO1xuICAgIGlmIChzdWIpIHtcbiAgICAgIGNvbnN0IGNvbnZlcnRlZCA9IG5ldyBNYXAoKTtcbiAgICAgIGxldCBmbGFncyA9IDA7XG4gICAgICBPYmplY3QuZW50cmllcyhzdWIpLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeVswXSA9PT0gJyQnKSB7XG4gICAgICAgICAgZmxhZ3MgPSBlbnRyeVsxXSBhcyBudW1iZXI7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVsID0gZ2V0T2JqZWN0KGVudHJ5WzBdKTtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgIGxvZ1dhcm4oJ1FXSUsgY2FuIG5vdCByZXZpdmUgc3Vic2NyaXB0aW9ucyBiZWNhdXNlIG9mIG1pc3NpbmcgZWxlbWVudCBJRCcsIGVudHJ5LCB2YWx1ZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNldCA9IGVudHJ5WzFdID09PSBudWxsID8gbnVsbCA6IChuZXcgU2V0KGVudHJ5WzFdIGFzIGFueSkgYXMgU2V0PHN0cmluZz4pO1xuICAgICAgICBjb252ZXJ0ZWQuc2V0KGVsLCBzZXQpO1xuICAgICAgfSk7XG4gICAgICBjcmVhdGVQcm94eSh2YWx1ZSwgY29udGFpbmVyU3RhdGUsIGZsYWdzLCBjb252ZXJ0ZWQpO1xuICAgIH1cbiAgfVxufTtcblxuY29uc3QgcmV2aXZlTmVzdGVkT2JqZWN0cyA9IChvYmo6IGFueSwgZ2V0T2JqZWN0OiBHZXRPYmplY3QsIHBhcnNlcjogUGFyc2VyKSA9PiB7XG4gIGlmIChwYXJzZXIuZmlsbChvYmopKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09ICdvYmplY3QnKSB7XG4gICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBvYmpbaV0gPSBnZXRPYmplY3QodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldml2ZU5lc3RlZE9iamVjdHModmFsdWUsIGdldE9iamVjdCwgcGFyc2VyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNTZXJpYWxpemFibGVPYmplY3Qob2JqKSkge1xuICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IGdldE9iamVjdCh2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldml2ZU5lc3RlZE9iamVjdHModmFsdWUsIGdldE9iamVjdCwgcGFyc2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IE9CSkVDVF9UUkFOU0ZPUk1TOiBSZWNvcmQ8c3RyaW5nLCAob2JqOiBhbnksIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSkgPT4gYW55PiA9IHtcbiAgJyEnOiAob2JqOiBhbnksIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSkgPT4ge1xuICAgIHJldHVybiBjb250YWluZXJTdGF0ZS4kcHJveHlNYXAkLmdldChvYmopID8/IGdldE9yQ3JlYXRlUHJveHkob2JqLCBjb250YWluZXJTdGF0ZSk7XG4gIH0sXG4gICclJzogKG9iajogYW55KSA9PiB7XG4gICAgcmV0dXJuIG11dGFibGUob2JqKTtcbiAgfSxcbiAgJ34nOiAob2JqOiBhbnkpID0+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG9iaik7XG4gIH0sXG4gIF86IChvYmo6IGFueSkgPT4ge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChvYmopO1xuICB9LFxufTtcblxuY29uc3QgZ2V0T2JqZWN0SW1wbCA9IChcbiAgaWQ6IHN0cmluZyxcbiAgZWxlbWVudHM6IE1hcDxzdHJpbmcsIFF3aWtFbGVtZW50PixcbiAgb2JqczogYW55W10sXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZVxuKSA9PiB7XG4gIGFzc2VydFRydWUoXG4gICAgdHlwZW9mIGlkID09PSAnc3RyaW5nJyAmJiBpZC5sZW5ndGggPiAwLFxuICAgICdyZXN1bWU6IGlkIG11c3QgYmUgYW4gbm9uLWVtcHR5IHN0cmluZywgZ290OicsXG4gICAgaWRcbiAgKTtcblxuICBpZiAoaWQuc3RhcnRzV2l0aChFTEVNRU5UX0lEX1BSRUZJWCkpIHtcbiAgICBhc3NlcnRUcnVlKGVsZW1lbnRzLmhhcyhpZCksIGBtaXNzaW5nIGVsZW1lbnQgZm9yIGlkOmAsIGlkKTtcbiAgICByZXR1cm4gZWxlbWVudHMuZ2V0KGlkKTtcbiAgfVxuICBjb25zdCBpbmRleCA9IHN0clRvSW50KGlkKTtcbiAgYXNzZXJ0VHJ1ZShvYmpzLmxlbmd0aCA+IGluZGV4LCAncmVzdW1lOiBpbmRleCBpcyBvdXQgb2YgYm91bmRzJywgaWQpO1xuICBsZXQgb2JqID0gb2Jqc1tpbmRleF07XG4gIGZvciAobGV0IGkgPSBpZC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IGNvZGUgPSBpZFtpXTtcbiAgICBjb25zdCB0cmFuc2Zvcm0gPSBPQkpFQ1RfVFJBTlNGT1JNU1tjb2RlXTtcbiAgICBpZiAoIXRyYW5zZm9ybSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIG9iaiA9IHRyYW5zZm9ybShvYmosIGNvbnRhaW5lclN0YXRlKTtcbiAgfVxuICByZXR1cm4gb2JqO1xufTtcblxuY29uc3QgY29sbGVjdFByb3BzID0gYXN5bmMgKGVsOiBWaXJ0dWFsRWxlbWVudCwgcHJvcHM6IGFueSwgY29sbGVjdG9yOiBDb2xsZWN0b3IpID0+IHtcbiAgY29uc3Qgc3VicyA9IGNvbGxlY3Rvci4kY29udGFpbmVyU3RhdGUkLiRzdWJzTWFuYWdlciQuJHRyeUdldExvY2FsJChcbiAgICBnZXRQcm94eVRhcmdldChwcm9wcylcbiAgKT8uJHN1YnMkO1xuICBpZiAoc3VicyAmJiBzdWJzLmhhcyhlbCkpIHtcbiAgICAvLyBUaGUgaG9zdCBlbGVtZW50IHJlYWQgdGhlIHByb3BzXG4gICAgYXdhaXQgY29sbGVjdEVsZW1lbnQoZWwsIGNvbGxlY3Rvcik7XG4gIH1cbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdG9yIHtcbiAgJHNlZW4kOiBTZXQ8YW55PjtcbiAgJHNlZW5MZWFrcyQ6IFNldDxhbnk+O1xuICAkb2JqTWFwJDogTWFwPGFueSwgYW55PjtcbiAgJGVsZW1lbnRzJDogVmlydHVhbEVsZW1lbnRbXTtcbiAgJHdhdGNoZXMkOiBTdWJzY3JpYmVyRGVzY3JpcHRvcltdO1xuICAkY29udGFpbmVyU3RhdGUkOiBDb250YWluZXJTdGF0ZTtcbn1cblxuY29uc3QgY3JlYXRlQ29sbGVjdG9yID0gKGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSk6IENvbGxlY3RvciA9PiB7XG4gIHJldHVybiB7XG4gICAgJHNlZW4kOiBuZXcgU2V0KCksXG4gICAgJHNlZW5MZWFrcyQ6IG5ldyBTZXQoKSxcbiAgICAkb2JqTWFwJDogbmV3IE1hcCgpLFxuICAgICRlbGVtZW50cyQ6IFtdLFxuICAgICR3YXRjaGVzJDogW10sXG4gICAgJGNvbnRhaW5lclN0YXRlJDogY29udGFpbmVyU3RhdGUsXG4gIH07XG59O1xuXG5jb25zdCBjb2xsZWN0RWxlbWVudCA9IGFzeW5jIChlbDogVmlydHVhbEVsZW1lbnQsIGNvbGxlY3RvcjogQ29sbGVjdG9yKSA9PiB7XG4gIGlmIChjb2xsZWN0b3IuJGVsZW1lbnRzJC5pbmNsdWRlcyhlbCkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgY3R4ID0gdHJ5R2V0Q29udGV4dChlbCk7XG4gIGlmIChjdHgpIHtcbiAgICBjb2xsZWN0b3IuJGVsZW1lbnRzJC5wdXNoKGVsKTtcbiAgICBpZiAoY3R4LiRwcm9wcyQpIHtcbiAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShjdHguJHByb3BzJCwgY29sbGVjdG9yLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChjdHguJHJlbmRlclFybCQpIHtcbiAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShjdHguJHJlbmRlclFybCQsIGNvbGxlY3RvciwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAoY3R4LiRzZXEkKSB7XG4gICAgICBmb3IgKGNvbnN0IG9iaiBvZiBjdHguJHNlcSQpIHtcbiAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKG9iaiwgY29sbGVjdG9yLCBmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjdHguJHdhdGNoZXMkKSB7XG4gICAgICBmb3IgKGNvbnN0IG9iaiBvZiBjdHguJHdhdGNoZXMkKSB7XG4gICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3RvciwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3R4LiRjb250ZXh0cyQpIHtcbiAgICAgIGZvciAoY29uc3Qgb2JqIG9mIGN0eC4kY29udGV4dHMkLnZhbHVlcygpKSB7XG4gICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmosIGNvbGxlY3RvciwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGVzY2FwZVRleHQgPSAoc3RyOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC88KFxcLz9zY3JpcHQpL2csICdcXFxceDNDJDEnKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1bmVzY2FwZVRleHQgPSAoc3RyOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXFxceDNDKFxcLz9zY3JpcHQpL2csICc8JDEnKTtcbn07XG5cbmNvbnN0IGNvbGxlY3RTdWJzY3JpcHRpb25zID0gYXN5bmMgKHRhcmdldDogYW55LCBjb2xsZWN0b3I6IENvbGxlY3RvcikgPT4ge1xuICBjb25zdCBzdWJzID0gY29sbGVjdG9yLiRjb250YWluZXJTdGF0ZSQuJHN1YnNNYW5hZ2VyJC4kdHJ5R2V0TG9jYWwkKHRhcmdldCk/LiRzdWJzJDtcbiAgaWYgKHN1YnMpIHtcbiAgICBpZiAoY29sbGVjdG9yLiRzZWVuJC5oYXMoc3VicykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29sbGVjdG9yLiRzZWVuJC5hZGQoc3Vicyk7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgQXJyYXkuZnJvbShzdWJzLmtleXMoKSkpIHtcbiAgICAgIGlmIChpc05vZGUoa2V5KSAmJiBpc1ZpcnR1YWxFbGVtZW50KGtleSkpIHtcbiAgICAgICAgYXdhaXQgY29sbGVjdEVsZW1lbnQoa2V5LCBjb2xsZWN0b3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKGtleSwgY29sbGVjdG9yLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IFBST01JU0VfVkFMVUUgPSBTeW1ib2woKTtcblxuaW50ZXJmYWNlIFByb21pc2VWYWx1ZSB7XG4gIHJlc29sdmVkOiBib29sZWFuO1xuICB2YWx1ZTogYW55O1xufVxuY29uc3QgcmVzb2x2ZVByb21pc2UgPSAocHJvbWlzZTogUHJvbWlzZTxhbnk+KSA9PiB7XG4gIHJldHVybiBwcm9taXNlLnRoZW4oXG4gICAgKHZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB2OiBQcm9taXNlVmFsdWUgPSB7XG4gICAgICAgIHJlc29sdmVkOiB0cnVlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgIH07XG4gICAgICAocHJvbWlzZSBhcyBhbnkpW1BST01JU0VfVkFMVUVdID0gdjtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9LFxuICAgICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdjogUHJvbWlzZVZhbHVlID0ge1xuICAgICAgICByZXNvbHZlZDogZmFsc2UsXG4gICAgICAgIHZhbHVlLFxuICAgICAgfTtcbiAgICAgIChwcm9taXNlIGFzIGFueSlbUFJPTUlTRV9WQUxVRV0gPSB2O1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgKTtcbn07XG5cbmNvbnN0IGdldFByb21pc2VWYWx1ZSA9IChwcm9taXNlOiBQcm9taXNlPGFueT4pOiBQcm9taXNlVmFsdWUgPT4ge1xuICBhc3NlcnRUcnVlKFBST01JU0VfVkFMVUUgaW4gcHJvbWlzZSwgJ3BhdXNlOiBwcm9taXNlIHdhcyBub3QgcmVzb2x2ZWQgcHJldmlvdXNseScsIHByb21pc2UpO1xuICByZXR1cm4gKHByb21pc2UgYXMgYW55KVtQUk9NSVNFX1ZBTFVFXTtcbn07XG5cbmNvbnN0IGNvbGxlY3RWYWx1ZSA9IGFzeW5jIChvYmo6IGFueSwgY29sbGVjdG9yOiBDb2xsZWN0b3IsIGxlYWtzOiBib29sZWFuKSA9PiB7XG4gIGNvbnN0IGlucHV0ID0gb2JqO1xuICBjb25zdCBzZWVuID0gbGVha3MgPyBjb2xsZWN0b3IuJHNlZW5MZWFrcyQgOiBjb2xsZWN0b3IuJHNlZW4kO1xuICBpZiAoc2Vlbi5oYXMob2JqKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBzZWVuLmFkZChvYmopO1xuXG4gIGlmICghc2hvdWxkU2VyaWFsaXplKG9iaikgfHwgb2JqID09PSB1bmRlZmluZWQpIHtcbiAgICBjb2xsZWN0b3IuJG9iak1hcCQuc2V0KG9iaiwgdW5kZWZpbmVkKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAob2JqICE9IG51bGwpIHtcbiAgICAvLyBIYW5kbGUgUVJMXG4gICAgaWYgKGlzUXJsKG9iaikpIHtcbiAgICAgIGNvbGxlY3Rvci4kb2JqTWFwJC5zZXQob2JqLCBvYmopO1xuICAgICAgaWYgKG9iai4kY2FwdHVyZVJlZiQpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIG9iai4kY2FwdHVyZVJlZiQpIHtcbiAgICAgICAgICBhd2FpdCBjb2xsZWN0VmFsdWUoaXRlbSwgY29sbGVjdG9yLCBsZWFrcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgT2JqZXRzXG4gICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAvLyBIYW5kbGUgcHJvbWlzZXNcbiAgICAgIGlmIChpc1Byb21pc2Uob2JqKSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHJlc29sdmVQcm9taXNlKG9iaik7XG4gICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZSh2YWx1ZSwgY29sbGVjdG9yLCBsZWFrcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdGFyZ2V0ID0gZ2V0UHJveHlUYXJnZXQob2JqKTtcblxuICAgICAgLy8gSGFuZGxlIGRvbSBub2Rlc1xuICAgICAgaWYgKCF0YXJnZXQgJiYgaXNOb2RlKG9iaikpIHtcbiAgICAgICAgaWYgKGlzRG9jdW1lbnQob2JqKSkge1xuICAgICAgICAgIGNvbGxlY3Rvci4kb2JqTWFwJC5zZXQob2JqLCBvYmopO1xuICAgICAgICB9IGVsc2UgaWYgKCFpc1F3aWtFbGVtZW50KG9iaikpIHtcbiAgICAgICAgICB0aHJvdyBxRXJyb3IoUUVycm9yX3ZlcmlmeVNlcmlhbGl6YWJsZSwgb2JqKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHByb3h5IGNvbGxlY3Qgc3Vic2NyaXB0aW9uc1xuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICBpZiAobGVha3MpIHtcbiAgICAgICAgICBhd2FpdCBjb2xsZWN0U3Vic2NyaXB0aW9ucyh0YXJnZXQsIGNvbGxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgb2JqID0gdGFyZ2V0O1xuICAgICAgICBpZiAoc2Vlbi5oYXMob2JqKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZWVuLmFkZChvYmopO1xuXG4gICAgICAgIGlmIChpc1Jlc291cmNlUmV0dXJuKG9iaikpIHtcbiAgICAgICAgICBjb2xsZWN0b3IuJG9iak1hcCQuc2V0KHRhcmdldCwgdGFyZ2V0KTtcbiAgICAgICAgICBhd2FpdCBjb2xsZWN0VmFsdWUob2JqLnByb21pc2UsIGNvbGxlY3RvciwgbGVha3MpO1xuICAgICAgICAgIGF3YWl0IGNvbGxlY3RWYWx1ZShvYmoucmVzb2x2ZWQsIGNvbGxlY3RvciwgbGVha3MpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb2xsZWN0b3IuJG9iak1hcCQuc2V0KG9iaiwgb2JqKTtcbiAgICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBhd2FpdCBjb2xsZWN0VmFsdWUoaW5wdXRbaV0sIGNvbGxlY3RvciwgbGVha3MpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xuICAgICAgICAgICAgYXdhaXQgY29sbGVjdFZhbHVlKGlucHV0W2tleV0sIGNvbGxlY3RvciwgbGVha3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBjb2xsZWN0b3IuJG9iak1hcCQuc2V0KG9iaiwgb2JqKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc0NvbnRhaW5lciA9IChlbDogTm9kZSkgPT4ge1xuICByZXR1cm4gaXNFbGVtZW50KGVsKSAmJiBlbC5oYXNBdHRyaWJ1dGUoUUNvbnRhaW5lckF0dHIpO1xufTtcblxuY29uc3QgaGFzUUlkID0gKGVsOiBOb2RlKSA9PiB7XG4gIGNvbnN0IG5vZGUgPSBwcm9jZXNzVmlydHVhbE5vZGVzKGVsKTtcbiAgaWYgKGlzUXdpa0VsZW1lbnQobm9kZSkpIHtcbiAgICByZXR1cm4gbm9kZS5oYXNBdHRyaWJ1dGUoRUxFTUVOVF9JRCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuZXhwb3J0IGNvbnN0IGludFRvU3RyID0gKG51OiBudW1iZXIpID0+IHtcbiAgcmV0dXJuIG51LnRvU3RyaW5nKDM2KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdHJUb0ludCA9IChudTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBwYXJzZUludChudSwgMzYpO1xufTtcbiJdfQ==","import { getProxyTarget, noSerialize, unwrapProxy } from '../object/q-object';\nimport { getContext } from '../props/props';\nimport { newInvokeContext, invoke, waitAndRun } from './use-core';\nimport { logError, logErrorAndStop } from '../util/log';\nimport { delay, safeCall, then } from '../util/promises';\nimport { getDocument } from '../util/dom';\nimport { isFunction, isObject } from '../util/types';\nimport { isServer } from '../platform/platform';\nimport { implicit$FirstArg } from '../util/implicit_dollar';\nimport { assertDefined, assertEqual } from '../assert/assert';\nimport { assertQrl, createQRL } from '../import/qrl-class';\nimport { codeToText, qError, QError_canNotMountUseServerMount, QError_trackUseStore, } from '../error/error';\nimport { useOn } from './use-on';\nimport { intToStr, strToInt } from '../object/store';\nimport { notifyWatch, _hW } from '../render/dom/notify-render';\nimport { useSequentialScope } from './use-sequential-scope';\nexport const WatchFlagsIsEffect = 1 << 0;\nexport const WatchFlagsIsWatch = 1 << 1;\nexport const WatchFlagsIsDirty = 1 << 2;\nexport const WatchFlagsIsCleanup = 1 << 3;\nexport const WatchFlagsIsResource = 1 << 4;\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs, use the\n * `obs` function to wrap property reads. This creates subscriptions that will trigger the\n * `watchFn` to rerun.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$(({ track }) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$(({ track }) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <div>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </div>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport const useWatchQrl = (qrl, opts) => {\n    const { get, set, ctx, i } = useSequentialScope();\n    if (get) {\n        return;\n    }\n    assertQrl(qrl);\n    const el = ctx.$hostElement$;\n    const containerState = ctx.$renderCtx$.$static$.$containerState$;\n    const watch = new Watch(WatchFlagsIsDirty | WatchFlagsIsWatch, i, el, qrl, undefined);\n    const elCtx = getContext(el);\n    set(true);\n    qrl.$resolveLazy$();\n    if (!elCtx.$watches$) {\n        elCtx.$watches$ = [];\n    }\n    elCtx.$watches$.push(watch);\n    waitAndRun(ctx, () => runSubscriber(watch, containerState));\n    if (isServer(ctx)) {\n        useRunWatch(watch, opts?.eagerness);\n    }\n};\n// <docs markdown=\"../readme.md#useWatch\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useWatch instead)\n/**\n * Reruns the `watchFn` when the observed inputs change.\n *\n * Use `useWatch` to observe changes on a set of inputs, and then re-execute the `watchFn` when\n * those inputs change.\n *\n * The `watchFn` only executes if the observed inputs change. To observe the inputs, use the\n * `obs` function to wrap property reads. This creates subscriptions that will trigger the\n * `watchFn` to rerun.\n *\n * @see `Tracker`\n *\n * @public\n *\n * ## Example\n *\n * The `useWatch` function is used to observe the `state.count` property. Any changes to the\n * `state.count` cause the `watchFn` to execute which in turn updates the `state.doubleCount` to\n * the double of `state.count`.\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *     doubleCount: 0,\n *     debounced: 0,\n *   });\n *\n *   // Double count watch\n *   useWatch$(({ track }) => {\n *     const count = track(store, 'count');\n *     store.doubleCount = 2 * count;\n *   });\n *\n *   // Debouncer watch\n *   useWatch$(({ track }) => {\n *     const doubleCount = track(store, 'doubleCount');\n *     const timer = setTimeout(() => {\n *       store.debounced = doubleCount;\n *     }, 2000);\n *     return () => {\n *       clearTimeout(timer);\n *     };\n *   });\n *   return (\n *     <div>\n *       <div>\n *         {store.count} / {store.doubleCount}\n *       </div>\n *       <div>{store.debounced}</div>\n *     </div>\n *   );\n * });\n * ```\n *\n * @param watch - Function which should be re-executed when changes to the inputs are detected\n * @public\n */\n// </docs>\nexport const useWatch$ = /*#__PURE__*/ implicit$FirstArg(useWatchQrl);\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <div>{store.count}</div>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useClientEffectQrl = (qrl, opts) => {\n    const { get, set, i, ctx } = useSequentialScope();\n    if (get) {\n        return;\n    }\n    assertQrl(qrl);\n    const el = ctx.$hostElement$;\n    const watch = new Watch(WatchFlagsIsEffect, i, el, qrl, undefined);\n    const eagerness = opts?.eagerness ?? 'visible';\n    const elCtx = getContext(el);\n    set(true);\n    if (!elCtx.$watches$) {\n        elCtx.$watches$ = [];\n    }\n    elCtx.$watches$.push(watch);\n    useRunWatch(watch, eagerness);\n    if (!isServer(ctx)) {\n        qrl.$resolveLazy$();\n        notifyWatch(watch, ctx.$renderCtx$.$static$.$containerState$);\n    }\n};\n// <docs markdown=\"../readme.md#useClientEffect\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useClientEffect instead)\n/**\n * ```tsx\n * const Timer = component$(() => {\n *   const store = useStore({\n *     count: 0,\n *   });\n *\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       store.count++;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *\n *   return <div>{store.count}</div>;\n * });\n * ```\n *\n * @public\n */\n// </docs>\nexport const useClientEffect$ = /*#__PURE__*/ implicit$FirstArg(useClientEffectQrl);\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook that runs only in the server when the component is first\n * mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <div>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </div>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @see `useMount`\n * @public\n */\n// </docs>\nexport const useServerMountQrl = (mountQrl) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return;\n    }\n    if (isServer(ctx)) {\n        waitAndRun(ctx, mountQrl);\n        set(true);\n    }\n    else {\n        throw qError(QError_canNotMountUseServerMount, ctx.$hostElement$);\n    }\n};\n// <docs markdown=\"../readme.md#useServerMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useServerMount instead)\n/**\n * Register's a server mount hook that runs only in the server when the component is first\n * mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     users: [],\n *   });\n *\n *   useServerMount$(async () => {\n *     // This code will ONLY run once in the server, when the component is mounted\n *     store.users = await db.requestUsers();\n *   });\n *\n *   return (\n *     <div>\n *       {store.users.map((user) => (\n *         <User user={user} />\n *       ))}\n *     </div>\n *   );\n * });\n *\n * interface User {\n *   name: string;\n * }\n * function User(props: { user: User }) {\n *   return <div>Name: {props.user.name}</div>;\n * }\n * ```\n *\n * @see `useMount`\n * @public\n */\n// </docs>\nexport const useServerMount$ = /*#__PURE__*/ implicit$FirstArg(useServerMountQrl);\n// <docs markdown=\"../readme.md#useMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useMount instead)\n/**\n * Register a server mount hook that runs only in the server when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     temp: 0,\n *   });\n *\n *   useMount$(async () => {\n *     // This code will run once whenever a component is mounted in the server, or in the client\n *     const res = await fetch('weather-api.example');\n *     const json = (await res.json()) as any;\n *     store.temp = json.temp;\n *   });\n *\n *   return (\n *     <div>\n *       <p>The temperature is: ${store.temp}</p>\n *     </div>\n *   );\n * });\n * ```\n *\n * @see `useServerMount`\n * @public\n */\n// </docs>\nexport const useMountQrl = (mountQrl) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return;\n    }\n    assertQrl(mountQrl);\n    mountQrl.$resolveLazy$();\n    waitAndRun(ctx, mountQrl);\n    set(true);\n};\n// <docs markdown=\"../readme.md#useMount\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useMount instead)\n/**\n * Register a server mount hook that runs only in the server when the component is first mounted.\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const store = useStore({\n *     temp: 0,\n *   });\n *\n *   useMount$(async () => {\n *     // This code will run once whenever a component is mounted in the server, or in the client\n *     const res = await fetch('weather-api.example');\n *     const json = (await res.json()) as any;\n *     store.temp = json.temp;\n *   });\n *\n *   return (\n *     <div>\n *       <p>The temperature is: ${store.temp}</p>\n *     </div>\n *   );\n * });\n * ```\n *\n * @see `useServerMount`\n * @public\n */\n// </docs>\nexport const useMount$ = /*#__PURE__*/ implicit$FirstArg(useMountQrl);\nexport const isResourceWatch = (watch) => {\n    return !!watch.$resource$;\n};\nexport const runSubscriber = async (watch, containerState) => {\n    assertEqual(!!(watch.$flags$ & WatchFlagsIsDirty), true, 'Resource is not dirty', watch);\n    if (isResourceWatch(watch)) {\n        await runResource(watch, containerState);\n    }\n    else {\n        await runWatch(watch, containerState);\n    }\n};\nexport const runResource = (watch, containerState, waitOn) => {\n    watch.$flags$ &= ~WatchFlagsIsDirty;\n    cleanupWatch(watch);\n    const el = watch.$el$;\n    const doc = getDocument(el);\n    const invokationContext = newInvokeContext(doc, el, undefined, 'WatchEvent');\n    const { $subsManager$: subsManager } = containerState;\n    const watchFn = watch.$qrl$.getFn(invokationContext, () => {\n        subsManager.$clearSub$(watch);\n    });\n    const cleanups = [];\n    const resource = watch.$resource$;\n    assertDefined(resource, 'useResource: when running a resource, \"watch.r\" must be a defined.', watch);\n    const track = (obj, prop) => {\n        const target = getProxyTarget(obj);\n        if (target) {\n            const manager = subsManager.$getLocal$(target);\n            manager.$addSub$(watch, prop);\n        }\n        else {\n            logErrorAndStop(codeToText(QError_trackUseStore), obj);\n        }\n        if (prop) {\n            return obj[prop];\n        }\n        else {\n            return obj;\n        }\n    };\n    const resourceTarget = unwrapProxy(resource);\n    const opts = {\n        track,\n        cleanup(callback) {\n            cleanups.push(callback);\n        },\n        previous: resourceTarget.resolved,\n    };\n    let resolve;\n    let reject;\n    let done = false;\n    const setState = (resolved, value) => {\n        if (!done) {\n            done = true;\n            if (resolved) {\n                done = true;\n                resource.state = 'resolved';\n                resource.resolved = value;\n                resource.error = undefined;\n                resolve(value);\n            }\n            else {\n                done = true;\n                resource.state = 'rejected';\n                resource.resolved = undefined;\n                resource.error = value;\n                reject(value);\n            }\n            return true;\n        }\n        return false;\n    };\n    // Execute mutation inside empty invokation\n    invoke(invokationContext, () => {\n        resource.state = 'pending';\n        resource.resolved = undefined;\n        resource.promise = new Promise((r, re) => {\n            resolve = r;\n            reject = re;\n        });\n    });\n    watch.$destroy$ = noSerialize(() => {\n        cleanups.forEach((fn) => fn());\n    });\n    const promise = safeCall(() => then(waitOn, () => watchFn(opts)), (value) => {\n        setState(true, value);\n    }, (reason) => {\n        setState(false, reason);\n    });\n    const timeout = resourceTarget.timeout;\n    if (timeout) {\n        return Promise.race([\n            promise,\n            delay(timeout).then(() => {\n                if (setState(false, 'timeout')) {\n                    cleanupWatch(watch);\n                }\n            }),\n        ]);\n    }\n    return promise;\n};\nexport const runWatch = (watch, containerState) => {\n    watch.$flags$ &= ~WatchFlagsIsDirty;\n    cleanupWatch(watch);\n    const el = watch.$el$;\n    const doc = getDocument(el);\n    const invokationContext = newInvokeContext(doc, el, undefined, 'WatchEvent');\n    const { $subsManager$: subsManager } = containerState;\n    const watchFn = watch.$qrl$.getFn(invokationContext, () => {\n        subsManager.$clearSub$(watch);\n    });\n    const track = (obj, prop) => {\n        const target = getProxyTarget(obj);\n        if (target) {\n            const manager = subsManager.$getLocal$(target);\n            manager.$addSub$(watch, prop);\n        }\n        else {\n            logErrorAndStop(codeToText(QError_trackUseStore), obj);\n        }\n        if (prop) {\n            return obj[prop];\n        }\n        else {\n            return obj;\n        }\n    };\n    const cleanups = [];\n    watch.$destroy$ = noSerialize(() => {\n        cleanups.forEach((fn) => fn());\n    });\n    const opts = {\n        track,\n        cleanup(callback) {\n            cleanups.push(callback);\n        },\n    };\n    return safeCall(() => watchFn(opts), (returnValue) => {\n        if (isFunction(returnValue)) {\n            cleanups.push(returnValue);\n        }\n    }, (reason) => {\n        logError(reason);\n    });\n};\nexport const cleanupWatch = (watch) => {\n    const destroy = watch.$destroy$;\n    if (destroy) {\n        watch.$destroy$ = undefined;\n        try {\n            destroy();\n        }\n        catch (err) {\n            logError(err);\n        }\n    }\n};\nexport const destroyWatch = (watch) => {\n    if (watch.$flags$ & WatchFlagsIsCleanup) {\n        watch.$flags$ &= ~WatchFlagsIsCleanup;\n        const cleanup = watch.$qrl$;\n        cleanup();\n    }\n    else {\n        cleanupWatch(watch);\n    }\n};\nconst useRunWatch = (watch, eagerness) => {\n    if (eagerness === 'load') {\n        useOn('qinit', getWatchHandlerQrl(watch));\n    }\n    else if (eagerness === 'visible') {\n        useOn('qvisible', getWatchHandlerQrl(watch));\n    }\n};\nconst getWatchHandlerQrl = (watch) => {\n    const watchQrl = watch.$qrl$;\n    const watchHandler = createQRL(watchQrl.$chunk$, '_hW', _hW, null, null, [watch], watchQrl.$symbol$);\n    return watchHandler;\n};\nexport const isWatchCleanup = (obj) => {\n    return isSubscriberDescriptor(obj) && !!(obj.$flags$ & WatchFlagsIsCleanup);\n};\nexport const isSubscriberDescriptor = (obj) => {\n    return isObject(obj) && obj instanceof Watch;\n};\nexport const serializeWatch = (watch, getObjId) => {\n    let value = `${intToStr(watch.$flags$)} ${intToStr(watch.$index$)} ${getObjId(watch.$qrl$)} ${getObjId(watch.$el$)}`;\n    if (isResourceWatch(watch)) {\n        value += ` ${getObjId(watch.$resource$)}`;\n    }\n    return value;\n};\nexport const parseWatch = (data) => {\n    const [flags, index, qrl, el, resource] = data.split(' ');\n    return new Watch(strToInt(flags), strToInt(index), el, qrl, resource);\n};\nexport class Watch {\n    constructor($flags$, $index$, $el$, $qrl$, $resource$) {\n        this.$flags$ = $flags$;\n        this.$index$ = $index$;\n        this.$el$ = $el$;\n        this.$qrl$ = $qrl$;\n        this.$resource$ = $resource$;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXdhdGNoLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2Utd2F0Y2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQWUsV0FBVyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDM0YsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzVDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ2xFLE9BQU8sRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBQ3hELE9BQU8sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQWtCLE1BQU0sZUFBZSxDQUFDO0FBQ3JFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNoRCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUM1RCxPQUFPLEVBQUUsYUFBYSxFQUFFLFdBQVcsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRTlELE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFlLE1BQU0scUJBQXFCLENBQUM7QUFDeEUsT0FBTyxFQUNMLFVBQVUsRUFDVixNQUFNLEVBQ04sZ0NBQWdDLEVBQ2hDLG9CQUFvQixHQUNyQixNQUFNLGdCQUFnQixDQUFDO0FBQ3hCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFDakMsT0FBTyxFQUFZLFFBQVEsRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUUvRCxPQUFPLEVBQUUsV0FBVyxFQUFFLEdB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QUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDNUIsSUFBSSxlQUFlLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDMUIsS0FBSyxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsRUFBRSxDQUFDO0tBQzNDO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFZLEVBQUUsRUFBRTtJQUN6QyxNQUFNLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsRUFBRSxFQUFFLFFBQVEsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDMUQsT0FBTyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQVMsRUFBRSxHQUFVLEVBQUUsUUFBZSxDQUFDLENBQUM7QUFDN0YsQ0FBQyxDQUFDO0FBRUYsTUFBTSxPQUFPLEtBQUs7SUFDaEIsWUFDUyxPQUFlLEVBQ2YsT0FBZSxFQUNmLElBQWlCLEVBQ2pCLEtBQXVCLEVBQ3ZCLFVBQTJDO1FBSjNDLFlBQU8sR0FBUCxPQUFPLENBQVE7UUFDZixZQUFPLEdBQVAsT0FBTyxDQUFRO1FBQ2YsU0FBSSxHQUFKLElBQUksQ0FBYTtRQUNqQixVQUFLLEdBQUwsS0FBSyxDQUFrQjtRQUN2QixlQUFVLEdBQVYsVUFBVSxDQUFpQztJQUNqRCxDQUFDO0NBQ0wiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRQcm94eVRhcmdldCwgbm9TZXJpYWxpemUsIE5vU2VyaWFsaXplLCB1bndyYXBQcm94eSB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBnZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgbmV3SW52b2tlQ29udGV4dCwgaW52b2tlLCB3YWl0QW5kUnVuIH0gZnJvbSAnLi91c2UtY29yZSc7XG5pbXBvcnQgeyBsb2dFcnJvciwgbG9nRXJyb3JBbmRTdG9wIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgZGVsYXksIHNhZmVDYWxsLCB0aGVuIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBWYWx1ZU9yUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgaXNTZXJ2ZXIgfSBmcm9tICcuLi9wbGF0Zm9ybS9wbGF0Zm9ybSc7XG5pbXBvcnQgeyBpbXBsaWNpdCRGaXJzdEFyZyB9IGZyb20gJy4uL3V0aWwvaW1wbGljaXRfZG9sbGFyJztcbmltcG9ydCB7IGFzc2VydERlZmluZWQsIGFzc2VydEVxdWFsIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGFzc2VydFFybCwgY3JlYXRlUVJMLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHtcbiAgY29kZVRvVGV4dCxcbiAgcUVycm9yLFxuICBRRXJyb3JfY2FuTm90TW91bnRVc2VTZXJ2ZXJNb3VudCxcbiAgUUVycm9yX3RyYWNrVXNlU3RvcmUsXG59IGZyb20gJy4uL2Vycm9yL2Vycm9yJztcbmltcG9ydCB7IHVzZU9uIH0gZnJvbSAnLi91c2Utb24nO1xuaW1wb3J0IHsgR2V0T2JqSUQsIGludFRvU3RyLCBzdHJUb0ludCB9IGZyb20gJy4uL29iamVjdC9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7IENvbnRhaW5lclN0YXRlIH0gZnJvbSAnLi4vcmVuZGVyL2NvbnRhaW5lcic7XG5pbXBvcnQgeyBub3RpZnlXYXRjaCwgX2hXIH0gZnJvbSAnLi4vcmVuZGVyL2RvbS9ub3RpZnktcmVuZGVyJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXNlcXVlbnRpYWwtc2NvcGUnO1xuaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcblxuZXhwb3J0IGNvbnN0IFdhdGNoRmxhZ3NJc0VmZmVjdCA9IDEgPDwgMDtcbmV4cG9ydCBjb25zdCBXYXRjaEZsYWdzSXNXYXRjaCA9IDEgPDwgMTtcbmV4cG9ydCBjb25zdCBXYXRjaEZsYWdzSXNEaXJ0eSA9IDEgPDwgMjtcbmV4cG9ydCBjb25zdCBXYXRjaEZsYWdzSXNDbGVhbnVwID0gMSA8PCAzO1xuZXhwb3J0IGNvbnN0IFdhdGNoRmxhZ3NJc1Jlc291cmNlID0gMSA8PCA0O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNUcmFja2VyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI1RyYWNrZXIgaW5zdGVhZClcbi8qKlxuICogVXNlZCB0byBzaWduYWwgdG8gUXdpayB3aGljaCBzdGF0ZSBzaG91bGQgYmUgd2F0Y2hlZCBmb3IgY2hhbmdlcy5cbiAqXG4gKiBUaGUgYFRyYWNrZXJgIGlzIHBhc3NlZCBpbnRvIHRoZSBgd2F0Y2hGbmAgb2YgYHVzZVdhdGNoYC4gSXQgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCB0byB3cmFwXG4gKiBzdGF0ZSBvYmplY3RzIGluIGEgcmVhZCBwcm94eSB3aGljaCBzaWduYWxzIHRvIFF3aWsgd2hpY2ggcHJvcGVydGllcyBzaG91bGQgYmUgd2F0Y2hlZCBmb3JcbiAqIGNoYW5nZXMuIEEgY2hhbmdlIHRvIGFueSBvZiB0aGUgcHJvcGVydGllcyBjYXVzZXMgdGhlIGB3YXRjaEZuYCB0byByZXJ1bi5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogVGhlIGBvYnNgIHBhc3NlZCBpbnRvIHRoZSBgd2F0Y2hGbmAgaXMgdXNlZCB0byBtYXJrIGBzdGF0ZS5jb3VudGAgYXMgYSBwcm9wZXJ0eSBvZiBpbnRlcmVzdC5cbiAqIEFueSBjaGFuZ2VzIHRvIHRoZSBgc3RhdGUuY291bnRgIHByb3BlcnR5IHdpbGwgY2F1c2UgdGhlIGB3YXRjaEZuYCB0byByZXJ1bi5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHsgY291bnQ6IDAsIGRvdWJsZUNvdW50OiAwIH0pO1xuICogICB1c2VXYXRjaCQoKHsgdHJhY2sgfSkgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soc3RvcmUsICdjb3VudCcpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPHNwYW4+XG4gKiAgICAgICAgIHtzdG9yZS5jb3VudH0gLyB7c3RvcmUuZG91YmxlQ291bnR9XG4gKiAgICAgICA8L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiBzdG9yZS5jb3VudCsrfT4rPC9idXR0b24+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVdhdGNoYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBUcmFja2VyIHtcbiAgPFQgZXh0ZW5kcyB7fT4ob2JqOiBUKTogVDtcbiAgPFQgZXh0ZW5kcyB7fSwgQiBleHRlbmRzIGtleW9mIFQ+KG9iajogVCwgcHJvcDogQik6IFRbQl07XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFdhdGNoQ3R4IHtcbiAgdHJhY2s6IFRyYWNrZXI7XG4gIGNsZWFudXAoY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZUN0eDxUPiB7XG4gIHRyYWNrOiBUcmFja2VyO1xuICBjbGVhbnVwKGNhbGxiYWNrOiAoKSA9PiB2b2lkKTogdm9pZDtcbiAgcHJldmlvdXM6IFQgfCB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBXYXRjaEZuID0gKGN0eDogV2F0Y2hDdHgpID0+IFZhbHVlT3JQcm9taXNlPHZvaWQgfCAoKCkgPT4gdm9pZCk+O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUmVzb3VyY2VGbjxUPiA9IChjdHg6IFJlc291cmNlQ3R4PFQ+KSA9PiBWYWx1ZU9yUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIE1vdW50Rm48VD4gPSAoKSA9PiBWYWx1ZU9yUHJvbWlzZTxUPjtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFJlc291cmNlUmV0dXJuPFQ+ID0gUmVzb3VyY2VQZW5kaW5nPFQ+IHwgUmVzb3VyY2VSZXNvbHZlZDxUPiB8IFJlc291cmNlUmVqZWN0ZWQ8VD47XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlUGVuZGluZzxUPiB7XG4gIF9fYnJhbmQ6ICdyZXNvdXJjZSc7XG4gIHN0YXRlOiAncGVuZGluZyc7XG5cbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgcmVzb2x2ZWQ6IHVuZGVmaW5lZDtcbiAgZXJyb3I6IHVuZGVmaW5lZDtcbiAgdGltZW91dD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VSZXNvbHZlZDxUPiB7XG4gIF9fYnJhbmQ6ICdyZXNvdXJjZSc7XG4gIHN0YXRlOiAncmVzb2x2ZWQnO1xuXG4gIHByb21pc2U6IFByb21pc2U8VD47XG4gIHJlc29sdmVkOiBUO1xuICBlcnJvcjogdW5kZWZpbmVkO1xuICB0aW1lb3V0PzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVJlamVjdGVkPFQ+IHtcbiAgX19icmFuZDogJ3Jlc291cmNlJztcbiAgc3RhdGU6ICdyZWplY3RlZCc7XG5cbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgcmVzb2x2ZWQ6IHVuZGVmaW5lZDtcbiAgZXJyb3I6IGFueTtcbiAgdGltZW91dD86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXNjcmlwdG9yQmFzZTxUID0gYW55LCBCID0gdW5kZWZpbmVkPiB7XG4gICRxcmwkOiBRUkxJbnRlcm5hbDxUPjtcbiAgJGVsJDogUXdpa0VsZW1lbnQ7XG4gICRmbGFncyQ6IG51bWJlcjtcbiAgJGluZGV4JDogbnVtYmVyO1xuICAkZGVzdHJveSQ/OiBOb1NlcmlhbGl6ZTwoKSA9PiB2b2lkPjtcbiAgJHJlc291cmNlJDogQjtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIEVhZ2VybmVzc09wdGlvbnMgPSAndmlzaWJsZScgfCAnbG9hZCc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZUVmZmVjdE9wdGlvbnMge1xuICAvKipcbiAgICogLSBgdmlzaWJsZWA6IHJ1biB0aGUgZWZmZWN0IHdoZW4gdGhlIGVsZW1lbnQgaXMgdmlzaWJsZS5cbiAgICogLSBgbG9hZGA6IGVhZ2VybHkgcnVuIHRoZSBlZmZlY3Qgd2hlbiB0aGUgYXBwbGljYXRpb24gcmVzdW1lcy5cbiAgICovXG4gIGVhZ2VybmVzcz86IEVhZ2VybmVzc09wdGlvbnM7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZVdhdGNoT3B0aW9ucyB7XG4gIC8qKlxuICAgKiAtIGB2aXNpYmxlYDogcnVuIHRoZSBlZmZlY3Qgd2hlbiB0aGUgZWxlbWVudCBpcyB2aXNpYmxlLlxuICAgKiAtIGBsb2FkYDogZWFnZXJseSBydW4gdGhlIGVmZmVjdCB3aGVuIHRoZSBhcHBsaWNhdGlvbiByZXN1bWVzLlxuICAgKi9cbiAgZWFnZXJuZXNzPzogRWFnZXJuZXNzT3B0aW9ucztcbn1cblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlV2F0Y2hcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlV2F0Y2ggaW5zdGVhZClcbi8qKlxuICogUmVydW5zIHRoZSBgd2F0Y2hGbmAgd2hlbiB0aGUgb2JzZXJ2ZWQgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBVc2UgYHVzZVdhdGNoYCB0byBvYnNlcnZlIGNoYW5nZXMgb24gYSBzZXQgb2YgaW5wdXRzLCBhbmQgdGhlbiByZS1leGVjdXRlIHRoZSBgd2F0Y2hGbmAgd2hlblxuICogdGhvc2UgaW5wdXRzIGNoYW5nZS5cbiAqXG4gKiBUaGUgYHdhdGNoRm5gIG9ubHkgZXhlY3V0ZXMgaWYgdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuIFRvIG9ic2VydmUgdGhlIGlucHV0cywgdXNlIHRoZVxuICogYG9ic2AgZnVuY3Rpb24gdG8gd3JhcCBwcm9wZXJ0eSByZWFkcy4gVGhpcyBjcmVhdGVzIHN1YnNjcmlwdGlvbnMgdGhhdCB3aWxsIHRyaWdnZXIgdGhlXG4gKiBgd2F0Y2hGbmAgdG8gcmVydW4uXG4gKlxuICogQHNlZSBgVHJhY2tlcmBcbiAqXG4gKiBAcHVibGljXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIFRoZSBgdXNlV2F0Y2hgIGZ1bmN0aW9uIGlzIHVzZWQgdG8gb2JzZXJ2ZSB0aGUgYHN0YXRlLmNvdW50YCBwcm9wZXJ0eS4gQW55IGNoYW5nZXMgdG8gdGhlXG4gKiBgc3RhdGUuY291bnRgIGNhdXNlIHRoZSBgd2F0Y2hGbmAgdG8gZXhlY3V0ZSB3aGljaCBpbiB0dXJuIHVwZGF0ZXMgdGhlIGBzdGF0ZS5kb3VibGVDb3VudGAgdG9cbiAqIHRoZSBkb3VibGUgb2YgYHN0YXRlLmNvdW50YC5cbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgICBkb3VibGVDb3VudDogMCxcbiAqICAgICBkZWJvdW5jZWQ6IDAsXG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRG91YmxlIGNvdW50IHdhdGNoXG4gKiAgIHVzZVdhdGNoJCgoeyB0cmFjayB9KSA9PiB7XG4gKiAgICAgY29uc3QgY291bnQgPSB0cmFjayhzdG9yZSwgJ2NvdW50Jyk7XG4gKiAgICAgc3RvcmUuZG91YmxlQ291bnQgPSAyICogY291bnQ7XG4gKiAgIH0pO1xuICpcbiAqICAgLy8gRGVib3VuY2VyIHdhdGNoXG4gKiAgIHVzZVdhdGNoJCgoeyB0cmFjayB9KSA9PiB7XG4gKiAgICAgY29uc3QgZG91YmxlQ291bnQgPSB0cmFjayhzdG9yZSwgJ2RvdWJsZUNvdW50Jyk7XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAqICAgICAgIHN0b3JlLmRlYm91bmNlZCA9IGRvdWJsZUNvdW50O1xuICogICAgIH0sIDIwMDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8ZGl2PlxuICogICAgICAgICB7c3RvcmUuY291bnR9IC8ge3N0b3JlLmRvdWJsZUNvdW50fVxuICogICAgICAgPC9kaXY+XG4gKiAgICAgICA8ZGl2PntzdG9yZS5kZWJvdW5jZWR9PC9kaXY+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3YXRjaCAtIEZ1bmN0aW9uIHdoaWNoIHNob3VsZCBiZSByZS1leGVjdXRlZCB3aGVuIGNoYW5nZXMgdG8gdGhlIGlucHV0cyBhcmUgZGV0ZWN0ZWRcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVdhdGNoUXJsID0gKHFybDogUVJMPFdhdGNoRm4+LCBvcHRzPzogVXNlV2F0Y2hPcHRpb25zKTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCwgaSB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPGJvb2xlYW4+KCk7XG4gIGlmIChnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgYXNzZXJ0UXJsKHFybCk7XG5cbiAgY29uc3QgZWwgPSBjdHguJGhvc3RFbGVtZW50JDtcbiAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBjdHguJHJlbmRlckN0eCQuJHN0YXRpYyQuJGNvbnRhaW5lclN0YXRlJDtcbiAgY29uc3Qgd2F0Y2ggPSBuZXcgV2F0Y2goV2F0Y2hGbGFnc0lzRGlydHkgfCBXYXRjaEZsYWdzSXNXYXRjaCwgaSwgZWwsIHFybCwgdW5kZWZpbmVkKTtcbiAgY29uc3QgZWxDdHggPSBnZXRDb250ZXh0KGVsKTtcbiAgc2V0KHRydWUpO1xuICBxcmwuJHJlc29sdmVMYXp5JCgpO1xuICBpZiAoIWVsQ3R4LiR3YXRjaGVzJCkge1xuICAgIGVsQ3R4LiR3YXRjaGVzJCA9IFtdO1xuICB9XG4gIGVsQ3R4LiR3YXRjaGVzJC5wdXNoKHdhdGNoKTtcbiAgd2FpdEFuZFJ1bihjdHgsICgpID0+IHJ1blN1YnNjcmliZXIod2F0Y2gsIGNvbnRhaW5lclN0YXRlKSk7XG4gIGlmIChpc1NlcnZlcihjdHgpKSB7XG4gICAgdXNlUnVuV2F0Y2god2F0Y2gsIG9wdHM/LmVhZ2VybmVzcyk7XG4gIH1cbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVdhdGNoXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVdhdGNoIGluc3RlYWQpXG4vKipcbiAqIFJlcnVucyB0aGUgYHdhdGNoRm5gIHdoZW4gdGhlIG9ic2VydmVkIGlucHV0cyBjaGFuZ2UuXG4gKlxuICogVXNlIGB1c2VXYXRjaGAgdG8gb2JzZXJ2ZSBjaGFuZ2VzIG9uIGEgc2V0IG9mIGlucHV0cywgYW5kIHRoZW4gcmUtZXhlY3V0ZSB0aGUgYHdhdGNoRm5gIHdoZW5cbiAqIHRob3NlIGlucHV0cyBjaGFuZ2UuXG4gKlxuICogVGhlIGB3YXRjaEZuYCBvbmx5IGV4ZWN1dGVzIGlmIHRoZSBvYnNlcnZlZCBpbnB1dHMgY2hhbmdlLiBUbyBvYnNlcnZlIHRoZSBpbnB1dHMsIHVzZSB0aGVcbiAqIGBvYnNgIGZ1bmN0aW9uIHRvIHdyYXAgcHJvcGVydHkgcmVhZHMuIFRoaXMgY3JlYXRlcyBzdWJzY3JpcHRpb25zIHRoYXQgd2lsbCB0cmlnZ2VyIHRoZVxuICogYHdhdGNoRm5gIHRvIHJlcnVuLlxuICpcbiAqIEBzZWUgYFRyYWNrZXJgXG4gKlxuICogQHB1YmxpY1xuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBUaGUgYHVzZVdhdGNoYCBmdW5jdGlvbiBpcyB1c2VkIHRvIG9ic2VydmUgdGhlIGBzdGF0ZS5jb3VudGAgcHJvcGVydHkuIEFueSBjaGFuZ2VzIHRvIHRoZVxuICogYHN0YXRlLmNvdW50YCBjYXVzZSB0aGUgYHdhdGNoRm5gIHRvIGV4ZWN1dGUgd2hpY2ggaW4gdHVybiB1cGRhdGVzIHRoZSBgc3RhdGUuZG91YmxlQ291bnRgIHRvXG4gKiB0aGUgZG91YmxlIG9mIGBzdGF0ZS5jb3VudGAuXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgY291bnQ6IDAsXG4gKiAgICAgZG91YmxlQ291bnQ6IDAsXG4gKiAgICAgZGVib3VuY2VkOiAwLFxuICogICB9KTtcbiAqXG4gKiAgIC8vIERvdWJsZSBjb3VudCB3YXRjaFxuICogICB1c2VXYXRjaCQoKHsgdHJhY2sgfSkgPT4ge1xuICogICAgIGNvbnN0IGNvdW50ID0gdHJhY2soc3RvcmUsICdjb3VudCcpO1xuICogICAgIHN0b3JlLmRvdWJsZUNvdW50ID0gMiAqIGNvdW50O1xuICogICB9KTtcbiAqXG4gKiAgIC8vIERlYm91bmNlciB3YXRjaFxuICogICB1c2VXYXRjaCQoKHsgdHJhY2sgfSkgPT4ge1xuICogICAgIGNvbnN0IGRvdWJsZUNvdW50ID0gdHJhY2soc3RvcmUsICdkb3VibGVDb3VudCcpO1xuICogICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gKiAgICAgICBzdG9yZS5kZWJvdW5jZWQgPSBkb3VibGVDb3VudDtcbiAqICAgICB9LCAyMDAwKTtcbiAqICAgICByZXR1cm4gKCkgPT4ge1xuICogICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPGRpdj5cbiAqICAgICAgICAge3N0b3JlLmNvdW50fSAvIHtzdG9yZS5kb3VibGVDb3VudH1cbiAqICAgICAgIDwvZGl2PlxuICogICAgICAgPGRpdj57c3RvcmUuZGVib3VuY2VkfTwvZGl2PlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gd2F0Y2ggLSBGdW5jdGlvbiB3aGljaCBzaG91bGQgYmUgcmUtZXhlY3V0ZWQgd2hlbiBjaGFuZ2VzIHRvIHRoZSBpbnB1dHMgYXJlIGRldGVjdGVkXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VXYXRjaCQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZVdhdGNoUXJsKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlQ2xpZW50RWZmZWN0XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZUNsaWVudEVmZmVjdCBpbnN0ZWFkKVxuLyoqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IFRpbWVyID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIGNvdW50OiAwLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZUNsaWVudEVmZmVjdCQoKCkgPT4ge1xuICogICAgIC8vIE9ubHkgcnVucyBpbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gKiAgICAgICBzdG9yZS5jb3VudCsrO1xuICogICAgIH0sIDUwMCk7XG4gKiAgICAgcmV0dXJuICgpID0+IHtcbiAqICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIpO1xuICogICAgIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIDxkaXY+e3N0b3JlLmNvdW50fTwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ2xpZW50RWZmZWN0UXJsID0gKHFybDogUVJMPFdhdGNoRm4+LCBvcHRzPzogVXNlRWZmZWN0T3B0aW9ucyk6IHZvaWQgPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBpLCBjdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxib29sZWFuPigpO1xuICBpZiAoZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFzc2VydFFybChxcmwpO1xuICBjb25zdCBlbCA9IGN0eC4kaG9zdEVsZW1lbnQkO1xuICBjb25zdCB3YXRjaCA9IG5ldyBXYXRjaChXYXRjaEZsYWdzSXNFZmZlY3QsIGksIGVsLCBxcmwsIHVuZGVmaW5lZCk7XG4gIGNvbnN0IGVhZ2VybmVzcyA9IG9wdHM/LmVhZ2VybmVzcyA/PyAndmlzaWJsZSc7XG4gIGNvbnN0IGVsQ3R4ID0gZ2V0Q29udGV4dChlbCk7XG4gIHNldCh0cnVlKTtcbiAgaWYgKCFlbEN0eC4kd2F0Y2hlcyQpIHtcbiAgICBlbEN0eC4kd2F0Y2hlcyQgPSBbXTtcbiAgfVxuICBlbEN0eC4kd2F0Y2hlcyQucHVzaCh3YXRjaCk7XG4gIHVzZVJ1bldhdGNoKHdhdGNoLCBlYWdlcm5lc3MpO1xuICBpZiAoIWlzU2VydmVyKGN0eCkpIHtcbiAgICBxcmwuJHJlc29sdmVMYXp5JCgpO1xuICAgIG5vdGlmeVdhdGNoKHdhdGNoLCBjdHguJHJlbmRlckN0eCQuJHN0YXRpYyQuJGNvbnRhaW5lclN0YXRlJCk7XG4gIH1cbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNsaWVudEVmZmVjdFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VDbGllbnRFZmZlY3QgaW5zdGVhZClcbi8qKlxuICogYGBgdHN4XG4gKiBjb25zdCBUaW1lciA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICBjb3VudDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VDbGllbnRFZmZlY3QkKCgpID0+IHtcbiAqICAgICAvLyBPbmx5IHJ1bnMgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICogICAgICAgc3RvcmUuY291bnQrKztcbiAqICAgICB9LCA1MDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiA8ZGl2PntzdG9yZS5jb3VudH08L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNsaWVudEVmZmVjdCQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZUNsaWVudEVmZmVjdFFybCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVNlcnZlck1vdW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyJ3MgYSBzZXJ2ZXIgbW91bnQgaG9vayB0aGF0IHJ1bnMgb25seSBpbiB0aGUgc2VydmVyIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdFxuICogbW91bnRlZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgdXNlcnM6IFtdLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZVNlcnZlck1vdW50JChhc3luYyAoKSA9PiB7XG4gKiAgICAgLy8gVGhpcyBjb2RlIHdpbGwgT05MWSBydW4gb25jZSBpbiB0aGUgc2VydmVyLCB3aGVuIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZFxuICogICAgIHN0b3JlLnVzZXJzID0gYXdhaXQgZGIucmVxdWVzdFVzZXJzKCk7XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAge3N0b3JlLnVzZXJzLm1hcCgodXNlcikgPT4gKFxuICogICAgICAgICA8VXNlciB1c2VyPXt1c2VyfSAvPlxuICogICAgICAgKSl9XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBpbnRlcmZhY2UgVXNlciB7XG4gKiAgIG5hbWU6IHN0cmluZztcbiAqIH1cbiAqIGZ1bmN0aW9uIFVzZXIocHJvcHM6IHsgdXNlcjogVXNlciB9KSB7XG4gKiAgIHJldHVybiA8ZGl2Pk5hbWU6IHtwcm9wcy51c2VyLm5hbWV9PC9kaXY+O1xuICogfVxuICogYGBgXG4gKlxuICogQHNlZSBgdXNlTW91bnRgXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VTZXJ2ZXJNb3VudFFybCA9IDxUPihtb3VudFFybDogUVJMPE1vdW50Rm48VD4+KTogdm9pZCA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPGJvb2xlYW4+KCk7XG4gIGlmIChnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoaXNTZXJ2ZXIoY3R4KSkge1xuICAgIHdhaXRBbmRSdW4oY3R4LCBtb3VudFFybCk7XG4gICAgc2V0KHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfY2FuTm90TW91bnRVc2VTZXJ2ZXJNb3VudCwgY3R4LiRob3N0RWxlbWVudCQpO1xuICB9XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTZXJ2ZXJNb3VudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VTZXJ2ZXJNb3VudCBpbnN0ZWFkKVxuLyoqXG4gKiBSZWdpc3RlcidzIGEgc2VydmVyIG1vdW50IGhvb2sgdGhhdCBydW5zIG9ubHkgaW4gdGhlIHNlcnZlciB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3RcbiAqIG1vdW50ZWQuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgQ21wID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe1xuICogICAgIHVzZXJzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICB1c2VTZXJ2ZXJNb3VudCQoYXN5bmMgKCkgPT4ge1xuICogICAgIC8vIFRoaXMgY29kZSB3aWxsIE9OTFkgcnVuIG9uY2UgaW4gdGhlIHNlcnZlciwgd2hlbiB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWRcbiAqICAgICBzdG9yZS51c2VycyA9IGF3YWl0IGRiLnJlcXVlc3RVc2VycygpO1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIHtzdG9yZS51c2Vycy5tYXAoKHVzZXIpID0+IChcbiAqICAgICAgICAgPFVzZXIgdXNlcj17dXNlcn0gLz5cbiAqICAgICAgICkpfVxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKlxuICogaW50ZXJmYWNlIFVzZXIge1xuICogICBuYW1lOiBzdHJpbmc7XG4gKiB9XG4gKiBmdW5jdGlvbiBVc2VyKHByb3BzOiB7IHVzZXI6IFVzZXIgfSkge1xuICogICByZXR1cm4gPGRpdj5OYW1lOiB7cHJvcHMudXNlci5uYW1lfTwvZGl2PjtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZU1vdW50YFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU2VydmVyTW91bnQkID0gLyojX19QVVJFX18qLyBpbXBsaWNpdCRGaXJzdEFyZyh1c2VTZXJ2ZXJNb3VudFFybCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZU1vdW50XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZU1vdW50IGluc3RlYWQpXG4vKipcbiAqIFJlZ2lzdGVyIGEgc2VydmVyIG1vdW50IGhvb2sgdGhhdCBydW5zIG9ubHkgaW4gdGhlIHNlcnZlciB3aGVuIHRoZSBjb21wb25lbnQgaXMgZmlyc3QgbW91bnRlZC5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiBjb25zdCBDbXAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSh7XG4gKiAgICAgdGVtcDogMCxcbiAqICAgfSk7XG4gKlxuICogICB1c2VNb3VudCQoYXN5bmMgKCkgPT4ge1xuICogICAgIC8vIFRoaXMgY29kZSB3aWxsIHJ1biBvbmNlIHdoZW5ldmVyIGEgY29tcG9uZW50IGlzIG1vdW50ZWQgaW4gdGhlIHNlcnZlciwgb3IgaW4gdGhlIGNsaWVudFxuICogICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCd3ZWF0aGVyLWFwaS5leGFtcGxlJyk7XG4gKiAgICAgY29uc3QganNvbiA9IChhd2FpdCByZXMuanNvbigpKSBhcyBhbnk7XG4gKiAgICAgc3RvcmUudGVtcCA9IGpzb24udGVtcDtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8cD5UaGUgdGVtcGVyYXR1cmUgaXM6ICR7c3RvcmUudGVtcH08L3A+XG4gKiAgICAgPC9kaXY+XG4gKiAgICk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVNlcnZlck1vdW50YFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlTW91bnRRcmwgPSA8VD4obW91bnRRcmw6IFFSTDxNb3VudEZuPFQ+Pik6IHZvaWQgPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBjdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxib29sZWFuPigpO1xuICBpZiAoZ2V0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGFzc2VydFFybChtb3VudFFybCk7XG4gIG1vdW50UXJsLiRyZXNvbHZlTGF6eSQoKTtcbiAgd2FpdEFuZFJ1bihjdHgsIG1vdW50UXJsKTtcbiAgc2V0KHRydWUpO1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlTW91bnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlTW91bnQgaW5zdGVhZClcbi8qKlxuICogUmVnaXN0ZXIgYSBzZXJ2ZXIgbW91bnQgaG9vayB0aGF0IHJ1bnMgb25seSBpbiB0aGUgc2VydmVyIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdCBtb3VudGVkLlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBzdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB0ZW1wOiAwLFxuICogICB9KTtcbiAqXG4gKiAgIHVzZU1vdW50JChhc3luYyAoKSA9PiB7XG4gKiAgICAgLy8gVGhpcyBjb2RlIHdpbGwgcnVuIG9uY2Ugd2hlbmV2ZXIgYSBjb21wb25lbnQgaXMgbW91bnRlZCBpbiB0aGUgc2VydmVyLCBvciBpbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ3dlYXRoZXItYXBpLmV4YW1wbGUnKTtcbiAqICAgICBjb25zdCBqc29uID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIGFueTtcbiAqICAgICBzdG9yZS50ZW1wID0ganNvbi50ZW1wO1xuICogICB9KTtcbiAqXG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxwPlRoZSB0ZW1wZXJhdHVyZSBpczogJHtzdG9yZS50ZW1wfTwvcD5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU2VydmVyTW91bnRgXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCB1c2VNb3VudCQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZU1vdW50UXJsKTtcblxuZXhwb3J0IHR5cGUgU3Vic2NyaWJlciA9IFN1YnNjcmliZXJEZXNjcmlwdG9yIHwgUXdpa0VsZW1lbnQ7XG5cbmV4cG9ydCB0eXBlIFdhdGNoRGVzY3JpcHRvciA9IERlc2NyaXB0b3JCYXNlPFdhdGNoRm4+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlc291cmNlRGVzY3JpcHRvcjxUPiBleHRlbmRzIERlc2NyaXB0b3JCYXNlPFJlc291cmNlRm48VD4sIFJlc291cmNlUmV0dXJuPFQ+PiB7fVxuXG5leHBvcnQgdHlwZSBTdWJzY3JpYmVyRGVzY3JpcHRvciA9IFdhdGNoRGVzY3JpcHRvciB8IFJlc291cmNlRGVzY3JpcHRvcjxhbnk+O1xuXG5leHBvcnQgY29uc3QgaXNSZXNvdXJjZVdhdGNoID0gKHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvcik6IHdhdGNoIGlzIFJlc291cmNlRGVzY3JpcHRvcjxhbnk+ID0+IHtcbiAgcmV0dXJuICEhd2F0Y2guJHJlc291cmNlJDtcbn07XG5cbmV4cG9ydCBjb25zdCBydW5TdWJzY3JpYmVyID0gYXN5bmMgKFxuICB3YXRjaDogU3Vic2NyaWJlckRlc2NyaXB0b3IsXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZVxuKSA9PiB7XG4gIGFzc2VydEVxdWFsKCEhKHdhdGNoLiRmbGFncyQgJiBXYXRjaEZsYWdzSXNEaXJ0eSksIHRydWUsICdSZXNvdXJjZSBpcyBub3QgZGlydHknLCB3YXRjaCk7XG4gIGlmIChpc1Jlc291cmNlV2F0Y2god2F0Y2gpKSB7XG4gICAgYXdhaXQgcnVuUmVzb3VyY2Uod2F0Y2gsIGNvbnRhaW5lclN0YXRlKTtcbiAgfSBlbHNlIHtcbiAgICBhd2FpdCBydW5XYXRjaCh3YXRjaCwgY29udGFpbmVyU3RhdGUpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcnVuUmVzb3VyY2UgPSA8VD4oXG4gIHdhdGNoOiBSZXNvdXJjZURlc2NyaXB0b3I8VD4sXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSxcbiAgd2FpdE9uPzogUHJvbWlzZTxhbnk+XG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIHdhdGNoLiRmbGFncyQgJj0gfldhdGNoRmxhZ3NJc0RpcnR5O1xuICBjbGVhbnVwV2F0Y2god2F0Y2gpO1xuXG4gIGNvbnN0IGVsID0gd2F0Y2guJGVsJDtcbiAgY29uc3QgZG9jID0gZ2V0RG9jdW1lbnQoZWwpO1xuICBjb25zdCBpbnZva2F0aW9uQ29udGV4dCA9IG5ld0ludm9rZUNvbnRleHQoZG9jLCBlbCwgdW5kZWZpbmVkLCAnV2F0Y2hFdmVudCcpO1xuICBjb25zdCB7ICRzdWJzTWFuYWdlciQ6IHN1YnNNYW5hZ2VyIH0gPSBjb250YWluZXJTdGF0ZTtcbiAgY29uc3Qgd2F0Y2hGbiA9IHdhdGNoLiRxcmwkLmdldEZuKGludm9rYXRpb25Db250ZXh0LCAoKSA9PiB7XG4gICAgc3Vic01hbmFnZXIuJGNsZWFyU3ViJCh3YXRjaCk7XG4gIH0pO1xuXG4gIGNvbnN0IGNsZWFudXBzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuICBjb25zdCByZXNvdXJjZSA9IHdhdGNoLiRyZXNvdXJjZSQ7XG4gIGFzc2VydERlZmluZWQoXG4gICAgcmVzb3VyY2UsXG4gICAgJ3VzZVJlc291cmNlOiB3aGVuIHJ1bm5pbmcgYSByZXNvdXJjZSwgXCJ3YXRjaC5yXCIgbXVzdCBiZSBhIGRlZmluZWQuJyxcbiAgICB3YXRjaFxuICApO1xuXG4gIGNvbnN0IHRyYWNrOiBUcmFja2VyID0gKG9iajogYW55LCBwcm9wPzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0UHJveHlUYXJnZXQob2JqKTtcbiAgICBpZiAodGFyZ2V0KSB7XG4gICAgICBjb25zdCBtYW5hZ2VyID0gc3Vic01hbmFnZXIuJGdldExvY2FsJCh0YXJnZXQpO1xuICAgICAgbWFuYWdlci4kYWRkU3ViJCh3YXRjaCwgcHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ0Vycm9yQW5kU3RvcChjb2RlVG9UZXh0KFFFcnJvcl90cmFja1VzZVN0b3JlKSwgb2JqKTtcbiAgICB9XG4gICAgaWYgKHByb3ApIHtcbiAgICAgIHJldHVybiBvYmpbcHJvcF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICB9O1xuICBjb25zdCByZXNvdXJjZVRhcmdldCA9IHVud3JhcFByb3h5KHJlc291cmNlKTtcbiAgY29uc3Qgb3B0czogUmVzb3VyY2VDdHg8VD4gPSB7XG4gICAgdHJhY2ssXG4gICAgY2xlYW51cChjYWxsYmFjaykge1xuICAgICAgY2xlYW51cHMucHVzaChjYWxsYmFjayk7XG4gICAgfSxcbiAgICBwcmV2aW91czogcmVzb3VyY2VUYXJnZXQucmVzb2x2ZWQsXG4gIH07XG5cbiAgbGV0IHJlc29sdmU6ICh2OiBUKSA9PiB2b2lkO1xuICBsZXQgcmVqZWN0OiAodjogYW55KSA9PiB2b2lkO1xuICBsZXQgZG9uZSA9IGZhbHNlO1xuXG4gIGNvbnN0IHNldFN0YXRlID0gKHJlc29sdmVkOiBib29sZWFuLCB2YWx1ZTogYW55KSA9PiB7XG4gICAgaWYgKCFkb25lKSB7XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIGlmIChyZXNvbHZlZCkge1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVzb3VyY2Uuc3RhdGUgPSAncmVzb2x2ZWQnO1xuICAgICAgICByZXNvdXJjZS5yZXNvbHZlZCA9IHZhbHVlO1xuICAgICAgICByZXNvdXJjZS5lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgcmVzb3VyY2Uuc3RhdGUgPSAncmVqZWN0ZWQnO1xuICAgICAgICByZXNvdXJjZS5yZXNvbHZlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmVzb3VyY2UuZXJyb3IgPSB2YWx1ZTtcbiAgICAgICAgcmVqZWN0KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gRXhlY3V0ZSBtdXRhdGlvbiBpbnNpZGUgZW1wdHkgaW52b2thdGlvblxuICBpbnZva2UoaW52b2thdGlvbkNvbnRleHQsICgpID0+IHtcbiAgICByZXNvdXJjZS5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICByZXNvdXJjZS5yZXNvbHZlZCA9IHVuZGVmaW5lZCBhcyBhbnk7XG4gICAgcmVzb3VyY2UucHJvbWlzZSA9IG5ldyBQcm9taXNlKChyLCByZSkgPT4ge1xuICAgICAgcmVzb2x2ZSA9IHI7XG4gICAgICByZWplY3QgPSByZTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgd2F0Y2guJGRlc3Ryb3kkID0gbm9TZXJpYWxpemUoKCkgPT4ge1xuICAgIGNsZWFudXBzLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgfSk7XG5cbiAgY29uc3QgcHJvbWlzZSA9IHNhZmVDYWxsKFxuICAgICgpID0+IHRoZW4od2FpdE9uLCAoKSA9PiB3YXRjaEZuKG9wdHMpKSxcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIHNldFN0YXRlKHRydWUsIHZhbHVlKTtcbiAgICB9LFxuICAgIChyZWFzb24pID0+IHtcbiAgICAgIHNldFN0YXRlKGZhbHNlLCByZWFzb24pO1xuICAgIH1cbiAgKTtcblxuICBjb25zdCB0aW1lb3V0ID0gcmVzb3VyY2VUYXJnZXQudGltZW91dDtcbiAgaWYgKHRpbWVvdXQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgIHByb21pc2UsXG4gICAgICBkZWxheSh0aW1lb3V0KS50aGVuKCgpID0+IHtcbiAgICAgICAgaWYgKHNldFN0YXRlKGZhbHNlLCAndGltZW91dCcpKSB7XG4gICAgICAgICAgY2xlYW51cFdhdGNoKHdhdGNoKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgXSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG5leHBvcnQgY29uc3QgcnVuV2F0Y2ggPSAoXG4gIHdhdGNoOiBXYXRjaERlc2NyaXB0b3IsXG4gIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZVxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICB3YXRjaC4kZmxhZ3MkICY9IH5XYXRjaEZsYWdzSXNEaXJ0eTtcblxuICBjbGVhbnVwV2F0Y2god2F0Y2gpO1xuICBjb25zdCBlbCA9IHdhdGNoLiRlbCQ7XG4gIGNvbnN0IGRvYyA9IGdldERvY3VtZW50KGVsKTtcbiAgY29uc3QgaW52b2thdGlvbkNvbnRleHQgPSBuZXdJbnZva2VDb250ZXh0KGRvYywgZWwsIHVuZGVmaW5lZCwgJ1dhdGNoRXZlbnQnKTtcbiAgY29uc3QgeyAkc3Vic01hbmFnZXIkOiBzdWJzTWFuYWdlciB9ID0gY29udGFpbmVyU3RhdGU7XG4gIGNvbnN0IHdhdGNoRm4gPSB3YXRjaC4kcXJsJC5nZXRGbihpbnZva2F0aW9uQ29udGV4dCwgKCkgPT4ge1xuICAgIHN1YnNNYW5hZ2VyLiRjbGVhclN1YiQod2F0Y2gpO1xuICB9KSBhcyBXYXRjaEZuO1xuICBjb25zdCB0cmFjazogVHJhY2tlciA9IChvYmo6IGFueSwgcHJvcD86IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGdldFByb3h5VGFyZ2V0KG9iaik7XG4gICAgaWYgKHRhcmdldCkge1xuICAgICAgY29uc3QgbWFuYWdlciA9IHN1YnNNYW5hZ2VyLiRnZXRMb2NhbCQodGFyZ2V0KTtcbiAgICAgIG1hbmFnZXIuJGFkZFN1YiQod2F0Y2gsIHByb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2dFcnJvckFuZFN0b3AoY29kZVRvVGV4dChRRXJyb3JfdHJhY2tVc2VTdG9yZSksIG9iaik7XG4gICAgfVxuICAgIGlmIChwcm9wKSB7XG4gICAgICByZXR1cm4gb2JqW3Byb3BdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgY2xlYW51cHM6ICgoKSA9PiB2b2lkKVtdID0gW107XG4gIHdhdGNoLiRkZXN0cm95JCA9IG5vU2VyaWFsaXplKCgpID0+IHtcbiAgICBjbGVhbnVwcy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gIH0pO1xuXG4gIGNvbnN0IG9wdHM6IFdhdGNoQ3R4ID0ge1xuICAgIHRyYWNrLFxuICAgIGNsZWFudXAoY2FsbGJhY2spIHtcbiAgICAgIGNsZWFudXBzLnB1c2goY2FsbGJhY2spO1xuICAgIH0sXG4gIH07XG4gIHJldHVybiBzYWZlQ2FsbChcbiAgICAoKSA9PiB3YXRjaEZuKG9wdHMpLFxuICAgIChyZXR1cm5WYWx1ZSkgPT4ge1xuICAgICAgaWYgKGlzRnVuY3Rpb24ocmV0dXJuVmFsdWUpKSB7XG4gICAgICAgIGNsZWFudXBzLnB1c2gocmV0dXJuVmFsdWUpO1xuICAgICAgfVxuICAgIH0sXG4gICAgKHJlYXNvbikgPT4ge1xuICAgICAgbG9nRXJyb3IocmVhc29uKTtcbiAgICB9XG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgY2xlYW51cFdhdGNoID0gKHdhdGNoOiBTdWJzY3JpYmVyRGVzY3JpcHRvcikgPT4ge1xuICBjb25zdCBkZXN0cm95ID0gd2F0Y2guJGRlc3Ryb3kkO1xuICBpZiAoZGVzdHJveSkge1xuICAgIHdhdGNoLiRkZXN0cm95JCA9IHVuZGVmaW5lZDtcbiAgICB0cnkge1xuICAgICAgZGVzdHJveSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgbG9nRXJyb3IoZXJyKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZXN0cm95V2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yKSA9PiB7XG4gIGlmICh3YXRjaC4kZmxhZ3MkICYgV2F0Y2hGbGFnc0lzQ2xlYW51cCkge1xuICAgIHdhdGNoLiRmbGFncyQgJj0gfldhdGNoRmxhZ3NJc0NsZWFudXA7XG4gICAgY29uc3QgY2xlYW51cCA9IHdhdGNoLiRxcmwkO1xuICAgIChjbGVhbnVwIGFzIGFueSkoKTtcbiAgfSBlbHNlIHtcbiAgICBjbGVhbnVwV2F0Y2god2F0Y2gpO1xuICB9XG59O1xuXG5jb25zdCB1c2VSdW5XYXRjaCA9ICh3YXRjaDogU3Vic2NyaWJlckRlc2NyaXB0b3IsIGVhZ2VybmVzczogRWFnZXJuZXNzT3B0aW9ucyB8IHVuZGVmaW5lZCkgPT4ge1xuICBpZiAoZWFnZXJuZXNzID09PSAnbG9hZCcpIHtcbiAgICB1c2VPbigncWluaXQnLCBnZXRXYXRjaEhhbmRsZXJRcmwod2F0Y2gpKTtcbiAgfSBlbHNlIGlmIChlYWdlcm5lc3MgPT09ICd2aXNpYmxlJykge1xuICAgIHVzZU9uKCdxdmlzaWJsZScsIGdldFdhdGNoSGFuZGxlclFybCh3YXRjaCkpO1xuICB9XG59O1xuXG5jb25zdCBnZXRXYXRjaEhhbmRsZXJRcmwgPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yKSA9PiB7XG4gIGNvbnN0IHdhdGNoUXJsID0gd2F0Y2guJHFybCQ7XG4gIGNvbnN0IHdhdGNoSGFuZGxlciA9IGNyZWF0ZVFSTChcbiAgICB3YXRjaFFybC4kY2h1bmskLFxuICAgICdfaFcnLFxuICAgIF9oVyxcbiAgICBudWxsLFxuICAgIG51bGwsXG4gICAgW3dhdGNoXSxcbiAgICB3YXRjaFFybC4kc3ltYm9sJFxuICApO1xuICByZXR1cm4gd2F0Y2hIYW5kbGVyO1xufTtcblxuZXhwb3J0IGNvbnN0IGlzV2F0Y2hDbGVhbnVwID0gKG9iajogYW55KTogb2JqIGlzIFdhdGNoRGVzY3JpcHRvciA9PiB7XG4gIHJldHVybiBpc1N1YnNjcmliZXJEZXNjcmlwdG9yKG9iaikgJiYgISEob2JqLiRmbGFncyQgJiBXYXRjaEZsYWdzSXNDbGVhbnVwKTtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1N1YnNjcmliZXJEZXNjcmlwdG9yID0gKG9iajogYW55KTogb2JqIGlzIFN1YnNjcmliZXJEZXNjcmlwdG9yID0+IHtcbiAgcmV0dXJuIGlzT2JqZWN0KG9iaikgJiYgb2JqIGluc3RhbmNlb2YgV2F0Y2g7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VyaWFsaXplV2F0Y2ggPSAod2F0Y2g6IFN1YnNjcmliZXJEZXNjcmlwdG9yLCBnZXRPYmpJZDogR2V0T2JqSUQpID0+IHtcbiAgbGV0IHZhbHVlID0gYCR7aW50VG9TdHIod2F0Y2guJGZsYWdzJCl9ICR7aW50VG9TdHIod2F0Y2guJGluZGV4JCl9ICR7Z2V0T2JqSWQoXG4gICAgd2F0Y2guJHFybCRcbiAgKX0gJHtnZXRPYmpJZCh3YXRjaC4kZWwkKX1gO1xuICBpZiAoaXNSZXNvdXJjZVdhdGNoKHdhdGNoKSkge1xuICAgIHZhbHVlICs9IGAgJHtnZXRPYmpJZCh3YXRjaC4kcmVzb3VyY2UkKX1gO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBwYXJzZVdhdGNoID0gKGRhdGE6IHN0cmluZykgPT4ge1xuICBjb25zdCBbZmxhZ3MsIGluZGV4LCBxcmwsIGVsLCByZXNvdXJjZV0gPSBkYXRhLnNwbGl0KCcgJyk7XG4gIHJldHVybiBuZXcgV2F0Y2goc3RyVG9JbnQoZmxhZ3MpLCBzdHJUb0ludChpbmRleCksIGVsIGFzIGFueSwgcXJsIGFzIGFueSwgcmVzb3VyY2UgYXMgYW55KTtcbn07XG5cbmV4cG9ydCBjbGFzcyBXYXRjaCBpbXBsZW1lbnRzIERlc2NyaXB0b3JCYXNlPGFueSwgYW55PiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyAkZmxhZ3MkOiBudW1iZXIsXG4gICAgcHVibGljICRpbmRleCQ6IG51bWJlcixcbiAgICBwdWJsaWMgJGVsJDogUXdpa0VsZW1lbnQsXG4gICAgcHVibGljICRxcmwkOiBRUkxJbnRlcm5hbDxhbnk+LFxuICAgIHB1YmxpYyAkcmVzb3VyY2UkOiBSZXNvdXJjZVJldHVybjxhbnk+IHwgdW5kZWZpbmVkXG4gICkge31cbn1cblxuZXhwb3J0IHR5cGUgUmVzb3VyY2VSZXR1cm5JbnRlcm5hbDxUID0gYW55PiA9IFJlc291cmNlUmV0dXJuPFQ+ICYgeyBkaXJ0eTogYm9vbGVhbiB9O1xuIl19","import { createProxy, getProxyTarget } from '../object/q-object';\nimport { getContext } from '../props/props';\nimport { $ } from '../import/qrl.public';\nimport { assertQrl } from '../import/qrl-class';\nimport { runResource, WatchFlagsIsDirty, WatchFlagsIsResource, Watch, } from './use-watch';\nimport { Fragment, jsx } from '../render/jsx/jsx-runtime';\nimport { qDev } from '../util/qdev';\nimport { isServer } from '../platform/platform';\nimport { getInvokeContext, useBindInvokeContext } from './use-core';\nimport { isObject } from '../util/types';\nimport { useSequentialScope } from './use-sequential-scope';\n/**\n * @public\n */\nexport const useResourceQrl = (qrl, opts) => {\n    const { get, set, i, ctx } = useSequentialScope();\n    if (get != null) {\n        return get;\n    }\n    assertQrl(qrl);\n    const containerState = ctx.$renderCtx$.$static$.$containerState$;\n    const resource = createResourceReturn(containerState, opts);\n    const el = ctx.$hostElement$;\n    const watch = new Watch(WatchFlagsIsDirty | WatchFlagsIsResource, i, el, qrl, resource);\n    const previousWait = Promise.all(ctx.$waitOn$.slice());\n    const elCtx = getContext(el);\n    runResource(watch, containerState, previousWait);\n    if (!elCtx.$watches$) {\n        elCtx.$watches$ = [];\n    }\n    elCtx.$watches$.push(watch);\n    set(resource);\n    return resource;\n};\n/**\n * @public\n */\nexport const useResource$ = (generatorFn, opts) => {\n    return useResourceQrl($(generatorFn), opts);\n};\n/**\n * @public\n */\nexport const Resource = (props) => {\n    const isBrowser = !qDev || !useIsServer();\n    if (isBrowser) {\n        if (props.onRejected) {\n            props.value.promise.catch(() => { });\n            if (props.value.state === 'rejected') {\n                return props.onRejected(props.value.error);\n            }\n        }\n        if (props.onPending) {\n            const state = props.value.state;\n            if (state === 'pending') {\n                return props.onPending();\n            }\n            else if (state === 'resolved') {\n                return props.onResolved(props.value.resolved);\n            }\n        }\n    }\n    const promise = props.value.promise.then(useBindInvokeContext(props.onResolved), useBindInvokeContext(props.onRejected));\n    // if (isServer) {\n    //   const onPending = props.onPending;\n    //   if (props.ssrWait && onPending) {\n    //     promise = Promise.race([\n    //       delay(props.ssrWait).then(() => {\n    //         getInternalResource(props.resource).dirty = true;\n    //         return onPending();\n    //       }),\n    //       promise,\n    //     ]);\n    //   }\n    // }\n    // Resource path\n    return jsx(Fragment, {\n        children: promise,\n    });\n};\nexport const _createResourceReturn = (opts) => {\n    const resource = {\n        __brand: 'resource',\n        promise: undefined,\n        resolved: undefined,\n        error: undefined,\n        state: 'pending',\n        timeout: opts?.timeout,\n    };\n    return resource;\n};\nexport const createResourceReturn = (containerState, opts, initialPromise) => {\n    const result = _createResourceReturn(opts);\n    result.promise = initialPromise;\n    const resource = createProxy(result, containerState, 0, undefined);\n    return resource;\n};\nexport const useIsServer = () => {\n    const ctx = getInvokeContext();\n    return isServer(ctx);\n};\nexport const getInternalResource = (resource) => {\n    return getProxyTarget(resource);\n};\nexport const isResourceReturn = (obj) => {\n    return isObject(obj) && obj.__brand === 'resource';\n};\nexport const serializeResource = (resource, getObjId) => {\n    const state = resource.state;\n    if (state === 'resolved') {\n        return `0 ${getObjId(resource.resolved)}`;\n    }\n    else if (state === 'pending') {\n        return `1`;\n    }\n    else {\n        return `2 ${getObjId(resource.error)}`;\n    }\n};\nexport const parseResourceReturn = (data) => {\n    const [first, id] = data.split(' ');\n    const result = _createResourceReturn(undefined);\n    result.promise = Promise.resolve();\n    if (first === '0') {\n        result.state = 'resolved';\n        result.resolved = id;\n    }\n    else if (first === '1') {\n        result.state = 'pending';\n        result.promise = new Promise(() => { });\n    }\n    else if (first === '2') {\n        result.state = 'rejected';\n        result.error = id;\n    }\n    return result;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlc291cmNlLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtcmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNqRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLENBQUMsRUFBTyxNQUFNLHNCQUFzQixDQUFDO0FBQzlDLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxxQkFBcUIsQ0FBQztBQUNoRCxPQUFPLEVBSUwsV0FBVyxFQUNYLGlCQUFpQixFQUNqQixvQkFBb0IsRUFFcEIsS0FBSyxHQUNOLE1BQU0sYUFBYSxDQUFDO0FBQ3JCLE9BQU8sRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFMUQsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwQyxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDaEQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLG9CQUFvQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRXBFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHekMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFVNUQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FDNUIsR0FBdUIsRUFDdkIsSUFBc0IsRUFDSCxFQUFFO0lBQ3JCLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxrQkFBa0IsRUFBcUIsQ0FBQztJQUNyRSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7UUFDZixPQUFPLEdBQUcsQ0FBQztLQUNaO0lBQ0QsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRWYsTUFBTSxjQUFjLEdBQUcsR0FBRyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUM7SUFDakUsTUFBTSxRQUFRLEdBQUcsb0JBQW9CLENBQUksY0FBYyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQy9ELE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7SUFDN0IsTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQ3JCLGlCQUFpQixHQUFHLG9CQUFvQixFQUN4QyxDQUFDLEVBQ0QsRUFBRSxFQUNGLEdBQUcsRUFDSCxRQUFRLENBQ2tCLENBQUM7SUFDN0IsTUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7SUFDdkQsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzdCLFdBQVcsQ0FBQyxLQUFLLEVBQUUsY0FBYyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ2pELElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxFQUFFO1FBQ3BCLEtBQUssQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO0tBQ3RCO0lBQ0QsS0FBSyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUIsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRWQsT0FBTyxRQUFRLENBQUM7QUFDbEIsQ0FBQyxDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FDMUIsV0FBMEIsRUFDMUIsSUFBc0IsRUFDSCxFQUFFO0lBQ3JCLE9BQU8sY0FBYyxDQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNqRCxDQUFDLENBQUM7QUFZRjs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFJLEtBQXVCLEVBQVcsRUFBRTtJQUM5RCxNQUFNLFNBQVMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzFDLElBQUksU0FBUyxFQUFFO1FBQ2IsSUFBSSxLQUFLLENBQUMsVUFBVSxFQUFFO1lBQ3BCLEtBQUssQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRSxDQUFDLENBQUMsQ0FBQztZQUNwQyxJQUFJLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxLQUFLLFVBQVUsRUFBRTtnQkFDcEMsT0FBTyxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDNUM7U0FDRjtRQUNELElBQUksS0FBSyxDQUFDLFNBQVMsRUFBRTtZQUNuQixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztZQUNoQyxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUU7Z0JBQ3ZCLE9BQU8sS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDO2FBQzFCO2lCQUFNLElBQUksS0FBSyxLQUFLLFVBQVUsRUFBRTtnQkFDL0IsT0FBTyxLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7YUFDL0M7U0FDRjtLQUNGO0lBRUQsTUFBTSxPQUFPLEdBQVEsS0FBSyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUMzQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLEVBQ3RDLG9CQUFvQixDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FDdkMsQ0FBQztJQUNGLGtCQUFrQjtJQUNsQix1Q0FBdUM7SUFDdkMsc0NBQXNDO0lBQ3RDLCtCQUErQjtJQUMvQiwwQ0FBMEM7SUFDMUMsNERBQTREO0lBQzVELDhCQUE4QjtJQUM5QixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFVBQVU7SUFDVixNQUFNO0lBQ04sSUFBSTtJQUVKLGdCQUFnQjtJQUNoQixPQUFPLEdBQUcsQ0FBQyxRQUFRLEVBQUU7UUFDbkIsUUFBUSxFQUFFLE9BQU87S0FDbEIsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsQ0FBSSxJQUFzQixFQUFxQixFQUFFO0lBQ3BGLE1BQU0sUUFBUSxHQUFzQjtRQUNsQyxPQUFPLEVBQUUsVUFBVTtRQUNuQixPQUFPLEVBQUUsU0FBa0I7UUFDM0IsUUFBUSxFQUFFLFNBQWtCO1FBQzVCLEtBQUssRUFBRSxTQUFrQjtRQUN6QixLQUFLLEVBQUUsU0FBUztRQUNoQixPQUFPLEVBQUUsSUFBSSxFQUFFLE9BQU87S0FDdkIsQ0FBQztJQUNGLE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLG9CQUFvQixHQUFHLENBQ2xDLGNBQThCLEVBQzlCLElBQXNCLEVBQ3RCLGNBQTJCLEVBQ1IsRUFBRTtJQUNyQixNQUFNLE1BQU0sR0FBRyxxQkFBcUIsQ0FBSSxJQUFJLENBQUMsQ0FBQztJQUM5QyxNQUFNLENBQUMsT0FBTyxHQUFHLGNBQXFCLENBQUM7SUFDdkMsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLE1BQU0sRUFBRSxjQUFjLEVBQUUsQ0FBQyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ25FLE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxHQUFHLEVBQUU7SUFDOUIsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQixPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUN2QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxDQUFJLFFBQTJCLEVBQTZCLEVBQUU7SUFDL0YsT0FBTyxjQUFjLENBQUMsUUFBUSxDQUFRLENBQUM7QUFDekMsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxHQUFRLEVBQThCLEVBQUU7SUFDdkUsT0FBTyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLE9BQU8sS0FBSyxVQUFVLENBQUM7QUFDckQsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxRQUE2QixFQUFFLFFBQWtCLEVBQUUsRUFBRTtJQUNyRixNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO0lBQzdCLElBQUksS0FBSyxLQUFLLFVBQVUsRUFBRTtRQUN4QixPQUFPLEtBQUssUUFBUSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO0tBQzNDO1NBQU0sSUFBSSxLQUFLLEtBQUssU0FBUyxFQUFFO1FBQzlCLE9BQU8sR0FBRyxDQUFDO0tBQ1o7U0FBTTtRQUNMLE9BQU8sS0FBSyxRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7S0FDeEM7QUFDSCxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxtQkFBbUIsR0FBRyxDQUFJLElBQVksRUFBcUIsRUFBRTtJQUN4RSxNQUFNLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEMsTUFBTSxNQUFNLEdBQUcscUJBQXFCLENBQUksU0FBUyxDQUFDLENBQUM7SUFDbkQsTUFBTSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUMsT0FBTyxFQUFTLENBQUM7SUFDMUMsSUFBSSxLQUFLLEtBQUssR0FBRyxFQUFFO1FBQ2pCLE1BQU0sQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxRQUFRLEdBQUcsRUFBUyxDQUFDO0tBQzdCO1NBQU0sSUFBSSxLQUFLLEtBQUssR0FBRyxFQUFFO1FBQ3hCLE1BQU0sQ0FBQyxLQUFLLEdBQUcsU0FBUyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUUsQ0FBQyxDQUFDLENBQUM7S0FDeEM7U0FBTSxJQUFJLEtBQUssS0FBSyxHQUFHLEVBQUU7UUFDeEIsTUFBTSxDQUFDLEtBQUssR0FBRyxVQUFVLENBQUM7UUFDMUIsTUFBTSxDQUFDLEtBQUssR0FBRyxFQUFTLENBQUM7S0FDMUI7SUFDRCxPQUFPLE1BQU0sQ0FBQztBQUNoQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVQcm94eSwgZ2V0UHJveHlUYXJnZXQgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7ICQsIFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHtcbiAgUmVzb3VyY2VSZXR1cm4sXG4gIFJlc291cmNlRGVzY3JpcHRvcixcbiAgUmVzb3VyY2VGbixcbiAgcnVuUmVzb3VyY2UsXG4gIFdhdGNoRmxhZ3NJc0RpcnR5LFxuICBXYXRjaEZsYWdzSXNSZXNvdXJjZSxcbiAgUmVzb3VyY2VSZXR1cm5JbnRlcm5hbCxcbiAgV2F0Y2gsXG59IGZyb20gJy4vdXNlLXdhdGNoJztcbmltcG9ydCB7IEZyYWdtZW50LCBqc3ggfSBmcm9tICcuLi9yZW5kZXIvanN4L2pzeC1ydW50aW1lJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4uL3JlbmRlci9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBpc1NlcnZlciB9IGZyb20gJy4uL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB7IGdldEludm9rZUNvbnRleHQsIHVzZUJpbmRJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IEdldE9iaklEIH0gZnJvbSAnLi4vb2JqZWN0L3N0b3JlJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyU3RhdGUgfSBmcm9tICcuLi9yZW5kZXIvY29udGFpbmVyJztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXNlcXVlbnRpYWwtc2NvcGUnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZU9wdGlvbnMge1xuICAvLyBUaW1lb3V0IGluIG1pbGxpc2Vjb25kc1xuICB0aW1lb3V0PzogbnVtYmVyO1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IHVzZVJlc291cmNlUXJsID0gPFQ+KFxuICBxcmw6IFFSTDxSZXNvdXJjZUZuPFQ+PixcbiAgb3B0cz86IFJlc291cmNlT3B0aW9uc1xuKTogUmVzb3VyY2VSZXR1cm48VD4gPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBpLCBjdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxSZXNvdXJjZVJldHVybjxUPj4oKTtcbiAgaWYgKGdldCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIGdldDtcbiAgfVxuICBhc3NlcnRRcmwocXJsKTtcblxuICBjb25zdCBjb250YWluZXJTdGF0ZSA9IGN0eC4kcmVuZGVyQ3R4JC4kc3RhdGljJC4kY29udGFpbmVyU3RhdGUkO1xuICBjb25zdCByZXNvdXJjZSA9IGNyZWF0ZVJlc291cmNlUmV0dXJuPFQ+KGNvbnRhaW5lclN0YXRlLCBvcHRzKTtcbiAgY29uc3QgZWwgPSBjdHguJGhvc3RFbGVtZW50JDtcbiAgY29uc3Qgd2F0Y2ggPSBuZXcgV2F0Y2goXG4gICAgV2F0Y2hGbGFnc0lzRGlydHkgfCBXYXRjaEZsYWdzSXNSZXNvdXJjZSxcbiAgICBpLFxuICAgIGVsLFxuICAgIHFybCxcbiAgICByZXNvdXJjZVxuICApIGFzIFJlc291cmNlRGVzY3JpcHRvcjxhbnk+O1xuICBjb25zdCBwcmV2aW91c1dhaXQgPSBQcm9taXNlLmFsbChjdHguJHdhaXRPbiQuc2xpY2UoKSk7XG4gIGNvbnN0IGVsQ3R4ID0gZ2V0Q29udGV4dChlbCk7XG4gIHJ1blJlc291cmNlKHdhdGNoLCBjb250YWluZXJTdGF0ZSwgcHJldmlvdXNXYWl0KTtcbiAgaWYgKCFlbEN0eC4kd2F0Y2hlcyQpIHtcbiAgICBlbEN0eC4kd2F0Y2hlcyQgPSBbXTtcbiAgfVxuICBlbEN0eC4kd2F0Y2hlcyQucHVzaCh3YXRjaCk7XG4gIHNldChyZXNvdXJjZSk7XG5cbiAgcmV0dXJuIHJlc291cmNlO1xufTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBjb25zdCB1c2VSZXNvdXJjZSQgPSA8VD4oXG4gIGdlbmVyYXRvckZuOiBSZXNvdXJjZUZuPFQ+LFxuICBvcHRzPzogUmVzb3VyY2VPcHRpb25zXG4pOiBSZXNvdXJjZVJldHVybjxUPiA9PiB7XG4gIHJldHVybiB1c2VSZXNvdXJjZVFybDxUPigkKGdlbmVyYXRvckZuKSwgb3B0cyk7XG59O1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNvdXJjZVByb3BzPFQ+IHtcbiAgdmFsdWU6IFJlc291cmNlUmV0dXJuPFQ+O1xuICBvblJlc29sdmVkOiAodmFsdWU6IFQpID0+IEpTWE5vZGU7XG4gIG9uUGVuZGluZz86ICgpID0+IEpTWE5vZGU7XG4gIG9uUmVqZWN0ZWQ/OiAocmVhc29uOiBhbnkpID0+IEpTWE5vZGU7XG59XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2UgPSA8VD4ocHJvcHM6IFJlc291cmNlUHJvcHM8VD4pOiBKU1hOb2RlID0+IHtcbiAgY29uc3QgaXNCcm93c2VyID0gIXFEZXYgfHwgIXVzZUlzU2VydmVyKCk7XG4gIGlmIChpc0Jyb3dzZXIpIHtcbiAgICBpZiAocHJvcHMub25SZWplY3RlZCkge1xuICAgICAgcHJvcHMudmFsdWUucHJvbWlzZS5jYXRjaCgoKSA9PiB7fSk7XG4gICAgICBpZiAocHJvcHMudmFsdWUuc3RhdGUgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzLm9uUmVqZWN0ZWQocHJvcHMudmFsdWUuZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvcHMub25QZW5kaW5nKSB7XG4gICAgICBjb25zdCBzdGF0ZSA9IHByb3BzLnZhbHVlLnN0YXRlO1xuICAgICAgaWYgKHN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICAgICAgcmV0dXJuIHByb3BzLm9uUGVuZGluZygpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ3Jlc29sdmVkJykge1xuICAgICAgICByZXR1cm4gcHJvcHMub25SZXNvbHZlZChwcm9wcy52YWx1ZS5yZXNvbHZlZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcHJvbWlzZTogYW55ID0gcHJvcHMudmFsdWUucHJvbWlzZS50aGVuKFxuICAgIHVzZUJpbmRJbnZva2VDb250ZXh0KHByb3BzLm9uUmVzb2x2ZWQpLFxuICAgIHVzZUJpbmRJbnZva2VDb250ZXh0KHByb3BzLm9uUmVqZWN0ZWQpXG4gICk7XG4gIC8vIGlmIChpc1NlcnZlcikge1xuICAvLyAgIGNvbnN0IG9uUGVuZGluZyA9IHByb3BzLm9uUGVuZGluZztcbiAgLy8gICBpZiAocHJvcHMuc3NyV2FpdCAmJiBvblBlbmRpbmcpIHtcbiAgLy8gICAgIHByb21pc2UgPSBQcm9taXNlLnJhY2UoW1xuICAvLyAgICAgICBkZWxheShwcm9wcy5zc3JXYWl0KS50aGVuKCgpID0+IHtcbiAgLy8gICAgICAgICBnZXRJbnRlcm5hbFJlc291cmNlKHByb3BzLnJlc291cmNlKS5kaXJ0eSA9IHRydWU7XG4gIC8vICAgICAgICAgcmV0dXJuIG9uUGVuZGluZygpO1xuICAvLyAgICAgICB9KSxcbiAgLy8gICAgICAgcHJvbWlzZSxcbiAgLy8gICAgIF0pO1xuICAvLyAgIH1cbiAgLy8gfVxuXG4gIC8vIFJlc291cmNlIHBhdGhcbiAgcmV0dXJuIGpzeChGcmFnbWVudCwge1xuICAgIGNoaWxkcmVuOiBwcm9taXNlLFxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBfY3JlYXRlUmVzb3VyY2VSZXR1cm4gPSA8VD4ob3B0cz86IFJlc291cmNlT3B0aW9ucyk6IFJlc291cmNlUmV0dXJuPFQ+ID0+IHtcbiAgY29uc3QgcmVzb3VyY2U6IFJlc291cmNlUmV0dXJuPFQ+ID0ge1xuICAgIF9fYnJhbmQ6ICdyZXNvdXJjZScsXG4gICAgcHJvbWlzZTogdW5kZWZpbmVkIGFzIG5ldmVyLFxuICAgIHJlc29sdmVkOiB1bmRlZmluZWQgYXMgbmV2ZXIsXG4gICAgZXJyb3I6IHVuZGVmaW5lZCBhcyBuZXZlcixcbiAgICBzdGF0ZTogJ3BlbmRpbmcnLFxuICAgIHRpbWVvdXQ6IG9wdHM/LnRpbWVvdXQsXG4gIH07XG4gIHJldHVybiByZXNvdXJjZTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVSZXNvdXJjZVJldHVybiA9IDxUPihcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBvcHRzPzogUmVzb3VyY2VPcHRpb25zLFxuICBpbml0aWFsUHJvbWlzZT86IFByb21pc2U8VD5cbik6IFJlc291cmNlUmV0dXJuPFQ+ID0+IHtcbiAgY29uc3QgcmVzdWx0ID0gX2NyZWF0ZVJlc291cmNlUmV0dXJuPFQ+KG9wdHMpO1xuICByZXN1bHQucHJvbWlzZSA9IGluaXRpYWxQcm9taXNlIGFzIGFueTtcbiAgY29uc3QgcmVzb3VyY2UgPSBjcmVhdGVQcm94eShyZXN1bHQsIGNvbnRhaW5lclN0YXRlLCAwLCB1bmRlZmluZWQpO1xuICByZXR1cm4gcmVzb3VyY2U7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlSXNTZXJ2ZXIgPSAoKSA9PiB7XG4gIGNvbnN0IGN0eCA9IGdldEludm9rZUNvbnRleHQoKTtcbiAgcmV0dXJuIGlzU2VydmVyKGN0eCk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SW50ZXJuYWxSZXNvdXJjZSA9IDxUPihyZXNvdXJjZTogUmVzb3VyY2VSZXR1cm48VD4pOiBSZXNvdXJjZVJldHVybkludGVybmFsPFQ+ID0+IHtcbiAgcmV0dXJuIGdldFByb3h5VGFyZ2V0KHJlc291cmNlKSBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgaXNSZXNvdXJjZVJldHVybiA9IChvYmo6IGFueSk6IG9iaiBpcyBSZXNvdXJjZVJldHVybjxhbnk+ID0+IHtcbiAgcmV0dXJuIGlzT2JqZWN0KG9iaikgJiYgb2JqLl9fYnJhbmQgPT09ICdyZXNvdXJjZSc7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VyaWFsaXplUmVzb3VyY2UgPSAocmVzb3VyY2U6IFJlc291cmNlUmV0dXJuPGFueT4sIGdldE9iaklkOiBHZXRPYmpJRCkgPT4ge1xuICBjb25zdCBzdGF0ZSA9IHJlc291cmNlLnN0YXRlO1xuICBpZiAoc3RhdGUgPT09ICdyZXNvbHZlZCcpIHtcbiAgICByZXR1cm4gYDAgJHtnZXRPYmpJZChyZXNvdXJjZS5yZXNvbHZlZCl9YDtcbiAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgcmV0dXJuIGAxYDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYDIgJHtnZXRPYmpJZChyZXNvdXJjZS5lcnJvcil9YDtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlUmVzb3VyY2VSZXR1cm4gPSA8VD4oZGF0YTogc3RyaW5nKTogUmVzb3VyY2VSZXR1cm48VD4gPT4ge1xuICBjb25zdCBbZmlyc3QsIGlkXSA9IGRhdGEuc3BsaXQoJyAnKTtcbiAgY29uc3QgcmVzdWx0ID0gX2NyZWF0ZVJlc291cmNlUmV0dXJuPFQ+KHVuZGVmaW5lZCk7XG4gIHJlc3VsdC5wcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkgYXMgYW55O1xuICBpZiAoZmlyc3QgPT09ICcwJykge1xuICAgIHJlc3VsdC5zdGF0ZSA9ICdyZXNvbHZlZCc7XG4gICAgcmVzdWx0LnJlc29sdmVkID0gaWQgYXMgYW55O1xuICB9IGVsc2UgaWYgKGZpcnN0ID09PSAnMScpIHtcbiAgICByZXN1bHQuc3RhdGUgPSAncGVuZGluZyc7XG4gICAgcmVzdWx0LnByb21pc2UgPSBuZXcgUHJvbWlzZSgoKSA9PiB7fSk7XG4gIH0gZWxzZSBpZiAoZmlyc3QgPT09ICcyJykge1xuICAgIHJlc3VsdC5zdGF0ZSA9ICdyZWplY3RlZCc7XG4gICAgcmVzdWx0LmVycm9yID0gaWQgYXMgYW55O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIl19","import { componentQrl, isQwikComponent } from '../component/component.public';\nimport { parseQRL, stringifyQRL } from '../import/qrl';\nimport { isQrl } from '../import/qrl-class';\nimport { isResourceReturn, parseResourceReturn, serializeResource } from '../use/use-resource';\nimport { isSubscriberDescriptor, parseWatch, serializeWatch, } from '../use/use-watch';\nimport { isDocument } from '../util/element';\n/**\n * 0, 8, 9, A, B, C, D\n\\0: null character (U+0000 NULL) (only if the next character is not a decimal digit; else it’s an octal escape sequence)\n\\b: backspace (U+0008 BACKSPACE)\n\\t: horizontal tab (U+0009 CHARACTER TABULATION)\n\\n: line feed (U+000A LINE FEED)\n\\v: vertical tab (U+000B LINE TABULATION)\n\\f: form feed (U+000C FORM FEED)\n\\r: carriage return (U+000D CARRIAGE RETURN)\n\\\": double quote (U+0022 QUOTATION MARK)\n\\': single quote (U+0027 APOSTROPHE)\n\\\\: backslash (U+005C REVERSE SOLIDUS)\n */\nexport const UNDEFINED_PREFIX = '\\u0001';\nconst QRLSerializer = {\n    prefix: '\\u0002',\n    test: (v) => isQrl(v),\n    serialize: (obj, getObjId, containerState) => {\n        return stringifyQRL(obj, {\n            $platform$: containerState.$platform$,\n            $getObjId$: getObjId,\n        });\n    },\n    prepare: (data, containerState) => {\n        return parseQRL(data, containerState.$containerEl$);\n    },\n    fill: (qrl, getObject) => {\n        if (qrl.$capture$ && qrl.$capture$.length > 0) {\n            qrl.$captureRef$ = qrl.$capture$.map(getObject);\n            qrl.$capture$ = null;\n        }\n    },\n};\nconst WatchSerializer = {\n    prefix: '\\u0003',\n    test: (v) => isSubscriberDescriptor(v),\n    serialize: (obj, getObjId) => serializeWatch(obj, getObjId),\n    prepare: (data) => parseWatch(data),\n    fill: (watch, getObject) => {\n        watch.$el$ = getObject(watch.$el$);\n        watch.$qrl$ = getObject(watch.$qrl$);\n        if (watch.$resource$) {\n            watch.$resource$ = getObject(watch.$resource$);\n        }\n    },\n};\nconst ResourceSerializer = {\n    prefix: '\\u0004',\n    test: (v) => isResourceReturn(v),\n    serialize: (obj, getObjId) => {\n        return serializeResource(obj, getObjId);\n    },\n    prepare: (data) => {\n        return parseResourceReturn(data);\n    },\n    fill: (resource, getObject) => {\n        if (resource.state === 'resolved') {\n            resource.resolved = getObject(resource.resolved);\n            resource.promise = Promise.resolve(resource.resolved);\n        }\n        else if (resource.state === 'rejected') {\n            const p = Promise.reject(resource.error);\n            p.catch(() => null);\n            resource.error = getObject(resource.error);\n            resource.promise = p;\n        }\n    },\n};\nconst URLSerializer = {\n    prefix: '\\u0005',\n    test: (v) => v instanceof URL,\n    serialize: (obj) => obj.href,\n    prepare: (data) => new URL(data),\n    fill: undefined,\n};\nconst DateSerializer = {\n    prefix: '\\u0006',\n    test: (v) => v instanceof Date,\n    serialize: (obj) => obj.toISOString(),\n    prepare: (data) => new Date(data),\n    fill: undefined,\n};\nconst RegexSerializer = {\n    prefix: '\\u0007',\n    test: (v) => v instanceof RegExp,\n    serialize: (obj) => `${obj.flags} ${obj.source}`,\n    prepare: (data) => {\n        const space = data.indexOf(' ');\n        const source = data.slice(space + 1);\n        const flags = data.slice(0, space);\n        return new RegExp(source, flags);\n    },\n    fill: undefined,\n};\nconst ErrorSerializer = {\n    prefix: '\\u000E',\n    test: (v) => v instanceof Error,\n    serialize: (obj) => {\n        return obj.message;\n    },\n    prepare: (text) => {\n        const err = new Error(text);\n        err.stack = undefined;\n        return err;\n    },\n    fill: undefined,\n};\nconst DocumentSerializer = {\n    prefix: '\\u000F',\n    test: (v) => isDocument(v),\n    serialize: undefined,\n    prepare: (_, _c, doc) => {\n        return doc;\n    },\n    fill: undefined,\n};\nexport const SERIALIZABLE_STATE = Symbol('serializable-data');\nconst ComponentSerializer = {\n    prefix: '\\u0010',\n    test: (obj) => isQwikComponent(obj),\n    serialize: (obj, getObjId, containerState) => {\n        const [qrl] = obj[SERIALIZABLE_STATE];\n        return stringifyQRL(qrl, {\n            $platform$: containerState.$platform$,\n            $getObjId$: getObjId,\n        });\n    },\n    prepare: (data, containerState) => {\n        const optionsIndex = data.indexOf('{');\n        const qrlString = optionsIndex == -1 ? data : data.slice(0, optionsIndex);\n        const qrl = parseQRL(qrlString, containerState.$containerEl$);\n        return componentQrl(qrl);\n    },\n    fill: (component, getObject) => {\n        const [qrl] = component[SERIALIZABLE_STATE];\n        if (qrl.$capture$ && qrl.$capture$.length > 0) {\n            qrl.$captureRef$ = qrl.$capture$.map(getObject);\n            qrl.$capture$ = null;\n        }\n    },\n};\nconst PureFunctionSerializer = {\n    prefix: '\\u0011',\n    test: (obj) => typeof obj === 'function' && obj.__qwik_serializable__ !== undefined,\n    serialize: (obj) => {\n        return obj.toString();\n    },\n    prepare: (data) => {\n        const fn = new Function('return ' + data)();\n        fn.__qwik_serializable__ = true;\n        return fn;\n    },\n    fill: undefined,\n};\nconst serializers = [\n    QRLSerializer,\n    WatchSerializer,\n    ResourceSerializer,\n    URLSerializer,\n    DateSerializer,\n    RegexSerializer,\n    ErrorSerializer,\n    DocumentSerializer,\n    ComponentSerializer,\n    PureFunctionSerializer,\n];\nexport const canSerialize = (obj) => {\n    for (const s of serializers) {\n        if (s.test(obj)) {\n            return true;\n        }\n    }\n    return false;\n};\nexport const serializeValue = (obj, getObjID, containerState) => {\n    for (const s of serializers) {\n        if (s.test(obj)) {\n            let value = s.prefix;\n            if (s.serialize) {\n                value += s.serialize(obj, getObjID, containerState);\n            }\n            return value;\n        }\n    }\n    return undefined;\n};\nexport const createParser = (getObject, containerState, doc) => {\n    const map = new Map();\n    return {\n        prepare(data) {\n            for (const s of serializers) {\n                const prefix = s.prefix;\n                if (data.startsWith(prefix)) {\n                    const value = s.prepare(data.slice(prefix.length), containerState, doc);\n                    if (s.fill) {\n                        map.set(value, s);\n                    }\n                    return value;\n                }\n            }\n            return data;\n        },\n        fill(obj) {\n            const serializer = map.get(obj);\n            if (serializer) {\n                serializer.fill(obj, getObject, containerState);\n                return true;\n            }\n            return false;\n        },\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VyaWFsaXplcnMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3NlcmlhbGl6ZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBYSxZQUFZLEVBQUUsZUFBZSxFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFDekYsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDdkQsT0FBTyxFQUFFLEtBQUssRUFBZSxNQUFNLHFCQUFxQixDQUFDO0FBR3pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxtQkFBbUIsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQy9GLE9BQU8sRUFDTCxzQkFBc0IsRUFDdEIsVUFBVSxFQUVWLGNBQWMsR0FFZixNQUFNLGtCQUFrQixDQUFDO0FBQzFCLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUc3Qzs7Ozs7Ozs7Ozs7O0dBWUc7QUFDSCxNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxRQUFRLENBQUM7QUFzQnpDLE1BQU0sYUFBYSxHQUE0QjtJQUM3QyxNQUFNLEVBQUUsUUFBUTtJQUNoQixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDckIsU0FBUyxFQUFFLENBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxjQUFjLEVBQUUsRUFBRTtRQUMzQyxPQUFPLFlBQVksQ0FBQyxHQUFHLEVBQUU7WUFDdkIsVUFBVSxFQUFFLGNBQWMsQ0FBQyxVQUFVO1lBQ3JDLFVBQVUsRUFBRSxRQUFRO1NBQ3JCLENBQUMsQ0FBQztJQUNMLENBQUM7SUFDRCxPQUFPLEVBQUUsQ0FBQyxJQUFJLEVBQUUsY0FBYyxFQUFFLEVBQUU7UUFDaEMsT0FBTyxRQUFRLENBQUMsSUFBSSxFQUFFLGNBQWMsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUN0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RyxDQUMxQixTQUFvQixFQUNwQixjQUE4QixFQUM5QixHQUFhLEVBQ0wsRUFBRTtJQUNWLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxFQUF3QixDQUFDO0lBQzVDLE9BQU87UUFDTCxPQUFPLENBQUMsSUFBWTtZQUNsQixLQUFLLE1BQU0sQ0FBQyxJQUFJLFdBQVcsRUFBRTtnQkFDM0IsTUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQztnQkFDeEIsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxFQUFFO29CQUMzQixNQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLGNBQWMsRUFBRSxHQUFHLENBQUMsQ0FBQztvQkFDeEUsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFO3dCQUNWLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO3FCQUNuQjtvQkFDRCxPQUFPLEtBQUssQ0FBQztpQkFDZDthQUNGO1lBQ0QsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDO1FBQ0QsSUFBSSxDQUFDLEdBQVE7WUFDWCxNQUFNLFVBQVUsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ2hDLElBQUksVUFBVSxFQUFFO2dCQUNkLFVBQVUsQ0FBQyxJQUFLLENBQUMsR0FBRyxFQUFFLFNBQVMsRUFBRSxjQUFjLENBQUMsQ0FBQztnQkFDakQsT0FBTyxJQUFJLENBQUM7YUFDYjtZQUNELE9BQU8sS0FBSyxDQUFDO1FBQ2YsQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIGNvbXBvbmVudFFybCwgaXNRd2lrQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50L2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgcGFyc2VRUkwsIHN0cmluZ2lmeVFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwnO1xuaW1wb3J0IHsgaXNRcmwsIFFSTEludGVybmFsIH0gZnJvbSAnLi4vaW1wb3J0L3FybC1jbGFzcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyU3RhdGUgfSBmcm9tICcuLi9yZW5kZXIvY29udGFpbmVyJztcbmltcG9ydCB7IGlzUmVzb3VyY2VSZXR1cm4sIHBhcnNlUmVzb3VyY2VSZXR1cm4sIHNlcmlhbGl6ZVJlc291cmNlIH0gZnJvbSAnLi4vdXNlL3VzZS1yZXNvdXJjZSc7XG5pbXBvcnQge1xuICBpc1N1YnNjcmliZXJEZXNjcmlwdG9yLFxuICBwYXJzZVdhdGNoLFxuICBSZXNvdXJjZVJldHVybixcbiAgc2VyaWFsaXplV2F0Y2gsXG4gIFN1YnNjcmliZXJEZXNjcmlwdG9yLFxufSBmcm9tICcuLi91c2UvdXNlLXdhdGNoJztcbmltcG9ydCB7IGlzRG9jdW1lbnQgfSBmcm9tICcuLi91dGlsL2VsZW1lbnQnO1xuaW1wb3J0IHR5cGUgeyBHZXRPYmplY3QsIEdldE9iaklEIH0gZnJvbSAnLi9zdG9yZSc7XG5cbi8qKlxuICogMCwgOCwgOSwgQSwgQiwgQywgRFxuXFwwOiBudWxsIGNoYXJhY3RlciAoVSswMDAwIE5VTEwpIChvbmx5IGlmIHRoZSBuZXh0IGNoYXJhY3RlciBpcyBub3QgYSBkZWNpbWFsIGRpZ2l0OyBlbHNlIGl04oCZcyBhbiBvY3RhbCBlc2NhcGUgc2VxdWVuY2UpXG5cXGI6IGJhY2tzcGFjZSAoVSswMDA4IEJBQ0tTUEFDRSlcblxcdDogaG9yaXpvbnRhbCB0YWIgKFUrMDAwOSBDSEFSQUNURVIgVEFCVUxBVElPTilcblxcbjogbGluZSBmZWVkIChVKzAwMEEgTElORSBGRUVEKVxuXFx2OiB2ZXJ0aWNhbCB0YWIgKFUrMDAwQiBMSU5FIFRBQlVMQVRJT04pXG5cXGY6IGZvcm0gZmVlZCAoVSswMDBDIEZPUk0gRkVFRClcblxccjogY2FycmlhZ2UgcmV0dXJuIChVKzAwMEQgQ0FSUklBR0UgUkVUVVJOKVxuXFxcIjogZG91YmxlIHF1b3RlIChVKzAwMjIgUVVPVEFUSU9OIE1BUkspXG5cXCc6IHNpbmdsZSBxdW90ZSAoVSswMDI3IEFQT1NUUk9QSEUpXG5cXFxcOiBiYWNrc2xhc2ggKFUrMDA1QyBSRVZFUlNFIFNPTElEVVMpXG4gKi9cbmV4cG9ydCBjb25zdCBVTkRFRklORURfUFJFRklYID0gJ1xcdTAwMDEnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcmlhbGl6ZXI8VD4ge1xuICBwcmVmaXg6IHN0cmluZztcbiAgLyoqXG4gICAqIFJldHVybiB0cnVlIGlmIHRoaXMgc2VyaWFsaXplciBjYW4gc2VyaWFsaXplIHRoZSBnaXZlbiBvYmplY3QuXG4gICAqL1xuICB0ZXN0OiAob2JqOiBhbnkpID0+IGJvb2xlYW47XG4gIC8qKlxuICAgKiBDb252ZXJ0IHRoZSBvYmplY3QgdG8gYSBzdHJpbmcuXG4gICAqL1xuICBzZXJpYWxpemU6ICgob2JqOiBULCBnZXRPYmpJRDogR2V0T2JqSUQsIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSkgPT4gc3RyaW5nKSB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIERlc2VyaWFsaXplIHRoZSBvYmplY3QuXG4gICAqL1xuICBwcmVwYXJlOiAoZGF0YTogc3RyaW5nLCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsIGRvYzogRG9jdW1lbnQpID0+IFQ7XG4gIC8qKlxuICAgKiBTZWNvbmQgcGFzcyB0byBmaWxsIGluIHRoZSBvYmplY3QuXG4gICAqL1xuICBmaWxsOiAoKG9iajogVCwgZ2V0T2JqZWN0OiBHZXRPYmplY3QsIGNvbnRhaW5lclN0YXRlOiBDb250YWluZXJTdGF0ZSkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG59XG5cbmNvbnN0IFFSTFNlcmlhbGl6ZXI6IFNlcmlhbGl6ZXI8UVJMSW50ZXJuYWw+ID0ge1xuICBwcmVmaXg6ICdcXHUwMDAyJyxcbiAgdGVzdDogKHYpID0+IGlzUXJsKHYpLFxuICBzZXJpYWxpemU6IChvYmosIGdldE9iaklkLCBjb250YWluZXJTdGF0ZSkgPT4ge1xuICAgIHJldHVybiBzdHJpbmdpZnlRUkwob2JqLCB7XG4gICAgICAkcGxhdGZvcm0kOiBjb250YWluZXJTdGF0ZS4kcGxhdGZvcm0kLFxuICAgICAgJGdldE9iaklkJDogZ2V0T2JqSWQsXG4gICAgfSk7XG4gIH0sXG4gIHByZXBhcmU6IChkYXRhLCBjb250YWluZXJTdGF0ZSkgPT4ge1xuICAgIHJldHVybiBwYXJzZVFSTChkYXRhLCBjb250YWluZXJTdGF0ZS4kY29udGFpbmVyRWwkKTtcbiAgfSxcbiAgZmlsbDogKHFybCwgZ2V0T2JqZWN0KSA9PiB7XG4gICAgaWYgKHFybC4kY2FwdHVyZSQgJiYgcXJsLiRjYXB0dXJlJC5sZW5ndGggPiAwKSB7XG4gICAgICBxcmwuJGNhcHR1cmVSZWYkID0gcXJsLiRjYXB0dXJlJC5tYXAoZ2V0T2JqZWN0KTtcbiAgICAgIHFybC4kY2FwdHVyZSQgPSBudWxsO1xuICAgIH1cbiAgfSxcbn07XG5cbmNvbnN0IFdhdGNoU2VyaWFsaXplcjogU2VyaWFsaXplcjxTdWJzY3JpYmVyRGVzY3JpcHRvcj4gPSB7XG4gIHByZWZpeDogJ1xcdTAwMDMnLFxuICB0ZXN0OiAodikgPT4gaXNTdWJzY3JpYmVyRGVzY3JpcHRvcih2KSxcbiAgc2VyaWFsaXplOiAob2JqLCBnZXRPYmpJZCkgPT4gc2VyaWFsaXplV2F0Y2gob2JqLCBnZXRPYmpJZCksXG4gIHByZXBhcmU6IChkYXRhKSA9PiBwYXJzZVdhdGNoKGRhdGEpIGFzIGFueSxcbiAgZmlsbDogKHdhdGNoLCBnZXRPYmplY3QpID0+IHtcbiAgICB3YXRjaC4kZWwkID0gZ2V0T2JqZWN0KHdhdGNoLiRlbCQgYXMgYW55KTtcbiAgICB3YXRjaC4kcXJsJCA9IGdldE9iamVjdCh3YXRjaC4kcXJsJCBhcyBhbnkpO1xuICAgIGlmICh3YXRjaC4kcmVzb3VyY2UkKSB7XG4gICAgICB3YXRjaC4kcmVzb3VyY2UkID0gZ2V0T2JqZWN0KHdhdGNoLiRyZXNvdXJjZSQgYXMgYW55KTtcbiAgICB9XG4gIH0sXG59O1xuXG5jb25zdCBSZXNvdXJjZVNlcmlhbGl6ZXI6IFNlcmlhbGl6ZXI8UmVzb3VyY2VSZXR1cm48YW55Pj4gPSB7XG4gIHByZWZpeDogJ1xcdTAwMDQnLFxuICB0ZXN0OiAodikgPT4gaXNSZXNvdXJjZVJldHVybih2KSxcbiAgc2VyaWFsaXplOiAob2JqLCBnZXRPYmpJZCkgPT4ge1xuICAgIHJldHVybiBzZXJpYWxpemVSZXNvdXJjZShvYmosIGdldE9iaklkKTtcbiAgfSxcbiAgcHJlcGFyZTogKGRhdGEpID0+IHtcbiAgICByZXR1cm4gcGFyc2VSZXNvdXJjZVJldHVybihkYXRhKTtcbiAgfSxcbiAgZmlsbDogKHJlc291cmNlLCBnZXRPYmplY3QpID0+IHtcbiAgICBpZiAocmVzb3VyY2Uuc3RhdGUgPT09ICdyZXNvbHZlZCcpIHtcbiAgICAgIHJlc291cmNlLnJlc29sdmVkID0gZ2V0T2JqZWN0KHJlc291cmNlLnJlc29sdmVkKTtcbiAgICAgIHJlc291cmNlLnByb21pc2UgPSBQcm9taXNlLnJlc29sdmUocmVzb3VyY2UucmVzb2x2ZWQpO1xuICAgIH0gZWxzZSBpZiAocmVzb3VyY2Uuc3RhdGUgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgIGNvbnN0IHAgPSBQcm9taXNlLnJlamVjdChyZXNvdXJjZS5lcnJvcik7XG4gICAgICBwLmNhdGNoKCgpID0+IG51bGwpO1xuICAgICAgcmVzb3VyY2UuZXJyb3IgPSBnZXRPYmplY3QocmVzb3VyY2UuZXJyb3IpO1xuICAgICAgcmVzb3VyY2UucHJvbWlzZSA9IHA7XG4gICAgfVxuICB9LFxufTtcblxuY29uc3QgVVJMU2VyaWFsaXplcjogU2VyaWFsaXplcjxVUkw+ID0ge1xuICBwcmVmaXg6ICdcXHUwMDA1JyxcbiAgdGVzdDogKHYpID0+IHYgaW5zdGFuY2VvZiBVUkwsXG4gIHNlcmlhbGl6ZTogKG9iaikgPT4gb2JqLmhyZWYsXG4gIHByZXBhcmU6IChkYXRhKSA9PiBuZXcgVVJMKGRhdGEpLFxuICBmaWxsOiB1bmRlZmluZWQsXG59O1xuXG5jb25zdCBEYXRlU2VyaWFsaXplcjogU2VyaWFsaXplcjxEYXRlPiA9IHtcbiAgcHJlZml4OiAnXFx1MDAwNicsXG4gIHRlc3Q6ICh2KSA9PiB2IGluc3RhbmNlb2YgRGF0ZSxcbiAgc2VyaWFsaXplOiAob2JqKSA9PiBvYmoudG9JU09TdHJpbmcoKSxcbiAgcHJlcGFyZTogKGRhdGEpID0+IG5ldyBEYXRlKGRhdGEpLFxuICBmaWxsOiB1bmRlZmluZWQsXG59O1xuXG5jb25zdCBSZWdleFNlcmlhbGl6ZXI6IFNlcmlhbGl6ZXI8UmVnRXhwPiA9IHtcbiAgcHJlZml4OiAnXFx1MDAwNycsXG4gIHRlc3Q6ICh2KSA9PiB2IGluc3RhbmNlb2YgUmVnRXhwLFxuICBzZXJpYWxpemU6IChvYmopID0+IGAke29iai5mbGFnc30gJHtvYmouc291cmNlfWAsXG4gIHByZXBhcmU6IChkYXRhKSA9PiB7XG4gICAgY29uc3Qgc3BhY2UgPSBkYXRhLmluZGV4T2YoJyAnKTtcbiAgICBjb25zdCBzb3VyY2UgPSBkYXRhLnNsaWNlKHNwYWNlICsgMSk7XG4gICAgY29uc3QgZmxhZ3MgPSBkYXRhLnNsaWNlKDAsIHNwYWNlKTtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzb3VyY2UsIGZsYWdzKTtcbiAgfSxcbiAgZmlsbDogdW5kZWZpbmVkLFxufTtcblxuY29uc3QgRXJyb3JTZXJpYWxpemVyOiBTZXJpYWxpemVyPEVycm9yPiA9IHtcbiAgcHJlZml4OiAnXFx1MDAwRScsXG4gIHRlc3Q6ICh2KSA9PiB2IGluc3RhbmNlb2YgRXJyb3IsXG4gIHNlcmlhbGl6ZTogKG9iaikgPT4ge1xuICAgIHJldHVybiBvYmoubWVzc2FnZTtcbiAgfSxcbiAgcHJlcGFyZTogKHRleHQpID0+IHtcbiAgICBjb25zdCBlcnIgPSBuZXcgRXJyb3IodGV4dCk7XG4gICAgZXJyLnN0YWNrID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBlcnI7XG4gIH0sXG4gIGZpbGw6IHVuZGVmaW5lZCxcbn07XG5cbmNvbnN0IERvY3VtZW50U2VyaWFsaXplcjogU2VyaWFsaXplcjxEb2N1bWVudD4gPSB7XG4gIHByZWZpeDogJ1xcdTAwMEYnLFxuICB0ZXN0OiAodikgPT4gaXNEb2N1bWVudCh2KSxcbiAgc2VyaWFsaXplOiB1bmRlZmluZWQsXG4gIHByZXBhcmU6IChfLCBfYywgZG9jKSA9PiB7XG4gICAgcmV0dXJuIGRvYztcbiAgfSxcbiAgZmlsbDogdW5kZWZpbmVkLFxufTtcblxuZXhwb3J0IGNvbnN0IFNFUklBTElaQUJMRV9TVEFURSA9IFN5bWJvbCgnc2VyaWFsaXphYmxlLWRhdGEnKTtcbmNvbnN0IENvbXBvbmVudFNlcmlhbGl6ZXI6IFNlcmlhbGl6ZXI8Q29tcG9uZW50PGFueT4+ID0ge1xuICBwcmVmaXg6ICdcXHUwMDEwJyxcbiAgdGVzdDogKG9iaikgPT4gaXNRd2lrQ29tcG9uZW50KG9iaiksXG4gIHNlcmlhbGl6ZTogKG9iaiwgZ2V0T2JqSWQsIGNvbnRhaW5lclN0YXRlKSA9PiB7XG4gICAgY29uc3QgW3FybF06IFtRUkxJbnRlcm5hbF0gPSAob2JqIGFzIGFueSlbU0VSSUFMSVpBQkxFX1NUQVRFXTtcbiAgICByZXR1cm4gc3RyaW5naWZ5UVJMKHFybCwge1xuICAgICAgJHBsYXRmb3JtJDogY29udGFpbmVyU3RhdGUuJHBsYXRmb3JtJCxcbiAgICAgICRnZXRPYmpJZCQ6IGdldE9iaklkLFxuICAgIH0pO1xuICB9LFxuICBwcmVwYXJlOiAoZGF0YSwgY29udGFpbmVyU3RhdGUpID0+IHtcbiAgICBjb25zdCBvcHRpb25zSW5kZXggPSBkYXRhLmluZGV4T2YoJ3snKTtcbiAgICBjb25zdCBxcmxTdHJpbmcgPSBvcHRpb25zSW5kZXggPT0gLTEgPyBkYXRhIDogZGF0YS5zbGljZSgwLCBvcHRpb25zSW5kZXgpO1xuICAgIGNvbnN0IHFybDogUVJMPGFueT4gPSBwYXJzZVFSTChxcmxTdHJpbmcsIGNvbnRhaW5lclN0YXRlLiRjb250YWluZXJFbCQpO1xuICAgIHJldHVybiBjb21wb25lbnRRcmwocXJsKTtcbiAgfSxcbiAgZmlsbDogKGNvbXBvbmVudCwgZ2V0T2JqZWN0KSA9PiB7XG4gICAgY29uc3QgW3FybF06IFtRUkxJbnRlcm5hbF0gPSAoY29tcG9uZW50IGFzIGFueSlbU0VSSUFMSVpBQkxFX1NUQVRFXTtcbiAgICBpZiAocXJsLiRjYXB0dXJlJCAmJiBxcmwuJGNhcHR1cmUkLmxlbmd0aCA+IDApIHtcbiAgICAgIHFybC4kY2FwdHVyZVJlZiQgPSBxcmwuJGNhcHR1cmUkLm1hcChnZXRPYmplY3QpO1xuICAgICAgcXJsLiRjYXB0dXJlJCA9IG51bGw7XG4gICAgfVxuICB9LFxufTtcblxuY29uc3QgUHVyZUZ1bmN0aW9uU2VyaWFsaXplcjogU2VyaWFsaXplcjxGdW5jdGlvbj4gPSB7XG4gIHByZWZpeDogJ1xcdTAwMTEnLFxuICB0ZXN0OiAob2JqKSA9PiB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nICYmIG9iai5fX3F3aWtfc2VyaWFsaXphYmxlX18gIT09IHVuZGVmaW5lZCxcbiAgc2VyaWFsaXplOiAob2JqKSA9PiB7XG4gICAgcmV0dXJuIG9iai50b1N0cmluZygpO1xuICB9LFxuICBwcmVwYXJlOiAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IGZuID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gJyArIGRhdGEpKCk7XG4gICAgZm4uX19xd2lrX3NlcmlhbGl6YWJsZV9fID0gdHJ1ZTtcbiAgICByZXR1cm4gZm47XG4gIH0sXG4gIGZpbGw6IHVuZGVmaW5lZCxcbn07XG5cbmNvbnN0IHNlcmlhbGl6ZXJzOiBTZXJpYWxpemVyPGFueT5bXSA9IFtcbiAgUVJMU2VyaWFsaXplcixcbiAgV2F0Y2hTZXJpYWxpemVyLFxuICBSZXNvdXJjZVNlcmlhbGl6ZXIsXG4gIFVSTFNlcmlhbGl6ZXIsXG4gIERhdGVTZXJpYWxpemVyLFxuICBSZWdleFNlcmlhbGl6ZXIsXG4gIEVycm9yU2VyaWFsaXplcixcbiAgRG9jdW1lbnRTZXJpYWxpemVyLFxuICBDb21wb25lbnRTZXJpYWxpemVyLFxuICBQdXJlRnVuY3Rpb25TZXJpYWxpemVyLFxuXTtcblxuZXhwb3J0IGNvbnN0IGNhblNlcmlhbGl6ZSA9IChvYmo6IGFueSk6IGJvb2xlYW4gPT4ge1xuICBmb3IgKGNvbnN0IHMgb2Ygc2VyaWFsaXplcnMpIHtcbiAgICBpZiAocy50ZXN0KG9iaikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3Qgc2VyaWFsaXplVmFsdWUgPSAob2JqOiBhbnksIGdldE9iaklEOiBHZXRPYmpJRCwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiB7XG4gIGZvciAoY29uc3QgcyBvZiBzZXJpYWxpemVycykge1xuICAgIGlmIChzLnRlc3Qob2JqKSkge1xuICAgICAgbGV0IHZhbHVlID0gcy5wcmVmaXg7XG4gICAgICBpZiAocy5zZXJpYWxpemUpIHtcbiAgICAgICAgdmFsdWUgKz0gcy5zZXJpYWxpemUob2JqLCBnZXRPYmpJRCwgY29udGFpbmVyU3RhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBQYXJzZXIge1xuICBwcmVwYXJlKGRhdGE6IHN0cmluZyk6IGFueTtcbiAgZmlsbChvYmo6IGFueSk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQYXJzZXIgPSAoXG4gIGdldE9iamVjdDogR2V0T2JqZWN0LFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gIGRvYzogRG9jdW1lbnRcbik6IFBhcnNlciA9PiB7XG4gIGNvbnN0IG1hcCA9IG5ldyBNYXA8YW55LCBTZXJpYWxpemVyPGFueT4+KCk7XG4gIHJldHVybiB7XG4gICAgcHJlcGFyZShkYXRhOiBzdHJpbmcpIHtcbiAgICAgIGZvciAoY29uc3QgcyBvZiBzZXJpYWxpemVycykge1xuICAgICAgICBjb25zdCBwcmVmaXggPSBzLnByZWZpeDtcbiAgICAgICAgaWYgKGRhdGEuc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSBzLnByZXBhcmUoZGF0YS5zbGljZShwcmVmaXgubGVuZ3RoKSwgY29udGFpbmVyU3RhdGUsIGRvYyk7XG4gICAgICAgICAgaWYgKHMuZmlsbCkge1xuICAgICAgICAgICAgbWFwLnNldCh2YWx1ZSwgcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSxcbiAgICBmaWxsKG9iajogYW55KSB7XG4gICAgICBjb25zdCBzZXJpYWxpemVyID0gbWFwLmdldChvYmopO1xuICAgICAgaWYgKHNlcmlhbGl6ZXIpIHtcbiAgICAgICAgc2VyaWFsaXplci5maWxsIShvYmosIGdldE9iamVjdCwgY29udGFpbmVyU3RhdGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICB9O1xufTtcbiJdfQ==","import { assertEqual, assertTrue } from '../assert/assert';\nimport { qError, QError_immutableProps, QError_onlyLiteralWrapped, QError_onlyObjectWrapped, QError_verifySerializable, } from '../error/error';\nimport { isQrl } from '../import/qrl-class';\nimport { tryGetInvokeContext } from '../use/use-core';\nimport { isDocument, isNode, isQwikElement } from '../util/element';\nimport { logWarn } from '../util/log';\nimport { qDev } from '../util/qdev';\nimport { tryGetContext } from '../props/props';\nimport { RenderEvent } from '../util/markers';\nimport { isArray, isFunction, isObject, isSerializableObject } from '../util/types';\nimport { isPromise } from '../util/promises';\nimport { canSerialize } from './serializers';\nexport const QObjectRecursive = 1 << 0;\nexport const QObjectImmutable = 1 << 1;\n/**\n * Creates a proxy that notifies of any writes.\n */\nexport const getOrCreateProxy = (target, containerState, flags = 0) => {\n    const proxy = containerState.$proxyMap$.get(target);\n    if (proxy) {\n        return proxy;\n    }\n    return createProxy(target, containerState, flags, undefined);\n};\nexport const createProxy = (target, containerState, flags, subs) => {\n    assertEqual(unwrapProxy(target), target, 'Unexpected proxy at this location', target);\n    assertTrue(!containerState.$proxyMap$.has(target), 'Proxy was already created', target);\n    if (!isObject(target)) {\n        throw qError(QError_onlyObjectWrapped, target);\n    }\n    if (target.constructor !== Object && !isArray(target)) {\n        throw qError(QError_onlyLiteralWrapped, target);\n    }\n    const manager = containerState.$subsManager$.$getLocal$(target, subs);\n    const proxy = new Proxy(target, new ReadWriteProxyHandler(containerState, manager, flags));\n    containerState.$proxyMap$.set(target, proxy);\n    return proxy;\n};\nconst QOjectTargetSymbol = Symbol();\nconst QOjectFlagsSymbol = Symbol();\nclass ReadWriteProxyHandler {\n    constructor($containerState$, $manager$, $flags$) {\n        this.$containerState$ = $containerState$;\n        this.$manager$ = $manager$;\n        this.$flags$ = $flags$;\n    }\n    get(target, prop) {\n        if (typeof prop === 'symbol') {\n            if (prop === QOjectTargetSymbol)\n                return target;\n            if (prop === QOjectFlagsSymbol)\n                return this.$flags$;\n            return target[prop];\n        }\n        let subscriber;\n        const invokeCtx = tryGetInvokeContext();\n        const recursive = (this.$flags$ & QObjectRecursive) !== 0;\n        const immutable = (this.$flags$ & QObjectImmutable) !== 0;\n        if (invokeCtx) {\n            subscriber = invokeCtx.$subscriber$;\n        }\n        let value = target[prop];\n        if (isMutable(value)) {\n            value = value.v;\n        }\n        else if (immutable) {\n            subscriber = null;\n        }\n        if (subscriber) {\n            const isA = isArray(target);\n            this.$manager$.$addSub$(subscriber, isA ? undefined : prop);\n        }\n        return recursive ? wrap(value, this.$containerState$) : value;\n    }\n    set(target, prop, newValue) {\n        if (typeof prop === 'symbol') {\n            target[prop] = newValue;\n            return true;\n        }\n        const immutable = (this.$flags$ & QObjectImmutable) !== 0;\n        if (immutable) {\n            throw qError(QError_immutableProps);\n        }\n        const recursive = (this.$flags$ & QObjectRecursive) !== 0;\n        const unwrappedNewValue = recursive ? unwrapProxy(newValue) : newValue;\n        if (qDev) {\n            verifySerializable(unwrappedNewValue);\n            const invokeCtx = tryGetInvokeContext();\n            if (invokeCtx && invokeCtx.$event$ === RenderEvent) {\n                logWarn('State mutation inside render function. Move mutation to useWatch(), useClientEffect() or useServerMount()', invokeCtx.$hostElement$, prop);\n            }\n        }\n        const isA = isArray(target);\n        if (isA) {\n            target[prop] = unwrappedNewValue;\n            this.$manager$.$notifySubs$();\n            return true;\n        }\n        const oldValue = target[prop];\n        if (oldValue !== unwrappedNewValue) {\n            target[prop] = unwrappedNewValue;\n            this.$manager$.$notifySubs$(prop);\n        }\n        return true;\n    }\n    has(target, property) {\n        if (property === QOjectTargetSymbol)\n            return true;\n        if (property === QOjectFlagsSymbol)\n            return true;\n        return Object.prototype.hasOwnProperty.call(target, property);\n    }\n    ownKeys(target) {\n        let subscriber = null;\n        const invokeCtx = tryGetInvokeContext();\n        if (invokeCtx) {\n            subscriber = invokeCtx.$subscriber$;\n        }\n        if (subscriber) {\n            this.$manager$.$addSub$(subscriber);\n        }\n        return Object.getOwnPropertyNames(target);\n    }\n}\nconst wrap = (value, containerState) => {\n    if (isQrl(value)) {\n        return value;\n    }\n    if (isObject(value)) {\n        if (Object.isFrozen(value)) {\n            return value;\n        }\n        const nakedValue = unwrapProxy(value);\n        if (nakedValue !== value) {\n            // already a proxy return;\n            return value;\n        }\n        if (isNode(nakedValue)) {\n            return value;\n        }\n        if (!shouldSerialize(nakedValue)) {\n            return value;\n        }\n        if (qDev) {\n            verifySerializable(value);\n        }\n        const proxy = containerState.$proxyMap$.get(value);\n        return proxy ? proxy : getOrCreateProxy(value, containerState, QObjectRecursive);\n    }\n    else {\n        return value;\n    }\n};\nexport const verifySerializable = (value) => {\n    const seen = new Set();\n    return _verifySerializable(value, seen);\n};\nconst _verifySerializable = (value, seen) => {\n    const unwrapped = unwrapProxy(value);\n    if (unwrapped == null) {\n        return value;\n    }\n    if (shouldSerialize(unwrapped)) {\n        if (seen.has(unwrapped)) {\n            return value;\n        }\n        seen.add(unwrapped);\n        if (canSerialize(unwrapped)) {\n            return value;\n        }\n        switch (typeof unwrapped) {\n            case 'object':\n                if (isPromise(unwrapped))\n                    return value;\n                if (isQwikElement(unwrapped))\n                    return value;\n                if (isDocument(unwrapped))\n                    return value;\n                if (isArray(unwrapped)) {\n                    for (const item of unwrapped) {\n                        _verifySerializable(item, seen);\n                    }\n                    return value;\n                }\n                if (isSerializableObject(unwrapped)) {\n                    for (const item of Object.values(unwrapped)) {\n                        _verifySerializable(item, seen);\n                    }\n                    return value;\n                }\n                break;\n            case 'boolean':\n            case 'string':\n            case 'number':\n                return value;\n        }\n        throw qError(QError_verifySerializable, unwrapped);\n    }\n    return value;\n};\nconst noSerializeSet = /*#__PURE__*/ new WeakSet();\nexport const shouldSerialize = (obj) => {\n    if (isObject(obj) || isFunction(obj)) {\n        return !noSerializeSet.has(obj);\n    }\n    return true;\n};\n// <docs markdown=\"../readme.md#noSerialize\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#noSerialize instead)\n/**\n * Marks a property on a store as non-serializable.\n *\n * At times it is necessary to store values on a store that are non-serializable. Normally this\n * is a runtime error as Store wants to eagerly report when a non-serializable property is\n * assigned to it.\n *\n * You can use `noSerialize()` to mark a value as non-serializable. The value is persisted in the\n * Store but does not survive serialization. The implication is that when your application is\n * resumed, the value of this object will be `undefined`. You will be responsible for recovering\n * from this.\n *\n * See: [noSerialize Tutorial](http://qwik.builder.io/tutorial/store/no-serialize)\n *\n * @public\n */\n// </docs>\nexport const noSerialize = (input) => {\n    if (input != null) {\n        noSerializeSet.add(input);\n    }\n    return input;\n};\nexport const immutable = (input) => {\n    return Object.freeze(input);\n};\n// <docs markdown=\"../readme.md#mutable\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#mutable instead)\n/**\n * Mark property as mutable.\n *\n * Qwik assumes that all bindings in components are immutable by default. This is done for two\n * reasons:\n *\n * 1. JSX does not allow Qwik runtime to know if a binding is static or mutable.\n *    `<Example valueA={123} valueB={exp}>` At runtime there is no way to know if `valueA` is\n * immutable.\n * 2. If Qwik assumes that properties are immutable, then it can do a better job data-shaking the\n * amount of code that needs to be serialized to the client.\n *\n * Because Qwik assumes that bindings are immutable by default, it needs a way for a developer to\n * let it know that binding is mutable. `mutable()` function serves that purpose.\n * `<Example valueA={123} valueB={mutable(exp)}>`. In this case, the Qwik runtime can correctly\n * recognize that the `Example` props are mutable and need to be serialized.\n *\n * See: [Mutable Props Tutorial](http://qwik.builder.io/tutorial/props/mutable) for an example\n *\n * @alpha\n */\n// </docs>\nexport const mutable = (v) => {\n    return {\n        [MUTABLE]: true,\n        v,\n    };\n};\nexport const isConnected = (sub) => {\n    if (isQwikElement(sub)) {\n        return !!tryGetContext(sub) || sub.isConnected;\n    }\n    else {\n        return isConnected(sub.$el$);\n    }\n};\nconst MUTABLE = Symbol('mutable');\nexport const isMutable = (v) => {\n    return isObject(v) && v[MUTABLE] === true;\n};\n/**\n * @alpha\n */\nexport const unwrapProxy = (proxy) => {\n    return getProxyTarget(proxy) ?? proxy;\n};\nexport const getProxyTarget = (obj) => {\n    if (isObject(obj)) {\n        return obj[QOjectTargetSymbol];\n    }\n    return undefined;\n};\nexport const getProxyFlags = (obj) => {\n    if (isObject(obj)) {\n        return obj[QOjectFlagsSymbol];\n    }\n    return undefined;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicS1vYmplY3QuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvb2JqZWN0L3Etb2JqZWN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxXQUFXLEVBQUUsVUFBVSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDM0QsT0FBTyxFQUNMLE1BQU0sRUFDTixxQkFBcUIsRUFDckIseUJBQXlCLEVBQ3pCLHdCQUF3QixFQUN4Qix5QkFBeUIsR0FDMUIsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDNUMsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDdEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsYUFBYSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDcEUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN0QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMvQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDOUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3BGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM3QyxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBTTdDLE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdkMsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUV2Qzs7R0FFRztBQUNILE1BQU0sQ0FBQyxNQUFNLGdCQUFnQixH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QztBQUVGLE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxDQUEwQixHQUFNLEVBQXNCLEVBQUU7SUFDbkYsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDakIsT0FBUSxHQUFXLENBQUMsaUJBQWlCLENBQUMsQ0FBQztLQUN4QztJQUNELE9BQU8sU0FBUyxDQUFDO0FBQ25CLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFzc2VydEVxdWFsLCBhc3NlcnRUcnVlIH0gZnJvbSAnLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQge1xuICBxRXJyb3IsXG4gIFFFcnJvcl9pbW11dGFibGVQcm9wcyxcbiAgUUVycm9yX29ubHlMaXRlcmFsV3JhcHBlZCxcbiAgUUVycm9yX29ubHlPYmplY3RXcmFwcGVkLFxuICBRRXJyb3JfdmVyaWZ5U2VyaWFsaXphYmxlLFxufSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBpc1FybCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgdHJ5R2V0SW52b2tlQ29udGV4dCB9IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBpc0RvY3VtZW50LCBpc05vZGUsIGlzUXdpa0VsZW1lbnQgfSBmcm9tICcuLi91dGlsL2VsZW1lbnQnO1xuaW1wb3J0IHsgbG9nV2FybiB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgdHJ5R2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IFJlbmRlckV2ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1NlcmlhbGl6YWJsZU9iamVjdCB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBjYW5TZXJpYWxpemUgfSBmcm9tICcuL3NlcmlhbGl6ZXJzJztcbmltcG9ydCB0eXBlIHsgQ29udGFpbmVyU3RhdGUsIExvY2FsU3Vic2NyaXB0aW9uTWFuYWdlciB9IGZyb20gJy4uL3JlbmRlci9jb250YWluZXInO1xuaW1wb3J0IHR5cGUgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vdXNlL3VzZS13YXRjaCc7XG5cbmV4cG9ydCB0eXBlIFFPYmplY3Q8VCBleHRlbmRzIHt9PiA9IFQgJiB7IF9fYnJhbmRfXzogJ1FPYmplY3QnIH07XG5cbmV4cG9ydCBjb25zdCBRT2JqZWN0UmVjdXJzaXZlID0gMSA8PCAwO1xuZXhwb3J0IGNvbnN0IFFPYmplY3RJbW11dGFibGUgPSAxIDw8IDE7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHByb3h5IHRoYXQgbm90aWZpZXMgb2YgYW55IHdyaXRlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldE9yQ3JlYXRlUHJveHkgPSA8VCBleHRlbmRzIG9iamVjdD4oXG4gIHRhcmdldDogVCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBmbGFncyA9IDBcbik6IFQgPT4ge1xuICBjb25zdCBwcm94eSA9IGNvbnRhaW5lclN0YXRlLiRwcm94eU1hcCQuZ2V0KHRhcmdldCk7XG4gIGlmIChwcm94eSkge1xuICAgIHJldHVybiBwcm94eTtcbiAgfVxuICByZXR1cm4gY3JlYXRlUHJveHkodGFyZ2V0LCBjb250YWluZXJTdGF0ZSwgZmxhZ3MsIHVuZGVmaW5lZCk7XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUHJveHkgPSA8VCBleHRlbmRzIG9iamVjdD4oXG4gIHRhcmdldDogVCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBmbGFnczogbnVtYmVyLFxuICBzdWJzPzogTWFwPEVsZW1lbnQsIFNldDxzdHJpbmc+PlxuKTogVCA9PiB7XG4gIGFzc2VydEVxdWFsKHVud3JhcFByb3h5KHRhcmdldCksIHRhcmdldCwgJ1VuZXhwZWN0ZWQgcHJveHkgYXQgdGhpcyBsb2NhdGlvbicsIHRhcmdldCk7XG4gIGFzc2VydFRydWUoIWNvbnRhaW5lclN0YXRlLiRwcm94eU1hcCQuaGFzKHRhcmdldCksICdQcm94eSB3YXMgYWxyZWFkeSBjcmVhdGVkJywgdGFyZ2V0KTtcblxuICBpZiAoIWlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICB0aHJvdyBxRXJyb3IoUUVycm9yX29ubHlPYmplY3RXcmFwcGVkLCB0YXJnZXQpO1xuICB9XG4gIGlmICh0YXJnZXQuY29uc3RydWN0b3IgIT09IE9iamVjdCAmJiAhaXNBcnJheSh0YXJnZXQpKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9vbmx5TGl0ZXJhbFdyYXBwZWQsIHRhcmdldCk7XG4gIH1cblxuICBjb25zdCBtYW5hZ2VyID0gY29udGFpbmVyU3RhdGUuJHN1YnNNYW5hZ2VyJC4kZ2V0TG9jYWwkKHRhcmdldCwgc3Vicyk7XG4gIGNvbnN0IHByb3h5ID0gbmV3IFByb3h5KFxuICAgIHRhcmdldCxcbiAgICBuZXcgUmVhZFdyaXRlUHJveHlIYW5kbGVyKGNvbnRhaW5lclN0YXRlLCBtYW5hZ2VyLCBmbGFncylcbiAgKSBhcyBhbnkgYXMgVDtcbiAgY29udGFpbmVyU3RhdGUuJHByb3h5TWFwJC5zZXQodGFyZ2V0LCBwcm94eSk7XG4gIHJldHVybiBwcm94eTtcbn07XG5cbmNvbnN0IFFPamVjdFRhcmdldFN5bWJvbCA9IFN5bWJvbCgpO1xuY29uc3QgUU9qZWN0RmxhZ3NTeW1ib2wgPSBTeW1ib2woKTtcblxuZXhwb3J0IHR5cGUgVGFyZ2V0VHlwZSA9IFJlY29yZDxzdHJpbmcgfCBzeW1ib2wsIGFueT47XG5cbmNsYXNzIFJlYWRXcml0ZVByb3h5SGFuZGxlciBpbXBsZW1lbnRzIFByb3h5SGFuZGxlcjxUYXJnZXRUeXBlPiB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgJGNvbnRhaW5lclN0YXRlJDogQ29udGFpbmVyU3RhdGUsXG4gICAgcHJpdmF0ZSAkbWFuYWdlciQ6IExvY2FsU3Vic2NyaXB0aW9uTWFuYWdlcixcbiAgICBwcml2YXRlICRmbGFncyQ6IG51bWJlclxuICApIHt9XG5cbiAgZ2V0KHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYW55IHtcbiAgICBpZiAodHlwZW9mIHByb3AgPT09ICdzeW1ib2wnKSB7XG4gICAgICBpZiAocHJvcCA9PT0gUU9qZWN0VGFyZ2V0U3ltYm9sKSByZXR1cm4gdGFyZ2V0O1xuICAgICAgaWYgKHByb3AgPT09IFFPamVjdEZsYWdzU3ltYm9sKSByZXR1cm4gdGhpcy4kZmxhZ3MkO1xuICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICB9XG4gICAgbGV0IHN1YnNjcmliZXI6IFN1YnNjcmliZXIgfCB1bmRlZmluZWQgfCBudWxsO1xuICAgIGNvbnN0IGludm9rZUN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgICBjb25zdCByZWN1cnNpdmUgPSAodGhpcy4kZmxhZ3MkICYgUU9iamVjdFJlY3Vyc2l2ZSkgIT09IDA7XG4gICAgY29uc3QgaW1tdXRhYmxlID0gKHRoaXMuJGZsYWdzJCAmIFFPYmplY3RJbW11dGFibGUpICE9PSAwO1xuICAgIGlmIChpbnZva2VDdHgpIHtcbiAgICAgIHN1YnNjcmliZXIgPSBpbnZva2VDdHguJHN1YnNjcmliZXIkO1xuICAgIH1cbiAgICBsZXQgdmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKGlzTXV0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUudjtcbiAgICB9IGVsc2UgaWYgKGltbXV0YWJsZSkge1xuICAgICAgc3Vic2NyaWJlciA9IG51bGw7XG4gICAgfVxuICAgIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgICBjb25zdCBpc0EgPSBpc0FycmF5KHRhcmdldCk7XG4gICAgICB0aGlzLiRtYW5hZ2VyJC4kYWRkU3ViJChzdWJzY3JpYmVyLCBpc0EgPyB1bmRlZmluZWQgOiBwcm9wKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlY3Vyc2l2ZSA/IHdyYXAodmFsdWUsIHRoaXMuJGNvbnRhaW5lclN0YXRlJCkgOiB2YWx1ZTtcbiAgfVxuXG4gIHNldCh0YXJnZXQ6IFRhcmdldFR5cGUsIHByb3A6IHN0cmluZyB8IHN5bWJvbCwgbmV3VmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHRhcmdldFtwcm9wXSA9IG5ld1ZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGltbXV0YWJsZSA9ICh0aGlzLiRmbGFncyQgJiBRT2JqZWN0SW1tdXRhYmxlKSAhPT0gMDtcbiAgICBpZiAoaW1tdXRhYmxlKSB7XG4gICAgICB0aHJvdyBxRXJyb3IoUUVycm9yX2ltbXV0YWJsZVByb3BzKTtcbiAgICB9XG4gICAgY29uc3QgcmVjdXJzaXZlID0gKHRoaXMuJGZsYWdzJCAmIFFPYmplY3RSZWN1cnNpdmUpICE9PSAwO1xuICAgIGNvbnN0IHVud3JhcHBlZE5ld1ZhbHVlID0gcmVjdXJzaXZlID8gdW53cmFwUHJveHkobmV3VmFsdWUpIDogbmV3VmFsdWU7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIHZlcmlmeVNlcmlhbGl6YWJsZSh1bndyYXBwZWROZXdWYWx1ZSk7XG4gICAgICBjb25zdCBpbnZva2VDdHggPSB0cnlHZXRJbnZva2VDb250ZXh0KCk7XG4gICAgICBpZiAoaW52b2tlQ3R4ICYmIGludm9rZUN0eC4kZXZlbnQkID09PSBSZW5kZXJFdmVudCkge1xuICAgICAgICBsb2dXYXJuKFxuICAgICAgICAgICdTdGF0ZSBtdXRhdGlvbiBpbnNpZGUgcmVuZGVyIGZ1bmN0aW9uLiBNb3ZlIG11dGF0aW9uIHRvIHVzZVdhdGNoKCksIHVzZUNsaWVudEVmZmVjdCgpIG9yIHVzZVNlcnZlck1vdW50KCknLFxuICAgICAgICAgIGludm9rZUN0eC4kaG9zdEVsZW1lbnQkLFxuICAgICAgICAgIHByb3BcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgaXNBID0gaXNBcnJheSh0YXJnZXQpO1xuICAgIGlmIChpc0EpIHtcbiAgICAgIHRhcmdldFtwcm9wIGFzIGFueV0gPSB1bndyYXBwZWROZXdWYWx1ZTtcbiAgICAgIHRoaXMuJG1hbmFnZXIkLiRub3RpZnlTdWJzJCgpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgaWYgKG9sZFZhbHVlICE9PSB1bndyYXBwZWROZXdWYWx1ZSkge1xuICAgICAgdGFyZ2V0W3Byb3BdID0gdW53cmFwcGVkTmV3VmFsdWU7XG4gICAgICB0aGlzLiRtYW5hZ2VyJC4kbm90aWZ5U3VicyQocHJvcCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaGFzKHRhcmdldDogVGFyZ2V0VHlwZSwgcHJvcGVydHk6IHN0cmluZyB8IHN5bWJvbCkge1xuICAgIGlmIChwcm9wZXJ0eSA9PT0gUU9qZWN0VGFyZ2V0U3ltYm9sKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAocHJvcGVydHkgPT09IFFPamVjdEZsYWdzU3ltYm9sKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gIH1cblxuICBvd25LZXlzKHRhcmdldDogVGFyZ2V0VHlwZSk6IEFycmF5TGlrZTxzdHJpbmcgfCBzeW1ib2w+IHtcbiAgICBsZXQgc3Vic2NyaWJlcjogU3Vic2NyaWJlciB8IG51bGwgfCB1bmRlZmluZWQgPSBudWxsO1xuICAgIGNvbnN0IGludm9rZUN0eCA9IHRyeUdldEludm9rZUNvbnRleHQoKTtcbiAgICBpZiAoaW52b2tlQ3R4KSB7XG4gICAgICBzdWJzY3JpYmVyID0gaW52b2tlQ3R4LiRzdWJzY3JpYmVyJDtcbiAgICB9XG4gICAgaWYgKHN1YnNjcmliZXIpIHtcbiAgICAgIHRoaXMuJG1hbmFnZXIkLiRhZGRTdWIkKHN1YnNjcmliZXIpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfVxufVxuXG5jb25zdCB3cmFwID0gPFQ+KHZhbHVlOiBULCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpOiBUID0+IHtcbiAgaWYgKGlzUXJsKHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgaWYgKE9iamVjdC5pc0Zyb3plbih2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgY29uc3QgbmFrZWRWYWx1ZSA9IHVud3JhcFByb3h5KHZhbHVlKTtcbiAgICBpZiAobmFrZWRWYWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgIC8vIGFscmVhZHkgYSBwcm94eSByZXR1cm47XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChpc05vZGUobmFrZWRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKCFzaG91bGRTZXJpYWxpemUobmFrZWRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIHZlcmlmeVNlcmlhbGl6YWJsZTxUPih2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHByb3h5ID0gY29udGFpbmVyU3RhdGUuJHByb3h5TWFwJC5nZXQodmFsdWUpO1xuICAgIHJldHVybiBwcm94eSA/IHByb3h5IDogZ2V0T3JDcmVhdGVQcm94eSh2YWx1ZSBhcyBhbnksIGNvbnRhaW5lclN0YXRlLCBRT2JqZWN0UmVjdXJzaXZlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCB2ZXJpZnlTZXJpYWxpemFibGUgPSA8VD4odmFsdWU6IFQpOiBUID0+IHtcbiAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoKTtcbiAgcmV0dXJuIF92ZXJpZnlTZXJpYWxpemFibGUodmFsdWUsIHNlZW4pO1xufTtcblxuY29uc3QgX3ZlcmlmeVNlcmlhbGl6YWJsZSA9IDxUPih2YWx1ZTogVCwgc2VlbjogU2V0PGFueT4pOiBUID0+IHtcbiAgY29uc3QgdW53cmFwcGVkID0gdW53cmFwUHJveHkodmFsdWUpO1xuICBpZiAodW53cmFwcGVkID09IG51bGwpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKHNob3VsZFNlcmlhbGl6ZSh1bndyYXBwZWQpKSB7XG4gICAgaWYgKHNlZW4uaGFzKHVud3JhcHBlZCkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc2Vlbi5hZGQodW53cmFwcGVkKTtcbiAgICBpZiAoY2FuU2VyaWFsaXplKHVud3JhcHBlZCkpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc3dpdGNoICh0eXBlb2YgdW53cmFwcGVkKSB7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoaXNQcm9taXNlKHVud3JhcHBlZCkpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgaWYgKGlzUXdpa0VsZW1lbnQodW53cmFwcGVkKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgICBpZiAoaXNEb2N1bWVudCh1bndyYXBwZWQpKSByZXR1cm4gdmFsdWU7XG5cbiAgICAgICAgaWYgKGlzQXJyYXkodW53cmFwcGVkKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB1bndyYXBwZWQpIHtcbiAgICAgICAgICAgIF92ZXJpZnlTZXJpYWxpemFibGUoaXRlbSwgc2Vlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNTZXJpYWxpemFibGVPYmplY3QodW53cmFwcGVkKSkge1xuICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBPYmplY3QudmFsdWVzKHVud3JhcHBlZCkpIHtcbiAgICAgICAgICAgIF92ZXJpZnlTZXJpYWxpemFibGUoaXRlbSwgc2Vlbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl92ZXJpZnlTZXJpYWxpemFibGUsIHVud3JhcHBlZCk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcbmNvbnN0IG5vU2VyaWFsaXplU2V0ID0gLyojX19QVVJFX18qLyBuZXcgV2Vha1NldDxhbnk+KCk7XG5cbmV4cG9ydCBjb25zdCBzaG91bGRTZXJpYWxpemUgPSAob2JqOiBhbnkpOiBib29sZWFuID0+IHtcbiAgaWYgKGlzT2JqZWN0KG9iaikgfHwgaXNGdW5jdGlvbihvYmopKSB7XG4gICAgcmV0dXJuICFub1NlcmlhbGl6ZVNldC5oYXMob2JqKTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgdHlwZSBOb1NlcmlhbGl6ZTxUPiA9IChUICYgeyBfX25vX3NlcmlhbGl6ZV9fOiB0cnVlIH0pIHwgdW5kZWZpbmVkO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNub1NlcmlhbGl6ZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNub1NlcmlhbGl6ZSBpbnN0ZWFkKVxuLyoqXG4gKiBNYXJrcyBhIHByb3BlcnR5IG9uIGEgc3RvcmUgYXMgbm9uLXNlcmlhbGl6YWJsZS5cbiAqXG4gKiBBdCB0aW1lcyBpdCBpcyBuZWNlc3NhcnkgdG8gc3RvcmUgdmFsdWVzIG9uIGEgc3RvcmUgdGhhdCBhcmUgbm9uLXNlcmlhbGl6YWJsZS4gTm9ybWFsbHkgdGhpc1xuICogaXMgYSBydW50aW1lIGVycm9yIGFzIFN0b3JlIHdhbnRzIHRvIGVhZ2VybHkgcmVwb3J0IHdoZW4gYSBub24tc2VyaWFsaXphYmxlIHByb3BlcnR5IGlzXG4gKiBhc3NpZ25lZCB0byBpdC5cbiAqXG4gKiBZb3UgY2FuIHVzZSBgbm9TZXJpYWxpemUoKWAgdG8gbWFyayBhIHZhbHVlIGFzIG5vbi1zZXJpYWxpemFibGUuIFRoZSB2YWx1ZSBpcyBwZXJzaXN0ZWQgaW4gdGhlXG4gKiBTdG9yZSBidXQgZG9lcyBub3Qgc3Vydml2ZSBzZXJpYWxpemF0aW9uLiBUaGUgaW1wbGljYXRpb24gaXMgdGhhdCB3aGVuIHlvdXIgYXBwbGljYXRpb24gaXNcbiAqIHJlc3VtZWQsIHRoZSB2YWx1ZSBvZiB0aGlzIG9iamVjdCB3aWxsIGJlIGB1bmRlZmluZWRgLiBZb3Ugd2lsbCBiZSByZXNwb25zaWJsZSBmb3IgcmVjb3ZlcmluZ1xuICogZnJvbSB0aGlzLlxuICpcbiAqIFNlZTogW25vU2VyaWFsaXplIFR1dG9yaWFsXShodHRwOi8vcXdpay5idWlsZGVyLmlvL3R1dG9yaWFsL3N0b3JlL25vLXNlcmlhbGl6ZSlcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBub1NlcmlhbGl6ZSA9IDxUIGV4dGVuZHMgb2JqZWN0IHwgdW5kZWZpbmVkPihpbnB1dDogVCk6IE5vU2VyaWFsaXplPFQ+ID0+IHtcbiAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICBub1NlcmlhbGl6ZVNldC5hZGQoaW5wdXQpO1xuICB9XG4gIHJldHVybiBpbnB1dCBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgaW1tdXRhYmxlID0gPFQgZXh0ZW5kcyB7fT4oaW5wdXQ6IFQpOiBSZWFkb25seTxUPiA9PiB7XG4gIHJldHVybiBPYmplY3QuZnJlZXplKGlucHV0KTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI211dGFibGVcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjbXV0YWJsZSBpbnN0ZWFkKVxuLyoqXG4gKiBNYXJrIHByb3BlcnR5IGFzIG11dGFibGUuXG4gKlxuICogUXdpayBhc3N1bWVzIHRoYXQgYWxsIGJpbmRpbmdzIGluIGNvbXBvbmVudHMgYXJlIGltbXV0YWJsZSBieSBkZWZhdWx0LiBUaGlzIGlzIGRvbmUgZm9yIHR3b1xuICogcmVhc29uczpcbiAqXG4gKiAxLiBKU1ggZG9lcyBub3QgYWxsb3cgUXdpayBydW50aW1lIHRvIGtub3cgaWYgYSBiaW5kaW5nIGlzIHN0YXRpYyBvciBtdXRhYmxlLlxuICogICAgYDxFeGFtcGxlIHZhbHVlQT17MTIzfSB2YWx1ZUI9e2V4cH0+YCBBdCBydW50aW1lIHRoZXJlIGlzIG5vIHdheSB0byBrbm93IGlmIGB2YWx1ZUFgIGlzXG4gKiBpbW11dGFibGUuXG4gKiAyLiBJZiBRd2lrIGFzc3VtZXMgdGhhdCBwcm9wZXJ0aWVzIGFyZSBpbW11dGFibGUsIHRoZW4gaXQgY2FuIGRvIGEgYmV0dGVyIGpvYiBkYXRhLXNoYWtpbmcgdGhlXG4gKiBhbW91bnQgb2YgY29kZSB0aGF0IG5lZWRzIHRvIGJlIHNlcmlhbGl6ZWQgdG8gdGhlIGNsaWVudC5cbiAqXG4gKiBCZWNhdXNlIFF3aWsgYXNzdW1lcyB0aGF0IGJpbmRpbmdzIGFyZSBpbW11dGFibGUgYnkgZGVmYXVsdCwgaXQgbmVlZHMgYSB3YXkgZm9yIGEgZGV2ZWxvcGVyIHRvXG4gKiBsZXQgaXQga25vdyB0aGF0IGJpbmRpbmcgaXMgbXV0YWJsZS4gYG11dGFibGUoKWAgZnVuY3Rpb24gc2VydmVzIHRoYXQgcHVycG9zZS5cbiAqIGA8RXhhbXBsZSB2YWx1ZUE9ezEyM30gdmFsdWVCPXttdXRhYmxlKGV4cCl9PmAuIEluIHRoaXMgY2FzZSwgdGhlIFF3aWsgcnVudGltZSBjYW4gY29ycmVjdGx5XG4gKiByZWNvZ25pemUgdGhhdCB0aGUgYEV4YW1wbGVgIHByb3BzIGFyZSBtdXRhYmxlIGFuZCBuZWVkIHRvIGJlIHNlcmlhbGl6ZWQuXG4gKlxuICogU2VlOiBbTXV0YWJsZSBQcm9wcyBUdXRvcmlhbF0oaHR0cDovL3F3aWsuYnVpbGRlci5pby90dXRvcmlhbC9wcm9wcy9tdXRhYmxlKSBmb3IgYW4gZXhhbXBsZVxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgbXV0YWJsZSA9IDxUPih2OiBUKTogTXV0YWJsZVdyYXBwZXI8VD4gPT4ge1xuICByZXR1cm4ge1xuICAgIFtNVVRBQkxFXTogdHJ1ZSxcbiAgICB2LFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGlzQ29ubmVjdGVkID0gKHN1YjogU3Vic2NyaWJlcik6IGJvb2xlYW4gPT4ge1xuICBpZiAoaXNRd2lrRWxlbWVudChzdWIpKSB7XG4gICAgcmV0dXJuICEhdHJ5R2V0Q29udGV4dChzdWIpIHx8IHN1Yi5pc0Nvbm5lY3RlZDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaXNDb25uZWN0ZWQoc3ViLiRlbCQpO1xuICB9XG59O1xuXG5jb25zdCBNVVRBQkxFID0gU3ltYm9sKCdtdXRhYmxlJyk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI011dGFibGVXcmFwcGVyXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI011dGFibGVXcmFwcGVyIGluc3RlYWQpXG4vKipcbiAqIEEgbWFya2VyIG9iamVjdCByZXR1cm5lZCBieSBgbXV0YWJsZSgpYCB0byBpZGVudGlmeSB0aGF0IHRoZSBiaW5kaW5nIGlzIG11dGFibGUuXG4gKlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBpbnRlcmZhY2UgTXV0YWJsZVdyYXBwZXI8VD4ge1xuICAvKipcbiAgICogQSBtYXJrZXIgc3ltYm9sLlxuICAgKi9cbiAgW01VVEFCTEVdOiB0cnVlO1xuICAvKipcbiAgICogTXV0YWJsZSB2YWx1ZS5cbiAgICovXG4gIHY6IFQ7XG59XG5cbmV4cG9ydCBjb25zdCBpc011dGFibGUgPSAodjogYW55KTogdiBpcyBNdXRhYmxlV3JhcHBlcjxhbnk+ID0+IHtcbiAgcmV0dXJuIGlzT2JqZWN0KHYpICYmIHZbTVVUQUJMRV0gPT09IHRydWU7XG59O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgY29uc3QgdW53cmFwUHJveHkgPSA8VD4ocHJveHk6IFQpOiBUID0+IHtcbiAgcmV0dXJuIGdldFByb3h5VGFyZ2V0PFQ+KHByb3h5KSA/PyBwcm94eTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcm94eVRhcmdldCA9IDxUID0gUmVjb3JkPHN0cmluZywgYW55Pj4ob2JqOiBUKTogVCB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgcmV0dXJuIChvYmogYXMgYW55KVtRT2plY3RUYXJnZXRTeW1ib2xdO1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UHJveHlGbGFncyA9IDxUID0gUmVjb3JkPHN0cmluZywgYW55Pj4ob2JqOiBUKTogbnVtYmVyIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKGlzT2JqZWN0KG9iaikpIHtcbiAgICByZXR1cm4gKG9iaiBhcyBhbnkpW1FPamVjdEZsYWdzU3ltYm9sXTtcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbiJdfQ==","import { createProxy, getProxyTarget, isMutable, mutable, QObjectImmutable, } from '../object/q-object';\nimport { resumeContainer } from '../object/store';\nimport { QContainerAttr } from '../util/markers';\nimport { destroyWatch } from '../use/use-watch';\nimport { pauseContainer } from '../object/store';\nimport { qDev } from '../util/qdev';\nimport { logError } from '../util/log';\nimport { isQrl } from '../import/qrl-class';\nimport { directGetAttribute } from '../render/fast-calls';\nimport { assertDefined, assertTrue } from '../assert/assert';\nimport { codeToText, QError_immutableJsxProps } from '../error/error';\nimport { getWrappingContainer } from '../use/use-core';\nimport { getContainerState } from '../render/container';\nimport { fromCamelToKebabCase } from '../util/case';\nexport const Q_CTX = '_qc_';\nexport const resumeIfNeeded = (containerEl) => {\n    const isResumed = directGetAttribute(containerEl, QContainerAttr);\n    if (isResumed === 'paused') {\n        resumeContainer(containerEl);\n        if (qDev) {\n            appendQwikDevTools(containerEl);\n        }\n    }\n};\nexport const appendQwikDevTools = (containerEl) => {\n    containerEl['qwik'] = {\n        pause: () => pauseContainer(containerEl),\n        state: getContainerState(containerEl),\n    };\n};\nexport const tryGetContext = (element) => {\n    return element[Q_CTX];\n};\nexport const getContext = (element) => {\n    let ctx = tryGetContext(element);\n    if (!ctx) {\n        element[Q_CTX] = ctx = {\n            $dirty$: false,\n            $mounted$: false,\n            $attachedListeners$: false,\n            $id$: '',\n            $element$: element,\n            $refMap$: [],\n            li: {},\n            $watches$: null,\n            $seq$: null,\n            $slots$: null,\n            $scopeIds$: null,\n            $appendStyles$: null,\n            $props$: null,\n            $vdom$: null,\n            $renderQrl$: null,\n            $contexts$: null,\n        };\n    }\n    return ctx;\n};\nexport const cleanupContext = (ctx, subsManager) => {\n    const el = ctx.$element$;\n    ctx.$watches$?.forEach((watch) => {\n        subsManager.$clearSub$(watch);\n        destroyWatch(watch);\n    });\n    if (ctx.$renderQrl$) {\n        subsManager.$clearSub$(el);\n    }\n    ctx.$renderQrl$ = null;\n    ctx.$seq$ = null;\n    ctx.$watches$ = null;\n    ctx.$dirty$ = false;\n    el[Q_CTX] = undefined;\n};\nconst PREFIXES = ['on', 'window:on', 'document:on'];\nconst SCOPED = ['on', 'on-window', 'on-document'];\nexport const normalizeOnProp = (prop) => {\n    let scope = 'on';\n    for (let i = 0; i < PREFIXES.length; i++) {\n        const prefix = PREFIXES[i];\n        if (prop.startsWith(prefix)) {\n            scope = SCOPED[i];\n            prop = prop.slice(prefix.length);\n            break;\n        }\n    }\n    if (prop.startsWith('-')) {\n        prop = fromCamelToKebabCase(prop.slice(1));\n    }\n    else {\n        prop = prop.toLowerCase();\n    }\n    return scope + \":\" + prop;\n};\nexport const createProps = (target, containerState) => {\n    return createProxy(target, containerState, QObjectImmutable);\n};\nexport const getPropsMutator = (ctx, containerState) => {\n    let props = ctx.$props$;\n    if (!ctx.$props$) {\n        ctx.$props$ = props = createProps({}, containerState);\n    }\n    const target = getProxyTarget(props);\n    assertDefined(target, `props have to be a proxy, but it is not`, props);\n    const manager = containerState.$subsManager$.$getLocal$(target);\n    return {\n        set(prop, value) {\n            const didSet = prop in target;\n            let oldValue = target[prop];\n            let mut = false;\n            if (isMutable(oldValue)) {\n                oldValue = oldValue.v;\n            }\n            if (containerState.$mutableProps$) {\n                mut = true;\n                if (isMutable(value)) {\n                    value = value.v;\n                    target[prop] = value;\n                }\n                else {\n                    target[prop] = mutable(value);\n                }\n            }\n            else {\n                target[prop] = value;\n                if (isMutable(value)) {\n                    value = value.v;\n                    mut = true;\n                }\n            }\n            if (oldValue !== value) {\n                if (qDev) {\n                    if (didSet && !mut && !isQrl(value)) {\n                        const displayName = ctx.$renderQrl$?.getSymbol() ?? ctx.$element$.localName;\n                        logError(codeToText(QError_immutableJsxProps), `If you need to change a value of a passed in prop, please wrap the prop with \"mutable()\" <${displayName} ${prop}={mutable(...)}>`, '\\n - Component:', displayName, '\\n - Prop:', prop, '\\n - Old value:', oldValue, '\\n - New value:', value);\n                    }\n                }\n                manager.$notifySubs$(prop);\n            }\n        },\n    };\n};\n/**\n * @internal\n */\nexport const _useMutableProps = (element, mutable) => {\n    const ctx = getWrappingContainer(element);\n    getContainerState(ctx).$mutableProps$ = mutable;\n};\nexport const inflateQrl = (qrl, elCtx) => {\n    assertDefined(qrl.$capture$, 'invoke: qrl capture must be defined inside useLexicalScope()', qrl);\n    return qrl.$captureRef$ = qrl.$capture$.map((idx) => {\n        const int = parseInt(idx, 10);\n        const obj = elCtx.$refMap$[int];\n        assertTrue(elCtx.$refMap$.length > int, 'out of bounds inflate access', idx);\n        return obj;\n    });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvcHMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcHJvcHMvcHJvcHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLFdBQVcsRUFDWCxjQUFjLEVBQ2QsU0FBUyxFQUNULE9BQU8sRUFDUCxnQkFBZ0IsR0FDakIsTUFBTSxvQkFBb0IsQ0FBQztBQUM1QixPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDbEQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRWpELE9BQU8sRUFBRSxZQUFZLEVBQXdCLE1BQU0sa0JBQWtCLENBQUM7QUFDdEUsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDcEMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQUUsS0FBSyxFQUFlLE1BQU0scUJBQXFCLENBQUM7QUFDekQsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDMUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxVQUFVLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUM3RCxPQUFPLEVBQUUsVUFBVSxFQUFFLHdCQUF3QixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFdEUsT0FBTyxFQUFFLG9CQUFvQixFQUFlLE1BQU0saUJBQWlCLENBQUM7QUFDcEUsT0FBTyxFQUFrQixpQkFBaUIsRUFBdUIsTUFBTSxxQkFBcUIsQ0FBQztBQUc3RixPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFcEQsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQztBQUU1QixNQUFNLENBQUMsTUFBTSxjQUFjLEdBQUcsQ0FBQyxXQUFvQixFQUFRLEVBQUU7SUFDM0QsTUFBTSxT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RSxHQUFHLENBQUMsQ0FBQztRQUM3RSxPQUFPLEdBQUcsQ0FBQztJQUNiLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3JlYXRlUHJveHksXG4gIGdldFByb3h5VGFyZ2V0LFxuICBpc011dGFibGUsXG4gIG11dGFibGUsXG4gIFFPYmplY3RJbW11dGFibGUsXG59IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyByZXN1bWVDb250YWluZXIgfSBmcm9tICcuLi9vYmplY3Qvc3RvcmUnO1xuaW1wb3J0IHsgUUNvbnRhaW5lckF0dHIgfSBmcm9tICcuLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHR5cGUgeyBPblJlbmRlckZuIH0gZnJvbSAnLi4vY29tcG9uZW50L2NvbXBvbmVudC5wdWJsaWMnO1xuaW1wb3J0IHsgZGVzdHJveVdhdGNoLCBTdWJzY3JpYmVyRGVzY3JpcHRvciB9IGZyb20gJy4uL3VzZS91c2Utd2F0Y2gnO1xuaW1wb3J0IHsgcGF1c2VDb250YWluZXIgfSBmcm9tICcuLi9vYmplY3Qvc3RvcmUnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBsb2dFcnJvciB9IGZyb20gJy4uL3V0aWwvbG9nJztcbmltcG9ydCB7IGlzUXJsLCBRUkxJbnRlcm5hbCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuaW1wb3J0IHsgZGlyZWN0R2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vcmVuZGVyL2Zhc3QtY2FsbHMnO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCwgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgY29kZVRvVGV4dCwgUUVycm9yX2ltbXV0YWJsZUpzeFByb3BzIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHR5cGUgeyBRUkwgfSBmcm9tICcuLi9pbXBvcnQvcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBnZXRXcmFwcGluZ0NvbnRhaW5lciwgU3R5bGVBcHBlbmQgfSBmcm9tICcuLi91c2UvdXNlLWNvcmUnO1xuaW1wb3J0IHsgQ29udGFpbmVyU3RhdGUsIGdldENvbnRhaW5lclN0YXRlLCBTdWJzY3JpcHRpb25NYW5hZ2VyIH0gZnJvbSAnLi4vcmVuZGVyL2NvbnRhaW5lcic7XG5pbXBvcnQgdHlwZSB7IFByb2Nlc3NlZEpTWE5vZGUgfSBmcm9tICcuLi9yZW5kZXIvZG9tL3JlbmRlci1kb20nO1xuaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCwgVmlydHVhbEVsZW1lbnQgfSBmcm9tICcuLi9yZW5kZXIvZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5pbXBvcnQgeyBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSB9IGZyb20gJy4uL3V0aWwvY2FzZSc7XG5cbmV4cG9ydCBjb25zdCBRX0NUWCA9ICdfcWNfJztcblxuZXhwb3J0IGNvbnN0IHJlc3VtZUlmTmVlZGVkID0gKGNvbnRhaW5lckVsOiBFbGVtZW50KTogdm9pZCA9PiB7XG4gIGNvbnN0IGlzUmVzdW1lZCA9IGRpcmVjdEdldEF0dHJpYnV0ZShjb250YWluZXJFbCwgUUNvbnRhaW5lckF0dHIpO1xuICBpZiAoaXNSZXN1bWVkID09PSAncGF1c2VkJykge1xuICAgIHJlc3VtZUNvbnRhaW5lcihjb250YWluZXJFbCk7XG4gICAgaWYgKHFEZXYpIHtcbiAgICAgIGFwcGVuZFF3aWtEZXZUb29scyhjb250YWluZXJFbCk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgY29uc3QgYXBwZW5kUXdpa0RldlRvb2xzID0gKGNvbnRhaW5lckVsOiBFbGVtZW50KSA9PiB7XG4gIChjb250YWluZXJFbCBhcyBhbnkpWydxd2lrJ10gPSB7XG4gICAgcGF1c2U6ICgpID0+IHBhdXNlQ29udGFpbmVyKGNvbnRhaW5lckVsKSxcbiAgICBzdGF0ZTogZ2V0Q29udGFpbmVyU3RhdGUoY29udGFpbmVyRWwpLFxuICB9O1xufTtcblxuZXhwb3J0IGludGVyZmFjZSBRQ29udGV4dEV2ZW50cyB7XG4gIFtldmVudE5hbWU6IHN0cmluZ106IFFSTCB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRQ29udGV4dCB7XG4gICRlbGVtZW50JDogUXdpa0VsZW1lbnQ7XG4gICRyZWZNYXAkOiBhbnlbXTtcbiAgJGRpcnR5JDogYm9vbGVhbjtcbiAgJGF0dGFjaGVkTGlzdGVuZXJzJDogYm9vbGVhbjtcbiAgJGlkJDogc3RyaW5nO1xuICAkbW91bnRlZCQ6IGJvb2xlYW47XG4gICRwcm9wcyQ6IFJlY29yZDxzdHJpbmcsIGFueT4gfCBudWxsO1xuICAkcmVuZGVyUXJsJDogUVJMSW50ZXJuYWw8T25SZW5kZXJGbjxhbnk+PiB8IG51bGw7XG4gIGxpOiBSZWNvcmQ8c3RyaW5nLCBRUkxJbnRlcm5hbDxhbnk+W10+O1xuICAkc2VxJDogYW55W10gfCBudWxsO1xuICAkd2F0Y2hlcyQ6IFN1YnNjcmliZXJEZXNjcmlwdG9yW10gfCBudWxsO1xuICAkY29udGV4dHMkOiBNYXA8c3RyaW5nLCBhbnk+IHwgbnVsbDtcbiAgJGFwcGVuZFN0eWxlcyQ6IFN0eWxlQXBwZW5kW10gfCBudWxsO1xuICAkc2NvcGVJZHMkOiBzdHJpbmdbXSB8IG51bGw7XG4gICR2ZG9tJDogUHJvY2Vzc2VkSlNYTm9kZSB8IG51bGw7XG4gICRzbG90cyQ6IFByb2Nlc3NlZEpTWE5vZGVbXSB8IG51bGw7XG59XG5cbmV4cG9ydCBjb25zdCB0cnlHZXRDb250ZXh0ID0gKGVsZW1lbnQ6IFF3aWtFbGVtZW50KTogUUNvbnRleHQgfCB1bmRlZmluZWQgPT4ge1xuICByZXR1cm4gKGVsZW1lbnQgYXMgYW55KVtRX0NUWF07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q29udGV4dCA9IChlbGVtZW50OiBFbGVtZW50IHwgVmlydHVhbEVsZW1lbnQpOiBRQ29udGV4dCA9PiB7XG4gIGxldCBjdHggPSB0cnlHZXRDb250ZXh0KGVsZW1lbnQpITtcbiAgaWYgKCFjdHgpIHtcbiAgICAoZWxlbWVudCBhcyBhbnkpW1FfQ1RYXSA9IGN0eCA9IHtcbiAgICAgICRkaXJ0eSQ6IGZhbHNlLFxuICAgICAgJG1vdW50ZWQkOiBmYWxzZSxcbiAgICAgICRhdHRhY2hlZExpc3RlbmVycyQ6IGZhbHNlLFxuICAgICAgJGlkJDogJycsXG4gICAgICAkZWxlbWVudCQ6IGVsZW1lbnQsXG4gICAgICAkcmVmTWFwJDogW10sXG4gICAgICBsaToge30sXG4gICAgICAkd2F0Y2hlcyQ6IG51bGwsXG4gICAgICAkc2VxJDogbnVsbCxcbiAgICAgICRzbG90cyQ6IG51bGwsXG4gICAgICAkc2NvcGVJZHMkOiBudWxsLFxuICAgICAgJGFwcGVuZFN0eWxlcyQ6IG51bGwsXG4gICAgICAkcHJvcHMkOiBudWxsLFxuICAgICAgJHZkb20kOiBudWxsLFxuICAgICAgJHJlbmRlclFybCQ6IG51bGwsXG4gICAgICAkY29udGV4dHMkOiBudWxsLFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIGN0eDtcbn07XG5cbmV4cG9ydCBjb25zdCBjbGVhbnVwQ29udGV4dCA9IChjdHg6IFFDb250ZXh0LCBzdWJzTWFuYWdlcjogU3Vic2NyaXB0aW9uTWFuYWdlcikgPT4ge1xuICBjb25zdCBlbCA9IGN0eC4kZWxlbWVudCQ7XG4gIGN0eC4kd2F0Y2hlcyQ/LmZvckVhY2goKHdhdGNoKSA9PiB7XG4gICAgc3Vic01hbmFnZXIuJGNsZWFyU3ViJCh3YXRjaCk7XG4gICAgZGVzdHJveVdhdGNoKHdhdGNoKTtcbiAgfSk7XG4gIGlmIChjdHguJHJlbmRlclFybCQpIHtcbiAgICBzdWJzTWFuYWdlci4kY2xlYXJTdWIkKGVsKTtcbiAgfVxuICBjdHguJHJlbmRlclFybCQgPSBudWxsO1xuICBjdHguJHNlcSQgPSBudWxsO1xuICBjdHguJHdhdGNoZXMkID0gbnVsbDtcbiAgY3R4LiRkaXJ0eSQgPSBmYWxzZTtcblxuICAoZWwgYXMgYW55KVtRX0NUWF0gPSB1bmRlZmluZWQ7XG59O1xuXG5jb25zdCBQUkVGSVhFUyA9IFsnb24nLCAnd2luZG93Om9uJywgJ2RvY3VtZW50Om9uJ107XG5jb25zdCBTQ09QRUQgPSBbJ29uJywgJ29uLXdpbmRvdycsICdvbi1kb2N1bWVudCddO1xuXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplT25Qcm9wID0gKHByb3A6IHN0cmluZykgPT4ge1xuICBsZXQgc2NvcGUgPSAnb24nO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IFBSRUZJWEVTLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgcHJlZml4ID0gUFJFRklYRVNbaV07XG4gICAgaWYgKHByb3Auc3RhcnRzV2l0aChwcmVmaXgpKSB7XG4gICAgICBzY29wZSA9IFNDT1BFRFtpXTtcbiAgICAgIHByb3AgPSBwcm9wLnNsaWNlKHByZWZpeC5sZW5ndGgpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmIChwcm9wLnN0YXJ0c1dpdGgoJy0nKSkge1xuICAgIHByb3AgPSBmcm9tQ2FtZWxUb0tlYmFiQ2FzZShwcm9wLnNsaWNlKDEpKTtcbiAgfSBlbHNlIHtcbiAgICBwcm9wID0gcHJvcC50b0xvd2VyQ2FzZSgpO1xuICB9XG4gIHJldHVybiBzY29wZSArIFwiOlwiICsgcHJvcDtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVQcm9wcyA9ICh0YXJnZXQ6IGFueSwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiB7XG4gIHJldHVybiBjcmVhdGVQcm94eSh0YXJnZXQsIGNvbnRhaW5lclN0YXRlLCBRT2JqZWN0SW1tdXRhYmxlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQcm9wc011dGF0b3IgPSAoY3R4OiBRQ29udGV4dCwgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlKSA9PiB7XG4gIGxldCBwcm9wcyA9IGN0eC4kcHJvcHMkO1xuICBpZiAoIWN0eC4kcHJvcHMkKSB7XG4gICAgY3R4LiRwcm9wcyQgPSBwcm9wcyA9IGNyZWF0ZVByb3BzKHt9LCBjb250YWluZXJTdGF0ZSk7XG4gIH1cbiAgY29uc3QgdGFyZ2V0ID0gZ2V0UHJveHlUYXJnZXQocHJvcHMpO1xuICBhc3NlcnREZWZpbmVkKHRhcmdldCwgYHByb3BzIGhhdmUgdG8gYmUgYSBwcm94eSwgYnV0IGl0IGlzIG5vdGAsIHByb3BzKTtcbiAgY29uc3QgbWFuYWdlciA9IGNvbnRhaW5lclN0YXRlLiRzdWJzTWFuYWdlciQuJGdldExvY2FsJCh0YXJnZXQpO1xuXG4gIHJldHVybiB7XG4gICAgc2V0KHByb3A6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgY29uc3QgZGlkU2V0ID0gcHJvcCBpbiB0YXJnZXQ7XG4gICAgICBsZXQgb2xkVmFsdWUgPSB0YXJnZXRbcHJvcF07XG4gICAgICBsZXQgbXV0ID0gZmFsc2U7XG4gICAgICBpZiAoaXNNdXRhYmxlKG9sZFZhbHVlKSkge1xuICAgICAgICBvbGRWYWx1ZSA9IG9sZFZhbHVlLnY7XG4gICAgICB9XG4gICAgICBpZiAoY29udGFpbmVyU3RhdGUuJG11dGFibGVQcm9wcyQpIHtcbiAgICAgICAgbXV0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKGlzTXV0YWJsZSh2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnY7XG4gICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0W3Byb3BdID0gbXV0YWJsZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICBpZiAoaXNNdXRhYmxlKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUudjtcbiAgICAgICAgICBtdXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAob2xkVmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIGlmIChxRGV2KSB7XG4gICAgICAgICAgaWYgKGRpZFNldCAmJiAhbXV0ICYmICFpc1FybCh2YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gY3R4LiRyZW5kZXJRcmwkPy5nZXRTeW1ib2woKSA/PyBjdHguJGVsZW1lbnQkLmxvY2FsTmFtZTtcbiAgICAgICAgICAgIGxvZ0Vycm9yKFxuICAgICAgICAgICAgICBjb2RlVG9UZXh0KFFFcnJvcl9pbW11dGFibGVKc3hQcm9wcyksXG4gICAgICAgICAgICAgIGBJZiB5b3UgbmVlZCB0byBjaGFuZ2UgYSB2YWx1ZSBvZiBhIHBhc3NlZCBpbiBwcm9wLCBwbGVhc2Ugd3JhcCB0aGUgcHJvcCB3aXRoIFwibXV0YWJsZSgpXCIgPCR7ZGlzcGxheU5hbWV9ICR7cHJvcH09e211dGFibGUoLi4uKX0+YCxcbiAgICAgICAgICAgICAgJ1xcbiAtIENvbXBvbmVudDonLFxuICAgICAgICAgICAgICBkaXNwbGF5TmFtZSxcbiAgICAgICAgICAgICAgJ1xcbiAtIFByb3A6JyxcbiAgICAgICAgICAgICAgcHJvcCxcbiAgICAgICAgICAgICAgJ1xcbiAtIE9sZCB2YWx1ZTonLFxuICAgICAgICAgICAgICBvbGRWYWx1ZSxcbiAgICAgICAgICAgICAgJ1xcbiAtIE5ldyB2YWx1ZTonLFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWFuYWdlci4kbm90aWZ5U3VicyQocHJvcCk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn07XG5cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjb25zdCBfdXNlTXV0YWJsZVByb3BzID0gKGVsZW1lbnQ6IEVsZW1lbnQsIG11dGFibGU6IGJvb2xlYW4pID0+IHtcbiAgY29uc3QgY3R4ID0gZ2V0V3JhcHBpbmdDb250YWluZXIoZWxlbWVudCk7XG4gIGdldENvbnRhaW5lclN0YXRlKGN0eCEpLiRtdXRhYmxlUHJvcHMkID0gbXV0YWJsZTtcbn07XG5cblxuZXhwb3J0IGNvbnN0IGluZmxhdGVRcmwgPSAocXJsOiBRUkxJbnRlcm5hbCwgZWxDdHg6IFFDb250ZXh0KSA9PiB7XG4gIGFzc2VydERlZmluZWQoXG4gICAgcXJsLiRjYXB0dXJlJCxcbiAgICAnaW52b2tlOiBxcmwgY2FwdHVyZSBtdXN0IGJlIGRlZmluZWQgaW5zaWRlIHVzZUxleGljYWxTY29wZSgpJyxcbiAgICBxcmxcbiAgKTtcbiAgcmV0dXJuIHFybC4kY2FwdHVyZVJlZiQgPSBxcmwuJGNhcHR1cmUkLm1hcCgoaWR4KSA9PiB7XG4gICAgY29uc3QgaW50ID0gcGFyc2VJbnQoaWR4LCAxMCk7XG4gICAgY29uc3Qgb2JqID0gZWxDdHguJHJlZk1hcCRbaW50XTtcbiAgICBhc3NlcnRUcnVlKGVsQ3R4LiRyZWZNYXAkLmxlbmd0aCA+IGludCwgJ291dCBvZiBib3VuZHMgaW5mbGF0ZSBhY2Nlc3MnLCBpZHgpO1xuICAgIHJldHVybiBvYmo7XG4gIH0pO1xufTtcbiJdfQ==","import { isNode } from '../../testing/html';\nimport { tryGetContext } from '../props/props';\nimport { isElement } from './element';\nimport { qDev } from './qdev';\nconst STYLE = qDev\n    ? `background: #564CE0; color: white; padding: 2px 3px; border-radius: 2px; font-size: 0.8em;`\n    : '';\nexport const logError = (message, ...optionalParams) => {\n    const err = message instanceof Error ? message : new Error(message);\n    // eslint-disable-next-line no-console\n    console.error('%cQWIK ERROR', STYLE, err.message, ...printParams(optionalParams), err.stack);\n    return err;\n};\nexport const logErrorAndStop = (message, ...optionalParams) => {\n    const err = logError(message, ...optionalParams);\n    // eslint-disable-next-line no-debugger\n    debugger;\n    return err;\n};\nexport const logWarn = (message, ...optionalParams) => {\n    // eslint-disable-next-line no-console\n    if (qDev) {\n        console.warn('%cQWIK WARN', STYLE, message, ...printParams(optionalParams));\n    }\n};\nexport const logDebug = (message, ...optionalParams) => {\n    if (qDev) {\n        // eslint-disable-next-line no-console\n        console.debug('%cQWIK', STYLE, message, ...printParams(optionalParams));\n    }\n};\nconst printParams = (optionalParams) => {\n    if (qDev) {\n        return optionalParams.map((p) => {\n            if (isNode(p) && isElement(p)) {\n                return printElement(p);\n            }\n            return p;\n        });\n    }\n    return optionalParams;\n};\nconst printElement = (el) => {\n    const ctx = tryGetContext(el);\n    const isServer = /*#__PURE__*/ (() => typeof process !== 'undefined' && !!process.versions && !!process.versions.node)();\n    return {\n        tagName: el.tagName,\n        renderQRL: ctx?.$renderQrl$?.getSymbol(),\n        element: isServer ? undefined : el,\n        ctx: isServer ? undefined : ctx,\n    };\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3V0aWwvbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUM1QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDL0MsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUN0QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sUUFBUSxDQUFDO0FBRTlCLE1BQU0sS0FBSyxHQUFHLElBQUk7SUFDaEIsQ0FBQyxDQUFDLDRGQUE0RjtJQUM5RixDQUFDLENBQUMsRUFBRSxDQUFDO0FBRVAsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ2xFLE1BQU0sR0FBRyxHQUFHLE9BQU8sWUFBWSxLQUFLLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDcEUsc0NBQXNDO0lBQ3RDLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsV0FBVyxDQUFDLGNBQWMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3RixPQUFPLEdBQUcsQ0FBQztBQUNiLENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxDQUFDLE9BQWEsRUFBRSxHQUFHLGNBQXFCLEVBQUUsRUFBRTtJQUN6RSxNQUFNLEdBQUcsR0FBRyxRQUFRLENBQUMsT0FBTyxFQUFFLEdBQUcsY0FBYyxDQUFDLENBQUM7SUFDakQsdUNBQXVDO0lBQ3ZDLFFBQVEsQ0FBQztJQUNULE9BQU8sR0FBRyxDQUFDO0FBQ2IsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLENBQUMsT0FBYSxFQUFFLEdBQUcsY0FBcUIsRUFBRSxFQUFFO0lBQ2pFLHNDQUFzQztJQUN0QyxJQUFJLElBQUksRUFBRTtRQUNSLE9BQU8sQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsR0FBRyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztLQUM3RTtBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLE9BQWdCLEVBQUUsR0FBRyxjQUFxQixFQUFFLEVBQUU7SUFDckUsSUFBSSxJQUFJLEVBQUU7UUFDUixzQ0FBc0M7UUFDdEMsT0FBTyxDQUFDLEtBQUssQ0FBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxHQUFHLFdBQVcsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO0tBQ3pFO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxXQUFXLEdBQUcsQ0FBQyxjQUFxQixFQUFFLEVBQUU7SUFDNUMsSUFBSSxJQUFJLEVBQUU7UUFDUixPQUFPLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUM5QixJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQzdCLE9BQU8sWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3hCO1lBQ0QsT0FBTyxDQUFDLENBQUM7UUFDWCxDQUFDLENBQUMsQ0FBQztLQUNKO0lBQ0QsT0FBTyxjQUFjLENBQUM7QUFDeEIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxZQUFZLEdBQUcsQ0FBQyxFQUFXLEVBQUUsRUFBRTtJQUNuQyxNQUFNLEdBQUcsR0FBRyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDOUIsTUFBTSxRQUFRLEdBQVksYUFBYSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQzVDLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO0lBRXJGLE9BQU87UUFDTCxPQUFPLEVBQUUsRUFBRSxDQUFDLE9BQU87UUFDbkIsU0FBUyxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFFO1FBQ3hDLE9BQU8sRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUNsQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUc7S0FDaEMsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzTm9kZSB9IGZyb20gJy4uLy4uL3Rlc3RpbmcvaHRtbCc7XG5pbXBvcnQgeyB0cnlHZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi9lbGVtZW50JztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuL3FkZXYnO1xuXG5jb25zdCBTVFlMRSA9IHFEZXZcbiAgPyBgYmFja2dyb3VuZDogIzU2NENFMDsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAycHggM3B4OyBib3JkZXItcmFkaXVzOiAycHg7IGZvbnQtc2l6ZTogMC44ZW07YFxuICA6ICcnO1xuXG5leHBvcnQgY29uc3QgbG9nRXJyb3IgPSAobWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSA9PiB7XG4gIGNvbnN0IGVyciA9IG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvciA/IG1lc3NhZ2UgOiBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUuZXJyb3IoJyVjUVdJSyBFUlJPUicsIFNUWUxFLCBlcnIubWVzc2FnZSwgLi4ucHJpbnRQYXJhbXMob3B0aW9uYWxQYXJhbXMpLCBlcnIuc3RhY2spO1xuICByZXR1cm4gZXJyO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvZ0Vycm9yQW5kU3RvcCA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgY29uc3QgZXJyID0gbG9nRXJyb3IobWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXJcbiAgZGVidWdnZXI7XG4gIHJldHVybiBlcnI7XG59O1xuXG5leHBvcnQgY29uc3QgbG9nV2FybiA9IChtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgaWYgKHFEZXYpIHtcbiAgICBjb25zb2xlLndhcm4oJyVjUVdJSyBXQVJOJywgU1RZTEUsIG1lc3NhZ2UsIC4uLnByaW50UGFyYW1zKG9wdGlvbmFsUGFyYW1zKSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBsb2dEZWJ1ZyA9IChtZXNzYWdlPzogc3RyaW5nLCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUuZGVidWcoJyVjUVdJSycsIFNUWUxFLCBtZXNzYWdlLCAuLi5wcmludFBhcmFtcyhvcHRpb25hbFBhcmFtcykpO1xuICB9XG59O1xuXG5jb25zdCBwcmludFBhcmFtcyA9IChvcHRpb25hbFBhcmFtczogYW55W10pID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICByZXR1cm4gb3B0aW9uYWxQYXJhbXMubWFwKChwKSA9PiB7XG4gICAgICBpZiAoaXNOb2RlKHApICYmIGlzRWxlbWVudChwKSkge1xuICAgICAgICByZXR1cm4gcHJpbnRFbGVtZW50KHApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHA7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbmFsUGFyYW1zO1xufTtcblxuY29uc3QgcHJpbnRFbGVtZW50ID0gKGVsOiBFbGVtZW50KSA9PiB7XG4gIGNvbnN0IGN0eCA9IHRyeUdldENvbnRleHQoZWwpO1xuICBjb25zdCBpc1NlcnZlcjogYm9vbGVhbiA9IC8qI19fUFVSRV9fKi8gKCgpID0+XG4gICAgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICEhcHJvY2Vzcy52ZXJzaW9ucyAmJiAhIXByb2Nlc3MudmVyc2lvbnMubm9kZSkoKTtcblxuICByZXR1cm4ge1xuICAgIHRhZ05hbWU6IGVsLnRhZ05hbWUsXG4gICAgcmVuZGVyUVJMOiBjdHg/LiRyZW5kZXJRcmwkPy5nZXRTeW1ib2woKSxcbiAgICBlbGVtZW50OiBpc1NlcnZlciA/IHVuZGVmaW5lZCA6IGVsLFxuICAgIGN0eDogaXNTZXJ2ZXIgPyB1bmRlZmluZWQgOiBjdHgsXG4gIH07XG59O1xuIl19","import { logErrorAndStop } from '../util/log';\nimport { qDev } from '../util/qdev';\nexport const QError_stringifyClassOrStyle = 0;\nexport const QError_cannotSerializeNode = 1; // 'Can not serialize a HTML Node that is not an Element'\nexport const QError_runtimeQrlNoElement = 2; // `Q-ERROR: '${qrl}' is runtime but no instance found on element.`\nexport const QError_verifySerializable = 3; // 'Only primitive and object literals can be serialized', value,\nexport const QError_errorWhileRendering = 4; // Crash while rendering\nexport const QError_cannotRenderOverExistingContainer = 5; //'You can render over a existing q:container. Skipping render().'\nexport const QError_setProperty = 6; //'Set property'\nexport const QError_qrlOrError = 7;\nexport const QError_onlyObjectWrapped = 8;\nexport const QError_onlyLiteralWrapped = 9;\nexport const QError_qrlIsNotFunction = 10;\nexport const QError_dynamicImportFailed = 11;\nexport const QError_unknownTypeArgument = 12;\nexport const QError_notFoundContext = 13;\nexport const QError_useMethodOutsideContext = 14;\nexport const QError_missingRenderCtx = 15;\nexport const QError_missingDoc = 16;\nexport const QError_immutableProps = 17;\nexport const QError_hostCanOnlyBeAtRoot = 18;\nexport const QError_immutableJsxProps = 19;\nexport const QError_useInvokeContext = 20;\nexport const QError_containerAlreadyPaused = 21;\nexport const QError_canNotMountUseServerMount = 22;\nexport const QError_rootNodeMustBeHTML = 23;\nexport const QError_strictHTMLChildren = 24;\nexport const QError_invalidJsxNodeType = 25;\nexport const QError_trackUseStore = 26;\nexport const QError_missingObjectId = 27;\nexport const QError_invalidContext = 28;\nexport const QError_canNotRenderHTML = 29;\nexport const qError = (code, ...parts) => {\n    const text = codeToText(code);\n    return logErrorAndStop(text, ...parts);\n};\nexport const codeToText = (code) => {\n    if (qDev) {\n        const MAP = [\n            'Error while serializing class attribute',\n            'Can not serialize a HTML Node that is not an Element',\n            'Rruntime but no instance found on element.',\n            'Only primitive and object literals can be serialized',\n            'Crash while rendering',\n            'You can render over a existing q:container. Skipping render().',\n            'Set property',\n            \"Only function's and 'string's are supported.\",\n            \"Only objects can be wrapped in 'QObject'\",\n            `Only objects literals can be wrapped in 'QObject'`,\n            'QRL is not a function',\n            'Dynamic import not found',\n            'Unknown type argument',\n            'Actual value for useContext() can not be found, make sure some ancestor component has set a value using useContextProvider()',\n            \"Invoking 'use*()' method outside of invocation context.\",\n            'Cant access renderCtx for existing context',\n            'Cant access document for existing context',\n            'props are inmutable',\n            '<div> component can only be used at the root of a Qwik component$()',\n            'Props are immutable by default.',\n            'use- method must be called only at the root level of a component$()',\n            'Container is already paused. Skipping',\n            'Components using useServerMount() can only be mounted in the server, if you need your component to be mounted in the client, use \"useMount$()\" instead',\n            'When rendering directly on top of Document, the root node must be a <html>',\n            'A <html> node must have 2 children. The first one <head> and the second one a <body>',\n            'Invalid JSXNode type. It must be either a function or a string. Found:',\n            'Tracking value changes can only be done to useStore() objects and component props',\n            'Missing Object ID for captured object',\n            'The provided Context reference is not a valid context created by createContext()',\n            '<html> is the root container, it can not be rendered inside a component', // 29\n        ];\n        return `Code(${code}): ${MAP[code] ?? ''}`;\n    }\n    else {\n        return `Code(${code})`;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3IuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvZXJyb3IvZXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUM5QyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBRXBDLE1BQU0sQ0FBQyxNQUFNLDRCQUE0QixHQUFHLENBQUMsQ0FBQztBQUM5QyxNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxDQUFDLENBQUMsQ0FBQyx5REFBeUQ7QUFDdEcsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsQ0FBQyxDQUFDLENBQUMsbUVBQW1FO0FBQ2hILE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLENBQUMsQ0FBQyxDQUFDLGlFQUFpRTtBQUM3RyxNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxDQUFDLENBQUMsQ0FBQyx3QkFBd0I7QUFDckUsTUFBTSxDQUFDLE1BQU0sd0NBQXdDLEdBQUcsQ0FBQyxDQUFDLENBQUMsa0VBQWtFO0FBQzdILE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFHLENBQUMsQ0FBQyxDQUFDLGdCQUFnQjtBQUNyRCxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7QUFDbkMsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUcsQ0FBQyxDQUFDO0FBQzFDLE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLENBQUMsQ0FBQztBQUMzQyxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FBRyxFQUFFLENBQUM7QUFDMUMsTUFBTSxDQUFDLE1BQU0sMEJBQTBCLEdBQUcsRUFBRSxDQUFDO0FBQzdDLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLEVBQUUsQ0FBQztBQUM3QyxNQUFNLENBQUMsTUFBTSxzQkFBc0IsR0FBRyxFQUFFLENBQUM7QUFDekMsTUFBTSxDQUFDLE1BQU0sOEJBQThCLEdBQUcsRUFBRSxDQUFDO0FBQ2pELE1BQU0sQ0FBQyxNQUFNLHVCQUF1QixHQUFHLEVBQUUsQ0FBQztBQUMxQyxNQUFNLENBQUMsTUFBTSxpQkFBaUIsR0FBRyxFQUFFLENBQUM7QUFDcEMsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsRUFBRSxDQUFDO0FBQ3hDLE1BQU0sQ0FBQyxNQUFNLDBCQUEwQixHQUFHLEVBQUUsQ0FBQztBQUM3QyxNQUFNLENBQUMsTUFBTSx3QkFBd0IsR0FBRyxFQUFFLENBQUM7QUFDM0MsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsRUFBRSxDQUFDO0FBQzFDLE1BQU0sQ0FBQyxNQUFNLDZCQUE2QixHQUFHLEVBQUUsQ0FBQztBQUNoRCxNQUFNLENBQUMsTUFBTSxnQ0FBZ0MsR0FBRyxFQUFFLENBQUM7QUFDbkQsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQUcsRUFBRSxDQUFDO0FBQzVDLE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUFHLEVBQUUsQ0FBQztBQUM1QyxNQUFNLENBQUMsTUFBTSx5QkFBeUIsR0FBRyxFQUFFLENBQUM7QUFDNUMsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsRUFBRSxDQUFDO0FBQ3ZDLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLEVBQUUsQ0FBQztBQUN6QyxNQUFNLENBQUMsTUFBTSxxQkFBcUIsR0FBRyxFQUFFLENBQUM7QUFDeEMsTUFBTSxDQUFDLE1BQU0sdUJBQXVCLEdBQUcsRUFBRSxDQUFDO0FBRTFDLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxDQUFDLElBQVksRUFBRSxHQUFHLEtBQVksRUFBUyxFQUFFO0lBQzdELE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5QixPQUFPLGVBQWUsQ0FBQyxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQztBQUN6QyxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FBQyxJQUFZLEVBQVUsRUFBRTtJQUNqRCxJQUFJLElBQUksRUFBRTtRQUNSLE1BQU0sR0FBRyxHQUFHO1lBQ1YseUNBQXlDO1lBQ3pDLHNEQUFzRDtZQUN0RCw0Q0FBNEM7WUFDNUMsc0RBQXNEO1lBQ3RELHVCQUF1QjtZQUN2QixnRUFBZ0U7WUFDaEUsY0FBYztZQUNkLDhDQUE4QztZQUM5QywwQ0FBMEM7WUFDMUMsbURBQW1EO1lBQ25ELHVCQUF1QjtZQUN2QiwwQkFBMEI7WUFDMUIsdUJBQXVCO1lBQ3ZCLDhIQUE4SDtZQUM5SCx5REFBeUQ7WUFDekQsNENBQTRDO1lBQzVDLDJDQUEyQztZQUMzQyxxQkFBcUI7WUFDckIscUVBQXFFO1lBQ3JFLGlDQUFpQztZQUNqQyxxRUFBcUU7WUFDckUsdUNBQXVDO1lBQ3ZDLHdKQUF3SjtZQUN4Siw0RUFBNEU7WUFDNUUsc0ZBQXNGO1lBQ3RGLHdFQUF3RTtZQUN4RSxtRkFBbUY7WUFDbkYsdUNBQXVDO1lBQ3ZDLGtGQUFrRjtZQUNsRix5RUFBeUUsRUFBRSxLQUFLO1NBQ2pGLENBQUM7UUFDRixPQUFPLFFBQVEsSUFBSSxNQUFNLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQztLQUM1QztTQUFNO1FBQ0wsT0FBTyxRQUFRLElBQUksR0FBRyxDQUFDO0tBQ3hCO0FBQ0gsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbG9nRXJyb3JBbmRTdG9wIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5cbmV4cG9ydCBjb25zdCBRRXJyb3Jfc3RyaW5naWZ5Q2xhc3NPclN0eWxlID0gMDtcbmV4cG9ydCBjb25zdCBRRXJyb3JfY2Fubm90U2VyaWFsaXplTm9kZSA9IDE7IC8vICdDYW4gbm90IHNlcmlhbGl6ZSBhIEhUTUwgTm9kZSB0aGF0IGlzIG5vdCBhbiBFbGVtZW50J1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9ydW50aW1lUXJsTm9FbGVtZW50ID0gMjsgLy8gYFEtRVJST1I6ICcke3FybH0nIGlzIHJ1bnRpbWUgYnV0IG5vIGluc3RhbmNlIGZvdW5kIG9uIGVsZW1lbnQuYFxuZXhwb3J0IGNvbnN0IFFFcnJvcl92ZXJpZnlTZXJpYWxpemFibGUgPSAzOyAvLyAnT25seSBwcmltaXRpdmUgYW5kIG9iamVjdCBsaXRlcmFscyBjYW4gYmUgc2VyaWFsaXplZCcsIHZhbHVlLFxuZXhwb3J0IGNvbnN0IFFFcnJvcl9lcnJvcldoaWxlUmVuZGVyaW5nID0gNDsgLy8gQ3Jhc2ggd2hpbGUgcmVuZGVyaW5nXG5leHBvcnQgY29uc3QgUUVycm9yX2Nhbm5vdFJlbmRlck92ZXJFeGlzdGluZ0NvbnRhaW5lciA9IDU7IC8vJ1lvdSBjYW4gcmVuZGVyIG92ZXIgYSBleGlzdGluZyBxOmNvbnRhaW5lci4gU2tpcHBpbmcgcmVuZGVyKCkuJ1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9zZXRQcm9wZXJ0eSA9IDY7IC8vJ1NldCBwcm9wZXJ0eSdcbmV4cG9ydCBjb25zdCBRRXJyb3JfcXJsT3JFcnJvciA9IDc7XG5leHBvcnQgY29uc3QgUUVycm9yX29ubHlPYmplY3RXcmFwcGVkID0gODtcbmV4cG9ydCBjb25zdCBRRXJyb3Jfb25seUxpdGVyYWxXcmFwcGVkID0gOTtcbmV4cG9ydCBjb25zdCBRRXJyb3JfcXJsSXNOb3RGdW5jdGlvbiA9IDEwO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9keW5hbWljSW1wb3J0RmFpbGVkID0gMTE7XG5leHBvcnQgY29uc3QgUUVycm9yX3Vua25vd25UeXBlQXJndW1lbnQgPSAxMjtcbmV4cG9ydCBjb25zdCBRRXJyb3Jfbm90Rm91bmRDb250ZXh0ID0gMTM7XG5leHBvcnQgY29uc3QgUUVycm9yX3VzZU1ldGhvZE91dHNpZGVDb250ZXh0ID0gMTQ7XG5leHBvcnQgY29uc3QgUUVycm9yX21pc3NpbmdSZW5kZXJDdHggPSAxNTtcbmV4cG9ydCBjb25zdCBRRXJyb3JfbWlzc2luZ0RvYyA9IDE2O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9pbW11dGFibGVQcm9wcyA9IDE3O1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9ob3N0Q2FuT25seUJlQXRSb290ID0gMTg7XG5leHBvcnQgY29uc3QgUUVycm9yX2ltbXV0YWJsZUpzeFByb3BzID0gMTk7XG5leHBvcnQgY29uc3QgUUVycm9yX3VzZUludm9rZUNvbnRleHQgPSAyMDtcbmV4cG9ydCBjb25zdCBRRXJyb3JfY29udGFpbmVyQWxyZWFkeVBhdXNlZCA9IDIxO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9jYW5Ob3RNb3VudFVzZVNlcnZlck1vdW50ID0gMjI7XG5leHBvcnQgY29uc3QgUUVycm9yX3Jvb3ROb2RlTXVzdEJlSFRNTCA9IDIzO1xuZXhwb3J0IGNvbnN0IFFFcnJvcl9zdHJpY3RIVE1MQ2hpbGRyZW4gPSAyNDtcbmV4cG9ydCBjb25zdCBRRXJyb3JfaW52YWxpZEpzeE5vZGVUeXBlID0gMjU7XG5leHBvcnQgY29uc3QgUUVycm9yX3RyYWNrVXNlU3RvcmUgPSAyNjtcbmV4cG9ydCBjb25zdCBRRXJyb3JfbWlzc2luZ09iamVjdElkID0gMjc7XG5leHBvcnQgY29uc3QgUUVycm9yX2ludmFsaWRDb250ZXh0ID0gMjg7XG5leHBvcnQgY29uc3QgUUVycm9yX2Nhbk5vdFJlbmRlckhUTUwgPSAyOTtcblxuZXhwb3J0IGNvbnN0IHFFcnJvciA9IChjb2RlOiBudW1iZXIsIC4uLnBhcnRzOiBhbnlbXSk6IEVycm9yID0+IHtcbiAgY29uc3QgdGV4dCA9IGNvZGVUb1RleHQoY29kZSk7XG4gIHJldHVybiBsb2dFcnJvckFuZFN0b3AodGV4dCwgLi4ucGFydHMpO1xufTtcblxuZXhwb3J0IGNvbnN0IGNvZGVUb1RleHQgPSAoY29kZTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgaWYgKHFEZXYpIHtcbiAgICBjb25zdCBNQVAgPSBbXG4gICAgICAnRXJyb3Igd2hpbGUgc2VyaWFsaXppbmcgY2xhc3MgYXR0cmlidXRlJywgLy8gMFxuICAgICAgJ0NhbiBub3Qgc2VyaWFsaXplIGEgSFRNTCBOb2RlIHRoYXQgaXMgbm90IGFuIEVsZW1lbnQnLCAvLyAxXG4gICAgICAnUnJ1bnRpbWUgYnV0IG5vIGluc3RhbmNlIGZvdW5kIG9uIGVsZW1lbnQuJywgLy8gMlxuICAgICAgJ09ubHkgcHJpbWl0aXZlIGFuZCBvYmplY3QgbGl0ZXJhbHMgY2FuIGJlIHNlcmlhbGl6ZWQnLCAvLyAzXG4gICAgICAnQ3Jhc2ggd2hpbGUgcmVuZGVyaW5nJywgLy8gNFxuICAgICAgJ1lvdSBjYW4gcmVuZGVyIG92ZXIgYSBleGlzdGluZyBxOmNvbnRhaW5lci4gU2tpcHBpbmcgcmVuZGVyKCkuJywgLy8gNVxuICAgICAgJ1NldCBwcm9wZXJ0eScsIC8vIDZcbiAgICAgIFwiT25seSBmdW5jdGlvbidzIGFuZCAnc3RyaW5nJ3MgYXJlIHN1cHBvcnRlZC5cIiwgLy8gN1xuICAgICAgXCJPbmx5IG9iamVjdHMgY2FuIGJlIHdyYXBwZWQgaW4gJ1FPYmplY3QnXCIsIC8vIDhcbiAgICAgIGBPbmx5IG9iamVjdHMgbGl0ZXJhbHMgY2FuIGJlIHdyYXBwZWQgaW4gJ1FPYmplY3QnYCwgLy8gOVxuICAgICAgJ1FSTCBpcyBub3QgYSBmdW5jdGlvbicsIC8vIDEwXG4gICAgICAnRHluYW1pYyBpbXBvcnQgbm90IGZvdW5kJywgLy8gMTFcbiAgICAgICdVbmtub3duIHR5cGUgYXJndW1lbnQnLCAvLyAxMlxuICAgICAgJ0FjdHVhbCB2YWx1ZSBmb3IgdXNlQ29udGV4dCgpIGNhbiBub3QgYmUgZm91bmQsIG1ha2Ugc3VyZSBzb21lIGFuY2VzdG9yIGNvbXBvbmVudCBoYXMgc2V0IGEgdmFsdWUgdXNpbmcgdXNlQ29udGV4dFByb3ZpZGVyKCknLCAvLyAxM1xuICAgICAgXCJJbnZva2luZyAndXNlKigpJyBtZXRob2Qgb3V0c2lkZSBvZiBpbnZvY2F0aW9uIGNvbnRleHQuXCIsIC8vIDE0XG4gICAgICAnQ2FudCBhY2Nlc3MgcmVuZGVyQ3R4IGZvciBleGlzdGluZyBjb250ZXh0JywgLy8gMTVcbiAgICAgICdDYW50IGFjY2VzcyBkb2N1bWVudCBmb3IgZXhpc3RpbmcgY29udGV4dCcsIC8vIDE2XG4gICAgICAncHJvcHMgYXJlIGlubXV0YWJsZScsIC8vIDE3XG4gICAgICAnPGRpdj4gY29tcG9uZW50IGNhbiBvbmx5IGJlIHVzZWQgYXQgdGhlIHJvb3Qgb2YgYSBRd2lrIGNvbXBvbmVudCQoKScsIC8vIDE4XG4gICAgICAnUHJvcHMgYXJlIGltbXV0YWJsZSBieSBkZWZhdWx0LicsIC8vIDE5XG4gICAgICAndXNlLSBtZXRob2QgbXVzdCBiZSBjYWxsZWQgb25seSBhdCB0aGUgcm9vdCBsZXZlbCBvZiBhIGNvbXBvbmVudCQoKScsIC8vIDIwXG4gICAgICAnQ29udGFpbmVyIGlzIGFscmVhZHkgcGF1c2VkLiBTa2lwcGluZycsIC8vIDIxXG4gICAgICAnQ29tcG9uZW50cyB1c2luZyB1c2VTZXJ2ZXJNb3VudCgpIGNhbiBvbmx5IGJlIG1vdW50ZWQgaW4gdGhlIHNlcnZlciwgaWYgeW91IG5lZWQgeW91ciBjb21wb25lbnQgdG8gYmUgbW91bnRlZCBpbiB0aGUgY2xpZW50LCB1c2UgXCJ1c2VNb3VudCQoKVwiIGluc3RlYWQnLCAvLyAyMlxuICAgICAgJ1doZW4gcmVuZGVyaW5nIGRpcmVjdGx5IG9uIHRvcCBvZiBEb2N1bWVudCwgdGhlIHJvb3Qgbm9kZSBtdXN0IGJlIGEgPGh0bWw+JywgLy8gMjNcbiAgICAgICdBIDxodG1sPiBub2RlIG11c3QgaGF2ZSAyIGNoaWxkcmVuLiBUaGUgZmlyc3Qgb25lIDxoZWFkPiBhbmQgdGhlIHNlY29uZCBvbmUgYSA8Ym9keT4nLCAvLyAyNFxuICAgICAgJ0ludmFsaWQgSlNYTm9kZSB0eXBlLiBJdCBtdXN0IGJlIGVpdGhlciBhIGZ1bmN0aW9uIG9yIGEgc3RyaW5nLiBGb3VuZDonLCAvLyAyNVxuICAgICAgJ1RyYWNraW5nIHZhbHVlIGNoYW5nZXMgY2FuIG9ubHkgYmUgZG9uZSB0byB1c2VTdG9yZSgpIG9iamVjdHMgYW5kIGNvbXBvbmVudCBwcm9wcycsIC8vIDI2XG4gICAgICAnTWlzc2luZyBPYmplY3QgSUQgZm9yIGNhcHR1cmVkIG9iamVjdCcsIC8vIDI3XG4gICAgICAnVGhlIHByb3ZpZGVkIENvbnRleHQgcmVmZXJlbmNlIGlzIG5vdCBhIHZhbGlkIGNvbnRleHQgY3JlYXRlZCBieSBjcmVhdGVDb250ZXh0KCknLCAvLyAyOFxuICAgICAgJzxodG1sPiBpcyB0aGUgcm9vdCBjb250YWluZXIsIGl0IGNhbiBub3QgYmUgcmVuZGVyZWQgaW5zaWRlIGEgY29tcG9uZW50JywgLy8gMjlcbiAgICBdO1xuICAgIHJldHVybiBgQ29kZSgke2NvZGV9KTogJHtNQVBbY29kZV0gPz8gJyd9YDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYENvZGUoJHtjb2RlfSlgO1xuICB9XG59O1xuIl19","import { qError, QError_qrlIsNotFunction } from '../error/error';\nimport { verifySerializable } from '../object/q-object';\nimport { getPlatform } from '../platform/platform';\nimport { newInvokeContext, invoke, newInvokeContextFromTuple, } from '../use/use-core';\nimport { then } from '../util/promises';\nimport { qDev, seal } from '../util/qdev';\nimport { isArray, isFunction } from '../util/types';\nexport const isQrl = (value) => {\n    return typeof value === 'function' && typeof value.getSymbol === 'function';\n};\nexport const createQRL = (chunk, symbol, symbolRef, symbolFn, capture, captureRef, refSymbol) => {\n    if (qDev) {\n        verifySerializable(captureRef);\n    }\n    let containerEl;\n    const setContainer = (el) => {\n        if (!containerEl) {\n            containerEl = el;\n        }\n    };\n    const resolve = async () => {\n        if (symbolRef) {\n            return symbolRef;\n        }\n        if (symbolFn) {\n            return (symbolRef = symbolFn().then((module) => (symbolRef = module[symbol])));\n        }\n        else {\n            if (!containerEl) {\n                throw new Error(`QRL '${chunk}#${symbol || 'default'}' does not have an attached container`);\n            }\n            const symbol2 = getPlatform(containerEl).importSymbol(containerEl, chunk, symbol);\n            return (symbolRef = then(symbol2, (ref) => {\n                return (symbolRef = ref);\n            }));\n        }\n    };\n    const resolveLazy = () => {\n        return isFunction(symbolRef) ? symbolRef : resolve();\n    };\n    const invokeFn = (currentCtx, beforeFn) => {\n        return ((...args) => {\n            const fn = resolveLazy();\n            return then(fn, (fn) => {\n                if (isFunction(fn)) {\n                    if (beforeFn && beforeFn() === false) {\n                        return;\n                    }\n                    const baseContext = createInvokationContext(currentCtx);\n                    const context = {\n                        ...baseContext,\n                        $qrl$: QRL,\n                    };\n                    return invoke(context, fn, ...args);\n                }\n                throw qError(QError_qrlIsNotFunction);\n            });\n        });\n    };\n    const createInvokationContext = (invoke) => {\n        if (invoke == null) {\n            return newInvokeContext();\n        }\n        else if (isArray(invoke)) {\n            return newInvokeContextFromTuple(invoke);\n        }\n        else {\n            return invoke;\n        }\n    };\n    const invokeQRL = async function (...args) {\n        const fn = invokeFn();\n        const result = await fn(...args);\n        return result;\n    };\n    const resolvedSymbol = refSymbol ?? symbol;\n    const hash = getSymbolHash(resolvedSymbol);\n    const QRL = invokeQRL;\n    const methods = {\n        getSymbol: () => resolvedSymbol,\n        getHash: () => hash,\n        resolve,\n        $resolveLazy$: resolveLazy,\n        $setContainer$: setContainer,\n        $chunk$: chunk,\n        $symbol$: symbol,\n        $refSymbol$: refSymbol,\n        $hash$: hash,\n        getFn: invokeFn,\n        $capture$: capture,\n        $captureRef$: captureRef,\n    };\n    const qrl = Object.assign(invokeQRL, methods);\n    seal(qrl);\n    return qrl;\n};\nexport const getSymbolHash = (symbolName) => {\n    const index = symbolName.lastIndexOf('_');\n    if (index > -1) {\n        return symbolName.slice(index + 1);\n    }\n    return symbolName;\n};\nexport function assertQrl(qrl) {\n    if (qDev) {\n        if (!isQrl(qrl)) {\n            throw new Error('Not a QRL');\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLWNsYXNzLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwtY2xhc3MudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ2pFLE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3hELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUVuRCxPQUFPLEVBRUwsZ0JBQWdCLEVBQ2hCLE1BQU0sRUFFTix5QkFBeUIsR0FDMUIsTUFBTSxpQkFBaUIsQ0FBQztBQUN6QixPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDeEMsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDMUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQWtCLE1BQU0sZUFBZSxDQUFDO0FBR3BFLE1BQU0sQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLEtBQVUsRUFBd0IsRUFBRTtJQUN4RCxPQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsSUFBSSxPQUFPLEtBQUssQ0FBQyxTQUFTLEtBQUssVUFBVSxDQUFDO0FBQzlFLENBQUMsQ0FBQztBQXNCRixNQUFNLENBQUMsTUFBTSxTQUFTLEdBQUcsQ0FDdkIsS0FBYSxFQUNiLE1BQWMsRUFDZCxTQUFzQyxFQUN0QyxRQUFxRCxFQUNyRCxPQUF3QixFQUN4QixVQUF3QixFQUN4QixTQUF3QixFQUNMLEVBQUU7SUFDckIsSUFBSSxJQUFJLEVBQUU7UUFDUixrQkFBa0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztLQUNoQztJQUVELElBQUksV0FBZ0MsQ0FBQztJQUVyQyxNQUFNLFlBQVksR0FBRyxDQUFDLEVBQVcsRUFBRSxFQUFFO1FBQ25DLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFD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cnQgeyBxRXJyb3IsIFFFcnJvcl9xcmxJc05vdEZ1bmN0aW9uIH0gZnJvbSAnLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgdmVyaWZ5U2VyaWFsaXphYmxlIH0gZnJvbSAnLi4vb2JqZWN0L3Etb2JqZWN0JztcbmltcG9ydCB7IGdldFBsYXRmb3JtIH0gZnJvbSAnLi4vcGxhdGZvcm0vcGxhdGZvcm0nO1xuaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcbmltcG9ydCB7XG4gIEludm9rZUNvbnRleHQsXG4gIG5ld0ludm9rZUNvbnRleHQsXG4gIGludm9rZSxcbiAgSW52b2tlVHVwbGUsXG4gIG5ld0ludm9rZUNvbnRleHRGcm9tVHVwbGUsXG59IGZyb20gJy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyB0aGVuIH0gZnJvbSAnLi4vdXRpbC9wcm9taXNlcyc7XG5pbXBvcnQgeyBxRGV2LCBzZWFsIH0gZnJvbSAnLi4vdXRpbC9xZGV2JztcbmltcG9ydCB7IGlzQXJyYXksIGlzRnVuY3Rpb24sIFZhbHVlT3JQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4vcXJsLnB1YmxpYyc7XG5cbmV4cG9ydCBjb25zdCBpc1FybCA9ICh2YWx1ZTogYW55KTogdmFsdWUgaXMgUVJMSW50ZXJuYWwgPT4ge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5nZXRTeW1ib2wgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFFSTEludGVybmFsTWV0aG9kczxUWVBFPiB7XG4gIHJlYWRvbmx5ICRjaHVuayQ6IHN0cmluZztcbiAgcmVhZG9ubHkgJHN5bWJvbCQ6IHN0cmluZztcbiAgcmVhZG9ubHkgJHJlZlN5bWJvbCQ6IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5ICRoYXNoJDogc3RyaW5nO1xuXG4gICRjYXB0dXJlJDogc3RyaW5nW10gfCBudWxsO1xuICAkY2FwdHVyZVJlZiQ6IGFueVtdIHwgbnVsbDtcblxuICByZXNvbHZlKGVsPzogUXdpa0VsZW1lbnQpOiBQcm9taXNlPFRZUEU+O1xuICBnZXRTeW1ib2woKTogc3RyaW5nO1xuICBnZXRIYXNoKCk6IHN0cmluZztcbiAgZ2V0Rm4oY3VycmVudEN0eD86IEludm9rZUNvbnRleHQgfCBJbnZva2VUdXBsZSwgYmVmb3JlRm4/OiAoKSA9PiB2b2lkKTogYW55O1xuXG4gICRzZXRDb250YWluZXIkKGNvbnRhaW5lckVsOiBFbGVtZW50KTogdm9pZDtcbiAgJHJlc29sdmVMYXp5JCgpOiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFFSTEludGVybmFsPFRZUEUgPSBhbnk+IGV4dGVuZHMgUVJMPFRZUEU+LCBRUkxJbnRlcm5hbE1ldGhvZHM8VFlQRT4ge31cblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVFSTCA9IDxUWVBFPihcbiAgY2h1bms6IHN0cmluZyxcbiAgc3ltYm9sOiBzdHJpbmcsXG4gIHN5bWJvbFJlZjogbnVsbCB8IFZhbHVlT3JQcm9taXNlPFRZUEU+LFxuICBzeW1ib2xGbjogbnVsbCB8ICgoKSA9PiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGFueT4+KSxcbiAgY2FwdHVyZTogbnVsbCB8IHN0cmluZ1tdLFxuICBjYXB0dXJlUmVmOiBhbnlbXSB8IG51bGwsXG4gIHJlZlN5bWJvbDogc3RyaW5nIHwgbnVsbFxuKTogUVJMSW50ZXJuYWw8VFlQRT4gPT4ge1xuICBpZiAocURldikge1xuICAgIHZlcmlmeVNlcmlhbGl6YWJsZShjYXB0dXJlUmVmKTtcbiAgfVxuXG4gIGxldCBjb250YWluZXJFbDogRWxlbWVudCB8IHVuZGVmaW5lZDtcblxuICBjb25zdCBzZXRDb250YWluZXIgPSAoZWw6IEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWNvbnRhaW5lckVsKSB7XG4gICAgICBjb250YWluZXJFbCA9IGVsO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCByZXNvbHZlID0gYXN5bmMgKCk6IFByb21pc2U8VFlQRT4gPT4ge1xuICAgIGlmIChzeW1ib2xSZWYpIHtcbiAgICAgIHJldHVybiBzeW1ib2xSZWY7XG4gICAgfVxuICAgIGlmIChzeW1ib2xGbikge1xuICAgICAgcmV0dXJuIChzeW1ib2xSZWYgPSBzeW1ib2xGbigpLnRoZW4oKG1vZHVsZSkgPT4gKHN5bWJvbFJlZiA9IG1vZHVsZVtzeW1ib2xdKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWNvbnRhaW5lckVsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBgUVJMICcke2NodW5rfSMke3N5bWJvbCB8fCAnZGVmYXVsdCd9JyBkb2VzIG5vdCBoYXZlIGFuIGF0dGFjaGVkIGNvbnRhaW5lcmBcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHN5bWJvbDIgPSBnZXRQbGF0Zm9ybShjb250YWluZXJFbCkuaW1wb3J0U3ltYm9sKGNvbnRhaW5lckVsLCBjaHVuaywgc3ltYm9sKTtcbiAgICAgIHJldHVybiAoc3ltYm9sUmVmID0gdGhlbihzeW1ib2wyLCAocmVmKSA9PiB7XG4gICAgICAgIHJldHVybiAoc3ltYm9sUmVmID0gcmVmKTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVzb2x2ZUxhenkgPSAoKTogVmFsdWVPclByb21pc2U8VFlQRT4gPT4ge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHN5bWJvbFJlZikgPyBzeW1ib2xSZWYgOiByZXNvbHZlKCk7XG4gIH07XG5cbiAgY29uc3QgaW52b2tlRm4gPSAoY3VycmVudEN0eD86IEludm9rZUNvbnRleHQgfCBJbnZva2VUdXBsZSwgYmVmb3JlRm4/OiAoKSA9PiB2b2lkIHwgYm9vbGVhbikgPT4ge1xuICAgIHJldHVybiAoKC4uLmFyZ3M6IGFueVtdKTogYW55ID0+IHtcbiAgICAgIGNvbnN0IGZuID0gcmVzb2x2ZUxhenkoKSBhcyBUWVBFO1xuICAgICAgcmV0dXJuIHRoZW4oZm4sIChmbikgPT4ge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcbiAgICAgICAgICBpZiAoYmVmb3JlRm4gJiYgYmVmb3JlRm4oKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgYmFzZUNvbnRleHQgPSBjcmVhdGVJbnZva2F0aW9uQ29udGV4dChjdXJyZW50Q3R4KTtcbiAgICAgICAgICBjb25zdCBjb250ZXh0OiBJbnZva2VDb250ZXh0ID0ge1xuICAgICAgICAgICAgLi4uYmFzZUNvbnRleHQsXG4gICAgICAgICAgICAkcXJsJDogUVJMIGFzIFFSTEludGVybmFsPGFueT4sXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm4gaW52b2tlKGNvbnRleHQsIGZuIGFzIGFueSwgLi4uYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgcUVycm9yKFFFcnJvcl9xcmxJc05vdEZ1bmN0aW9uKTtcbiAgICAgIH0pO1xuICAgIH0pIGFzIGFueTtcbiAgfTtcblxuICBjb25zdCBjcmVhdGVJbnZva2F0aW9uQ29udGV4dCA9IChpbnZva2U6IEludm9rZUNvbnRleHQgfCBJbnZva2VUdXBsZSB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmIChpbnZva2UgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG5ld0ludm9rZUNvbnRleHQoKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoaW52b2tlKSkge1xuICAgICAgcmV0dXJuIG5ld0ludm9rZUNvbnRleHRGcm9tVHVwbGUoaW52b2tlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGludm9rZTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaW52b2tlUVJMID0gYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3M6IGFueSkge1xuICAgIGNvbnN0IGZuID0gaW52b2tlRm4oKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmbiguLi5hcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBjb25zdCByZXNvbHZlZFN5bWJvbCA9IHJlZlN5bWJvbCA/PyBzeW1ib2w7XG4gIGNvbnN0IGhhc2ggPSBnZXRTeW1ib2xIYXNoKHJlc29sdmVkU3ltYm9sKTtcblxuICBjb25zdCBRUkw6IFFSTEludGVybmFsPFRZUEU+ID0gaW52b2tlUVJMIGFzIGFueTtcbiAgY29uc3QgbWV0aG9kczogUVJMSW50ZXJuYWxNZXRob2RzPFRZUEU+ID0ge1xuICAgIGdldFN5bWJvbDogKCkgPT4gcmVzb2x2ZWRTeW1ib2wsXG4gICAgZ2V0SGFzaDogKCkgPT4gaGFzaCxcbiAgICByZXNvbHZlLFxuICAgICRyZXNvbHZlTGF6eSQ6IHJlc29sdmVMYXp5LFxuICAgICRzZXRDb250YWluZXIkOiBzZXRDb250YWluZXIsXG4gICAgJGNodW5rJDogY2h1bmssXG4gICAgJHN5bWJvbCQ6IHN5bWJvbCxcbiAgICAkcmVmU3ltYm9sJDogcmVmU3ltYm9sLFxuICAgICRoYXNoJDogaGFzaCxcbiAgICBnZXRGbjogaW52b2tlRm4sXG5cbiAgICAkY2FwdHVyZSQ6IGNhcHR1cmUsXG4gICAgJGNhcHR1cmVSZWYkOiBjYXB0dXJlUmVmLFxuICB9O1xuICBjb25zdCBxcmwgPSBPYmplY3QuYXNzaWduKGludm9rZVFSTCwgbWV0aG9kcyk7XG4gIHNlYWwocXJsKTtcbiAgcmV0dXJuIHFybCBhcyBhbnk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3ltYm9sSGFzaCA9IChzeW1ib2xOYW1lOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgaW5kZXggPSBzeW1ib2xOYW1lLmxhc3RJbmRleE9mKCdfJyk7XG4gIGlmIChpbmRleCA+IC0xKSB7XG4gICAgcmV0dXJuIHN5bWJvbE5hbWUuc2xpY2UoaW5kZXggKyAxKTtcbiAgfVxuICByZXR1cm4gc3ltYm9sTmFtZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRRcmw8VD4ocXJsOiBRUkw8VD4pOiBhc3NlcnRzIHFybCBpcyBRUkxJbnRlcm5hbDxUPiB7XG4gIGlmIChxRGV2KSB7XG4gICAgaWYgKCFpc1FybChxcmwpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBhIFFSTCcpO1xuICAgIH1cbiAgfVxufVxuIl19","import { EMPTY_ARRAY } from '../util/flyweight';\nimport { assertQrl, createQRL } from './qrl-class';\nimport { isFunction, isString } from '../util/types';\nimport { getDocument } from '../util/dom';\nimport { logError } from '../util/log';\nimport { codeToText, qError, QError_dynamicImportFailed, QError_runtimeQrlNoElement, QError_unknownTypeArgument, } from '../error/error';\nimport { qDev, qTest } from '../util/qdev';\nimport { getPlatform } from '../platform/platform';\nimport { assertTrue } from '../assert/assert';\nimport { isElement } from '../../testing/html';\nlet runtimeSymbolId = 0;\nconst RUNTIME_QRL = '/runtimeQRL';\nconst INLINED_QRL = '/inlinedQRL';\n// https://regexr.com/68v72\nconst EXTRACT_IMPORT_PATH = /\\(\\s*(['\"])([^\\1]+)\\1\\s*\\)/;\n// https://regexr.com/690ds\nconst EXTRACT_SELF_IMPORT = /Promise\\s*\\.\\s*resolve/;\n// https://regexr.com/6a83h\nconst EXTRACT_FILE_NAME = /[\\\\/(]([\\w\\d.\\-_]+\\.(js|ts)x?):/;\nconst QRLcache = new Map();\n// <docs markdown=\"../readme.md#qrl\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#qrl instead)\n/**\n * Used by Qwik Optimizer to point to lazy-loaded resources.\n *\n * This function should be used by the Qwik Optimizer only. The function should not be directly\n * referred to in the source code of the application.\n *\n * @see `QRL`, `$(...)`\n *\n * @param chunkOrFn - Chunk name (or function which is stringified to extract chunk name)\n * @param symbol - Symbol to lazy load\n * @param lexicalScopeCapture - a set of lexically scoped variables to capture.\n * @alpha\n */\n// </docs>\nexport const qrl = (chunkOrFn, symbol, lexicalScopeCapture = EMPTY_ARRAY) => {\n    let chunk = '';\n    let symbolFn = null;\n    if (isString(chunkOrFn)) {\n        chunk = chunkOrFn;\n    }\n    else if (isFunction(chunkOrFn)) {\n        symbolFn = chunkOrFn;\n        const cached = QRLcache.get(symbol);\n        if (!qDev && cached) {\n            chunk = cached;\n        }\n        else {\n            let match;\n            const srcCode = String(chunkOrFn);\n            if ((match = srcCode.match(EXTRACT_IMPORT_PATH)) && match[2]) {\n                chunk = match[2];\n            }\n            else if ((match = srcCode.match(EXTRACT_SELF_IMPORT))) {\n                const ref = 'QWIK-SELF';\n                const frames = new Error(ref).stack.split('\\n');\n                const start = frames.findIndex((f) => f.includes(ref));\n                const frame = frames[start + 2];\n                match = frame.match(EXTRACT_FILE_NAME);\n                if (!match) {\n                    chunk = 'main';\n                }\n                else {\n                    chunk = match[1];\n                }\n            }\n            else {\n                throw qError(QError_dynamicImportFailed, srcCode);\n            }\n            QRLcache.set(symbol, chunk);\n        }\n    }\n    else {\n        throw qError(QError_unknownTypeArgument, chunkOrFn);\n    }\n    // Unwrap subscribers\n    return createQRL(chunk, symbol, null, symbolFn, null, lexicalScopeCapture, null);\n};\nexport const runtimeQrl = (symbol, lexicalScopeCapture = EMPTY_ARRAY) => {\n    return createQRL(RUNTIME_QRL, 's' + runtimeSymbolId++, symbol, null, null, lexicalScopeCapture, null);\n};\n/**\n * @alpha\n */\nexport const inlinedQrl = (symbol, symbolName, lexicalScopeCapture = EMPTY_ARRAY) => {\n    // Unwrap subscribers\n    return createQRL(INLINED_QRL, symbolName, symbol, null, null, lexicalScopeCapture, null);\n};\nexport const stringifyQRL = (qrl, opts = {}) => {\n    assertQrl(qrl);\n    let symbol = qrl.$symbol$;\n    let chunk = qrl.$chunk$;\n    const refSymbol = qrl.$refSymbol$ ?? symbol;\n    const platform = opts.$platform$;\n    const element = opts.$element$;\n    if (platform) {\n        const result = platform.chunkForSymbol(refSymbol);\n        if (result) {\n            chunk = result[1];\n            if (!qrl.$refSymbol$) {\n                symbol = result[0];\n            }\n        }\n    }\n    if (chunk.startsWith('./')) {\n        chunk = chunk.slice(2);\n    }\n    const parts = [chunk];\n    if (symbol && symbol !== 'default') {\n        if (chunk === RUNTIME_QRL && qTest) {\n            symbol = '_';\n        }\n        parts.push('#', symbol);\n    }\n    const capture = qrl.$capture$;\n    const captureRef = qrl.$captureRef$;\n    if (captureRef && captureRef.length) {\n        if (opts.$getObjId$) {\n            const capture = captureRef.map(opts.$getObjId$);\n            parts.push(`[${capture.join(' ')}]`);\n        }\n        else if (opts.$addRefMap$) {\n            const capture = captureRef.map(opts.$addRefMap$);\n            parts.push(`[${capture.join(' ')}]`);\n        }\n    }\n    else if (capture && capture.length > 0) {\n        parts.push(`[${capture.join(' ')}]`);\n    }\n    const qrlString = parts.join('');\n    if (qrl.$chunk$ === RUNTIME_QRL && element) {\n        const qrls = element.__qrls__ || (element.__qrls__ = new Set());\n        qrls.add(qrl);\n    }\n    return qrlString;\n};\nexport const serializeQRLs = (existingQRLs, elCtx) => {\n    assertTrue(isElement(elCtx.$element$), 'Element must be an actual element');\n    const opts = {\n        $platform$: getPlatform(elCtx.$element$),\n        $element$: elCtx.$element$,\n        $addRefMap$: (obj) => addToArray(elCtx.$refMap$, obj),\n    };\n    return existingQRLs.map((qrl) => stringifyQRL(qrl, opts)).join('\\n');\n};\nexport const qrlToUrl = (element, qrl) => {\n    return new URL(stringifyQRL(qrl), getDocument(element).baseURI);\n};\n/**\n * `./chunk#symbol[captures]\n */\nexport const parseQRL = (qrl, containerEl) => {\n    const endIdx = qrl.length;\n    const hashIdx = indexOf(qrl, 0, '#');\n    const captureIdx = indexOf(qrl, hashIdx, '[');\n    const chunkEndIdx = Math.min(hashIdx, captureIdx);\n    const chunk = qrl.substring(0, chunkEndIdx);\n    const symbolStartIdx = hashIdx == endIdx ? hashIdx : hashIdx + 1;\n    const symbolEndIdx = captureIdx;\n    const symbol = symbolStartIdx == symbolEndIdx ? 'default' : qrl.substring(symbolStartIdx, symbolEndIdx);\n    const captureStartIdx = captureIdx;\n    const captureEndIdx = endIdx;\n    const capture = captureStartIdx === captureEndIdx\n        ? EMPTY_ARRAY\n        : qrl.substring(captureStartIdx + 1, captureEndIdx - 1).split(' ');\n    if (chunk === RUNTIME_QRL) {\n        logError(codeToText(QError_runtimeQrlNoElement), qrl);\n    }\n    const iQrl = createQRL(chunk, symbol, null, null, capture, null, null);\n    if (containerEl) {\n        iQrl.$setContainer$(containerEl);\n    }\n    return iQrl;\n};\nconst indexOf = (text, startIdx, char) => {\n    const endIdx = text.length;\n    const charIdx = text.indexOf(char, startIdx == endIdx ? 0 : startIdx);\n    return charIdx == -1 ? endIdx : charIdx;\n};\nconst addToArray = (array, obj) => {\n    const index = array.indexOf(obj);\n    if (index === -1) {\n        array.push(obj);\n        return array.length - 1;\n    }\n    return index;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL2ltcG9ydC9xcmwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBRWhELE9BQU8sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFlLE1BQU0sYUFBYSxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJELE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFDMUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUN2QyxPQUFPLEVBQ0wsVUFBVSxFQUNWLE1BQU0sRUFDTiwwQkFBMEIsRUFDMUIsMEJBQTBCLEVBQzFCLDBCQUEwQixHQUMzQixNQUFNLGdCQUFnQixDQUFDO0FBQ3hCLE9BQU8sRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQzNDLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUduRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDOUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBRS9DLElBQUksZUFBZSxHQUFHLENBQUMsQ0FBQztBQUN4QixNQUFNLFdBQVcsR0FBRyxhQUFhLENBQUM7QUFDbEMsTUFBTSxXQUFXLEdBQUcsYUFBYSxDQUFDO0FBRWxDLDJCQUEyQjtBQUMzQixNQUFNLG1CQUFtQixHQUFHLDRCQUE0QixDQUFDO0FBRXpELDJCQUEyQjtBQUMzQixNQUFNLG1CQUFtQixHQUFHLHdCQUF3QixDQUFDO0FBRXJELDJCQUEyQjtBQUMzQixNQUFNLGlCQUFpQixHQUFHLGlDQUFpQyxDQUFDO0FBRTVELE1BQU0sUUFBUSxHQUFHLElBQUksR0FBRyxFQUFrQixDQUFDO0FBRTNDLHFDQUFxQztBQUNyQyx5Q0FBeUM7QUFDekMsa0NBQWtDO0FBQ2xDOzs7Ozs7Ozs7Ozs7R0FZRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FDakIsU0FBd0MsRUFDeEMsTUFBYyxFQUNkLHNCQUE2QixXQUFXLEVBQ2hDLEVBQUU7SUFDVixJQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDZixJQUFJLFFBQVEsR0FBZ0QsSUFBSSxDQUFDO0lBQ2pFLElBQUksUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1FBQ3ZCLEtBQUssR0FBRyxTQUFTLENBQUM7S0FDbkI7U0FBTSxJQUFJLFVBQVUsQ0FBQyxTQUFTLENBQUMsRUFBRTtRQUNoQyxRQUFRLEdBQUcsU0FBUyxDQUFDO1FBQ3JCLE1BQU0sTUFBTSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEMsSUFBSSxDQUFDLElBQUksSUFBSSxNQUFNLEVBQUU7WUFDbkIsS0FBSyxHQUFHLE1BQU0sQ0FBQztTQUNoQjthQUFNO1lBQ0wsSUFBSSxLQUE4QixDQUFDO1lBQ25DLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNsQyxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFDNUQsS0FBSyxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNsQjtpQkFBTSxJQUFJLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxFQUFFO2dCQUN2RCxNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUM7Z0JBQ3hCLE1BQU0sTUFBTSxHQUFHLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2pELE1BQU0sS0FBSyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDdkQsTUFBTSxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDaEMsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztnQkFDdkMsSUFBSSxDQUFDLEtBQUssRUFBRTtvQkFDVixLQUFLLEdBQUcsTUFBTSxDQUFDO2lCQUNoQjtxQkFBTTtvQkFDTCxLQUFLLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO2lCQUNsQjthQUNGO2lCQUFNO2dCQUNMLE1BQU0sTUFBTSxDQUFDLDBCQUEwQixFQUFFLE9BQU8sQ0FBQyxDQUFDO2FBQ25EO1lBQ0QsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7U0FDN0I7S0FDRjtTQUFNO1FBQ0wsTUFBTSxNQUFNLENBQUMsMEJBQTBCLEVBQUUsU0FBUyxDQUFDLENBQUM7S0FDckQ7SUFFRCxxQkFBcUI7SUFDckIsT0FBTyxTQUFTLENBQUksS0FBSyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN0RixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FDeEIsTUFBUyxFQUNULHNCQUE2QixXQUFXLEVBQ3hCLEVBQUU7SUFDbEIsT0FBTyxTQUFTLENBQ2QsV0FBVyxFQUNYLEdBQUcsR0FBRyxlQUFlLEVBQUUsRUFDdkIsTUFBTSxFQUNOLElBQUksRUFDSixJQUFJLEVBQ0osbUJBQW1CLEVBQ25CLElBQUksQ0FDTCxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxVQUFVLEdBQUcsQ0FDeEIsTUFBUyxFQUNULFVBQWtCLEVBQ2xCLHNCQUE2QixXQUFXLEVBQ2hDLEVBQUU7SUFDVixxQkFBcUI7SUFDckIsT0FBTyxTQUFTLENBQUksV0FBVyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM5RixDQUFDLENBQUM7QUFTRixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBQyxHQUFnQixFQUFFLE9BQTRCLEVBQUUsRUFBRSxFQUFFO0lBQy9FLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNmLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFDMUIsSUFBSSxLQUFLLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztJQUN4QixNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQztJQUM1QyxNQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ2pDLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFFL0IsSUFBSSxRQUFRLEVBQUU7UUFDWixNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xELElBQUksTUFBTSxFQUFFO1lBQ1YsS0FBSyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQixJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRTtnQkFDcEIsTUFBTSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNwQjtTQUNGO0tBQ0Y7SUFDRCxJQUFJLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFDMUIsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDeEI7SUFDRCxNQUFNLEtBQUssR0FBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hDLElBQUksTUFBTSxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUU7UUFDbEMsSUFBSSxLQUFLLEtBQUssV0FBVyxJQUFJLEtBQUssRUFBRTtZQUNsQyxNQUFNLEdBQUcsR0FBRyxDQUFDO1NBQ2Q7UUFDRCxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsQ0FBQztLQUN6QjtJQUNELE1BQU0sT0FBTyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUM7SUFDOUIsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQztJQUNwQyxJQUFJLFVBQVUsSUFBSSxVQUFVLENBQUMsTUFBTSxFQUFFO1FBQ25DLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtZQUNuQixNQUFNLE9BQU8sR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUNoRCxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDdEM7YUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUU7WUFDM0IsTUFBTSxPQUFPLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDakQsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3RDO0tBQ0Y7U0FBTSxJQUFJLE9BQU8sSUFBSSxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUN4QyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDdEM7SUFDRCxNQUFNLFNBQVMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2pDLElBQUksR0FBRyxDQUFDLE9BQU8sS0FBSyxXQUFXLElBQUksT0FBTyxFQUFFO1FBQzFDLE1BQU0sSUFBSSxHQUFjLE9BQWUsQ0FBQyxRQUFRLElBQUksQ0FBRSxPQUFlLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQztRQUM1RixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQ2Y7SUFDRCxPQUFPLFNBQVMsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBQyxZQUFnQyxFQUFFLEtBQWUsRUFBVSxFQUFFO0lBQ3pGLFVBQVUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFFLG1DQUFtQyxDQUFDLENBQUM7SUFDNUUsTUFBTSxJQUFJLEdBQXdCO1FBQ2hDLFVBQVUsRUFBRSxXQUFXLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQztRQUN4QyxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7UUFDMUIsV0FBVyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUM7S0FDdEQsQ0FBQztJQUNGLE9BQU8sWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsWUFBWSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN2RSxDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxPQUFnQixFQUFFLEdBQWdCLEVBQU8sRUFBRTtJQUNsRSxPQUFPLElBQUksR0FBRyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsRUFBRSxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDbEUsQ0FBQyxDQUFDO0FBRUY7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FBQyxHQUFXLEVBQUUsV0FBcUIsRUFBZSxFQUFFO0lBQzFFLE1BQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDMUIsTUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDckMsTUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFFOUMsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDbEQsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7SUFFNUMsTUFBTSxjQUFjLEdBQUcsT0FBTyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDO0lBQ2pFLE1BQU0sWUFBWSxHQUFHLFVBQVUsQ0FBQztJQUNoQyxNQUFNLE1BQU0sR0FDVixjQUFjLElBQUksWUFBWSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsY0FBYyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBRTNGLE1BQU0sZUFBZSxHQUFHLFVBQVUsQ0FBQztJQUNuQyxNQUFNLGFBQWEsR0FBRyxNQUFNLENBQUM7SUFDN0IsTUFBTSxPQUFPLEdBQ1gsZUFBZSxLQUFLLGFBQWE7UUFDL0IsQ0FBQyxDQUFDLFdBQVc7UUFDYixDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxlQUFlLEdBQUcsQ0FBQyxFQUFFLGFBQWEsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFFdkUsSUFBSSxLQUFLLEtBQUssV0FBVyxFQUFFO1FBQ3pCLFFBQVEsQ0FBQyxVQUFVLENBQUMsMEJBQTBCLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztLQUN2RDtJQUNELE1BQU0sSUFBSSxHQUFHLFNBQVMsQ0FBTSxLQUFLLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1RSxJQUFJLFdBQVcsRUFBRTtRQUNmLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7S0FDbEM7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNkLENBQUMsQ0FBQztBQUVGLE1BQU0sT0FBTyxHQUFHLENBQUMsSUFBWSxFQUFFLFFBQWdCLEVBQUUsSUFBWSxFQUFFLEVBQUU7SUFDL0QsTUFBTSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUMzQixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxRQUFRLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3RFLE9BQU8sT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztBQUMxQyxDQUFDLENBQUM7QUFFRixNQUFNLFVBQVUsR0FBRyxDQUFDLEtBQVksRUFBRSxHQUFRLEVBQUUsRUFBRTtJQUM1QyxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLElBQUksS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO1FBQ2hCLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDaEIsT0FBTyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztLQUN6QjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi91dGlsL2ZseXdlaWdodCc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4vcXJsLnB1YmxpYyc7XG5pbXBvcnQgeyBhc3NlcnRRcmwsIGNyZWF0ZVFSTCwgUVJMSW50ZXJuYWwgfSBmcm9tICcuL3FybC1jbGFzcyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uLCBpc1N0cmluZyB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBDb3JlUGxhdGZvcm0gfSBmcm9tICcuLi9wbGF0Zm9ybS90eXBlcyc7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IGxvZ0Vycm9yIH0gZnJvbSAnLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHtcbiAgY29kZVRvVGV4dCxcbiAgcUVycm9yLFxuICBRRXJyb3JfZHluYW1pY0ltcG9ydEZhaWxlZCxcbiAgUUVycm9yX3J1bnRpbWVRcmxOb0VsZW1lbnQsXG4gIFFFcnJvcl91bmtub3duVHlwZUFyZ3VtZW50LFxufSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyBxRGV2LCBxVGVzdCB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBnZXRQbGF0Zm9ybSB9IGZyb20gJy4uL3BsYXRmb3JtL3BsYXRmb3JtJztcbmltcG9ydCB0eXBlIHsgUXdpa0VsZW1lbnQgfSBmcm9tICcuLi9yZW5kZXIvZG9tL3ZpcnR1YWwtZWxlbWVudCc7XG5pbXBvcnQgdHlwZSB7IFFDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgYXNzZXJ0VHJ1ZSB9IGZyb20gJy4uL2Fzc2VydC9hc3NlcnQnO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi4vLi4vdGVzdGluZy9odG1sJztcblxubGV0IHJ1bnRpbWVTeW1ib2xJZCA9IDA7XG5jb25zdCBSVU5USU1FX1FSTCA9ICcvcnVudGltZVFSTCc7XG5jb25zdCBJTkxJTkVEX1FSTCA9ICcvaW5saW5lZFFSTCc7XG5cbi8vIGh0dHBzOi8vcmVnZXhyLmNvbS82OHY3MlxuY29uc3QgRVhUUkFDVF9JTVBPUlRfUEFUSCA9IC9cXChcXHMqKFsnXCJdKShbXlxcMV0rKVxcMVxccypcXCkvO1xuXG4vLyBodHRwczovL3JlZ2V4ci5jb20vNjkwZHNcbmNvbnN0IEVYVFJBQ1RfU0VMRl9JTVBPUlQgPSAvUHJvbWlzZVxccypcXC5cXHMqcmVzb2x2ZS87XG5cbi8vIGh0dHBzOi8vcmVnZXhyLmNvbS82YTgzaFxuY29uc3QgRVhUUkFDVF9GSUxFX05BTUUgPSAvW1xcXFwvKF0oW1xcd1xcZC5cXC1fXStcXC4oanN8dHMpeD8pOi87XG5cbmNvbnN0IFFSTGNhY2hlID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjcXJsXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3FybCBpbnN0ZWFkKVxuLyoqXG4gKiBVc2VkIGJ5IFF3aWsgT3B0aW1pemVyIHRvIHBvaW50IHRvIGxhenktbG9hZGVkIHJlc291cmNlcy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSB1c2VkIGJ5IHRoZSBRd2lrIE9wdGltaXplciBvbmx5LiBUaGUgZnVuY3Rpb24gc2hvdWxkIG5vdCBiZSBkaXJlY3RseVxuICogcmVmZXJyZWQgdG8gaW4gdGhlIHNvdXJjZSBjb2RlIG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAqXG4gKiBAc2VlIGBRUkxgLCBgJCguLi4pYFxuICpcbiAqIEBwYXJhbSBjaHVua09yRm4gLSBDaHVuayBuYW1lIChvciBmdW5jdGlvbiB3aGljaCBpcyBzdHJpbmdpZmllZCB0byBleHRyYWN0IGNodW5rIG5hbWUpXG4gKiBAcGFyYW0gc3ltYm9sIC0gU3ltYm9sIHRvIGxhenkgbG9hZFxuICogQHBhcmFtIGxleGljYWxTY29wZUNhcHR1cmUgLSBhIHNldCBvZiBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcyB0byBjYXB0dXJlLlxuICogQGFscGhhXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBxcmwgPSA8VCA9IGFueT4oXG4gIGNodW5rT3JGbjogc3RyaW5nIHwgKCgpID0+IFByb21pc2U8YW55PiksXG4gIHN5bWJvbDogc3RyaW5nLFxuICBsZXhpY2FsU2NvcGVDYXB0dXJlOiBhbnlbXSA9IEVNUFRZX0FSUkFZXG4pOiBRUkw8VD4gPT4ge1xuICBsZXQgY2h1bmsgPSAnJztcbiAgbGV0IHN5bWJvbEZuOiBudWxsIHwgKCgpID0+IFByb21pc2U8UmVjb3JkPHN0cmluZywgYW55Pj4pID0gbnVsbDtcbiAgaWYgKGlzU3RyaW5nKGNodW5rT3JGbikpIHtcbiAgICBjaHVuayA9IGNodW5rT3JGbjtcbiAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKGNodW5rT3JGbikpIHtcbiAgICBzeW1ib2xGbiA9IGNodW5rT3JGbjtcbiAgICBjb25zdCBjYWNoZWQgPSBRUkxjYWNoZS5nZXQoc3ltYm9sKTtcbiAgICBpZiAoIXFEZXYgJiYgY2FjaGVkKSB7XG4gICAgICBjaHVuayA9IGNhY2hlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG1hdGNoOiBSZWdFeHBNYXRjaEFycmF5IHwgbnVsbDtcbiAgICAgIGNvbnN0IHNyY0NvZGUgPSBTdHJpbmcoY2h1bmtPckZuKTtcbiAgICAgIGlmICgobWF0Y2ggPSBzcmNDb2RlLm1hdGNoKEVYVFJBQ1RfSU1QT1JUX1BBVEgpKSAmJiBtYXRjaFsyXSkge1xuICAgICAgICBjaHVuayA9IG1hdGNoWzJdO1xuICAgICAgfSBlbHNlIGlmICgobWF0Y2ggPSBzcmNDb2RlLm1hdGNoKEVYVFJBQ1RfU0VMRl9JTVBPUlQpKSkge1xuICAgICAgICBjb25zdCByZWYgPSAnUVdJSy1TRUxGJztcbiAgICAgICAgY29uc3QgZnJhbWVzID0gbmV3IEVycm9yKHJlZikuc3RhY2shLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBmcmFtZXMuZmluZEluZGV4KChmKSA9PiBmLmluY2x1ZGVzKHJlZikpO1xuICAgICAgICBjb25zdCBmcmFtZSA9IGZyYW1lc1tzdGFydCArIDJdO1xuICAgICAgICBtYXRjaCA9IGZyYW1lLm1hdGNoKEVYVFJBQ1RfRklMRV9OQU1FKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgIGNodW5rID0gJ21haW4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNodW5rID0gbWF0Y2hbMV07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHFFcnJvcihRRXJyb3JfZHluYW1pY0ltcG9ydEZhaWxlZCwgc3JjQ29kZSk7XG4gICAgICB9XG4gICAgICBRUkxjYWNoZS5zZXQoc3ltYm9sLCBjaHVuayk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfdW5rbm93blR5cGVBcmd1bWVudCwgY2h1bmtPckZuKTtcbiAgfVxuXG4gIC8vIFVud3JhcCBzdWJzY3JpYmVyc1xuICByZXR1cm4gY3JlYXRlUVJMPFQ+KGNodW5rLCBzeW1ib2wsIG51bGwsIHN5bWJvbEZuLCBudWxsLCBsZXhpY2FsU2NvcGVDYXB0dXJlLCBudWxsKTtcbn07XG5cbmV4cG9ydCBjb25zdCBydW50aW1lUXJsID0gPFQ+KFxuICBzeW1ib2w6IFQsXG4gIGxleGljYWxTY29wZUNhcHR1cmU6IGFueVtdID0gRU1QVFlfQVJSQVlcbik6IFFSTEludGVybmFsPFQ+ID0+IHtcbiAgcmV0dXJuIGNyZWF0ZVFSTDxUPihcbiAgICBSVU5USU1FX1FSTCxcbiAgICAncycgKyBydW50aW1lU3ltYm9sSWQrKyxcbiAgICBzeW1ib2wsXG4gICAgbnVsbCxcbiAgICBudWxsLFxuICAgIGxleGljYWxTY29wZUNhcHR1cmUsXG4gICAgbnVsbFxuICApO1xufTtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGNvbnN0IGlubGluZWRRcmwgPSA8VD4oXG4gIHN5bWJvbDogVCxcbiAgc3ltYm9sTmFtZTogc3RyaW5nLFxuICBsZXhpY2FsU2NvcGVDYXB0dXJlOiBhbnlbXSA9IEVNUFRZX0FSUkFZXG4pOiBRUkw8VD4gPT4ge1xuICAvLyBVbndyYXAgc3Vic2NyaWJlcnNcbiAgcmV0dXJuIGNyZWF0ZVFSTDxUPihJTkxJTkVEX1FSTCwgc3ltYm9sTmFtZSwgc3ltYm9sLCBudWxsLCBudWxsLCBsZXhpY2FsU2NvcGVDYXB0dXJlLCBudWxsKTtcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgUVJMU2VyaWFsaXplT3B0aW9ucyB7XG4gICRwbGF0Zm9ybSQ/OiBDb3JlUGxhdGZvcm07XG4gICRlbGVtZW50JD86IFF3aWtFbGVtZW50O1xuICAkZ2V0T2JqSWQkPzogKG9iajogYW55KSA9PiBzdHJpbmcgfCBudWxsO1xuICAkYWRkUmVmTWFwJD86IChvYmo6IGFueSkgPT4gbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3Qgc3RyaW5naWZ5UVJMID0gKHFybDogUVJMSW50ZXJuYWwsIG9wdHM6IFFSTFNlcmlhbGl6ZU9wdGlvbnMgPSB7fSkgPT4ge1xuICBhc3NlcnRRcmwocXJsKTtcbiAgbGV0IHN5bWJvbCA9IHFybC4kc3ltYm9sJDtcbiAgbGV0IGNodW5rID0gcXJsLiRjaHVuayQ7XG4gIGNvbnN0IHJlZlN5bWJvbCA9IHFybC4kcmVmU3ltYm9sJCA/PyBzeW1ib2w7XG4gIGNvbnN0IHBsYXRmb3JtID0gb3B0cy4kcGxhdGZvcm0kO1xuICBjb25zdCBlbGVtZW50ID0gb3B0cy4kZWxlbWVudCQ7XG5cbiAgaWYgKHBsYXRmb3JtKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gcGxhdGZvcm0uY2h1bmtGb3JTeW1ib2wocmVmU3ltYm9sKTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBjaHVuayA9IHJlc3VsdFsxXTtcbiAgICAgIGlmICghcXJsLiRyZWZTeW1ib2wkKSB7XG4gICAgICAgIHN5bWJvbCA9IHJlc3VsdFswXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGNodW5rLnN0YXJ0c1dpdGgoJy4vJykpIHtcbiAgICBjaHVuayA9IGNodW5rLnNsaWNlKDIpO1xuICB9XG4gIGNvbnN0IHBhcnRzOiBzdHJpbmdbXSA9IFtjaHVua107XG4gIGlmIChzeW1ib2wgJiYgc3ltYm9sICE9PSAnZGVmYXVsdCcpIHtcbiAgICBpZiAoY2h1bmsgPT09IFJVTlRJTUVfUVJMICYmIHFUZXN0KSB7XG4gICAgICBzeW1ib2wgPSAnXyc7XG4gICAgfVxuICAgIHBhcnRzLnB1c2goJyMnLCBzeW1ib2wpO1xuICB9XG4gIGNvbnN0IGNhcHR1cmUgPSBxcmwuJGNhcHR1cmUkO1xuICBjb25zdCBjYXB0dXJlUmVmID0gcXJsLiRjYXB0dXJlUmVmJDtcbiAgaWYgKGNhcHR1cmVSZWYgJiYgY2FwdHVyZVJlZi5sZW5ndGgpIHtcbiAgICBpZiAob3B0cy4kZ2V0T2JqSWQkKSB7XG4gICAgICBjb25zdCBjYXB0dXJlID0gY2FwdHVyZVJlZi5tYXAob3B0cy4kZ2V0T2JqSWQkKTtcbiAgICAgIHBhcnRzLnB1c2goYFske2NhcHR1cmUuam9pbignICcpfV1gKTtcbiAgICB9IGVsc2UgaWYgKG9wdHMuJGFkZFJlZk1hcCQpIHtcbiAgICAgIGNvbnN0IGNhcHR1cmUgPSBjYXB0dXJlUmVmLm1hcChvcHRzLiRhZGRSZWZNYXAkKTtcbiAgICAgIHBhcnRzLnB1c2goYFske2NhcHR1cmUuam9pbignICcpfV1gKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoY2FwdHVyZSAmJiBjYXB0dXJlLmxlbmd0aCA+IDApIHtcbiAgICBwYXJ0cy5wdXNoKGBbJHtjYXB0dXJlLmpvaW4oJyAnKX1dYCk7XG4gIH1cbiAgY29uc3QgcXJsU3RyaW5nID0gcGFydHMuam9pbignJyk7XG4gIGlmIChxcmwuJGNodW5rJCA9PT0gUlVOVElNRV9RUkwgJiYgZWxlbWVudCkge1xuICAgIGNvbnN0IHFybHM6IFNldDxRUkw+ID0gKGVsZW1lbnQgYXMgYW55KS5fX3FybHNfXyB8fCAoKGVsZW1lbnQgYXMgYW55KS5fX3FybHNfXyA9IG5ldyBTZXQoKSk7XG4gICAgcXJscy5hZGQocXJsKTtcbiAgfVxuICByZXR1cm4gcXJsU3RyaW5nO1xufTtcblxuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZVFSTHMgPSAoZXhpc3RpbmdRUkxzOiBRUkxJbnRlcm5hbDxhbnk+W10sIGVsQ3R4OiBRQ29udGV4dCk6IHN0cmluZyA9PiB7XG4gIGFzc2VydFRydWUoaXNFbGVtZW50KGVsQ3R4LiRlbGVtZW50JCksICdFbGVtZW50IG11c3QgYmUgYW4gYWN0dWFsIGVsZW1lbnQnKTtcbiAgY29uc3Qgb3B0czogUVJMU2VyaWFsaXplT3B0aW9ucyA9IHtcbiAgICAkcGxhdGZvcm0kOiBnZXRQbGF0Zm9ybShlbEN0eC4kZWxlbWVudCQpLFxuICAgICRlbGVtZW50JDogZWxDdHguJGVsZW1lbnQkLFxuICAgICRhZGRSZWZNYXAkOiAob2JqKSA9PiBhZGRUb0FycmF5KGVsQ3R4LiRyZWZNYXAkLCBvYmopLFxuICB9O1xuICByZXR1cm4gZXhpc3RpbmdRUkxzLm1hcCgocXJsKSA9PiBzdHJpbmdpZnlRUkwocXJsLCBvcHRzKSkuam9pbignXFxuJyk7XG59O1xuXG5leHBvcnQgY29uc3QgcXJsVG9VcmwgPSAoZWxlbWVudDogRWxlbWVudCwgcXJsOiBRUkxJbnRlcm5hbCk6IFVSTCA9PiB7XG4gIHJldHVybiBuZXcgVVJMKHN0cmluZ2lmeVFSTChxcmwpLCBnZXREb2N1bWVudChlbGVtZW50KS5iYXNlVVJJKTtcbn07XG5cbi8qKlxuICogYC4vY2h1bmsjc3ltYm9sW2NhcHR1cmVzXVxuICovXG5leHBvcnQgY29uc3QgcGFyc2VRUkwgPSAocXJsOiBzdHJpbmcsIGNvbnRhaW5lckVsPzogRWxlbWVudCk6IFFSTEludGVybmFsID0+IHtcbiAgY29uc3QgZW5kSWR4ID0gcXJsLmxlbmd0aDtcbiAgY29uc3QgaGFzaElkeCA9IGluZGV4T2YocXJsLCAwLCAnIycpO1xuICBjb25zdCBjYXB0dXJlSWR4ID0gaW5kZXhPZihxcmwsIGhhc2hJZHgsICdbJyk7XG5cbiAgY29uc3QgY2h1bmtFbmRJZHggPSBNYXRoLm1pbihoYXNoSWR4LCBjYXB0dXJlSWR4KTtcbiAgY29uc3QgY2h1bmsgPSBxcmwuc3Vic3RyaW5nKDAsIGNodW5rRW5kSWR4KTtcblxuICBjb25zdCBzeW1ib2xTdGFydElkeCA9IGhhc2hJZHggPT0gZW5kSWR4ID8gaGFzaElkeCA6IGhhc2hJZHggKyAxO1xuICBjb25zdCBzeW1ib2xFbmRJZHggPSBjYXB0dXJlSWR4O1xuICBjb25zdCBzeW1ib2wgPVxuICAgIHN5bWJvbFN0YXJ0SWR4ID09IHN5bWJvbEVuZElkeCA/ICdkZWZhdWx0JyA6IHFybC5zdWJzdHJpbmcoc3ltYm9sU3RhcnRJZHgsIHN5bWJvbEVuZElkeCk7XG5cbiAgY29uc3QgY2FwdHVyZVN0YXJ0SWR4ID0gY2FwdHVyZUlkeDtcbiAgY29uc3QgY2FwdHVyZUVuZElkeCA9IGVuZElkeDtcbiAgY29uc3QgY2FwdHVyZSA9XG4gICAgY2FwdHVyZVN0YXJ0SWR4ID09PSBjYXB0dXJlRW5kSWR4XG4gICAgICA/IEVNUFRZX0FSUkFZXG4gICAgICA6IHFybC5zdWJzdHJpbmcoY2FwdHVyZVN0YXJ0SWR4ICsgMSwgY2FwdHVyZUVuZElkeCAtIDEpLnNwbGl0KCcgJyk7XG5cbiAgaWYgKGNodW5rID09PSBSVU5USU1FX1FSTCkge1xuICAgIGxvZ0Vycm9yKGNvZGVUb1RleHQoUUVycm9yX3J1bnRpbWVRcmxOb0VsZW1lbnQpLCBxcmwpO1xuICB9XG4gIGNvbnN0IGlRcmwgPSBjcmVhdGVRUkw8YW55PihjaHVuaywgc3ltYm9sLCBudWxsLCBudWxsLCBjYXB0dXJlLCBudWxsLCBudWxsKTtcbiAgaWYgKGNvbnRhaW5lckVsKSB7XG4gICAgaVFybC4kc2V0Q29udGFpbmVyJChjb250YWluZXJFbCk7XG4gIH1cbiAgcmV0dXJuIGlRcmw7XG59O1xuXG5jb25zdCBpbmRleE9mID0gKHRleHQ6IHN0cmluZywgc3RhcnRJZHg6IG51bWJlciwgY2hhcjogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGVuZElkeCA9IHRleHQubGVuZ3RoO1xuICBjb25zdCBjaGFySWR4ID0gdGV4dC5pbmRleE9mKGNoYXIsIHN0YXJ0SWR4ID09IGVuZElkeCA/IDAgOiBzdGFydElkeCk7XG4gIHJldHVybiBjaGFySWR4ID09IC0xID8gZW5kSWR4IDogY2hhcklkeDtcbn07XG5cbmNvbnN0IGFkZFRvQXJyYXkgPSAoYXJyYXk6IGFueVtdLCBvYmo6IGFueSkgPT4ge1xuICBjb25zdCBpbmRleCA9IGFycmF5LmluZGV4T2Yob2JqKTtcbiAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgIGFycmF5LnB1c2gob2JqKTtcbiAgICByZXR1cm4gYXJyYXkubGVuZ3RoIC0gMTtcbiAgfVxuICByZXR1cm4gaW5kZXg7XG59O1xuIl19","import { runtimeQrl } from './qrl';\n// <docs markdown=\"../readme.md#$\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#$ instead)\n/**\n * Qwik Optimizer marker function.\n *\n * Use `$(...)` to tell Qwik Optimizer to extract the expression in `$(...)` into a lazy-loadable\n * resource referenced by `QRL`.\n *\n * @see `implicit$FirstArg` for additional `____$(...)` rules.\n *\n * In this example, `$(...)` is used to capture the callback function of `onmousemove` into a\n * lazy-loadable reference. This allows the code to refer to the function without actually\n * loading the function. In this example, the callback function does not get loaded until\n * `mousemove` event fires.\n *\n * ```tsx\n * useOnDocument(\n *   'mousemove',\n *   $((event) => console.log('mousemove', event))\n * );\n * ```\n *\n * In this code, the Qwik Optimizer detects `$(...)` and transforms the code into:\n *\n * ```tsx\n * // FILE: <current file>\n * useOnDocument('mousemove', qrl('./chunk-abc.js', 'onMousemove'));\n *\n * // FILE: chunk-abc.js\n * export const onMousemove = () => console.log('mousemove');\n * ```\n *\n * ## Special Rules\n *\n * The Qwik Optimizer places special rules on functions that can be lazy-loaded.\n *\n * 1. The expression of the `$(expression)` function must be importable by the system.\n * (expression shows up in `import` or has `export`)\n * 2. If inlined function, then all lexically captured values must be:\n *    - importable (vars show up in `import`s or `export`s)\n *    - const (The capturing process differs from JS capturing in that writing to captured\n * variables does not update them, and therefore writes are forbidden. The best practice is that\n * all captured variables are constants.)\n *    - Must be runtime serializable.\n *\n * ```tsx\n * import { importedFn } from './import/example';\n * import { createContext, useContext, useContextProvider } from './use/use-context';\n * import { useRef } from './use/use-ref';\n *\n * export const greet = () => console.log('greet');\n * function topLevelFn() {}\n *\n * function myCode() {\n *   const store = useStore({});\n *   function localFn() {}\n *   // Valid Examples\n *   $(greet); // greet is importable\n *   $(importedFn); // importedFn is importable\n *   $(() => greet()); // greet is importable;\n *   $(() => importedFn()); // importedFn is importable\n *   $(() => console.log(store)); // store is serializable.\n *\n *   // Compile time errors\n *   $(topLevelFn); // ERROR: `topLevelFn` not importable\n *   $(() => topLevelFn()); // ERROR: `topLevelFn` not importable\n *\n *   // Runtime errors\n *   $(localFn); // ERROR: `localFn` fails serialization\n *   $(() => localFn()); // ERROR: `localFn` fails serialization\n * }\n *\n * ```\n *\n * @param expression - Expression which should be lazy loaded\n * @public\n */\n// </docs>\nexport const $ = (expression) => {\n    return runtimeQrl(expression);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXJsLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9pbXBvcnQvcXJsLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sT0FBTyxDQUFDO0FBa0tuQyxtQ0FBbUM7QUFDbkMseUNBQXlDO0FBQ3pDLGdDQUFnQztBQUNoQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0EwRUc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUksVUFBYSxFQUFVLEVBQUU7SUFDNUMsT0FBTyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDaEMsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBRd2lrRWxlbWVudCB9IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcbmltcG9ydCB7IHJ1bnRpbWVRcmwgfSBmcm9tICcuL3FybCc7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI1FSTFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNRUkwgaW5zdGVhZClcbi8qKlxuICogVGhlIGBRUkxgIHR5cGUgcmVwcmVzZW50cyBhIGxhenktbG9hZGFibGUgQU5EIHNlcmlhbGl6YWJsZSByZXNvdXJjZS5cbiAqXG4gKiBRUkwgc3RhbmRzIGZvciBRd2lrIFVSTC5cbiAqXG4gKiBVc2UgYFFSTGAgd2hlbiB5b3Ugd2FudCB0byByZWZlciB0byBhIGxhenktbG9hZGVkIHJlc291cmNlLiBgUVJMYHMgYXJlIG1vc3Qgb2Z0ZW4gdXNlZCBmb3JcbiAqIGNvZGUgKGZ1bmN0aW9ucykgYnV0IGNhbiBhbHNvIGJlIHVzZWQgZm9yIG90aGVyIHJlc291cmNlcyBzdWNoIGFzIGBzdHJpbmdgcyBpbiB0aGUgY2FzZSBvZlxuICogc3R5bGVzLlxuICpcbiAqIGBRUkxgIGlzIGFuIG9wYXF1ZSB0b2tlbiB0aGF0IGlzIGdlbmVyYXRlZCBieSB0aGUgUXdpayBPcHRpbWl6ZXIuIChEbyBub3QgcmVseSBvbiBhbnlcbiAqIHByb3BlcnRpZXMgaW4gYFFSTGAgYXMgaXQgbWF5IGNoYW5nZSBiZXR3ZWVuIHZlcnNpb25zLilcbiAqXG4gKiAjIyBDcmVhdGluZyBgUVJMYCByZWZlcmVuY2VzXG4gKlxuICogQ3JlYXRpbmcgYFFSTGAgaXMgZG9uZSB1c2luZyBgJCguLi4pYCBmdW5jdGlvbi4gYCQoLi4uKWAgaXMgYSBzcGVjaWFsIG1hcmtlciBmb3IgdGhlIFF3aWtcbiAqIE9wdGltaXplciB0aGF0IG1hcmtzIHRoYXQgdGhlIGNvZGUgc2hvdWxkIGJlIGV4dHJhY3RlZCBpbnRvIGEgbGF6eS1sb2FkZWQgc3ltYm9sLlxuICpcbiAqIGBgYHRzeFxuICogdXNlT25Eb2N1bWVudChcbiAqICAgJ21vdXNlbW92ZScsXG4gKiAgICQoKGV2ZW50KSA9PiBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJywgZXZlbnQpKVxuICogKTtcbiAqIGBgYFxuICpcbiAqIEluIHRoZSBhYm92ZSBjb2RlLCB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBhcyBzaG93biBiZWxvdzpcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEZJTEU6IDxjdXJyZW50IGZpbGU+XG4gKiB1c2VPbkRvY3VtZW50KCdtb3VzZW1vdmUnLCBxcmwoJy4vY2h1bmstYWJjLmpzJywgJ29uTW91c2Vtb3ZlJykpO1xuICpcbiAqIC8vIEZJTEU6IGNodW5rLWFiYy5qc1xuICogZXhwb3J0IGNvbnN0IG9uTW91c2Vtb3ZlID0gKCkgPT4gY29uc29sZS5sb2coJ21vdXNlbW92ZScpO1xuICogYGBgXG4gKlxuICogTk9URTogYHFybCguLi4pYCBpcyBhIHJlc3VsdCBvZiBRd2lrIE9wdGltaXplciB0cmFuc2Zvcm1hdGlvbi4gWW91IHNob3VsZCBuZXZlciBoYXZlIHRvIGludm9rZVxuICogdGhpcyBmdW5jdGlvbiBkaXJlY3RseSBpbiB5b3VyIGFwcGxpY2F0aW9uLiBUaGUgYHFybCguLi4pYCBmdW5jdGlvbiBzaG91bGQgYmUgaW52b2tlZCBvbmx5XG4gKiBhZnRlciB0aGUgUXdpayBPcHRpbWl6ZXIgdHJhbnNmb3JtYXRpb24uXG4gKlxuICogIyMgVXNpbmcgYFFSTGBzXG4gKlxuICogVXNlIGBRUkxgIHR5cGUgaW4geW91ciBhcHBsaWNhdGlvbiB3aGVuIHlvdSB3YW50IHRvIGdldCBhIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGFcbiAqIHJlc291cmNlIChtb3N0IGxpa2VseSBhIGZ1bmN0aW9uKS5cbiAqXG4gKiBgYGB0c3hcbiAqIC8vIEV4YW1wbGUgb2YgZGVjbGFyaW5nIGEgY3VzdG9tIGZ1bmN0aW9ucyB3aGljaCB0YWtlcyBjYWxsYmFjayBhcyBRUkwuXG4gKiBleHBvcnQgZnVuY3Rpb24gdXNlTXlGdW5jdGlvbihjYWxsYmFjazogUVJMPCgpID0+IHZvaWQ+KSB7XG4gKiAgIGRvRXh0cmFTdHVmZigpO1xuICogICAvLyBUaGUgY2FsbGJhY2sgcGFzc2VkIHRvIGBvbkRvY3VtZW50YCByZXF1aXJlcyBgUVJMYC5cbiAqICAgdXNlT25Eb2N1bWVudCgnbW91c2Vtb3ZlJywgY2FsbGJhY2spO1xuICogfVxuICogYGBgXG4gKlxuICogSW4gdGhlIGFib3ZlIGV4YW1wbGUsIHRoZSB3YXkgdG8gdGhpbmsgYWJvdXQgdGhlIGNvZGUgaXMgdGhhdCB5b3UgYXJlIG5vdCBhc2tpbmcgZm9yIGFcbiAqIGNhbGxiYWNrIGZ1bmN0aW9uIGJ1dCByYXRoZXIgYSByZWZlcmVuY2UgdG8gYSBsYXp5LWxvYWRhYmxlIGNhbGxiYWNrIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHksXG4gKiB0aGUgZnVuY3Rpb24gbG9hZGluZyBzaG91bGQgYmUgZGVsYXllZCB1bnRpbCBpdCBpcyBhY3R1YWxseSBuZWVkZWQuIEluIHRoZSBhYm92ZSBleGFtcGxlLCB0aGVcbiAqIGZ1bmN0aW9uIHdvdWxkIG5vdCBsb2FkIHVudGlsIGFmdGVyIGEgYG1vdXNlbW92ZWAgZXZlbnQgb24gYGRvY3VtZW50YCBmaXJlcy5cbiAqXG4gKiAjIyBSZXNvbHZpbmcgYFFSTGAgcmVmZXJlbmNlc1xuICpcbiAqIEF0IHRpbWVzIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmVzb2x2ZSBhIGBRUkxgIHJlZmVyZW5jZSB0byB0aGUgYWN0dWFsIHZhbHVlLiBUaGlzIGNhbiBiZVxuICogcGVyZm9ybWVkIHVzaW5nIGBRUkwucmVzb2x2ZSguLilgIGZ1bmN0aW9uLlxuICpcbiAqIGBgYHRzeFxuICogLy8gQXNzdW1lIHlvdSBoYXZlIFFSTCByZWZlcmVuY2UgdG8gYSBncmVldCBmdW5jdGlvblxuICogY29uc3QgbGF6eUdyZWV0OiBRUkw8KCkgPT4gdm9pZD4gPSAkKCgpID0+IGNvbnNvbGUubG9nKCdIZWxsbyBXb3JsZCEnKSk7XG4gKlxuICogLy8gVXNlIGBxcmxJbXBvcnRgIHRvIGxvYWQgLyByZXNvbHZlIHRoZSByZWZlcmVuY2UuXG4gKiBjb25zdCBncmVldDogKCkgPT4gdm9pZCA9IGF3YWl0IGxhenlHcmVldC5yZXNvbHZlKCk7XG4gKlxuICogLy8gIEludm9rZSBpdFxuICogZ3JlZXQoKTtcbiAqIGBgYFxuICpcbiAqIE5PVEU6IGBlbGVtZW50YCBpcyBuZWVkZWQgYmVjYXVzZSBgUVJMYHMgYXJlIHJlbGF0aXZlIGFuZCBuZWVkIGEgYmFzZSBsb2NhdGlvbiB0byByZXNvbHZlXG4gKiBhZ2FpbnN0LiBUaGUgYmFzZSBsb2NhdGlvbiBpcyBlbmNvZGVkIGluIHRoZSBIVE1MIGluIHRoZSBmb3JtIG9mIGA8ZGl2IHE6YmFzZT1cIi91cmxcIj5gLlxuICpcbiAqICMjIFF1ZXN0aW9uOiBXaHkgbm90IGp1c3QgdXNlIGBpbXBvcnQoKWA/XG4gKlxuICogQXQgZmlyc3QgZ2xhbmNlLCBgUVJMYCBzZXJ2ZXMgdGhlIHNhbWUgcHVycG9zZSBhcyBgaW1wb3J0KClgLiBIb3dldmVyLCB0aGVyZSBhcmUgdGhyZWUgc3VidGxlXG4gKiBkaWZmZXJlbmNlcyB0aGF0IG5lZWQgdG8gYmUgdGFrZW4gaW50byBhY2NvdW50LlxuICpcbiAqIDEuIGBRUkxgcyBtdXN0IGJlIHNlcmlhbGl6YWJsZSBpbnRvIEhUTUwuXG4gKiAyLiBgUVJMYHMgbXVzdCBiZSByZXNvbHZlZCBieSBmcmFtZXdvcmsgcmVsYXRpdmUgdG8gYHE6YmFzZWAuXG4gKiAzLiBgUVJMYHMgbXVzdCBiZSBhYmxlIHRvIGNhcHR1cmUgbGV4aWNhbGx5IHNjb3BlZCB2YXJpYWJsZXMuXG4gKiA0LiBgUVJMYHMgZW5jYXBzdWxhdGUgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBydW5uaW5nIHdpdGggYW5kIHdpdGhvdXQgUXdpayBPcHRpbWl6ZXIuXG4gKiA1LiBgUVJMYHMgYWxsb3cgZXhwcmVzc2luZyBsYXp5LWxvYWRlZCBib3VuZGFyaWVzIHdpdGhvdXQgdGhpbmtpbmcgYWJvdXQgY2h1bmsgYW5kIHN5bWJvbFxuICogbmFtZXMuXG4gKlxuICogTGV0J3MgYXNzdW1lIHRoYXQgeW91IGludGVuZCB0byB3cml0ZSBjb2RlIHN1Y2ggYXMgdGhpczpcbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiByZXR1cm4gPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiAoYXdhaXQgaW1wb3J0KCcuL2NodW5rLWFiYy5qcycpKS5vbkNsaWNrfT5cbiAqIGBgYFxuICpcbiAqIFRoZSBhYm92ZSBjb2RlIG5lZWRzIHRvIGJlIHNlcmlhbGl6ZWQgaW50byBET00gc3VjaCBhczpcbiAqXG4gKiBgYGBcbiAqIDxkaXYgcTpiYXNlPVwiL2J1aWxkL1wiPlxuICogICA8YnV0dG9uIG9uOmxpY2s9XCIuL2NodW5rLWFiYy5qcyNvbkNsaWNrXCI+Li4uPC9idXR0b24+XG4gKiA8L2Rpdj5cbiAqIGBgYFxuICpcbiAqIDEuIE5vdGljZSB0aGVyZSBpcyBubyBlYXN5IHdheSB0byBleHRyYWN0IGNodW5rIChgLi9jaHVuay1hYmMuanNgKSBhbmQgc3ltYm9sIChgb25DbGlja2ApIGludG9cbiAqIEhUTUwuXG4gKiAyLiBOb3RpY2UgdGhhdCBldmVuIGlmIHlvdSBjb3VsZCBleHRyYWN0IGl0LCB0aGUgYGltcG9ydCgnLi9jaHVuay1hYmMuanMnKWAgd291bGQgYmVjb21lXG4gKiByZWxhdGl2ZSB0byB3aGVyZSB0aGUgYGltcG9ydCgpYCBmaWxlIGlzIGRlY2xhcmVkLiBCZWNhdXNlIGl0IGlzIG91ciBmcmFtZXdvcmsgZG9pbmcgdGhlIGxvYWQsXG4gKiB0aGUgYC4vY2h1bmstYWJjLmpzYCB3b3VsZCBiZWNvbWUgcmVsYXRpdmUgdG8gdGhlIGZyYW1ld29yayBmaWxlLiBUaGlzIGlzIG5vdCBjb3JyZWN0LCBhcyBpdFxuICogc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBvcmlnaW5hbCBmaWxlIGdlbmVyYXRlZCBieSB0aGUgYnVuZGxlci5cbiAqIDMuIE5leHQsIHRoZSBmcmFtZXdvcmsgbmVlZHMgdG8gcmVzb2x2ZSB0aGUgYC4vY2h1bmstYWJjLmpzYCBhbmQgbmVlZHMgYSBiYXNlIGxvY2F0aW9uIHRoYXQgaXNcbiAqIGVuY29kZWQgaW4gdGhlIEhUTUwuXG4gKiA0LiBUaGUgUVJMIG5lZWRzIHRvIGJlIGFibGUgdG8gY2FwdHVyZSBsZXhpY2FsbHkgc2NvcGVkIHZhcmlhYmxlcy4gKGBpbXBvcnQoKWAgb25seSBhbGxvd3NcbiAqIGxvYWRpbmcgdG9wLWxldmVsIHN5bWJvbHMgd2hpY2ggZG9uJ3QgY2FwdHVyZSB2YXJpYWJsZXMuKVxuICogNS4gQXMgYSBkZXZlbG9wZXIsIHlvdSBkb24ndCB3YW50IHRvIHRoaW5rIGFib3V0IGBpbXBvcnRgIGFuZCBuYW1pbmcgdGhlIGNodW5rcyBhbmQgc3ltYm9scy5cbiAqIFlvdSBqdXN0IHdhbnQgdG8gc2F5OiBcInRoaXMgc2hvdWxkIGJlIGxhenkuXCJcbiAqXG4gKiBUaGVzZSBhcmUgdGhlIG1haW4gcmVhc29ucyB3aHkgUXdpayBpbnRyb2R1Y2VzIGl0cyBvd24gY29uY2VwdCBvZiBgUVJMYC5cbiAqXG4gKiBAc2VlIGAkYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGludGVyZmFjZSBRUkw8VFlQRSA9IGFueT4ge1xuICBfX2JyYW5kX19RUkxfXzogVFlQRTtcblxuICAvKipcbiAgICogUmVzb2x2ZSB0aGUgUVJMIG9mIGNsb3N1cmUgYW5kIGludm9rZSBpdC5cbiAgICogQHBhcmFtIGFyZ3MgLSBDbG91c3VyZSBhcmd1bWVudHMuXG4gICAqIEByZXR1cm5zIEEgcHJvbWlzZSBvZiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBjbG9zdXJlLlxuICAgKi9cbiAgKC4uLmFyZ3M6IFRZUEUgZXh0ZW5kcyAoLi4uYXJnczogaW5mZXIgQVJHUykgPT4gYW55ID8gQVJHUyA6IG5ldmVyKTogUHJvbWlzZTxcbiAgICBUWVBFIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBpbmZlciBSRVRVUk4gPyBBd2FpdGVkPFJFVFVSTj4gOiBuZXZlclxuICA+O1xuXG4gIC8qKlxuICAgKiBSZXNvbHZlIHRoZSBRUkwgYW5kIHJldHVybiB0aGUgYWN0dWFsIHZhbHVlLlxuICAgKi9cbiAgcmVzb2x2ZShlbD86IFF3aWtFbGVtZW50KTogUHJvbWlzZTxUWVBFPjtcblxuICBnZXRTeW1ib2woKTogc3RyaW5nO1xuICBnZXRIYXNoKCk6IHN0cmluZztcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJvcEZuSW50ZXJmYWNlPEFSR1MgZXh0ZW5kcyBhbnlbXSwgUkVUPiB7XG4gICguLi5hcmdzOiBBUkdTKTogUHJvbWlzZTxSRVQ+O1xufVxuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgUHJvcEZ1bmN0aW9uPFQgZXh0ZW5kcyBGdW5jdGlvbj4gPSBUIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIEFSR1MpID0+IGluZmVyIFJFVFxuICA/IFByb3BGbkludGVyZmFjZTxBUkdTLCBSRVQ+XG4gIDogbmV2ZXI7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kIyRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjJCBpbnN0ZWFkKVxuLyoqXG4gKiBRd2lrIE9wdGltaXplciBtYXJrZXIgZnVuY3Rpb24uXG4gKlxuICogVXNlIGAkKC4uLilgIHRvIHRlbGwgUXdpayBPcHRpbWl6ZXIgdG8gZXh0cmFjdCB0aGUgZXhwcmVzc2lvbiBpbiBgJCguLi4pYCBpbnRvIGEgbGF6eS1sb2FkYWJsZVxuICogcmVzb3VyY2UgcmVmZXJlbmNlZCBieSBgUVJMYC5cbiAqXG4gKiBAc2VlIGBpbXBsaWNpdCRGaXJzdEFyZ2AgZm9yIGFkZGl0aW9uYWwgYF9fX18kKC4uLilgIHJ1bGVzLlxuICpcbiAqIEluIHRoaXMgZXhhbXBsZSwgYCQoLi4uKWAgaXMgdXNlZCB0byBjYXB0dXJlIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBvZiBgb25tb3VzZW1vdmVgIGludG8gYVxuICogbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UuIFRoaXMgYWxsb3dzIHRoZSBjb2RlIHRvIHJlZmVyIHRvIHRoZSBmdW5jdGlvbiB3aXRob3V0IGFjdHVhbGx5XG4gKiBsb2FkaW5nIHRoZSBmdW5jdGlvbi4gSW4gdGhpcyBleGFtcGxlLCB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZG9lcyBub3QgZ2V0IGxvYWRlZCB1bnRpbFxuICogYG1vdXNlbW92ZWAgZXZlbnQgZmlyZXMuXG4gKlxuICogYGBgdHN4XG4gKiB1c2VPbkRvY3VtZW50KFxuICogICAnbW91c2Vtb3ZlJyxcbiAqICAgJCgoZXZlbnQpID0+IGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnLCBldmVudCkpXG4gKiApO1xuICogYGBgXG4gKlxuICogSW4gdGhpcyBjb2RlLCB0aGUgUXdpayBPcHRpbWl6ZXIgZGV0ZWN0cyBgJCguLi4pYCBhbmQgdHJhbnNmb3JtcyB0aGUgY29kZSBpbnRvOlxuICpcbiAqIGBgYHRzeFxuICogLy8gRklMRTogPGN1cnJlbnQgZmlsZT5cbiAqIHVzZU9uRG9jdW1lbnQoJ21vdXNlbW92ZScsIHFybCgnLi9jaHVuay1hYmMuanMnLCAnb25Nb3VzZW1vdmUnKSk7XG4gKlxuICogLy8gRklMRTogY2h1bmstYWJjLmpzXG4gKiBleHBvcnQgY29uc3Qgb25Nb3VzZW1vdmUgPSAoKSA9PiBjb25zb2xlLmxvZygnbW91c2Vtb3ZlJyk7XG4gKiBgYGBcbiAqXG4gKiAjIyBTcGVjaWFsIFJ1bGVzXG4gKlxuICogVGhlIFF3aWsgT3B0aW1pemVyIHBsYWNlcyBzcGVjaWFsIHJ1bGVzIG9uIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBsYXp5LWxvYWRlZC5cbiAqXG4gKiAxLiBUaGUgZXhwcmVzc2lvbiBvZiB0aGUgYCQoZXhwcmVzc2lvbilgIGZ1bmN0aW9uIG11c3QgYmUgaW1wb3J0YWJsZSBieSB0aGUgc3lzdGVtLlxuICogKGV4cHJlc3Npb24gc2hvd3MgdXAgaW4gYGltcG9ydGAgb3IgaGFzIGBleHBvcnRgKVxuICogMi4gSWYgaW5saW5lZCBmdW5jdGlvbiwgdGhlbiBhbGwgbGV4aWNhbGx5IGNhcHR1cmVkIHZhbHVlcyBtdXN0IGJlOlxuICogICAgLSBpbXBvcnRhYmxlICh2YXJzIHNob3cgdXAgaW4gYGltcG9ydGBzIG9yIGBleHBvcnRgcylcbiAqICAgIC0gY29uc3QgKFRoZSBjYXB0dXJpbmcgcHJvY2VzcyBkaWZmZXJzIGZyb20gSlMgY2FwdHVyaW5nIGluIHRoYXQgd3JpdGluZyB0byBjYXB0dXJlZFxuICogdmFyaWFibGVzIGRvZXMgbm90IHVwZGF0ZSB0aGVtLCBhbmQgdGhlcmVmb3JlIHdyaXRlcyBhcmUgZm9yYmlkZGVuLiBUaGUgYmVzdCBwcmFjdGljZSBpcyB0aGF0XG4gKiBhbGwgY2FwdHVyZWQgdmFyaWFibGVzIGFyZSBjb25zdGFudHMuKVxuICogICAgLSBNdXN0IGJlIHJ1bnRpbWUgc2VyaWFsaXphYmxlLlxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHsgaW1wb3J0ZWRGbiB9IGZyb20gJy4vaW1wb3J0L2V4YW1wbGUnO1xuICogaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlQ29udGV4dFByb3ZpZGVyIH0gZnJvbSAnLi91c2UvdXNlLWNvbnRleHQnO1xuICogaW1wb3J0IHsgdXNlUmVmIH0gZnJvbSAnLi91c2UvdXNlLXJlZic7XG4gKlxuICogZXhwb3J0IGNvbnN0IGdyZWV0ID0gKCkgPT4gY29uc29sZS5sb2coJ2dyZWV0Jyk7XG4gKiBmdW5jdGlvbiB0b3BMZXZlbEZuKCkge31cbiAqXG4gKiBmdW5jdGlvbiBteUNvZGUoKSB7XG4gKiAgIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUoe30pO1xuICogICBmdW5jdGlvbiBsb2NhbEZuKCkge31cbiAqICAgLy8gVmFsaWQgRXhhbXBsZXNcbiAqICAgJChncmVldCk7IC8vIGdyZWV0IGlzIGltcG9ydGFibGVcbiAqICAgJChpbXBvcnRlZEZuKTsgLy8gaW1wb3J0ZWRGbiBpcyBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gZ3JlZXQoKSk7IC8vIGdyZWV0IGlzIGltcG9ydGFibGU7XG4gKiAgICQoKCkgPT4gaW1wb3J0ZWRGbigpKTsgLy8gaW1wb3J0ZWRGbiBpcyBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gY29uc29sZS5sb2coc3RvcmUpKTsgLy8gc3RvcmUgaXMgc2VyaWFsaXphYmxlLlxuICpcbiAqICAgLy8gQ29tcGlsZSB0aW1lIGVycm9yc1xuICogICAkKHRvcExldmVsRm4pOyAvLyBFUlJPUjogYHRvcExldmVsRm5gIG5vdCBpbXBvcnRhYmxlXG4gKiAgICQoKCkgPT4gdG9wTGV2ZWxGbigpKTsgLy8gRVJST1I6IGB0b3BMZXZlbEZuYCBub3QgaW1wb3J0YWJsZVxuICpcbiAqICAgLy8gUnVudGltZSBlcnJvcnNcbiAqICAgJChsb2NhbEZuKTsgLy8gRVJST1I6IGBsb2NhbEZuYCBmYWlscyBzZXJpYWxpemF0aW9uXG4gKiAgICQoKCkgPT4gbG9jYWxGbigpKTsgLy8gRVJST1I6IGBsb2NhbEZuYCBmYWlscyBzZXJpYWxpemF0aW9uXG4gKiB9XG4gKlxuICogYGBgXG4gKlxuICogQHBhcmFtIGV4cHJlc3Npb24gLSBFeHByZXNzaW9uIHdoaWNoIHNob3VsZCBiZSBsYXp5IGxvYWRlZFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgJCA9IDxUPihleHByZXNzaW9uOiBUKTogUVJMPFQ+ID0+IHtcbiAgcmV0dXJuIHJ1bnRpbWVRcmwoZXhwcmVzc2lvbik7XG59O1xuIl19","import { $ } from '../import/qrl.public';\nimport { OnRenderProp } from '../util/markers';\nimport { jsx } from '../render/jsx/jsx-runtime';\nimport { SERIALIZABLE_STATE } from '../object/serializers';\nimport { qTest } from '../util/qdev';\nimport { Virtual } from '../render/jsx/utils.public';\nimport { assertQrl } from '../import/qrl-class';\n// const ELEMENTS_SKIP_KEY: JSXTagName[] = ['html', 'body', 'head'];\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`\n *\n * @public\n */\n// </docs>\nexport const componentQrl = (onRenderQrl) => {\n    // Return a QComponent Factory function.\n    function QwikComponent(props, key) {\n        assertQrl(onRenderQrl);\n        const hash = qTest ? 'sX' : onRenderQrl.$hash$;\n        const finalKey = hash + ':' + (key ? key : '');\n        return jsx(Virtual, { [OnRenderProp]: onRenderQrl, ...props }, finalKey);\n    }\n    QwikComponent[SERIALIZABLE_STATE] = [onRenderQrl];\n    return QwikComponent;\n};\nexport const isQwikComponent = (component) => {\n    return typeof component == 'function' && component[SERIALIZABLE_STATE] !== undefined;\n};\n// <docs markdown=\"../readme.md#component\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#component instead)\n/**\n * Declare a Qwik component that can be used to create UI.\n *\n * Use `component$` to declare a Qwik component. A Qwik component is a special kind of component\n * that allows the Qwik framework to lazy load and execute the component independently of other\n * Qwik components as well as lazy load the component's life-cycle hooks and event handlers.\n *\n * Side note: You can also declare regular (standard JSX) components that will have standard\n * synchronous behavior.\n *\n * Qwik component is a facade that describes how the component should be used without forcing the\n * implementation of the component to be eagerly loaded. A minimum Qwik definition consists of:\n *\n * ### Example:\n *\n * An example showing how to create a counter component:\n *\n * ```tsx\n * export interface CounterProps {\n *   initialValue?: number;\n *   step?: number;\n * }\n * export const Counter = component$((props: CounterProps) => {\n *   const state = useStore({ count: props.initialValue || 0 });\n *   return (\n *     <div>\n *       <span>{state.count}</span>\n *       <button onClick$={() => (state.count += props.step || 1)}>+</button>\n *     </div>\n *   );\n * });\n * ```\n *\n * - `component$` is how a component gets declared.\n * - `{ value?: number; step?: number }` declares the public (props) interface of the component.\n * - `{ count: number }` declares the private (state) interface of the component.\n *\n * The above can then be used like so:\n *\n * ```tsx\n * export const OtherComponent = component$(() => {\n *   return <Counter initialValue={100} />;\n * });\n * ```\n *\n * See also: `component`, `useCleanup`, `onResume`, `onPause`, `useOn`, `useOnDocument`,\n * `useOnWindow`, `useStyles`\n *\n * @public\n */\n// </docs>\nexport const component$ = (onMount) => {\n    return componentQrl($(onMount));\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9uZW50LnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9jb21wb25lbnQvY29tcG9uZW50LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsQ0FBQyxFQUFPLE1BQU0sc0JBQXNCLENBQUM7QUFFOUMsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRy9DLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSwyQkFBMkIsQ0FBQztBQUVoRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3JDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNyRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFxRGhELG9FQUFvRTtBQUVwRSwyQ0FBMkM7QUFDM0MseUNBQXlDO0FBQ3pDLHdDQUF3QztBQUN4Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlERztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FDMUIsV0FBbUMsRUFDakIsRUFBRTtJQUNwQix3Q0FBd0M7SUFDeEMsU0FBUyxhQUFhLENBQUMsS0FBeUIsRUFBRSxHQUFrQjtRQUNsRSxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDdkIsTUFBTSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUM7UUFDL0MsTUFBTSxRQUFRLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQyxPQUFPLEdBQUcsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUFFLFdBQVcsRUFBRSxHQUFHLEtBQUssRUFBRSxFQUFFLFFBQVEsQ0FBUSxDQUFDO0lBQ2xGLENBQUM7SUFDQSxhQUFxQixDQUFDLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMzRCxPQUFPLGFBQWEsQ0FBQztBQUN2QixDQUFDLENBQUM7QUFFRixNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxTQUFjLEVBQStCLEVBQUU7SUFDN0UsT0FBTyxPQUFPLFNBQVMsSUFBSSxVQUFVLElBQUksU0FBUyxDQUFDLGtCQUFrQixDQUFDLEtBQUssU0FBUyxDQUFDO0FBQ3ZGLENBQUMsQ0FBQztBQUVGLDJDQUEyQztBQUMzQyx5Q0FBeUM7QUFDekMsd0NBQXdDO0FBQ3hDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBaURHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBRyxDQUFtQixPQUEwQixFQUFvQixFQUFFO0lBQzNGLE9BQU8sWUFBWSxDQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQ3pDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ICQsIFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB0eXBlIHsgSlNYTm9kZSB9IGZyb20gJy4uL3JlbmRlci9qc3gvdHlwZXMvanN4LW5vZGUnO1xuaW1wb3J0IHsgT25SZW5kZXJQcm9wIH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcbmltcG9ydCB0eXBlIHsgQ29tcG9uZW50QmFzZVByb3BzIH0gZnJvbSAnLi4vcmVuZGVyL2pzeC90eXBlcy9qc3gtcXdpay1hdHRyaWJ1dGVzJztcbmltcG9ydCB0eXBlIHsgRnVuY3Rpb25Db21wb25lbnQgfSBmcm9tICcuLi9yZW5kZXIvanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IGpzeCB9IGZyb20gJy4uL3JlbmRlci9qc3gvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBNdXRhYmxlV3JhcHBlciB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBTRVJJQUxJWkFCTEVfU1RBVEUgfSBmcm9tICcuLi9vYmplY3Qvc2VyaWFsaXplcnMnO1xuaW1wb3J0IHsgcVRlc3QgfSBmcm9tICcuLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgVmlydHVhbCB9IGZyb20gJy4uL3JlbmRlci9qc3gvdXRpbHMucHVibGljJztcbmltcG9ydCB7IGFzc2VydFFybCB9IGZyb20gJy4uL2ltcG9ydC9xcmwtY2xhc3MnO1xuXG4vKipcbiAqIEluZmVycyBgUHJvcHNgIGZyb20gdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiBleHBvcnQgY29uc3QgT3RoZXJDb21wb25lbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgcmV0dXJuICQoKCkgPT4gPENvdW50ZXIgdmFsdWU9ezEwMH0gLz4pO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCB0eXBlIFByb3BzT2Y8Q09NUCBleHRlbmRzIENvbXBvbmVudDxhbnk+PiA9IENPTVAgZXh0ZW5kcyBDb21wb25lbnQ8aW5mZXIgUFJPUFM+XG4gID8gTm9uTnVsbGFibGU8UFJPUFM+XG4gIDogbmV2ZXI7XG5cbi8qKlxuICogVHlwZSByZXByZXNlbnRpbmcgdGhlIFF3aWsgY29tcG9uZW50LlxuICpcbiAqIGBDb21wb25lbnRgIGlzIHRoZSB0eXBlIHJldHVybmVkIGJ5IGludm9raW5nIGBjb21wb25lbnQkYC5cbiAqXG4gKiBgYGBcbiAqIGludGVyZmFjZSBNeUNvbXBvbmVudFByb3BzIHtcbiAqICAgc29tZVByb3A6IHN0cmluZztcbiAqIH1cbiAqIGNvbnN0IE15Q29tcG9uZW50OiBDb21wb25lbnQ8TXlDb21wb25lbnRQcm9wcz4gPSBjb21wb25lbnQkKChwcm9wczogTXlDb21wb25lbnRQcm9wcykgPT4ge1xuICogICByZXR1cm4gPHNwYW4+e3Byb3BzLnNvbWVQcm9wfTwvc3Bhbj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IHR5cGUgQ29tcG9uZW50PFBST1BTIGV4dGVuZHMge30+ID0gRnVuY3Rpb25Db21wb25lbnQ8UHVibGljUHJvcHM8UFJPUFM+PjtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIFB1YmxpY1Byb3BzPFBST1BTIGV4dGVuZHMge30+ID0gTXV0YWJsZVByb3BzPFBST1BTPiAmIENvbXBvbmVudEJhc2VQcm9wcztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIE11dGFibGVQcm9wczxQUk9QUyBleHRlbmRzIHt9PiA9IHtcbiAgW0sgaW4ga2V5b2YgUFJPUFNdOiBQUk9QU1tLXSB8IE11dGFibGVXcmFwcGVyPFBST1BTW0tdPjtcbn07XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlcjxUPiA9IFFSTDwodmFsdWU6IFQpID0+IGFueT47XG5cbi8vIGNvbnN0IEVMRU1FTlRTX1NLSVBfS0VZOiBKU1hUYWdOYW1lW10gPSBbJ2h0bWwnLCAnYm9keScsICdoZWFkJ107XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI2NvbXBvbmVudFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNjb21wb25lbnQgaW5zdGVhZClcbi8qKlxuICogRGVjbGFyZSBhIFF3aWsgY29tcG9uZW50IHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIFVJLlxuICpcbiAqIFVzZSBgY29tcG9uZW50JGAgdG8gZGVjbGFyZSBhIFF3aWsgY29tcG9uZW50LiBBIFF3aWsgY29tcG9uZW50IGlzIGEgc3BlY2lhbCBraW5kIG9mIGNvbXBvbmVudFxuICogdGhhdCBhbGxvd3MgdGhlIFF3aWsgZnJhbWV3b3JrIHRvIGxhenkgbG9hZCBhbmQgZXhlY3V0ZSB0aGUgY29tcG9uZW50IGluZGVwZW5kZW50bHkgb2Ygb3RoZXJcbiAqIFF3aWsgY29tcG9uZW50cyBhcyB3ZWxsIGFzIGxhenkgbG9hZCB0aGUgY29tcG9uZW50J3MgbGlmZS1jeWNsZSBob29rcyBhbmQgZXZlbnQgaGFuZGxlcnMuXG4gKlxuICogU2lkZSBub3RlOiBZb3UgY2FuIGFsc28gZGVjbGFyZSByZWd1bGFyIChzdGFuZGFyZCBKU1gpIGNvbXBvbmVudHMgdGhhdCB3aWxsIGhhdmUgc3RhbmRhcmRcbiAqIHN5bmNocm9ub3VzIGJlaGF2aW9yLlxuICpcbiAqIFF3aWsgY29tcG9uZW50IGlzIGEgZmFjYWRlIHRoYXQgZGVzY3JpYmVzIGhvdyB0aGUgY29tcG9uZW50IHNob3VsZCBiZSB1c2VkIHdpdGhvdXQgZm9yY2luZyB0aGVcbiAqIGltcGxlbWVudGF0aW9uIG9mIHRoZSBjb21wb25lbnQgdG8gYmUgZWFnZXJseSBsb2FkZWQuIEEgbWluaW11bSBRd2lrIGRlZmluaXRpb24gY29uc2lzdHMgb2Y6XG4gKlxuICogIyMjIEV4YW1wbGU6XG4gKlxuICogQW4gZXhhbXBsZSBzaG93aW5nIGhvdyB0byBjcmVhdGUgYSBjb3VudGVyIGNvbXBvbmVudDpcbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBpbnRlcmZhY2UgQ291bnRlclByb3BzIHtcbiAqICAgaW5pdGlhbFZhbHVlPzogbnVtYmVyO1xuICogICBzdGVwPzogbnVtYmVyO1xuICogfVxuICogZXhwb3J0IGNvbnN0IENvdW50ZXIgPSBjb21wb25lbnQkKChwcm9wczogQ291bnRlclByb3BzKSA9PiB7XG4gKiAgIGNvbnN0IHN0YXRlID0gdXNlU3RvcmUoeyBjb3VudDogcHJvcHMuaW5pdGlhbFZhbHVlIHx8IDAgfSk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPGRpdj5cbiAqICAgICAgIDxzcGFuPntzdGF0ZS5jb3VudH08L3NwYW4+XG4gKiAgICAgICA8YnV0dG9uIG9uQ2xpY2skPXsoKSA9PiAoc3RhdGUuY291bnQgKz0gcHJvcHMuc3RlcCB8fCAxKX0+KzwvYnV0dG9uPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiAtIGBjb21wb25lbnQkYCBpcyBob3cgYSBjb21wb25lbnQgZ2V0cyBkZWNsYXJlZC5cbiAqIC0gYHsgdmFsdWU/OiBudW1iZXI7IHN0ZXA/OiBudW1iZXIgfWAgZGVjbGFyZXMgdGhlIHB1YmxpYyAocHJvcHMpIGludGVyZmFjZSBvZiB0aGUgY29tcG9uZW50LlxuICogLSBgeyBjb3VudDogbnVtYmVyIH1gIGRlY2xhcmVzIHRoZSBwcml2YXRlIChzdGF0ZSkgaW50ZXJmYWNlIG9mIHRoZSBjb21wb25lbnQuXG4gKlxuICogVGhlIGFib3ZlIGNhbiB0aGVuIGJlIHVzZWQgbGlrZSBzbzpcbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBjb25zdCBPdGhlckNvbXBvbmVudCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICByZXR1cm4gPENvdW50ZXIgaW5pdGlhbFZhbHVlPXsxMDB9IC8+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBTZWUgYWxzbzogYGNvbXBvbmVudGAsIGB1c2VDbGVhbnVwYCwgYG9uUmVzdW1lYCwgYG9uUGF1c2VgLCBgdXNlT25gLCBgdXNlT25Eb2N1bWVudGAsXG4gKiBgdXNlT25XaW5kb3dgLCBgdXNlU3R5bGVzYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IGNvbXBvbmVudFFybCA9IDxQUk9QUyBleHRlbmRzIHt9PihcbiAgb25SZW5kZXJRcmw6IFFSTDxPblJlbmRlckZuPFBST1BTPj5cbik6IENvbXBvbmVudDxQUk9QUz4gPT4ge1xuICAvLyBSZXR1cm4gYSBRQ29tcG9uZW50IEZhY3RvcnkgZnVuY3Rpb24uXG4gIGZ1bmN0aW9uIFF3aWtDb21wb25lbnQocHJvcHM6IFB1YmxpY1Byb3BzPFBST1BTPiwga2V5OiBzdHJpbmcgfCBudWxsKTogSlNYTm9kZSB7XG4gICAgYXNzZXJ0UXJsKG9uUmVuZGVyUXJsKTtcbiAgICBjb25zdCBoYXNoID0gcVRlc3QgPyAnc1gnIDogb25SZW5kZXJRcmwuJGhhc2gkO1xuICAgIGNvbnN0IGZpbmFsS2V5ID0gaGFzaCArICc6JyArIChrZXkgPyBrZXkgOiAnJyk7XG4gICAgcmV0dXJuIGpzeChWaXJ0dWFsLCB7IFtPblJlbmRlclByb3BdOiBvblJlbmRlclFybCwgLi4ucHJvcHMgfSwgZmluYWxLZXkpIGFzIGFueTtcbiAgfVxuICAoUXdpa0NvbXBvbmVudCBhcyBhbnkpW1NFUklBTElaQUJMRV9TVEFURV0gPSBbb25SZW5kZXJRcmxdO1xuICByZXR1cm4gUXdpa0NvbXBvbmVudDtcbn07XG5cbmV4cG9ydCBjb25zdCBpc1F3aWtDb21wb25lbnQgPSAoY29tcG9uZW50OiBhbnkpOiBjb21wb25lbnQgaXMgQ29tcG9uZW50PGFueT4gPT4ge1xuICByZXR1cm4gdHlwZW9mIGNvbXBvbmVudCA9PSAnZnVuY3Rpb24nICYmIGNvbXBvbmVudFtTRVJJQUxJWkFCTEVfU1RBVEVdICE9PSB1bmRlZmluZWQ7XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNjb21wb25lbnRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjY29tcG9uZW50IGluc3RlYWQpXG4vKipcbiAqIERlY2xhcmUgYSBRd2lrIGNvbXBvbmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBVSS5cbiAqXG4gKiBVc2UgYGNvbXBvbmVudCRgIHRvIGRlY2xhcmUgYSBRd2lrIGNvbXBvbmVudC4gQSBRd2lrIGNvbXBvbmVudCBpcyBhIHNwZWNpYWwga2luZCBvZiBjb21wb25lbnRcbiAqIHRoYXQgYWxsb3dzIHRoZSBRd2lrIGZyYW1ld29yayB0byBsYXp5IGxvYWQgYW5kIGV4ZWN1dGUgdGhlIGNvbXBvbmVudCBpbmRlcGVuZGVudGx5IG9mIG90aGVyXG4gKiBRd2lrIGNvbXBvbmVudHMgYXMgd2VsbCBhcyBsYXp5IGxvYWQgdGhlIGNvbXBvbmVudCdzIGxpZmUtY3ljbGUgaG9va3MgYW5kIGV2ZW50IGhhbmRsZXJzLlxuICpcbiAqIFNpZGUgbm90ZTogWW91IGNhbiBhbHNvIGRlY2xhcmUgcmVndWxhciAoc3RhbmRhcmQgSlNYKSBjb21wb25lbnRzIHRoYXQgd2lsbCBoYXZlIHN0YW5kYXJkXG4gKiBzeW5jaHJvbm91cyBiZWhhdmlvci5cbiAqXG4gKiBRd2lrIGNvbXBvbmVudCBpcyBhIGZhY2FkZSB0aGF0IGRlc2NyaWJlcyBob3cgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgdXNlZCB3aXRob3V0IGZvcmNpbmcgdGhlXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgY29tcG9uZW50IHRvIGJlIGVhZ2VybHkgbG9hZGVkLiBBIG1pbmltdW0gUXdpayBkZWZpbml0aW9uIGNvbnNpc3RzIG9mOlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIEFuIGV4YW1wbGUgc2hvd2luZyBob3cgdG8gY3JlYXRlIGEgY291bnRlciBjb21wb25lbnQ6XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgaW50ZXJmYWNlIENvdW50ZXJQcm9wcyB7XG4gKiAgIGluaXRpYWxWYWx1ZT86IG51bWJlcjtcbiAqICAgc3RlcD86IG51bWJlcjtcbiAqIH1cbiAqIGV4cG9ydCBjb25zdCBDb3VudGVyID0gY29tcG9uZW50JCgocHJvcHM6IENvdW50ZXJQcm9wcykgPT4ge1xuICogICBjb25zdCBzdGF0ZSA9IHVzZVN0b3JlKHsgY291bnQ6IHByb3BzLmluaXRpYWxWYWx1ZSB8fCAwIH0pO1xuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8c3Bhbj57c3RhdGUuY291bnR9PC9zcGFuPlxuICogICAgICAgPGJ1dHRvbiBvbkNsaWNrJD17KCkgPT4gKHN0YXRlLmNvdW50ICs9IHByb3BzLnN0ZXAgfHwgMSl9Pis8L2J1dHRvbj5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogLSBgY29tcG9uZW50JGAgaXMgaG93IGEgY29tcG9uZW50IGdldHMgZGVjbGFyZWQuXG4gKiAtIGB7IHZhbHVlPzogbnVtYmVyOyBzdGVwPzogbnVtYmVyIH1gIGRlY2xhcmVzIHRoZSBwdWJsaWMgKHByb3BzKSBpbnRlcmZhY2Ugb2YgdGhlIGNvbXBvbmVudC5cbiAqIC0gYHsgY291bnQ6IG51bWJlciB9YCBkZWNsYXJlcyB0aGUgcHJpdmF0ZSAoc3RhdGUpIGludGVyZmFjZSBvZiB0aGUgY29tcG9uZW50LlxuICpcbiAqIFRoZSBhYm92ZSBjYW4gdGhlbiBiZSB1c2VkIGxpa2Ugc286XG4gKlxuICogYGBgdHN4XG4gKiBleHBvcnQgY29uc3QgT3RoZXJDb21wb25lbnQgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgcmV0dXJuIDxDb3VudGVyIGluaXRpYWxWYWx1ZT17MTAwfSAvPjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogU2VlIGFsc286IGBjb21wb25lbnRgLCBgdXNlQ2xlYW51cGAsIGBvblJlc3VtZWAsIGBvblBhdXNlYCwgYHVzZU9uYCwgYHVzZU9uRG9jdW1lbnRgLFxuICogYHVzZU9uV2luZG93YCwgYHVzZVN0eWxlc2BcbiAqXG4gKiBAcHVibGljXG4gKi9cbi8vIDwvZG9jcz5cbmV4cG9ydCBjb25zdCBjb21wb25lbnQkID0gPFBST1BTIGV4dGVuZHMge30+KG9uTW91bnQ6IE9uUmVuZGVyRm48UFJPUFM+KTogQ29tcG9uZW50PFBST1BTPiA9PiB7XG4gIHJldHVybiBjb21wb25lbnRRcmw8UFJPUFM+KCQob25Nb3VudCkpO1xufTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCB0eXBlIE9uUmVuZGVyRm48UFJPUFM+ID0gKHByb3BzOiBQUk9QUykgPT4gSlNYTm9kZTxhbnk+IHwgbnVsbCB8ICgoKSA9PiBKU1hOb2RlPGFueT4pO1xuXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlckZhY3RvcnlPdXRwdXQ8UFJPUFM+IHtcbiAgcmVuZGVyUVJMOiBRUkw8T25SZW5kZXJGbjxQUk9QUz4+O1xuICB3YWl0T246IGFueVtdO1xufVxuIl19","/* eslint-disable */\nimport { EMPTY_ARRAY } from '../../util/flyweight';\nimport { JSXNodeImpl } from './jsx-runtime';\nimport { isArray } from '../../util/types';\nexport const flattenArray = (array, dst) => {\n    // Yes this function is just Array.flat, but we need to run on old versions of Node.\n    if (!dst)\n        dst = [];\n    for (const item of array) {\n        if (isArray(item)) {\n            flattenArray(item, dst);\n        }\n        else {\n            dst.push(item);\n        }\n    }\n    return dst;\n};\n/**\n * @public\n */\nexport function h(type, props, ...children) {\n    // Using legacy h() jsx transform and morphing it\n    // so it can use the modern vdom structure\n    // https://reactjs.org/blog/2020/09/22/introducing-the-new-jsx-transform.html\n    // https://www.typescriptlang.org/tsconfig#jsxImportSource\n    const normalizedProps = {\n        children: arguments.length > 2 ? flattenArray(children) : EMPTY_ARRAY,\n    };\n    let key;\n    let i;\n    for (i in props) {\n        if (i == 'key')\n            key = props[i];\n        else\n            normalizedProps[i] = props[i];\n    }\n    return new JSXNodeImpl(type, normalizedProps, key);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmFjdG9yeS5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvanN4L2ZhY3RvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CO0FBQ3BCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNuRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRzVDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUUzQyxNQUFNLENBQUMsTUFBTSxZQUFZLEdBQUcsQ0FBSSxLQUFrQixFQUFFLEdBQVMsRUFBTyxFQUFFO0lBQ3BFLG9GQUFvRjtJQUNwRixJQUFJLENBQUMsR0FBRztRQUFFLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDbkIsS0FBSyxNQUFNLElBQUksSUFBSSxLQUFLLEVBQUU7UUFDeEIsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakIsWUFBWSxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztTQUN6QjthQUFNO1lBQ0wsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUNoQjtLQUNGO0lBQ0QsT0FBTyxHQUFHLENBQUM7QUFDYixDQUFDLENBQUM7QUFFRjs7R0FFRztBQUNILE1BQU0sVUFBVSxDQUFDLENBQ2YsSUFBVSxFQUNWLEtBQW1CLEVBQ25CLEdBQUcsUUFBZTtJQUVsQixpREFBaUQ7SUFDakQsMENBQTBDO0lBQzFDLDZFQUE2RTtJQUM3RSwwREFBMEQ7SUFFMUQsTUFBTSxlQUFlLEdBQVE7UUFDM0IsUUFBUSxFQUFFLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVc7S0FDdEUsQ0FBQztJQUVGLElBQUksR0FBUSxDQUFDO0lBQ2IsSUFBSSxDQUFNLENBQUM7SUFFWCxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7UUFDZixJQUFJLENBQUMsSUFBSSxLQUFLO1lBQUUsR0FBRyxHQUFJLEtBQTZCLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBQ25ELGVBQWUsQ0FBQyxDQUFDLENBQUMsR0FBSSxLQUE2QixDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzdEO0lBRUQsT0FBTyxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0FBQ3JELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHsgRU1QVFlfQVJSQVkgfSBmcm9tICcuLi8uLi91dGlsL2ZseXdlaWdodCc7XG5pbXBvcnQgeyBKU1hOb2RlSW1wbCB9IGZyb20gJy4vanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBRd2lrSlNYIH0gZnJvbSAnLi90eXBlcy9qc3gtcXdpayc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hOb2RlIH0gZnJvbSAnLi90eXBlcy9qc3gtbm9kZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vLi4vdXRpbC90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBmbGF0dGVuQXJyYXkgPSA8VD4oYXJyYXk6IChUIHwgVFtdKVtdLCBkc3Q/OiBUW10pOiBUW10gPT4ge1xuICAvLyBZZXMgdGhpcyBmdW5jdGlvbiBpcyBqdXN0IEFycmF5LmZsYXQsIGJ1dCB3ZSBuZWVkIHRvIHJ1biBvbiBvbGQgdmVyc2lvbnMgb2YgTm9kZS5cbiAgaWYgKCFkc3QpIGRzdCA9IFtdO1xuICBmb3IgKGNvbnN0IGl0ZW0gb2YgYXJyYXkpIHtcbiAgICBpZiAoaXNBcnJheShpdGVtKSkge1xuICAgICAgZmxhdHRlbkFycmF5KGl0ZW0sIGRzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZHN0O1xufTtcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoPFRZUEUgZXh0ZW5kcyBzdHJpbmcgfCBGdW5jdGlvbkNvbXBvbmVudDxQUk9QUz4sIFBST1BTIGV4dGVuZHMge30gPSB7fT4oXG4gIHR5cGU6IFRZUEUsXG4gIHByb3BzOiBQUk9QUyB8IG51bGwsXG4gIC4uLmNoaWxkcmVuOiBhbnlbXVxuKTogSlNYTm9kZTxUWVBFPiB7XG4gIC8vIFVzaW5nIGxlZ2FjeSBoKCkganN4IHRyYW5zZm9ybSBhbmQgbW9ycGhpbmcgaXRcbiAgLy8gc28gaXQgY2FuIHVzZSB0aGUgbW9kZXJuIHZkb20gc3RydWN0dXJlXG4gIC8vIGh0dHBzOi8vcmVhY3Rqcy5vcmcvYmxvZy8yMDIwLzA5LzIyL2ludHJvZHVjaW5nLXRoZS1uZXctanN4LXRyYW5zZm9ybS5odG1sXG4gIC8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy90c2NvbmZpZyNqc3hJbXBvcnRTb3VyY2VcblxuICBjb25zdCBub3JtYWxpemVkUHJvcHM6IGFueSA9IHtcbiAgICBjaGlsZHJlbjogYXJndW1lbnRzLmxlbmd0aCA+IDIgPyBmbGF0dGVuQXJyYXkoY2hpbGRyZW4pIDogRU1QVFlfQVJSQVksXG4gIH07XG5cbiAgbGV0IGtleTogYW55O1xuICBsZXQgaTogYW55O1xuXG4gIGZvciAoaSBpbiBwcm9wcykge1xuICAgIGlmIChpID09ICdrZXknKSBrZXkgPSAocHJvcHMgYXMgUmVjb3JkPHN0cmluZywgYW55PilbaV07XG4gICAgZWxzZSBub3JtYWxpemVkUHJvcHNbaV0gPSAocHJvcHMgYXMgUmVjb3JkPHN0cmluZywgYW55PilbaV07XG4gIH1cblxuICByZXR1cm4gbmV3IEpTWE5vZGVJbXBsKHR5cGUsIG5vcm1hbGl6ZWRQcm9wcywga2V5KTtcbn1cblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBkZWNsYXJlIG5hbWVzcGFjZSBoIHtcbiAgZXhwb3J0IGZ1bmN0aW9uIGgodHlwZTogYW55KTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBOb2RlLCBkYXRhOiBhbnkpOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHR5cGU6IGFueSwgdGV4dDogc3RyaW5nKTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBhbnksIGNoaWxkcmVuOiBBcnJheTxhbnk+KTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaCh0eXBlOiBhbnksIGRhdGE6IGFueSwgdGV4dDogc3RyaW5nKTogSlNYTm9kZTxhbnk+O1xuICBleHBvcnQgZnVuY3Rpb24gaChcbiAgICB0eXBlOiBhbnksXG4gICAgZGF0YTogYW55LFxuICAgIGNoaWxkcmVuOiBBcnJheTxKU1hOb2RlPGFueT4gfCB1bmRlZmluZWQgfCBudWxsPlxuICApOiBKU1hOb2RlPGFueT47XG4gIGV4cG9ydCBmdW5jdGlvbiBoKHNlbDogYW55LCBkYXRhOiBhbnkgfCBudWxsLCBjaGlsZHJlbjogSlNYTm9kZTxhbnk+KTogSlNYTm9kZTxhbnk+O1xuXG4gIGV4cG9ydCBuYW1lc3BhY2UgSlNYIHtcbiAgICBleHBvcnQgaW50ZXJmYWNlIEVsZW1lbnQgZXh0ZW5kcyBRd2lrSlNYLkVsZW1lbnQge31cbiAgICBleHBvcnQgaW50ZXJmYWNlIEludHJpbnNpY0F0dHJpYnV0ZXMgZXh0ZW5kcyBRd2lrSlNYLkludHJpbnNpY0F0dHJpYnV0ZXMge31cbiAgICBleHBvcnQgaW50ZXJmYWNlIEludHJpbnNpY0VsZW1lbnRzIGV4dGVuZHMgUXdpa0pTWC5JbnRyaW5zaWNFbGVtZW50cyB7fVxuICAgIGV4cG9ydCBpbnRlcmZhY2UgRWxlbWVudENoaWxkcmVuQXR0cmlidXRlIHtcbiAgICAgIGNoaWxkcmVuPzogYW55O1xuICAgIH1cbiAgfVxufVxuIl19","import { QSlotS } from '../../util/markers';\nimport { Virtual } from './utils.public';\nimport { jsx } from './jsx-runtime';\n/**\n * @public\n */\nexport const Slot = (props) => {\n    const name = props.name ?? '';\n    return jsx(Virtual, {\n        [QSlotS]: '',\n    }, name);\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xvdC5wdWJsaWMuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvcmVuZGVyL2pzeC9zbG90LnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDNUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHcEM7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBRVosQ0FBQyxLQUFLLEVBQUUsRUFBRTtJQUNiLE1BQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO0lBQzlCLE9BQU8sR0FBRyxDQUNSLE9BQU8sRUFDUDtRQUNFLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRTtLQUNiLEVBQ0QsSUFBSSxDQUNMLENBQUM7QUFDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBRU2xvdFMgfSBmcm9tICcuLi8uLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgVmlydHVhbCB9IGZyb20gJy4vdXRpbHMucHVibGljJztcbmltcG9ydCB7IGpzeCB9IGZyb20gJy4vanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHR5cGUgeyBGdW5jdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vdHlwZXMvanN4LW5vZGUnO1xuXG4vKipcbiAqIEBwdWJsaWNcbiAqL1xuZXhwb3J0IGNvbnN0IFNsb3Q6IEZ1bmN0aW9uQ29tcG9uZW50PHtcbiAgbmFtZT86IHN0cmluZztcbn0+ID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IG5hbWUgPSBwcm9wcy5uYW1lID8/ICcnO1xuICByZXR1cm4ganN4KFxuICAgIFZpcnR1YWwsXG4gICAge1xuICAgICAgW1FTbG90U106ICcnLFxuICAgIH0sXG4gICAgbmFtZVxuICApO1xufTtcbiJdfQ==","/**\n * QWIK_VERSION\n * @public\n */\nexport const version = globalThis.QWIK_VERSION;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVyc2lvbi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS92ZXJzaW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBSSxVQUFrQixDQUFDLFlBQXNCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFFXSUtfVkVSU0lPTlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgY29uc3QgdmVyc2lvbiA9IChnbG9iYWxUaGlzIGFzIGFueSkuUVdJS19WRVJTSU9OIGFzIHN0cmluZztcbiJdfQ==","import { isDocument } from '../../util/element';\nimport { isJSXNode, jsx } from '../jsx/jsx-runtime';\nimport { domToVnode, visitJsxNode } from './visitor';\nimport { getDocument } from '../../util/dom';\nimport { qDev } from '../../util/qdev';\nimport { version } from '../../version';\nimport { QContainerAttr } from '../../util/markers';\nimport { appendQwikDevTools } from '../../props/props';\nimport { qError, QError_cannotRenderOverExistingContainer } from '../../error/error';\nimport { directSetAttribute } from '../fast-calls';\nimport { processData, wrapJSX } from './render-dom';\nimport { getContainerState } from '../container';\nimport { postRendering } from './notify-render';\nimport { createRenderContext } from '../execute-component';\nimport { executeDOMRender, printRenderStats } from './operations';\n/**\n * Render JSX.\n *\n * Use this method to render JSX. This function does reconciling which means\n * it always tries to reuse what is already in the DOM (rather then destroy and\n * recreate content.)\n *\n * @param parent - Element which will act as a parent to `jsxNode`. When\n *     possible the rendering will try to reuse existing nodes.\n * @param jsxNode - JSX to render\n * @alpha\n */\nexport const render = async (parent, jsxNode, opts) => {\n    // If input is not JSX, convert it\n    if (!isJSXNode(jsxNode)) {\n        jsxNode = jsx(jsxNode, null);\n    }\n    const doc = getDocument(parent);\n    const containerEl = getElement(parent);\n    if (qDev && containerEl.hasAttribute(QContainerAttr)) {\n        throw qError(QError_cannotRenderOverExistingContainer, containerEl);\n    }\n    injectQContainer(containerEl);\n    const containerState = getContainerState(containerEl);\n    const envData = opts?.envData;\n    if (envData) {\n        Object.assign(containerState.$envData$, envData);\n    }\n    containerState.$hostsRendering$ = new Set();\n    containerState.$renderPromise$ = renderRoot(containerEl, jsxNode, doc, containerState, containerEl);\n    const renderCtx = await containerState.$renderPromise$;\n    await postRendering(containerState, renderCtx);\n};\nconst renderRoot = async (parent, jsxNode, doc, containerState, containerEl) => {\n    const ctx = createRenderContext(doc, containerState);\n    const staticCtx = ctx.$static$;\n    // staticCtx.$roots$.push(parent as Element);\n    const processedNodes = await processData(jsxNode);\n    const rootJsx = domToVnode(parent);\n    await visitJsxNode(ctx, rootJsx, wrapJSX(parent, processedNodes), 0);\n    staticCtx.$operations$.push(...staticCtx.$postOperations$);\n    executeDOMRender(staticCtx);\n    if (qDev) {\n        appendQwikDevTools(containerEl);\n        printRenderStats(staticCtx);\n    }\n    return staticCtx;\n};\nexport const getElement = (docOrElm) => {\n    return isDocument(docOrElm) ? docOrElm.documentElement : docOrElm;\n};\nexport const injectQContainer = (containerEl) => {\n    directSetAttribute(containerEl, 'q:version', version ?? 'dev');\n    directSetAttribute(containerEl, QContainerAttr, 'resumed');\n    directSetAttribute(containerEl, 'q:render', qDev ? 'dom-dev' : 'dom');\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvZG9tL3JlbmRlci5wdWJsaWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFFcEQsT0FBTyxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDckQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzdDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUN2QyxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ3hDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUN2RCxPQUFPLEVBQUUsTUFBTSxFQUFFLHdDQUF3QyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDckYsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BELE9BQU8sRUFBa0IsaUJBQWlCLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFDakUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ2hELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQzNELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQVNsRTs7Ozs7Ozs7Ozs7R0FXRztBQUNILE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxLQUFLLEVB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Q0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDeEUsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNEb2N1bWVudCB9IGZyb20gJy4uLy4uL3V0aWwvZWxlbWVudCc7XG5pbXBvcnQgeyBpc0pTWE5vZGUsIGpzeCB9IGZyb20gJy4uL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgdHlwZSB7IEpTWE5vZGUsIEZ1bmN0aW9uQ29tcG9uZW50IH0gZnJvbSAnLi4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7IGRvbVRvVm5vZGUsIHZpc2l0SnN4Tm9kZSB9IGZyb20gJy4vdmlzaXRvcic7XG5pbXBvcnQgeyBnZXREb2N1bWVudCB9IGZyb20gJy4uLy4uL3V0aWwvZG9tJztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi8uLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uLy4uL3ZlcnNpb24nO1xuaW1wb3J0IHsgUUNvbnRhaW5lckF0dHIgfSBmcm9tICcuLi8uLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgYXBwZW5kUXdpa0RldlRvb2xzIH0gZnJvbSAnLi4vLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfY2Fubm90UmVuZGVyT3ZlckV4aXN0aW5nQ29udGFpbmVyIH0gZnJvbSAnLi4vLi4vZXJyb3IvZXJyb3InO1xuaW1wb3J0IHsgZGlyZWN0U2V0QXR0cmlidXRlIH0gZnJvbSAnLi4vZmFzdC1jYWxscyc7XG5pbXBvcnQgeyBwcm9jZXNzRGF0YSwgd3JhcEpTWCB9IGZyb20gJy4vcmVuZGVyLWRvbSc7XG5pbXBvcnQgeyBDb250YWluZXJTdGF0ZSwgZ2V0Q29udGFpbmVyU3RhdGUgfSBmcm9tICcuLi9jb250YWluZXInO1xuaW1wb3J0IHsgcG9zdFJlbmRlcmluZyB9IGZyb20gJy4vbm90aWZ5LXJlbmRlcic7XG5pbXBvcnQgeyBjcmVhdGVSZW5kZXJDb250ZXh0IH0gZnJvbSAnLi4vZXhlY3V0ZS1jb21wb25lbnQnO1xuaW1wb3J0IHsgZXhlY3V0ZURPTVJlbmRlciwgcHJpbnRSZW5kZXJTdGF0cyB9IGZyb20gJy4vb3BlcmF0aW9ucyc7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVuZGVyT3B0aW9ucyB7XG4gIGVudkRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG4vKipcbiAqIFJlbmRlciBKU1guXG4gKlxuICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlbmRlciBKU1guIFRoaXMgZnVuY3Rpb24gZG9lcyByZWNvbmNpbGluZyB3aGljaCBtZWFuc1xuICogaXQgYWx3YXlzIHRyaWVzIHRvIHJldXNlIHdoYXQgaXMgYWxyZWFkeSBpbiB0aGUgRE9NIChyYXRoZXIgdGhlbiBkZXN0cm95IGFuZFxuICogcmVjcmVhdGUgY29udGVudC4pXG4gKlxuICogQHBhcmFtIHBhcmVudCAtIEVsZW1lbnQgd2hpY2ggd2lsbCBhY3QgYXMgYSBwYXJlbnQgdG8gYGpzeE5vZGVgLiBXaGVuXG4gKiAgICAgcG9zc2libGUgdGhlIHJlbmRlcmluZyB3aWxsIHRyeSB0byByZXVzZSBleGlzdGluZyBub2Rlcy5cbiAqIEBwYXJhbSBqc3hOb2RlIC0gSlNYIHRvIHJlbmRlclxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXIgPSBhc3luYyAoXG4gIHBhcmVudDogRWxlbWVudCB8IERvY3VtZW50LFxuICBqc3hOb2RlOiBKU1hOb2RlIHwgRnVuY3Rpb25Db21wb25lbnQ8YW55PixcbiAgb3B0cz86IFJlbmRlck9wdGlvbnNcbik6IFByb21pc2U8dm9pZD4gPT4ge1xuICAvLyBJZiBpbnB1dCBpcyBub3QgSlNYLCBjb252ZXJ0IGl0XG4gIGlmICghaXNKU1hOb2RlKGpzeE5vZGUpKSB7XG4gICAganN4Tm9kZSA9IGpzeChqc3hOb2RlLCBudWxsKTtcbiAgfVxuICBjb25zdCBkb2MgPSBnZXREb2N1bWVudChwYXJlbnQpO1xuICBjb25zdCBjb250YWluZXJFbCA9IGdldEVsZW1lbnQocGFyZW50KTtcbiAgaWYgKHFEZXYgJiYgY29udGFpbmVyRWwuaGFzQXR0cmlidXRlKFFDb250YWluZXJBdHRyKSkge1xuICAgIHRocm93IHFFcnJvcihRRXJyb3JfY2Fubm90UmVuZGVyT3ZlckV4aXN0aW5nQ29udGFpbmVyLCBjb250YWluZXJFbCk7XG4gIH1cbiAgaW5qZWN0UUNvbnRhaW5lcihjb250YWluZXJFbCk7XG5cbiAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBnZXRDb250YWluZXJTdGF0ZShjb250YWluZXJFbCk7XG4gIGNvbnN0IGVudkRhdGEgPSBvcHRzPy5lbnZEYXRhO1xuICBpZiAoZW52RGF0YSkge1xuICAgIE9iamVjdC5hc3NpZ24oY29udGFpbmVyU3RhdGUuJGVudkRhdGEkLCBlbnZEYXRhKTtcbiAgfVxuICBjb250YWluZXJTdGF0ZS4kaG9zdHNSZW5kZXJpbmckID0gbmV3IFNldCgpO1xuICBjb250YWluZXJTdGF0ZS4kcmVuZGVyUHJvbWlzZSQgPSByZW5kZXJSb290KFxuICAgIGNvbnRhaW5lckVsLFxuICAgIGpzeE5vZGUsXG4gICAgZG9jLFxuICAgIGNvbnRhaW5lclN0YXRlLFxuICAgIGNvbnRhaW5lckVsXG4gICk7XG5cbiAgY29uc3QgcmVuZGVyQ3R4ID0gYXdhaXQgY29udGFpbmVyU3RhdGUuJHJlbmRlclByb21pc2UkO1xuICBhd2FpdCBwb3N0UmVuZGVyaW5nKGNvbnRhaW5lclN0YXRlLCByZW5kZXJDdHgpO1xufTtcblxuY29uc3QgcmVuZGVyUm9vdCA9IGFzeW5jIChcbiAgcGFyZW50OiBFbGVtZW50LFxuICBqc3hOb2RlOiBKU1hOb2RlPHVua25vd24+IHwgRnVuY3Rpb25Db21wb25lbnQ8YW55PixcbiAgZG9jOiBEb2N1bWVudCxcbiAgY29udGFpbmVyU3RhdGU6IENvbnRhaW5lclN0YXRlLFxuICBjb250YWluZXJFbDogRWxlbWVudFxuKSA9PiB7XG4gIGNvbnN0IGN0eCA9IGNyZWF0ZVJlbmRlckNvbnRleHQoZG9jLCBjb250YWluZXJTdGF0ZSk7XG4gIGNvbnN0IHN0YXRpY0N0eCA9IGN0eC4kc3RhdGljJDtcbiAgLy8gc3RhdGljQ3R4LiRyb290cyQucHVzaChwYXJlbnQgYXMgRWxlbWVudCk7XG5cbiAgY29uc3QgcHJvY2Vzc2VkTm9kZXMgPSBhd2FpdCBwcm9jZXNzRGF0YShqc3hOb2RlKTtcbiAgY29uc3Qgcm9vdEpzeCA9IGRvbVRvVm5vZGUocGFyZW50KTtcbiAgYXdhaXQgdmlzaXRKc3hOb2RlKGN0eCwgcm9vdEpzeCwgd3JhcEpTWChwYXJlbnQsIHByb2Nlc3NlZE5vZGVzKSwgMCk7XG5cbiAgc3RhdGljQ3R4LiRvcGVyYXRpb25zJC5wdXNoKC4uLnN0YXRpY0N0eC4kcG9zdE9wZXJhdGlvbnMkKTtcbiAgZXhlY3V0ZURPTVJlbmRlcihzdGF0aWNDdHgpO1xuXG4gIGlmIChxRGV2KSB7XG4gICAgYXBwZW5kUXdpa0RldlRvb2xzKGNvbnRhaW5lckVsKTtcbiAgICBwcmludFJlbmRlclN0YXRzKHN0YXRpY0N0eCk7XG4gIH1cbiAgcmV0dXJuIHN0YXRpY0N0eDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFbGVtZW50ID0gKGRvY09yRWxtOiBEb2N1bWVudCB8IEVsZW1lbnQpOiBFbGVtZW50ID0+IHtcbiAgcmV0dXJuIGlzRG9jdW1lbnQoZG9jT3JFbG0pID8gZG9jT3JFbG0uZG9jdW1lbnRFbGVtZW50IDogZG9jT3JFbG07XG59O1xuXG5leHBvcnQgY29uc3QgaW5qZWN0UUNvbnRhaW5lciA9IChjb250YWluZXJFbDogRWxlbWVudCkgPT4ge1xuICBkaXJlY3RTZXRBdHRyaWJ1dGUoY29udGFpbmVyRWwsICdxOnZlcnNpb24nLCB2ZXJzaW9uID8/ICdkZXYnKTtcbiAgZGlyZWN0U2V0QXR0cmlidXRlKGNvbnRhaW5lckVsLCBRQ29udGFpbmVyQXR0ciwgJ3Jlc3VtZWQnKTtcbiAgZGlyZWN0U2V0QXR0cmlidXRlKGNvbnRhaW5lckVsLCAncTpyZW5kZXInLCBxRGV2ID8gJ2RvbS1kZXYnIDogJ2RvbScpO1xufTtcbiJdfQ==","import { isNotNullable, isPromise, then } from '../../util/promises';\nimport { newInvokeContext, invoke } from '../../use/use-core';\nimport { isJSXNode, jsx } from '../jsx/jsx-runtime';\nimport { isArray, isFunction, isString } from '../../util/types';\nimport { getContext, getPropsMutator } from '../../props/props';\nimport { ALLOWS_PROPS, createRenderContext, executeComponent, getNextIndex, joinClasses, stringifyStyle, } from '../execute-component';\nimport { ELEMENT_ID, OnRenderProp, QScopedStyle, QSlot, QSlotRef, QSlotS, QStyle, } from '../../util/markers';\nimport { SSRComment, InternalSSRStream, Virtual } from '../jsx/utils.public';\nimport { logError, logWarn } from '../../util/log';\nimport { addQRLListener, isOnProp, setEvent } from '../../props/props-on';\nimport { version } from '../../version';\nimport { serializeQRLs } from '../../import/qrl';\nimport { getContainerState } from '../container';\nimport { assertDefined } from '../../assert/assert';\nimport { serializeSStyle, styleHost } from '../../component/qrl-styles';\nimport { serializeVirtualAttributes, VIRTUAL } from '../dom/virtual-element';\nimport { qDev } from '../../util/qdev';\nimport { qError, QError_canNotRenderHTML } from '../../error/error';\nconst IS_HEAD = 1 << 0;\nconst IS_RAW_CONTENT = 1 << 1;\nconst IS_HTML = 1 << 2;\n/**\n * @alpha\n */\nexport const renderSSR = async (doc, node, opts) => {\n    const root = opts.containerTagName;\n    const containerEl = doc.createElement(root);\n    const containerState = getContainerState(containerEl);\n    const rctx = createRenderContext(doc, containerState);\n    const headNodes = opts.beforeContent ?? [];\n    const ssrCtx = {\n        rctx,\n        $contexts$: [],\n        projectedChildren: undefined,\n        projectedContext: undefined,\n        hostCtx: undefined,\n        invocationContext: undefined,\n        headNodes: root === 'html' ? headNodes : [],\n    };\n    const containerAttributes = {\n        ...opts.containerAttributes,\n        'q:container': 'paused',\n        'q:version': version ?? 'dev',\n        'q:render': qDev ? 'ssr-dev' : 'ssr',\n    };\n    if (opts.base) {\n        containerAttributes['q:base'] = opts.base;\n    }\n    if (opts.url) {\n        containerState.$envData$['url'] = opts.url;\n    }\n    if (opts.envData) {\n        Object.assign(containerState.$envData$, opts.envData);\n    }\n    if (root === 'html') {\n        node = jsx(root, {\n            ...containerAttributes,\n            children: [node],\n        });\n    }\n    else {\n        node = jsx(root, {\n            ...containerAttributes,\n            children: [...(headNodes ?? []), node],\n        });\n    }\n    containerState.$hostsRendering$ = new Set();\n    containerState.$renderPromise$ = Promise.resolve().then(() => renderRoot(node, ssrCtx, opts.stream, containerState, opts));\n    await containerState.$renderPromise$;\n};\nexport const renderRoot = async (node, ssrCtx, stream, containerState, opts) => {\n    const beforeClose = opts.beforeClose;\n    await renderNode(node, ssrCtx, stream, 0, (stream) => {\n        const result = beforeClose?.(ssrCtx.$contexts$, containerState);\n        if (result) {\n            return processData(result, ssrCtx, stream, 0, undefined);\n        }\n    });\n    if (qDev) {\n        if (ssrCtx.headNodes.length > 0) {\n            logError('Missing <head>. Global styles could not be rendered. Please render a <head> element at the root of the app');\n        }\n    }\n    return ssrCtx.rctx.$static$;\n};\nexport const renderNodeFunction = (node, ssrCtx, stream, flags, beforeClose) => {\n    const fn = node.type;\n    if (fn === SSRComment) {\n        stream.write(`<!--${node.props.data ?? ''}-->`);\n        return;\n    }\n    if (fn === InternalSSRStream) {\n        return renderGenerator(node, ssrCtx, stream, flags);\n    }\n    if (fn === Virtual) {\n        const elCtx = getContext(ssrCtx.rctx.$static$.$doc$.createElement(VIRTUAL));\n        return renderNodeVirtual(node, elCtx, undefined, ssrCtx, stream, flags, beforeClose);\n    }\n    const res = ssrCtx.invocationContext\n        ? invoke(ssrCtx.invocationContext, () => node.type(node.props, node.key))\n        : node.type(node.props, node.key);\n    return processData(res, ssrCtx, stream, flags, beforeClose);\n};\nexport const renderGenerator = async (node, ssrCtx, stream, flags) => {\n    const generator = node.props.children;\n    let value;\n    if (isFunction(generator)) {\n        const v = generator(stream);\n        if (isPromise(v)) {\n            return v;\n        }\n        value = v;\n    }\n    else {\n        value = generator;\n    }\n    for await (const chunk of value) {\n        await processData(chunk, ssrCtx, stream, flags, undefined);\n    }\n};\nexport const renderNodeVirtual = (node, elCtx, extraNodes, ssrCtx, stream, flags, beforeClose) => {\n    const props = node.props;\n    const renderQrl = props[OnRenderProp];\n    if (renderQrl) {\n        elCtx.$renderQrl$ = renderQrl;\n        return renderSSRComponent(ssrCtx, stream, elCtx, node, flags, beforeClose);\n    }\n    const { children, ...attributes } = node.props;\n    const isSlot = QSlotS in props;\n    const key = node.key != null ? String(node.key) : null;\n    if (isSlot) {\n        assertDefined(ssrCtx.hostCtx?.$id$, 'hostId must be defined for a slot');\n        attributes[QSlotRef] = ssrCtx.hostCtx.$id$;\n    }\n    if (key != null) {\n        attributes['q:key'] = key;\n    }\n    const url = new Map(Object.entries(attributes));\n    stream.write(`<!--qv ${serializeVirtualAttributes(url)}-->`);\n    if (extraNodes) {\n        for (const node of extraNodes) {\n            renderNodeElementSync(node.type, node.props, stream);\n        }\n    }\n    const promise = processData(props.children, ssrCtx, stream, flags);\n    return then(promise, () => {\n        // Fast path\n        if (!isSlot && !beforeClose) {\n            stream.write(CLOSE_VIRTUAL);\n            return;\n        }\n        let promise;\n        if (isSlot) {\n            assertDefined(key, 'key must be defined for a slot');\n            const content = ssrCtx.projectedChildren?.[key];\n            if (content) {\n                ssrCtx.projectedChildren[key] = undefined;\n                promise = processData(content, ssrCtx.projectedContext, stream, flags);\n            }\n        }\n        // Inject before close\n        if (beforeClose) {\n            promise = then(promise, () => beforeClose(stream));\n        }\n        return then(promise, () => {\n            stream.write(CLOSE_VIRTUAL);\n        });\n    });\n};\nconst CLOSE_VIRTUAL = `<!--/qv-->`;\nexport const renderNodeElement = (node, extraAttributes, extraNodes, ssrCtx, stream, flags, beforeClose) => {\n    const key = node.key != null ? String(node.key) : null;\n    const props = node.props;\n    const textType = node.type;\n    const elCtx = getContext(ssrCtx.rctx.$static$.$doc$.createElement(node.type));\n    const hasRef = 'ref' in props;\n    const attributes = updateProperties(elCtx, props);\n    const hostCtx = ssrCtx.hostCtx;\n    if (hostCtx) {\n        if (textType === 'html') {\n            throw qError(QError_canNotRenderHTML);\n        }\n        attributes['class'] = joinClasses(hostCtx.$scopeIds$, attributes['class']);\n        const cmp = hostCtx;\n        if (!cmp.$attachedListeners$) {\n            cmp.$attachedListeners$ = true;\n            Object.entries(hostCtx.li).forEach(([eventName, qrls]) => {\n                addQRLListener(elCtx.li, eventName, qrls);\n            });\n        }\n    }\n    // Reset HOST flags\n    if (textType === 'head') {\n        flags |= IS_HEAD;\n    }\n    const listeners = Object.entries(elCtx.li);\n    const isHead = flags & IS_HEAD;\n    if (key != null) {\n        attributes['q:key'] = key;\n    }\n    if (hasRef || listeners.length > 0) {\n        const newID = getNextIndex(ssrCtx.rctx);\n        attributes[ELEMENT_ID] = newID;\n        elCtx.$id$ = newID;\n        ssrCtx.$contexts$.push(elCtx);\n    }\n    if (isHead) {\n        attributes['q:head'] = '';\n    }\n    if (extraAttributes) {\n        Object.assign(attributes, extraAttributes);\n    }\n    listeners.forEach(([key, value]) => {\n        attributes[key] = serializeQRLs(value, elCtx);\n    });\n    if (renderNodeElementSync(textType, attributes, stream)) {\n        return;\n    }\n    if (textType !== 'head') {\n        flags &= ~IS_HEAD;\n    }\n    if (textType === 'html') {\n        flags |= IS_HTML;\n    }\n    else {\n        flags &= ~IS_HTML;\n    }\n    if (hasRawContent[textType]) {\n        flags |= IS_RAW_CONTENT;\n    }\n    else {\n        flags &= ~IS_RAW_CONTENT;\n    }\n    if (extraNodes) {\n        for (const node of extraNodes) {\n            renderNodeElementSync(node.type, node.props, stream);\n        }\n    }\n    const promise = processData(props.children, ssrCtx, stream, flags);\n    return then(promise, () => {\n        // If head inject base styles\n        if (textType === 'head') {\n            ssrCtx.headNodes.forEach((node) => {\n                renderNodeElementSync(node.type, node.props, stream);\n            });\n            ssrCtx.headNodes.length = 0;\n        }\n        // Fast path\n        if (!beforeClose) {\n            stream.write(`</${textType}>`);\n            return;\n        }\n        // Inject before close\n        return then(beforeClose(stream), () => {\n            stream.write(`</${textType}>`);\n        });\n    });\n};\nexport const renderNodeElementSync = (tagName, attributes, stream) => {\n    stream.write(`<${tagName}`);\n    Object.entries(attributes).forEach(([key, value]) => {\n        if (key !== 'dangerouslySetInnerHTML' && key !== 'children') {\n            if (key === 'class' && !value) {\n                return;\n            }\n            const chunk = value === '' ? ` ${key}` : ` ${key}=\"${escapeAttr(value)}\"`;\n            stream.write(chunk);\n        }\n    });\n    stream.write(`>`);\n    const empty = !!emptyElements[tagName];\n    if (empty) {\n        return true;\n    }\n    // Render innerHTML\n    const innerHTML = attributes.dangerouslySetInnerHTML;\n    if (innerHTML) {\n        stream.write(innerHTML);\n        stream.write(`</${tagName}>`);\n        return true;\n    }\n    return false;\n};\nexport const mergeChildren = (a, b) => {\n    const output = [];\n    if (a) {\n        if (isArray(a)) {\n            output.push(...a);\n        }\n        else {\n            output.push(a);\n        }\n    }\n    if (b) {\n        if (isArray(b)) {\n            output.push(...b);\n        }\n        else {\n            output.push(b);\n        }\n    }\n    return output;\n};\nexport const renderSSRComponent = (ssrCtx, stream, elCtx, node, flags, beforeClose) => {\n    const attributes = updateComponentProperties(ssrCtx.rctx, elCtx, node.props);\n    return then(executeComponent(ssrCtx.rctx, elCtx), (res) => {\n        if (!res) {\n            logError('component was not rendered during SSR');\n            return;\n        }\n        const hostElement = elCtx.$element$;\n        const newCtx = res.rctx;\n        let children = node.props.children;\n        if (children) {\n            if (isArray(children)) {\n                if (children.filter(isNotNullable).length === 0) {\n                    children = undefined;\n                }\n            }\n            else {\n                children = [children];\n            }\n        }\n        const invocationContext = newInvokeContext(newCtx.$static$.$doc$, hostElement, undefined);\n        invocationContext.$subscriber$ = hostElement;\n        invocationContext.$renderCtx$ = newCtx;\n        const projectedContext = {\n            ...ssrCtx,\n            rctx: newCtx,\n        };\n        const newSSrContext = {\n            ...ssrCtx,\n            projectedChildren: splitProjectedChildren(children, ssrCtx),\n            projectedContext,\n            rctx: newCtx,\n            invocationContext,\n        };\n        const extraNodes = [];\n        const styleClasses = [];\n        if (elCtx.$appendStyles$) {\n            const isHTML = !!(flags & IS_HTML);\n            const array = isHTML ? ssrCtx.headNodes : extraNodes;\n            for (const style of elCtx.$appendStyles$) {\n                array.push(jsx('style', {\n                    [QStyle]: style.styleId,\n                    dangerouslySetInnerHTML: style.content,\n                }));\n            }\n        }\n        if (elCtx.$scopeIds$) {\n            for (const styleId of elCtx.$scopeIds$) {\n                styleClasses.push(styleHost(styleId));\n            }\n            const value = serializeSStyle(elCtx.$scopeIds$);\n            if (value) {\n                attributes[QScopedStyle] = value;\n            }\n        }\n        const newID = getNextIndex(ssrCtx.rctx);\n        attributes[ELEMENT_ID] = newID;\n        elCtx.$id$ = newID;\n        ssrCtx.$contexts$.push(elCtx);\n        const processedNode = jsx(node.type, {\n            ...attributes,\n            children: res.node,\n        }, node.key);\n        newSSrContext.hostCtx = elCtx;\n        return renderNodeVirtual(processedNode, elCtx, extraNodes, newSSrContext, stream, flags, (stream) => {\n            return then(renderQTemplates(newSSrContext, stream), () => {\n                return beforeClose?.(stream);\n            });\n        });\n    });\n};\nconst renderQTemplates = (ssrContext, stream) => {\n    const projectedChildren = ssrContext.projectedChildren;\n    if (projectedChildren) {\n        const nodes = Object.keys(projectedChildren).map((slotName) => {\n            const value = projectedChildren[slotName];\n            if (value) {\n                return jsx('q:template', {\n                    [QSlot]: slotName,\n                    hidden: '',\n                    'aria-hidden': 'true',\n                    children: value,\n                });\n            }\n        });\n        return processData(nodes, ssrContext, stream, 0, undefined);\n    }\n};\nconst splitProjectedChildren = (children, ssrCtx) => {\n    const flatChildren = flatVirtualChildren(children, ssrCtx);\n    if (flatChildren === null) {\n        return undefined;\n    }\n    const slotMap = {};\n    for (const child of flatChildren) {\n        let slotName = '';\n        if (isJSXNode(child)) {\n            slotName = child.props[QSlot] ?? '';\n        }\n        let array = slotMap[slotName];\n        if (!array) {\n            slotMap[slotName] = array = [];\n        }\n        array.push(child);\n    }\n    return slotMap;\n};\nexport const renderNode = (node, ssrCtx, stream, flags, beforeClose) => {\n    if (typeof node.type === 'string') {\n        return renderNodeElement(node, undefined, undefined, ssrCtx, stream, flags, beforeClose);\n    }\n    else {\n        return renderNodeFunction(node, ssrCtx, stream, flags, beforeClose);\n    }\n};\nexport const processData = (node, ssrCtx, stream, flags, beforeClose) => {\n    if (node == null || typeof node === 'boolean') {\n        return;\n    }\n    if (isJSXNode(node)) {\n        return renderNode(node, ssrCtx, stream, flags, beforeClose);\n    }\n    else if (isPromise(node)) {\n        return node.then((node) => processData(node, ssrCtx, stream, flags, beforeClose));\n    }\n    else if (isArray(node)) {\n        node = _flatVirtualChildren(node, ssrCtx);\n        return walkChildren(node, ssrCtx, stream, flags);\n    }\n    else if (isString(node) || typeof node === 'number') {\n        if ((flags & IS_RAW_CONTENT) !== 0) {\n            stream.write(String(node));\n        }\n        else {\n            stream.write(escape(String(node)));\n        }\n    }\n    else {\n        logWarn('A unsupported value was passed to the JSX, skipping render. Value:', node);\n    }\n};\nfunction walkChildren(children, ssrContext, stream, flags) {\n    if (children == null) {\n        return;\n    }\n    if (!isArray(children)) {\n        return processData(children, ssrContext, stream, flags);\n    }\n    if (children.length === 1) {\n        return processData(children[0], ssrContext, stream, flags);\n    }\n    if (children.length === 0) {\n        return;\n    }\n    let currentIndex = 0;\n    const buffers = [];\n    return children.reduce((prevPromise, child, index) => {\n        const buffer = [];\n        buffers.push(buffer);\n        const localStream = {\n            write(chunk) {\n                if (currentIndex === index) {\n                    stream.write(chunk);\n                }\n                else {\n                    buffer.push(chunk);\n                }\n            },\n        };\n        return then(processData(child, ssrContext, localStream, flags), () => {\n            return then(prevPromise, () => {\n                currentIndex++;\n                if (buffers.length > currentIndex) {\n                    buffers[currentIndex].forEach((chunk) => stream.write(chunk));\n                }\n            });\n        });\n    }, undefined);\n}\nexport const flatVirtualChildren = (children, ssrCtx) => {\n    if (children == null) {\n        return null;\n    }\n    const result = _flatVirtualChildren(children, ssrCtx);\n    const nodes = isArray(result) ? result : [result];\n    if (nodes.length === 0) {\n        return null;\n    }\n    return nodes;\n};\nexport const _flatVirtualChildren = (children, ssrCtx) => {\n    if (children == null) {\n        return null;\n    }\n    if (isArray(children)) {\n        return children.flatMap((c) => _flatVirtualChildren(c, ssrCtx));\n    }\n    else if (isJSXNode(children) &&\n        isFunction(children.type) &&\n        children.type !== SSRComment &&\n        children.type !== InternalSSRStream &&\n        children.type !== Virtual) {\n        const fn = children.type;\n        const res = ssrCtx.invocationContext\n            ? invoke(ssrCtx.invocationContext, () => fn(children.props, children.key))\n            : fn(children.props, children.key);\n        return flatVirtualChildren(res, ssrCtx);\n    }\n    return children;\n};\nconst updateProperties = (ctx, expectProps) => {\n    const attributes = {};\n    if (!expectProps) {\n        return attributes;\n    }\n    const keys = Object.keys(expectProps);\n    if (keys.length === 0) {\n        return attributes;\n    }\n    const elm = ctx.$element$;\n    for (const key of keys) {\n        if (key === 'children' || key === OnRenderProp) {\n            continue;\n        }\n        const newValue = expectProps[key];\n        if (key === 'ref') {\n            newValue.current = elm;\n            continue;\n        }\n        // Early exit if value didnt change\n        // Check of data- or aria-\n        if (key.startsWith('data-') || key.startsWith('aria-')) {\n            attributes[key] = newValue;\n            continue;\n        }\n        if (isOnProp(key)) {\n            setEvent(ctx.li, key, newValue);\n            continue;\n        }\n        // Check if its an exception\n        setProperty(attributes, key, newValue);\n    }\n    return attributes;\n};\nconst updateComponentProperties = (rctx, ctx, expectProps) => {\n    const attributes = {};\n    if (!expectProps) {\n        return attributes;\n    }\n    const keys = Object.keys(expectProps);\n    if (keys.length === 0) {\n        return attributes;\n    }\n    const qwikProps = getPropsMutator(ctx, rctx.$static$.$containerState$);\n    for (const key of keys) {\n        if (key === 'children' || key === OnRenderProp) {\n            continue;\n        }\n        const newValue = expectProps[key];\n        const skipProperty = ALLOWS_PROPS.includes(key);\n        if (!skipProperty) {\n            // Qwik props\n            qwikProps.set(key, newValue);\n            continue;\n        }\n        setProperty(attributes, key, newValue);\n    }\n    return attributes;\n};\nfunction setProperty(attributes, prop, value) {\n    if (value != null && value !== false) {\n        prop = processPropKey(prop);\n        const attrValue = processPropValue(prop, value, attributes[prop]);\n        if (attrValue !== null) {\n            attributes[prop] = attrValue;\n        }\n    }\n}\nfunction processPropKey(prop) {\n    if (prop === 'className') {\n        return 'class';\n    }\n    return prop;\n}\nfunction processPropValue(prop, value, prevValue) {\n    if (prop === 'class') {\n        const str = joinClasses(value, prevValue);\n        return str === '' ? null : str;\n    }\n    if (prop === 'style') {\n        return stringifyStyle(value);\n    }\n    if (value === false || value == null) {\n        return null;\n    }\n    if (value === true) {\n        return '';\n    }\n    return String(value);\n}\nconst hasRawContent = {\n    style: true,\n    script: true,\n};\nconst emptyElements = {\n    area: true,\n    base: true,\n    basefont: true,\n    bgsound: true,\n    br: true,\n    col: true,\n    embed: true,\n    frame: true,\n    hr: true,\n    img: true,\n    input: true,\n    keygen: true,\n    link: true,\n    meta: true,\n    param: true,\n    source: true,\n    track: true,\n    wbr: true,\n};\nexport const escape = (s) => {\n    return s.replace(/[&<>\\u00A0]/g, (c) => {\n        switch (c) {\n            case '&':\n                return '&amp;';\n            case '<':\n                return '&lt;';\n            case '>':\n                return '&gt;';\n            case '\\u00A0':\n                return '&nbsp;';\n            default:\n                return '';\n        }\n    });\n};\nexport const escapeAttr = (s) => {\n    const toEscape = /[&\"\\u00A0]/g;\n    if (!toEscape.test(s)) {\n        // nothing to do, fast path\n        return s;\n    }\n    else {\n        return s.replace(toEscape, (c) => {\n            switch (c) {\n                case '&':\n                    return '&amp;';\n                case '\"':\n                    return '&quot;';\n                case '\\u00A0':\n                    return '&nbsp;';\n                default:\n                    return '';\n            }\n        });\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVuZGVyLXNzci5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS9yZW5kZXIvc3NyL3JlbmRlci1zc3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLE1BQU0scUJBQXFCLENBQUM7QUFDckUsT0FBTyxFQUFpQixnQkFBZ0IsRUFBRSxNQUFNLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUM3RSxPQUFPLEVBQUUsU0FBUyxFQUFFLEdBQUcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3BELE9BQU8sRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBa0IsTUFBTSxrQkFBa0IsQ0FBQztBQUNqRixPQUFPLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBWSxNQUFNLG1CQUFtQixDQUFDO0FBRTFFLE9BQU8sRUFDTCxZQUFZLEVBQ1osbUJBQW1CLEVBQ25CLGdCQUFnQixFQUNoQixZQUFZLEVBQ1osV0FBVyxFQUNYLGNBQWMsR0FDZixNQUFNLHNCQUFzQixDQUFDO0FBQzlCLE9BQU8sRUFDTCxVQUFVLEVBQ1YsWUFBWSxFQUNaLFlBQVksRUFDWixLQUFLLEVBQ0wsUUFBUSxFQUNSLE1BQU0sRUFDTixNQUFNLEdBQ1AsTUFBTSxvQkFBb0IsQ0FBQztBQUM1QixPQUFPLEVBQUUsVUFBVSxFQUFFLGlCQUFpQixFQUFFLE9BQU8sRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQzdFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDbkQsT0FBTyxFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDMUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4QyxPQUFPLEVBQUUsYUFBYSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDakQs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QUFDO1lBQ2hCLEtBQUssR0FBRztnQkFDTixPQUFPLE1BQU0sQ0FBQztZQUNoQixLQUFLLFFBQVE7Z0JBQ1gsT0FBTyxRQUFRLENBQUM7WUFDbEI7Z0JBQ0UsT0FBTyxFQUFFLENBQUM7U0FDYjtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsQ0FBUyxFQUFFLEVBQUU7SUFDdEMsTUFBTSxRQUFRLEdBQUcsYUFBYSxDQUFDO0lBQy9CLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFO1FBQ3JCLDJCQUEyQjtRQUMzQixPQUFPLENBQUMsQ0FBQztLQUNWO1NBQU07UUFDTCxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDL0IsUUFBUSxDQUFDLEVBQUU7Z0JBQ1QsS0FBSyxHQUFHO29CQUNOLE9BQU8sT0FBTyxDQUFDO2dCQUNqQixLQUFLLEdBQUc7b0JBQ04sT0FBTyxRQUFRLENBQUM7Z0JBQ2xCLEtBQUssUUFBUTtvQkFDWCxPQUFPLFFBQVEsQ0FBQztnQkFDbEI7b0JBQ0UsT0FBTyxFQUFFLENBQUM7YUFDYjtRQUNILENBQUMsQ0FBQyxDQUFDO0tBQ0o7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc05vdE51bGxhYmxlLCBpc1Byb21pc2UsIHRoZW4gfSBmcm9tICcuLi8uLi91dGlsL3Byb21pc2VzJztcbmltcG9ydCB7IEludm9rZUNvbnRleHQsIG5ld0ludm9rZUNvbnRleHQsIGludm9rZSB9IGZyb20gJy4uLy4uL3VzZS91c2UtY29yZSc7XG5pbXBvcnQgeyBpc0pTWE5vZGUsIGpzeCB9IGZyb20gJy4uL2pzeC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBpc0FycmF5LCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgVmFsdWVPclByb21pc2UgfSBmcm9tICcuLi8uLi91dGlsL3R5cGVzJztcbmltcG9ydCB7IGdldENvbnRleHQsIGdldFByb3BzTXV0YXRvciwgUUNvbnRleHQgfSBmcm9tICcuLi8uLi9wcm9wcy9wcm9wcyc7XG5pbXBvcnQgdHlwZSB7IEZ1bmN0aW9uQ29tcG9uZW50LCBKU1hOb2RlIH0gZnJvbSAnLi4vanN4L3R5cGVzL2pzeC1ub2RlJztcbmltcG9ydCB7XG4gIEFMTE9XU19QUk9QUyxcbiAgY3JlYXRlUmVuZGVyQ29udGV4dCxcbiAgZXhlY3V0ZUNvbXBvbmVudCxcbiAgZ2V0TmV4dEluZGV4LFxuICBqb2luQ2xhc3NlcyxcbiAgc3RyaW5naWZ5U3R5bGUsXG59IGZyb20gJy4uL2V4ZWN1dGUtY29tcG9uZW50JztcbmltcG9ydCB7XG4gIEVMRU1FTlRfSUQsXG4gIE9uUmVuZGVyUHJvcCxcbiAgUVNjb3BlZFN0eWxlLFxuICBRU2xvdCxcbiAgUVNsb3RSZWYsXG4gIFFTbG90UyxcbiAgUVN0eWxlLFxufSBmcm9tICcuLi8uLi91dGlsL21hcmtlcnMnO1xuaW1wb3J0IHsgU1NSQ29tbWVudCwgSW50ZXJuYWxTU1JTdHJlYW0sIFZpcnR1YWwgfSBmcm9tICcuLi9qc3gvdXRpbHMucHVibGljJztcbmltcG9ydCB7IGxvZ0Vycm9yLCBsb2dXYXJuIH0gZnJvbSAnLi4vLi4vdXRpbC9sb2cnO1xuaW1wb3J0IHsgYWRkUVJMTGlzdGVuZXIsIGlzT25Qcm9wLCBzZXRFdmVudCB9IGZyb20gJy4uLy4uL3Byb3BzL3Byb3BzLW9uJztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi8uLi92ZXJzaW9uJztcbmltcG9ydCB7IHNlcmlhbGl6ZVFSTHMgfSBmcm9tICcuLi8uLi9pbXBvcnQvcXJsJztcbmltcG9ydCB7IENvbnRhaW5lclN0YXRlLCBnZXRDb250YWluZXJTdGF0ZSB9IGZyb20gJy4uL2NvbnRhaW5lcic7XG5pbXBvcnQgdHlwZSB7IFJlbmRlckNvbnRleHQgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSAnLi4vLi4vYXNzZXJ0L2Fzc2VydCc7XG5pbXBvcnQgeyBzZXJpYWxpemVTU3R5bGUsIHN0eWxlSG9zdCB9IGZyb20gJy4uLy4uL2NvbXBvbmVudC9xcmwtc3R5bGVzJztcbmltcG9ydCB0eXBlIHsgUmVmIH0gZnJvbSAnLi4vLi4vdXNlL3VzZS1yZWYnO1xuaW1wb3J0IHsgc2VyaWFsaXplVmlydHVhbEF0dHJpYnV0ZXMsIFZJUlRVQUwgfSBmcm9tICcuLi9kb20vdmlydHVhbC1lbGVtZW50JztcbmltcG9ydCB7IHFEZXYgfSBmcm9tICcuLi8uLi91dGlsL3FkZXYnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfY2FuTm90UmVuZGVySFRNTCB9IGZyb20gJy4uLy4uL2Vycm9yL2Vycm9yJztcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtV3JpdGVyID0ge1xuICB3cml0ZTogKGNodW5rOiBzdHJpbmcpID0+IHZvaWQ7XG59O1xuXG4vKipcbiAqIEBhbHBoYVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlbmRlclNTUk9wdGlvbnMge1xuICBjb250YWluZXJUYWdOYW1lOiBzdHJpbmc7XG4gIGNvbnRhaW5lckF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyO1xuICBiYXNlPzogc3RyaW5nO1xuICBlbnZEYXRhPzogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgdXJsPzogc3RyaW5nO1xuICBiZWZvcmVDb250ZW50PzogSlNYTm9kZTxzdHJpbmc+W107XG4gIGJlZm9yZUNsb3NlPzogKGNvbnRleHRzOiBRQ29udGV4dFtdLCBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUpID0+IFByb21pc2U8SlNYTm9kZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU1NSQ29udGV4dCB7XG4gIHJjdHg6IFJlbmRlckNvbnRleHQ7XG4gIHByb2plY3RlZENoaWxkcmVuOiBSZWNvcmQ8c3RyaW5nLCBhbnlbXSB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQ7XG4gIHByb2plY3RlZENvbnRleHQ6IFNTUkNvbnRleHQgfCB1bmRlZmluZWQ7XG4gIGhvc3RDdHg6IFFDb250ZXh0IHwgdW5kZWZpbmVkO1xuICBpbnZvY2F0aW9uQ29udGV4dD86IEludm9rZUNvbnRleHQgfCB1bmRlZmluZWQ7XG4gICRjb250ZXh0cyQ6IFFDb250ZXh0W107XG4gIGhlYWROb2RlczogSlNYTm9kZTxzdHJpbmc+W107XG59XG5cbmNvbnN0IElTX0hFQUQgPSAxIDw8IDA7XG5jb25zdCBJU19SQVdfQ09OVEVOVCA9IDEgPDwgMTtcbmNvbnN0IElTX0hUTUwgPSAxIDw8IDI7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBjb25zdCByZW5kZXJTU1IgPSBhc3luYyAoZG9jOiBEb2N1bWVudCwgbm9kZTogSlNYTm9kZSwgb3B0czogUmVuZGVyU1NST3B0aW9ucykgPT4ge1xuICBjb25zdCByb290ID0gb3B0cy5jb250YWluZXJUYWdOYW1lO1xuICBjb25zdCBjb250YWluZXJFbCA9IGRvYy5jcmVhdGVFbGVtZW50KHJvb3QpO1xuICBjb25zdCBjb250YWluZXJTdGF0ZSA9IGdldENvbnRhaW5lclN0YXRlKGNvbnRhaW5lckVsKTtcbiAgY29uc3QgcmN0eCA9IGNyZWF0ZVJlbmRlckNvbnRleHQoZG9jLCBjb250YWluZXJTdGF0ZSk7XG4gIGNvbnN0IGhlYWROb2RlcyA9IG9wdHMuYmVmb3JlQ29udGVudCA/PyBbXTtcbiAgY29uc3Qgc3NyQ3R4OiBTU1JDb250ZXh0ID0ge1xuICAgIHJjdHgsXG4gICAgJGNvbnRleHRzJDogW10sXG4gICAgcHJvamVjdGVkQ2hpbGRyZW46IHVuZGVmaW5lZCxcbiAgICBwcm9qZWN0ZWRDb250ZXh0OiB1bmRlZmluZWQsXG4gICAgaG9zdEN0eDogdW5kZWZpbmVkLFxuICAgIGludm9jYXRpb25Db250ZXh0OiB1bmRlZmluZWQsXG4gICAgaGVhZE5vZGVzOiByb290ID09PSAnaHRtbCcgPyBoZWFkTm9kZXMgOiBbXSxcbiAgfTtcblxuICBjb25zdCBjb250YWluZXJBdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgIC4uLm9wdHMuY29udGFpbmVyQXR0cmlidXRlcyxcbiAgICAncTpjb250YWluZXInOiAncGF1c2VkJyxcbiAgICAncTp2ZXJzaW9uJzogdmVyc2lvbiA/PyAnZGV2JyxcbiAgICAncTpyZW5kZXInOiBxRGV2ID8gJ3Nzci1kZXYnIDogJ3NzcicsXG4gIH07XG4gIGlmIChvcHRzLmJhc2UpIHtcbiAgICBjb250YWluZXJBdHRyaWJ1dGVzWydxOmJhc2UnXSA9IG9wdHMuYmFzZTtcbiAgfVxuICBpZiAob3B0cy51cmwpIHtcbiAgICBjb250YWluZXJTdGF0ZS4kZW52RGF0YSRbJ3VybCddID0gb3B0cy51cmw7XG4gIH1cbiAgaWYgKG9wdHMuZW52RGF0YSkge1xuICAgIE9iamVjdC5hc3NpZ24oY29udGFpbmVyU3RhdGUuJGVudkRhdGEkLCBvcHRzLmVudkRhdGEpO1xuICB9XG5cbiAgaWYgKHJvb3QgPT09ICdodG1sJykge1xuICAgIG5vZGUgPSBqc3gocm9vdCwge1xuICAgICAgLi4uY29udGFpbmVyQXR0cmlidXRlcyxcbiAgICAgIGNoaWxkcmVuOiBbbm9kZV0sXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbm9kZSA9IGpzeChyb290LCB7XG4gICAgICAuLi5jb250YWluZXJBdHRyaWJ1dGVzLFxuICAgICAgY2hpbGRyZW46IFsuLi4oaGVhZE5vZGVzID8/IFtdKSwgbm9kZV0sXG4gICAgfSk7XG4gIH1cbiAgY29udGFpbmVyU3RhdGUuJGhvc3RzUmVuZGVyaW5nJCA9IG5ldyBTZXQoKTtcbiAgY29udGFpbmVyU3RhdGUuJHJlbmRlclByb21pc2UkID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PlxuICAgIHJlbmRlclJvb3Qobm9kZSwgc3NyQ3R4LCBvcHRzLnN0cmVhbSwgY29udGFpbmVyU3RhdGUsIG9wdHMpXG4gICk7XG4gIGF3YWl0IGNvbnRhaW5lclN0YXRlLiRyZW5kZXJQcm9taXNlJDtcbn07XG5cbmV4cG9ydCBjb25zdCByZW5kZXJSb290ID0gYXN5bmMgKFxuICBub2RlOiBKU1hOb2RlLFxuICBzc3JDdHg6IFNTUkNvbnRleHQsXG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyLFxuICBjb250YWluZXJTdGF0ZTogQ29udGFpbmVyU3RhdGUsXG4gIG9wdHM6IFJlbmRlclNTUk9wdGlvbnNcbikgPT4ge1xuICBjb25zdCBiZWZvcmVDbG9zZSA9IG9wdHMuYmVmb3JlQ2xvc2U7XG4gIGF3YWl0IHJlbmRlck5vZGUobm9kZSwgc3NyQ3R4LCBzdHJlYW0sIDAsIChzdHJlYW0pID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBiZWZvcmVDbG9zZT8uKHNzckN0eC4kY29udGV4dHMkLCBjb250YWluZXJTdGF0ZSk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHByb2Nlc3NEYXRhKHJlc3VsdCwgc3NyQ3R4LCBzdHJlYW0sIDAsIHVuZGVmaW5lZCk7XG4gICAgfVxuICB9KTtcbiAgaWYgKHFEZXYpIHtcbiAgICBpZiAoc3NyQ3R4LmhlYWROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICBsb2dFcnJvcihcbiAgICAgICAgJ01pc3NpbmcgPGhlYWQ+LiBHbG9iYWwgc3R5bGVzIGNvdWxkIG5vdCBiZSByZW5kZXJlZC4gUGxlYXNlIHJlbmRlciBhIDxoZWFkPiBlbGVtZW50IGF0IHRoZSByb290IG9mIHRoZSBhcHAnXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3NyQ3R4LnJjdHguJHN0YXRpYyQ7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyTm9kZUZ1bmN0aW9uID0gKFxuICBub2RlOiBKU1hOb2RlPEZ1bmN0aW9uQ29tcG9uZW50PixcbiAgc3NyQ3R4OiBTU1JDb250ZXh0LFxuICBzdHJlYW06IFN0cmVhbVdyaXRlcixcbiAgZmxhZ3M6IG51bWJlcixcbiAgYmVmb3JlQ2xvc2U/OiAoc3RyZWFtOiBTdHJlYW1Xcml0ZXIpID0+IFZhbHVlT3JQcm9taXNlPHZvaWQ+XG4pID0+IHtcbiAgY29uc3QgZm4gPSBub2RlLnR5cGU7XG4gIGlmIChmbiA9PT0gU1NSQ29tbWVudCkge1xuICAgIHN0cmVhbS53cml0ZShgPCEtLSR7KG5vZGUgYXMgSlNYTm9kZTx0eXBlb2YgU1NSQ29tbWVudD4pLnByb3BzLmRhdGEgPz8gJyd9LS0+YCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChmbiA9PT0gSW50ZXJuYWxTU1JTdHJlYW0pIHtcbiAgICByZXR1cm4gcmVuZGVyR2VuZXJhdG9yKG5vZGUgYXMgSlNYTm9kZTx0eXBlb2YgSW50ZXJuYWxTU1JTdHJlYW0+LCBzc3JDdHgsIHN0cmVhbSwgZmxhZ3MpO1xuICB9XG4gIGlmIChmbiA9PT0gVmlydHVhbCkge1xuICAgIGNvbnN0IGVsQ3R4ID0gZ2V0Q29udGV4dChzc3JDdHgucmN0eC4kc3RhdGljJC4kZG9jJC5jcmVhdGVFbGVtZW50KFZJUlRVQUwpKTtcbiAgICByZXR1cm4gcmVuZGVyTm9kZVZpcnR1YWwoXG4gICAgICBub2RlIGFzIEpTWE5vZGU8dHlwZW9mIFZpcnR1YWw+LFxuICAgICAgZWxDdHgsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBzc3JDdHgsXG4gICAgICBzdHJlYW0sXG4gICAgICBmbGFncyxcbiAgICAgIGJlZm9yZUNsb3NlXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHJlcyA9IHNzckN0eC5pbnZvY2F0aW9uQ29udGV4dFxuICAgID8gaW52b2tlKHNzckN0eC5pbnZvY2F0aW9uQ29udGV4dCwgKCkgPT4gbm9kZS50eXBlKG5vZGUucHJvcHMsIG5vZGUua2V5KSlcbiAgICA6IG5vZGUudHlwZShub2RlLnByb3BzLCBub2RlLmtleSk7XG4gIHJldHVybiBwcm9jZXNzRGF0YShyZXMsIHNzckN0eCwgc3RyZWFtLCBmbGFncywgYmVmb3JlQ2xvc2UpO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbmRlckdlbmVyYXRvciA9IGFzeW5jIChcbiAgbm9kZTogSlNYTm9kZTx0eXBlb2YgSW50ZXJuYWxTU1JTdHJlYW0+LFxuICBzc3JDdHg6IFNTUkNvbnRleHQsXG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyLFxuICBmbGFnczogbnVtYmVyXG4pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gbm9kZS5wcm9wcy5jaGlsZHJlbjtcbiAgbGV0IHZhbHVlOiBBc3luY0dlbmVyYXRvcjtcbiAgaWYgKGlzRnVuY3Rpb24oZ2VuZXJhdG9yKSkge1xuICAgIGNvbnN0IHYgPSBnZW5lcmF0b3Ioc3RyZWFtKTtcbiAgICBpZiAoaXNQcm9taXNlKHYpKSB7XG4gICAgICByZXR1cm4gdjtcbiAgICB9XG4gICAgdmFsdWUgPSB2O1xuICB9IGVsc2Uge1xuICAgIHZhbHVlID0gZ2VuZXJhdG9yO1xuICB9XG4gIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgdmFsdWUpIHtcbiAgICBhd2FpdCBwcm9jZXNzRGF0YShjaHVuaywgc3NyQ3R4LCBzdHJlYW0sIGZsYWdzLCB1bmRlZmluZWQpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyTm9kZVZpcnR1YWwgPSAoXG4gIG5vZGU6IEpTWE5vZGU8dHlwZW9mIFZpcnR1YWw+LFxuICBlbEN0eDogUUNvbnRleHQsXG4gIGV4dHJhTm9kZXM6IEpTWE5vZGU8c3RyaW5nPltdIHwgdW5kZWZpbmVkLFxuICBzc3JDdHg6IFNTUkNvbnRleHQsXG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyLFxuICBmbGFnczogbnVtYmVyLFxuICBiZWZvcmVDbG9zZT86IChzdHJlYW06IFN0cmVhbVdyaXRlcikgPT4gVmFsdWVPclByb21pc2U8dm9pZD5cbikgPT4ge1xuICBjb25zdCBwcm9wcyA9IG5vZGUucHJvcHM7XG4gIGNvbnN0IHJlbmRlclFybCA9IHByb3BzW09uUmVuZGVyUHJvcF07XG4gIGlmIChyZW5kZXJRcmwpIHtcbiAgICBlbEN0eC4kcmVuZGVyUXJsJCA9IHJlbmRlclFybDtcbiAgICByZXR1cm4gcmVuZGVyU1NSQ29tcG9uZW50KHNzckN0eCwgc3RyZWFtLCBlbEN0eCwgbm9kZSwgZmxhZ3MsIGJlZm9yZUNsb3NlKTtcbiAgfVxuICBjb25zdCB7IGNoaWxkcmVuLCAuLi5hdHRyaWJ1dGVzIH0gPSBub2RlLnByb3BzO1xuXG4gIGNvbnN0IGlzU2xvdCA9IFFTbG90UyBpbiBwcm9wcztcbiAgY29uc3Qga2V5ID0gbm9kZS5rZXkgIT0gbnVsbCA/IFN0cmluZyhub2RlLmtleSkgOiBudWxsO1xuICBpZiAoaXNTbG90KSB7XG4gICAgYXNzZXJ0RGVmaW5lZChzc3JDdHguaG9zdEN0eD8uJGlkJCwgJ2hvc3RJZCBtdXN0IGJlIGRlZmluZWQgZm9yIGEgc2xvdCcpO1xuICAgIGF0dHJpYnV0ZXNbUVNsb3RSZWZdID0gc3NyQ3R4Lmhvc3RDdHguJGlkJDtcbiAgfVxuXG4gIGlmIChrZXkgIT0gbnVsbCkge1xuICAgIGF0dHJpYnV0ZXNbJ3E6a2V5J10gPSBrZXk7XG4gIH1cbiAgY29uc3QgdXJsID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKSk7XG4gIHN0cmVhbS53cml0ZShgPCEtLXF2ICR7c2VyaWFsaXplVmlydHVhbEF0dHJpYnV0ZXModXJsKX0tLT5gKTtcblxuICBpZiAoZXh0cmFOb2Rlcykge1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBleHRyYU5vZGVzKSB7XG4gICAgICByZW5kZXJOb2RlRWxlbWVudFN5bmMobm9kZS50eXBlLCBub2RlLnByb3BzLCBzdHJlYW0pO1xuICAgIH1cbiAgfVxuICBjb25zdCBwcm9taXNlID0gcHJvY2Vzc0RhdGEocHJvcHMuY2hpbGRyZW4sIHNzckN0eCwgc3RyZWFtLCBmbGFncyk7XG4gIHJldHVybiB0aGVuKHByb21pc2UsICgpID0+IHtcbiAgICAvLyBGYXN0IHBhdGhcbiAgICBpZiAoIWlzU2xvdCAmJiAhYmVmb3JlQ2xvc2UpIHtcbiAgICAgIHN0cmVhbS53cml0ZShDTE9TRV9WSVJUVUFMKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgcHJvbWlzZTogVmFsdWVPclByb21pc2U8dm9pZD47XG4gICAgaWYgKGlzU2xvdCkge1xuICAgICAgYXNzZXJ0RGVmaW5lZChrZXksICdrZXkgbXVzdCBiZSBkZWZpbmVkIGZvciBhIHNsb3QnKTtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBzc3JDdHgucHJvamVjdGVkQ2hpbGRyZW4/LltrZXldO1xuICAgICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgICAgc3NyQ3R4LnByb2plY3RlZENoaWxkcmVuIVtrZXldID0gdW5kZWZpbmVkO1xuICAgICAgICBwcm9taXNlID0gcHJvY2Vzc0RhdGEoY29udGVudCwgc3NyQ3R4LnByb2plY3RlZENvbnRleHQhLCBzdHJlYW0sIGZsYWdzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gSW5qZWN0IGJlZm9yZSBjbG9zZVxuICAgIGlmIChiZWZvcmVDbG9zZSkge1xuICAgICAgcHJvbWlzZSA9IHRoZW4ocHJvbWlzZSwgKCkgPT4gYmVmb3JlQ2xvc2Uoc3RyZWFtKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoZW4ocHJvbWlzZSwgKCkgPT4ge1xuICAgICAgc3RyZWFtLndyaXRlKENMT1NFX1ZJUlRVQUwpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbmNvbnN0IENMT1NFX1ZJUlRVQUwgPSBgPCEtLS9xdi0tPmA7XG5cbmV4cG9ydCBjb25zdCByZW5kZXJOb2RlRWxlbWVudCA9IChcbiAgbm9kZTogSlNYTm9kZTxzdHJpbmc+LFxuICBleHRyYUF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gfCB1bmRlZmluZWQsXG4gIGV4dHJhTm9kZXM6IEpTWE5vZGU8c3RyaW5nPltdIHwgdW5kZWZpbmVkLFxuICBzc3JDdHg6IFNTUkNvbnRleHQsXG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyLFxuICBmbGFnczogbnVtYmVyLFxuICBiZWZvcmVDbG9zZT86IChzdHJlYW06IFN0cmVhbVdyaXRlcikgPT4gVmFsdWVPclByb21pc2U8dm9pZD5cbik6IFZhbHVlT3JQcm9taXNlPHZvaWQ+ID0+IHtcbiAgY29uc3Qga2V5ID0gbm9kZS5rZXkgIT0gbnVsbCA/IFN0cmluZyhub2RlLmtleSkgOiBudWxsO1xuICBjb25zdCBwcm9wcyA9IG5vZGUucHJvcHM7XG4gIGNvbnN0IHRleHRUeXBlID0gbm9kZS50eXBlO1xuICBjb25zdCBlbEN0eCA9IGdldENvbnRleHQoc3NyQ3R4LnJjdHguJHN0YXRpYyQuJGRvYyQuY3JlYXRlRWxlbWVudChub2RlLnR5cGUpKTtcbiAgY29uc3QgaGFzUmVmID0gJ3JlZicgaW4gcHJvcHM7XG4gIGNvbnN0IGF0dHJpYnV0ZXMgPSB1cGRhdGVQcm9wZXJ0aWVzKGVsQ3R4LCBwcm9wcyk7XG4gIGNvbnN0IGhvc3RDdHggPSBzc3JDdHguaG9zdEN0eDtcbiAgaWYgKGhvc3RDdHgpIHtcbiAgICBpZiAodGV4dFR5cGUgPT09ICdodG1sJykge1xuICAgICAgdGhyb3cgcUVycm9yKFFFcnJvcl9jYW5Ob3RSZW5kZXJIVE1MKTtcbiAgICB9XG4gICAgYXR0cmlidXRlc1snY2xhc3MnXSA9IGpvaW5DbGFzc2VzKGhvc3RDdHguJHNjb3BlSWRzJCwgYXR0cmlidXRlc1snY2xhc3MnXSk7XG4gICAgY29uc3QgY21wID0gaG9zdEN0eDtcbiAgICBpZiAoIWNtcC4kYXR0YWNoZWRMaXN0ZW5lcnMkKSB7XG4gICAgICBjbXAuJGF0dGFjaGVkTGlzdGVuZXJzJCA9IHRydWU7XG4gICAgICBPYmplY3QuZW50cmllcyhob3N0Q3R4LmxpKS5mb3JFYWNoKChbZXZlbnROYW1lLCBxcmxzXSkgPT4ge1xuICAgICAgICBhZGRRUkxMaXN0ZW5lcihlbEN0eC5saSwgZXZlbnROYW1lLCBxcmxzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlc2V0IEhPU1QgZmxhZ3NcbiAgaWYgKHRleHRUeXBlID09PSAnaGVhZCcpIHtcbiAgICBmbGFncyB8PSBJU19IRUFEO1xuICB9XG5cbiAgY29uc3QgbGlzdGVuZXJzID0gT2JqZWN0LmVudHJpZXMoZWxDdHgubGkpO1xuICBjb25zdCBpc0hlYWQgPSBmbGFncyAmIElTX0hFQUQ7XG5cbiAgaWYgKGtleSAhPSBudWxsKSB7XG4gICAgYXR0cmlidXRlc1sncTprZXknXSA9IGtleTtcbiAgfVxuICBpZiAoaGFzUmVmIHx8IGxpc3RlbmVycy5sZW5ndGggPiAwKSB7XG4gICAgY29uc3QgbmV3SUQgPSBnZXROZXh0SW5kZXgoc3NyQ3R4LnJjdHgpO1xuICAgIGF0dHJpYnV0ZXNbRUxFTUVOVF9JRF0gPSBuZXdJRDtcbiAgICBlbEN0eC4kaWQkID0gbmV3SUQ7XG4gICAgc3NyQ3R4LiRjb250ZXh0cyQucHVzaChlbEN0eCk7XG4gIH1cbiAgaWYgKGlzSGVhZCkge1xuICAgIGF0dHJpYnV0ZXNbJ3E6aGVhZCddID0gJyc7XG4gIH1cbiAgaWYgKGV4dHJhQXR0cmlidXRlcykge1xuICAgIE9iamVjdC5hc3NpZ24oYXR0cmlidXRlcywgZXh0cmFBdHRyaWJ1dGVzKTtcbiAgfVxuICBsaXN0ZW5lcnMuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgYXR0cmlidXRlc1trZXldID0gc2VyaWFsaXplUVJMcyh2YWx1ZSwgZWxDdHgpO1xuICB9KTtcbiAgaWYgKHJlbmRlck5vZGVFbGVtZW50U3luYyh0ZXh0VHlwZSwgYXR0cmlidXRlcywgc3RyZWFtKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAodGV4dFR5cGUgIT09ICdoZWFkJykge1xuICAgIGZsYWdzICY9IH5JU19IRUFEO1xuICB9XG4gIGlmICh0ZXh0VHlwZSA9PT0gJ2h0bWwnKSB7XG4gICAgZmxhZ3MgfD0gSVNfSFRNTDtcbiAgfSBlbHNlIHtcbiAgICBmbGFncyAmPSB+SVNfSFRNTDtcbiAgfVxuICBpZiAoaGFzUmF3Q29udGVudFt0ZXh0VHlwZV0pIHtcbiAgICBmbGFncyB8PSBJU19SQVdfQ09OVEVOVDtcbiAgfSBlbHNlIHtcbiAgICBmbGFncyAmPSB+SVNfUkFXX0NPTlRFTlQ7XG4gIH1cblxuICBpZiAoZXh0cmFOb2Rlcykge1xuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBleHRyYU5vZGVzKSB7XG4gICAgICByZW5kZXJOb2RlRWxlbWVudFN5bmMobm9kZS50eXBlLCBub2RlLnByb3BzLCBzdHJlYW0pO1xuICAgIH1cbiAgfVxuICBjb25zdCBwcm9taXNlID0gcHJvY2Vzc0RhdGEocHJvcHMuY2hpbGRyZW4sIHNzckN0eCwgc3RyZWFtLCBmbGFncyk7XG4gIHJldHVybiB0aGVuKHByb21pc2UsICgpID0+IHtcbiAgICAvLyBJZiBoZWFkIGluamVjdCBiYXNlIHN0eWxlc1xuICAgIGlmICh0ZXh0VHlwZSA9PT0gJ2hlYWQnKSB7XG4gICAgICBzc3JDdHguaGVhZE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgcmVuZGVyTm9kZUVsZW1lbnRTeW5jKG5vZGUudHlwZSwgbm9kZS5wcm9wcywgc3RyZWFtKTtcbiAgICAgIH0pO1xuICAgICAgc3NyQ3R4LmhlYWROb2Rlcy5sZW5ndGggPSAwO1xuICAgIH1cbiAgICAvLyBGYXN0IHBhdGhcbiAgICBpZiAoIWJlZm9yZUNsb3NlKSB7XG4gICAgICBzdHJlYW0ud3JpdGUoYDwvJHt0ZXh0VHlwZX0+YCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gSW5qZWN0IGJlZm9yZSBjbG9zZVxuICAgIHJldHVybiB0aGVuKGJlZm9yZUNsb3NlKHN0cmVhbSksICgpID0+IHtcbiAgICAgIHN0cmVhbS53cml0ZShgPC8ke3RleHRUeXBlfT5gKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyTm9kZUVsZW1lbnRTeW5jID0gKFxuICB0YWdOYW1lOiBzdHJpbmcsXG4gIGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4gIHN0cmVhbTogU3RyZWFtV3JpdGVyXG4pOiBib29sZWFuID0+IHtcbiAgc3RyZWFtLndyaXRlKGA8JHt0YWdOYW1lfWApO1xuICBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAoa2V5ICE9PSAnZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwnICYmIGtleSAhPT0gJ2NoaWxkcmVuJykge1xuICAgICAgaWYgKGtleSA9PT0gJ2NsYXNzJyAmJiAhdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgY2h1bmsgPSB2YWx1ZSA9PT0gJycgPyBgICR7a2V5fWAgOiBgICR7a2V5fT1cIiR7ZXNjYXBlQXR0cih2YWx1ZSl9XCJgO1xuICAgICAgc3RyZWFtLndyaXRlKGNodW5rKTtcbiAgICB9XG4gIH0pO1xuXG4gIHN0cmVhbS53cml0ZShgPmApO1xuICBjb25zdCBlbXB0eSA9ICEhZW1wdHlFbGVtZW50c1t0YWdOYW1lXTtcbiAgaWYgKGVtcHR5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBSZW5kZXIgaW5uZXJIVE1MXG4gIGNvbnN0IGlubmVySFRNTCA9IGF0dHJpYnV0ZXMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG4gIGlmIChpbm5lckhUTUwpIHtcbiAgICBzdHJlYW0ud3JpdGUoaW5uZXJIVE1MKTtcbiAgICBzdHJlYW0ud3JpdGUoYDwvJHt0YWdOYW1lfT5gKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5leHBvcnQgY29uc3QgbWVyZ2VDaGlsZHJlbiA9IChhOiBhbnksIGI6IGFueSk6IGFueVtdID0+IHtcbiAgY29uc3Qgb3V0cHV0ID0gW107XG4gIGlmIChhKSB7XG4gICAgaWYgKGlzQXJyYXkoYSkpIHtcbiAgICAgIG91dHB1dC5wdXNoKC4uLmEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQucHVzaChhKTtcbiAgICB9XG4gIH1cbiAgaWYgKGIpIHtcbiAgICBpZiAoaXNBcnJheShiKSkge1xuICAgICAgb3V0cHV0LnB1c2goLi4uYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKGIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0cHV0O1xufTtcblxuZXhwb3J0IGNvbnN0IHJlbmRlclNTUkNvbXBvbmVudCA9IChcbiAgc3NyQ3R4OiBTU1JDb250ZXh0LFxuICBzdHJlYW06IFN0cmVhbVdyaXRlcixcbiAgZWxDdHg6IFFDb250ZXh0LFxuICBub2RlOiBKU1hOb2RlPHR5cGVvZiBWaXJ0dWFsPixcbiAgZmxhZ3M6IG51bWJlcixcbiAgYmVmb3JlQ2xvc2U/OiAoc3RyZWFtOiBTdHJlYW1Xcml0ZXIpID0+IFZhbHVlT3JQcm9taXNlPHZvaWQ+XG4pOiBWYWx1ZU9yUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB1cGRhdGVDb21wb25lbnRQcm9wZXJ0aWVzKFxuICAgIHNzckN0eC5yY3R4LFxuICAgIGVsQ3R4LFxuICAgIG5vZGUucHJvcHNcbiAgKTtcbiAgcmV0dXJuIHRoZW4oZXhlY3V0ZUNvbXBvbmVudChzc3JDdHgucmN0eCwgZWxDdHgpLCAocmVzKSA9PiB7XG4gICAgaWYgKCFyZXMpIHtcbiAgICAgIGxvZ0Vycm9yKCdjb21wb25lbnQgd2FzIG5vdCByZW5kZXJlZCBkdXJpbmcgU1NSJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaG9zdEVsZW1lbnQgPSBlbEN0eC4kZWxlbWVudCQ7XG4gICAgY29uc3QgbmV3Q3R4ID0gcmVzLnJjdHg7XG4gICAgbGV0IGNoaWxkcmVuID0gbm9kZS5wcm9wcy5jaGlsZHJlbjtcbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICBpZiAoY2hpbGRyZW4uZmlsdGVyKGlzTm90TnVsbGFibGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNoaWxkcmVuID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGlsZHJlbiA9IFtjaGlsZHJlbl07XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGludm9jYXRpb25Db250ZXh0ID0gbmV3SW52b2tlQ29udGV4dChuZXdDdHguJHN0YXRpYyQuJGRvYyQsIGhvc3RFbGVtZW50LCB1bmRlZmluZWQpO1xuICAgIGludm9jYXRpb25Db250ZXh0LiRzdWJzY3JpYmVyJCA9IGhvc3RFbGVtZW50O1xuICAgIGludm9jYXRpb25Db250ZXh0LiRyZW5kZXJDdHgkID0gbmV3Q3R4O1xuICAgIGNvbnN0IHByb2plY3RlZENvbnRleHQ6IFNTUkNvbnRleHQgPSB7XG4gICAgICAuLi5zc3JDdHgsXG4gICAgICByY3R4OiBuZXdDdHgsXG4gICAgfTtcbiAgICBjb25zdCBuZXdTU3JDb250ZXh0OiBTU1JDb250ZXh0ID0ge1xuICAgICAgLi4uc3NyQ3R4LFxuICAgICAgcHJvamVjdGVkQ2hpbGRyZW46IHNwbGl0UHJvamVjdGVkQ2hpbGRyZW4oY2hpbGRyZW4sIHNzckN0eCksXG4gICAgICBwcm9qZWN0ZWRDb250ZXh0LFxuICAgICAgcmN0eDogbmV3Q3R4LFxuICAgICAgaW52b2NhdGlvbkNvbnRleHQsXG4gICAgfTtcblxuICAgIGNvbnN0IGV4dHJhTm9kZXM6IEpTWE5vZGU8c3RyaW5nPltdID0gW107XG4gICAgY29uc3Qgc3R5bGVDbGFzc2VzID0gW107XG4gICAgaWYgKGVsQ3R4LiRhcHBlbmRTdHlsZXMkKSB7XG4gICAgICBjb25zdCBpc0hUTUwgPSAhIShmbGFncyAmIElTX0hUTUwpO1xuICAgICAgY29uc3QgYXJyYXkgPSBpc0hUTUwgPyBzc3JDdHguaGVhZE5vZGVzIDogZXh0cmFOb2RlcztcbiAgICAgIGZvciAoY29uc3Qgc3R5bGUgb2YgZWxDdHguJGFwcGVuZFN0eWxlcyQpIHtcbiAgICAgICAgYXJyYXkucHVzaChcbiAgICAgICAgICBqc3goJ3N0eWxlJywge1xuICAgICAgICAgICAgW1FTdHlsZV06IHN0eWxlLnN0eWxlSWQsXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogc3R5bGUuY29udGVudCxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWxDdHguJHNjb3BlSWRzJCkge1xuICAgICAgZm9yIChjb25zdCBzdHlsZUlkIG9mIGVsQ3R4LiRzY29wZUlkcyQpIHtcbiAgICAgICAgc3R5bGVDbGFzc2VzLnB1c2goc3R5bGVIb3N0KHN0eWxlSWQpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gc2VyaWFsaXplU1N0eWxlKGVsQ3R4LiRzY29wZUlkcyQpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGF0dHJpYnV0ZXNbUVNjb3BlZFN0eWxlXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBuZXdJRCA9IGdldE5leHRJbmRleChzc3JDdHgucmN0eCk7XG4gICAgYXR0cmlidXRlc1tFTEVNRU5UX0lEXSA9IG5ld0lEO1xuICAgIGVsQ3R4LiRpZCQgPSBuZXdJRDtcbiAgICBzc3JDdHguJGNvbnRleHRzJC5wdXNoKGVsQ3R4KTtcblxuICAgIGNvbnN0IHByb2Nlc3NlZE5vZGUgPSBqc3goXG4gICAgICBub2RlLnR5cGUsXG4gICAgICB7XG4gICAgICAgIC4uLmF0dHJpYnV0ZXMsXG4gICAgICAgIGNoaWxkcmVuOiByZXMubm9kZSxcbiAgICAgIH0sXG4gICAgICBub2RlLmtleVxuICAgICk7XG5cbiAgICBuZXdTU3JDb250ZXh0Lmhvc3RDdHggPSBlbEN0eDtcblxuICAgIHJldHVybiByZW5kZXJOb2RlVmlydHVhbChcbiAgICAgIHByb2Nlc3NlZE5vZGUsXG4gICAgICBlbEN0eCxcbiAgICAgIGV4dHJhTm9kZXMsXG4gICAgICBuZXdTU3JDb250ZXh0LFxuICAgICAgc3RyZWFtLFxuICAgICAgZmxhZ3MsXG4gICAgICAoc3RyZWFtKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGVuKHJlbmRlclFUZW1wbGF0ZXMobmV3U1NyQ29udGV4dCwgc3RyZWFtKSwgKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBiZWZvcmVDbG9zZT8uKHN0cmVhbSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH0pO1xufTtcblxuY29uc3QgcmVuZGVyUVRlbXBsYXRlcyA9IChzc3JDb250ZXh0OiBTU1JDb250ZXh0LCBzdHJlYW06IFN0cmVhbVdyaXRlcikgPT4ge1xuICBjb25zdCBwcm9qZWN0ZWRDaGlsZHJlbiA9IHNzckNvbnRleHQucHJvamVjdGVkQ2hpbGRyZW47XG4gIGlmIChwcm9qZWN0ZWRDaGlsZHJlbikge1xuICAgIGNvbnN0IG5vZGVzID0gT2JqZWN0LmtleXMocHJvamVjdGVkQ2hpbGRyZW4pLm1hcCgoc2xvdE5hbWUpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcHJvamVjdGVkQ2hpbGRyZW5bc2xvdE5hbWVdO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBqc3goJ3E6dGVtcGxhdGUnLCB7XG4gICAgICAgICAgW1FTbG90XTogc2xvdE5hbWUsXG4gICAgICAgICAgaGlkZGVuOiAnJyxcbiAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgICAgICAgY2hpbGRyZW46IHZhbHVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcHJvY2Vzc0RhdGEobm9kZXMsIHNzckNvbnRleHQsIHN0cmVhbSwgMCwgdW5kZWZpbmVkKTtcbiAgfVxufTtcblxuY29uc3Qgc3BsaXRQcm9qZWN0ZWRDaGlsZHJlbiA9IChjaGlsZHJlbjogYW55LCBzc3JDdHg6IFNTUkNvbnRleHQpID0+IHtcbiAgY29uc3QgZmxhdENoaWxkcmVuID0gZmxhdFZpcnR1YWxDaGlsZHJlbihjaGlsZHJlbiwgc3NyQ3R4KTtcbiAgaWYgKGZsYXRDaGlsZHJlbiA9PT0gbnVsbCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgY29uc3Qgc2xvdE1hcDogUmVjb3JkPHN0cmluZywgYW55W10+ID0ge307XG5cbiAgZm9yIChjb25zdCBjaGlsZCBvZiBmbGF0Q2hpbGRyZW4pIHtcbiAgICBsZXQgc2xvdE5hbWUgPSAnJztcbiAgICBpZiAoaXNKU1hOb2RlKGNoaWxkKSkge1xuICAgICAgc2xvdE5hbWUgPSBjaGlsZC5wcm9wc1tRU2xvdF0gPz8gJyc7XG4gICAgfVxuICAgIGxldCBhcnJheSA9IHNsb3RNYXBbc2xvdE5hbWVdO1xuICAgIGlmICghYXJyYXkpIHtcbiAgICAgIHNsb3RNYXBbc2xvdE5hbWVdID0gYXJyYXkgPSBbXTtcbiAgICB9XG4gICAgYXJyYXkucHVzaChjaGlsZCk7XG4gIH1cbiAgcmV0dXJuIHNsb3RNYXA7XG59O1xuXG5leHBvcnQgY29uc3QgcmVuZGVyTm9kZSA9IChcbiAgbm9kZTogSlNYTm9kZSxcbiAgc3NyQ3R4OiBTU1JDb250ZXh0LFxuICBzdHJlYW06IFN0cmVhbVdyaXRlcixcbiAgZmxhZ3M6IG51bWJlcixcbiAgYmVmb3JlQ2xvc2U/OiAoc3RyZWFtOiBTdHJlYW1Xcml0ZXIpID0+IFZhbHVlT3JQcm9taXNlPHZvaWQ+XG4pID0+IHtcbiAgaWYgKHR5cGVvZiBub2RlLnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHJlbmRlck5vZGVFbGVtZW50KFxuICAgICAgbm9kZSBhcyBKU1hOb2RlPHN0cmluZz4sXG4gICAgICB1bmRlZmluZWQsXG4gICAgICB1bmRlZmluZWQsXG4gICAgICBzc3JDdHgsXG4gICAgICBzdHJlYW0sXG4gICAgICBmbGFncyxcbiAgICAgIGJlZm9yZUNsb3NlXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVuZGVyTm9kZUZ1bmN0aW9uKFxuICAgICAgbm9kZSBhcyBKU1hOb2RlPEZ1bmN0aW9uQ29tcG9uZW50PixcbiAgICAgIHNzckN0eCxcbiAgICAgIHN0cmVhbSxcbiAgICAgIGZsYWdzLFxuICAgICAgYmVmb3JlQ2xvc2VcbiAgICApO1xuICB9XG59O1xuZXhwb3J0IGNvbnN0IHByb2Nlc3NEYXRhID0gKFxuICBub2RlOiBhbnksXG4gIHNzckN0eDogU1NSQ29udGV4dCxcbiAgc3RyZWFtOiBTdHJlYW1Xcml0ZXIsXG4gIGZsYWdzOiBudW1iZXIsXG4gIGJlZm9yZUNsb3NlPzogKHN0cmVhbTogU3RyZWFtV3JpdGVyKSA9PiBWYWx1ZU9yUHJvbWlzZTx2b2lkPlxuKTogVmFsdWVPclByb21pc2U8dm9pZD4gPT4ge1xuICBpZiAobm9kZSA9PSBudWxsIHx8IHR5cGVvZiBub2RlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGlzSlNYTm9kZShub2RlKSkge1xuICAgIHJldHVybiByZW5kZXJOb2RlKG5vZGUsIHNzckN0eCwgc3RyZWFtLCBmbGFncywgYmVmb3JlQ2xvc2UpO1xuICB9IGVsc2UgaWYgKGlzUHJvbWlzZShub2RlKSkge1xuICAgIHJldHVybiBub2RlLnRoZW4oKG5vZGUpID0+IHByb2Nlc3NEYXRhKG5vZGUsIHNzckN0eCwgc3RyZWFtLCBmbGFncywgYmVmb3JlQ2xvc2UpKTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KG5vZGUpKSB7XG4gICAgbm9kZSA9IF9mbGF0VmlydHVhbENoaWxkcmVuKG5vZGUsIHNzckN0eCk7XG4gICAgcmV0dXJuIHdhbGtDaGlsZHJlbihub2RlLCBzc3JDdHgsIHN0cmVhbSwgZmxhZ3MpO1xuICB9IGVsc2UgaWYgKGlzU3RyaW5nKG5vZGUpIHx8IHR5cGVvZiBub2RlID09PSAnbnVtYmVyJykge1xuICAgIGlmICgoZmxhZ3MgJiBJU19SQVdfQ09OVEVOVCkgIT09IDApIHtcbiAgICAgIHN0cmVhbS53cml0ZShTdHJpbmcobm9kZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJlYW0ud3JpdGUoZXNjYXBlKFN0cmluZyhub2RlKSkpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBsb2dXYXJuKCdBIHVuc3VwcG9ydGVkIHZhbHVlIHdhcyBwYXNzZWQgdG8gdGhlIEpTWCwgc2tpcHBpbmcgcmVuZGVyLiBWYWx1ZTonLCBub2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gd2Fsa0NoaWxkcmVuKFxuICBjaGlsZHJlbjogYW55LFxuICBzc3JDb250ZXh0OiBTU1JDb250ZXh0LFxuICBzdHJlYW06IFN0cmVhbVdyaXRlcixcbiAgZmxhZ3M6IG51bWJlclxuKTogVmFsdWVPclByb21pc2U8dm9pZD4ge1xuICBpZiAoY2hpbGRyZW4gPT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoIWlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NEYXRhKGNoaWxkcmVuLCBzc3JDb250ZXh0LCBzdHJlYW0sIGZsYWdzKTtcbiAgfVxuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIHByb2Nlc3NEYXRhKGNoaWxkcmVuWzBdLCBzc3JDb250ZXh0LCBzdHJlYW0sIGZsYWdzKTtcbiAgfVxuICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XG4gIGNvbnN0IGJ1ZmZlcnM6IHN0cmluZ1tdW10gPSBbXTtcbiAgcmV0dXJuIGNoaWxkcmVuLnJlZHVjZSgocHJldlByb21pc2UsIGNoaWxkLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGJ1ZmZlcjogc3RyaW5nW10gPSBbXTtcbiAgICBidWZmZXJzLnB1c2goYnVmZmVyKTtcbiAgICBjb25zdCBsb2NhbFN0cmVhbTogU3RyZWFtV3JpdGVyID0ge1xuICAgICAgd3JpdGUoY2h1bmspIHtcbiAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgICBzdHJlYW0ud3JpdGUoY2h1bmspO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGJ1ZmZlci5wdXNoKGNodW5rKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiB0aGVuKHByb2Nlc3NEYXRhKGNoaWxkLCBzc3JDb250ZXh0LCBsb2NhbFN0cmVhbSwgZmxhZ3MpLCAoKSA9PiB7XG4gICAgICByZXR1cm4gdGhlbihwcmV2UHJvbWlzZSwgKCkgPT4ge1xuICAgICAgICBjdXJyZW50SW5kZXgrKztcbiAgICAgICAgaWYgKGJ1ZmZlcnMubGVuZ3RoID4gY3VycmVudEluZGV4KSB7XG4gICAgICAgICAgYnVmZmVyc1tjdXJyZW50SW5kZXhdLmZvckVhY2goKGNodW5rKSA9PiBzdHJlYW0ud3JpdGUoY2h1bmspKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sIHVuZGVmaW5lZCk7XG59XG5cbmV4cG9ydCBjb25zdCBmbGF0VmlydHVhbENoaWxkcmVuID0gKGNoaWxkcmVuOiBhbnksIHNzckN0eDogU1NSQ29udGV4dCk6IGFueVtdIHwgbnVsbCA9PiB7XG4gIGlmIChjaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgcmVzdWx0ID0gX2ZsYXRWaXJ0dWFsQ2hpbGRyZW4oY2hpbGRyZW4sIHNzckN0eCk7XG4gIGNvbnN0IG5vZGVzID0gaXNBcnJheShyZXN1bHQpID8gcmVzdWx0IDogW3Jlc3VsdF07XG4gIGlmIChub2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gbm9kZXM7XG59O1xuXG5leHBvcnQgY29uc3QgX2ZsYXRWaXJ0dWFsQ2hpbGRyZW4gPSAoY2hpbGRyZW46IGFueSwgc3NyQ3R4OiBTU1JDb250ZXh0KTogYW55ID0+IHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICByZXR1cm4gY2hpbGRyZW4uZmxhdE1hcCgoYykgPT4gX2ZsYXRWaXJ0dWFsQ2hpbGRyZW4oYywgc3NyQ3R4KSk7XG4gIH0gZWxzZSBpZiAoXG4gICAgaXNKU1hOb2RlKGNoaWxkcmVuKSAmJlxuICAgIGlzRnVuY3Rpb24oY2hpbGRyZW4udHlwZSkgJiZcbiAgICBjaGlsZHJlbi50eXBlICE9PSBTU1JDb21tZW50ICYmXG4gICAgY2hpbGRyZW4udHlwZSAhPT0gSW50ZXJuYWxTU1JTdHJlYW0gJiZcbiAgICBjaGlsZHJlbi50eXBlICE9PSBWaXJ0dWFsXG4gICkge1xuICAgIGNvbnN0IGZuID0gY2hpbGRyZW4udHlwZTtcbiAgICBjb25zdCByZXMgPSBzc3JDdHguaW52b2NhdGlvbkNvbnRleHRcbiAgICAgID8gaW52b2tlKHNzckN0eC5pbnZvY2F0aW9uQ29udGV4dCwgKCkgPT4gZm4oY2hpbGRyZW4ucHJvcHMsIGNoaWxkcmVuLmtleSkpXG4gICAgICA6IGZuKGNoaWxkcmVuLnByb3BzLCBjaGlsZHJlbi5rZXkpO1xuICAgIHJldHVybiBmbGF0VmlydHVhbENoaWxkcmVuKHJlcywgc3NyQ3R4KTtcbiAgfVxuICByZXR1cm4gY2hpbGRyZW47XG59O1xuXG5jb25zdCB1cGRhdGVQcm9wZXJ0aWVzID0gKGN0eDogUUNvbnRleHQsIGV4cGVjdFByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbCkgPT4ge1xuICBjb25zdCBhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4gIGlmICghZXhwZWN0UHJvcHMpIHtcbiAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgfVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZXhwZWN0UHJvcHMpO1xuICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgfVxuICBjb25zdCBlbG0gPSBjdHguJGVsZW1lbnQkO1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgaWYgKGtleSA9PT0gJ2NoaWxkcmVuJyB8fCBrZXkgPT09IE9uUmVuZGVyUHJvcCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IG5ld1ZhbHVlID0gZXhwZWN0UHJvcHNba2V5XTtcbiAgICBpZiAoa2V5ID09PSAncmVmJykge1xuICAgICAgKG5ld1ZhbHVlIGFzIFJlZjxFbGVtZW50PikuY3VycmVudCA9IGVsbSBhcyBFbGVtZW50O1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gRWFybHkgZXhpdCBpZiB2YWx1ZSBkaWRudCBjaGFuZ2VcbiAgICAvLyBDaGVjayBvZiBkYXRhLSBvciBhcmlhLVxuICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnZGF0YS0nKSB8fCBrZXkuc3RhcnRzV2l0aCgnYXJpYS0nKSkge1xuICAgICAgYXR0cmlidXRlc1trZXldID0gbmV3VmFsdWU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoaXNPblByb3Aoa2V5KSkge1xuICAgICAgc2V0RXZlbnQoY3R4LmxpLCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGl0cyBhbiBleGNlcHRpb25cbiAgICBzZXRQcm9wZXJ0eShhdHRyaWJ1dGVzLCBrZXksIG5ld1ZhbHVlKTtcbiAgfVxuICByZXR1cm4gYXR0cmlidXRlcztcbn07XG5cbmNvbnN0IHVwZGF0ZUNvbXBvbmVudFByb3BlcnRpZXMgPSAoXG4gIHJjdHg6IFJlbmRlckNvbnRleHQsXG4gIGN0eDogUUNvbnRleHQsXG4gIGV4cGVjdFByb3BzOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHwgbnVsbFxuKSA9PiB7XG4gIGNvbnN0IGF0dHJpYnV0ZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgaWYgKCFleHBlY3RQcm9wcykge1xuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhleHBlY3RQcm9wcyk7XG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG4gIGNvbnN0IHF3aWtQcm9wcyA9IGdldFByb3BzTXV0YXRvcihjdHgsIHJjdHguJHN0YXRpYyQuJGNvbnRhaW5lclN0YXRlJCk7XG4gIGZvciAoY29uc3Qga2V5IG9mIGtleXMpIHtcbiAgICBpZiAoa2V5ID09PSAnY2hpbGRyZW4nIHx8IGtleSA9PT0gT25SZW5kZXJQcm9wKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgY29uc3QgbmV3VmFsdWUgPSBleHBlY3RQcm9wc1trZXldO1xuXG4gICAgY29uc3Qgc2tpcFByb3BlcnR5ID0gQUxMT1dTX1BST1BTLmluY2x1ZGVzKGtleSk7XG4gICAgaWYgKCFza2lwUHJvcGVydHkpIHtcbiAgICAgIC8vIFF3aWsgcHJvcHNcbiAgICAgIHF3aWtQcm9wcy5zZXQoa2V5LCBuZXdWYWx1ZSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgc2V0UHJvcGVydHkoYXR0cmlidXRlcywga2V5LCBuZXdWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG5mdW5jdGlvbiBzZXRQcm9wZXJ0eShhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LCBwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnkpIHtcbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgcHJvcCA9IHByb2Nlc3NQcm9wS2V5KHByb3ApO1xuICAgIGNvbnN0IGF0dHJWYWx1ZSA9IHByb2Nlc3NQcm9wVmFsdWUocHJvcCwgdmFsdWUsIGF0dHJpYnV0ZXNbcHJvcF0pO1xuICAgIGlmIChhdHRyVmFsdWUgIT09IG51bGwpIHtcbiAgICAgIGF0dHJpYnV0ZXNbcHJvcF0gPSBhdHRyVmFsdWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NQcm9wS2V5KHByb3A6IHN0cmluZykge1xuICBpZiAocHJvcCA9PT0gJ2NsYXNzTmFtZScpIHtcbiAgICByZXR1cm4gJ2NsYXNzJztcbiAgfVxuICByZXR1cm4gcHJvcDtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc1Byb3BWYWx1ZShwcm9wOiBzdHJpbmcsIHZhbHVlOiBhbnksIHByZXZWYWx1ZTogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgbnVsbCB7XG4gIGlmIChwcm9wID09PSAnY2xhc3MnKSB7XG4gICAgY29uc3Qgc3RyID0gam9pbkNsYXNzZXModmFsdWUsIHByZXZWYWx1ZSk7XG4gICAgcmV0dXJuIHN0ciA9PT0gJycgPyBudWxsIDogc3RyO1xuICB9XG4gIGlmIChwcm9wID09PSAnc3R5bGUnKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeVN0eWxlKHZhbHVlKTtcbiAgfVxuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAodmFsdWUgPT09IHRydWUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG59XG5cbmNvbnN0IGhhc1Jhd0NvbnRlbnQ6IFJlY29yZDxzdHJpbmcsIHRydWUgfCB1bmRlZmluZWQ+ID0ge1xuICBzdHlsZTogdHJ1ZSxcbiAgc2NyaXB0OiB0cnVlLFxufTtcblxuY29uc3QgZW1wdHlFbGVtZW50czogUmVjb3JkPHN0cmluZywgdHJ1ZSB8IHVuZGVmaW5lZD4gPSB7XG4gIGFyZWE6IHRydWUsXG4gIGJhc2U6IHRydWUsXG4gIGJhc2Vmb250OiB0cnVlLFxuICBiZ3NvdW5kOiB0cnVlLFxuICBicjogdHJ1ZSxcbiAgY29sOiB0cnVlLFxuICBlbWJlZDogdHJ1ZSxcbiAgZnJhbWU6IHRydWUsXG4gIGhyOiB0cnVlLFxuICBpbWc6IHRydWUsXG4gIGlucHV0OiB0cnVlLFxuICBrZXlnZW46IHRydWUsXG4gIGxpbms6IHRydWUsXG4gIG1ldGE6IHRydWUsXG4gIHBhcmFtOiB0cnVlLFxuICBzb3VyY2U6IHRydWUsXG4gIHRyYWNrOiB0cnVlLFxuICB3YnI6IHRydWUsXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNlcnZlckRvY3VtZW50IHtcbiAgbm9kZVR5cGU6IDk7XG4gIHBhcmVudEVsZW1lbnQ6IG51bGw7XG4gIG93bmVyRG9jdW1lbnQ6IG51bGw7XG4gIGNyZWF0ZUVsZW1lbnQodGFnTmFtZTogc3RyaW5nKTogYW55O1xufVxuXG5leHBvcnQgY29uc3QgZXNjYXBlID0gKHM6IHN0cmluZykgPT4ge1xuICByZXR1cm4gcy5yZXBsYWNlKC9bJjw+XFx1MDBBMF0vZywgKGMpID0+IHtcbiAgICBzd2l0Y2ggKGMpIHtcbiAgICAgIGNhc2UgJyYnOlxuICAgICAgICByZXR1cm4gJyZhbXA7JztcbiAgICAgIGNhc2UgJzwnOlxuICAgICAgICByZXR1cm4gJyZsdDsnO1xuICAgICAgY2FzZSAnPic6XG4gICAgICAgIHJldHVybiAnJmd0Oyc7XG4gICAgICBjYXNlICdcXHUwMEEwJzpcbiAgICAgICAgcmV0dXJuICcmbmJzcDsnO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgZXNjYXBlQXR0ciA9IChzOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgdG9Fc2NhcGUgPSAvWyZcIlxcdTAwQTBdL2c7XG4gIGlmICghdG9Fc2NhcGUudGVzdChzKSkge1xuICAgIC8vIG5vdGhpbmcgdG8gZG8sIGZhc3QgcGF0aFxuICAgIHJldHVybiBzO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzLnJlcGxhY2UodG9Fc2NhcGUsIChjKSA9PiB7XG4gICAgICBzd2l0Y2ggKGMpIHtcbiAgICAgICAgY2FzZSAnJic6XG4gICAgICAgICAgcmV0dXJuICcmYW1wOyc7XG4gICAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgICByZXR1cm4gJyZxdW90Oyc7XG4gICAgICAgIGNhc2UgJ1xcdTAwQTAnOlxuICAgICAgICAgIHJldHVybiAnJm5ic3A7JztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG4iXX0=","import { createProxy, QObjectRecursive } from '../object/q-object';\nimport { isFunction } from '../util/types';\nimport { useSequentialScope } from './use-sequential-scope';\n// <docs markdown=\"../readme.md#useStore\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStore instead)\n/**\n * Creates an object that Qwik can track across serializations.\n *\n * Use `useStore` to create a state for your application. The returned object is a proxy that has\n * a unique ID. The ID of the object is used in the `QRL`s to refer to the store.\n *\n * ## Example\n *\n * Example showing how `useStore` is used in Counter example to keep track of the count.\n *\n * ```tsx\n * const Stores = component$(() => {\n *   const counter = useCounter(1);\n *\n *   // Reactivity happens even for nested objects and arrays\n *   const userData = useStore({\n *     name: 'Manu',\n *     address: {\n *       address: '',\n *       city: '',\n *     },\n *     orgs: [],\n *   });\n *\n *   // useStore() can also accept a function to calculate the initial value\n *   const state = useStore(() => {\n *     return {\n *       value: expensiveInitialValue(),\n *     };\n *   });\n *\n *   return (\n *     <div>\n *       <div>Counter: {counter.value}</div>\n *       <Child userData={userData} state={state} />\n *     </div>\n *   );\n * });\n *\n * function useCounter(step: number) {\n *   // Multiple stores can be created in custom hooks for convenience and composability\n *   const counterStore = useStore({\n *     value: 0,\n *   });\n *   useClientEffect$(() => {\n *     // Only runs in the client\n *     const timer = setInterval(() => {\n *       counterStore.value += step;\n *     }, 500);\n *     return () => {\n *       clearInterval(timer);\n *     };\n *   });\n *   return counterStore;\n * }\n * ```\n *\n * @public\n */\n// </docs>\nexport const useStore = (initialState, opts) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get != null) {\n        return get;\n    }\n    const value = isFunction(initialState) ? initialState() : initialState;\n    if (opts?.reactive === false) {\n        set(value);\n        return value;\n    }\n    else {\n        const containerState = ctx.$renderCtx$.$static$.$containerState$;\n        const recursive = opts?.recursive ?? false;\n        const flags = recursive ? QObjectRecursive : 0;\n        const newStore = createProxy(value, containerState, flags, undefined);\n        set(newStore);\n        return newStore;\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0b3JlLnB1YmxpYy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0b3JlLnB1YmxpYy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDbkUsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMzQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQVU1RCwwQ0FBMEM7QUFDMUMseUNBQXlDO0FBQ3pDLHVDQUF1QztBQUN2Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQTBERztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxRQUFRLEdBQUcsQ0FDdEIsWUFBbUMsRUFDbkMsSUFBc0IsRUFDZixFQUFFO0lBQ1QsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsa0JBQWtCLEVBQVMsQ0FBQztJQUN0RCxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7UUFDZixPQUFPLEdBQUcsQ0FBQztLQUNaO0lBQ0QsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBRSxZQUF5QixFQUFFLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztJQUNyRixJQUFJLElBQUksRUFBRSxRQUFRLEtBQUssS0FBSyxFQUFFO1FBQzVCLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNYLE9BQU8sS0FBSyxDQUFDO0tBQ2Q7U0FBTTtRQUNMLE1BQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDO1FBQ2pFLE1BQU0sU0FBUyxHQUFHLElBQUksRUFBRSxTQUFTLElBQUksS0FBSyxDQUFDO1FBQzNDLE1BQU0sS0FBSyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMvQyxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsS0FBSyxFQUFFLGNBQWMsRUFBRSxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDdEUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ2QsT0FBTyxRQUFRLENBQUM7S0FDakI7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVQcm94eSwgUU9iamVjdFJlY3Vyc2l2ZSB9IGZyb20gJy4uL29iamVjdC9xLW9iamVjdCc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC90eXBlcyc7XG5pbXBvcnQgeyB1c2VTZXF1ZW50aWFsU2NvcGUgfSBmcm9tICcuL3VzZS1zZXF1ZW50aWFsLXNjb3BlJztcblxuLyoqXG4gKiBAcHVibGljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3RvcmVPcHRpb25zIHtcbiAgcmVjdXJzaXZlPzogYm9vbGVhbjtcbiAgcmVhY3RpdmU/OiBib29sZWFuO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTdG9yZVwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VTdG9yZSBpbnN0ZWFkKVxuLyoqXG4gKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IFF3aWsgY2FuIHRyYWNrIGFjcm9zcyBzZXJpYWxpemF0aW9ucy5cbiAqXG4gKiBVc2UgYHVzZVN0b3JlYCB0byBjcmVhdGUgYSBzdGF0ZSBmb3IgeW91ciBhcHBsaWNhdGlvbi4gVGhlIHJldHVybmVkIG9iamVjdCBpcyBhIHByb3h5IHRoYXQgaGFzXG4gKiBhIHVuaXF1ZSBJRC4gVGhlIElEIG9mIHRoZSBvYmplY3QgaXMgdXNlZCBpbiB0aGUgYFFSTGBzIHRvIHJlZmVyIHRvIHRoZSBzdG9yZS5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogRXhhbXBsZSBzaG93aW5nIGhvdyBgdXNlU3RvcmVgIGlzIHVzZWQgaW4gQ291bnRlciBleGFtcGxlIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGNvdW50LlxuICpcbiAqIGBgYHRzeFxuICogY29uc3QgU3RvcmVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IGNvdW50ZXIgPSB1c2VDb3VudGVyKDEpO1xuICpcbiAqICAgLy8gUmVhY3Rpdml0eSBoYXBwZW5zIGV2ZW4gZm9yIG5lc3RlZCBvYmplY3RzIGFuZCBhcnJheXNcbiAqICAgY29uc3QgdXNlckRhdGEgPSB1c2VTdG9yZSh7XG4gKiAgICAgbmFtZTogJ01hbnUnLFxuICogICAgIGFkZHJlc3M6IHtcbiAqICAgICAgIGFkZHJlc3M6ICcnLFxuICogICAgICAgY2l0eTogJycsXG4gKiAgICAgfSxcbiAqICAgICBvcmdzOiBbXSxcbiAqICAgfSk7XG4gKlxuICogICAvLyB1c2VTdG9yZSgpIGNhbiBhbHNvIGFjY2VwdCBhIGZ1bmN0aW9uIHRvIGNhbGN1bGF0ZSB0aGUgaW5pdGlhbCB2YWx1ZVxuICogICBjb25zdCBzdGF0ZSA9IHVzZVN0b3JlKCgpID0+IHtcbiAqICAgICByZXR1cm4ge1xuICogICAgICAgdmFsdWU6IGV4cGVuc2l2ZUluaXRpYWxWYWx1ZSgpLFxuICogICAgIH07XG4gKiAgIH0pO1xuICpcbiAqICAgcmV0dXJuIChcbiAqICAgICA8ZGl2PlxuICogICAgICAgPGRpdj5Db3VudGVyOiB7Y291bnRlci52YWx1ZX08L2Rpdj5cbiAqICAgICAgIDxDaGlsZCB1c2VyRGF0YT17dXNlckRhdGF9IHN0YXRlPXtzdGF0ZX0gLz5cbiAqICAgICA8L2Rpdj5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGZ1bmN0aW9uIHVzZUNvdW50ZXIoc3RlcDogbnVtYmVyKSB7XG4gKiAgIC8vIE11bHRpcGxlIHN0b3JlcyBjYW4gYmUgY3JlYXRlZCBpbiBjdXN0b20gaG9va3MgZm9yIGNvbnZlbmllbmNlIGFuZCBjb21wb3NhYmlsaXR5XG4gKiAgIGNvbnN0IGNvdW50ZXJTdG9yZSA9IHVzZVN0b3JlKHtcbiAqICAgICB2YWx1ZTogMCxcbiAqICAgfSk7XG4gKiAgIHVzZUNsaWVudEVmZmVjdCQoKCkgPT4ge1xuICogICAgIC8vIE9ubHkgcnVucyBpbiB0aGUgY2xpZW50XG4gKiAgICAgY29uc3QgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gKiAgICAgICBjb3VudGVyU3RvcmUudmFsdWUgKz0gc3RlcDtcbiAqICAgICB9LCA1MDApO1xuICogICAgIHJldHVybiAoKSA9PiB7XG4gKiAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAqICAgICB9O1xuICogICB9KTtcbiAqICAgcmV0dXJuIGNvdW50ZXJTdG9yZTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVN0b3JlID0gPFNUQVRFIGV4dGVuZHMgb2JqZWN0PihcbiAgaW5pdGlhbFN0YXRlOiBTVEFURSB8ICgoKSA9PiBTVEFURSksXG4gIG9wdHM/OiBVc2VTdG9yZU9wdGlvbnNcbik6IFNUQVRFID0+IHtcbiAgY29uc3QgeyBnZXQsIHNldCwgY3R4IH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8U1RBVEU+KCk7XG4gIGlmIChnZXQgIT0gbnVsbCkge1xuICAgIHJldHVybiBnZXQ7XG4gIH1cbiAgY29uc3QgdmFsdWUgPSBpc0Z1bmN0aW9uKGluaXRpYWxTdGF0ZSkgPyAoaW5pdGlhbFN0YXRlIGFzIEZ1bmN0aW9uKSgpIDogaW5pdGlhbFN0YXRlO1xuICBpZiAob3B0cz8ucmVhY3RpdmUgPT09IGZhbHNlKSB7XG4gICAgc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGFpbmVyU3RhdGUgPSBjdHguJHJlbmRlckN0eCQuJHN0YXRpYyQuJGNvbnRhaW5lclN0YXRlJDtcbiAgICBjb25zdCByZWN1cnNpdmUgPSBvcHRzPy5yZWN1cnNpdmUgPz8gZmFsc2U7XG4gICAgY29uc3QgZmxhZ3MgPSByZWN1cnNpdmUgPyBRT2JqZWN0UmVjdXJzaXZlIDogMDtcbiAgICBjb25zdCBuZXdTdG9yZSA9IGNyZWF0ZVByb3h5KHZhbHVlLCBjb250YWluZXJTdGF0ZSwgZmxhZ3MsIHVuZGVmaW5lZCk7XG4gICAgc2V0KG5ld1N0b3JlKTtcbiAgICByZXR1cm4gbmV3U3RvcmU7XG4gIH1cbn07XG4iXX0=","import { useStore } from './use-store.public';\n// <docs markdown=\"../readme.md#useRef\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useRef instead)\n/**\n * It's a very thin wrapper around `useStore()`, including the proper type signature to be passed\n * to the `ref` property in JSX.\n *\n * ```tsx\n * export function useRef<T = Element>(current?: T): Ref<T> {\n *   return useStore({ current });\n * }\n * ```\n *\n * ## Example\n *\n * ```tsx\n * const Cmp = component$(() => {\n *   const input = useRef<HTMLInputElement>();\n *\n *   useClientEffect$(({ track }) => {\n *     const el = track(input, 'current')!;\n *     el.focus();\n *   });\n *\n *   return (\n *     <div>\n *       <input type=\"text\" ref={input} />\n *     </div>\n *   );\n * });\n *\n * ```\n *\n * @public\n */\n// </docs>\nexport const useRef = (current) => {\n    return useStore({ current });\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXJlZi5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXJlZi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFTOUMsd0NBQXdDO0FBQ3hDLHlDQUF5QztBQUN6QyxxQ0FBcUM7QUFDckM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0ErQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQThCLE9BQVcsRUFBVSxFQUFFO0lBQ3pFLE9BQU8sUUFBUSxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztBQUMvQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdG9yZSB9IGZyb20gJy4vdXNlLXN0b3JlLnB1YmxpYyc7XG5cbi8qKlxuICogQHB1YmxpY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlZjxUPiB7XG4gIGN1cnJlbnQ6IFQgfCB1bmRlZmluZWQ7XG59XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVJlZlwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VSZWYgaW5zdGVhZClcbi8qKlxuICogSXQncyBhIHZlcnkgdGhpbiB3cmFwcGVyIGFyb3VuZCBgdXNlU3RvcmUoKWAsIGluY2x1ZGluZyB0aGUgcHJvcGVyIHR5cGUgc2lnbmF0dXJlIHRvIGJlIHBhc3NlZFxuICogdG8gdGhlIGByZWZgIHByb3BlcnR5IGluIEpTWC5cbiAqXG4gKiBgYGB0c3hcbiAqIGV4cG9ydCBmdW5jdGlvbiB1c2VSZWY8VCA9IEVsZW1lbnQ+KGN1cnJlbnQ/OiBUKTogUmVmPFQ+IHtcbiAqICAgcmV0dXJuIHVzZVN0b3JlKHsgY3VycmVudCB9KTtcbiAqIH1cbiAqIGBgYFxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIGNvbnN0IENtcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCBpbnB1dCA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PigpO1xuICpcbiAqICAgdXNlQ2xpZW50RWZmZWN0JCgoeyB0cmFjayB9KSA9PiB7XG4gKiAgICAgY29uc3QgZWwgPSB0cmFjayhpbnB1dCwgJ2N1cnJlbnQnKSE7XG4gKiAgICAgZWwuZm9jdXMoKTtcbiAqICAgfSk7XG4gKlxuICogICByZXR1cm4gKFxuICogICAgIDxkaXY+XG4gKiAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiByZWY9e2lucHV0fSAvPlxuICogICAgIDwvZGl2PlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlUmVmID0gPFQgZXh0ZW5kcyBFbGVtZW50ID0gRWxlbWVudD4oY3VycmVudD86IFQpOiBSZWY8VD4gPT4ge1xuICByZXR1cm4gdXNlU3RvcmUoeyBjdXJyZW50IH0pO1xufTtcbiJdfQ==","import { fromCamelToKebabCase } from '../util/case';\nimport { getContext, tryGetContext } from '../props/props';\nimport { qError, QError_invalidContext, QError_notFoundContext } from '../error/error';\nimport { verifySerializable } from '../object/q-object';\nimport { qDev } from '../util/qdev';\nimport { isObject } from '../util/types';\nimport { useSequentialScope } from './use-sequential-scope';\nimport { getVirtualElement, isComment, } from '../render/dom/virtual-element';\n// <docs markdown=\"../readme.md#createContext\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#createContext instead)\n/**\n * Create a context ID to be used in your application.\n *\n * Context is a way to pass stores to the child components without prop-drilling.\n *\n * Use `createContext()` to create a `Context`. `Context` is just a serializable identifier for\n * the context. It is not the context value itself. See `useContextProvider()` and `useContext()`\n * for the values. Qwik needs a serializable ID for the context so that the it can track context\n * providers and consumers in a way that survives resumability.\n *\n * ## Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContext<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n * @param name - The name of the context.\n * @public\n */\n// </docs>\nexport const createContext = (name) => {\n    return Object.freeze({\n        id: fromCamelToKebabCase(name),\n    });\n};\n// <docs markdown=\"../readme.md#useContextProvider\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useContextProvider instead)\n/**\n * Assign a value to a Context.\n *\n * Use `useContextProvider()` to assign a value to a context. The assignment happens in the\n * component's function. Once assign use `useContext()` in any child component to retrieve the\n * value.\n *\n * Context is a way to pass stores to the child components without prop-drilling.\n *\n * ## Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContext<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n * @param context - The context to assign a value to.\n * @param value - The value to assign to the context.\n * @public\n */\n// </docs>\nexport const useContextProvider = (context, newValue) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return;\n    }\n    if (qDev) {\n        validateContext(context);\n    }\n    const hostElement = ctx.$hostElement$;\n    const hostCtx = getContext(hostElement);\n    let contexts = hostCtx.$contexts$;\n    if (!contexts) {\n        hostCtx.$contexts$ = contexts = new Map();\n    }\n    if (qDev) {\n        verifySerializable(newValue);\n    }\n    contexts.set(context.id, newValue);\n    set(true);\n};\n// <docs markdown=\"../readme.md#useContext\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useContext instead)\n/**\n * Retrive Context value.\n *\n * Use `useContext()` to retrieve the value of context in a component. To retrieve a value a\n * parent component needs to invoke `useContextProvider()` to assign a value.\n *\n * ## Example\n *\n * ```tsx\n * // Declare the Context type.\n * interface TodosStore {\n *   items: string[];\n * }\n * // Create a Context ID (no data is saved here.)\n * // You will use this ID to both create and retrieve the Context.\n * export const TodosContext = createContext<TodosStore>('Todos');\n *\n * // Example of providing context to child components.\n * export const App = component$(() => {\n *   useContextProvider(\n *     TodosContext,\n *     useStore<TodosStore>({\n *       items: ['Learn Qwik', 'Build Qwik app', 'Profit'],\n *     })\n *   );\n *\n *   return <Items />;\n * });\n *\n * // Example of retrieving the context provided by a parent component.\n * export const Items = component$(() => {\n *   const todos = useContext(TodosContext);\n *   return (\n *     <ul>\n *       {todos.items.map((item) => (\n *         <li>{item}</li>\n *       ))}\n *     </ul>\n *   );\n * });\n *\n * ```\n * @param context - The context to retrieve a value from.\n * @public\n */\n// </docs>\nexport const useContext = (context) => {\n    const { get, set, ctx } = useSequentialScope();\n    if (get) {\n        return get;\n    }\n    if (qDev) {\n        validateContext(context);\n    }\n    let hostElement = ctx.$hostElement$;\n    const contexts = ctx.$renderCtx$.$localStack$;\n    for (let i = contexts.length - 1; i >= 0; i--) {\n        const ctx = contexts[i];\n        hostElement = ctx.$element$;\n        if (ctx.$contexts$) {\n            const found = ctx.$contexts$.get(context.id);\n            if (found) {\n                set(found);\n                return found;\n            }\n        }\n    }\n    if (hostElement.closest) {\n        const value = queryContextFromDom(hostElement, context.id);\n        if (value !== undefined) {\n            set(value);\n            return value;\n        }\n    }\n    throw qError(QError_notFoundContext, context.id);\n};\nexport const queryContextFromDom = (hostElement, contextId) => {\n    let element = hostElement;\n    while (element) {\n        let node = element;\n        let virtual;\n        while (node && (virtual = findVirtual(node))) {\n            const contexts = tryGetContext(virtual)?.$contexts$;\n            if (contexts) {\n                if (contexts.has(contextId)) {\n                    return contexts.get(contextId);\n                }\n            }\n            node = virtual;\n        }\n        element = element.parentElement;\n    }\n    return undefined;\n};\nexport const findVirtual = (el) => {\n    let node = el;\n    let stack = 1;\n    while ((node = node.previousSibling)) {\n        if (isComment(node)) {\n            if (node.data === '/qv') {\n                stack++;\n            }\n            else if (node.data.startsWith('qv ')) {\n                stack--;\n                if (stack === 0) {\n                    return getVirtualElement(node);\n                }\n            }\n        }\n    }\n    return null;\n};\nexport const validateContext = (context) => {\n    if (!isObject(context) || typeof context.id !== 'string' || context.id.length === 0) {\n        throw qError(QError_invalidContext, context);\n    }\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWNvbnRleHQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvdXNlL3VzZS1jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGNBQWMsQ0FBQztBQUNwRCxPQUFPLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQzNELE9BQU8sRUFBRSxNQUFNLEVBQUUscUJBQXFCLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN2RixPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sY0FBYyxDQUFDO0FBQ3BDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDekMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDNUQsT0FBTyxFQUNMLGlCQUFpQixFQUNqQixTQUFTLEdBR1YsTUFBTSwrQkFBK0IsQ0FBQztBQWlFdkMsK0NBQStDO0FBQy9DLHlDQUF5QztBQUN6Qyw0Q0FBNEM7QUFDNUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWdERztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsQ0FBdUIsSUFBWSxFQUFrQixFQUFFO0lBQ2xGLE9BQU8sTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUNuQixFQUFFLEVBQUUsb0JBQW9CLENBQUMsSUFBSSxDQUFDO0tBQ3hCLENBQUMsQ0FBQztBQUNaLENBQUMsQ0FBQztBQUVGLG9EQUFvRDtBQUNwRCx5Q0FBeUM7QUFDekMsaURBQWlEO0FBQ2pEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FnREc7QUFDSCxVQUFVO0FBQ1YsTUFB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QUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksT0FBTyxPQUFPLENBQUMsRUFBRSxLQUFLLFFBQVEsSUFBSSxPQUFPLENBQUMsRUFBRSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7UUFDbkYsTUFBTSxNQUFNLENBQUMscUJBQXFCLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDOUM7QUFDSCxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcm9tQ2FtZWxUb0tlYmFiQ2FzZSB9IGZyb20gJy4uL3V0aWwvY2FzZSc7XG5pbXBvcnQgeyBnZXRDb250ZXh0LCB0cnlHZXRDb250ZXh0IH0gZnJvbSAnLi4vcHJvcHMvcHJvcHMnO1xuaW1wb3J0IHsgcUVycm9yLCBRRXJyb3JfaW52YWxpZENvbnRleHQsIFFFcnJvcl9ub3RGb3VuZENvbnRleHQgfSBmcm9tICcuLi9lcnJvci9lcnJvcic7XG5pbXBvcnQgeyB2ZXJpZnlTZXJpYWxpemFibGUgfSBmcm9tICcuLi9vYmplY3QvcS1vYmplY3QnO1xuaW1wb3J0IHsgcURldiB9IGZyb20gJy4uL3V0aWwvcWRldic7XG5pbXBvcnQgeyBpc09iamVjdCB9IGZyb20gJy4uL3V0aWwvdHlwZXMnO1xuaW1wb3J0IHsgdXNlU2VxdWVudGlhbFNjb3BlIH0gZnJvbSAnLi91c2Utc2VxdWVudGlhbC1zY29wZSc7XG5pbXBvcnQge1xuICBnZXRWaXJ0dWFsRWxlbWVudCxcbiAgaXNDb21tZW50LFxuICBRd2lrRWxlbWVudCxcbiAgVmlydHVhbEVsZW1lbnQsXG59IGZyb20gJy4uL3JlbmRlci9kb20vdmlydHVhbC1lbGVtZW50JztcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjQ29udGV4dFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCNDb250ZXh0IGluc3RlYWQpXG4vKipcbiAqIENvbnRleHQgaXMgYSB0eXBlc2FmZSBJRCBmb3IgeW91ciBjb250ZXh0LlxuICpcbiAqIENvbnRleHQgaXMgYSB3YXkgdG8gcGFzcyBzdG9yZXMgdG8gdGhlIGNoaWxkIGNvbXBvbmVudHMgd2l0aG91dCBwcm9wLWRyaWxsaW5nLlxuICpcbiAqIFVzZSBgY3JlYXRlQ29udGV4dCgpYCB0byBjcmVhdGUgYSBgQ29udGV4dGAuIGBDb250ZXh0YCBpcyBqdXN0IGEgc2VyaWFsaXphYmxlIGlkZW50aWZpZXIgZm9yXG4gKiB0aGUgY29udGV4dC4gSXQgaXMgbm90IHRoZSBjb250ZXh0IHZhbHVlIGl0c2VsZi4gU2VlIGB1c2VDb250ZXh0UHJvdmlkZXIoKWAgYW5kIGB1c2VDb250ZXh0KClgXG4gKiBmb3IgdGhlIHZhbHVlcy4gUXdpayBuZWVkcyBhIHNlcmlhbGl6YWJsZSBJRCBmb3IgdGhlIGNvbnRleHQgc28gdGhhdCB0aGUgaXQgY2FuIHRyYWNrIGNvbnRleHRcbiAqIHByb3ZpZGVycyBhbmQgY29uc3VtZXJzIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgcmVzdW1hYmlsaXR5LlxuICpcbiAqICMjIEV4YW1wbGVcbiAqXG4gKiBgYGB0c3hcbiAqIC8vIERlY2xhcmUgdGhlIENvbnRleHQgdHlwZS5cbiAqIGludGVyZmFjZSBUb2Rvc1N0b3JlIHtcbiAqICAgaXRlbXM6IHN0cmluZ1tdO1xuICogfVxuICogLy8gQ3JlYXRlIGEgQ29udGV4dCBJRCAobm8gZGF0YSBpcyBzYXZlZCBoZXJlLilcbiAqIC8vIFlvdSB3aWxsIHVzZSB0aGlzIElEIHRvIGJvdGggY3JlYXRlIGFuZCByZXRyaWV2ZSB0aGUgQ29udGV4dC5cbiAqIGV4cG9ydCBjb25zdCBUb2Rvc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRvZG9zU3RvcmU+KCdUb2RvcycpO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcHJvdmlkaW5nIGNvbnRleHQgdG8gY2hpbGQgY29tcG9uZW50cy5cbiAqIGV4cG9ydCBjb25zdCBBcHAgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlQ29udGV4dFByb3ZpZGVyKFxuICogICAgIFRvZG9zQ29udGV4dCxcbiAqICAgICB1c2VTdG9yZTxUb2Rvc1N0b3JlPih7XG4gKiAgICAgICBpdGVtczogWydMZWFybiBRd2lrJywgJ0J1aWxkIFF3aWsgYXBwJywgJ1Byb2ZpdCddLFxuICogICAgIH0pXG4gKiAgICk7XG4gKlxuICogICByZXR1cm4gPEl0ZW1zIC8+O1xuICogfSk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiByZXRyaWV2aW5nIHRoZSBjb250ZXh0IHByb3ZpZGVkIGJ5IGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIGV4cG9ydCBjb25zdCBJdGVtcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICBjb25zdCB0b2RvcyA9IHVzZUNvbnRleHQoVG9kb3NDb250ZXh0KTtcbiAqICAgcmV0dXJuIChcbiAqICAgICA8dWw+XG4gKiAgICAgICB7dG9kb3MuaXRlbXMubWFwKChpdGVtKSA9PiAoXG4gKiAgICAgICAgIDxsaT57aXRlbX08L2xpPlxuICogICAgICAgKSl9XG4gKiAgICAgPC91bD5cbiAqICAgKTtcbiAqIH0pO1xuICpcbiAqIGBgYFxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgaW50ZXJmYWNlIENvbnRleHQ8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+IHtcbiAgLyoqXG4gICAqIERlc2lnbi10aW1lIHByb3BlcnR5IHRvIHN0b3JlIHR5cGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb250ZXh0LlxuICAgKi9cbiAgcmVhZG9ubHkgX19icmFuZF9jb250ZXh0X3R5cGVfXzogU1RBVEU7XG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBJRCBmb3IgdGhlIGNvbnRleHQuXG4gICAqL1xuICByZWFkb25seSBpZDogc3RyaW5nO1xufVxuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCNjcmVhdGVDb250ZXh0XCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI2NyZWF0ZUNvbnRleHQgaW5zdGVhZClcbi8qKlxuICogQ3JlYXRlIGEgY29udGV4dCBJRCB0byBiZSB1c2VkIGluIHlvdXIgYXBwbGljYXRpb24uXG4gKlxuICogQ29udGV4dCBpcyBhIHdheSB0byBwYXNzIHN0b3JlcyB0byB0aGUgY2hpbGQgY29tcG9uZW50cyB3aXRob3V0IHByb3AtZHJpbGxpbmcuXG4gKlxuICogVXNlIGBjcmVhdGVDb250ZXh0KClgIHRvIGNyZWF0ZSBhIGBDb250ZXh0YC4gYENvbnRleHRgIGlzIGp1c3QgYSBzZXJpYWxpemFibGUgaWRlbnRpZmllciBmb3JcbiAqIHRoZSBjb250ZXh0LiBJdCBpcyBub3QgdGhlIGNvbnRleHQgdmFsdWUgaXRzZWxmLiBTZWUgYHVzZUNvbnRleHRQcm92aWRlcigpYCBhbmQgYHVzZUNvbnRleHQoKWBcbiAqIGZvciB0aGUgdmFsdWVzLiBRd2lrIG5lZWRzIGEgc2VyaWFsaXphYmxlIElEIGZvciB0aGUgY29udGV4dCBzbyB0aGF0IHRoZSBpdCBjYW4gdHJhY2sgY29udGV4dFxuICogcHJvdmlkZXJzIGFuZCBjb25zdW1lcnMgaW4gYSB3YXkgdGhhdCBzdXJ2aXZlcyByZXN1bWFiaWxpdHkuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogLy8gRGVjbGFyZSB0aGUgQ29udGV4dCB0eXBlLlxuICogaW50ZXJmYWNlIFRvZG9zU3RvcmUge1xuICogICBpdGVtczogc3RyaW5nW107XG4gKiB9XG4gKiAvLyBDcmVhdGUgYSBDb250ZXh0IElEIChubyBkYXRhIGlzIHNhdmVkIGhlcmUuKVxuICogLy8gWW91IHdpbGwgdXNlIHRoaXMgSUQgdG8gYm90aCBjcmVhdGUgYW5kIHJldHJpZXZlIHRoZSBDb250ZXh0LlxuICogZXhwb3J0IGNvbnN0IFRvZG9zQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VG9kb3NTdG9yZT4oJ1RvZG9zJyk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiBwcm92aWRpbmcgY29udGV4dCB0byBjaGlsZCBjb21wb25lbnRzLlxuICogZXhwb3J0IGNvbnN0IEFwcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDb250ZXh0UHJvdmlkZXIoXG4gKiAgICAgVG9kb3NDb250ZXh0LFxuICogICAgIHVzZVN0b3JlPFRvZG9zU3RvcmU+KHtcbiAqICAgICAgIGl0ZW1zOiBbJ0xlYXJuIFF3aWsnLCAnQnVpbGQgUXdpayBhcHAnLCAnUHJvZml0J10sXG4gKiAgICAgfSlcbiAqICAgKTtcbiAqXG4gKiAgIHJldHVybiA8SXRlbXMgLz47XG4gKiB9KTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHJldHJpZXZpbmcgdGhlIGNvbnRleHQgcHJvdmlkZWQgYnkgYSBwYXJlbnQgY29tcG9uZW50LlxuICogZXhwb3J0IGNvbnN0IEl0ZW1zID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHRvZG9zID0gdXNlQ29udGV4dChUb2Rvc0NvbnRleHQpO1xuICogICByZXR1cm4gKFxuICogICAgIDx1bD5cbiAqICAgICAgIHt0b2Rvcy5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAqICAgICAgICAgPGxpPntpdGVtfTwvbGk+XG4gKiAgICAgICApKX1cbiAqICAgICA8L3VsPlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjb250ZXh0LlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgY3JlYXRlQ29udGV4dCA9IDxTVEFURSBleHRlbmRzIG9iamVjdD4obmFtZTogc3RyaW5nKTogQ29udGV4dDxTVEFURT4gPT4ge1xuICByZXR1cm4gT2JqZWN0LmZyZWV6ZSh7XG4gICAgaWQ6IGZyb21DYW1lbFRvS2ViYWJDYXNlKG5hbWUpLFxuICB9IGFzIGFueSk7XG59O1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VDb250ZXh0UHJvdmlkZXJcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ29udGV4dFByb3ZpZGVyIGluc3RlYWQpXG4vKipcbiAqIEFzc2lnbiBhIHZhbHVlIHRvIGEgQ29udGV4dC5cbiAqXG4gKiBVc2UgYHVzZUNvbnRleHRQcm92aWRlcigpYCB0byBhc3NpZ24gYSB2YWx1ZSB0byBhIGNvbnRleHQuIFRoZSBhc3NpZ25tZW50IGhhcHBlbnMgaW4gdGhlXG4gKiBjb21wb25lbnQncyBmdW5jdGlvbi4gT25jZSBhc3NpZ24gdXNlIGB1c2VDb250ZXh0KClgIGluIGFueSBjaGlsZCBjb21wb25lbnQgdG8gcmV0cmlldmUgdGhlXG4gKiB2YWx1ZS5cbiAqXG4gKiBDb250ZXh0IGlzIGEgd2F5IHRvIHBhc3Mgc3RvcmVzIHRvIHRoZSBjaGlsZCBjb21wb25lbnRzIHdpdGhvdXQgcHJvcC1kcmlsbGluZy5cbiAqXG4gKiAjIyBFeGFtcGxlXG4gKlxuICogYGBgdHN4XG4gKiAvLyBEZWNsYXJlIHRoZSBDb250ZXh0IHR5cGUuXG4gKiBpbnRlcmZhY2UgVG9kb3NTdG9yZSB7XG4gKiAgIGl0ZW1zOiBzdHJpbmdbXTtcbiAqIH1cbiAqIC8vIENyZWF0ZSBhIENvbnRleHQgSUQgKG5vIGRhdGEgaXMgc2F2ZWQgaGVyZS4pXG4gKiAvLyBZb3Ugd2lsbCB1c2UgdGhpcyBJRCB0byBib3RoIGNyZWF0ZSBhbmQgcmV0cmlldmUgdGhlIENvbnRleHQuXG4gKiBleHBvcnQgY29uc3QgVG9kb3NDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUb2Rvc1N0b3JlPignVG9kb3MnKTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHByb3ZpZGluZyBjb250ZXh0IHRvIGNoaWxkIGNvbXBvbmVudHMuXG4gKiBleHBvcnQgY29uc3QgQXBwID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZUNvbnRleHRQcm92aWRlcihcbiAqICAgICBUb2Rvc0NvbnRleHQsXG4gKiAgICAgdXNlU3RvcmU8VG9kb3NTdG9yZT4oe1xuICogICAgICAgaXRlbXM6IFsnTGVhcm4gUXdpaycsICdCdWlsZCBRd2lrIGFwcCcsICdQcm9maXQnXSxcbiAqICAgICB9KVxuICogICApO1xuICpcbiAqICAgcmV0dXJuIDxJdGVtcyAvPjtcbiAqIH0pO1xuICpcbiAqIC8vIEV4YW1wbGUgb2YgcmV0cmlldmluZyB0aGUgY29udGV4dCBwcm92aWRlZCBieSBhIHBhcmVudCBjb21wb25lbnQuXG4gKiBleHBvcnQgY29uc3QgSXRlbXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgY29uc3QgdG9kb3MgPSB1c2VDb250ZXh0KFRvZG9zQ29udGV4dCk7XG4gKiAgIHJldHVybiAoXG4gKiAgICAgPHVsPlxuICogICAgICAge3RvZG9zLml0ZW1zLm1hcCgoaXRlbSkgPT4gKFxuICogICAgICAgICA8bGk+e2l0ZW19PC9saT5cbiAqICAgICAgICkpfVxuICogICAgIDwvdWw+XG4gKiAgICk7XG4gKiB9KTtcbiAqXG4gKiBgYGBcbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIGNvbnRleHQgdG8gYXNzaWduIGEgdmFsdWUgdG8uXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gYXNzaWduIHRvIHRoZSBjb250ZXh0LlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlQ29udGV4dFByb3ZpZGVyID0gPFNUQVRFIGV4dGVuZHMgb2JqZWN0PihcbiAgY29udGV4dDogQ29udGV4dDxTVEFURT4sXG4gIG5ld1ZhbHVlOiBTVEFURVxuKSA9PiB7XG4gIGNvbnN0IHsgZ2V0LCBzZXQsIGN0eCB9ID0gdXNlU2VxdWVudGlhbFNjb3BlPGJvb2xlYW4+KCk7XG4gIGlmIChnZXQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHFEZXYpIHtcbiAgICB2YWxpZGF0ZUNvbnRleHQoY29udGV4dCk7XG4gIH1cbiAgY29uc3QgaG9zdEVsZW1lbnQgPSBjdHguJGhvc3RFbGVtZW50JCE7XG4gIGNvbnN0IGhvc3RDdHggPSBnZXRDb250ZXh0KGhvc3RFbGVtZW50KTtcbiAgbGV0IGNvbnRleHRzID0gaG9zdEN0eC4kY29udGV4dHMkO1xuICBpZiAoIWNvbnRleHRzKSB7XG4gICAgaG9zdEN0eC4kY29udGV4dHMkID0gY29udGV4dHMgPSBuZXcgTWFwKCk7XG4gIH1cbiAgaWYgKHFEZXYpIHtcbiAgICB2ZXJpZnlTZXJpYWxpemFibGUobmV3VmFsdWUpO1xuICB9XG4gIGNvbnRleHRzLnNldChjb250ZXh0LmlkLCBuZXdWYWx1ZSk7XG4gIHNldCh0cnVlKTtcbn07XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZUNvbnRleHRcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlQ29udGV4dCBpbnN0ZWFkKVxuLyoqXG4gKiBSZXRyaXZlIENvbnRleHQgdmFsdWUuXG4gKlxuICogVXNlIGB1c2VDb250ZXh0KClgIHRvIHJldHJpZXZlIHRoZSB2YWx1ZSBvZiBjb250ZXh0IGluIGEgY29tcG9uZW50LiBUbyByZXRyaWV2ZSBhIHZhbHVlIGFcbiAqIHBhcmVudCBjb21wb25lbnQgbmVlZHMgdG8gaW52b2tlIGB1c2VDb250ZXh0UHJvdmlkZXIoKWAgdG8gYXNzaWduIGEgdmFsdWUuXG4gKlxuICogIyMgRXhhbXBsZVxuICpcbiAqIGBgYHRzeFxuICogLy8gRGVjbGFyZSB0aGUgQ29udGV4dCB0eXBlLlxuICogaW50ZXJmYWNlIFRvZG9zU3RvcmUge1xuICogICBpdGVtczogc3RyaW5nW107XG4gKiB9XG4gKiAvLyBDcmVhdGUgYSBDb250ZXh0IElEIChubyBkYXRhIGlzIHNhdmVkIGhlcmUuKVxuICogLy8gWW91IHdpbGwgdXNlIHRoaXMgSUQgdG8gYm90aCBjcmVhdGUgYW5kIHJldHJpZXZlIHRoZSBDb250ZXh0LlxuICogZXhwb3J0IGNvbnN0IFRvZG9zQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VG9kb3NTdG9yZT4oJ1RvZG9zJyk7XG4gKlxuICogLy8gRXhhbXBsZSBvZiBwcm92aWRpbmcgY29udGV4dCB0byBjaGlsZCBjb21wb25lbnRzLlxuICogZXhwb3J0IGNvbnN0IEFwcCA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VDb250ZXh0UHJvdmlkZXIoXG4gKiAgICAgVG9kb3NDb250ZXh0LFxuICogICAgIHVzZVN0b3JlPFRvZG9zU3RvcmU+KHtcbiAqICAgICAgIGl0ZW1zOiBbJ0xlYXJuIFF3aWsnLCAnQnVpbGQgUXdpayBhcHAnLCAnUHJvZml0J10sXG4gKiAgICAgfSlcbiAqICAgKTtcbiAqXG4gKiAgIHJldHVybiA8SXRlbXMgLz47XG4gKiB9KTtcbiAqXG4gKiAvLyBFeGFtcGxlIG9mIHJldHJpZXZpbmcgdGhlIGNvbnRleHQgcHJvdmlkZWQgYnkgYSBwYXJlbnQgY29tcG9uZW50LlxuICogZXhwb3J0IGNvbnN0IEl0ZW1zID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIGNvbnN0IHRvZG9zID0gdXNlQ29udGV4dChUb2Rvc0NvbnRleHQpO1xuICogICByZXR1cm4gKFxuICogICAgIDx1bD5cbiAqICAgICAgIHt0b2Rvcy5pdGVtcy5tYXAoKGl0ZW0pID0+IChcbiAqICAgICAgICAgPGxpPntpdGVtfTwvbGk+XG4gKiAgICAgICApKX1cbiAqICAgICA8L3VsPlxuICogICApO1xuICogfSk7XG4gKlxuICogYGBgXG4gKiBAcGFyYW0gY29udGV4dCAtIFRoZSBjb250ZXh0IHRvIHJldHJpZXZlIGEgdmFsdWUgZnJvbS5cbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZUNvbnRleHQgPSA8U1RBVEUgZXh0ZW5kcyBvYmplY3Q+KGNvbnRleHQ6IENvbnRleHQ8U1RBVEU+KTogU1RBVEUgPT4ge1xuICBjb25zdCB7IGdldCwgc2V0LCBjdHggfSA9IHVzZVNlcXVlbnRpYWxTY29wZTxTVEFURT4oKTtcbiAgaWYgKGdldCkge1xuICAgIHJldHVybiBnZXQ7XG4gIH1cbiAgaWYgKHFEZXYpIHtcbiAgICB2YWxpZGF0ZUNvbnRleHQoY29udGV4dCk7XG4gIH1cblxuICBsZXQgaG9zdEVsZW1lbnQ6IFF3aWtFbGVtZW50ID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IGNvbnRleHRzID0gY3R4LiRyZW5kZXJDdHgkLiRsb2NhbFN0YWNrJDtcbiAgZm9yIChsZXQgaSA9IGNvbnRleHRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgY3R4ID0gY29udGV4dHNbaV07XG4gICAgaG9zdEVsZW1lbnQgPSBjdHguJGVsZW1lbnQkO1xuICAgIGlmIChjdHguJGNvbnRleHRzJCkge1xuICAgICAgY29uc3QgZm91bmQgPSBjdHguJGNvbnRleHRzJC5nZXQoY29udGV4dC5pZCk7XG4gICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgc2V0KGZvdW5kKTtcbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICgoaG9zdEVsZW1lbnQgYXMgYW55KS5jbG9zZXN0KSB7XG4gICAgY29uc3QgdmFsdWUgPSBxdWVyeUNvbnRleHRGcm9tRG9tKGhvc3RFbGVtZW50LCBjb250ZXh0LmlkKTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0KHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgdGhyb3cgcUVycm9yKFFFcnJvcl9ub3RGb3VuZENvbnRleHQsIGNvbnRleHQuaWQpO1xufTtcblxuZXhwb3J0IGNvbnN0IHF1ZXJ5Q29udGV4dEZyb21Eb20gPSAoaG9zdEVsZW1lbnQ6IFF3aWtFbGVtZW50LCBjb250ZXh0SWQ6IHN0cmluZykgPT4ge1xuICBsZXQgZWxlbWVudDogUXdpa0VsZW1lbnQgfCBudWxsID0gaG9zdEVsZW1lbnQ7XG4gIHdoaWxlIChlbGVtZW50KSB7XG4gICAgbGV0IG5vZGU6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCB8IG51bGwgPSBlbGVtZW50O1xuICAgIGxldCB2aXJ0dWFsOiBWaXJ0dWFsRWxlbWVudCB8IG51bGw7XG4gICAgd2hpbGUgKG5vZGUgJiYgKHZpcnR1YWwgPSBmaW5kVmlydHVhbChub2RlKSkpIHtcbiAgICAgIGNvbnN0IGNvbnRleHRzID0gdHJ5R2V0Q29udGV4dCh2aXJ0dWFsKT8uJGNvbnRleHRzJDtcbiAgICAgIGlmIChjb250ZXh0cykge1xuICAgICAgICBpZiAoY29udGV4dHMuaGFzKGNvbnRleHRJZCkpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dHMuZ2V0KGNvbnRleHRJZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSB2aXJ0dWFsO1xuICAgIH1cbiAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5leHBvcnQgY29uc3QgZmluZFZpcnR1YWwgPSAoZWw6IE5vZGUgfCBWaXJ0dWFsRWxlbWVudCkgPT4ge1xuICBsZXQgbm9kZTogTm9kZSB8IFZpcnR1YWxFbGVtZW50IHwgbnVsbCA9IGVsO1xuICBsZXQgc3RhY2sgPSAxO1xuICB3aGlsZSAoKG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZykpIHtcbiAgICBpZiAoaXNDb21tZW50KG5vZGUpKSB7XG4gICAgICBpZiAobm9kZS5kYXRhID09PSAnL3F2Jykge1xuICAgICAgICBzdGFjaysrO1xuICAgICAgfSBlbHNlIGlmIChub2RlLmRhdGEuc3RhcnRzV2l0aCgncXYgJykpIHtcbiAgICAgICAgc3RhY2stLTtcbiAgICAgICAgaWYgKHN0YWNrID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIGdldFZpcnR1YWxFbGVtZW50KG5vZGUpITtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUNvbnRleHQgPSAoY29udGV4dDogQ29udGV4dDxhbnk+KSA9PiB7XG4gIGlmICghaXNPYmplY3QoY29udGV4dCkgfHwgdHlwZW9mIGNvbnRleHQuaWQgIT09ICdzdHJpbmcnIHx8IGNvbnRleHQuaWQubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgcUVycm9yKFFFcnJvcl9pbnZhbGlkQ29udGV4dCwgY29udGV4dCk7XG4gIH1cbn07XG4iXX0=","import { useInvokeContext } from './use-core';\n/**\n * @alpha\n */\nexport function useEnvData(key, defaultValue) {\n    const ctx = useInvokeContext();\n    return ctx.$renderCtx$.$static$.$containerState$.$envData$[key] ?? defaultValue;\n}\n/**\n * @alpha\n * @deprecated Please use `useEnvData` instead.\n */\nexport const useUserContext = useEnvData;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLWVudi1kYXRhLmpzIiwic291cmNlUm9vdCI6Ii4vIiwic291cmNlcyI6WyJwYWNrYWdlcy9xd2lrL3NyYy9jb3JlL3VzZS91c2UtZW52LWRhdGEudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sWUFBWSxDQUFDO0FBWTlDOztHQUVHO0FBQ0gsTUFBTSxVQUFVLFVBQVUsQ0FBQyxHQUFXLEVBQUUsWUFBa0I7SUFDeEQsTUFBTSxHQUFHLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztJQUMvQixPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxZQUFZLENBQUM7QUFDbEYsQ0FBQztBQUVEOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLGNBQWMsR0FBRyxVQUFVLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VJbnZva2VDb250ZXh0IH0gZnJvbSAnLi91c2UtY29yZSc7XG5cbi8qKlxuICogQGFscGhhXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VFbnZEYXRhPFQ+KGtleTogc3RyaW5nKTogVCB8IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUVudkRhdGE8VCwgQiA9IFQ+KGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IEIpOiBUIHwgQjtcblxuLyoqXG4gKiBAYWxwaGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUVudkRhdGEoa2V5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IGFueSkge1xuICBjb25zdCBjdHggPSB1c2VJbnZva2VDb250ZXh0KCk7XG4gIHJldHVybiBjdHguJHJlbmRlckN0eCQuJHN0YXRpYyQuJGNvbnRhaW5lclN0YXRlJC4kZW52RGF0YSRba2V5XSA/PyBkZWZhdWx0VmFsdWU7XG59XG5cbi8qKlxuICogQGFscGhhXG4gKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIGB1c2VFbnZEYXRhYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgY29uc3QgdXNlVXNlckNvbnRleHQgPSB1c2VFbnZEYXRhO1xuIl19","/* eslint-disable no-console */\nimport { ComponentStylesPrefixContent } from '../util/markers';\n// Make sure this is always set to `false` in production, but it is useful to set for `true` in development for debugging.\nconst DEBUG = false;\nexport const scopeStylesheet = (css, scopeId) => {\n    const end = css.length;\n    const out = [];\n    const stack = [];\n    let idx = 0;\n    let lastIdx = idx;\n    let mode = rule;\n    let lastCh = 0;\n    DEBUG && console.log('--------------------------');\n    while (idx < end) {\n        DEBUG && console.log(css);\n        DEBUG && console.log(new Array(idx).fill(' ').join('') + '^');\n        DEBUG && console.log('MODE', ...stack.map(modeToString), modeToString(mode));\n        let ch = css.charCodeAt(idx++);\n        if (ch === BACKSLASH) {\n            idx++;\n            ch = A; // Pretend it's a letter\n        }\n        const arcs = STATE_MACHINE[mode];\n        for (let i = 0; i < arcs.length; i++) {\n            const arc = arcs[i];\n            const [expectLastCh, expectCh, newMode] = arc;\n            if (expectLastCh === lastCh ||\n                expectLastCh === ANY ||\n                (expectLastCh === IDENT && isIdent(lastCh)) ||\n                (expectLastCh === WHITESPACE && isWhiteSpace(lastCh))) {\n                if (expectCh === ch ||\n                    expectCh === ANY ||\n                    (expectCh === IDENT && isIdent(ch)) ||\n                    (expectCh === NOT_IDENT && !isIdent(ch) && ch !== DOT) ||\n                    (expectCh === WHITESPACE && isWhiteSpace(ch))) {\n                    if (arc.length == 3 || lookAhead(arc)) {\n                        if (arc.length > 3) {\n                            // If matched on lookAhead than we we have to update current `ch`\n                            ch = css.charCodeAt(idx - 1);\n                        }\n                        DEBUG &&\n                            console.log('MATCH', charToString(expectLastCh), charToString(expectCh), modeToString(newMode));\n                        // We found a match!\n                        if (newMode === EXIT || newMode == EXIT_INSERT_SCOPE) {\n                            if (newMode === EXIT_INSERT_SCOPE) {\n                                if (mode === starSelector && !shouldNotInsertScoping()) {\n                                    // Replace `*` with the scoping elementClassIdSelector.\n                                    if (isChainedSelector(ch)) {\n                                        // *foo\n                                        flush(idx - 2);\n                                    }\n                                    else {\n                                        // * (by itself)\n                                        insertScopingSelector(idx - 2);\n                                    }\n                                    lastIdx++;\n                                }\n                                else {\n                                    if (!isChainedSelector(ch)) {\n                                        // We are exiting one of the Selector so we may need to\n                                        const offset = expectCh == NOT_IDENT ? 1 : expectCh == CLOSE_PARENTHESIS ? 2 : 0;\n                                        insertScopingSelector(idx - offset);\n                                    }\n                                }\n                            }\n                            if (expectCh === NOT_IDENT) {\n                                // NOT_IDENT is not a real character more like lack of what we expected.\n                                // if pseudoGlobal we need to give it a chance to exit as well.\n                                // For this reason we need to reparse the last character again.\n                                idx--;\n                                ch = lastCh;\n                            }\n                            do {\n                                mode = stack.pop() || rule;\n                                if (mode === pseudoGlobal) {\n                                    // Skip over the `)` in `:global(...)`.\n                                    flush(idx - 1);\n                                    lastIdx++;\n                                }\n                            } while (isSelfClosingRule(mode));\n                        }\n                        else {\n                            stack.push(mode);\n                            if (mode === pseudoGlobal && newMode === rule) {\n                                flush(idx - 8); // `:global(`.length\n                                lastIdx = idx; // skip over \":global(\"\n                            }\n                            else if (newMode === pseudoElement) {\n                                // We are entering pseudoElement `::foo`; insert scoping in front of it.\n                                insertScopingSelector(idx - 2);\n                            }\n                            mode = newMode;\n                            ch == SPACE; // Pretend not an identifier so that we don't flush again on elementClassIdSelector\n                        }\n                        break; // get out of the for loop as we found a match\n                    }\n                }\n            }\n        }\n        lastCh = ch;\n    }\n    flush(idx);\n    return out.join('');\n    function flush(idx) {\n        out.push(css.substring(lastIdx, idx));\n        DEBUG && console.log('FLUSH', out.join(''));\n        lastIdx = idx;\n    }\n    function insertScopingSelector(idx) {\n        if (mode === pseudoGlobal || shouldNotInsertScoping())\n            return;\n        flush(idx);\n        out.push('.', ComponentStylesPrefixContent, scopeId);\n        DEBUG && console.log('INSERT', out.join(''));\n    }\n    function lookAhead(arc) {\n        let prefix = 0; // Ignore vendor prefixes such as `-webkit-`.\n        if (css.charCodeAt(idx) === DASH) {\n            for (let i = 1; i < 10; i++) {\n                // give up after 10 characters\n                if (css.charCodeAt(idx + i) === DASH) {\n                    prefix = i + 1;\n                    break;\n                }\n            }\n        }\n        words: for (let arcIndx = 3; arcIndx < arc.length; arcIndx++) {\n            const txt = arc[arcIndx];\n            for (let i = 0; i < txt.length; i++) {\n                if ((css.charCodeAt(idx + i + prefix) | LOWERCASE) !== txt.charCodeAt(i)) {\n                    continue words;\n                }\n            }\n            // we found a match;\n            idx += txt.length + prefix;\n            return true;\n        }\n        return false;\n    }\n    function shouldNotInsertScoping() {\n        return stack.indexOf(pseudoGlobal) !== -1 || stack.indexOf(atRuleSelector) !== -1;\n    }\n};\nconst isIdent = (ch) => {\n    return ((ch >= _0 && ch <= _9) ||\n        (ch >= A && ch <= Z) ||\n        (ch >= a && ch <= z) ||\n        ch >= 0x80 ||\n        ch === UNDERSCORE ||\n        ch === DASH);\n};\nconst isChainedSelector = (ch) => {\n    return ch === COLON || ch === DOT || ch === OPEN_BRACKET || ch === HASH || isIdent(ch);\n};\nconst isSelfClosingRule = (mode) => {\n    return (mode === atRuleBlock || mode === atRuleSelector || mode === atRuleInert || mode === pseudoGlobal);\n};\nconst isWhiteSpace = (ch) => {\n    return ch === SPACE || ch === TAB || ch === NEWLINE || ch === CARRIAGE_RETURN;\n};\nconst modeToString = (mode) => {\n    return [\n        'rule',\n        'elementClassIdSelector',\n        'starSelector',\n        'pseudoClassWithSelector',\n        'pseudoClass',\n        'pseudoGlobal',\n        'pseudoElement',\n        'attrSelector',\n        'inertParenthesis',\n        'inertBlock',\n        'atRuleSelector',\n        'atRuleBlock',\n        'atInert',\n        'body',\n        'stringSingle',\n        'stringDouble',\n        'commentMultiline',\n        'EXIT',\n        'EXIT_INSERT_SCOPE',\n    ][mode];\n};\nconst charToString = (ch) => {\n    return ['ANY', 'IDENT', 'NOT_IDENT', 'WHITESPACE'][ch] || String.fromCharCode(ch);\n};\nconst rule = 0; // top level initial space.\nconst elementClassIdSelector = 1; // .elementClassIdSelector {}\nconst starSelector = 2; // * {}\nconst pseudoClassWithSelector = 3; // :pseudoClass(elementClassIdSelector) {}\nconst pseudoClass = 4; // :pseudoClass {}\nconst pseudoGlobal = 5; // :global(elementClassIdSelector)\nconst pseudoElement = 6; // ::pseudoElement {}\nconst attrSelector = 7; // [attr] {}\nconst inertParenthesis = 8; // (ignored)\nconst inertBlock = 9; // {ignored}\nconst atRuleSelector = 10; // @keyframe elementClassIdSelector {}\nconst atRuleBlock = 11; // @media {elementClassIdSelector {}}\nconst atRuleInert = 12; // @atRule something;\nconst body = 13; // .elementClassIdSelector {body}\nconst stringSingle = 14; // 'text'\nconst stringDouble = 15; // 'text'\nconst commentMultiline = 16; // /* ... */\n// NOT REAL MODES\nconst EXIT = 17; // Exit the mode\nconst EXIT_INSERT_SCOPE = 18; // Exit the mode INSERT SCOPE\nconst ANY = 0;\nconst IDENT = 1;\nconst NOT_IDENT = 2;\nconst WHITESPACE = 3;\nconst TAB = 9; // `\\t`.charCodeAt(0);\nconst NEWLINE = 10; // `\\n`.charCodeAt(0);\nconst CARRIAGE_RETURN = 13; // `\\r`.charCodeAt(0);\nconst SPACE = 32; // ` `.charCodeAt(0);\nconst DOUBLE_QUOTE = 34; // `\"`.charCodeAt(0);\nconst HASH = 35; // `#`.charCodeAt(0);\nconst SINGLE_QUOTE = 39; // `'`.charCodeAt(0);\nconst OPEN_PARENTHESIS = 40; // `(`.charCodeAt(0);\nconst CLOSE_PARENTHESIS = 41; // `)`.charCodeAt(0);\nconst STAR = 42; // `*`.charCodeAt(0);\n// const COMMA = 44; // `,`.charCodeAt(0);\nconst DASH = 45; // `-`.charCodeAt(0);\nconst DOT = 46; // `.`.charCodeAt(0);\nconst FORWARD_SLASH = 47; // `/`.charCodeAt(0);\nconst _0 = 48; // `0`.charCodeAt(0);\nconst _9 = 57; // `9`.charCodeAt(0);\nconst COLON = 58; // `:`.charCodeAt(0);\nconst SEMICOLON = 59; // `;`.charCodeAt(0);\n// const LESS_THAN = 60; // `<`.charCodeAt(0);\nconst AT = 64; // `@`.charCodeAt(0);\nconst A = 65; // `A`.charCodeAt(0);\nconst Z = 90; // `Z`.charCodeAt(0);\nconst OPEN_BRACKET = 91; // `[`.charCodeAt(0);\nconst CLOSE_BRACKET = 93; // `]`.charCodeAt(0);\nconst BACKSLASH = 92; // `\\\\`.charCodeAt(0);\nconst UNDERSCORE = 95; // `_`.charCodeAt(0);\nconst LOWERCASE = 0x20; // `a`.charCodeAt(0);\nconst a = 97; // `a`.charCodeAt(0);\n// const d = 100; // `d`.charCodeAt(0);\n// const g = 103; // 'g'.charCodeAt(0);\n// const h = 104; // `h`.charCodeAt(0);\n// const i = 105; // `i`.charCodeAt(0);\n// const l = 108; // `l`.charCodeAt(0);\n// const t = 116; // `t`.charCodeAt(0);\nconst z = 122; // `z`.charCodeAt(0);\nconst OPEN_BRACE = 123; // `{`.charCodeAt(0);\nconst CLOSE_BRACE = 125; // `}`.charCodeAt(0);\nconst STRINGS_COMMENTS = /*__PURE__*/ (() => [\n    [ANY, SINGLE_QUOTE, stringSingle],\n    [ANY, DOUBLE_QUOTE, stringDouble],\n    [ANY, FORWARD_SLASH, commentMultiline, '*'],\n])();\nconst STATE_MACHINE = /*__PURE__*/ (() => [\n    [\n        /// rule\n        [ANY, STAR, starSelector],\n        [ANY, OPEN_BRACKET, attrSelector],\n        [ANY, COLON, pseudoElement, ':'],\n        [ANY, COLON, pseudoGlobal, 'global'],\n        [\n            ANY,\n            COLON,\n            pseudoClassWithSelector,\n            'has',\n            'host-context',\n            'not',\n            'where',\n            'is',\n            'matches',\n            'any',\n        ],\n        [ANY, COLON, pseudoClass],\n        [ANY, IDENT, elementClassIdSelector],\n        [ANY, DOT, elementClassIdSelector],\n        [ANY, HASH, elementClassIdSelector],\n        [ANY, AT, atRuleSelector, 'keyframe'],\n        [ANY, AT, atRuleBlock, 'media', 'supports'],\n        [ANY, AT, atRuleInert],\n        [ANY, OPEN_BRACE, body],\n        [FORWARD_SLASH, STAR, commentMultiline],\n        [ANY, SEMICOLON, EXIT],\n        [ANY, CLOSE_BRACE, EXIT],\n        [ANY, CLOSE_PARENTHESIS, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// elementClassIdSelector\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// starSelector\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// pseudoClassWithSelector\n        [ANY, OPEN_PARENTHESIS, rule],\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// pseudoClass\n        [ANY, OPEN_PARENTHESIS, inertParenthesis],\n        [ANY, NOT_IDENT, EXIT_INSERT_SCOPE],\n    ],\n    [\n        /// pseudoGlobal\n        [ANY, OPEN_PARENTHESIS, rule],\n        [ANY, NOT_IDENT, EXIT],\n    ],\n    [\n        /// pseudoElement\n        [ANY, NOT_IDENT, EXIT],\n    ],\n    [\n        /// attrSelector\n        [ANY, CLOSE_BRACKET, EXIT_INSERT_SCOPE],\n        [ANY, SINGLE_QUOTE, stringSingle],\n        [ANY, DOUBLE_QUOTE, stringDouble],\n    ],\n    [\n        /// inertParenthesis\n        [ANY, CLOSE_PARENTHESIS, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// inertBlock\n        [ANY, CLOSE_BRACE, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// atRuleSelector\n        [ANY, CLOSE_BRACE, EXIT],\n        [WHITESPACE, IDENT, elementClassIdSelector],\n        [ANY, COLON, pseudoGlobal, 'global'],\n        [ANY, OPEN_BRACE, body],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// atRuleBlock\n        [ANY, OPEN_BRACE, rule],\n        [ANY, SEMICOLON, EXIT],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// atRuleInert\n        [ANY, SEMICOLON, EXIT],\n        [ANY, OPEN_BRACE, inertBlock],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// body\n        [ANY, CLOSE_BRACE, EXIT],\n        [ANY, OPEN_BRACE, body],\n        [ANY, OPEN_PARENTHESIS, inertParenthesis],\n        ...STRINGS_COMMENTS,\n    ],\n    [\n        /// stringSingle\n        [ANY, SINGLE_QUOTE, EXIT],\n    ],\n    [\n        /// stringDouble\n        [ANY, DOUBLE_QUOTE, EXIT],\n    ],\n    [\n        /// commentMultiline\n        [STAR, FORWARD_SLASH, EXIT],\n    ],\n])();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGVkLXN0eWxlc2hlZXQuanMiLCJzb3VyY2VSb290IjoiLi8iLCJzb3VyY2VzIjpbInBhY2thZ2VzL3F3aWsvc3JjL2NvcmUvc3R5bGUvc2NvcGVkLXN0eWxlc2hlZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsK0JBQStCO0FBQy9CLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRS9ELDBIQUEwSDtBQUMxSCxNQUFNLEtBQUssR0FBWSxLQUFLLENBQUM7QUFFN0IsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLENBQUMsR0FBVyxFQUFFLE9BQWUsRUFBVSxFQUFFO0lBQ3RFLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUM7SUFDdkIsTUFBTSxHQUFHLEdBQWEsRUFBRSxDQUFDO0lBQ3pCLE1BQU0sS0FBSyxHQUFhLEVBQUUsQ0FBQztJQUMzQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDWixJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUM7SUFDbEIsSUFBSSxJQUFJLEdBQVcsSUFBSSxDQUFDO0lBQ3hCLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQztJQUNmLEtBQUssSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLDRCQUE0QixDQUFDLENBQUM7SUFDbkQsT0FBTyxHQUFHLEdBQUcsR0FBRyxFQUFFO1FBQ2hCLEtBQUssSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFCLEtBQUssSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDOUQsS0FBSyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsRUFBRSxZQUFZLENBQUMsSUFB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RSxTQUFTLEVBQUUsSUFBSSxDQUFDO1FBQ3RCLEdBQUcsZ0JBQWdCO0tBQ3BCO0lBQ0Q7UUFDRSxlQUFlO1FBQ2YsQ0FBQyxHQUFHLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQztRQUN0QixDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsVUFBVSxDQUFDO1FBQzdCLEdBQUcsZ0JBQWdCO0tBQ3BCO0lBQ0Q7UUFDRSxRQUFRO1FBQ1IsQ0FBQyxHQUFHLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQztRQUN4QixDQUFDLEdBQUcsRUFBRSxVQUFVLEVBQUUsSUFBSSxDQUFDO1FBQ3ZCLENBQUMsR0FBRyxFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixDQUFDO1FBQ3pDLEdBQUcsZ0JBQWdCO0tBQ3BCO0lBQ0Q7UUFDRSxnQkFBZ0I7UUFDaEIsQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLElBQUksQ0FBQztLQUMxQjtJQUNEO1FBQ0UsZ0JBQWdCO1FBQ2hCLENBQUMsR0FBRyxFQUFFLFlBQVksRUFBRSxJQUFJLENBQUM7S0FDMUI7SUFDRDtRQUNFLG9CQUFvQjtRQUNwQixDQUFDLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxDQUFDO0tBQzVCO0NBQ0YsQ0FBQyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5pbXBvcnQgeyBDb21wb25lbnRTdHlsZXNQcmVmaXhDb250ZW50IH0gZnJvbSAnLi4vdXRpbC9tYXJrZXJzJztcblxuLy8gTWFrZSBzdXJlIHRoaXMgaXMgYWx3YXlzIHNldCB0byBgZmFsc2VgIGluIHByb2R1Y3Rpb24sIGJ1dCBpdCBpcyB1c2VmdWwgdG8gc2V0IGZvciBgdHJ1ZWAgaW4gZGV2ZWxvcG1lbnQgZm9yIGRlYnVnZ2luZy5cbmNvbnN0IERFQlVHOiBib29sZWFuID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBzY29wZVN0eWxlc2hlZXQgPSAoY3NzOiBzdHJpbmcsIHNjb3BlSWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGVuZCA9IGNzcy5sZW5ndGg7XG4gIGNvbnN0IG91dDogc3RyaW5nW10gPSBbXTtcbiAgY29uc3Qgc3RhY2s6IG51bWJlcltdID0gW107XG4gIGxldCBpZHggPSAwO1xuICBsZXQgbGFzdElkeCA9IGlkeDtcbiAgbGV0IG1vZGU6IG51bWJlciA9IHJ1bGU7XG4gIGxldCBsYXN0Q2ggPSAwO1xuICBERUJVRyAmJiBjb25zb2xlLmxvZygnLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKTtcbiAgd2hpbGUgKGlkeCA8IGVuZCkge1xuICAgIERFQlVHICYmIGNvbnNvbGUubG9nKGNzcyk7XG4gICAgREVCVUcgJiYgY29uc29sZS5sb2cobmV3IEFycmF5KGlkeCkuZmlsbCgnICcpLmpvaW4oJycpICsgJ14nKTtcbiAgICBERUJVRyAmJiBjb25zb2xlLmxvZygnTU9ERScsIC4uLnN0YWNrLm1hcChtb2RlVG9TdHJpbmcpLCBtb2RlVG9TdHJpbmcobW9kZSkpO1xuICAgIGxldCBjaCA9IGNzcy5jaGFyQ29kZUF0KGlkeCsrKTtcbiAgICBpZiAoY2ggPT09IEJBQ0tTTEFTSCkge1xuICAgICAgaWR4Kys7XG4gICAgICBjaCA9IEE7IC8vIFByZXRlbmQgaXQncyBhIGxldHRlclxuICAgIH1cbiAgICBjb25zdCBhcmNzID0gU1RBVEVfTUFDSElORVttb2RlXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFyYyA9IGFyY3NbaV07XG4gICAgICBjb25zdCBbZXhwZWN0TGFzdENoLCBleHBlY3RDaCwgbmV3TW9kZV0gPSBhcmM7XG4gICAgICBpZiAoXG4gICAgICAgIGV4cGVjdExhc3RDaCA9PT0gbGFzdENoIHx8XG4gICAgICAgIGV4cGVjdExhc3RDaCA9PT0gQU5ZIHx8XG4gICAgICAgIChleHBlY3RMYXN0Q2ggPT09IElERU5UICYmIGlzSWRlbnQobGFzdENoKSkgfHxcbiAgICAgICAgKGV4cGVjdExhc3RDaCA9PT0gV0hJVEVTUEFDRSAmJiBpc1doaXRlU3BhY2UobGFzdENoKSlcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZXhwZWN0Q2ggPT09IGNoIHx8XG4gICAgICAgICAgZXhwZWN0Q2ggPT09IEFOWSB8fFxuICAgICAgICAgIChleHBlY3RDaCA9PT0gSURFTlQgJiYgaXNJZGVudChjaCkpIHx8XG4gICAgICAgICAgKGV4cGVjdENoID09PSBOT1RfSURFTlQgJiYgIWlzSWRlbnQoY2gpICYmIGNoICE9PSBET1QpIHx8XG4gICAgICAgICAgKGV4cGVjdENoID09PSBXSElURVNQQUNFICYmIGlzV2hpdGVTcGFjZShjaCkpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChhcmMubGVuZ3RoID09IDMgfHwgbG9va0FoZWFkKGFyYykpIHtcbiAgICAgICAgICAgIGlmIChhcmMubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAvLyBJZiBtYXRjaGVkIG9uIGxvb2tBaGVhZCB0aGFuIHdlIHdlIGhhdmUgdG8gdXBkYXRlIGN1cnJlbnQgYGNoYFxuICAgICAgICAgICAgICBjaCA9IGNzcy5jaGFyQ29kZUF0KGlkeCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgREVCVUcgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgJ01BVENIJyxcbiAgICAgICAgICAgICAgICBjaGFyVG9TdHJpbmcoZXhwZWN0TGFzdENoKSxcbiAgICAgICAgICAgICAgICBjaGFyVG9TdHJpbmcoZXhwZWN0Q2gpLFxuICAgICAgICAgICAgICAgIG1vZGVUb1N0cmluZyhuZXdNb2RlKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBtYXRjaCFcbiAgICAgICAgICAgIGlmIChuZXdNb2RlID09PSBFWElUIHx8IG5ld01vZGUgPT0gRVhJVF9JTlNFUlRfU0NPUEUpIHtcbiAgICAgICAgICAgICAgaWYgKG5ld01vZGUgPT09IEVYSVRfSU5TRVJUX1NDT1BFKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IHN0YXJTZWxlY3RvciAmJiAhc2hvdWxkTm90SW5zZXJ0U2NvcGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAvLyBSZXBsYWNlIGAqYCB3aXRoIHRoZSBzY29waW5nIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3IuXG4gICAgICAgICAgICAgICAgICBpZiAoaXNDaGFpbmVkU2VsZWN0b3IoY2gpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICpmb29cbiAgICAgICAgICAgICAgICAgICAgZmx1c2goaWR4IC0gMik7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyAqIChieSBpdHNlbGYpXG4gICAgICAgICAgICAgICAgICAgIGluc2VydFNjb3BpbmdTZWxlY3RvcihpZHggLSAyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGxhc3RJZHgrKztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKCFpc0NoYWluZWRTZWxlY3RvcihjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXJlIGV4aXRpbmcgb25lIG9mIHRoZSBTZWxlY3RvciBzbyB3ZSBtYXkgbmVlZCB0b1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXQgPVxuICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdENoID09IE5PVF9JREVOVCA/IDEgOiBleHBlY3RDaCA9PSBDTE9TRV9QQVJFTlRIRVNJUyA/IDIgOiAwO1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRTY29waW5nU2VsZWN0b3IoaWR4IC0gb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGV4cGVjdENoID09PSBOT1RfSURFTlQpIHtcbiAgICAgICAgICAgICAgICAvLyBOT1RfSURFTlQgaXMgbm90IGEgcmVhbCBjaGFyYWN0ZXIgbW9yZSBsaWtlIGxhY2sgb2Ygd2hhdCB3ZSBleHBlY3RlZC5cbiAgICAgICAgICAgICAgICAvLyBpZiBwc2V1ZG9HbG9iYWwgd2UgbmVlZCB0byBnaXZlIGl0IGEgY2hhbmNlIHRvIGV4aXQgYXMgd2VsbC5cbiAgICAgICAgICAgICAgICAvLyBGb3IgdGhpcyByZWFzb24gd2UgbmVlZCB0byByZXBhcnNlIHRoZSBsYXN0IGNoYXJhY3RlciBhZ2Fpbi5cbiAgICAgICAgICAgICAgICBpZHgtLTtcbiAgICAgICAgICAgICAgICBjaCA9IGxhc3RDaDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgbW9kZSA9IHN0YWNrLnBvcCgpIHx8IHJ1bGU7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09IHBzZXVkb0dsb2JhbCkge1xuICAgICAgICAgICAgICAgICAgLy8gU2tpcCBvdmVyIHRoZSBgKWAgaW4gYDpnbG9iYWwoLi4uKWAuXG4gICAgICAgICAgICAgICAgICBmbHVzaChpZHggLSAxKTtcbiAgICAgICAgICAgICAgICAgIGxhc3RJZHgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gd2hpbGUgKGlzU2VsZkNsb3NpbmdSdWxlKG1vZGUpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YWNrLnB1c2gobW9kZSk7XG4gICAgICAgICAgICAgIGlmIChtb2RlID09PSBwc2V1ZG9HbG9iYWwgJiYgbmV3TW9kZSA9PT0gcnVsZSkge1xuICAgICAgICAgICAgICAgIGZsdXNoKGlkeCAtIDgpOyAvLyBgOmdsb2JhbChgLmxlbmd0aFxuICAgICAgICAgICAgICAgIGxhc3RJZHggPSBpZHg7IC8vIHNraXAgb3ZlciBcIjpnbG9iYWwoXCJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdNb2RlID09PSBwc2V1ZG9FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGVudGVyaW5nIHBzZXVkb0VsZW1lbnQgYDo6Zm9vYDsgaW5zZXJ0IHNjb3BpbmcgaW4gZnJvbnQgb2YgaXQuXG4gICAgICAgICAgICAgICAgaW5zZXJ0U2NvcGluZ1NlbGVjdG9yKGlkeCAtIDIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG1vZGUgPSBuZXdNb2RlO1xuICAgICAgICAgICAgICBjaCA9PSBTUEFDRTsgLy8gUHJldGVuZCBub3QgYW4gaWRlbnRpZmllciBzbyB0aGF0IHdlIGRvbid0IGZsdXNoIGFnYWluIG9uIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrOyAvLyBnZXQgb3V0IG9mIHRoZSBmb3IgbG9vcCBhcyB3ZSBmb3VuZCBhIG1hdGNoXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RDaCA9IGNoO1xuICB9XG4gIGZsdXNoKGlkeCk7XG4gIHJldHVybiBvdXQuam9pbignJyk7XG5cbiAgZnVuY3Rpb24gZmx1c2goaWR4OiBudW1iZXIpIHtcbiAgICBvdXQucHVzaChjc3Muc3Vic3RyaW5nKGxhc3RJZHgsIGlkeCkpO1xuICAgIERFQlVHICYmIGNvbnNvbGUubG9nKCdGTFVTSCcsIG91dC5qb2luKCcnKSk7XG4gICAgbGFzdElkeCA9IGlkeDtcbiAgfVxuICBmdW5jdGlvbiBpbnNlcnRTY29waW5nU2VsZWN0b3IoaWR4OiBudW1iZXIpIHtcbiAgICBpZiAobW9kZSA9PT0gcHNldWRvR2xvYmFsIHx8IHNob3VsZE5vdEluc2VydFNjb3BpbmcoKSkgcmV0dXJuO1xuXG4gICAgZmx1c2goaWR4KTtcbiAgICBvdXQucHVzaCgnLicsIENvbXBvbmVudFN0eWxlc1ByZWZpeENvbnRlbnQsIHNjb3BlSWQpO1xuICAgIERFQlVHICYmIGNvbnNvbGUubG9nKCdJTlNFUlQnLCBvdXQuam9pbignJykpO1xuICB9XG4gIGZ1bmN0aW9uIGxvb2tBaGVhZChhcmM6IFN0YXRlQXJjKTogYm9vbGVhbiB7XG4gICAgbGV0IHByZWZpeCA9IDA7IC8vIElnbm9yZSB2ZW5kb3IgcHJlZml4ZXMgc3VjaCBhcyBgLXdlYmtpdC1gLlxuICAgIGlmIChjc3MuY2hhckNvZGVBdChpZHgpID09PSBEQVNIKSB7XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IDEwOyBpKyspIHtcbiAgICAgICAgLy8gZ2l2ZSB1cCBhZnRlciAxMCBjaGFyYWN0ZXJzXG4gICAgICAgIGlmIChjc3MuY2hhckNvZGVBdChpZHggKyBpKSA9PT0gREFTSCkge1xuICAgICAgICAgIHByZWZpeCA9IGkgKyAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHdvcmRzOiBmb3IgKGxldCBhcmNJbmR4ID0gMzsgYXJjSW5keCA8IGFyYy5sZW5ndGg7IGFyY0luZHgrKykge1xuICAgICAgY29uc3QgdHh0ID0gYXJjW2FyY0luZHhdIGFzIHN0cmluZztcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICgoY3NzLmNoYXJDb2RlQXQoaWR4ICsgaSArIHByZWZpeCkgfCBMT1dFUkNBU0UpICE9PSB0eHQuY2hhckNvZGVBdChpKSkge1xuICAgICAgICAgIGNvbnRpbnVlIHdvcmRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyB3ZSBmb3VuZCBhIG1hdGNoO1xuICAgICAgaWR4ICs9IHR4dC5sZW5ndGggKyBwcmVmaXg7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkTm90SW5zZXJ0U2NvcGluZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gc3RhY2suaW5kZXhPZihwc2V1ZG9HbG9iYWwpICE9PSAtMSB8fCBzdGFjay5pbmRleE9mKGF0UnVsZVNlbGVjdG9yKSAhPT0gLTE7XG4gIH1cbn07XG5cbmNvbnN0IGlzSWRlbnQgPSAoY2g6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICByZXR1cm4gKFxuICAgIChjaCA+PSBfMCAmJiBjaCA8PSBfOSkgfHxcbiAgICAoY2ggPj0gQSAmJiBjaCA8PSBaKSB8fFxuICAgIChjaCA+PSBhICYmIGNoIDw9IHopIHx8XG4gICAgY2ggPj0gMHg4MCB8fFxuICAgIGNoID09PSBVTkRFUlNDT1JFIHx8XG4gICAgY2ggPT09IERBU0hcbiAgKTtcbn07XG5cbmNvbnN0IGlzQ2hhaW5lZFNlbGVjdG9yID0gKGNoOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIGNoID09PSBDT0xPTiB8fCBjaCA9PT0gRE9UIHx8IGNoID09PSBPUEVOX0JSQUNLRVQgfHwgY2ggPT09IEhBU0ggfHwgaXNJZGVudChjaCk7XG59O1xuXG5jb25zdCBpc1NlbGZDbG9zaW5nUnVsZSA9IChtb2RlOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIChcbiAgICBtb2RlID09PSBhdFJ1bGVCbG9jayB8fCBtb2RlID09PSBhdFJ1bGVTZWxlY3RvciB8fCBtb2RlID09PSBhdFJ1bGVJbmVydCB8fCBtb2RlID09PSBwc2V1ZG9HbG9iYWxcbiAgKTtcbn07XG5cbmNvbnN0IGlzV2hpdGVTcGFjZSA9IChjaDogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBjaCA9PT0gU1BBQ0UgfHwgY2ggPT09IFRBQiB8fCBjaCA9PT0gTkVXTElORSB8fCBjaCA9PT0gQ0FSUklBR0VfUkVUVVJOO1xufTtcblxuY29uc3QgbW9kZVRvU3RyaW5nID0gKG1vZGU6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIHJldHVybiBbXG4gICAgJ3J1bGUnLFxuICAgICdlbGVtZW50Q2xhc3NJZFNlbGVjdG9yJyxcbiAgICAnc3RhclNlbGVjdG9yJyxcbiAgICAncHNldWRvQ2xhc3NXaXRoU2VsZWN0b3InLFxuICAgICdwc2V1ZG9DbGFzcycsXG4gICAgJ3BzZXVkb0dsb2JhbCcsXG4gICAgJ3BzZXVkb0VsZW1lbnQnLFxuICAgICdhdHRyU2VsZWN0b3InLFxuICAgICdpbmVydFBhcmVudGhlc2lzJyxcbiAgICAnaW5lcnRCbG9jaycsXG4gICAgJ2F0UnVsZVNlbGVjdG9yJyxcbiAgICAnYXRSdWxlQmxvY2snLFxuICAgICdhdEluZXJ0JyxcbiAgICAnYm9keScsXG4gICAgJ3N0cmluZ1NpbmdsZScsXG4gICAgJ3N0cmluZ0RvdWJsZScsXG4gICAgJ2NvbW1lbnRNdWx0aWxpbmUnLFxuICAgICdFWElUJyxcbiAgICAnRVhJVF9JTlNFUlRfU0NPUEUnLFxuICBdW21vZGVdO1xufTtcblxuY29uc3QgY2hhclRvU3RyaW5nID0gKGNoOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gWydBTlknLCAnSURFTlQnLCAnTk9UX0lERU5UJywgJ1dISVRFU1BBQ0UnXVtjaF0gfHwgU3RyaW5nLmZyb21DaGFyQ29kZShjaCk7XG59O1xuXG5jb25zdCBydWxlID0gMDsgLy8gdG9wIGxldmVsIGluaXRpYWwgc3BhY2UuXG5jb25zdCBlbGVtZW50Q2xhc3NJZFNlbGVjdG9yID0gMTsgLy8gLmVsZW1lbnRDbGFzc0lkU2VsZWN0b3Ige31cbmNvbnN0IHN0YXJTZWxlY3RvciA9IDI7IC8vICoge31cbmNvbnN0IHBzZXVkb0NsYXNzV2l0aFNlbGVjdG9yID0gMzsgLy8gOnBzZXVkb0NsYXNzKGVsZW1lbnRDbGFzc0lkU2VsZWN0b3IpIHt9XG5jb25zdCBwc2V1ZG9DbGFzcyA9IDQ7IC8vIDpwc2V1ZG9DbGFzcyB7fVxuY29uc3QgcHNldWRvR2xvYmFsID0gNTsgLy8gOmdsb2JhbChlbGVtZW50Q2xhc3NJZFNlbGVjdG9yKVxuY29uc3QgcHNldWRvRWxlbWVudCA9IDY7IC8vIDo6cHNldWRvRWxlbWVudCB7fVxuY29uc3QgYXR0clNlbGVjdG9yID0gNzsgLy8gW2F0dHJdIHt9XG5jb25zdCBpbmVydFBhcmVudGhlc2lzID0gODsgLy8gKGlnbm9yZWQpXG5jb25zdCBpbmVydEJsb2NrID0gOTsgLy8ge2lnbm9yZWR9XG5jb25zdCBhdFJ1bGVTZWxlY3RvciA9IDEwOyAvLyBAa2V5ZnJhbWUgZWxlbWVudENsYXNzSWRTZWxlY3RvciB7fVxuY29uc3QgYXRSdWxlQmxvY2sgPSAxMTsgLy8gQG1lZGlhIHtlbGVtZW50Q2xhc3NJZFNlbGVjdG9yIHt9fVxuY29uc3QgYXRSdWxlSW5lcnQgPSAxMjsgLy8gQGF0UnVsZSBzb21ldGhpbmc7XG5jb25zdCBib2R5ID0gMTM7IC8vIC5lbGVtZW50Q2xhc3NJZFNlbGVjdG9yIHtib2R5fVxuY29uc3Qgc3RyaW5nU2luZ2xlID0gMTQ7IC8vICd0ZXh0J1xuY29uc3Qgc3RyaW5nRG91YmxlID0gMTU7IC8vICd0ZXh0J1xuY29uc3QgY29tbWVudE11bHRpbGluZSA9IDE2OyAvLyAvKiAuLi4gKi9cbi8vIE5PVCBSRUFMIE1PREVTXG5jb25zdCBFWElUID0gMTc7IC8vIEV4aXQgdGhlIG1vZGVcbmNvbnN0IEVYSVRfSU5TRVJUX1NDT1BFID0gMTg7IC8vIEV4aXQgdGhlIG1vZGUgSU5TRVJUIFNDT1BFXG5cbmNvbnN0IEFOWSA9IDA7XG5jb25zdCBJREVOVCA9IDE7XG5jb25zdCBOT1RfSURFTlQgPSAyO1xuY29uc3QgV0hJVEVTUEFDRSA9IDM7XG5jb25zdCBUQUIgPSA5OyAvLyBgXFx0YC5jaGFyQ29kZUF0KDApO1xuY29uc3QgTkVXTElORSA9IDEwOyAvLyBgXFxuYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQ0FSUklBR0VfUkVUVVJOID0gMTM7IC8vIGBcXHJgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBTUEFDRSA9IDMyOyAvLyBgIGAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IERPVUJMRV9RVU9URSA9IDM0OyAvLyBgXCJgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBIQVNIID0gMzU7IC8vIGAjYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgU0lOR0xFX1FVT1RFID0gMzk7IC8vIGAnYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgT1BFTl9QQVJFTlRIRVNJUyA9IDQwOyAvLyBgKGAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IENMT1NFX1BBUkVOVEhFU0lTID0gNDE7IC8vIGApYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgU1RBUiA9IDQyOyAvLyBgKmAuY2hhckNvZGVBdCgwKTtcbi8vIGNvbnN0IENPTU1BID0gNDQ7IC8vIGAsYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgREFTSCA9IDQ1OyAvLyBgLWAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IERPVCA9IDQ2OyAvLyBgLmAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IEZPUldBUkRfU0xBU0ggPSA0NzsgLy8gYC9gLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBfMCA9IDQ4OyAvLyBgMGAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IF85ID0gNTc7IC8vIGA5YC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQ09MT04gPSA1ODsgLy8gYDpgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBTRU1JQ09MT04gPSA1OTsgLy8gYDtgLmNoYXJDb2RlQXQoMCk7XG4vLyBjb25zdCBMRVNTX1RIQU4gPSA2MDsgLy8gYDxgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBBVCA9IDY0OyAvLyBgQGAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IEEgPSA2NTsgLy8gYEFgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBaID0gOTA7IC8vIGBaYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgT1BFTl9CUkFDS0VUID0gOTE7IC8vIGBbYC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQ0xPU0VfQlJBQ0tFVCA9IDkzOyAvLyBgXWAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IEJBQ0tTTEFTSCA9IDkyOyAvLyBgXFxcXGAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IFVOREVSU0NPUkUgPSA5NTsgLy8gYF9gLmNoYXJDb2RlQXQoMCk7XG5jb25zdCBMT1dFUkNBU0UgPSAweDIwOyAvLyBgYWAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IGEgPSA5NzsgLy8gYGFgLmNoYXJDb2RlQXQoMCk7XG4vLyBjb25zdCBkID0gMTAwOyAvLyBgZGAuY2hhckNvZGVBdCgwKTtcbi8vIGNvbnN0IGcgPSAxMDM7IC8vICdnJy5jaGFyQ29kZUF0KDApO1xuLy8gY29uc3QgaCA9IDEwNDsgLy8gYGhgLmNoYXJDb2RlQXQoMCk7XG4vLyBjb25zdCBpID0gMTA1OyAvLyBgaWAuY2hhckNvZGVBdCgwKTtcbi8vIGNvbnN0IGwgPSAxMDg7IC8vIGBsYC5jaGFyQ29kZUF0KDApO1xuLy8gY29uc3QgdCA9IDExNjsgLy8gYHRgLmNoYXJDb2RlQXQoMCk7XG5jb25zdCB6ID0gMTIyOyAvLyBgemAuY2hhckNvZGVBdCgwKTtcbmNvbnN0IE9QRU5fQlJBQ0UgPSAxMjM7IC8vIGB7YC5jaGFyQ29kZUF0KDApO1xuY29uc3QgQ0xPU0VfQlJBQ0UgPSAxMjU7IC8vIGB9YC5jaGFyQ29kZUF0KDApO1xuXG50eXBlIFN0YXRlQXJjID0gW1xuICAvLy8gSWYgdGhlIGxhc3QgY2hhcmFjdGVyIGlzIHRoaXM6XG4gIG51bWJlcixcbiAgLy8vIElmIHRoZSBjdXJyZW50IGNoYXJhY3RlciBpcyB0aGlzOlxuICBudW1iZXIsXG4gIC8vLyBUaGVuIHRyYW5zaXRpb24gdG8gdGhpcyBzdGF0ZTpcbiAgbnVtYmVyLFxuICAvLy8gT3B0aW9uYWwgbG9vayBhaGVhZCBzdHJpbmdzXG4gIC4uLnN0cmluZ1tdXG5dO1xuXG5jb25zdCBTVFJJTkdTX0NPTU1FTlRTOiBTdGF0ZUFyY1tdID0gLypfX1BVUkVfXyovICgoKSA9PiBbXG4gIFtBTlksIFNJTkdMRV9RVU9URSwgc3RyaW5nU2luZ2xlXSxcbiAgW0FOWSwgRE9VQkxFX1FVT1RFLCBzdHJpbmdEb3VibGVdLFxuICBbQU5ZLCBGT1JXQVJEX1NMQVNILCBjb21tZW50TXVsdGlsaW5lLCAnKiddLFxuXSkoKTtcblxuY29uc3QgU1RBVEVfTUFDSElORTogU3RhdGVBcmNbXVtdID0gLypfX1BVUkVfXyovICgoKSA9PiBbXG4gIFtcbiAgICAvLy8gcnVsZVxuICAgIFtBTlksIFNUQVIsIHN0YXJTZWxlY3Rvcl0sXG4gICAgW0FOWSwgT1BFTl9CUkFDS0VULCBhdHRyU2VsZWN0b3JdLFxuICAgIFtBTlksIENPTE9OLCBwc2V1ZG9FbGVtZW50LCAnOiddLFxuICAgIFtBTlksIENPTE9OLCBwc2V1ZG9HbG9iYWwsICdnbG9iYWwnXSxcbiAgICBbXG4gICAgICBBTlksXG4gICAgICBDT0xPTixcbiAgICAgIHBzZXVkb0NsYXNzV2l0aFNlbGVjdG9yLFxuICAgICAgJ2hhcycsXG4gICAgICAnaG9zdC1jb250ZXh0JyxcbiAgICAgICdub3QnLFxuICAgICAgJ3doZXJlJyxcbiAgICAgICdpcycsXG4gICAgICAnbWF0Y2hlcycsXG4gICAgICAnYW55JyxcbiAgICBdLFxuICAgIFtBTlksIENPTE9OLCBwc2V1ZG9DbGFzc10sXG4gICAgW0FOWSwgSURFTlQsIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3JdLFxuICAgIFtBTlksIERPVCwgZWxlbWVudENsYXNzSWRTZWxlY3Rvcl0sXG4gICAgW0FOWSwgSEFTSCwgZWxlbWVudENsYXNzSWRTZWxlY3Rvcl0sXG4gICAgW0FOWSwgQVQsIGF0UnVsZVNlbGVjdG9yLCAna2V5ZnJhbWUnXSxcbiAgICBbQU5ZLCBBVCwgYXRSdWxlQmxvY2ssICdtZWRpYScsICdzdXBwb3J0cyddLFxuICAgIFtBTlksIEFULCBhdFJ1bGVJbmVydF0sXG4gICAgW0FOWSwgT1BFTl9CUkFDRSwgYm9keV0sXG4gICAgW0ZPUldBUkRfU0xBU0gsIFNUQVIsIGNvbW1lbnRNdWx0aWxpbmVdLFxuICAgIFtBTlksIFNFTUlDT0xPTiwgRVhJVF0sXG4gICAgW0FOWSwgQ0xPU0VfQlJBQ0UsIEVYSVRdLFxuICAgIFtBTlksIENMT1NFX1BBUkVOVEhFU0lTLCBFWElUXSxcbiAgICAuLi5TVFJJTkdTX0NPTU1FTlRTLFxuICBdLFxuICBbXG4gICAgLy8vIGVsZW1lbnRDbGFzc0lkU2VsZWN0b3JcbiAgICBbQU5ZLCBOT1RfSURFTlQsIEVYSVRfSU5TRVJUX1NDT1BFXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBzdGFyU2VsZWN0b3JcbiAgICBbQU5ZLCBOT1RfSURFTlQsIEVYSVRfSU5TRVJUX1NDT1BFXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBwc2V1ZG9DbGFzc1dpdGhTZWxlY3RvclxuICAgIFtBTlksIE9QRU5fUEFSRU5USEVTSVMsIHJ1bGVdLFxuICAgIFtBTlksIE5PVF9JREVOVCwgRVhJVF9JTlNFUlRfU0NPUEVdLFxuICBdLFxuICBbXG4gICAgLy8vIHBzZXVkb0NsYXNzXG4gICAgW0FOWSwgT1BFTl9QQVJFTlRIRVNJUywgaW5lcnRQYXJlbnRoZXNpc10sXG4gICAgW0FOWSwgTk9UX0lERU5ULCBFWElUX0lOU0VSVF9TQ09QRV0sXG4gIF0sXG4gIFtcbiAgICAvLy8gcHNldWRvR2xvYmFsXG4gICAgW0FOWSwgT1BFTl9QQVJFTlRIRVNJUywgcnVsZV0sXG4gICAgW0FOWSwgTk9UX0lERU5ULCBFWElUXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBwc2V1ZG9FbGVtZW50XG4gICAgW0FOWSwgTk9UX0lERU5ULCBFWElUXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBhdHRyU2VsZWN0b3JcbiAgICBbQU5ZLCBDTE9TRV9CUkFDS0VULCBFWElUX0lOU0VSVF9TQ09QRV0sXG4gICAgW0FOWSwgU0lOR0xFX1FVT1RFLCBzdHJpbmdTaW5nbGVdLFxuICAgIFtBTlksIERPVUJMRV9RVU9URSwgc3RyaW5nRG91YmxlXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBpbmVydFBhcmVudGhlc2lzXG4gICAgW0FOWSwgQ0xPU0VfUEFSRU5USEVTSVMsIEVYSVRdLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gaW5lcnRCbG9ja1xuICAgIFtBTlksIENMT1NFX0JSQUNFLCBFWElUXSxcbiAgICAuLi5TVFJJTkdTX0NPTU1FTlRTLFxuICBdLFxuICBbXG4gICAgLy8vIGF0UnVsZVNlbGVjdG9yXG4gICAgW0FOWSwgQ0xPU0VfQlJBQ0UsIEVYSVRdLFxuICAgIFtXSElURVNQQUNFLCBJREVOVCwgZWxlbWVudENsYXNzSWRTZWxlY3Rvcl0sXG4gICAgW0FOWSwgQ09MT04sIHBzZXVkb0dsb2JhbCwgJ2dsb2JhbCddLFxuICAgIFtBTlksIE9QRU5fQlJBQ0UsIGJvZHldLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gYXRSdWxlQmxvY2tcbiAgICBbQU5ZLCBPUEVOX0JSQUNFLCBydWxlXSxcbiAgICBbQU5ZLCBTRU1JQ09MT04sIEVYSVRdLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gYXRSdWxlSW5lcnRcbiAgICBbQU5ZLCBTRU1JQ09MT04sIEVYSVRdLFxuICAgIFtBTlksIE9QRU5fQlJBQ0UsIGluZXJ0QmxvY2tdLFxuICAgIC4uLlNUUklOR1NfQ09NTUVOVFMsXG4gIF0sXG4gIFtcbiAgICAvLy8gYm9keVxuICAgIFtBTlksIENMT1NFX0JSQUNFLCBFWElUXSxcbiAgICBbQU5ZLCBPUEVOX0JSQUNFLCBib2R5XSxcbiAgICBbQU5ZLCBPUEVOX1BBUkVOVEhFU0lTLCBpbmVydFBhcmVudGhlc2lzXSxcbiAgICAuLi5TVFJJTkdTX0NPTU1FTlRTLFxuICBdLFxuICBbXG4gICAgLy8vIHN0cmluZ1NpbmdsZVxuICAgIFtBTlksIFNJTkdMRV9RVU9URSwgRVhJVF0sXG4gIF0sXG4gIFtcbiAgICAvLy8gc3RyaW5nRG91YmxlXG4gICAgW0FOWSwgRE9VQkxFX1FVT1RFLCBFWElUXSxcbiAgXSxcbiAgW1xuICAgIC8vLyBjb21tZW50TXVsdGlsaW5lXG4gICAgW1NUQVIsIEZPUldBUkRfU0xBU0gsIEVYSVRdLFxuICBdLFxuXSkoKTtcbiJdfQ==","import { styleContent, styleKey } from '../component/qrl-styles';\nimport { implicit$FirstArg } from '../util/implicit_dollar';\nimport { scopeStylesheet } from '../style/scoped-stylesheet';\nimport { getContext } from '../props/props';\nimport { hasStyle } from '../render/execute-component';\nimport { useSequentialScope } from './use-sequential-scope';\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @see `useStylesScoped`\n *\n * @public\n */\n// </docs>\nexport const useStylesQrl = (styles) => {\n    _useStyles(styles, (str) => str, false);\n};\n// <docs markdown=\"../readme.md#useStyles\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStyles instead)\n/**\n * A lazy-loadable reference to a component's styles.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import styles from './code-block.css?inline';\n *\n * export const CmpStyles = component$(() => {\n *   useStyles$(styles);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @see `useStylesScoped`\n *\n * @public\n */\n// </docs>\nexport const useStyles$ = /*#__PURE__*/ implicit$FirstArg(useStylesQrl);\n// <docs markdown=\"../readme.md#useStylesScoped\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStylesScoped instead)\n/**\n * A lazy-loadable reference to a component's styles, that is scoped to the component.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import scoped from './code-block.css?inline';\n *\n * export const CmpScopedStyles = component$(() => {\n *   useStylesScoped$(scoped);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @see `useStyles`\n *\n * @alpha\n */\n// </docs>\nexport const useStylesScopedQrl = (styles) => {\n    _useStyles(styles, scopeStylesheet, true);\n};\n// <docs markdown=\"../readme.md#useStylesScoped\">\n// !!DO NOT EDIT THIS COMMENT DIRECTLY!!!\n// (edit ../readme.md#useStylesScoped instead)\n/**\n * A lazy-loadable reference to a component's styles, that is scoped to the component.\n *\n * Component styles allow Qwik to lazy load the style information for the component only when\n * needed. (And avoid double loading it in case of SSR hydration.)\n *\n * ```tsx\n * import scoped from './code-block.css?inline';\n *\n * export const CmpScopedStyles = component$(() => {\n *   useStylesScoped$(scoped);\n *\n *   return <div>Some text</div>;\n * });\n * ```\n *\n * @see `useStyles`\n *\n * @alpha\n */\n// </docs>\nexport const useStylesScoped$ = /*#__PURE__*/ implicit$FirstArg(useStylesScopedQrl);\nconst _useStyles = (styleQrl, transform, scoped) => {\n    const { get, set, ctx, i } = useSequentialScope();\n    if (get) {\n        return get;\n    }\n    const renderCtx = ctx.$renderCtx$;\n    const styleId = styleKey(styleQrl, i);\n    const hostElement = ctx.$hostElement$;\n    const containerState = renderCtx.$static$.$containerState$;\n    const elCtx = getContext(ctx.$hostElement$);\n    set(styleId);\n    if (!elCtx.$appendStyles$) {\n        elCtx.$appendStyles$ = [];\n    }\n    if (!elCtx.$scopeIds$) {\n        elCtx.$scopeIds$ = [];\n    }\n    if (scoped) {\n        elCtx.$scopeIds$.push(styleContent(styleId));\n    }\n    if (!hasStyle(containerState, styleId)) {\n        containerState.$styleIds$.add(styleId);\n        ctx.$waitOn$.push(styleQrl.resolve(hostElement).then((styleText) => {\n            elCtx.$appendStyles$.push({\n                styleId,\n                content: transform(styleText, styleId),\n            });\n        }));\n    }\n    return styleId;\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlLXN0eWxlcy5qcyIsInNvdXJjZVJvb3QiOiIuLyIsInNvdXJjZXMiOlsicGFja2FnZXMvcXdpay9zcmMvY29yZS91c2UvdXNlLXN0eWxlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBRWpFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzVELE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUM3RCxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDNUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHdCQUF3QixDQUFDO0FBRTVELDJDQUEyQztBQUMzQyx5Q0FBeUM7QUFDekMsd0NBQXdDO0FBQ3hDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBbUJHO0FBQ0gsVUFBVTtBQUNWLE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxDQUFDLE1BQW1CLEVBQVEsRUFBRTtJQUN4RCxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDMUMsQ0FBQyxDQUFDO0FBRUYsMkNBQTJDO0FBQzNDLHlDQUF5QztBQUN6Qyx3Q0FBd0M7QUFDeEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FtQkc7QUFDSCxVQUFVO0FBQ1YsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUV4RSxpREFBaUQ7QUFDakQseUNBQXlDO0FBQ3pDLDhDQUE4QztBQUM5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBRyxDQUFDLE1BQW1CLEVBQVEsRUFBRTtJQUM5RCxVQUFVLENBQUMsTUFBTSxFQUFFLGVBQWUsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM1QyxDQUFDLENBQUM7QUFFRixpREFBaUQ7QUFDakQseUNBQXlDO0FBQ3pDLDhDQUE4QztBQUM5Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CRztBQUNILFVBQVU7QUFDVixNQUFNLENBQUMsTUFBTSxnQkFBZ0IsR0FBRyxhQUFhLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztBQUVwRixNQUFNLFVBQVUsR0FBRyxDQUNqQixRQUFxQixFQUNyQixTQUFtRCxFQUNuRCxNQUFlLEVBQ1AsRUFBRTtJQUNWLE1BQU0sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxrQkFBa0IsRUFBVSxDQUFDO0lBQzFELElBQUksR0FBRyxFQUFFO1FBQ1AsT0FBTyxHQUFHLENBQUM7S0FDWjtJQUNELE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQyxXQUFXLENBQUM7SUFDbEMsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0QyxNQUFNLFdBQVcsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO0lBQ3RDLE1BQU0sY0FBYyxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUM7SUFDM0QsTUFBTSxLQUFLLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUM1QyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFYixJQUFJLENBQUMsS0FBSyxDQUFDLGNBQWMsRUFBRTtRQUN6QixLQUFLLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztLQUMzQjtJQUNELElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFO1FBQ3JCLEtBQUssQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO0tBQ3ZCO0lBQ0QsSUFBSSxNQUFNLEVBQUU7UUFDVixLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztLQUM5QztJQUNELElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLE9BQU8sQ0FBQyxFQUFFO1FBQ3RDLGNBQWMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUNmLFFBQVEsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFLEVBQUU7WUFDL0MsS0FBSyxDQUFDLGNBQWUsQ0FBQyxJQUFJLENBQUM7Z0JBQ3pCLE9BQU87Z0JBQ1AsT0FBTyxFQUFFLFNBQVMsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDO2FBQ3ZDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUNILENBQUM7S0FDSDtJQUNELE9BQU8sT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0eWxlQ29udGVudCwgc3R5bGVLZXkgfSBmcm9tICcuLi9jb21wb25lbnQvcXJsLXN0eWxlcyc7XG5pbXBvcnQgdHlwZSB7IFFSTCB9IGZyb20gJy4uL2ltcG9ydC9xcmwucHVibGljJztcbmltcG9ydCB7IGltcGxpY2l0JEZpcnN0QXJnIH0gZnJvbSAnLi4vdXRpbC9pbXBsaWNpdF9kb2xsYXInO1xuaW1wb3J0IHsgc2NvcGVTdHlsZXNoZWV0IH0gZnJvbSAnLi4vc3R5bGUvc2NvcGVkLXN0eWxlc2hlZXQnO1xuaW1wb3J0IHsgZ2V0Q29udGV4dCB9IGZyb20gJy4uL3Byb3BzL3Byb3BzJztcbmltcG9ydCB7IGhhc1N0eWxlIH0gZnJvbSAnLi4vcmVuZGVyL2V4ZWN1dGUtY29tcG9uZW50JztcbmltcG9ydCB7IHVzZVNlcXVlbnRpYWxTY29wZSB9IGZyb20gJy4vdXNlLXNlcXVlbnRpYWwtc2NvcGUnO1xuXG4vLyA8ZG9jcyBtYXJrZG93bj1cIi4uL3JlYWRtZS5tZCN1c2VTdHlsZXNcIj5cbi8vICEhRE8gTk9UIEVESVQgVEhJUyBDT01NRU5UIERJUkVDVExZISEhXG4vLyAoZWRpdCAuLi9yZWFkbWUubWQjdXNlU3R5bGVzIGluc3RlYWQpXG4vKipcbiAqIEEgbGF6eS1sb2FkYWJsZSByZWZlcmVuY2UgdG8gYSBjb21wb25lbnQncyBzdHlsZXMuXG4gKlxuICogQ29tcG9uZW50IHN0eWxlcyBhbGxvdyBRd2lrIHRvIGxhenkgbG9hZCB0aGUgc3R5bGUgaW5mb3JtYXRpb24gZm9yIHRoZSBjb21wb25lbnQgb25seSB3aGVuXG4gKiBuZWVkZWQuIChBbmQgYXZvaWQgZG91YmxlIGxvYWRpbmcgaXQgaW4gY2FzZSBvZiBTU1IgaHlkcmF0aW9uLilcbiAqXG4gKiBgYGB0c3hcbiAqIGltcG9ydCBzdHlsZXMgZnJvbSAnLi9jb2RlLWJsb2NrLmNzcz9pbmxpbmUnO1xuICpcbiAqIGV4cG9ydCBjb25zdCBDbXBTdHlsZXMgPSBjb21wb25lbnQkKCgpID0+IHtcbiAqICAgdXNlU3R5bGVzJChzdHlsZXMpO1xuICpcbiAqICAgcmV0dXJuIDxkaXY+U29tZSB0ZXh0PC9kaXY+O1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGB1c2VTdHlsZXNTY29wZWRgXG4gKlxuICogQHB1YmxpY1xuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU3R5bGVzUXJsID0gKHN0eWxlczogUVJMPHN0cmluZz4pOiB2b2lkID0+IHtcbiAgX3VzZVN0eWxlcyhzdHlsZXMsIChzdHIpID0+IHN0ciwgZmFsc2UpO1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3R5bGVzXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0eWxlcyBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3Mgc3R5bGVzLlxuICpcbiAqIENvbXBvbmVudCBzdHlsZXMgYWxsb3cgUXdpayB0byBsYXp5IGxvYWQgdGhlIHN0eWxlIGluZm9ybWF0aW9uIGZvciB0aGUgY29tcG9uZW50IG9ubHkgd2hlblxuICogbmVlZGVkLiAoQW5kIGF2b2lkIGRvdWJsZSBsb2FkaW5nIGl0IGluIGNhc2Ugb2YgU1NSIGh5ZHJhdGlvbi4pXG4gKlxuICogYGBgdHN4XG4gKiBpbXBvcnQgc3R5bGVzIGZyb20gJy4vY29kZS1ibG9jay5jc3M/aW5saW5lJztcbiAqXG4gKiBleHBvcnQgY29uc3QgQ21wU3R5bGVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVN0eWxlcyQoc3R5bGVzKTtcbiAqXG4gKiAgIHJldHVybiA8ZGl2PlNvbWUgdGV4dDwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU3R5bGVzU2NvcGVkYFxuICpcbiAqIEBwdWJsaWNcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlcyQgPSAvKiNfX1BVUkVfXyovIGltcGxpY2l0JEZpcnN0QXJnKHVzZVN0eWxlc1FybCk7XG5cbi8vIDxkb2NzIG1hcmtkb3duPVwiLi4vcmVhZG1lLm1kI3VzZVN0eWxlc1Njb3BlZFwiPlxuLy8gISFETyBOT1QgRURJVCBUSElTIENPTU1FTlQgRElSRUNUTFkhISFcbi8vIChlZGl0IC4uL3JlYWRtZS5tZCN1c2VTdHlsZXNTY29wZWQgaW5zdGVhZClcbi8qKlxuICogQSBsYXp5LWxvYWRhYmxlIHJlZmVyZW5jZSB0byBhIGNvbXBvbmVudCdzIHN0eWxlcywgdGhhdCBpcyBzY29wZWQgdG8gdGhlIGNvbXBvbmVudC5cbiAqXG4gKiBDb21wb25lbnQgc3R5bGVzIGFsbG93IFF3aWsgdG8gbGF6eSBsb2FkIHRoZSBzdHlsZSBpbmZvcm1hdGlvbiBmb3IgdGhlIGNvbXBvbmVudCBvbmx5IHdoZW5cbiAqIG5lZWRlZC4gKEFuZCBhdm9pZCBkb3VibGUgbG9hZGluZyBpdCBpbiBjYXNlIG9mIFNTUiBoeWRyYXRpb24uKVxuICpcbiAqIGBgYHRzeFxuICogaW1wb3J0IHNjb3BlZCBmcm9tICcuL2NvZGUtYmxvY2suY3NzP2lubGluZSc7XG4gKlxuICogZXhwb3J0IGNvbnN0IENtcFNjb3BlZFN0eWxlcyA9IGNvbXBvbmVudCQoKCkgPT4ge1xuICogICB1c2VTdHlsZXNTY29wZWQkKHNjb3BlZCk7XG4gKlxuICogICByZXR1cm4gPGRpdj5Tb21lIHRleHQ8L2Rpdj47XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgYHVzZVN0eWxlc2BcbiAqXG4gKiBAYWxwaGFcbiAqL1xuLy8gPC9kb2NzPlxuZXhwb3J0IGNvbnN0IHVzZVN0eWxlc1Njb3BlZFFybCA9IChzdHlsZXM6IFFSTDxzdHJpbmc+KTogdm9pZCA9PiB7XG4gIF91c2VTdHlsZXMoc3R5bGVzLCBzY29wZVN0eWxlc2hlZXQsIHRydWUpO1xufTtcblxuLy8gPGRvY3MgbWFya2Rvd249XCIuLi9yZWFkbWUubWQjdXNlU3R5bGVzU2NvcGVkXCI+XG4vLyAhIURPIE5PVCBFRElUIFRISVMgQ09NTUVOVCBESVJFQ1RMWSEhIVxuLy8gKGVkaXQgLi4vcmVhZG1lLm1kI3VzZVN0eWxlc1Njb3BlZCBpbnN0ZWFkKVxuLyoqXG4gKiBBIGxhenktbG9hZGFibGUgcmVmZXJlbmNlIHRvIGEgY29tcG9uZW50J3Mgc3R5bGVzLCB0aGF0IGlzIHNjb3BlZCB0byB0aGUgY29tcG9uZW50LlxuICpcbiAqIENvbXBvbmVudCBzdHlsZXMgYWxsb3cgUXdpayB0byBsYXp5IGxvYWQgdGhlIHN0eWxlIGluZm9ybWF0aW9uIGZvciB0aGUgY29tcG9uZW50IG9ubHkgd2hlblxuICogbmVlZGVkLiAoQW5kIGF2b2lkIGRvdWJsZSBsb2FkaW5nIGl0IGluIGNhc2Ugb2YgU1NSIGh5ZHJhdGlvbi4pXG4gKlxuICogYGBgdHN4XG4gKiBpbXBvcnQgc2NvcGVkIGZyb20gJy4vY29kZS1ibG9jay5jc3M/aW5saW5lJztcbiAqXG4gKiBleHBvcnQgY29uc3QgQ21wU2NvcGVkU3R5bGVzID0gY29tcG9uZW50JCgoKSA9PiB7XG4gKiAgIHVzZVN0eWxlc1Njb3BlZCQoc2NvcGVkKTtcbiAqXG4gKiAgIHJldHVybiA8ZGl2PlNvbWUgdGV4dDwvZGl2PjtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBgdXNlU3R5bGVzYFxuICpcbiAqIEBhbHBoYVxuICovXG4vLyA8L2RvY3M+XG5leHBvcnQgY29uc3QgdXNlU3R5bGVzU2NvcGVkJCA9IC8qI19fUFVSRV9fKi8gaW1wbGljaXQkRmlyc3RBcmcodXNlU3R5bGVzU2NvcGVkUXJsKTtcblxuY29uc3QgX3VzZVN0eWxlcyA9IChcbiAgc3R5bGVRcmw6IFFSTDxzdHJpbmc+LFxuICB0cmFuc2Zvcm06IChzdHI6IHN0cmluZywgc3R5bGVJZDogc3RyaW5nKSA9PiBzdHJpbmcsXG4gIHNjb3BlZDogYm9vbGVhblxuKTogc3RyaW5nID0+IHtcbiAgY29uc3QgeyBnZXQsIHNldCwgY3R4LCBpIH0gPSB1c2VTZXF1ZW50aWFsU2NvcGU8c3RyaW5nPigpO1xuICBpZiAoZ2V0KSB7XG4gICAgcmV0dXJuIGdldDtcbiAgfVxuICBjb25zdCByZW5kZXJDdHggPSBjdHguJHJlbmRlckN0eCQ7XG4gIGNvbnN0IHN0eWxlSWQgPSBzdHlsZUtleShzdHlsZVFybCwgaSk7XG4gIGNvbnN0IGhvc3RFbGVtZW50ID0gY3R4LiRob3N0RWxlbWVudCQ7XG4gIGNvbnN0IGNvbnRhaW5lclN0YXRlID0gcmVuZGVyQ3R4LiRzdGF0aWMkLiRjb250YWluZXJTdGF0ZSQ7XG4gIGNvbnN0IGVsQ3R4ID0gZ2V0Q29udGV4dChjdHguJGhvc3RFbGVtZW50JCk7XG4gIHNldChzdHlsZUlkKTtcblxuICBpZiAoIWVsQ3R4LiRhcHBlbmRTdHlsZXMkKSB7XG4gICAgZWxDdHguJGFwcGVuZFN0eWxlcyQgPSBbXTtcbiAgfVxuICBpZiAoIWVsQ3R4LiRzY29wZUlkcyQpIHtcbiAgICBlbEN0eC4kc2NvcGVJZHMkID0gW107XG4gIH1cbiAgaWYgKHNjb3BlZCkge1xuICAgIGVsQ3R4LiRzY29wZUlkcyQucHVzaChzdHlsZUNvbnRlbnQoc3R5bGVJZCkpO1xuICB9XG4gIGlmICghaGFzU3R5bGUoY29udGFpbmVyU3RhdGUsIHN0eWxlSWQpKSB7XG4gICAgY29udGFpbmVyU3RhdGUuJHN0eWxlSWRzJC5hZGQoc3R5bGVJZCk7XG4gICAgY3R4LiR3YWl0T24kLnB1c2goXG4gICAgICBzdHlsZVFybC5yZXNvbHZlKGhvc3RFbGVtZW50KS50aGVuKChzdHlsZVRleHQpID0+IHtcbiAgICAgICAgZWxDdHguJGFwcGVuZFN0eWxlcyQhLnB1c2goe1xuICAgICAgICAgIHN0eWxlSWQsXG4gICAgICAgICAgY29udGVudDogdHJhbnNmb3JtKHN0eWxlVGV4dCwgc3R5bGVJZCksXG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICApO1xuICB9XG4gIHJldHVybiBzdHlsZUlkO1xufTtcbiJdfQ=="],"names":["isElement","isNode","setProperty","escape","SHOW_COMMENT","FILTER_ACCEPT","FILTER_REJECT","processData","IS_HEAD","updateProperties","renderRoot"],"mappings":"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,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,iBAAiB,GAAG,CAAC,QAAQ,KAAK;AAC/C,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,kBAAkB,EAAE,CAAC;AACnD,IAAI,IAAI,GAAG,EAAE;AACb,QAAQ,OAAO;AACf,KAAK;AACL,IAAI,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE;AACvB,QAAQ,UAAU,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;AAClC,QAAQ,GAAG,CAAC,IAAI,CAAC,CAAC;AAClB,KAAK;AACL,SAAS;AACT,QAAQ,MAAM,MAAM,CAAC,gCAAgC,EAAE,GAAG,CAAC,aAAa,CAAC,CAAC;AAC1E,KAAK;AACL,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,eAAe,iBAAiB,iBAAiB,CAAC,iBAAiB,EAAE;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,WAAW,GAAG,CAAC,QAAQ,KAAK;AACzC,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,kBAAkB,EAAE,CAAC;AACnD,IAAI,IAAI,GAAG,EAAE;AACb,QAAQ,OAAO;AACf,KAAK;AACL,IAAI,SAAS,CAAC,QAAQ,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K,CAAC,MAAM,GAAG,CAAC,CAAC;AAChC,KAAK;AACL,IAAI,OAAO,KAAK,CAAC;AACjB,CAAC;;AC3LD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,CAAC,GAAG,CAAC,UAAU,KAAK;AACjC,IAAI,OAAO,UAAU,CAAC,UAAU,CAAC,CAAC;AAClC;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,YAAY,GAAG,CAAC,WAAW,KAAK;AAC7C;AACA,IAAI,SAAS,aAAa,CAAC,KAAK,EAAE,GAAG,EAAE;AACvC,QAAQ,SAAS,CAAC,WAAW,CAAC,CAAC;AAC/B,QAAQ,MAAM,IAAI,GAAG,KAAK,GAAG,IAAI,GAAG,WAAW,CAAC,MAAM,CAAC;AACvD,QAAQ,MAAM,QAAQ,GAAG,IAAI,GAAG,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;AACvD,QAAQ,OAAO,GAAG,CAAC,OAAO,EAAE,EAAE,CAAC,YAAY,GAAG,WAAW,EAAE,GAAG,KAAK,EAAE,EAAE,QAAQ,CAAC,CAAC;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CA;AACA;AACY,MAAC,MAAM,GAAG,CAAC,OAAO,KAAK;AACnC,IAAI,OAAO,QAAQ,CAAC,EAAE,OAAO,EAAE,CAAC,CAAC;AACjC;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,aAAa,GAAG,CAAC,IAAI,KAAK;AACvC,IAAI,OAAO,MAAM,CAAC,MAAM,CAAC;AACzB,QAAQ,EAAE,EAAE,oBAAoB,CAAC,IAAI,CAAC;AACtC,KAAK,CAAC,CAAC;AACP,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACY,MAAC,kBAAkB,GAAG,CAAC,OAAO,EAAE,QAAQ,KAAK;AACzD,IAAI,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,kBAAkB,EAAE,CAAC;AACnD,IAAI,IAAI,GAAG,EAAE;AACb,QAAQ,OAAO;AACf,KAAK;AACL,IAAI,IAAI,IAAI,EAAE;AACd,QAAQ,eAAe,CAAC,OAAO,CAAC,CAAC;AACjC,KAAK;AACL,IAAI,MAAM,WAAW,GAAG,GAAG,CAAC,aAAa,CAAC;AAC1C,IAAI,MAAM,OAAO,GAAG,UAAU,CAAC,WAAW,CAAC,CAAC;AAC5C,IAAI,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC;AACtC,IAAI,IAAI,CAAC,QAAQ,EAAE;AACnB,QA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"}